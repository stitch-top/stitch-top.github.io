

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/logo.png">
  <link rel="icon" href="/img/logo.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Dr.626">
  <meta name="keywords" content="">
  
    <meta name="description" content="Fiddler是一个HTTP的调试代理工具，以代理服务器的方式，监听系统的HTTP网络数据流动，还能设置断点，用于抓包。">
<meta property="og:type" content="article">
<meta property="og:title" content="Fiddler 面板">
<meta property="og:url" content="https://stitch-top.github.io/2022/03/02/ce-shi-gong-ju/tt02-fiddler/tt01-fiddler-mian-ban/index.html">
<meta property="og:site_name" content="Dr.626">
<meta property="og:description" content="Fiddler是一个HTTP的调试代理工具，以代理服务器的方式，监听系统的HTTP网络数据流动，还能设置断点，用于抓包。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://stitch-top.github.io/img/ThemeMap/1675421003.jpg">
<meta property="article:published_time" content="2022-03-02T14:37:55.000Z">
<meta property="article:modified_time" content="2024-07-19T09:19:24.995Z">
<meta property="article:author" content="Dr.626">
<meta property="article:tag" content="抓包">
<meta property="article:tag" content="面板">
<meta property="article:tag" content="插件">
<meta property="article:tag" content="命令输入">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://stitch-top.github.io/img/ThemeMap/1675421003.jpg">
  
  
  
  <title>Fiddler 面板 - Dr.626</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  



  
<link rel="stylesheet" href="/css/my.css">



  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"stitch-top.github.io","root":"/","version":"1.9.0","typing":{"enable":true,"typeSpeed":70,"cursorChar":"|","loop":true,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":"✍"},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"left","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":1},"lazyload":{"enable":true,"loading_img":"/img/load.gif","onlypost":true,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":false,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":"Jg3BjUa3RtnEFSREy3wsmUR5-MdYXbMMI","app_key":"DwsEb5BeMxwdz0CEJ6MUBdu3","server_url":null,"path":"window.location.pathname","ignore_local":true}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>

  
  
<meta name="generator" content="Hexo 6.2.0"></head>


<body>
  
  

  <header>
    

<div class="header-inner" style="height: 100vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Dr.626</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/">
                <i class="iconfont icon-link-fill"></i>
                友链
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" target="_self" href="javascript:;" role="button"
                 data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="iconfont icon-code"></i>
                实验室
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                
                  
                  
                  
                  <a class="dropdown-item" href="/tagsnet">
                    <i class="iconfont icon-bookmark"></i>
                    文章关系网
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="/laboratory/plugin">
                    <i class="iconfont icon-bug"></i>
                    Hexo小组件
                  </a>
                
              </div>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/back-1.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="Fiddler 面板"></span>
          
        </div>

        
          
  <div class="mt-3">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-author" aria-hidden="true"></i>
        Dr.626
      </span>
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2022-03-02 22:37" pubdate>
          2022年3月2日 22:37:55
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          34k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          281 分钟
        
      </span>
    

    
    
      
        <span id="leancloud-page-views-container" class="post-meta" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="leancloud-page-views"></span> 次
        </span>
        
      
    
  </div>


        
      </div>

      
        <div class="scroll-down-bar">
          <i class="iconfont icon-arrowdown"></i>
        </div>
      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
  
  <!-- 动态线条背景
  <script type="text/javascript"
  color="0 0 255" opacity='1' zIndex="-2" count="200" src="../js/canvas-nest.js">
  </script> -->
  
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="padding-left: 2rem; margin-right: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">Fiddler 面板</h1>
            
            <div class="markdown-body">
              
              <p>Fiddler是一个HTTP的调试代理工具，以代理服务器的方式，监听系统的HTTP网络数据流动，还能设置断点，用于抓包。</p>
<span id="more"></span>



<h1 id="1-Fiddler"><a href="#1-Fiddler" class="headerlink" title="1 Fiddler"></a>1 Fiddler</h1><ul>
<li>Fiddler<ul>
<li>官网地址：<a target="_blank" rel="noopener" href="https://www.telerik.com/fiddler">https://www.telerik.com/fiddler</a>。</li>
<li>免费版本：<a target="_blank" rel="noopener" href="https://blog.csdn.net/g_optimistic/article/details/89931109">https://blog.csdn.net/g_optimistic&#x2F;article&#x2F;details&#x2F;89931109</a>。</li>
<li>主要特征<ul>
<li>系统流量捕获、预配置浏览器捕获、流量分析、现代HTTP版本支持、模拟请求和响应。</li>
<li>API编写、安全协作、跨平台支持、样式选项(提供现代、直观的UI和一组流行的主题)。</li>
</ul>
</li>
<li>主页说明<ul>
<li>菜单栏：File、Edit、Rules、Tools、View、Help。</li>
<li>工具面板：WinConfig、Replay、Go、Stream、Decode、Find、Save、Browse、Clear Cache等快捷按钮。</li>
<li>会话面板：展示捕获到的所有会话，其中包括了sessions的状态码、协议Protocol、Host主机、URL地址等。</li>
<li>监控面板：提供Statistics、Inspectors、AutoResponder等多个选项卡，通过不同的选项卡操作捕获的会话。</li>
<li>状态面板：Capturing(启用禁用抓包)、All Processes(当前正在捕获的进程)、Number of sessions(会话数)等。</li>
<li>命令输入栏：可以结合正则表达式，输入一些命令快速过滤会话列表。</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="/../img/Fiddler/Fiddler@001.png" srcset="/img/load.gif" lazyload alt="Fiddler-主页说明"></p>
<h2 id="1-1-工作原理"><a href="#1-1-工作原理" class="headerlink" title="1-1 工作原理"></a>1-1 工作原理</h2><ul>
<li>工作原理<ul>
<li>Fiddler本质上是一个Web代理服务器，默认的工作端口是8888，查看方式如下。</li>
<li>菜单栏-&gt;Tools-&gt;Options-&gt;Connections-&gt;Fiddler listens on port-&gt;8888。</li>
<li>Web代理服务器(Proxy Server)是网络的中间实体，位于Web客户端和Web服务器之间，扮演中间人的角色。</li>
<li>HTTP的代理服务器即可作为Web服务器为客户端提供服务，又可作为Web客户端，向其他服务器请求数据。</li>
<li>代理服务器的作用：共享网络、提高访问速度(有缓存功能)、突破访问限制、隐藏身份。</li>
<li>打开Fiddler后，会自动设置代理，关闭则自动注销代理，这样就不会影响到其他程序的运行了。</li>
<li>非正常退出时不会自动注销代理，容易造成网页无法访问的情况，可通过重启Fiddler解决问题。</li>
<li>抓包原理<ul>
<li>类似于快递代收点，快递员将快递放到代收点。</li>
<li>如果快递没有使用胶带等封口，那么代收点可以任意查看、替换快递中的物品，类似于HTTP。</li>
<li>如果快递使用胶带等封了口，那么代收点就不能随意查看、替换快递中的物品，类似于HTTPS。</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="/../img/Fiddler/Fiddler@002.png" srcset="/img/load.gif" lazyload alt="Fiddler-工作原理-默认端口"></p>
<h2 id="1-2-快速抓包"><a href="#1-2-快速抓包" class="headerlink" title="1-2 快速抓包"></a>1-2 快速抓包</h2><ul>
<li>快速抓包<ul>
<li>若Fiddler没有抓到想要的包，逐一排查以下内容。</li>
<li>检查是否开启抓包模式，主页左下角是否有Capturing图标，有则处于抓包中，没有则点击一下开启抓包。</li>
<li>检查访问本地搭建的静态网站地址，是否使用了回路地址localhost或127.0.0.1，如果是则不能成功抓包。<ul>
<li>控制面板-&gt;Internet选项-&gt;连接-&gt;局域网设置-&gt;代理服务器的高级-&gt;例外默认设为<code>&lt;-loopback&gt;</code>。</li>
<li>说明在默认的代理设置中，回路地址localhost或127.0.0.1被排除了。</li>
<li>但若搭建的静态网站指定了端口，Fiddler的默认设置中可能并未排除指定端口的流量，因此可正常抓包。</li>
</ul>
</li>
<li>如果还是不能正常抓包，更换不同的浏览器试下。</li>
</ul>
</li>
</ul>
<p><img src="/../img/Fiddler/Fiddler@003.png" srcset="/img/load.gif" lazyload alt="Fiddler-快速抓包"></p>
<h2 id="1-3-HTTP协议"><a href="#1-3-HTTP协议" class="headerlink" title="1-3 HTTP协议"></a>1-3 HTTP协议</h2><ul>
<li>HTTP协议<ul>
<li>超文本传输协议，Hyper Text Transfer Protocol，一个简单的请求响应协议，基于TCP&#x2F;IP协议栈的应用层协议。</li>
<li>发展历史：0.9版本(交换信息的无序协议)-&gt;1.0版本(1982年)-&gt;1.1版本(规定了连接方式和类型)-&gt;2.0版本。</li>
</ul>
</li>
</ul>
<h3 id="1-请求报文"><a href="#1-请求报文" class="headerlink" title="(1) 请求报文"></a>(1) 请求报文</h3><ul>
<li>HTTP的请求报文是指从客户端发送给服务器的报文。</li>
<li>组成<ul>
<li>请求行：请求方法 + 空格 + 请求URL + 空格 + HTTP协议版本。<ul>
<li>请求方法：提供多种方法(GET、POST、PUT、DELETE、HEAD、OPTIONS、TRACE、CONNECT等)。</li>
<li>请求URL：用来告知服务器需要获取的资源，例如“<a target="_blank" rel="noopener" href="http://detectportal.firefox.com/canonical.html">http://detectportal.firefox.com/canonical.html</a>”。</li>
<li>HTTP协议版本：用来告知服务器，采用的HTTP协议版本，例如“HTTP&#x2F;1.1”。</li>
</ul>
</li>
<li>请求头：用于与服务器进行通信、协商，格式为<code>key: value</code>。<ul>
<li>Accept：请求头指定客户端可以接收到的消息内容，例如<code>Accept: text/plain</code>。</li>
<li>Accept-Language：请求头浏览器可接受语言，例如<code>Accept-Language: en, zh</code>。</li>
<li>User-Agent：用来标识发起请求的客户端(浏览器、应用程序、爬虫等)身份信息。</li>
<li>Content-Type：媒体类型，即数据格式，常见application&#x2F;json、multipart&#x2F;form-data等。</li>
<li>Accept-Charset：请求头指定浏览器可接受的字符编码，例如<code>Accept-Charset: utf-8</code>。</li>
</ul>
</li>
<li>空行：请求头的最后一行，表示请求头结束，接下来为请求数据。</li>
<li>请求体：GET和DELETE方法没有请求体，POST和PUT方法有请求体，数据受Content-Type值的影响。</li>
</ul>
</li>
</ul>
<p><img src="/../img/Fiddler/Fiddler@004.png" srcset="/img/load.gif" lazyload alt="Fiddler-HTTP协议-请求报文"></p>
<h3 id="2-响应报文"><a href="#2-响应报文" class="headerlink" title="(2) 响应报文"></a>(2) 响应报文</h3><ul>
<li>HTTP的响应报文是指客户端发起HTTP请求后，服务器响应给客户端的报文。</li>
<li>组成<ul>
<li>状态行：响应行，HTTP协议版本 + 空格 + 状态码 + 空格 + 状态码描述。<ul>
<li>HTTP协议版本：必须与请求报文的协议版本保持一致。</li>
<li>状态码：HTTP Status Code，用以表示网页服务器超文本传输协议响应状态的3位数字代码。<ul>
<li>1XX：信息，服务器收到请求，需请求者继续执行操作。</li>
<li>2XX：成功，操作被成功接收并处理，例如状态码200。</li>
<li>3XX：重定向，需进一步的操作以完成请求，例如304。</li>
<li>4XX：客户端错误，请求包含语法错误或无法完成请求。</li>
<li>5XX：服务器错误，服务器在处理请求过程中发生错误。</li>
</ul>
</li>
<li>状态码描述：200 OK、301 Moved Permanently、302 Found、502 DNS Lookup Failed等。</li>
</ul>
</li>
<li>响应头：在HTTP响应消息中发送的HTTP头字段，包括服务器信息、响应时间等，类似于请求头。</li>
<li>空行：响应头的最后一行，表示响应头结束，接下来为响应数据，与请求报文一致。</li>
<li>响应体：响应数据或响应正文，用于存放需要返回给客户端的数据信息，同请求体。</li>
</ul>
</li>
</ul>
<p><img src="/../img/Fiddler/Fiddler@005.png" srcset="/img/load.gif" lazyload alt="Fiddler-HTTP协议-响应报文"></p>
<h3 id="3-URL组成"><a href="#3-URL组成" class="headerlink" title="(3) URL组成"></a>(3) URL组成</h3><ul>
<li>URL举例：<u>https</u>:&#x2F;&#x2F;<u>kaifa.baidu.com</u>&#x2F;<u>searchPage</u>?<u>wd&#x3D;fiddler&amp;hmsr&#x3D;aladdin</u>。</li>
<li>协议：协议类型，常见的有HTTP、HTTPS、FTP、SFTP、SMTP、POP3等，这里是HTTPS，与IP地址用<code>://</code>分隔。</li>
<li>IP地址：要访问的Web服务器的IP地址或主机名称，这里是kaifa.baidu.com，与端口号用<code>:</code>分隔，例如<a href="127.0.0.1:99">127.0.0.1:99</a>。</li>
<li>端口号：标识Web服务器正在监听的端口号，HTTP默认80，HTTPS默认443，这里默认443，与资源路径用<code>/</code>分隔。</li>
<li>资源路径：指定想要访问的资源具体路径，例如IMAGE、CSS、JS等资源，这里是searchPage，与查询参数用<code>?</code>分隔。</li>
<li>查询参数：向Web服务器发送额外的参数信息，键值对组成，这里是wd&#x3D;fiddler&amp;hmsr&#x3D;aladdin，参数之间用<code>&amp;</code>分隔。</li>
</ul>
<h1 id="2-工具面板"><a href="#2-工具面板" class="headerlink" title="2 工具面板"></a>2 工具面板</h1><ul>
<li>工具面板<ul>
<li>WinConfig、添加注释Comment、数据重放Replay、删除会话Remove、恢复断点执行Go、流模式Stream。</li>
<li>解码Decode、保留会话Keep、任意进程Any Process、快速查找Find、保存请求Save、倒计截图Screenshot。</li>
<li>计时器Timer、浏览器Browse、清除缓存Clear Cache、编解码TextWizard、窗口浮动Tearoff、在线Online。</li>
</ul>
</li>
</ul>
<p><img src="/../img/Fiddler/TPicon/TPicon@001.png" srcset="/img/load.gif" lazyload alt="工具面板"></p>
<h2 id="2-1-常用工具"><a href="#2-1-常用工具" class="headerlink" title="2-1 常用工具"></a>2-1 常用工具</h2><ul>
<li>常用工具<ul>
<li>WinConfig：点击<img src="/../img/Fiddler/TPicon/TPicon@002.png" srcset="/img/load.gif" lazyload alt="工具面板-WinConfig">，打开AppContainer Loopback Exemption Utility弹窗。</li>
<li>显示Windows内置运行的一些应用，默认情况下Fiddler无法抓取到这些内置应用的HTTP通讯包。</li>
<li>通过勾选弹窗对应的内置应用，点击Save Changes按钮，可以解除这些内置应用不能抓包的限制。</li>
<li>快捷键<code>Ctrl + WinConfig</code>可解除所有应用的限制，Exempt All为全选，Exempt None则是全取消。</li>
</ul>
</li>
</ul>
<p><img src="/../img/Fiddler/Fiddler@006.png" srcset="/img/load.gif" lazyload alt="工具面板-WinConfig"></p>
<h3 id="1-Comment"><a href="#1-Comment" class="headerlink" title="(1) Comment"></a>(1) Comment</h3><ul>
<li>测试人员在使用Fiddler测试API接口时，可以通过Comment注释功能直接将存在问题的请求添加注释。</li>
<li>当所有接口都测试完成后，将当前所有的session保存为一个*.saz文件，方便发送给开发人员排查问题。</li>
<li>选中存在问题的session会话，点击<img src="/../img/Fiddler/TPicon/TPicon@003.png" srcset="/img/load.gif" lazyload alt="工具面板-Comment">，填写存在的问题备注后，点击OK。</li>
</ul>
<p><img src="/../img/Fiddler/Fiddler@007.png" srcset="/img/load.gif" lazyload alt="工具面板-Comment"></p>
<h3 id="2-Replay"><a href="#2-Replay" class="headerlink" title="(2) Replay"></a>(2) Replay</h3><ul>
<li>选中当前存在的一个session会话，点击<img src="/../img/Fiddler/TPicon/TPicon@004.png" srcset="/img/load.gif" lazyload alt="工具面板-Replay">，可以向服务器重新发送一次选中的session请求。</li>
<li>快捷键<code>CTRL + Replay</code>重新发送一次请求，而不包含任何条件的请求头，例如：If-None-Match等。</li>
<li>快捷键<code>Shift + Replay</code>弹窗要求指定每个请求应被重新发送的次数，默认5次，OK后重新发送5次请求。</li>
</ul>
<p><img src="/../img/Fiddler/Fiddler@008.png" srcset="/img/load.gif" lazyload alt="工具面板-Replay"></p>
<h3 id="3-Remove"><a href="#3-Remove" class="headerlink" title="(3) Remove"></a>(3) Remove</h3><ul>
<li>点击<img src="/../img/Fiddler/TPicon/TPicon@005.png" srcset="/img/load.gif" lazyload alt="工具面板-Remove">，选对应选项，可删除列表中对应的会话。</li>
<li>选项说明<ul>
<li>Remove all：删除列表中的所有会话。</li>
<li>Images：删除列表中所有图像类会话。</li>
<li>CONNECTs：删除列表中所有CONNECT通道。</li>
<li>Non-200s：删除列表中所有HTTP响应码非200的会话。</li>
<li>Non-Browser：删除列表中所有不是来自浏览器的会话。</li>
<li>Complete &amp; Unmarked：删除列表中所有状态为正常结束或异常终止，没被标记且Comments没内容的会话。</li>
<li>Duplicate response bodies：删除列表中没有响应体，或者是响应体内容在更早的会话中已经被接收的会话。</li>
</ul>
</li>
</ul>
<p><img src="/../img/Fiddler/Fiddler@009.png" srcset="/img/load.gif" lazyload alt="工具面板-Remove"></p>
<h3 id="4-Go"><a href="#4-Go" class="headerlink" title="(4) Go"></a>(4) Go</h3><ul>
<li>点击<img src="/../img/Fiddler/TPicon/TPicon@006.png" srcset="/img/load.gif" lazyload alt="工具面板-Go">，可以恢复执行在Request请求，或Response响应断点处暂停的所有会话。</li>
<li>默认情况下直接点击会恢复所有会话的运行，快捷键<code>Shift + Go</code>仅恢复选中的会话。</li>
</ul>
<h3 id="5-Stream"><a href="#5-Stream" class="headerlink" title="(5) Stream"></a>(5) Stream</h3><ul>
<li>点击<img src="/../img/Fiddler/TPicon/TPicon@007.png" srcset="/img/load.gif" lazyload alt="工具面板-Stream">，开启Streaming Mode流模式。<ul>
<li>Fiddler一旦从远程服务器拿到了响应，会立即返回响应给客户端，这对于较低网络时间设定来说是非常重要的。</li>
<li>多数浏览器会在尚未完全下载HTML页时进行解析且并行下载所需资源，即使远程服务器还未完全传输该HTML。</li>
<li>访问Internet广播、音乐类站点时，通常使用永不结束的MP3数据流传递给客户端，这类特定场景也适合流模式。</li>
</ul>
</li>
<li>默认情况下，使用的是Buffering Mode缓冲模式。<ul>
<li>Fiddler会在数据返回客户端之前完全的缓冲响应。</li>
<li>用户有机会在客户端接收到响应之前修改响应内容。</li>
</ul>
</li>
<li>自动流模式<ul>
<li>Fiddler会自动使用流模式处理<code>video/*</code>和<code>audio/*</code>类型的响应，可开启或关闭设置。</li>
<li>菜单栏-&gt;Tools-&gt;Options-&gt;General-&gt;勾选Automatically stream audio &amp; video。</li>
</ul>
</li>
</ul>
<p><img src="/../img/Fiddler/Fiddler@010.png" srcset="/img/load.gif" lazyload alt="工具面板-Stream"></p>
<h3 id="6-Decode"><a href="#6-Decode" class="headerlink" title="(6) Decode"></a>(6) Decode</h3><ul>
<li>点击<img src="/../img/Fiddler/TPicon/TPicon@008.png" srcset="/img/load.gif" lazyload alt="工具面板-Decode">，直接对所有响应进行解码。</li>
<li>解码没有开启前，Fiddler右侧监控面板中可能提示“Response body is encoded. Click to decode”。</li>
<li>该提示说明当前响应的session会话已被编码，点击该提示信息可对当前响应的session会话进行解码。</li>
</ul>
<p><img src="/../img/Fiddler/Fiddler@011.png" srcset="/img/load.gif" lazyload alt="工具面板-Decode"></p>
<h3 id="7-Keep"><a href="#7-Keep" class="headerlink" title="(7) Keep"></a>(7) Keep</h3><ul>
<li>Fiddler的Web请求列表非无限，因此提供了保留会话Keep操作，可以让Web请求列表实时保持指定的session会话个数。</li>
<li>点击<img src="/../img/Fiddler/TPicon/TPicon@009.png" srcset="/img/load.gif" lazyload alt="工具面板-Keep">，选All sessions，保持所有的Web请求，选对应个数sessions，则保持对应个数的Web请求。</li>
</ul>
<h3 id="8-Any-Process"><a href="#8-Any-Process" class="headerlink" title="(8) Any Process"></a>(8) Any Process</h3><ul>
<li>默认情况下Fiddler将抓取所有进程的HTTP请求或响应，这会导致Web请求列表快速刷新，不方便查找所需的Web请求。</li>
<li>Any Process可以用来定位抓包，点击<img src="/../img/Fiddler/TPicon/TPicon@010.png" srcset="/img/load.gif" lazyload alt="工具面板-Any Process">，鼠标不放，将十字图标拖拽到指定进程的窗口中，右击则取消。</li>
</ul>
<h3 id="9-Find"><a href="#9-Find" class="headerlink" title="(9) Find"></a>(9) Find</h3><ul>
<li>点击<img src="/../img/Fiddler/TPicon/TPicon@011.png" srcset="/img/load.gif" lazyload alt="工具面板-Find">，支持依据查询条件快速查找会话列表请求，Find Sessions界面如下。</li>
<li>Find：输入需要查找的内容，例如baidu.com，查找所有包含baidu.com内容的请求。</li>
<li>Options<ul>
<li>Search：请求和响应、仅请求、仅响应、仅URLs，这四个中匹配条件。</li>
<li>Examine：标头和正文、仅标头、仅正文，这三个选项中进行检查匹配。</li>
<li>Match case(匹配时区分大小写)，Regular Expression(可使用正则匹配)。</li>
<li>Search binaries(搜索二进制)，Decode compressed content(解码压缩内容)。</li>
<li>Search only selected sessions(仅搜索所选的会话)，Select matches(搜索匹配)。</li>
<li>Unmark old results(取消标记旧结果)，Result Highlight(匹配请求使用的高亮色)。</li>
</ul>
</li>
</ul>
<p><img src="/../img/Fiddler/Fiddler@012.png" srcset="/img/load.gif" lazyload alt="工具面板-Find"></p>
<h2 id="2-2-更多工具"><a href="#2-2-更多工具" class="headerlink" title="2-2 更多工具"></a>2-2 更多工具</h2><ul>
<li>更多工具<ul>
<li>保存请求Save：点击<img src="/../img/Fiddler/TPicon/TPicon@012.png" srcset="/img/load.gif" lazyload alt="工具面板-Save">，以SAZ文件形式保存请求，除快捷键保存外，还可菜单栏-&gt;File-&gt;Save中保存。<ul>
<li>All Sessions：所有抓取到的会话均保存到SAZ文件中。</li>
<li>Selected Sessions：将选中的会话保存到SAZ文件中。<ul>
<li>in ArchiveZip(SAZ归档文件)，as Text(保存到文本文件)。</li>
<li>as Text(Headers only)(仅保存会话的头部信息到文本文件)。</li>
</ul>
</li>
<li>Request：将所有会话的请求报文保存到SAZ文件中。<ul>
<li>Entire Request(将保存所有会话的请求报文，一个请求保存一个文件)。</li>
<li>Request Body(仅保存会话请求的正文部分，若没有正文则给出提示框)。</li>
</ul>
</li>
<li>Response：将所有会话的响应报文保存到SAZ文件中。<ul>
<li>Entire Response(将保存所有会话的响应报文，一个响应保存为一个文件)。</li>
<li>Response Body(仅保存会话响应报文的正文部分，若无正文则给出提示框)。</li>
<li>and Open as Local File(保存会话的响应报文到文件，然后自动打开该文件)。</li>
</ul>
</li>
</ul>
</li>
<li>倒计截图Screenshot：点击<img src="/../img/Fiddler/TPicon/TPicon@013.png" srcset="/img/load.gif" lazyload alt="工具面板-Screenshot">，支持当前Fiddler所在屏5秒倒计全屏截图，<code>Shift + Screenshot</code>键立即截图。</li>
<li>计时器Timer：点击<img src="/../img/Fiddler/TPicon/TPicon@014.png" srcset="/img/load.gif" lazyload alt="工具面板-Timer">，即开始计时，或停止计时，鼠标右键则可以将计时内容清除。</li>
<li>浏览器Browse：选中一会话点击<img src="/../img/Fiddler/TPicon/TPicon@015.png" srcset="/img/load.gif" lazyload alt="工具面板-Browse">，再任选浏览器打开，不支持多会话同时打开否则<code>about:blank</code>。</li>
</ul>
</li>
</ul>
<h3 id="1-Clear-Cache"><a href="#1-Clear-Cache" class="headerlink" title="(1) Clear Cache"></a>(1) Clear Cache</h3><ul>
<li>点击<img src="/../img/Fiddler/TPicon/TPicon@016.png" srcset="/img/load.gif" lazyload alt="工具面板-Clear Cache">，清除WinINET缓存，快捷键<code>Ctrl + Clear Cache</code>删除持久性Cookies。</li>
<li>WinINET缓存，分为文件缓存和URL缓存。<ul>
<li>Microsoft Windows操作系统中Internet Explorer和一些应用程序如Outlook，使用的一种缓存机制。</li>
<li>可以缓存从Internet或本地网络下载的内容，包括网页、图片、脚本等，用来提高后续访问的速度。</li>
<li>WinINET缓存只能缓存HTTP和HTTPS协议的内容，并不支持缓存FTP和Gopher等其他协议的内容。</li>
</ul>
</li>
<li>持久性Cookies<ul>
<li>一种Web浏览器中常用的数据存储机制，与浏览器会话无关，可在多个浏览器会话之间保留。</li>
<li>持久性Cookies可以设置过期时间，当Cookie没有过期时，用户下次打开浏览器仍然可以使用。</li>
<li>生命周期取决于Cookie的失效时间和用户浏览器的设置。</li>
</ul>
</li>
</ul>
<p><img src="/../img/Fiddler/Fiddler@013.png" srcset="/img/load.gif" lazyload alt="工具面板-Clear Cache"></p>
<h3 id="2-TextWizard"><a href="#2-TextWizard" class="headerlink" title="(2) TextWizard"></a>(2) TextWizard</h3><ul>
<li>用来对文本进行编码和解码，支持多种编码，有Base64、Base64URL、URLEncode、URLDecode、SHA256等。</li>
<li>例如：使用MD5对字符串“Hello Fiddler!”进行编码，点击<img src="/../img/Fiddler/TPicon/TPicon@017.png" srcset="/img/load.gif" lazyload alt="工具面板-TextWizard">，打开TextWizard工具，操作如下。</li>
</ul>
<p><img src="/../img/Fiddler/Fiddler@014.png" srcset="/img/load.gif" lazyload alt="工具面板-TextWizard"></p>
<h3 id="3-Tearoff"><a href="#3-Tearoff" class="headerlink" title="(3) Tearoff"></a>(3) Tearoff</h3><ul>
<li>点击<img src="/../img/Fiddler/TPicon/TPicon@018.png" srcset="/img/load.gif" lazyload alt="工具面板-Tearoff">，支持将监控面板以窗口浮动形式进行显示。</li>
</ul>
<p><img src="/../img/Fiddler/Fiddler@015.png" srcset="/img/load.gif" lazyload alt="工具面板-Tearoff"></p>
<h3 id="4-Online"><a href="#4-Online" class="headerlink" title="(4) Online"></a>(4) Online</h3><ul>
<li>将鼠标移动到<img src="/../img/Fiddler/TPicon/TPicon@019.png" srcset="/img/load.gif" lazyload alt="工具面板-Online">，将显示当前机器的网络信息，有IP地址、MAC地址等。</li>
</ul>
<p><img src="/../img/Fiddler/Fiddler@016.png" srcset="/img/load.gif" lazyload alt="工具面板-Online"></p>
<h1 id="3-会话面板"><a href="#3-会话面板" class="headerlink" title="3 会话面板"></a>3 会话面板</h1><ul>
<li>会话面板<ul>
<li>会话属性<ul>
<li>#(从1开始生成的请求id)、Result(http响应结果的编码)、Protocol(会话使用的协议，如http、https、ftp)。</li>
<li>Host(请求发送到服务器的主机名)、URL(服务器的路径或文件)、Body(响应body的字节数，以bytes为单位)。</li>
<li>Caching(响应的有效期或Cache-Control标头的值)、Content-Type(响应Content-Type标头的值)。</li>
<li>Process(发起流量的本地Windows进程)、Comments(注释)、Custom(自定义，可设置脚本的文本)。</li>
</ul>
</li>
<li>会话图标<ul>
<li><img src="/../img/Fiddler/SPicon/SPicon@001.png" srcset="/img/load.gif" lazyload alt="会话面板-会话图标01">(请求正发送到服务器)、<img src="/../img/Fiddler/SPicon/SPicon@002.png" srcset="/img/load.gif" lazyload alt="会话面板-会话图标02">(响应正从服务器读取)、<img src="/../img/Fiddler/SPicon/SPicon@003.png" srcset="/img/load.gif" lazyload alt="会话面板-会话图标03">(请求在断点处暂停)、<img src="/../img/Fiddler/SPicon/SPicon@004.png" srcset="/img/load.gif" lazyload alt="会话面板-会话图标04">(响应在断点处暂停)。</li>
<li><img src="/../img/Fiddler/SPicon/SPicon@005.png" srcset="/img/load.gif" lazyload alt="会话面板-会话图标05">(响应没有body)、<img src="/../img/Fiddler/SPicon/SPicon@006.png" srcset="/img/load.gif" lazyload alt="会话面板-会话图标06">(请求使用post方法)、<img src="/../img/Fiddler/SPicon/SPicon@007.png" srcset="/img/load.gif" lazyload alt="会话面板-会话图标07">(请求使用connect方法，建立一个用于https流量的隧道)。</li>
<li><img src="/../img/Fiddler/SPicon/SPicon@008.png" srcset="/img/load.gif" lazyload alt="会话面板-会话图标08">(响应是一张图片)、<img src="/../img/Fiddler/SPicon/SPicon@009.png" srcset="/img/load.gif" lazyload alt="会话面板-会话图标09">(响应是一个js脚本)、<img src="/../img/Fiddler/SPicon/SPicon@010.png" srcset="/img/load.gif" lazyload alt="会话面板-会话图标10">(响应是一个css，即叠加样式表)、<img src="/../img/Fiddler/SPicon/SPicon@011.png" srcset="/img/load.gif" lazyload alt="会话面板-会话图标11">(响应是一个xml)。</li>
<li><img src="/../img/Fiddler/SPicon/SPicon@012.png" srcset="/img/load.gif" lazyload alt="会话面板-会话图标12">(响应是一个json)、<img src="/../img/Fiddler/SPicon/SPicon@013.png" srcset="/img/load.gif" lazyload alt="会话面板-会话图标13">(响应是一种字体)、<img src="/../img/Fiddler/SPicon/SPicon@014.png" srcset="/img/load.gif" lazyload alt="会话面板-会话图标14">(通用的成功响应)、<img src="/../img/Fiddler/SPicon/SPicon@015.png" srcset="/img/load.gif" lazyload alt="会话面板-会话图标15">(响应是使用缓存版本304重定向)。</li>
<li><img src="/../img/Fiddler/SPicon/SPicon@016.png" srcset="/img/load.gif" lazyload alt="会话面板-会话图标16">(响应是300、301、302、303、307重定向)、<img src="/../img/Fiddler/SPicon/SPicon@017.png" srcset="/img/load.gif" lazyload alt="会话面板-会话图标17">(响应是对客户端凭据的请求)、<img src="/../img/Fiddler/SPicon/SPicon@018.png" srcset="/img/load.gif" lazyload alt="会话面板-会话图标18">(响应是服务器错误)。</li>
<li><img src="/../img/Fiddler/SPicon/SPicon@019.png" srcset="/img/load.gif" lazyload alt="会话面板-会话图标19">(会话被客户端、Fiddler或服务器中止)、<img src="/../img/Fiddler/SPicon/SPicon@020.png" srcset="/img/load.gif" lazyload alt="会话面板-会话图标20">(响应的Content-Type值为text&#x2F;html)、<img src="/../img/Fiddler/SPicon/SPicon@021.png" srcset="/img/load.gif" lazyload alt="会话面板-会话图标21">(响应是视频文件)。</li>
<li><img src="/../img/Fiddler/SPicon/SPicon@022.png" srcset="/img/load.gif" lazyload alt="会话面板-会话图标22">(响应Content-Type为application&#x2F;octet-stream)、<img src="/../img/Fiddler/SPicon/SPicon@023.png" srcset="/img/load.gif" lazyload alt="会话面板-会话图标23">(请求要求服务器切换协议，服务器已确认切换准备)。</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="/../img/Fiddler/Fiddler@017.png" srcset="/img/load.gif" lazyload alt="会话面板"></p>
<h1 id="4-监控面板"><a href="#4-监控面板" class="headerlink" title="4 监控面板"></a>4 监控面板</h1><ul>
<li>监控面板<ul>
<li>Statistics(统计选项卡)、Inspectors(检查器选项卡)、AutoResponder(自动响应选项卡)、Composer(组合器)。</li>
<li>Fiddler Orchestra Beta(新版新增功能，用于远程抓包)、FiddlerScript(编辑器与脚本库)、Log(日志选项卡)。</li>
<li>Filters(过滤器)、TimeLine(时间轴选项卡)。</li>
</ul>
</li>
</ul>
<h2 id="4-1-Statistics"><a href="#4-1-Statistics" class="headerlink" title="4-1 Statistics"></a>4-1 Statistics</h2><ul>
<li>Statistics<ul>
<li>显示当前会话的基本信息，最上方显示文本信息，最下方以饼图形式按MIME类型显示流量。</li>
<li>饼图：默认不显示，点Show Chart显示。<ul>
<li>Collapse Chart支持隐藏饼图，饼图的切片是各个MIME类型及Headers的字节数。</li>
<li>Copy this chart可以把饼图作为位图拷贝到剪贴板，进而粘贴到报表或ppt演示中。</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="/../img/Fiddler/Fiddler@018.png" srcset="/img/load.gif" lazyload alt="监控面板-Statistics"></p>
<h3 id="1-单会话"><a href="#1-单会话" class="headerlink" title="(1) 单会话"></a>(1) 单会话</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><code class="hljs Markdown">Request Count:  1 ------------------------------------ 选中会话的个数<br>Bytes Sent:     2,047   (headers:2,047; body:0) ------ HTTP请求头和请求体中向外发送的字节总数<br>Bytes Received: 96,052  (headers:794; body:95,258) --- HTTP请求头和请求体中接收到的所有字节数<br><br><span class="hljs-section">ACTUAL PERFORMANCE ----------------------------------- 请求实际执行情况</span><br><span class="hljs-section">--------------</span><br>ClientConnected:      11:35:43.234<br>ClientBeginRequest:   11:35:43.346<br>GotRequestHeaders:    11:35:43.346<br>ClientDoneRequest:    11:35:43.346<br>Determine Gateway:    0ms<br>DNS Lookup:           0ms ------------ 选中会话解析DNS所花费的时间的总和，DNS缓存或所有连接都已建立，则不需要DNS解析<br>TCP/IP Connect:       0ms ------------ 选中会话建立TCP/IP连接所花费的时间总和，所有请求都已建立连接，则不需要TCP/IP连接<br>HTTPS Handshake:      0ms ------------ 选中会话在HTTPS握手上所花费的时间总和<br>ServerConnected:      11:35:43.262 --- 所有会话都是HTTP，不需解密，或都发生在已建立安全信任的连接上，则不存在HTTPS握手<br>FiddlerBeginRequest:  11:35:43.346<br>ServerGotRequest:     11:35:43.347<br>ServerBeginResponse:  11:35:43.366<br>GotResponseHeaders:   11:35:43.366<br>ServerDoneResponse:   11:35:43.421<br>ClientBeginResponse:  11:35:43.421<br>ClientDoneResponse:   11:35:43.421<br><br>  Overall Elapsed:  0:00:00.074 ---------------------- 已用总时间<br><br><span class="hljs-section">RESPONSE BYTES (by Content-Type) --------------------- 响应字节数(按Content-Type分组统计)</span><br><span class="hljs-section">--------------</span><br>text/html: 95,258<br>~headers~: 794<br><br><br><span class="hljs-section">ESTIMATED WORLDWIDE PERFORMANCE ---------------------- 选中的流量在不同地区和连接方式下所需时间的初步估计</span><br><span class="hljs-section">--------------</span><br>The following are VERY rough estimates of download times when hitting servers based in Seattle.<br><br>US West Coast (Modem - 6KB/sec) ---------------------- 该值是根据选中会话的个数和大小计算的<br>  RTT:      0.10s<br>  Elapsed:  16.10s<br><br>Japan / Northern Europe (Modem) ---------------------- 实际网络性能受多因素影响，因而该值可能不准确<br>  RTT:      0.15s<br>  Elapsed:  16.15s<br><br>China (Modem)<br>  RTT:      0.45s<br>  Elapsed:  16.45s<br><br>US West Coast (DSL - 30KB/sec)<br>  RTT:      0.10s<br>  Elapsed:  3.10s<br><br>Japan / Northern Europe (DSL)<br>  RTT:      0.15s<br>  Elapsed:  3.15s<br><br>China (DSL)<br>  RTT:      0.45s<br>  Elapsed:  3.45s<br><br><span class="hljs-strong">____</span><span class="hljs-strong">____</span><span class="hljs-strong">____</span><span class="hljs-strong">____</span><br>Learn more about HTTP performance at http://fiddler2.com/r/?HTTPPERF<br></code></pre></td></tr></table></figure>



<h3 id="2-单通道"><a href="#2-单通道" class="headerlink" title="(2) 单通道"></a>(2) 单通道</h3><ul>
<li>单个CONNECT通道，会显示在该通道上发送和接收的字节数，除非配置为HTTPS加密方式。</li>
<li>配置为HTTPS加密方式的情况下，需在Web会话列表已解密的HTTPS会话中查看字节数信息。</li>
</ul>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><code class="hljs Markdown">Request Count:  7 ------------------------------------ 选中的请求数<br>Unique Hosts:   5 ------------------------------------ 流量流向的独立目标主机数，若都发送到相同服务器上，则不显示<br>Bytes Sent:     5,745 (headers:5,513; body:232) ------ HTTP请求头和请求体中向外发送的字节总数<br>Bytes Received: 7,470 (headers:2,319; body:5,151) ---- HTTP请求头和请求体中接收到的所有字节数<br><br><span class="hljs-section">ACTUAL PERFORMANCE ----------------------------------- 实际执行情况</span><br><span class="hljs-section">--------------</span><br>Requests started at:          14:55:26.437 ----------- Fiddler接收到的第一个请求的第一个字节时间点<br>Responses completed at:       14:55:44.471 ----------- Fiddler发送到客户端的最后一个响应的最后一个字节时间点<br>Sequence (clock) duration:    00:00:18.033 ----------- 第一个请求开始到最后一个响应结束之间的间隔时间<br>Aggregate Session duration:   00:00:00.184 ----------- 所有选中的会话从请求到响应之间的时间的和<br>DNS Lookup time:              1ms -------------------- 会话通常是并行运行的，Aggregate结果可能比Sequence时间长<br>TCP/IP Connect duration:      21ms ------------------- 会话从开始到结束之间若包含空闲时间，Aggregate也可能比Sequence时间短<br>HTTPS Handshake duration:     23ms<br><br><span class="hljs-section">RESPONSE CODES --------------------------------------- 选中会话中各个HTTP响应码的计数</span><br><span class="hljs-section">--------------</span><br>HTTP/200:   6<br>HTTP/204:   1<br><br><span class="hljs-section">RESPONSE BYTES (by Content-Type) --------------------- 响应字节数(按Content-Type分组统计)</span><br><span class="hljs-section">--------------</span><br><span class="hljs-code">       image/png: 4,868</span><br><span class="hljs-code">       ~headers~: 2,319</span><br><span class="hljs-code">   image/svg+xml: 184</span><br><span class="hljs-code">       image/gif: 86</span><br><span class="hljs-code">application/json: 13</span><br><span class="hljs-code"></span><br><span class="hljs-section">REQUESTS PER HOST</span><br><span class="hljs-section">--------------</span><br><span class="hljs-code">         localhost: 2</span><br><span class="hljs-code">   pub.idqqimg.com: 2</span><br><span class="hljs-code">       docs.qq.com: 1</span><br><span class="hljs-code">      aegis.qq.com: 1</span><br><span class="hljs-code">report.idqqimg.com: 1</span><br><span class="hljs-code"></span><br><br><span class="hljs-section">ESTIMATED WORLDWIDE PERFORMANCE ---------------------- 选中的流量在不同地区和连接方式下所需时间的初步估计</span><br><span class="hljs-section">--------------</span><br>The following are VERY rough estimates of download times when hitting servers based in Seattle.<br><br>US West Coast (Modem - 6KB/sec) ---------------------- 该值是根据选中会话的个数和大小计算的<br>  RTT:      0.70s<br>  Elapsed:  2.70s<br><br>Japan / Northern Europe (Modem) ---------------------- 实际网络性能受多因素影响，因而该值可能不准确<br>  RTT:      1.05s<br>  Elapsed:  3.05s<br><br>China (Modem)<br>  RTT:      3.15s<br>  Elapsed:  5.15s<br><br>US West Coast (DSL - 30KB/sec)<br>  RTT:      0.70s<br>  Elapsed:  0.70s<br><br>Japan / Northern Europe (DSL)<br>  RTT:      1.05s<br>  Elapsed:  1.05s<br><br>China (DSL)<br>  RTT:      3.15s<br>  Elapsed:  3.15s<br><br><span class="hljs-strong">____</span><span class="hljs-strong">____</span><span class="hljs-strong">____</span><span class="hljs-strong">____</span><br>Learn more about HTTP performance at http://fiddler2.com/r/?HTTPPERF<br></code></pre></td></tr></table></figure>



<h2 id="4-2-Inspectors"><a href="#4-2-Inspectors" class="headerlink" title="4-2 Inspectors"></a>4-2 Inspectors</h2><ul>
<li>Inspectors<ul>
<li>用于显示Web会话列表中选定会话的请求和响应信息，位于监控面板选项卡处，也有独立的Inspect Session窗口。</li>
<li>Inspect Session窗口可以在会话面板中，选中需要打开请求或响应信息的会话，鼠标右键Inspect in New Window。</li>
<li>Fiddler会根据每个请求和响应的类型，自动选择合适的Inspectors视图，例如<code>image/*</code>类型显示ImageView视图。</li>
<li>右击请求或响应的Inspector选项卡，会显示三个选项菜单。<ul>
<li>Inspector Properties：显示Inspector提供的自身信息。</li>
<li>Copy as Image：将当前Inspector复制成图片，粘贴到其他地方使用。</li>
<li>Hide Inspector：从Inspectors选项卡中隐藏该Inspector，支持恢复。</li>
</ul>
</li>
<li>Inspectors默认情况下是只读模式Readonly，除非该会话停止在某个断点处。</li>
<li>只要当前会话处于未锁定状态，就可以选中后鼠标右键Unlock For Editing进行编辑，编辑模式是白色背景显示。</li>
<li>默认的只读模式是淡蓝色背景，菜单栏-&gt;Tools-&gt;Options-&gt;Appearance-&gt;Set Readonly Color可更改背景色。</li>
</ul>
</li>
</ul>
<p><img src="/../img/Fiddler/Fiddler@019.png" srcset="/img/load.gif" lazyload alt="监控面板-Inspectors"></p>
<h3 id="1-Inspector-Properties"><a href="#1-Inspector-Properties" class="headerlink" title="(1) Inspector Properties"></a>(1) Inspector Properties</h3><p><img src="/../img/Fiddler/Fiddler@020.png" srcset="/img/load.gif" lazyload alt="监控面板-Inspectors-Inspector Properties"></p>
<h3 id="2-Hide-Inspector"><a href="#2-Hide-Inspector" class="headerlink" title="(2) Hide Inspector"></a>(2) Hide Inspector</h3><p><img src="/../img/Fiddler/Fiddler@021.png" srcset="/img/load.gif" lazyload alt="监控面板-Inspectors-Hide Inspector"></p>
<h3 id="3-Hide-Inspector恢复"><a href="#3-Hide-Inspector恢复" class="headerlink" title="(3) Hide Inspector恢复"></a>(3) Hide Inspector恢复</h3><ul>
<li>菜单栏-&gt;View-&gt;Tabs-&gt;Preferences&gt;fiddler.inspectors.hidelist的value改为True或False，保存后重启。</li>
</ul>
<p><img src="/../img/Fiddler/Fiddler@022.png" srcset="/img/load.gif" lazyload alt="监控面板-Inspectors-Hide Inspector恢复"></p>
<h2 id="4-3-AutoResponder"><a href="#4-3-AutoResponder" class="headerlink" title="4-3 AutoResponder"></a>4-3 AutoResponder</h2><ul>
<li>AutoResponder<ul>
<li>支持创建规则，可在响应请求时自动触发，常见例子是返回之前捕捉的响应，而不需要访问服务器。</li>
<li>Enable rules：用来控制是否激活自动响应选项卡。</li>
<li>Unmatched requests passthrough：用来控制会话不匹配给定规则时会发生的情况。<ul>
<li>如果勾选，则不匹配的请求会正常发送到服务器。</li>
<li>如果不勾选，那么Fiddler会为所有与该规则完全不匹配的HTTP请求，生成响应404 Not Found。</li>
<li>若客户端发送条件请求包含If-None-Match或If-Modified-Since，返回响应304 Not Modified。</li>
</ul>
</li>
<li>Enable Latency<ul>
<li>用来控制匹配某个规则的请求是立即执行，还是延迟Latency字段中所指定的毫秒数。</li>
<li>不勾选Latency字段就不显示，勾选可准确地模拟服务器实际响应，取消可提升性能。</li>
</ul>
</li>
<li>Add Rule：点击该按钮添加一个新的AutoResponder规则。</li>
<li>Import<ul>
<li>支持导入SAZ文件，导入的每个会话会被用于规则列表生成新规则。</li>
<li>还可以导入FARX文件，包含从AutoResponder选项卡中导出的规则。</li>
</ul>
</li>
<li>中间是规则列表<ul>
<li>If request matches：匹配条件，用于判断接收到的请求是否匹配该规则，复选框控制规则是否选中。</li>
<li>then respond with：规则匹配时所要采取的操作，即返回哪些数据给请求，可指定本地文件或其他。</li>
<li>Latency：勾选Enable Latency时才出现，用来说明规则的延迟时间。</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="/../img/Fiddler/Fiddler@023.png" srcset="/img/load.gif" lazyload alt="监控面板-AutoResponder"></p>
<h3 id="1-Rule-Editor"><a href="#1-Rule-Editor" class="headerlink" title="(1) Rule Editor"></a>(1) Rule Editor</h3><ul>
<li>底部的Rule Editor用来调整规则的匹配条件和返回，Test支持根据选中的样本URI测试匹配条件。<ul>
<li>URL Pattern：设置匹配公式。</li>
<li>Test URL：设置测试的网址。</li>
<li>Save Changes：将条件替换为Rule Editor的第一行匹配条件内容。</li>
</ul>
</li>
<li>Match only once表示只匹配一次，Save为更改规则后，更新规则内容。</li>
<li>Rule Editor第二行，设置返回。<ul>
<li>200_FiddlerGif.dat(返回一个gif图片给客户端)、200_SimpleHTML.dat(返回一个简单的HTML报文)。</li>
<li>200_TransPixel.dat(返回一个内置的位图)、204_NoContent.dat(返回状态码为204且无内容的报文)。</li>
<li>302_Redirect.dat(即将重定向到Fiddler官网)、303_RedirectWithGet.dat(即将重定向到Fiddler官网)。</li>
<li>304_NotModified.dat(返回状态码为304，且长度为0的报文)。</li>
<li>307_RedirectWithMethod.dat(返回状态码为307的响应报文)。</li>
<li>401_AuthBasic.dat(返回状态码为401，且基础权限验证失败的响应报文，用户没有访问权限，需身份认证)。</li>
<li>401_AuthDigest.dat(返回状态码为401，且摘要权限验证失败的响应报文)。</li>
<li>403_AuthDeny.dat(返回状态码403，没有访问权限错误信息的响应报文)。</li>
<li>404_Plain.dat(返回HTML文件不存在的响应报文)。</li>
<li>407_ProxyAuthBasic.dat(返回一个代理服务未通过基础权限认证的响应报文)。</li>
<li>502_Unreachable.dat(返回一个状态码为502，并且服务器不可用的响应报文)。</li>
<li>*bpu(为当前匹配的请求添加请求断点)。</li>
<li>*bpafter(为当前匹配的请求添加响应断点)、*exit(停止正在处理的规则)。</li>
<li>*drop(不发送响应，马上关闭客户端连接，TCP&#x2F;I层角度看，该连接是优雅断开的，向客户端返回FIN)。</li>
<li>*reset(不发送响应，马上关闭客户端连接，TCP&#x2F;I层角度看，该连接是粗暴断开的，向客户端返回RST)。</li>
<li>*delay:100(为当前匹配的请求添加100毫秒的延迟，支持依据需求，将该延迟改为想要延迟的具体时间)。</li>
<li>*ReplyWithTunnel(使用隧道进行回复)。</li>
<li>*CORSPreflightAllow<ul>
<li>可确保服务器对CORS标准知情，保护不支持CORS的旧服务器。</li>
<li>借助Access-Control-Allow-Origin响应头字段允许跨域AJAX。</li>
<li>非简单请求CORS机制跨域会首先进行preflight(Options请求)，该请求成功后才发送真正的请求。</li>
</ul>
</li>
<li>*flag:ui-backcolor&#x3D;#FFD700(将当前匹配的请求在Web请求列表中添加背景颜色，默认黄色背景)。</li>
<li>*header:HeaderName&#x3D;NewValue(添加头字段，字段名HeaderName，字段值NewValue，可依据需求设置)。</li>
<li>*redir:<a target="_blank" rel="noopener" href="http://www.example.com/">http://www.example.com</a>(返回指向目标URL的307重定向响应，前缀确保客户端知道请求发送到哪)。</li>
<li>*script:FiddlerScriptFunctionName(为匹配的请求调用FiddlerScript中指定的函数)。</li>
<li><a target="_blank" rel="noopener" href="http://www.example.com/">http://www.example.com</a>(将该地址的响应作为客户端响应，有效地把请求重定向到指定URL)。</li>
<li>Create New Response…(输入文件名，在Fiddler指定的目录下查找该文件信息)。</li>
<li>Find a file…(选择本地一个文件，例如文本、图片等，作为响应返回给客户端)。</li>
</ul>
</li>
</ul>
<p><img src="/../img/Fiddler/Fiddler@024.png" srcset="/img/load.gif" lazyload alt="监控面板-AutoResponder-Rule Editor"></p>
<h3 id="2-Rule右键菜单"><a href="#2-Rule右键菜单" class="headerlink" title="(2) Rule右键菜单"></a>(2) Rule右键菜单</h3><ul>
<li>Remote(移除规则)、Promote(将选中的规则向上移动)、Demote(将选中的规则向下移动)。</li>
<li>Clone(克隆一个选中的规则到规则框中)、Set Latency(设置响应的延迟时间，单位为毫秒)。</li>
<li>Set Comments(设置注释来提示当前规则的作用)、Edit Response(编辑当前规则设置的响应文件)。</li>
<li>Generate File(生成响应文件)、Edit File With(将匹配到的响应保存为本地文件并用编辑器打开)。</li>
<li>Open Url(使用默认的网页浏览器打开匹配条件中的网址)、Find(规则框中寻找字符串，高亮显示)。</li>
<li>Export All(导出当前规则为farx的文件)。</li>
</ul>
<p><img src="/../img/Fiddler/Fiddler@025.png" srcset="/img/load.gif" lazyload alt="监控面板-AutoResponder-Rule右键菜单"></p>
<h3 id="3-访问新浪实战"><a href="#3-访问新浪实战" class="headerlink" title="(3) 访问新浪实战"></a>(3) 访问新浪实战</h3><ul>
<li>建立一个规则，访问新浪官网，使其返回的是百度搜索页面。<ul>
<li>访问<a target="_blank" rel="noopener" href="https://www.baidu.com/">百度</a>，复制源码保存为本地baidu.html文件，浏览器事先打开<a target="_blank" rel="noopener" href="https://www.sina.com.cn/">新浪网</a>，确保Fiddler正常抓包。</li>
<li>会话面板选中新浪网的请求会话-&gt;AutoResponder-&gt;Add Rule-&gt;Rule Editor第二行Find a File。</li>
<li>选择已保存到本地的baidu.html文件-&gt;勾选Enable rules-&gt;浏览器再次请求<a target="_blank" rel="noopener" href="https://www.sina.com.cn/">新浪网</a>页面进行查看。</li>
</ul>
</li>
</ul>
<p><img src="/../img/Fiddler/Fiddler@026.png" srcset="/img/load.gif" lazyload alt="监控面板-AutoResponder-访问新浪实战"></p>
<h2 id="4-4-Composer"><a href="#4-4-Composer" class="headerlink" title="4-4 Composer"></a>4-4 Composer</h2><ul>
<li>Composer<ul>
<li>支持手动构建和发送HTTP、HTTPS和FTP请求，点击Execute按钮将请求发送到服务器端。</li>
<li>可以从Web会话列表中拖拽会话到Composer选项卡中，将该Session的请求复制到用户界面。</li>
</ul>
</li>
</ul>
<h3 id="1-Parsed"><a href="#1-Parsed" class="headerlink" title="(1) Parsed"></a>(1) Parsed</h3><ul>
<li>支持为每个请求组件使用独立的输入框构建请求。<ul>
<li>HTTP方法：GET、POST、PUT、HEAD、TRACE、DELETE等。</li>
<li>请求的绝对URL，必须以<code>http://</code>、<code>https://</code>或<code>ftp://</code>开头。</li>
<li>指定请求的HTTP协议版本，通常是HTTP&#x2F;1.1。</li>
</ul>
</li>
<li>若当前的请求方法不支持请求体，例如GET方法，则在请求体输入框输入文本时会显示红色背景。</li>
</ul>
<p><img src="/../img/Fiddler/Fiddler@027.png" srcset="/img/load.gif" lazyload alt="监控面板-Composer-Parsed"></p>
<h3 id="2-Upload-file"><a href="#2-Upload-file" class="headerlink" title="(2) Upload file"></a>(2) Upload file</h3><ul>
<li>Parsed选项卡上有一个Upload file上传文件按钮。</li>
<li>请求方法是PUT只能选一个文件，请求方法是POST则可以选多个文件。</li>
<li>上传文件后(指定PUT或POST)，Composer可创建包含适当格式的请求。<ul>
<li>使用PUT方法执行文件上传时，请求体通常包含文件的原始内容。</li>
<li>使用POST方法上传时，通常会用Content-Type值格式化请求体。</li>
</ul>
</li>
<li>请求执行时，请求体中的所有<code>@INCLUDE</code>引用会替换成指定文件的内容。</li>
</ul>
<p><img src="/../img/Fiddler/Fiddler@028.png" srcset="/img/load.gif" lazyload alt="监控面板-Composer-Upload file"></p>
<h3 id="3-Raw"><a href="#3-Raw" class="headerlink" title="(3) Raw"></a>(3) Raw</h3><ul>
<li>提供了简单的文本框，可以在该文本框中输入合适的HTTP请求。</li>
<li>如果输入的请求文本格式不对，点击Execute按钮不会发起请求。</li>
<li>Raw选项卡使用较少，多以Parsed选项卡为准。</li>
</ul>
<p><img src="/../img/Fiddler/Fiddler@029.png" srcset="/img/load.gif" lazyload alt="监控面板-Composer-Raw"></p>
<h3 id="4-Scratchpad"><a href="#4-Scratchpad" class="headerlink" title="(4) Scratchpad"></a>(4) Scratchpad</h3><ul>
<li>用于存储请求集合，如果要发出请求，选择对应的请求文本，并点击Execute按钮执行即可。</li>
</ul>
<p><img src="/../img/Fiddler/Fiddler@030.png" srcset="/img/load.gif" lazyload alt="监控面板-Composer-Scratchpad"></p>
<h3 id="5-Options"><a href="#5-Options" class="headerlink" title="(5) Options"></a>(5) Options</h3><ul>
<li>Inspect Session：勾选该项，点击Execute按钮执行请求时会跳转到Inspectors选项卡，可查看请求结果。</li>
<li>Fix Content- Length header<ul>
<li>控制Composer是否自动添加或修改Content-Length请求头，表示请求体的大小。</li>
<li>在多数情况下，缺少适当的Content-Length请求会Hang住或导致HTTP响应出错。</li>
</ul>
</li>
<li>Follow Redirects<ul>
<li>控制Composer是否自动使用响应的Location头，遵循HTTP&#x2F;3xx重定向。</li>
<li>如果勾选该项，Composer选项卡在失败之前最多会执行10次3xx重定向。</li>
</ul>
</li>
<li>Automatically Authenticate<ul>
<li>控制Composer是否自动响应服务器的HTTP&#x2F;401或HTTP&#x2F;407认证需求。</li>
<li>如果勾选该项，会使用Fiddler所运行账户的Windows证书自动响应这些问题。</li>
<li>且需要提供不同的证书集，设置Preferences的fiddler.composer.autoauth值。</li>
<li>若服务器需要的证书和提供方的证书不同，请求会失败，通常返回响应HTTP&#x2F;403。</li>
</ul>
</li>
<li>Tear off<ul>
<li>从监控面板窗口删除Composer选项卡，并将其作为独立的悬浮窗口打开查看。</li>
<li>勾选Inspect Session，点击按钮，支持同时查看Composer和Inspector选项卡。</li>
</ul>
</li>
</ul>
<p><img src="/../img/Fiddler/Fiddler@031.png" srcset="/img/load.gif" lazyload alt="监控面板-Composer-Options"></p>
<h3 id="6-序列化请求"><a href="#6-序列化请求" class="headerlink" title="(6) 序列化请求"></a>(6) 序列化请求</h3><ul>
<li>模拟某些场景，发送多个请求，这些请求除了某个有序的数字外，其他完全相同。</li>
<li>例如Flask实现的一个简单网页展示图片信息程序，图片名称基本一致，序号不同。</li>
<li>利用Fiddler的发送序列化请求，逐一访问image-001.png到image-007.png的图片。<ul>
<li>启动Flask小程序，在Composer中输入URL地址，序号部分使用<code>#</code>号代替。</li>
<li>本地小程序，URL地址为：<a target="_blank" rel="noopener" href="http://127.0.0.1:5000/image/image-#.png">http://127.0.0.1:5000/image/image-#.png</a>。</li>
<li>点击Execute按钮执行请求，此时Fiddler要求输入序号开始值，输入001。</li>
<li>OK-&gt;再输入序号结束值007-&gt;OK-&gt;Fiddler会自动计算序列且发起请求。</li>
</ul>
</li>
</ul>
<p><img src="/../img/Fiddler/Fiddler@032.png" srcset="/img/load.gif" lazyload alt="监控面板-Composer-序列化请求"></p>
<h4 id="✧-程序目录"><a href="#✧-程序目录" class="headerlink" title="✧ 程序目录"></a>✧ 程序目录</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Markdown"><span class="hljs-bullet">-</span> /static<br><span class="hljs-bullet">  -</span> /images<br><span class="hljs-bullet">    -</span> image-001.png<br><span class="hljs-bullet">    -</span> image-002.png<br><span class="hljs-bullet">    -</span> image-003.png<br><span class="hljs-bullet">    -</span> image-004.png<br><span class="hljs-bullet">    -</span> image-005.png<br><span class="hljs-bullet">    -</span> image-006.png<br><span class="hljs-bullet">    -</span> image-007.png<br><span class="hljs-bullet">-</span> /templates<br><span class="hljs-bullet">  -</span> image.html<br><span class="hljs-bullet">-</span> image.py                                                    # 命令窗口执行python image.py<br></code></pre></td></tr></table></figure>



<h4 id="✧-image-py"><a href="#✧-image-py" class="headerlink" title="✧ image.py"></a>✧ image.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> datetime<br><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask, render_template, url_for, send_file<br><br>app = Flask(__name__)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_metadata</span>(<span class="hljs-params">file_path</span>):<br>    size = os.path.getsize(file_path)                         <span class="hljs-comment"># 获取文件大小，单位字节</span><br>    mtime = os.path.getmtime(file_path)                       <span class="hljs-comment"># 获取文件最近修改时间</span><br>    modified_time = datetime.datetime.fromtimestamp(mtime).strftime(<span class="hljs-string">&#x27;%Y-%m-%d %H:%M:%S&#x27;</span>)<br>    ctime = os.path.getctime(file_path)                       <span class="hljs-comment"># 获取文件创建时间</span><br>    created_time = datetime.datetime.fromtimestamp(ctime).strftime(<span class="hljs-string">&#x27;%Y-%m-%d %H:%M:%S&#x27;</span>)<br>    <span class="hljs-keyword">return</span> size, modified_time, created_time<br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/&#x27;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">index</span>():<br>    image_names = [<span class="hljs-string">&#x27;image-001.png&#x27;</span>, <span class="hljs-string">&#x27;image-002.png&#x27;</span>, <span class="hljs-string">&#x27;image-003.png&#x27;</span>,<br>                   <span class="hljs-string">&#x27;image-004.png&#x27;</span>, <span class="hljs-string">&#x27;image-005.png&#x27;</span>, <span class="hljs-string">&#x27;image-006.png&#x27;</span>,<br>                   <span class="hljs-string">&#x27;image-007.png&#x27;</span>]<br>    image_info_list = []                                      <span class="hljs-comment"># 获取所有图片文件的元数据</span><br>    <span class="hljs-keyword">for</span> image_name <span class="hljs-keyword">in</span> image_names:<br>        file_path = os.path.join(app.static_folder, <span class="hljs-string">&#x27;images&#x27;</span>, image_name)<br>        size, modified_time, created_time = get_metadata(file_path)<br>        show_image = url_for(<span class="hljs-string">&#x27;show_image&#x27;</span>, image_name=image_name)<br>        image_info_list.append(&#123;<span class="hljs-string">&#x27;name&#x27;</span>: image_name,<br>                                <span class="hljs-string">&#x27;modified_time&#x27;</span>: modified_time,<br>                                <span class="hljs-string">&#x27;created_time&#x27;</span>: created_time,<br>                                <span class="hljs-string">&#x27;size&#x27;</span>: size,<br>                                <span class="hljs-string">&#x27;show_image&#x27;</span>: show_image&#125;)<br>    <span class="hljs-keyword">return</span> render_template(<span class="hljs-string">&#x27;image.html&#x27;</span>, image_info_list=image_info_list)<br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/image/&lt;string:image_name&gt;&#x27;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">show_image</span>(<span class="hljs-params">image_name</span>):<br>    current_dir = os.path.dirname(os.path.abspath(__file__))  <span class="hljs-comment"># 确定要下载的文件路径</span><br>    file_path = current_dir + <span class="hljs-string">&#x27;\\static\\images\\&#x27;</span> + image_name<br>    <span class="hljs-built_in">print</span>(file_path)<br><br>    <span class="hljs-keyword">if</span> os.path.isfile(file_path):                             <span class="hljs-comment"># 如果该文件存在，则返回它</span><br>        _, ext = os.path.splitext(file_path)                  <span class="hljs-comment"># 确定文件的扩展名和MIME类型</span><br>        mime_type = &#123;<br>            <span class="hljs-string">&#x27;.png&#x27;</span>: <span class="hljs-string">&#x27;image/png&#x27;</span>,<br>            <span class="hljs-string">&#x27;.jpg&#x27;</span>: <span class="hljs-string">&#x27;image/jpeg&#x27;</span>,<br>            <span class="hljs-string">&#x27;.gif&#x27;</span>: <span class="hljs-string">&#x27;image/gif&#x27;</span><br>        &#125;.get(ext.lower(), <span class="hljs-string">&#x27;application/octet-stream&#x27;</span>)<br>        <span class="hljs-keyword">return</span> send_file(file_path, as_attachment=<span class="hljs-literal">False</span>, mimetype=mime_type)<br>    <span class="hljs-keyword">else</span>:                                                     <span class="hljs-comment"># 否则返回一个错误信息</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&lt;center&gt;Error! The requested file does not exist.&lt;/center&gt;&#x27;</span><br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    app.run(debug=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure>



<h4 id="✧-image-html"><a href="#✧-image-html" class="headerlink" title="✧ image.html"></a>✧ image.html</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>图片展示<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.1.0/css/bootstrap.min.css&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;&#123;&#123; url_for(&#x27;static&#x27;, filename=&#x27;css/gallery.css&#x27;) &#125;&#125;&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;text-center&quot;</span>&gt;</span>Image Gallery<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;container&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">table</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;table table-striped&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">thead</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">tr</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;text-center&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>Image Name<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>Last Modified Time<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>Created Time<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>File Size<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>Show Link<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span><br>          <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">thead</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">tbody</span>&gt;</span><br>          &#123;% for image_info in image_info_list %&#125;<br>            <span class="hljs-tag">&lt;<span class="hljs-name">tr</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;text-center&quot;</span>&gt;</span><br>              <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>&#123;&#123; image_info[&#x27;name&#x27;] &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>              <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>&#123;&#123; image_info[&#x27;modified_time&#x27;] &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>              <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>&#123;&#123; image_info[&#x27;created_time&#x27;] &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>              <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>&#123;&#123; image_info[&#x27;size&#x27;] &#125;&#125; bytes<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>              <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;&#123;&#123; url_for(&#x27;show_image&#x27;, image_name=image_info[&#x27;name&#x27;]) &#125;&#125;&quot;</span>&gt;</span>Show<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>              <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>          &#123;% endfor %&#125;<br>        <span class="hljs-tag">&lt;/<span class="hljs-name">tbody</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>



<h2 id="4-5-Orchestra"><a href="#4-5-Orchestra" class="headerlink" title="4-5 Orchestra"></a>4-5 Orchestra</h2><ul>
<li>Orchestra<ul>
<li>抓取APP流量原理：APP连接到Orchestra服务后，Orchestra正常转发流量的同时再复制一份流量给Fiddler。</li>
<li>Fiddler-&gt;Orchestra-&gt;<code>Download Fiddler Orchestra client for Windows, Mac and Linux</code>-&gt;解压文件。</li>
<li>在当前解压的目录中，鼠标右键Git Bash Here-&gt;输入<code>dotnet FiddlerOrchestra.Client.NetCore.dll</code>回车。</li>
<li>若显示以下内容，则<a target="_blank" rel="noopener" href="https://dotnet.microsoft.com/zh-cn/download/dotnet/2.0">下载安装.NET Core 2.0</a>-&gt;另起一个Git Bash Here，输入命令回车，启动Orchestra客户端。</li>
</ul>
</li>
</ul>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Cmd">$ dotnet FiddlerOrchestra.Client.NetCore.dll                  # 缺少.<span class="hljs-built_in">NET</span> Core <span class="hljs-number">2</span>.<span class="hljs-number">0</span><br>It was <span class="hljs-keyword">not</span> possible to <span class="hljs-built_in">find</span> any compatible framework version<br>The framework &#x27;Microsoft.NETCore.App&#x27;, version &#x27;<span class="hljs-number">2</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>&#x27; (x64) was <span class="hljs-keyword">not</span> found.<br>  - The following frameworks were found:<br>      <span class="hljs-number">6</span>.<span class="hljs-number">0</span>.<span class="hljs-number">6</span> <span class="hljs-built_in">at</span> [C:\Program Files\dotnet\shared\Microsoft.NETCore.App]<br>You can resolve the problem by installing the specified framework and/or SDK.<br>The specified framework can be found <span class="hljs-built_in">at</span>:<br>  - https://aka.ms/dotnet-core-applaunch?framework=Microsoft.NETCore.App&amp;framework_version=<span class="hljs-number">2</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span><br>  &amp;arch=x64&amp;rid=win10-x64<br><br># 正常启动Fiddler Orchestra Beta客户端，具体操作可以参考[https://zhuanlan.zhihu.com/p/<span class="hljs-number">551401338</span>]<br>$ dotnet FiddlerOrchestra.Client.NetCore.dll                  # 启动后不关，后面配置Orchestra有用<br>Hosting environment: Production<br>Content root <span class="hljs-built_in">path</span>: D:\Program\FiddlerOrchestra<br>Now listening on: http://localhost:<span class="hljs-number">8800</span><br>Application started. Press Ctrl+C to shut down.<br>...<br></code></pre></td></tr></table></figure>



<h3 id="1-连接客户端"><a href="#1-连接客户端" class="headerlink" title="(1) 连接客户端"></a>(1) 连接客户端</h3><ul>
<li>管理员身份运行Fiddler-&gt;Orchestra-&gt;点Start启动监听-&gt;配置Orchestra客户端，访问<a target="_blank" rel="noopener" href="http://localhost:8800/">http://localhost:8800</a>。</li>
<li>Orchestra Connection-&gt;IP Address为127.0.0.1，Port为3636，Private key即Fiddler中的密钥-&gt;点击Connect。</li>
<li>Fiddler与Orchestra客户端连接成功，则Private key无法修改，Connect变Disconnect，Orchestra界面显示连接详细。</li>
</ul>
<p><img src="/../img/Fiddler/Fiddler@033.png" srcset="/img/load.gif" lazyload alt="监控面板-Orchestra-连接客户端"></p>
<h3 id="2-配置证书下载"><a href="#2-配置证书下载" class="headerlink" title="(2) 配置证书下载"></a>(2) 配置证书下载</h3><ul>
<li><a target="_blank" rel="noopener" href="http://localhost:8800/">http://localhost:8800</a>-&gt;HTTPS Root Certificate-&gt;Generate root certificate as PKCS#12 file-&gt;创建及下载证书。</li>
<li>将下载的证书<code>fiddler-orchestra-root-certificate.p12</code>存放到指定位置-&gt;HTTPS Root Certificate页面进行加载。</li>
<li>点击Load root certificate from PKCS#12 file-&gt;页面的顶部将显示<code>Success：HTTPS root certificate is loaded</code>。</li>
</ul>
<p><img src="/../img/Fiddler/Fiddler@034.png" srcset="/img/load.gif" lazyload alt="监控面板-Orchestra-配置证书下载"></p>
<h3 id="3-启动全部服务"><a href="#3-启动全部服务" class="headerlink" title="(3) 启动全部服务"></a>(3) 启动全部服务</h3><ul>
<li>启动全部服务：Proxy-&gt;勾选Allow remote clients to connect-&gt;Start。</li>
<li>HTTP Reverse Proxy-&gt;勾选Allow remote clients to connect-&gt;Start。</li>
<li>HTTPS Reverse Proxy-&gt;<code>File path</code>输入证书<code>fiddler-orchestra-root-certificate.p12</code>的路径-&gt;Start。</li>
<li>常用的代理服务器<ul>
<li>Proxy<ul>
<li>正向代理，是客户端与目标服务器之间的中间代理服务器。</li>
<li>将客户端请求转发到目标服务器，并将响应返回给客户端。</li>
<li>例如：某些国家因特网接入受限，或被限制访问某些网站时，使用正向代理绕过封锁。</li>
</ul>
</li>
<li>HTTP Reverse Proxy<ul>
<li>反向代理，是服务器端的代理服务器。</li>
<li>将客户端请求转发到内部网络的后端服务器，然后将响应返回给客户端。</li>
<li>隐藏在服务器端，由服务器的管理员配置，客户端无法感知代理的存在。</li>
<li>HTTP反向代理常用于负载均衡、缓存加速和安全防护等方面。</li>
</ul>
</li>
<li>HTTPS Reverse Proxy<ul>
<li>SSL&#x2F;TLS反向代理，是一种基于加密的反向代理，用于安全传输Web页面和其他数据。</li>
<li>与HTTP反向代理类似，但在连接客户端和服务器之间的通信时采用SSL&#x2F;TLS协议加密。</li>
<li>有效地保护Web接口的安全性，避免敏感信息，如用户名和密码等，在传输过程中被窃取和篡改。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="4-与手机端连接"><a href="#4-与手机端连接" class="headerlink" title="(4) 与手机端连接"></a>(4) 与手机端连接</h3><ul>
<li>点击Fiddler Orchestra Beta选项卡中的Download Fiddler Orchestra client for Android，下载安装到手机端。</li>
<li>Fiddler-&gt;菜单栏-&gt;Tools-&gt;Options-&gt;Connections选项中的Allow remote computers to connect保持勾选。</li>
<li>Fiddler Orchestra Beta客户端与手机端建立连接，要求客户端和手机端在同一局域网内(使用相同WiFi网络)。</li>
<li>打开手机端的Fiddler Orchestra Beta客户端，在Orchestra Connection页面分别输入IP地址、端口号、Key值。<ul>
<li>IP地址：Fiddler的工具面板Online查看到的IP地址，也可命令窗口输入<code>ipconfig</code>查看IPv4地址。</li>
<li>端口号：这里应该是指<a target="_blank" rel="noopener" href="http://localhost:8800/">http://localhost:8800</a>的Proxy页面设置的<code>Listen on port</code>，默认是8866。</li>
<li>Key值<ul>
<li>电脑端的Fiddler Orchestra Beta客户端中生成的SSL密钥(具体在哪没找到，与手机端连接失败)。</li>
<li>Fiddler-&gt;菜单栏-&gt;Tools-&gt;Options-&gt;HTTPS-&gt;certificates generated by CertEnroll engine。</li>
</ul>
</li>
</ul>
</li>
<li>手机端与电脑端建立连接，除了使用USB数据线进行操作，还支持无线连接(保证两端处于同一WiFi环境下)。</li>
</ul>
<h2 id="4-6-FiddlerScript"><a href="#4-6-FiddlerScript" class="headerlink" title="4-6 FiddlerScript"></a>4-6 FiddlerScript</h2><ul>
<li>FiddlerScript<ul>
<li>Fiddler上的一个addon插件，或说是一个hook文件，实现了<code>Go to</code>的九大事件。</li>
<li>很多设置菜单，也是在这个脚本中编写的，支持自定义修改，例如User-Agents。</li>
</ul>
</li>
</ul>
<p><img src="/../img/Fiddler/Fiddler@035.png" srcset="/img/load.gif" lazyload alt="监控面板-FiddlerScript"></p>
<h3 id="1-语言模式"><a href="#1-语言模式" class="headerlink" title="(1) 语言模式"></a>(1) 语言模式</h3><ul>
<li>FiddlerScript有C#和JScript.NET这两种开发语言模式，可依据偏好设置。</li>
<li>切换语言：菜单栏-&gt;Tools-&gt;Options-&gt;Scripting-&gt;Language一栏可选。</li>
<li>对应Fiddler安装目录Scripts文件夹中的SampleRules.cs(C#)和SampleRules.js(JScript.NET)。</li>
</ul>
<p><img src="/../img/Fiddler/Fiddler@036.png" srcset="/img/load.gif" lazyload alt="监控面板-FiddlerScript-语言模式"></p>
<h3 id="2-编辑模式"><a href="#2-编辑模式" class="headerlink" title="(2) 编辑模式"></a>(2) 编辑模式</h3><ul>
<li>监控面板的FiddlerScript选项卡，支持文本编辑，<code>Save Script</code>保存文本。</li>
<li>菜单栏-&gt;Rules-&gt;Customize Rules-&gt;弹窗Fiddler ScriptEditor进行编辑。</li>
<li>若脚本写错，或改乱无法正确保存，可在菜单栏-&gt;Tools-&gt;Reset Script重置脚本内容。</li>
</ul>
<p><img src="/../img/Fiddler/Fiddler@037.png" srcset="/img/load.gif" lazyload alt="监控面板-FiddlerScript-编辑模式"></p>
<h2 id="4-7-Log"><a href="#4-7-Log" class="headerlink" title="4-7 Log"></a>4-7 Log</h2><ul>
<li>Log<ul>
<li>Fiddler的Log选项卡收集日志消息字符串，这些字符串由扩展、FiddlerScript或Fiddler本身生成。</li>
<li>记录应用事件(保存为SAZ文件)，以及系统事件的响应通知，例如：系统的网络连接丢失或恢复。</li>
<li>在Log选项卡页面，鼠标右键显示的一些命令说明。<ul>
<li>Copy：把选中的文本复制到剪贴板。</li>
<li>Send to Session List：将事件日志作为会话保存到Web会话列表。</li>
<li>Save to File：将当前日志保存到磁盘文件中，以纯文本(.txt)或富文本(.rtf)格式保存。</li>
<li>Clear：清空Log选项卡中的所有文本。</li>
</ul>
</li>
<li>Log选项卡支持简单的宏命令，可以从QuickExec命令输入栏中调用这些命令。<ul>
<li><code>log @Log.Clear</code>：清空日志。</li>
<li><code>log @Log.Save</code>：在Web会话列表中生成新的会话，响应体包含Log选项卡的文本内容。</li>
<li><code>log &quot;@Log.Export(\&quot;filename\&quot;)&quot;</code>：将Log选项卡文本保存到系统桌面的.rtf文件中。</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="/../img/Fiddler/Fiddler@038.png" srcset="/img/load.gif" lazyload alt="监控面板-Log"></p>
<h2 id="4-8-Filters"><a href="#4-8-Filters" class="headerlink" title="4-8 Filters"></a>4-8 Filters</h2><ul>
<li>Filters<ul>
<li>过滤器提供了非常方便地将简单的过滤规则，应用到正在捕捉的数据会话流上的方法。</li>
<li>Filters上的所有操作都可以在FiddlerScript中模拟，简单任务直接使用过滤满足即可。</li>
<li>功能包括：隐藏&#x2F;显示会话、添加会话标识、断点调试、阻断发送请求、修改数据头等。</li>
<li>过滤器还可以为隐藏的会话提供代理功能，即使在Web会话列表中并没有显示这些会话。</li>
<li>Use Filters：是否开启过滤器。</li>
<li>Actions：支持把当前选中的过滤器作为过滤集，并对之前捕捉到的数据流应用当前过滤规则。<ul>
<li>Run Filterset now：立即运行过滤器设置。</li>
<li>Load Filterset：加载过滤器设置。</li>
<li>Save Filterset：保存过滤器设置。</li>
</ul>
</li>
<li>修改过滤器后，需执行Actions的<code>Run Filterset now</code>按钮，使修改后的过滤器配置立即生效。</li>
</ul>
</li>
</ul>
<p><img src="/../img/Fiddler/Fiddler@039.png" srcset="/img/load.gif" lazyload alt="监控面板-Filters"></p>
<h3 id="1-Hosts"><a href="#1-Hosts" class="headerlink" title="(1) Hosts"></a>(1) Hosts</h3><ul>
<li>区域过滤(Zone Filter)<ul>
<li>Show only Intranet Hosts：只列出属于局域网的会话。</li>
<li>Show only Internet Hosts：只列出属于互联网的会话。</li>
</ul>
</li>
<li>主机过滤(Host Filter)<ul>
<li>Hide the following Hosts：隐藏Hosts输入框输入的主机。</li>
<li>Show only the following Hosts：仅显示Hosts输入框输入的主机。</li>
<li>Flag the following Hosts：在Web会话列表中加粗显示Hosts输入框输入的主机所有会话。</li>
</ul>
</li>
<li>Hosts输入框不会通过通配符自动匹配子域名，若设置了<code>Show only the following Hosts</code>。</li>
<li>并且列表中只有<code>xxx.com</code>，则无法看到<code>www.xxx.com</code>网站下的数据流，需改成<code>*.xxx.com</code>。</li>
<li>若想看根目录<code>xxx.com</code>下的数据流，将通配符改成<code>*xxx.com</code>的形式，多个host用分号隔开。</li>
</ul>
<p><img src="/../img/Fiddler/CPicon/CPicon@001.png" srcset="/img/load.gif" lazyload alt="监控面板-Filters-Hosts"></p>
<h3 id="2-Client-Process"><a href="#2-Client-Process" class="headerlink" title="(2) Client Process"></a>(2) Client Process</h3><ul>
<li>客户端进程用于控制进程的数据流，应用程序只有和Fiddler运行在相同的主机时才能做出判断。</li>
<li>Show only traffic from：只显示选中进程下的数据流(注意：下拉列表包含了当前系统中，正在运行的所有进程)。</li>
<li>Show only Internet Explorer：只显示进程名以IE开头，或请求的User-Agent包含<code>compatible; MSIE</code>的数据流。</li>
<li>Hide traffic from Service Host：隐藏来自进程<code>svchost.exe</code>的数据流，该进程是一个系统进程。</li>
</ul>
<p><img src="/../img/Fiddler/CPicon/CPicon@002.png" srcset="/img/load.gif" lazyload alt="监控面板-Filters-Client Process"></p>
<h3 id="3-Request-Headers"><a href="#3-Request-Headers" class="headerlink" title="(3) Request Headers"></a>(3) Request Headers</h3><ul>
<li>Show only if URL contains：支持基于URL隐藏请求，仅显示感兴趣的请求。</li>
<li>Hide if URL contains<ul>
<li>支持基于URL显示请求，仅隐藏某些请求，可以使用前缀<code>EXACT</code>来限定大小写敏感。</li>
<li><code>EXACT:www.example.com/api</code>，<code>REGEX:(?insx).*\.(gif|png|jpg)$</code>只显示图片。</li>
</ul>
</li>
<li>Flag requests with headers：支持指定HTTP请求头名称，如果会话列表中存在，则加粗显示。</li>
<li>Delete request headers：支持指定HTTP请求头名称，如果包含该请求头，那么删除该请求头。</li>
<li>Set request header：支持创建指定名称和取值的HTTP请求头，或将请求头更新为指定的取值。</li>
</ul>
<p><img src="/../img/Fiddler/CPicon/CPicon@003.png" srcset="/img/load.gif" lazyload alt="监控面板-Filters-Request Headers"></p>
<h3 id="4-Breakpoints"><a href="#4-Breakpoints" class="headerlink" title="(4) Breakpoints"></a>(4) Breakpoints</h3><ul>
<li>断点选项框支持对包含给定属性的请求或响应设置断点。</li>
<li>Break request on POST：为所有的POST请求设置断点。</li>
<li>Break request on GET with query string：为所有方法为GET且URL包含查询串的请求设置断点。</li>
<li>Break on XMLHttpRequest：对所有能够确定是通过XMLHttpRequest对象发送的请求设置断点。<ul>
<li>通过查找请求头是否为<code>X-Requested-With</code>来实现的，该请求头由jQuery框架添加。</li>
<li>还会检查请求头是否为<code>X-Download-Initiator</code>，IE10及更高版本可配置该请求头。</li>
</ul>
</li>
<li>Break response on Content-Type：为所有响应头Content-Type中包含指定文本的响应设置断点。</li>
</ul>
<p><img src="/../img/Fiddler/CPicon/CPicon@004.png" srcset="/img/load.gif" lazyload alt="监控面板-Filters-Breakpoints"></p>
<h3 id="5-Response-Status-Code"><a href="#5-Response-Status-Code" class="headerlink" title="(5) Response Status Code"></a>(5) Response Status Code</h3><ul>
<li>Hide success(2xx)：隐藏状态码在200到299之间的响应。</li>
<li>Hide non-2xx：指隐藏状态码不在200到299之间的响应。</li>
<li>Hide Authentication demands(401,407)：隐藏状态码为401，和407的响应。</li>
<li>Hide redirects(300,301,302,303,307)：隐藏对请求进行重定向的响应。</li>
<li>Hide Not Modified(304)：隐藏请求中状态码为304的响应，表示客户端缓存的实体是有效的。</li>
</ul>
<p><img src="/../img/Fiddler/CPicon/CPicon@005.png" srcset="/img/load.gif" lazyload alt="监控面板-Filters-Response Status Code"></p>
<h3 id="6-Response-Type-and-Size"><a href="#6-Response-Type-and-Size" class="headerlink" title="(6) Response Type and Size"></a>(6) Response Type and Size</h3><ul>
<li>下拉框选项<ul>
<li>Show all Content-Types(显示所有响应，不过滤)、Show only IMAGE&#x2F;*(只显示图片类型的响应)。</li>
<li>Show only HTML(只显示HTML文档的响应)、Show only TEXT&#x2F;CSS(只显示CSS层叠样式表的响应)。</li>
<li>Show only SCRIPTS(只显示脚本类型的响应)、Show only XML(只显示XML类型的响应)。</li>
<li>Show only JSON(只显示JSON类型的响应)、Hide IMAGE&#x2F;*(代表只隐藏图片类型的响应)。</li>
</ul>
</li>
<li>其他勾选框<ul>
<li>Hide smaller than：隐藏响应体小于指定字节数的响应。</li>
<li>Hide larger than：隐藏响应体大于指定字节数的响应。</li>
<li>Time HeatMap：基于服务器返回给定响应所需的时间为每个会话设置背景颜色。</li>
<li>Block scriptfile：如果返回的响应头指定Content-Type为脚本，返回404响应。</li>
<li>Block imagefile：如果返回的响应头指定Content-Type为图像，返回404响应。</li>
<li>Block SWF file：如果返回的响应头指定Content-Type为Flash，返回404响应(即application&#x2F;x-shockwave-flash)。</li>
<li>Block CSS file：如果返回的响应头指定Content-Type为CSS，返回404响应。</li>
</ul>
</li>
</ul>
<p><img src="/../img/Fiddler/CPicon/CPicon@006.png" srcset="/img/load.gif" lazyload alt="监控面板-Filters-Response Type and Size"></p>
<h3 id="7-Response-Headers"><a href="#7-Response-Headers" class="headerlink" title="(7) Response Headers"></a>(7) Response Headers</h3><ul>
<li>Flag responses that set cookies：以粗体显示所有响应头包含Set-Cookie的响应。</li>
<li>Flag responses with headers：支持指定HTTP响应头名称，如果响应中该HTTP头存在，以粗体显示。</li>
<li>Delete response headers：支持指定HTTP响应头名称，如果存在该响应头名称，会从响应头中删去。</li>
<li>Set response header：支持创建或更新HTTP响应头，可自定义设置取值。</li>
</ul>
<p><img src="/../img/Fiddler/CPicon/CPicon@007.png" srcset="/img/load.gif" lazyload alt="监控面板-Filters-Response Headers"></p>
<h2 id="4-9-TimeLine"><a href="#4-9-TimeLine" class="headerlink" title="4-9 TimeLine"></a>4-9 TimeLine</h2><ul>
<li>TimeLine<ul>
<li>支持使用瀑布模型查看选中的会话，对于性能分析和理解请求之间的关联很有帮助。</li>
<li>主要内容即数据流视图，上方显示标题，显示传输时间轴模式(Transfer Timeline)。</li>
<li>右上方有一个Help帮助链接，点击该链接可在浏览器中打开关于该功能的帮助信息。</li>
<li>鼠标右键选项<ul>
<li>AutoScale Chart：自动缩放图表，水平自适应调节图形宽度。</li>
<li>Copy Chart：复制图表，支持将图形以位图格式拷贝到剪贴板。</li>
<li>Mode：控制图形显示模式。<ul>
<li>Timeline：时间轴模式，通过时间轴线条显示每个会话，用彩色条表示时间段。</li>
<li>Client Pipe Map：客户端管道模式。<ul>
<li>显示每个时间轴的客户端进程和Fiddler之间的连接。</li>
<li>多个Session之间重用的连接将会以多种彩色条显示。</li>
</ul>
</li>
<li>Server Pipe Map：服务端管道模式。<ul>
<li>显示每个时间轴的Fiddler和上游服务器之间的连接。</li>
<li>多个Session之间重用的连接将会以多种彩色条显示。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>客户端和服务端管道模式显示客户端和服务器之间如何复用连接，有助于判断性能瓶颈。</li>
<li>时间轴选项卡不显示任何CONNECT通道，即在会话列表中Host显示为Tunnel to的会话。</li>
<li>因为通道的数据流可能是模糊的，也可能是由一个或多个解密的HTTPS Web会话项跟踪。</li>
</ul>
</li>
</ul>
<p><img src="/../img/Fiddler/Fiddler@040.png" srcset="/img/load.gif" lazyload alt="监控面板-TimeLine-传输时间轴"></p>
<h3 id="1-传输时间轴"><a href="#1-传输时间轴" class="headerlink" title="(1) 传输时间轴"></a>(1) 传输时间轴</h3><ul>
<li>每行显示一个会话，最左边是文件名，将鼠标放到任意行上方，底部的状态栏将显示该项的更多信息。</li>
<li>双击某行会跳转到Inspectors选项卡，显示该会话的详细信息。</li>
<li>如果双击的同时按SHIFT键，会在新的窗口显示该会话的信息。</li>
<li>条形栏颜色由响应的MIME类型决定：图像浅绿色，JavaScript深绿色，CSS紫色，其他类型蓝色。</li>
<li>传输条形栏在客户端开始向Fiddler发送请求时开始绘制，当发送回客户端的响应收到后完成绘制。</li>
<li>条形栏中黑色竖线表示接收到服务端响应的第一个字节时间，前面的两个小圆圈表示会话是否是复用连接进行传输。<ul>
<li>绿色的圆圈表示连接是复用的，红色的圆圈表示连接是新创建的。</li>
<li>上方的圆圈表示客户端到Fiddler之间的连接，而下方的圆圈表示Fiddler到服务器之间的连接。</li>
</ul>
</li>
<li>条形栏用阴影线表示缓存模式，HTTP响应被Fiddler缓存，会话在完成前不会开始下载图片，缓存将改变瀑布模型。</li>
<li>条形栏用平滑线表示流模式，Fiddler将数据流式地转发给客户端，Stream模式每次下载的数据将直接返回给客户端。</li>
<li>条形栏后面的图标说明<ul>
<li>红色X图标：表示服务器发送了请求头<code>Connection: close</code>。</li>
<li>对于HTTP&#x2F;1.0类型的响应，指发送请求头<code>Connection: Keep-Alive</code>失败，阻止后续请求重用该连接。</li>
<li>灰色箭头：表示服务器响应是状态码302重定向。</li>
<li>红色感叹号：表示服务器返回4xx，或5xx错误码。</li>
</ul>
</li>
</ul>
<h4 id="✧-缓存模式"><a href="#✧-缓存模式" class="headerlink" title="✧ 缓存模式"></a>✧ 缓存模式</h4><p><img src="/../img/Fiddler/GMico/GMico@001.png" srcset="/img/load.gif" lazyload alt="监控面板-TimeLine-传输时间轴-缓存模式"></p>
<h4 id="✧-流模式"><a href="#✧-流模式" class="headerlink" title="✧ 流模式"></a>✧ 流模式</h4><p><img src="/../img/Fiddler/GMico/GMico@002.png" srcset="/img/load.gif" lazyload alt="监控面板-TimeLine-传输时间轴-流模式"></p>
<h4 id="✧-图标说明"><a href="#✧-图标说明" class="headerlink" title="✧ 图标说明"></a>✧ 图标说明</h4><p><img src="/../img/Fiddler/GMico/GMico@003.png" srcset="/img/load.gif" lazyload alt="监控面板-TimeLine-传输时间轴-图标说明"></p>
<h3 id="2-客户端管道"><a href="#2-客户端管道" class="headerlink" title="(2) 客户端管道"></a>(2) 客户端管道</h3><ul>
<li>Client Pipe Map模式下，显示每个时间轴的客户端进程和Fiddler之间的连接。</li>
<li>左侧显示连接标识符，包括：进程名称、进程ID、客户端的端口号。<ul>
<li>例如：连接标识符360se:7668(p58566)，客户端为360se，进程编号7668，端口号58566。</li>
<li>同一进程同一端口号的会话，将在同一条形栏中显示，同一进程不同端口号则多个栏目显示。</li>
</ul>
</li>
</ul>
<p><img src="/../img/Fiddler/GMico/GMico@004.png" srcset="/img/load.gif" lazyload alt="监控面板-TimeLine-客户端管道"></p>
<h3 id="3-服务端管道"><a href="#3-服务端管道" class="headerlink" title="(3) 服务端管道"></a>(3) 服务端管道</h3><ul>
<li>Server Pipe Map模式下，显示每个时间轴的Fiddler和上游服务器之间的连接。</li>
<li>左侧显示连接标识符，包括：Fiddler端的端口号、目标主机名。<ul>
<li>例如：p58571-&gt;localhost:4000，Fiddler使用端口58571连接到localhost的4000端口。</li>
<li>一条形栏代表一个连接，一个连接支持被多个会话复用，下图选择的会话都属于两两复用。</li>
</ul>
</li>
</ul>
<p><img src="/../img/Fiddler/GMico/GMico@005.png" srcset="/img/load.gif" lazyload alt="监控面板-TimeLine-服务端管道"></p>
<h3 id="4-做性能分析"><a href="#4-做性能分析" class="headerlink" title="(4) 做性能分析"></a>(4) 做性能分析</h3><ul>
<li>时间轴是一种对应用程序使用网络的富信息视图表示。<ul>
<li>依据条形栏的长短可以找出响应快慢的请求：越短响应越快，越长响应越慢。</li>
<li>浏览器开启线程数有限，默认请求数为6个，由于连接限制也会带来性能瓶颈。</li>
<li>若有红色X图标，表示服务器发送了请求头<code>Connection: close</code>，阻止后续请求重用该连接。</li>
</ul>
</li>
</ul>
<p><img src="/../img/Fiddler/Fiddler@041.png" srcset="/img/load.gif" lazyload alt="监控面板-TimeLine-做性能分析"></p>
<h1 id="5-状态面板"><a href="#5-状态面板" class="headerlink" title="5 状态面板"></a>5 状态面板</h1><ul>
<li>状态面板<ul>
<li>启用&#x2F;禁用抓包Capturing：<img src="/../img/Fiddler/SBicon/SBicon@001.png" srcset="/img/load.gif" lazyload alt="状态面板-启用/禁用抓包Capturing">表示正在抓包，鼠标单击图标，切换成空白则表示禁用抓包。</li>
<li>点击<img src="/../img/Fiddler/SBicon/SBicon@002.png" srcset="/img/load.gif" lazyload alt="状态面板-正在捕获的进程All Processes">，选择抓取HTTP数据报文的选项。<ul>
<li>All Processes：抓取所有进程的报文。</li>
<li>Web Browsers：仅抓取浏览器进程的报文。</li>
<li>Non-Browser：仅抓取非浏览器进程的报文，国内一些非主流浏览器可能不会被当做浏览器进程。</li>
<li>Hide All：过滤掉所有进程的HTTP报文，和禁用抓包效果一致，即在会话列表中不显示任何会话。</li>
</ul>
</li>
<li>断点：调试器的功能之一，支持让程序中断在需要的地方，从而方便其分析。<ul>
<li>全局请求断点<img src="/../img/Fiddler/SBicon/SBicon@003.png" srcset="/img/load.gif" lazyload alt="状态面板-全局请求断点">：将用户请求发送给服务器之前，打一个全局请求断点，可对请求进行修改。</li>
<li>全局响应断点<img src="/../img/Fiddler/SBicon/SBicon@004.png" srcset="/img/load.gif" lazyload alt="状态面板-全局响应断点">：将服务器的响应发送到客户端之前，打一个全局响应断点，可以修改响应。</li>
<li>取消断点<ul>
<li>逐个释放断点：选中被打断点的请求，点击监控面板中的按钮<img src="/../img/Fiddler/SBicon/SBicon@005.png" srcset="/img/load.gif" lazyload alt="监控面板-Run to Completion">。</li>
<li>释放全部断点：点击工具面板中的恢复断点执行按钮<img src="/../img/Fiddler/SBicon/SBicon@006.png" srcset="/img/load.gif" lazyload alt="工具面板-Go">，即可释放全部断点。</li>
</ul>
</li>
</ul>
</li>
<li>会话数<img src="/../img/Fiddler/SBicon/SBicon@007.png" srcset="/img/load.gif" lazyload alt="状态面板-Number of sessions">，显示了当前抓取的总会话数(右侧数值)，以及选中的会话数(左侧数值)。</li>
<li>状态信息<ul>
<li><img src="/../img/Fiddler/SBicon/SBicon@008.png" srcset="/img/load.gif" lazyload alt="状态面板-Status Information">，默认显示选中的第一个会话的URL。</li>
<li>还支持显示操作结果的概要信息，例如：加载文件、保存SAZ文件等。</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="/../img/Fiddler/Fiddler@042.png" srcset="/img/load.gif" lazyload alt="状态面板"></p>
<h1 id="6-命令输入栏"><a href="#6-命令输入栏" class="headerlink" title="6 命令输入栏"></a>6 命令输入栏</h1><ul>
<li>命令输入栏<ul>
<li>Fiddler处于活动状态时，<code>Alt+Q</code>快捷键可以把光标快速定位到QuickExec命令输入框。</li>
<li>Fiddler没有处于活动状态时，使用<code>CTRL+ALT+F</code>激活窗口，再使用<code>Alt+Q</code>快捷键定位。</li>
<li>当光标定位在QuickExec命令输入框时，<code>CTRL+I</code>键会把选中的第一个会话URL插入到命令输入框中。</li>
<li>还可以选中多个会话，一起拖动到QuickExec命令输入框中释放，此时选中的会话URL都将插入其中。</li>
<li>支持从系统任意位置处拖动一个或多个文件到QuickExec命令输入框中释放，输入框将显示文件路径。</li>
<li>在QuickExec命令输入框中输入<code>help</code>回车，将自动打开浏览器，关于QuickExce的在线命令帮助文档。<ul>
<li><code>start</code>开启抓包，<code>stop</code>停止抓包，<code>quit</code>关闭Fiddler。</li>
<li><code>cls</code>或<code>clear</code>清理会话列表，<code>hide</code>将Fiddler最小化到任务栏的托盘上。</li>
<li>文本查找：<code>?searchtext</code>，高亮显示会话列表包含<code>searchtext</code>文本的会话。</li>
<li>匹配主机：<code>@host</code>，高亮显示会话列表中请求主机名包含<code>host</code>的会话，例如<code>@sougo.com</code>。</li>
<li>状态或方法过滤：<code>=404</code>或<code>=POST</code>，高亮显示会话列表中等于指定状态码或指定方法的会话。</li>
<li>响应大小过滤：<code>&gt;size</code>，高亮显示会话列表中响应大小大于<code>size</code>字节的会话，<code>&lt;size</code>反之。</li>
<li>执行DNS查找：<code>!dns www.baidu.com</code>，对百度首页执行DNS查找并在Log选项卡上显示结果。</li>
<li>突出显示会话：<code>bold sometext</code>，后续抓到包含<code>sometext</code>字符串的会话加粗显示，<code>bold</code>回车取消。</li>
<li>断点<ul>
<li><code>bpv method</code>，将在抓到方法为<code>method</code>的会话上添加请求断点，<code>bpv</code>回车取消操作。</li>
<li><code>bps status</code>，将在抓到状态为<code>status</code>的会话上添加响应断点，<code>bps</code>回车取消操作。</li>
<li><code>bpu sometext</code>，将在抓到包含<code>sometext</code>字符串的URI会话上添加请求断点，<code>bpu</code>回车取消操作。</li>
<li><code>bpafter sometext</code>，将在抓到包含<code>sometext</code>字符串的会话上添加响应断点，<code>bpafter</code>回车取消。</li>
<li><code>g</code>或<code>go</code>，恢复所有断点会话。</li>
</ul>
</li>
<li>过滤<ul>
<li><code>select sometext</code>，将选择响应Content-Type头包含指定的<code>sometext</code>字符串的任何会话。</li>
<li>支持其他过滤方式，提供两个内置变量<code>@Request</code>和<code>@Response</code>对象，支持过滤其他头字段。</li>
<li>例：<code>select @Request.User-Agent Mozilla</code>选择所有用户User-Agent包含Mozilia的会话。</li>
</ul>
</li>
<li>会话备份：<code>dump</code>，将所有会话转储到系统盘中的zip存档，路径在状态面板的状态信息栏中可见。</li>
<li>替换URL：<code>urlreplace str1 str2</code>，将抓到会话的URL中<code>str1</code>替换成<code>str2</code>，<code>urlreplace</code>回车取消。</li>
<li>监听额外端口：<code>!listen *PORT [CERTHOSTNAME]*</code>，例如<code>!listen 8889</code>、<code>!listen 4000 localhost</code>。</li>
<li>条件隐藏：<code>allbut text</code>或<code>keeponly text</code>，隐藏响应会话的Content-Type中未包含<code>text</code>的所有会话。</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="/../img/Fiddler/Fiddler@043.png" srcset="/img/load.gif" lazyload alt="命令输入栏"></p>
<h1 id="7-应用快捷键"><a href="#7-应用快捷键" class="headerlink" title="7 应用快捷键"></a>7 应用快捷键</h1><ul>
<li>应用快捷键<ul>
<li>任何情况下都可使用系统级别的热键<code>Ctrl + Alt + F</code>激活Fiddler，还提供了其他热键(略)。</li>
<li>全局热键支持自定义修改，菜单栏-&gt;Tools-&gt;Options-&gt;General-&gt;Systemwide Hostkey。</li>
</ul>
</li>
</ul>
<p><img src="/../img/Fiddler/Fiddler@044.png" srcset="/img/load.gif" lazyload alt="应用快捷键"></p>
<h1 id="8-Fiddler插件"><a href="#8-Fiddler插件" class="headerlink" title="8 Fiddler插件"></a>8 Fiddler插件</h1><ul>
<li>Fiddler插件<ul>
<li><a target="_blank" rel="noopener" href="https://www.telerik.com/fiddler/add-ons">https://www.telerik.com/fiddler/add-ons</a>：提供了很多常用的Fiddler插件。</li>
<li>性能相关：neXpert(性能报告生成器，免费)、StresStimulus(负载能力测试扩展支持，试用)。</li>
<li>安全相关<ul>
<li>x5s(评估网站漏洞，包括跨站脚本错误，开源)、Ammonite(监测常见的网站漏洞，试用)。</li>
<li>Watcher(被动安全审计器，开源)、intruder21(支持对Web应用程序执行模糊测试，免费)。</li>
</ul>
</li>
<li>其他插件<ul>
<li>Javascript Formatter(可格式化JavaScript)、Gallery(显示选中会话中的所有图片)。</li>
<li>Traffic Differ(对比捕获的两套流量)、PDF View(PDF检查器，生成PDF文件预览)。</li>
<li>Content Blocker(内容拦截器)、Show Image Bloat(扫描图像文件以查找不必要的嵌入元数据)。</li>
<li>Willow(统计数据包、修改Host、请求重定向、编码转换、低网速模拟、慢速网络模拟可视化等)。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="8-1-Willow"><a href="#8-1-Willow" class="headerlink" title="8-1 Willow"></a>8-1 Willow</h2><ul>
<li>Willow<ul>
<li>官网：<a target="_blank" rel="noopener" href="http://qzonetouch.github.io/commonWidget/willow">http://qzonetouch.github.io/commonWidget/willow</a>。</li>
<li>插件功能<ul>
<li>修改Host、断点调试、统计数据包、编码转换、过滤HTTP请求。</li>
<li>环境切换、请求重定向、低网速模拟、慢速网络模拟可视化等等。</li>
</ul>
</li>
<li>点击当前版本进行下载，解压<code>WillowSetup-1.5.2.zip</code>，安装插件前先关闭Fiddler软件。</li>
<li>使用Willow创建三个项目，分别为开发&#x2F;测试&#x2F;正式环境，通过项目复选框可快速在三个环境之间进行切换。</li>
<li>真实项目中可能有几十上百个规则，分环境管理十分方便，避免了手动点击规则进行环境切换的繁杂操作。</li>
</ul>
</li>
</ul>
<p><img src="/../img/Fiddler/Fiddler@045.png" srcset="/img/load.gif" lazyload alt="Fiddler插件-Willow"></p>
<h2 id="8-2-Gallery"><a href="#8-2-Gallery" class="headerlink" title="8-2 Gallery"></a>8-2 Gallery</h2><ul>
<li>Gallery<ul>
<li>下载：<a target="_blank" rel="noopener" href="https://telerik-fiddler.s3.amazonaws.com/fiddler/addons/fiddlergallerysetup.exe">https://telerik-fiddler.s3.amazonaws.com/fiddler/addons/fiddlergallerysetup.exe</a>。</li>
<li>支持显示所选会话中的所有图像缩略图，还提供了带有可选图像效果的全屏幻灯片显示模式。</li>
<li>选多个响应是图片的sessions会话，Gallery选项卡将以缩略图形式展示选中的所有会话图片。</li>
</ul>
</li>
</ul>
<p><img src="/../img/Fiddler/Fiddler@046.png" srcset="/img/load.gif" lazyload alt="Fiddler插件-Gallery"></p>
<h2 id="8-3-PDF-View"><a href="#8-3-PDF-View" class="headerlink" title="8-3 PDF View"></a>8-3 PDF View</h2><ul>
<li>PDF View<ul>
<li>下载：<a target="_blank" rel="noopener" href="https://telerik-fiddler.s3.amazonaws.com/fiddler/addons/fiddlerpdfviewsetup.exe">https://telerik-fiddler.s3.amazonaws.com/fiddler/addons/fiddlerpdfviewsetup.exe</a>。</li>
<li>浏览器访问一个在线的PDF文件地址，打开Fiddler，会话面板中找到该请求，查看监控面板。</li>
<li>选择Inspectors选项卡，点击响应中的PDFView选项卡就可以预览了(个人感觉插件不太好用)。</li>
</ul>
</li>
</ul>
<p><img src="/../img/Fiddler/Fiddler@047.png" srcset="/img/load.gif" lazyload alt="Fiddler插件-PDF View"></p>
<h2 id="8-4-Traffic-Differ"><a href="#8-4-Traffic-Differ" class="headerlink" title="8-4 Traffic Differ"></a>8-4 Traffic Differ</h2><ul>
<li>Traffic Differ<ul>
<li>下载：<a target="_blank" rel="noopener" href="https://telerik-fiddler.s3.amazonaws.com/fiddler/addons/fiddlersazdiffsetup.exe">https://telerik-fiddler.s3.amazonaws.com/fiddler/addons/fiddlersazdiffsetup.exe</a>。</li>
<li>现实开发中，网站优化前保存一完整的会话序列，优化后再保存一个，通过对比看优化作用。</li>
</ul>
</li>
</ul>
<p><img src="/../img/Fiddler/Fiddler@048.png" srcset="/img/load.gif" lazyload alt="Fiddler插件-Traffic Differ"></p>
<h2 id="8-5-Show-Image-Bloat"><a href="#8-5-Show-Image-Bloat" class="headerlink" title="8-5 Show Image Bloat"></a>8-5 Show Image Bloat</h2><ul>
<li>Show Image Bloat<ul>
<li>下载：<a target="_blank" rel="noopener" href="https://telerik-fiddler.s3.amazonaws.com/fiddler/addons/fiddlershowimagebloat.exe">https://telerik-fiddler.s3.amazonaws.com/fiddler/addons/fiddlershowimagebloat.exe</a>。</li>
<li>查找不必要的嵌入元数据，这些数据通常是编辑的过程产物，会增大文件大小并降低网站的速度。</li>
<li>菜单栏-&gt;Rules-&gt;单击Show Image Bloat，开启扫描图像文件，以查找不必要的嵌入元数据功能。</li>
</ul>
</li>
</ul>
<p><img src="/../img/Fiddler/Fiddler@049.png" srcset="/img/load.gif" lazyload alt="Fiddler插件-Show Image Bloat"></p>
<h2 id="8-6-Javascript-Formatter"><a href="#8-6-Javascript-Formatter" class="headerlink" title="8-6 Javascript Formatter"></a>8-6 Javascript Formatter</h2><ul>
<li>Javascript Formatter<ul>
<li>下载：<a target="_blank" rel="noopener" href="https://telerik-fiddler.s3.amazonaws.com/fiddler/addons/fiddlerjsformatsetup.exe">https://telerik-fiddler.s3.amazonaws.com/fiddler/addons/fiddlerjsformatsetup.exe</a>。</li>
<li>支持格式化JavaScript，会话面板中选择一个JavaScript会话，右键点Make JavaScript Pretty。</li>
<li>右侧监控面板-&gt;Inspectors选项卡-&gt;在响应部分选SyntaxView-&gt;此时压缩的Js代码已格式化。</li>
<li>或菜单栏-&gt;Rules-&gt;单击Make JavaScript Pretty，开启当前选中的JavaScript会话格式化功能。</li>
</ul>
</li>
</ul>
<p><img src="/../img/Fiddler/Fiddler@050.png" srcset="/img/load.gif" lazyload alt="Fiddler插件-Javascript Formatter"></p>
<h1 id="9-Fiddler抓包"><a href="#9-Fiddler抓包" class="headerlink" title="9 Fiddler抓包"></a>9 Fiddler抓包</h1><ul>
<li>Fiddler抓包<ul>
<li>HTTPS，Hyper Text Transfer Protocol over SecureSocket Layer，HTTP+TLS&#x2F;SSL协议构建。</li>
<li>通过数字证书、加密算法、非对称密钥等技术完成互联网数据传输加密、身份认证的网络协议。</li>
<li>设计目标：数据保密性、数据完整性、身份校验安全性，因此，Fiddler抓包的关键点就是证书。</li>
<li>抓包原理<ul>
<li>Fiddler是浏览器的服务器，也是服务器的客户端。<ul>
<li>没有Fiddler时，浏览器拥有的公有证书来自服务器，服务器保存私有证书。</li>
<li>服务器使用私有证书对数据进行加密，浏览器使用公有证书对数据进行解密。</li>
</ul>
</li>
<li>Fiddler作为代理时，客户端拥有的公有证书来自Fiddler，Fiddler同时拥有私有和公有证书。<ul>
<li>请求：浏览器使用Fiddler公有证书将数据加密，发送给Fiddler。</li>
<li>Fiddler使用私有证书解密，将内容采用服务器的公有证书再次加密。</li>
<li>内容加密后再发送给服务器，服务器使用自己的私有证书再进行解密。</li>
<li>响应：服务器使用私有证书对响应数据加密，然后发送给Fiddler。</li>
<li>Fiddler将收到的数据使用服务器的公有证书解密，再次使用自己的私有证书加密。</li>
<li>加密后发送给浏览器，浏览器收到后使用Fiddler的公有证书进行解密，展示内容。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="9-1-PC端抓包"><a href="#9-1-PC端抓包" class="headerlink" title="9-1 PC端抓包"></a>9-1 PC端抓包</h2><ul>
<li>PC端抓包<ul>
<li>配置及安装证书：菜单栏-&gt;Tools-&gt;Options-&gt;HTTPS。</li>
<li>勾选Capture HTTPS CONNECTs、Decrypt HTTPs traffic。<ul>
<li>Capture HTTPS CONNECTs：是否要抓取HTTPS连接。</li>
<li>HTTPS连接默认隐藏：菜单栏-&gt;Rules-&gt;Hide CONNECTs是否被勾选了。</li>
<li>Decrypt HTTPs traffic：对接收到的HTTPS流量尝试使用Fiddler证书解码。</li>
</ul>
</li>
<li>菜单栏-&gt;Tools-&gt;Options-&gt;HTTPS-&gt;Actions-&gt;Open Windows Certificate Manager。</li>
<li>certmgr-&gt;操作-&gt;查找证书-&gt;包含Fiddler-&gt;立即查找，若有证书说明可以抓HTTPS包。</li>
</ul>
</li>
</ul>
<p><img src="/../img/Fiddler/Fiddler@051.png" srcset="/img/load.gif" lazyload alt="Fiddler抓包-PC端抓包"></p>
<h2 id="9-2-APP抓包"><a href="#9-2-APP抓包" class="headerlink" title="9-2 APP抓包"></a>9-2 APP抓包</h2><ul>
<li>APP抓包<ul>
<li>配置Fiddler：菜单栏-&gt;Tools-&gt;Options-&gt;Connections-&gt;Allow remote computers to connect。</li>
<li>弹窗Enabling Remote Access-&gt;确定，USB线连接手机端和电脑端，同时开启手机端的开发者选项。</li>
<li>Fiddler查看工具面板中Online的IP地址，确保电脑和手机的WiFi在同一局域网下，开启手机端代理。</li>
<li>进入手机端的WiFi设置-&gt;代理改为手动，主机名是Online查看到的IP地址，端口则为8888(自定义)。</li>
<li>打开手机端的浏览器，输入Online的IP地址+端口8888，回车下载FiddlerRoot certificate，安装证书。</li>
<li>注：对于现在的手机端APP，大多使用SSL Pinning技术，Fiddler已很难抓取到HTTPS包了。<ul>
<li>Android：使用Xposed Magisk模块或Frida等工具来绕过SSL Pinning技术。</li>
<li>iOS：采用插入证书、重签名、Frida Hook的方式来绕过SSL Pinning技术。</li>
<li>上述方法都具风险性，需谨慎使用并遵守法律法规，可在APP中集成调试工具进行调试。</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="/../img/Fiddler/Fiddler@052.png" srcset="/img/load.gif" lazyload alt="Fiddler抓包-APP抓包"></p>

              
            </div>
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7/" class="category-chain-item">测试工具</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/%E6%8A%93%E5%8C%85/">#抓包</a>
      
        <a href="/tags/%E9%9D%A2%E6%9D%BF/">#面板</a>
      
        <a href="/tags/%E6%8F%92%E4%BB%B6/">#插件</a>
      
        <a href="/tags/%E5%91%BD%E4%BB%A4%E8%BE%93%E5%85%A5/">#命令输入</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>Fiddler 面板</div>
      <div>https://stitch-top.github.io/2022/03/02/ce-shi-gong-ju/tt02-fiddler/tt01-fiddler-mian-ban/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>Dr.626</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2022年3月2日 22:37:55</div>
        </div>
      
      
      <div class="license-meta-item">
        <div>许可协议</div>
        <div>
          
            
            
              <a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">
              <span class="hint--top hint--rounded" aria-label="BY - 署名">
                <i class="iconfont icon-by"></i>
              </span>
              </a>
            
              <a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">
              <span class="hint--top hint--rounded" aria-label="NC - 非商业性使用">
                <i class="iconfont icon-nc"></i>
              </span>
              </a>
            
              <a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">
              <span class="hint--top hint--rounded" aria-label="SA - 相同方式共享">
                <i class="iconfont icon-sa"></i>
              </span>
              </a>
            
          
        </div>
      </div>
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2022/05/10/ce-shi-gong-ju/tt03-charles/tt01-charles-gong-neng/" title="Charles 功能">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Charles 功能</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2022/01/05/ce-shi-gong-ju/tt01-jmeter/tt01-jmeter-zu-jian/" title="JMeter 组件">
                        <span class="hidden-mobile">JMeter 组件</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  <article id="comments">
    
  <div id="valine"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#valine', function() {
      Fluid.utils.createScript('https://cdn.staticfile.org/valine/1.5.1/Valine.min.js', function() {
        var options = Object.assign(
          {"appId":"PDfaLoft9OAolB0AmON5AqUb-gzGzoHsz","appKey":"xq13nodBzh8hOliBusHUKDwj","path":"window.location.pathname","placeholder":"赠人玫瑰，手留余香(～o￣3￣)～","avatar":"monsterid","meta":["nick","mail","link"],"requiredFields":["nick","mail"],"pageSize":13,"lang":"zh-CN","highlight":"ture","recordIP":"ture","serverURLs":"","emojiCDN":null,"emojiMaps":null,"enableQQ":"ture"},
          {
            el: "#valine",
            path: window.location.pathname
          }
        )
        new Valine(options);
        Fluid.utils.waitElementVisible('#valine .vcontent', () => {
          var imgSelector = '#valine .vcontent img:not(.vemoji)';
          Fluid.plugins.imageCaption(imgSelector);
          Fluid.plugins.fancyBox(imgSelector);
        })
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


  </article>


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar category-bar" style="margin-left: -1rem">
    





<div class="category-list">
  
  
    
    
    
    <div class="category row nomargin-x">
      <a class="category-item 
          list-group-item category-item-action col-10 col-md-11 col-xm-11" title="测试工具"
        id="heading-7e2f62602068bab6246b886d7866dc56" role="tab" data-toggle="collapse" href="#collapse-7e2f62602068bab6246b886d7866dc56"
        aria-expanded="true"
      >
        测试工具
        <span class="list-group-count">(9)</span>
        <i class="iconfont icon-arrowright"></i>
      </a>
      
      <div class="category-collapse collapse show" id="collapse-7e2f62602068bab6246b886d7866dc56"
           role="tabpanel" aria-labelledby="heading-7e2f62602068bab6246b886d7866dc56">
        
        
          
  <div class="category-post-list">
    
    
      
      
        <a href="/2022/01/05/ce-shi-gong-ju/tt01-jmeter/tt01-jmeter-zu-jian/" title="JMeter 组件"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">JMeter 组件</span>
        </a>
      
    
      
      
        <a href="/2024/06/27/ce-shi-gong-ju/tt01-jmeter/tt02-jmeter-jiao-ben/" title="JMeter 脚本"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">JMeter 脚本</span>
        </a>
      
    
      
      
        <a href="/2022/03/02/ce-shi-gong-ju/tt02-fiddler/tt01-fiddler-mian-ban/" title="Fiddler 面板"
           class="list-group-item list-group-item-action
           active">
          <span class="category-post">Fiddler 面板</span>
        </a>
      
    
      
      
        <a href="/2022/05/10/ce-shi-gong-ju/tt03-charles/tt01-charles-gong-neng/" title="Charles 功能"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Charles 功能</span>
        </a>
      
    
      
      
        <a href="/2022/07/21/ce-shi-gong-ju/tt04-postman/tt01-postman-jie-shao/" title="Postman 介绍"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Postman 介绍</span>
        </a>
      
    
      
      
        <a href="/2022/09/02/ce-shi-gong-ju/tt05-adb-diao-shi-gong-ju/tt01-adb-shi-yong-ming-ling/" title="ADB 实用命令"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">ADB 实用命令</span>
        </a>
      
    
      
      
        <a href="/2022/11/10/ce-shi-gong-ju/tt06-f12-kai-fa-zhe-gong-ju/tt01-f12-gong-neng-shuo-ming/" title="F12 功能说明"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">F12 功能说明</span>
        </a>
      
    
      
      
        <a href="/2024/04/15/ce-shi-gong-ju/tt06-f12-kai-fa-zhe-gong-ju/tt02-f12-console-mian-ban/" title="F12 Console 面板"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">F12 Console 面板</span>
        </a>
      
    
      
      
        <a href="/2024/01/11/ce-shi-gong-ju/tt07-ffmpeg-de-ying-yong/tt01-ffmpeg-ming-ling-xiang-jie/" title="FFmpeg 命令详解"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">FFmpeg 命令详解</span>
        </a>
      
    
  </div>

        
      </div>
    </div>
  
</div>


  </aside>


    </div>
  </div>
</div>





  



  



  



  



  






    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a><span>Copyright © 2021 - 2025</span></a> <i class="iconfont icon-love"></i> <a href="https://stitch-top.github.io" target="_blank" rel="nofollow noopener"><span>Dr.626</span></a> 
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="leancloud-site-pv-container" style="display: none">
        📈 总访问量 
        <span id="leancloud-site-pv"></span>
         次
      </span>
    
    
      <span id="leancloud-site-uv-container" style="display: none">
        📊 总访客数 
        <span id="leancloud-site-uv"></span>
         人
      </span>
    
    

  
</div>

  
  
  
  
  <!-- 添加网站运行时间 -->
  <div class="footer-content">
    <div>
      <span id="timeDate">载入天数...</span>
      <span id="times">载入时分秒...</span>
      <script>
      var now = new Date();
      function createtime(){
          var grt= new Date("01/01/2021 00:00:00");   //此处修改你的建站时间或者网站上线时间
          now.setTime(now.getTime()+250);
          days = (now - grt ) / 1000 / 60 / 60 / 24;
          dnum = Math.floor(days);
          hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum);
          hnum = Math.floor(hours);
          if(String(hnum).length ==1 ){
              hnum = "0" + hnum;
          }
          minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);
          mnum = Math.floor(minutes);
          if(String(mnum).length ==1 ){
                    mnum = "0" + mnum;
          }
          seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
          snum = Math.round(seconds);
          if(String(snum).length ==1 ){
                    snum = "0" + snum;
          }
          document.getElementById("timeDate").innerHTML = "本站已安全运行&nbsp"+dnum+"&nbsp天";
          document.getElementById("times").innerHTML = hnum + "&nbsp小时&nbsp" + mnum + "&nbsp分&nbsp" + snum + "&nbsp秒";
      }
      setInterval("createtime()", 250);
      </script>
    </div>
  </div>
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://cdn.staticfile.org/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.staticfile.org/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.staticfile.org/jquery/3.7.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  

  

  

  

  

  

  
    
  




  
    
      <script  src="/js/img-lazyload.js" ></script>
    
  




  
<script>
  Fluid.utils.createScript('https://cdn.staticfile.org/tocbot/4.21.0/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      headingSelector : CONFIG.toc.headingSelector || 'h1,h2,h3,h4,h5,h6',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      collapseDepth   : CONFIG.toc.collapseDepth || 0,
      scrollSmooth    : true,
      headingsOffset  : -boardTop
    });
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }
  });
</script>


  <script>
  (function() {
    var enableLang = CONFIG.code_language.enable && CONFIG.code_language.default;
    var enableCopy = CONFIG.copy_btn;
    if (!enableLang && !enableCopy) {
      return;
    }

    function getBgClass(ele) {
      return Fluid.utils.getBackgroundLightness(ele) >= 0 ? 'code-widget-light' : 'code-widget-dark';
    }

    var copyTmpl = '';
    copyTmpl += '<div class="code-widget">';
    copyTmpl += 'LANG';
    copyTmpl += '</div>';
    jQuery('.markdown-body pre').each(function() {
      var $pre = jQuery(this);
      if ($pre.find('code.mermaid').length > 0) {
        return;
      }
      if ($pre.find('span.line').length > 0) {
        return;
      }

      var lang = '';

      if (enableLang) {
        lang = CONFIG.code_language.default;
        if ($pre[0].children.length > 0 && $pre[0].children[0].classList.length >= 2 && $pre.children().hasClass('hljs')) {
          lang = $pre[0].children[0].classList[1];
        } else if ($pre[0].getAttribute('data-language')) {
          lang = $pre[0].getAttribute('data-language');
        } else if ($pre.parent().hasClass('sourceCode') && $pre[0].children.length > 0 && $pre[0].children[0].classList.length >= 2) {
          lang = $pre[0].children[0].classList[1];
          $pre.parent().addClass('code-wrapper');
        } else if ($pre.parent().hasClass('markdown-body') && $pre[0].classList.length === 0) {
          $pre.wrap('<div class="code-wrapper"></div>');
        }
        lang = lang.toUpperCase().replace('NONE', CONFIG.code_language.default);
      }
      $pre.append(copyTmpl.replace('LANG', lang).replace('code-widget">',
        getBgClass($pre[0]) + (enableCopy ? ' code-widget copy-btn" data-clipboard-snippet><i class="iconfont icon-copy"></i>' : ' code-widget">')));

      if (enableCopy) {
        Fluid.utils.createScript('https://cdn.staticfile.org/clipboard.js/2.0.11/clipboard.min.js', function() {
          var clipboard = new window.ClipboardJS('.copy-btn', {
            target: function(trigger) {
              var nodes = trigger.parentNode.childNodes;
              for (var i = 0; i < nodes.length; i++) {
                if (nodes[i].tagName === 'CODE') {
                  return nodes[i];
                }
              }
            }
          });
          clipboard.on('success', function(e) {
            e.clearSelection();
            e.trigger.innerHTML = e.trigger.innerHTML.replace('icon-copy', 'icon-success');
            setTimeout(function() {
              e.trigger.innerHTML = e.trigger.innerHTML.replace('icon-success', 'icon-copy');
            }, 2000);
          });
        });
      }
    });
  })();
</script>


  
<script>
  Fluid.utils.createScript('https://cdn.staticfile.org/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));
  });
</script>


  
<script>
  Fluid.utils.createScript('https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="/js/leancloud.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
