

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/logo.png">
  <link rel="icon" href="/img/logo.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Dr.626">
  <meta name="keywords" content="">
  
    <meta name="description" content="ğŸ° 2020å¹´å¾®è½¯å¼€æºçš„UIè‡ªåŠ¨åŒ–æµ‹è¯•å·¥å…·ï¼Œ æ”¯æŒNode.jsã€Pythonã€Javaç­‰ï¼Œæ»¡è¶³ç«¯åˆ°ç«¯æµ‹è¯•åˆ›å»ºï¼Œæ”¯æŒç°ä»£æ¸²æŸ“å¼•æ“ã€‚">
<meta property="og:type" content="article">
<meta property="og:title" content="PlayWright æ¡†æ¶(ä¸€)">
<meta property="og:url" content="https://stitch-top.github.io/2023/09/09/ce-shi-kuang-jia/tf06-playwright-kuang-jia-yi/index.html">
<meta property="og:site_name" content="Dr.626">
<meta property="og:description" content="ğŸ° 2020å¹´å¾®è½¯å¼€æºçš„UIè‡ªåŠ¨åŒ–æµ‹è¯•å·¥å…·ï¼Œ æ”¯æŒNode.jsã€Pythonã€Javaç­‰ï¼Œæ»¡è¶³ç«¯åˆ°ç«¯æµ‹è¯•åˆ›å»ºï¼Œæ”¯æŒç°ä»£æ¸²æŸ“å¼•æ“ã€‚">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://stitch-top.github.io/img/ThemeMap/9314065155.jpg">
<meta property="article:published_time" content="2023-09-09T14:22:50.000Z">
<meta property="article:modified_time" content="2024-06-27T06:46:47.369Z">
<meta property="article:author" content="Dr.626">
<meta property="article:tag" content="Python">
<meta property="article:tag" content="PlayWright">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://stitch-top.github.io/img/ThemeMap/9314065155.jpg">
  
  
  
  <title>PlayWright æ¡†æ¶(ä¸€) - Dr.626</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- ä¸»é¢˜ä¾èµ–çš„å›¾æ ‡åº“ï¼Œä¸è¦è‡ªè¡Œä¿®æ”¹ -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  



  
<link rel="stylesheet" href="/css/my.css">



  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"stitch-top.github.io","root":"/","version":"1.9.0","typing":{"enable":true,"typeSpeed":70,"cursorChar":"|","loop":true,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":"âœ"},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"left","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":1},"lazyload":{"enable":true,"loading_img":"/img/load.gif","onlypost":true,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":false,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":"Jg3BjUa3RtnEFSREy3wsmUR5-MdYXbMMI","app_key":"DwsEb5BeMxwdz0CEJ6MUBdu3","server_url":null,"path":"window.location.pathname","ignore_local":true}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>

  
  
<meta name="generator" content="Hexo 6.2.0"></head>


<body>
  
  

  <header>
    

<div class="header-inner" style="height: 100vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Dr.626</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                é¦–é¡µ
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                å½’æ¡£
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                åˆ†ç±»
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                æ ‡ç­¾
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                å…³äº
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/">
                <i class="iconfont icon-link-fill"></i>
                å‹é“¾
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" target="_self" href="javascript:;" role="button"
                 data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="iconfont icon-code"></i>
                å®éªŒå®¤
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                
                  
                  
                  
                  <a class="dropdown-item" href="/tagsnet">
                    <i class="iconfont icon-bookmark"></i>
                    æ–‡ç« å…³ç³»ç½‘
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="/laboratory/plugin">
                    <i class="iconfont icon-bug"></i>
                    Hexoå°ç»„ä»¶
                  </a>
                
              </div>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/back-1.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="PlayWright æ¡†æ¶(ä¸€)"></span>
          
        </div>

        
          
  <div class="mt-3">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-author" aria-hidden="true"></i>
        Dr.626
      </span>
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2023-09-09 22:22" pubdate>
          2023å¹´9æœˆ9æ—¥ 22:22:50
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          60k å­—
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          503 åˆ†é’Ÿ
        
      </span>
    

    
    
      
        <span id="leancloud-page-views-container" class="post-meta" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="leancloud-page-views"></span> æ¬¡
        </span>
        
      
    
  </div>


        
      </div>

      
        <div class="scroll-down-bar">
          <i class="iconfont icon-arrowdown"></i>
        </div>
      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
  
  <!-- åŠ¨æ€çº¿æ¡èƒŒæ™¯
  <script type="text/javascript"
  color="0 0 255" opacity='1' zIndex="-2" count="200" src="../js/canvas-nest.js">
  </script> -->
  
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="padding-left: 2rem; margin-right: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;ç›®å½•</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">PlayWright æ¡†æ¶(ä¸€)</h1>
            
            <div class="markdown-body">
              
              <p>ğŸ° 2020å¹´å¾®è½¯å¼€æºçš„UIè‡ªåŠ¨åŒ–æµ‹è¯•å·¥å…·ï¼Œ æ”¯æŒNode.jsã€Pythonã€Javaç­‰ï¼Œæ»¡è¶³ç«¯åˆ°ç«¯æµ‹è¯•åˆ›å»ºï¼Œæ”¯æŒç°ä»£æ¸²æŸ“å¼•æ“ã€‚</p>
<span id="more"></span>



<h1 id="1-æµè§ˆå™¨æ“ä½œ"><a href="#1-æµè§ˆå™¨æ“ä½œ" class="headerlink" title="1 æµè§ˆå™¨æ“ä½œ"></a>1 æµè§ˆå™¨æ“ä½œ</h1><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs Powershell">pip install playwright                                           <span class="hljs-comment"># å®‰è£…Playwrightï¼ŒPythonç‰ˆæœ¬è¦æ±‚3.7+</span><br>playwright install                                               <span class="hljs-comment"># å®‰è£…æµè§ˆå™¨chromiumã€webkitå’Œfirefox</span><br>playwright install chromium                                      <span class="hljs-comment"># å®‰è£…æŒ‡å®šçš„chromiumæµè§ˆå™¨</span><br></code></pre></td></tr></table></figure>



<h2 id="1-1-API"><a href="#1-1-API" class="headerlink" title="1-1 API"></a>1-1 API</h2><ul>
<li>API<ul>
<li>Playwrightæ”¯æŒä¸¤ç§è¿è¡Œæ–¹å¼ï¼šåŒæ­¥å’Œå¼‚æ­¥ã€‚<ul>
<li>åŒæ­¥è¿è¡ŒæŒ‡çš„æ˜¯ç¨‹åºæŒ‰ç…§é¡ºåºæ‰§è¡Œï¼Œæ¯ä¸ªä»»åŠ¡å¿…é¡»ç­‰å¾…ä¸Šä¸€ä¸ªä»»åŠ¡å®Œæˆåï¼Œæ‰èƒ½è¿›è¡Œä¸‹ä¸€ä¸ªä»»åŠ¡ã€‚</li>
<li>å¼‚æ­¥è¿è¡ŒæŒ‡çš„æ˜¯ç¨‹åºå¯ä»¥åŒæ—¶æ‰§è¡Œå¤šä¸ªä»»åŠ¡ï¼Œä¸éœ€è¦ç­‰å¾…ä¸Šä¸€ä¸ªä»»åŠ¡å®Œæˆï¼Œå°±èƒ½è¿›è¡Œä¸‹ä¸€ä¸ªä»»åŠ¡ã€‚</li>
</ul>
</li>
<li>å®˜ç½‘åœ°å€ï¼š<a target="_blank" rel="noopener" href="https://playwright.dev/python/">https://playwright.dev/python/</a>ã€‚</li>
</ul>
</li>
</ul>
<h3 id="1-åŒæ­¥è¿è¡Œ"><a href="#1-åŒæ­¥è¿è¡Œ" class="headerlink" title="(1) åŒæ­¥è¿è¡Œ"></a>(1) åŒæ­¥è¿è¡Œ</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright                 <span class="hljs-comment"># syncåŒæ­¥(é¡ºåº)è¿è¡Œ</span><br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>)                 <span class="hljs-comment"># å¯åŠ¨chromiumæµè§ˆå™¨</span><br>    <span class="hljs-comment"># browser = p.firefox.launch(headless=False)                # å¯åŠ¨firefoxæµè§ˆå™¨</span><br>    <span class="hljs-comment"># browser = p.webkit.launch(headless=False)                 # å¯åŠ¨webkitæµè§ˆå™¨</span><br>    page = browser.new_page()                                   <span class="hljs-comment"># æ‰“å¼€ä¸€ä¸ªæ ‡ç­¾é¡µ</span><br>    page.goto(<span class="hljs-string">&#x27;https://www.baidu.com&#x27;</span>)                          <span class="hljs-comment"># æ‰“å¼€ç™¾åº¦åœ°å€</span><br>    <span class="hljs-built_in">print</span>(page.title())                                         <span class="hljs-comment"># æ‰“å°å½“å‰é¡µé¢title</span><br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure>



<h3 id="2-å¼‚æ­¥è¿è¡Œ"><a href="#2-å¼‚æ­¥è¿è¡Œ" class="headerlink" title="(2) å¼‚æ­¥è¿è¡Œ"></a>(2) å¼‚æ­¥è¿è¡Œ</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> asyncio<br><span class="hljs-keyword">from</span> playwright.async_api <span class="hljs-keyword">import</span> async_playwright               <span class="hljs-comment"># asyncå¼‚æ­¥(åŒæ—¶)è¿è¡Œ</span><br><br><br><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():<br>    <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> async_playwright() <span class="hljs-keyword">as</span> p:<br>        browser = <span class="hljs-keyword">await</span> p.chromium.launch(headless=<span class="hljs-literal">False</span>)       <span class="hljs-comment"># å¯åŠ¨chromiumæµè§ˆå™¨</span><br>        <span class="hljs-comment"># browser = await p.firefox.launch(headless=False)      # å¯åŠ¨firefoxæµè§ˆå™¨</span><br>        <span class="hljs-comment"># browser = await p.webkit.launch(headless=False)       # å¯åŠ¨webkitæµè§ˆå™¨</span><br>        page = <span class="hljs-keyword">await</span> browser.new_page()                         <span class="hljs-comment"># æ‰“å¼€ä¸€ä¸ªæ ‡ç­¾é¡µ</span><br>        <span class="hljs-keyword">await</span> page.goto(<span class="hljs-string">&#x27;https://www.baidu.com&#x27;</span>)                <span class="hljs-comment"># æ‰“å¼€ç™¾åº¦åœ°å€</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-keyword">await</span> page.title())                               <span class="hljs-comment"># æ‰“å°å½“å‰é¡µé¢title</span><br><br>        <span class="hljs-keyword">await</span> browser.close()                                   <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br><br>asyncio.run(main())<br></code></pre></td></tr></table></figure>



<h2 id="1-2-ä¸Šä¸‹æ–‡"><a href="#1-2-ä¸Šä¸‹æ–‡" class="headerlink" title="1-2 ä¸Šä¸‹æ–‡"></a>1-2 ä¸Šä¸‹æ–‡</h2><ul>
<li>ä¸Šä¸‹æ–‡<ul>
<li>Playwrightçš„æµ‹è¯•å±‚çº§å…³ç³»ï¼š<code>Broswer &gt; Context &gt; Page</code>ã€‚</li>
<li><code>browser = playwright.chromium.launch()</code>ï¼šå¯åŠ¨æµè§ˆå™¨ã€‚</li>
<li><code>context = browser.new_context()</code>ï¼šåˆ›å»ºcontextå¯¹è±¡ï¼Œå³å¯åŠ¨ä¸Šä¸‹æ–‡ã€‚<ul>
<li>contextä¹‹é—´ç›¸äº’éš”ç¦»ï¼Œå³ä¸ºè½»é‡çº§çš„æµè§ˆå™¨å®ä¾‹ï¼Œä¸ä¸å…¶ä»–æµè§ˆå™¨ä¸Šä¸‹æ–‡å…±äº«cookieæˆ–ç¼“å­˜ã€‚</li>
<li>å¦‚æœéœ€è¦ä¸åŒç”¨æˆ·ç™»å½•åŒä¸€ä¸ªç½‘é¡µï¼Œä¸ç”¨åˆ›å»ºå¤šä¸ªæµè§ˆå™¨å®ä¾‹ï¼Œåªéœ€è¦åˆ›å»ºå¤šä¸ªcontextå³å¯ã€‚</li>
</ul>
</li>
<li><code>context.add_cookies([cookie_object1, cookie_object2])</code>ï¼šæ·»åŠ cookieã€‚</li>
<li>é…ç½®é€‰é¡¹ï¼šæ— ç—•æ¨¡å¼å¯åŠ¨æµè§ˆå™¨é€‚åˆè‡ªåŠ¨åŒ–æµ‹è¯•ã€éæ— ç—•æ¨¡å¼å¯åŠ¨é€‚åˆçˆ¬æ•°æ®ã€‚</li>
<li>launch_persistent_contextå‚æ•°<ul>
<li>user_data_dirï¼šç”¨æˆ·æ•°æ®ç›®å½•ï¼Œæ­¤å‚æ•°å¿…é¡»ï¼Œå¯è‡ªå®šä¹‰ç›®å½•ï¼Œä¸æ¨èå†™Chromeå®‰è£…ç›®å½•ã€‚<ul>
<li>ç½‘ç«™æ˜¯å¦å¯ä»¥ä¿æŒç™»å½•ï¼Œä¸»è¦çœ‹cookiesæœ‰æ•ˆæœŸï¼Œæœ‰äº›ç½‘ç«™å…³é—­æµè§ˆå™¨ç™»å½•çŠ¶æ€å°±å¤±æ•ˆã€‚</li>
<li>ä¾‹å¦‚é“¶è¡Œç½‘ç«™ï¼Œæœ‰äº›åšå®¢ç«™ï¼Œç™»å½•åcookiesä¸€ç›´ç”Ÿæ•ˆï¼Œå³åˆ©ç”¨ç¼“å­˜çš„cookiesä¿æŒç™»å½•ã€‚</li>
</ul>
</li>
<li>channelï¼šæŒ‡å®šæµè§ˆå™¨çš„ç±»å‹ï¼Œé»˜è®¤chromiumï¼Œæ”¯æŒchromiumã€chromeã€msedgeã€‚</li>
<li>è‹¥åŒæ—¶æ‰“å¼€å¤šä¸ªæµè§ˆå™¨ï¼Œæ¯ä¸ªæµè§ˆå™¨ç™»å½•ä¸åŒçš„è´¦å·è¿›è¡Œæ“ä½œï¼Œåˆ™è¦ç”¨åˆ°å¤šçº¿ç¨‹ã€‚</li>
</ul>
</li>
<li>æµ‹è¯•åœ¨æµè§ˆå™¨ä¸Šä¸‹æ–‡çš„éš”ç¦»å…¨æ–°ç¯å¢ƒä¸­æ‰§è¡Œï¼Œéš”ç¦»æ¨¡å‹æé«˜äº†å¯é‡å¤æ€§ï¼Œå¹¶é˜²æ­¢çº§è”æµ‹è¯•å¤±è´¥ã€‚<ul>
<li>Playwrightä½¿ç”¨BrowserContextå®ç°æµ‹è¯•éš”ç¦»ï¼Œç›¸å½“äºéšèº«å¼é…ç½®æ–‡ä»¶ã€‚</li>
<li>æµ‹è¯•éš”ç¦»æœ‰ä¸¤ç§ä¸åŒçš„ç­–ç•¥ï¼Œä»å¤´å¼€å§‹æ¸…ç†ï¼Œä»¥åŠåœ¨ä¸¤è€…ä¹‹é—´è¿›è¡Œæ¸…ç†ã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime, timedelta<br><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>)                 <span class="hljs-comment"># å¯åŠ¨æµè§ˆå™¨</span><br>    <span class="hljs-comment"># context = browser.new_context()                           # å¯åŠ¨ä¸Šä¸‹æ–‡</span><br>    context = browser.new_context(base_url=<span class="hljs-string">&quot;https://www.baidu.com&quot;</span>)<br>    current_time = datetime.now()                               <span class="hljs-comment"># è·å–å½“å‰æ—¥æœŸæ—¶é—´</span><br>    expires_time = current_time + timedelta(days=<span class="hljs-number">7</span>)             <span class="hljs-comment"># è®¡ç®—è¿‡æœŸæ—¶é—´</span><br>    expires_time = <span class="hljs-built_in">int</span>(expires_time.timestamp())                <span class="hljs-comment"># è½¬æ¢ä¸ºæ—¶é—´æˆ³</span><br>    context.add_cookies([                                       <span class="hljs-comment"># æ·»åŠ cookie</span><br>        &#123;<br>            <span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;BIDUPSID&#x27;</span>,                                 <span class="hljs-comment"># å‚æ•°ä¸ºå­—å…¸åˆ—è¡¨ï¼Œurlå¯é€‰</span><br>            <span class="hljs-string">&#x27;value&#x27;</span>: <span class="hljs-string">&#x27;BFBAD64EE3482122786F502E5D073773&#x27;</span>,<br>            <span class="hljs-string">&#x27;path&#x27;</span>: <span class="hljs-string">&#x27;/&#x27;</span>,<br>            <span class="hljs-string">&#x27;domain&#x27;</span>: <span class="hljs-string">&#x27;.baidu.com&#x27;</span>,<br>            <span class="hljs-string">&#x27;expires&#x27;</span>: expires_time,                            <span class="hljs-comment"># è¿™é‡Œä½¿ç”¨çš„æ˜¯æ—¶é—´æˆ³ï¼Œå¯é€‰</span><br>            <span class="hljs-string">&#x27;httpOnly&#x27;</span>: <span class="hljs-literal">False</span>,                                  <span class="hljs-comment"># æ˜¯å¦ä¸ºhttpOnlyï¼Œå¯é€‰</span><br>            <span class="hljs-string">&#x27;secure&#x27;</span>: <span class="hljs-literal">False</span>,                                    <span class="hljs-comment"># å®‰å…¨æ¨¡å¼ï¼Œå¯é€‰</span><br>            <span class="hljs-string">&#x27;sameSite&#x27;</span>: <span class="hljs-string">&#x27;Lax&#x27;</span>                                   <span class="hljs-comment"># Strict|Lax|Noneï¼ŒåŒç«™ç­–ç•¥ï¼Œå¯é€‰</span><br>        &#125;,<br>        &#123;<br>            <span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;session_token&#x27;</span>,<br>            <span class="hljs-string">&#x27;value&#x27;</span>: <span class="hljs-string">&#x27;BFBAD64EE3482122786F502E5D073774&#x27;</span>,<br>            <span class="hljs-string">&#x27;path&#x27;</span>: <span class="hljs-string">&#x27;/&#x27;</span>,<br>            <span class="hljs-string">&#x27;domain&#x27;</span>: <span class="hljs-string">&#x27;baidu.com&#x27;</span>,<br>            <span class="hljs-string">&#x27;expires&#x27;</span>: expires_time,<br>            <span class="hljs-string">&#x27;httpOnly&#x27;</span>: <span class="hljs-literal">False</span>,<br>            <span class="hljs-string">&#x27;secure&#x27;</span>: <span class="hljs-literal">False</span>,<br>            <span class="hljs-string">&#x27;sameSite&#x27;</span>: <span class="hljs-string">&#x27;Lax&#x27;</span><br>        &#125;<br>    ])<br>    page = context.new_page()                                   <span class="hljs-comment"># contextä¸Šæ–°å»ºä¸€ä¸ªé¡µé¢å¯¹è±¡</span><br>    <span class="hljs-comment"># page.goto(&#x27;https://www.baidu.com&#x27;)                        # æ‰“å¼€ç™¾åº¦åœ°å€</span><br>    page.goto(<span class="hljs-string">&quot;/&quot;</span>)                                              <span class="hljs-comment"># base_urlå‚æ•°åœ¨æ–°å»ºä¸Šä¸‹æ–‡æ—¶ä½¿ç”¨</span><br>    <span class="hljs-built_in">print</span>(page.title())                                         <span class="hljs-comment"># æ‰“å°å½“å‰é¡µé¢title</span><br><br>    cookies = context.cookies()                                 <span class="hljs-comment"># æ£€æŸ¥æ˜¯å¦æˆåŠŸæ·»åŠ cookie</span><br>    <span class="hljs-built_in">print</span>(cookies)<br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure>



<h3 id="1-æ— ç—•æ¨¡å¼"><a href="#1-æ— ç—•æ¨¡å¼" class="headerlink" title="(1) æ— ç—•æ¨¡å¼"></a>(1) æ— ç—•æ¨¡å¼</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>)<br>    context = browser.new_context()                             <span class="hljs-comment"># launché»˜è®¤æ— ç—•æ¨¡å¼å¯åŠ¨</span><br>    page = context.new_page()                                   <span class="hljs-comment"># æ‰“å¼€æ ‡ç­¾é¡µ</span><br><br>    page.goto(<span class="hljs-string">&#x27;https://www.baidu.com&#x27;</span>)<br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)<br><br>    context.close()                                             <span class="hljs-comment"># å…³é—­ä¸Šä¸‹æ–‡</span><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure>



<h3 id="2-éæ— ç—•æ¨¡å¼"><a href="#2-éæ— ç—•æ¨¡å¼" class="headerlink" title="(2) éæ— ç—•æ¨¡å¼"></a>(2) éæ— ç—•æ¨¡å¼</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br>p = sync_playwright().start()<br>browser = p.chromium.launch_persistent_context(                 <span class="hljs-comment"># åˆ›å»ºä¸Šä¸‹æ–‡å¯¹è±¡</span><br>    user_data_dir=<span class="hljs-string">f&quot;...\cache&quot;</span>,                                 <span class="hljs-comment"># è‡ªå®šä¹‰ç”¨æˆ·ç¼“å­˜åœ°å€</span><br>    accept_downloads=<span class="hljs-literal">True</span>,                                      <span class="hljs-comment"># æ¥æ”¶ä¸‹è½½äº‹ä»¶</span><br>    headless=<span class="hljs-literal">False</span>,                                             <span class="hljs-comment"># è®¾ç½®æ— å¤´æ¨¡å¼</span><br>    bypass_csp=<span class="hljs-literal">True</span>,<br>    slow_mo=<span class="hljs-number">1000</span>,<br>    channel=<span class="hljs-string">&quot;chromium&quot;</span>,                                         <span class="hljs-comment"># æŒ‡å®šæµè§ˆå™¨ç±»å‹ï¼Œé»˜è®¤chromium</span><br>    args=[<span class="hljs-string">&#x27;--start-maximized&#x27;</span>],                                 <span class="hljs-comment"># argsç»“åˆno_viewportçª—å£æœ€å¤§åŒ–</span><br>    no_viewport=<span class="hljs-literal">True</span>,                                           <span class="hljs-comment"># å…¨å±è¦†ç›–</span><br>    <span class="hljs-comment"># viewport=&#123;&#x27;width&#x27;: 1920, &#x27;height&#x27;: 1080&#125;,                 # è®¾ç½®å±å¹•åˆ†è¾¨ç‡ï¼Œå…¨å±ç§»ä½</span><br>)<br><span class="hljs-comment"># page = browser.new_page()                                     # è¯¥æ–¹æ³•ä¼šæ‰“å¼€ä¸€ä¸ªç©ºç™½çš„tabé¡µ</span><br>page = browser.pages[<span class="hljs-number">0</span>]                                         <span class="hljs-comment"># é»˜è®¤æ‰“å¼€tabæ ‡ç­¾é¡µå¯¹è±¡</span><br><br>page.goto(<span class="hljs-string">&#x27;https://www.baidu.com&#x27;</span>)<br>page.wait_for_timeout(<span class="hljs-number">3000</span>)<br><br>browser.close()                                                 <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure>



<h3 id="3-åŒæµä¸åŒæ ‡ç­¾"><a href="#3-åŒæµä¸åŒæ ‡ç­¾" class="headerlink" title="(3) åŒæµä¸åŒæ ‡ç­¾"></a>(3) åŒæµä¸åŒæ ‡ç­¾</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)   <span class="hljs-comment"># å¯åŠ¨æµè§ˆå™¨</span><br>    context = browser.new_context()                             <span class="hljs-comment"># å¯åŠ¨ä¸Šä¸‹æ–‡</span><br><br>    page1 = context.new_page()                                  <span class="hljs-comment"># æ‰“å¼€æ ‡ç­¾é¡µ1</span><br>    page1.goto(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br>    page1.fill(<span class="hljs-string">&#x27;#kw&#x27;</span>, <span class="hljs-string">&quot;Playwright&quot;</span>)<br>    page1.wait_for_timeout(<span class="hljs-number">3000</span>)<br><br>    page2 = context.new_page()                                  <span class="hljs-comment"># æ‰“å¼€æ ‡ç­¾é¡µ2</span><br>    page2.goto(<span class="hljs-string">&quot;https://fanyi.baidu.com/&quot;</span>)<br>    page2.fill(<span class="hljs-string">&#x27;#baidu_translate_input&#x27;</span>, <span class="hljs-string">&quot;English&quot;</span>)<br>    page2.wait_for_timeout(<span class="hljs-number">3000</span>)<br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure>



<h3 id="4-ä¸åŒæµåŒæ ‡ç­¾"><a href="#4-ä¸åŒæµåŒæ ‡ç­¾" class="headerlink" title="(4) ä¸åŒæµåŒæ ‡ç­¾"></a>(4) ä¸åŒæµåŒæ ‡ç­¾</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)   <span class="hljs-comment"># å¯åŠ¨æµè§ˆå™¨</span><br>    context1 = browser.new_context()                            <span class="hljs-comment"># åˆ›å»ºä¸Šä¸‹æ–‡1ï¼Œæµè§ˆå™¨å®ä¾‹1</span><br>    context2 = browser.new_context()                            <span class="hljs-comment"># åˆ›å»ºä¸Šä¸‹æ–‡2ï¼Œæµè§ˆå™¨å®ä¾‹2</span><br>    page1 = context1.new_page()                                 <span class="hljs-comment"># æ‰“å¼€æ ‡ç­¾é¡µ1</span><br>    page1.goto(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br><br>    page2 = context2.new_page()                                 <span class="hljs-comment"># æ‰“å¼€æ ‡ç­¾é¡µ1</span><br>    page2.goto(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br><br>    context1.close()<br>    context2.close()                                            <span class="hljs-comment"># å…³é—­ä¸Šä¸‹æ–‡æ—¶ï¼Œæ‰€å±é¡µé¢ä¹Ÿä¼šä¸€èµ·å…³é—­</span><br>    browser.close()                                             <span class="hljs-comment"># å…ˆå…³é—­ä¸Šä¸‹æ–‡ï¼Œå†é€€å‡ºæµè§ˆå™¨</span><br></code></pre></td></tr></table></figure>



<h2 id="1-3-æ— å¤´æ¨¡å¼"><a href="#1-3-æ— å¤´æ¨¡å¼" class="headerlink" title="1-3 æ— å¤´æ¨¡å¼"></a>1-3 æ— å¤´æ¨¡å¼</h2><ul>
<li>æ— å¤´æ¨¡å¼<ul>
<li>é»˜è®¤æƒ…å†µä¸‹ï¼ŒPlaywrightæ˜¯ä»¥headlessæ— å¤´æ¨¡å¼è¿è¡Œæµè§ˆå™¨çš„ã€‚</li>
<li><code>headless=False</code>åœ¨å¯åŠ¨æµè§ˆå™¨æ—¶ä¼ é€’æ ‡å¿—ï¼Œå¯æŸ¥çœ‹æµè§ˆå™¨UIã€‚</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(slow_mo=<span class="hljs-number">1000</span>)                    <span class="hljs-comment"># æ— å¤´æ¨¡å¼å¯åŠ¨chromiumæµè§ˆå™¨</span><br>    page = browser.new_page()                                    <span class="hljs-comment"># æ‰“å¼€ä¸€ä¸ªæ ‡ç­¾é¡µ</span><br>    page.goto(<span class="hljs-string">&#x27;https://www.baidu.com&#x27;</span>)                           <span class="hljs-comment"># æ‰“å¼€ç™¾åº¦åœ°å€</span><br>    <span class="hljs-built_in">print</span>(page.title())                                          <span class="hljs-comment"># æ‰“å°å½“å‰é¡µé¢title</span><br><br>    browser.close()                                              <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure>



<h2 id="1-4-æˆªå›¾ä½¿ç”¨"><a href="#1-4-æˆªå›¾ä½¿ç”¨" class="headerlink" title="1-4 æˆªå›¾ä½¿ç”¨"></a>1-4 æˆªå›¾ä½¿ç”¨</h2><ul>
<li>æˆªå›¾ä½¿ç”¨<ul>
<li>é™¤æˆªå–å½“å‰å±å¹•å¤–ï¼Œè¿˜æ”¯æŒæˆªå–é•¿å›¾ï¼Œä¹Ÿå¯å¯¹æŸä¸ªå…ƒç´ æˆªå›¾ã€‚</li>
<li>å¿«é€Ÿæˆªå›¾æ–¹æ³•ï¼š<code>page.screenshot(path=&quot;screenshot.png&quot;)</code>ã€‚</li>
<li>æˆªå–å•å…ƒç´ æ–¹æ³•ï¼š<code>page.locator().screenshot(path=&quot;screenshot.png&quot;)</code>ã€‚</li>
<li>æ•è·å›¾ç‰‡æ•°æ®æµï¼š<code>print(base64.b64encode(page.screenshot()).decode())</code>ã€‚</li>
<li>æˆªå–é•¿å›¾æ–¹æ³•ï¼š<code>page.screenshot(path=&quot;screenshot.png&quot;, full_page=True)</code>ã€‚</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> base64<br><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>)                 <span class="hljs-comment"># å¯åŠ¨chromiumæµè§ˆå™¨</span><br>    page = browser.new_page()                                   <span class="hljs-comment"># æ‰“å¼€ä¸€ä¸ªæ ‡ç­¾é¡µ</span><br>    page.goto(<span class="hljs-string">&#x27;https://www.baidu.com&#x27;</span>)                          <span class="hljs-comment"># æ‰“å¼€ç™¾åº¦åœ°å€</span><br>    <span class="hljs-built_in">print</span>(page.title())                                         <span class="hljs-comment"># æ‰“å°å½“å‰é¡µé¢title</span><br><br>    page.screenshot(path=<span class="hljs-string">&quot;pictures/baidu_com.png&quot;</span>)              <span class="hljs-comment"># å¿«é€Ÿæˆªå›¾</span><br>    screenshot_bytes = page.locator(<span class="hljs-string">&quot;#s_lg_img&quot;</span>).screenshot(path=<span class="hljs-string">&quot;pictures/single_element.png&quot;</span>)<br>    <span class="hljs-built_in">print</span>(base64.b64encode(screenshot_bytes).decode())          <span class="hljs-comment"># æ•è·å•å…ƒç´ å›¾ç‰‡æ•°æ®æµ</span><br><br>    page.goto(<span class="hljs-string">&#x27;https://news.baidu.com/&#x27;</span>)                        <span class="hljs-comment"># æ‰“å¼€ç™¾åº¦æ–°é—»</span><br>    <span class="hljs-built_in">print</span>(page.title())                                         <span class="hljs-comment"># æ‰“å°å½“å‰é¡µé¢title</span><br>    page.screenshot(path=<span class="hljs-string">&quot;pictures/baidu_news.png&quot;</span>, full_page=<span class="hljs-literal">True</span>)<br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure>



<h2 id="1-5-è§†é¢‘å½•åˆ¶"><a href="#1-5-è§†é¢‘å½•åˆ¶" class="headerlink" title="1-5 è§†é¢‘å½•åˆ¶"></a>1-5 è§†é¢‘å½•åˆ¶</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">100</span>)<br>    context = browser.new_context(<br>        record_video_dir=<span class="hljs-string">&quot;videos/&quot;</span>,<br>        record_video_size=&#123;<span class="hljs-string">&quot;width&quot;</span>: <span class="hljs-number">640</span>, <span class="hljs-string">&quot;height&quot;</span>: <span class="hljs-number">480</span>&#125;         <span class="hljs-comment"># æŒ‡å®šè§†é¢‘å¤§å°ï¼Œé»˜è®¤800x800</span><br>    )<br>    page = context.new_page()                                   <span class="hljs-comment"># æ‰“å¼€æ ‡ç­¾é¡µ</span><br>    page.goto(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)<br><br>    path = page.video.path()<br>    <span class="hljs-built_in">print</span>(path)                                                 <span class="hljs-comment"># è·å–ä¿å­˜è§†é¢‘è·¯å¾„</span><br><br>    context.close()                                             <span class="hljs-comment"># ç¡®ä¿è°ƒç”¨closeï¼Œè§†é¢‘æ‰ä¼šä¿å­˜</span><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure>



<h2 id="1-6-å¼¹å‡ºçª—å£"><a href="#1-6-å¼¹å‡ºçª—å£" class="headerlink" title="1-6 å¼¹å‡ºçª—å£"></a>1-6 å¼¹å‡ºçª—å£</h2><ul>
<li>å¼¹å‡ºçª—å£<ul>
<li>é¡µé¢ä¸­ï¼Œé€šè¿‡é“¾æ¥æ‰“å¼€ä¸€ä¸ªå¼¹å‡ºçª—å£ï¼Œå¯ä»¥é€šè¿‡ç›‘å¬é¡µé¢ä¸Šçš„äº‹ä»¶<code>target=&quot;_blank&quot;</code>æ¥è·å–å¼•ç”¨ã€‚</li>
<li>å¤„ç†å¼¹å‡ºçª—å£æ—¶ï¼Œå¯ä»¥é€‰æ‹©ç›‘å¬æ­¤ç‰¹å®šäº‹ä»¶ï¼Œä»¥ä¾¿æ›´ç²¾ç¡®åœ°æ•è·ä¸å½“å‰é¡µé¢å…³è”çš„å¼¹å‡ºçª—å£ä¿¡æ¯ã€‚</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">handle_popup</span>(<span class="hljs-params">popup</span>):                                        <span class="hljs-comment"># è§¦å‘å¼¹å‡ºçª—å£çš„æ“ä½œæœªçŸ¥æ—¶ä½¿ç”¨</span><br>    popup.wait_for_load_state()<br>    <span class="hljs-built_in">print</span>(popup.title())<br><br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)   <span class="hljs-comment"># å¯åŠ¨chromiumæµè§ˆå™¨</span><br>    page = browser.new_page()                                   <span class="hljs-comment"># æ‰“å¼€ä¸€ä¸ªæ ‡ç­¾é¡µ</span><br>    page.goto(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br>    <span class="hljs-built_in">print</span>(page.title())<br><br>    <span class="hljs-comment"># with page.expect_popup() as popup_info:</span><br>    <span class="hljs-comment">#     page.locator(&quot;#s-top-left &gt; a:nth-child(1)&quot;).click()</span><br>    <span class="hljs-comment"># popup = popup_info.value</span><br>    <span class="hljs-comment"># popup.wait_for_load_state()                               # ç­‰å¾…å¼¹å‡ºçª—å£åŠ è½½å®Œæ¯•</span><br>    <span class="hljs-comment"># print(popup.title())</span><br>    <br>    page.on(<span class="hljs-string">&quot;popup&quot;</span>, handle_popup)<br>    page.locator(<span class="hljs-string">&quot;#s-top-left &gt; a:nth-child(1)&quot;</span>).click()<br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)                                 <span class="hljs-comment"># æ“ä½œæœªçŸ¥ï¼Œæœ€å¥½åŠ ä¸€ä¸ªç­‰å¾…</span><br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure>



<h2 id="1-7-åˆ‡æ¢æ ‡ç­¾é¡µ"><a href="#1-7-åˆ‡æ¢æ ‡ç­¾é¡µ" class="headerlink" title="1-7 åˆ‡æ¢æ ‡ç­¾é¡µ"></a>1-7 åˆ‡æ¢æ ‡ç­¾é¡µ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)   <span class="hljs-comment"># å¯åŠ¨æµè§ˆå™¨</span><br>    context = browser.new_context()                             <span class="hljs-comment"># å¯åŠ¨ä¸Šä¸‹æ–‡</span><br>    page = context.new_page()                                   <span class="hljs-comment"># æ‰“å¼€æ ‡ç­¾é¡µ</span><br>    page.goto(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br>    <span class="hljs-built_in">print</span>(page.title())<br><br>    <span class="hljs-keyword">with</span> context.expect_page() <span class="hljs-keyword">as</span> new_page_info:<br>        page.click(<span class="hljs-string">&quot;text=æ–°é—»&quot;</span>)<br>    new_page = new_page_info.value<br>    new_page.wait_for_load_state()                              <span class="hljs-comment"># ç­‰å¾…é¡µé¢åŠ è½½åˆ°æŒ‡å®šçŠ¶æ€</span><br>    <span class="hljs-built_in">print</span>(new_page.title())<br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure>



<h3 id="1-éå†pageå¯¹è±¡"><a href="#1-éå†pageå¯¹è±¡" class="headerlink" title="(1) éå†pageå¯¹è±¡"></a>(1) éå†pageå¯¹è±¡</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)   <span class="hljs-comment"># å¯åŠ¨æµè§ˆå™¨</span><br>    context = browser.new_context()                             <span class="hljs-comment"># å¯åŠ¨ä¸Šä¸‹æ–‡</span><br>    page = context.new_page()                                   <span class="hljs-comment"># æ‰“å¼€æ ‡ç­¾é¡µ</span><br>    page.goto(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br><br>    <span class="hljs-keyword">for</span> link <span class="hljs-keyword">in</span> page.locator(<span class="hljs-string">&#x27;#s-top-left&gt;a&#x27;</span>).<span class="hljs-built_in">all</span>():            <span class="hljs-comment"># ç‚¹å¼€å¤šä¸ªæ ‡ç­¾é¡µ</span><br>        link.click()<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> context.pages:                                     <span class="hljs-comment"># éå†pageå¯¹è±¡</span><br>        <span class="hljs-built_in">print</span>(i.title())<br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure>



<h3 id="2-titleå’Œurlåˆ¤æ–­"><a href="#2-titleå’Œurlåˆ¤æ–­" class="headerlink" title="(2) titleå’Œurlåˆ¤æ–­"></a>(2) titleå’Œurlåˆ¤æ–­</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">switch_to_page</span>(<span class="hljs-params">context, title=<span class="hljs-literal">None</span>, url=<span class="hljs-literal">None</span></span>):<br>    <span class="hljs-keyword">for</span> item_page <span class="hljs-keyword">in</span> context.pages:<br>        <span class="hljs-keyword">if</span> title:<br>            <span class="hljs-keyword">if</span> title <span class="hljs-keyword">in</span> item_page.title():<br>                item_page.bring_to_front()                      <span class="hljs-comment"># æ¿€æ´»å½“å‰é€‰é¡¹å¡</span><br>                <span class="hljs-comment"># print(item_page.title())                      # æ‰“å°é¡µé¢æ ‡é¢˜</span><br>                <span class="hljs-keyword">return</span> item_page<br>        <span class="hljs-keyword">elif</span> url:<br>            <span class="hljs-keyword">if</span> url <span class="hljs-keyword">in</span> item_page.url:<br>                item_page.bring_to_front()                      <span class="hljs-comment"># æ¿€æ´»å½“å‰é€‰é¡¹å¡</span><br>                <span class="hljs-keyword">return</span> item_page<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ‰¾ä¸åˆ°æ ‡é¢˜æˆ–URLï¼&quot;</span>)<br>    <span class="hljs-keyword">return</span> context.pages[<span class="hljs-number">0</span>]<br><br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>)<br>    context = browser.new_context()                             <span class="hljs-comment"># å¯åŠ¨ä¸Šä¸‹æ–‡</span><br>    page = context.new_page()                                   <span class="hljs-comment"># æ‰“å¼€æ ‡ç­¾é¡µ</span><br>    page.goto(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br><br>    <span class="hljs-keyword">for</span> link <span class="hljs-keyword">in</span> page.locator(<span class="hljs-string">&#x27;#s-top-left&gt;a&#x27;</span>).<span class="hljs-built_in">all</span>():            <span class="hljs-comment"># ç‚¹å¼€å¤šä¸ªæ ‡ç­¾é¡µ</span><br>        link.click()<br>        page.wait_for_timeout(<span class="hljs-number">1000</span>)<br>    page_switch = switch_to_page(context, title=<span class="hljs-string">&#x27;hao&#x27;</span>)          <span class="hljs-comment"># åˆ‡æ¢åˆ°åŒ…å«haoçš„æ ‡ç­¾é¡µ</span><br>    <span class="hljs-built_in">print</span>(page_switch.title())<br><br>    <span class="hljs-keyword">for</span> item_page <span class="hljs-keyword">in</span> context.pages:                             <span class="hljs-comment"># åˆ‡æ¢å¹¶æ‰“å°æ‰€æœ‰æ ‡ç­¾é¡µçš„æ ‡é¢˜</span><br>        switch_to_page(context, title=item_page.title())<br>        <span class="hljs-built_in">print</span>(item_page.title())<br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure>



<h2 id="1-8-æµè§ˆå™¨çª—å£"><a href="#1-8-æµè§ˆå™¨çª—å£" class="headerlink" title="1-8 æµè§ˆå™¨çª—å£"></a>1-8 æµè§ˆå™¨çª—å£</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>)<br>    context = browser.new_context(<br>        viewport=&#123;<span class="hljs-string">&#x27;width&#x27;</span>: <span class="hljs-number">1200</span>, <span class="hljs-string">&#x27;height&#x27;</span>: <span class="hljs-number">600</span>&#125;,                <span class="hljs-comment"># viewportå‚æ•°æŒ‡å®šçª—å£å¤§å°</span><br>    )<br>    page = context.new_page()<br>    page.goto(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br>    page.fill(<span class="hljs-string">&#x27;#kw&#x27;</span>, <span class="hljs-string">&#x27;Playwrightæ•™ç¨‹&#x27;</span>)<br>    page.click(<span class="hljs-string">&#x27;#su&#x27;</span>)<br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)<br><br>    page.go_back()                                              <span class="hljs-comment"># åé€€ &lt;â€”</span><br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)<br>    page.reload()                                               <span class="hljs-comment"># åˆ·æ–°</span><br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)<br>    page.go_forward()                                           <span class="hljs-comment"># å‰è¿› â€”&gt;</span><br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)<br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure>

<ul>
<li>çª—å£æœ€å¤§åŒ–<ul>
<li>å¯åŠ¨æµè§ˆå™¨æ—¶ï¼Œé€šè¿‡å‚æ•°<code>args=[&#39;--start-maximized&#39;]</code>å¼€å¯æœ€å¤§åŒ–ã€‚</li>
<li>å¹¶è®¾ç½®<code>no_viewport</code>å‚æ•°ä¸ºTrueï¼Œå¦åˆ™é»˜è®¤æŒ‰800*600åƒç´ åˆ›å»ºçª—å£ã€‚</li>
<li>è‹¥ä¸æ˜¯é€šè¿‡contextä¸Šä¸‹æ–‡åˆ›å»ºçš„pageå¯¹è±¡ï¼Œå¯ä»¥ç›´æ¥å°†viewportå‚æ•°å†™åˆ°<code>new_page()</code>é‡Œã€‚</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(<br>        headless=<span class="hljs-literal">False</span>,<br>        args=[<span class="hljs-string">&#x27;--start-maximized&#x27;</span>]                              <span class="hljs-comment"># å¯åŠ¨æµè§ˆå™¨æ—¶ï¼Œå¼€å¯æœ€å¤§åŒ–</span><br>    )<br>    context = browser.new_context(no_viewport=<span class="hljs-literal">True</span>)             <span class="hljs-comment"># no_viewportç¦æ­¢é™åˆ¶çª—å£å¤§å°</span><br>    page = context.new_page()<br>    page.goto(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br><br>    page.pause()                                                <span class="hljs-comment"># è°ƒè¯•æ–¹æ³•ï¼Œåœ¨å½“å‰é¡µé¢æš‚åœæ‰§è¡Œï¼Œç­‰å¾…æ“ä½œ</span><br></code></pre></td></tr></table></figure>



<h2 id="1-9-ç‰¹å®šè®¾å¤‡æ‰“å¼€"><a href="#1-9-ç‰¹å®šè®¾å¤‡æ‰“å¼€" class="headerlink" title="1-9 ç‰¹å®šè®¾å¤‡æ‰“å¼€"></a>1-9 ç‰¹å®šè®¾å¤‡æ‰“å¼€</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    iphone_13 = p.devices[<span class="hljs-string">&#x27;iPhone 13&#x27;</span>]                          <span class="hljs-comment"># ä»¥iPhone 13å½¢å¼æ‰“å¼€</span><br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>)<br>    context = browser.new_context(**iphone_13)<br>    page = context.new_page()<br>    page.goto(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)<br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure>



<h1 id="2-é¡µé¢å…ƒç´ å®šä½"><a href="#2-é¡µé¢å…ƒç´ å®šä½" class="headerlink" title="2 é¡µé¢å…ƒç´ å®šä½"></a>2 é¡µé¢å…ƒç´ å®šä½</h1><ul>
<li>é¡µé¢å…ƒç´ å®šä½<ul>
<li>é€‰æ‹©å™¨(Selector)ï¼šç”¨äºåˆ›å»ºå®šä½å™¨çš„å­—ç¬¦ä¸²ã€‚<ul>
<li>CSSå’ŒXPath<ul>
<li>é€šè¿‡CSSé€‰æ‹©å™¨ã€XPathé€‰æ‹©å™¨ï¼Œä¾æ®å…ƒç´ å±æ€§ã€æ ‡ç­¾åã€æ–‡æœ¬å†…å®¹ç­‰ç‰¹å¾æ¥å®šä½å…ƒç´ ã€‚</li>
<li>æ“ä½œå…ƒç´ å¯ä½¿ç”¨å®šä½å™¨(Locator)å…ˆå®šä½å†æ“ä½œï¼Œä¹Ÿå¯ç›´æ¥å®šä½æ–¹æ³•åå†ä¼ é€‰æ‹©å™¨(æ¨è)ã€‚</li>
</ul>
</li>
<li>æ–‡æœ¬å†…å®¹ï¼šæŒ‡å®šå…ƒç´ æ‰€åŒ…å«çš„æ–‡æœ¬å†…å®¹ï¼Œå¯ä»¥æ‰¾åˆ°å¯¹åº”çš„å…ƒç´ ã€‚</li>
<li>å±æ€§ï¼šæŒ‡å®šå…ƒç´ çš„æŸä¸ªå±æ€§åŠå…¶å¯¹åº”çš„å€¼ï¼Œå¯ä»¥å”¯ä¸€åœ°å®šä½åˆ°å…ƒç´ ã€‚</li>
<li>åæ ‡ï¼šé€šè¿‡æŒ‡å®šå…ƒç´ åœ¨é¡µé¢ä¸­çš„xå’Œyåæ ‡ï¼Œå¯ä»¥ç²¾ç¡®åœ°å®šä½åˆ°å…ƒç´ ã€‚</li>
<li>å…ƒç´ å±‚çº§å…³ç³»ï¼šé€šè¿‡å…ƒç´ çš„çˆ¶å…ƒç´ ã€å­å…ƒç´ ã€ç›¸é‚»å…ƒç´ ç­‰å…³ç³»æ¥ç¡®å®šå…ƒç´ çš„ä½ç½®ã€‚</li>
</ul>
</li>
<li>å®šä½å™¨(Locator)ï¼šPlaywrightè‡ªåŠ¨ç­‰å¾…å’Œé‡è¯•èƒ½åŠ›çš„æ ¸å¿ƒéƒ¨åˆ†ã€‚</li>
<li>è¾“å…¥æ–‡å­—ï¼šfill()æ˜¯å¡«å†™è¡¨å•å­—æ®µçš„æœ€ç®€æ–¹æ³•ã€type()é”®å…¥å­—ç¬¦ã€‚</li>
<li>é¼ æ ‡ç‚¹å‡»click()ã€æ‹–æ”¾drag_to()ã€ä¸‹æ‹‰æ¡†é€‰æ‹©select_option()ã€‚</li>
<li>iframeå®šä½ã€å•é€‰ä¸å¤é€‰set_checked()ã€èšç„¦ç»™å®šå…ƒç´ focus()ã€‚</li>
</ul>
</li>
</ul>
<h2 id="2-1-é€‰æ‹©å™¨"><a href="#2-1-é€‰æ‹©å™¨" class="headerlink" title="2-1 é€‰æ‹©å™¨"></a>2-1 é€‰æ‹©å™¨</h2><ul>
<li>é€‰æ‹©å™¨<ul>
<li>CSSå’ŒXPath<ul>
<li>æµè§ˆå™¨F12å¼€å‘è€…å·¥å…·ï¼ŒElementsä¸­é¼ æ ‡é€‰ä¸­å…ƒç´ å³é”®å¯ä»¥Copyé€‰æ‹©å™¨æˆ–XPathå†…å®¹ã€‚</li>
<li><code>page.fill(&#39;css=#kw&#39;, &#39;Playwright&#39;)</code>ã€<code>page.click(&#39;xpath=//*[@id=&quot;su&quot;]&#39;)</code>ã€‚</li>
<li><code>page.fill(&#39;#kw&#39;, &#39;Playwright&#39;)</code>ã€<code>page.click(&#39;//*[@id=&quot;su&quot;]&#39;)</code>(å‰ç¼€å¯ä¸å†™)ã€‚</li>
<li>é•¿CSSæˆ–XPathé“¾å®¹æ˜“ä¸ç¨³å®šï¼Œé€‰æ‹©å™¨ç»‘å®šåˆ°DOMï¼Œç»“æ„å‘ç”Ÿå˜åŒ–æ—¶é€‰æ‹©å™¨å¯èƒ½ä¼šä¸­æ–­ã€‚</li>
</ul>
</li>
<li>æ–‡æœ¬å†…å®¹<ul>
<li>Playwrightå°è£…äº†ä¸¤ç§textæ–‡æœ¬å®šä½çš„æ–¹å¼ã€‚<ul>
<li><code>page.click(&quot;text=xxx&quot;)</code>ï¼šæ— å¼•å·ï¼Œæ¨¡ç³ŠåŒ¹é…ï¼Œå¯¹å¤§å°å†™ä¸æ•æ„Ÿã€‚</li>
<li><code>page.click(&quot;text=&#39;xxx&#39;&quot;)</code>ï¼šæœ‰å¼•å·ï¼Œç²¾ç¡®åŒ¹é…ï¼Œå¯¹å¤§å°å†™æ•æ„Ÿã€‚</li>
</ul>
</li>
<li>é™¤äº†æ”¯æŒå®šä½aæ ‡ç­¾ï¼Œè¿˜å¯ä»¥å®šä½buttonæŒ‰é’®ã€inputæ ‡ç­¾çš„buttonæŒ‰é’®ã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="1-CSSå’ŒXPath"><a href="#1-CSSå’ŒXPath" class="headerlink" title="(1) CSSå’ŒXPath"></a>(1) CSSå’ŒXPath</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)   <span class="hljs-comment"># å¯åŠ¨æµè§ˆå™¨</span><br>    page = browser.new_page()<br>    page.goto(<span class="hljs-string">&#x27;https://www.baidu.com&#x27;</span>)                          <span class="hljs-comment"># æ‰“å¼€ç™¾åº¦åœ°å€</span><br>    <span class="hljs-built_in">print</span>(page.title())                                         <span class="hljs-comment"># æ‰“å°å½“å‰é¡µé¢title</span><br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)<br><br>    page.fill(<span class="hljs-string">&#x27;//*[@id=&quot;kw&quot;]&#x27;</span>, <span class="hljs-string">&#x27;Playwright&#x27;</span>)                    <span class="hljs-comment"># XPath</span><br>    page.click(<span class="hljs-string">&#x27;#su&#x27;</span>)                                           <span class="hljs-comment"># CSS</span><br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure>



<h3 id="2-æ–‡æœ¬å®šä½aæ ‡ç­¾"><a href="#2-æ–‡æœ¬å®šä½aæ ‡ç­¾" class="headerlink" title="(2) æ–‡æœ¬å®šä½aæ ‡ç­¾"></a>(2) æ–‡æœ¬å®šä½aæ ‡ç­¾</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)   <span class="hljs-comment"># å¯åŠ¨æµè§ˆå™¨</span><br>    page = browser.new_page()<br>    page.goto(<span class="hljs-string">&#x27;https://www.baidu.com&#x27;</span>)                          <span class="hljs-comment"># æ‰“å¼€ç™¾åº¦åœ°å€</span><br>    <span class="hljs-built_in">print</span>(page.title())                                         <span class="hljs-comment"># æ‰“å°å½“å‰é¡µé¢title</span><br><br>    page.click(<span class="hljs-string">&#x27;text=æ–°é—»&#x27;</span>)<br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)                                 <span class="hljs-comment"># ç­‰å¾…3ç§’</span><br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure>



<h3 id="3-æ–‡æœ¬å®šä½button"><a href="#3-æ–‡æœ¬å®šä½button" class="headerlink" title="(3) æ–‡æœ¬å®šä½button"></a>(3) æ–‡æœ¬å®šä½button</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)   <span class="hljs-comment"># å¯åŠ¨æµè§ˆå™¨</span><br>    page = browser.new_page()<br>    page.goto(<span class="hljs-string">&#x27;https://www.baidu.com&#x27;</span>)                          <span class="hljs-comment"># æ‰“å¼€ç™¾åº¦åœ°å€</span><br>    <span class="hljs-built_in">print</span>(page.title())                                         <span class="hljs-comment"># æ‰“å°å½“å‰é¡µé¢title</span><br><br>    page.fill(<span class="hljs-string">&quot;#kw&quot;</span>, <span class="hljs-string">&quot;Playwright&quot;</span>)<br>    page.click(<span class="hljs-string">&#x27;text=ç™¾åº¦ä¸€ä¸‹&#x27;</span>)<br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)                                 <span class="hljs-comment"># ç­‰å¾…3ç§’</span><br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure>



<h3 id="4-è·å–å†…å®¹ä¸æ–‡æœ¬"><a href="#4-è·å–å†…å®¹ä¸æ–‡æœ¬" class="headerlink" title="(4) è·å–å†…å®¹ä¸æ–‡æœ¬"></a>(4) è·å–å†…å®¹ä¸æ–‡æœ¬</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">100</span>)<br>    context = browser.new_context()                             <span class="hljs-comment"># åˆ›å»ºä¸Šä¸‹æ–‡</span><br>    page = context.new_page()                                   <span class="hljs-comment"># æ‰“å¼€æ ‡ç­¾é¡µ</span><br>    page.goto(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br><br>    <span class="hljs-built_in">print</span>(page.content())                                       <span class="hljs-comment"># è·å–æ•´ä¸ªé¡µé¢çš„htmlå†…å®¹</span><br>    page.wait_for_load_state(<span class="hljs-string">&quot;networkidle&quot;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-----------------åˆ†å‰²çº¿-----------------&quot;</span>)<br><br>    a = page.locator(<span class="hljs-string">&#x27;#s-top-left&gt;a&#x27;</span>).first<br>    <span class="hljs-built_in">print</span>(a.get_attribute(<span class="hljs-string">&#x27;href&#x27;</span>))                              <span class="hljs-comment"># è·å–å…ƒç´ å±æ€§</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-----------------åˆ†å‰²çº¿-----------------&quot;</span>)<br><br>    b = page.locator(<span class="hljs-string">&#x27;//*[@id=&quot;s-top-left&quot;]&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(b.inner_html())                                       <span class="hljs-comment"># è·å–å…ƒç´ ä¸‹çš„htmlå†…å®¹</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-----------------åˆ†å‰²çº¿-----------------&quot;</span>)<br>    <span class="hljs-built_in">print</span>(b.inner_text())                                       <span class="hljs-comment"># è·å–å…ƒç´ çš„æ–‡æœ¬å†…å®¹</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-----------------åˆ†å‰²çº¿-----------------&quot;</span>)<br>    <span class="hljs-built_in">print</span>(b.all_inner_texts())                                  <span class="hljs-comment"># åˆ—è¡¨æ˜¾ç¤ºè·å–åˆ°çš„é¡µé¢å†…å®¹</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-----------------åˆ†å‰²çº¿-----------------&quot;</span>)<br>    <span class="hljs-built_in">print</span>(b.all_text_contents())                                <span class="hljs-comment"># åˆ—è¡¨æ˜¾ç¤ºè·å–åˆ°çš„å…ƒç´ ä¸‹æ‰€æœ‰å†…å®¹</span><br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure>



<h3 id="5-è·å–è¾“å…¥æ¡†çš„å€¼"><a href="#5-è·å–è¾“å…¥æ¡†çš„å€¼" class="headerlink" title="(5) è·å–è¾“å…¥æ¡†çš„å€¼"></a>(5) è·å–è¾“å…¥æ¡†çš„å€¼</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">100</span>)<br>    context = browser.new_context()                             <span class="hljs-comment"># åˆ›å»ºä¸Šä¸‹æ–‡</span><br>    page = context.new_page()                                   <span class="hljs-comment"># æ‰“å¼€æ ‡ç­¾é¡µ</span><br>    page.goto(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br>    page.wait_for_load_state(<span class="hljs-string">&quot;networkidle&quot;</span>)<br><br>    input1 = page.locator(<span class="hljs-string">&#x27;#kw&#x27;</span>)<br>    input1.fill(<span class="hljs-string">&#x27;Playwright&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(input1.input_value())                                 <span class="hljs-comment"># è·å–è¾“å…¥æ¡†çš„å€¼</span><br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure>



<h3 id="6-é€‰æ‹©å™¨ç»„åˆå®šä½"><a href="#6-é€‰æ‹©å™¨ç»„åˆå®šä½" class="headerlink" title="(6) é€‰æ‹©å™¨ç»„åˆå®šä½"></a>(6) é€‰æ‹©å™¨ç»„åˆå®šä½</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)   <span class="hljs-comment"># å¯åŠ¨æµè§ˆå™¨</span><br>    page = browser.new_page()<br>    page.goto(<span class="hljs-string">&#x27;https://passport.baidu.com/v2/?login&#x27;</span>)           <span class="hljs-comment"># æ‰“å¼€ç™¾åº¦ç™»å½•é¡µé¢</span><br>    <span class="hljs-built_in">print</span>(page.title())                                         <span class="hljs-comment"># æ‰“å°å½“å‰é¡µé¢title</span><br><br>    page.wait_for_selector(<span class="hljs-string">&#x27;text=ç”¨æˆ·åç™»å½•&#x27;</span>).click()<br>    page.fill(<span class="hljs-string">&#x27;form &gt;&gt; [name=&quot;userName&quot;]&#x27;</span>, <span class="hljs-string">&#x27;Test&#x27;</span>)              <span class="hljs-comment"># ä¸åŒçš„é€‰æ‹©å™¨ç»„åˆä½¿ç”¨ï¼Œç”¨&gt;&gt;è¿æ¥</span><br>    <span class="hljs-comment"># page.locator(&quot;form&quot;).locator(&#x27;[name=&quot;userName&quot;]&#x27;).fill(&quot;Test&quot;)</span><br>    page.fill(<span class="hljs-string">&#x27;form &gt;&gt; [name=&quot;password&quot;]&#x27;</span>, <span class="hljs-string">&quot;A.123456&quot;</span>)<br>    <span class="hljs-comment"># page.locator(&quot;form&quot;).locator(&#x27;[name=&quot;password&quot;]&#x27;).fill(&quot;A.123456&quot;)</span><br>    <span class="hljs-comment"># page.click(&#x27;//*[@id=&quot;TANGRAM__PSP_3__submit&quot;]&#x27;)</span><br>    page.click(<span class="hljs-string">&quot;text=&#x27;ç™»å½•&#x27;&quot;</span>)<br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)                                 <span class="hljs-comment"># ç­‰å¾…3ç§’</span><br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure>



<h2 id="2-2-å®šä½å™¨"><a href="#2-2-å®šä½å™¨" class="headerlink" title="2-2 å®šä½å™¨"></a>2-2 å®šä½å™¨</h2><ul>
<li>å®šä½å™¨<ul>
<li>è¿‡æ»¤å®šä½å™¨ï¼š<code>locator.filter()</code>å¯ä»¥å¯¹locatorå®šä½åˆ°çš„å…ƒç´ è¿›è¡Œç­›é€‰è¿‡æ»¤ã€‚<ul>
<li><code>count()</code>ï¼šç»Ÿè®¡å…ƒç´ çš„ä¸ªæ•°ã€‚</li>
<li><code>first</code>ï¼šå®šä½å¤šä¸ªæ—¶ï¼ŒåŒ¹é…ç¬¬ä¸€ä¸ªã€‚</li>
<li><code>last</code>ï¼šå®šä½å¤šä¸ªæ—¶ï¼ŒåŒ¹é…æœ€åä¸€ä¸ªã€‚</li>
<li><code>nth()</code>ï¼šå®šä½å¤šä¸ªæ—¶ï¼Œæ ¹æ®ç´¢å¼•å®šä½å…ƒç´ ã€‚</li>
</ul>
</li>
<li>Locatorå®šä½æœºåˆ¶ä¸å…ƒç´ å¥æŸ„ElementHandle<ul>
<li><code>locator()</code>æ˜¯å®šä½å½“å‰é¡µé¢å…ƒç´ ï¼Œä¸ä¼šè‡ªåŠ¨ç­‰å¾…ï¼Œè‹¥ç»“åˆclickç­‰æ–¹æ³•ï¼Œä¼šè‡ªåŠ¨ç­‰å¾…å¤„äºå¯æ“ä½œçŠ¶æ€ã€‚</li>
<li>JavaScriptä¸­ElementHandleå³é¡µå†…DOMå…ƒç´ ï¼ŒElementHandlesä½¿ç”¨page.query_selector()æ–¹æ³•åˆ›å»ºã€‚</li>
<li>Locatorå’ŒElementHandleä¹‹é—´çš„åŒºåˆ«åœ¨äºåè€…æŒ‡å‘ç‰¹å®šå…ƒç´ ï¼Œè€ŒLocatoræ•è·å…ƒç´ ï¼Œæ£€ç´¢å…ƒç´ çš„é€»è¾‘ã€‚</li>
<li>ä¸é¼“åŠ±ä½¿ç”¨ElementHandleï¼Œè€Œæ˜¯ä½¿ç”¨Locatorå¯¹è±¡å’Œç½‘ç»œä¼˜å…ˆæ–­è¨€ã€‚<ul>
<li>Seleniumé‡‡ç”¨çš„æ˜¯HTTPåè®®ï¼Œè·å–çš„å…ƒç´ å¥æŸ„æ˜¯å›ºå®šçš„ï¼Œä¸èƒ½å®æ—¶å»è·å–é¡µé¢ä¸Šçš„å…ƒç´ ã€‚</li>
<li>Playwrighté‡‡ç”¨Websocketåè®®ï¼Œå¯å®æ—¶è·å–é¡µé¢å…ƒç´ ï¼ŒDOMç»“æ„å˜åŒ–æ—¶ä¹Ÿèƒ½é‡æ–°è·å–åˆ°ã€‚</li>
</ul>
</li>
</ul>
</li>
<li><code>page.get_by_role()</code><ul>
<li>ä¼˜å…ˆè€ƒè™‘é€šè¿‡æ˜¾å¼å’Œéšå¼å¯è®¿é—®æ€§å±æ€§è¿›è¡Œå®šä½å…·æœ‰å¯è®¿é—®æ€§ç‰¹å¾çš„å…ƒç´ ã€‚<ul>
<li>æ˜¾å¼å¯è®¿é—®æ€§å±æ€§ï¼ŒæŒ‡å¼€å‘äººå‘˜æ˜ç¡®åœ°ä¸ºå…ƒç´ è®¾ç½®çš„å±æ€§ï¼Œå…·æœ‰æè¿°å…ƒç´ åŠå…¶åŠŸèƒ½çš„å¯è®¿é—®æ€§ä¿¡æ¯ã€‚</li>
<li>éšå¼å¯è®¿é—®æ€§å±æ€§ï¼Œæ ¹æ®å…ƒç´ çš„å…¶ä»–å±æ€§å’Œå†…å®¹æ¨æ–­å¯è®¿é—®æ€§ä¿¡æ¯ï¼Œè€Œéç‰¹å®šè®¾ç½®ä¸ºå¯è®¿é—®æ€§å±æ€§ã€‚</li>
</ul>
</li>
<li>å¯ä»¥è€ƒè™‘å°†é¼ æ ‡æ‚¬åœåœ¨å®šä½å™¨æŒ‡å‘çš„å…ƒç´ ä¸Šï¼Œå†ç‚¹å‡»å®šä½å™¨æ‰€æŒ‡å‘çš„å…ƒç´ ï¼Œåº•å±‚DOMå…ƒç´ å°†è¢«å®šä½ä¸¤æ¬¡ã€‚</li>
<li>åˆ›å»ºå®šä½å™¨çš„æ–¹æ³•ä¹Ÿå¯ç”¨äºLocatorç±»å’ŒFrameLocatorç±»ï¼Œæ”¯æŒå°†å…¶é“¾æ¥èµ·æ¥å¹¶è¿­ä»£åœ°ç¼©å°å®šä½å™¨çš„èŒƒå›´ã€‚<ul>
<li>Locatorç±»å®šä½é¡µé¢ä¸Šçš„å…ƒç´ ï¼Œ<code>page.locator()</code>ã€ <code>ElementHandle.locator()</code>ã€<code>locator.nth()</code>ã€‚</li>
<li>FrameLocatorç±»å®šä½é¡µé¢ä¸Šçš„æ¡†æ¶(iframe)ï¼Œæ–¹æ³•æœ‰<code>page.frame_locator()</code>ã€ <code>locator.frame()</code>ã€‚</li>
</ul>
</li>
<li>è€ƒè™‘DOMç»“æ„ï¼Œä¹Ÿå¯ä»¥é€šè¿‡éšå«è§’è‰²å®šä½å…ƒç´ ã€‚<ul>
<li>è§’è‰²å®šä½å™¨åŒ…æ‹¬æŒ‰é’®ã€å¤é€‰æ¡†ã€æ ‡é¢˜ã€é“¾æ¥ã€åˆ—è¡¨ã€è¡¨æ ¼ç­‰ã€‚</li>
<li>ä¸”å®šä½éµå¾ªARIAè§’è‰²ã€ARIAå±æ€§å’Œå¯è®¿é—®åç§°çš„W3Cè§„èŒƒã€‚</li>
</ul>
</li>
</ul>
</li>
<li><code>page.get_by_text()</code>ï¼šæ–‡æœ¬å†…å®¹å®šä½ï¼Œéäº¤äº’å¼å…ƒç´ å¦‚divã€spanã€pç­‰ã€‚</li>
<li><code>page.get_by_title()</code>ï¼šé€šè¿‡æ ‡é¢˜titleçš„å±æ€§å®šä½å…ƒç´ ã€‚</li>
<li><code>page.get_by_label()</code>ï¼šé€šè¿‡å…³è”æ ‡ç­¾çš„æ–‡æœ¬å®šä½å…ƒç´ ã€‚</li>
<li><code>page.get_by_test_id()</code>ï¼šä¾æ®data-testidå±æ€§å®šä½å…ƒç´ ã€‚</li>
<li><code>page.get_by_alt_text()</code>ï¼šä¾æ®æ›¿ä»£æ–‡æœ¬æ¥è¿›è¡Œå›¾åƒå®šä½ï¼Œä¾‹å¦‚imgã€areaå…ƒç´ ã€‚</li>
<li><code>page.get_by_placeholder()</code>ï¼šå®šä½æ— æ ‡ç­¾ä½†å…·æœ‰å ä½ç¬¦æ–‡æœ¬çš„è¡¨å•å…ƒç´ æ—¶ä½¿ç”¨ã€‚</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">100</span>)<br>    page = browser.new_page()                                   <span class="hljs-comment"># æ‰“å¼€æ ‡ç­¾é¡µ</span><br>    page.goto(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br><br>    lacate = page.locator(<span class="hljs-string">&#x27;#s-top-left&gt;a&#x27;</span>)<br>    lacate.first.click()                                        <span class="hljs-comment"># ç‚¹å‡»ç¬¬ä¸€ä¸ª</span><br>    lacate.last.click()                                         <span class="hljs-comment"># ç‚¹å‡»æœ€åä¸€ä¸ª</span><br>    lacate.nth(<span class="hljs-number">2</span>).click()                                       <span class="hljs-comment"># ç´¢å¼•ç¬¬ä¸‰ä¸ªå…ƒç´ </span><br>    <span class="hljs-built_in">print</span>(lacate.count())                                       <span class="hljs-comment"># ç»Ÿè®¡å…ƒç´ çš„ä¸ªæ•°</span><br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)<br><br>    loc1 = page.locator(<span class="hljs-string">&quot;id=kw&quot;</span>)<br>    <span class="hljs-built_in">print</span>(loc1)<br>    <span class="hljs-built_in">print</span>(loc1.count())                                         <span class="hljs-comment"># 1è¡¨ç¤ºå…ƒç´ å­˜åœ¨</span><br>    loc1 = page.query_selector(<span class="hljs-string">&#x27;#kw&#x27;</span>)                           <span class="hljs-comment"># ElementHandles</span><br>    <span class="hljs-built_in">print</span>(loc1)<br>    loc1 = page.query_selector_all(<span class="hljs-string">&#x27;#kw&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(loc1)                                                 <span class="hljs-comment"># å¤æ•°å®šä½æ–¹å¼è¿”å›list</span><br><br>    loc2 = page.locator(<span class="hljs-string">&#x27;id=test&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(loc2)<br>    <span class="hljs-built_in">print</span>(loc2.count())                                         <span class="hljs-comment"># 0è¡¨ç¤ºå…ƒç´ ä¸å­˜åœ¨</span><br>    loc2 = page.query_selector(<span class="hljs-string">&#x27;#test&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(loc2)<br>    loc2 = page.query_selector_all(<span class="hljs-string">&#x27;#test&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(loc2)<br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure>



<h3 id="1-è¿‡æ»¤é“¾å¼å®šä½"><a href="#1-è¿‡æ»¤é“¾å¼å®šä½" class="headerlink" title="(1) è¿‡æ»¤é“¾å¼å®šä½"></a>(1) è¿‡æ»¤é“¾å¼å®šä½</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> re<br><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright, expect<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> pw:<br>    browser = pw.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)<br>    page = browser.new_page()<br>    page.goto(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br><br>    page.locator(<span class="hljs-string">&#x27;//*[@id=&quot;s-top-left&quot;]/a[1]&#x27;</span>).<span class="hljs-built_in">filter</span>(has_text=<span class="hljs-string">&quot;æ–°é—»&quot;</span>).click()<br>    <span class="hljs-comment"># æ ¹æ®divå…ƒç´ å®šä½åˆ°å¤šä¸ªaæ ‡ç­¾ï¼Œç»§ç»­ç¼©å°èŒƒå›´ï¼ŒæŒ‰æ–‡æœ¬è¿‡æ»¤</span><br>    page.locator(<span class="hljs-string">&#x27;#s-top-left&gt;a&#x27;</span>).<span class="hljs-built_in">filter</span>(has_text=<span class="hljs-string">&quot;æ–°é—»&quot;</span>).click()<br>    page.locator(<span class="hljs-string">&#x27;#s-top-left&gt;a&#x27;</span>, has_text=<span class="hljs-string">&quot;æ–°é—»&quot;</span>).click()<br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)<br><br>    page.get_by_role(<span class="hljs-string">&quot;listitem&quot;</span>).<span class="hljs-built_in">filter</span>(has_text=re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">&#x27;1&#x27;</span>)).click()<br>    expect(<br>        page.get_by_role(<span class="hljs-string">&quot;listitem&quot;</span>).<span class="hljs-built_in">filter</span>(has_text=<span class="hljs-string">&quot;1&quot;</span>)<br>    ).to_have_count(<span class="hljs-number">1</span>)                                          <span class="hljs-comment"># æ–­è¨€æ˜¯å¦èƒ½å®šä½åˆ°å…ƒç´ </span><br>    page.get_by_role(<span class="hljs-string">&quot;listitem&quot;</span>).<span class="hljs-built_in">filter</span>(has_text=<span class="hljs-string">&quot;1&quot;</span>).click()   <span class="hljs-comment"># å¯¹äºul-liå…ƒç´ </span><br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)                                 <span class="hljs-comment"># å¯ç”¨listitemè§’è‰²å®šä½æ–¹å¼</span><br><br>    locate = page.get_by_role(<span class="hljs-string">&quot;listitem&quot;</span>).<span class="hljs-built_in">filter</span>(has_text=<span class="hljs-string">&quot;1&quot;</span>)<br>    locate.click()                                              <span class="hljs-comment"># é“¾å¼å®šä½</span><br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)<br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure>



<h3 id="2-get-by-role"><a href="#2-get-by-role" class="headerlink" title="(2) get_by_role()"></a>(2) get_by_role()</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-comment">&lt;!-- get_by_role.html --&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>get_by_role<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">myFunction</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">var</span> x;</span><br><span class="language-javascript">            <span class="hljs-keyword">var</span> person = <span class="hljs-title function_">prompt</span>(<span class="hljs-string">&quot;è¯·è¾“å…¥ä½ çš„åå­—ï¼š&quot;</span>, <span class="hljs-string">&quot;&quot;</span>);</span><br><span class="language-javascript">            <span class="hljs-keyword">if</span> (person != <span class="hljs-literal">null</span> &amp;&amp; person != <span class="hljs-string">&quot;&quot;</span>) &#123;</span><br><span class="language-javascript">                x = <span class="hljs-string">&quot;ä½ å¥½ï¼Œ&quot;</span> + person + <span class="hljs-string">&quot;ï¼ä»Šå¤©æ„Ÿè§‰å¦‚ä½•ï¼Ÿ&quot;</span>;</span><br><span class="language-javascript">                <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;demo&quot;</span>).<span class="hljs-property">innerHTML</span> = x;</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align: center;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ç‚¹å‡»æŒ‰é’®æŸ¥çœ‹è¾“å…¥çš„å¯¹è¯æ¡†ã€‚<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;myFunction()&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 195px; height: 40px;&quot;</span>&gt;</span>ç‚¹æˆ‘<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;demo&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- page.get_by_role(&quot;button&quot;, name=&quot;ç‚¹æˆ‘&quot;).click() --&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- # ä¸¤æ¬¡å®šä½ä¹‹é—´å‘ç”Ÿäº†DOMçš„é‡æ–°æ¸²æŸ“ï¼Œå®šä½å™¨å°†ä½¿ç”¨æœ€æ–°åŒ¹é…å…ƒç´ ï¼Œå¯é¿å…ä½¿ç”¨è¿‡æ—¶çš„å…ƒç´  --&gt;</span><br>    <span class="hljs-comment">&lt;!-- locator = page.get_by_role(&quot;button&quot;, name=&quot;ç‚¹æˆ‘&quot;) --&gt;</span><br>    <span class="hljs-comment">&lt;!-- # hoveræ‚¬åœåœ¨å®šä½å™¨æŒ‡å‘çš„å…ƒç´ ä¸Šï¼Œclickç‚¹å‡»å®šä½å™¨æ‰€æŒ‡å‘çš„å…ƒç´  --&gt;</span><br>    <span class="hljs-comment">&lt;!-- locator.hover() --&gt;</span><br>    <span class="hljs-comment">&lt;!-- locator.click() --&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- locator = page.locator(&quot;body&quot;).get_by_role(&quot;button&quot;, name=&quot;ç‚¹æˆ‘&quot;) --&gt;</span><br>    <span class="hljs-comment">&lt;!-- locator.click() --&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>ç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> /&gt;</span>ç”¨æˆ·<br>        <span class="hljs-comment">&lt;!-- &lt;input type=&quot;checkbox&quot; /&gt;æ¸¸å®¢ --&gt;</span><span class="hljs-comment">&lt;!-- è‹¥å¤šä¸ªinputå†™ä¸€èµ·ï¼Œåˆ™åªè¿”å›ç¬¬ä¸€ä¸ª --&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> /&gt;</span>æ¸¸å®¢<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>æäº¤<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- # éªŒè¯é¡µé¢æ˜¯å¦æ­£ç¡®page.check(&#x27;input[name=&quot;æ¸¸å®¢&quot;]&#x27;)æ˜¾ç¤º&quot;ç™»å½•&quot;æ ‡é¢˜çš„æ–­è¨€è¯­å¥ --&gt;</span><br>    <span class="hljs-comment">&lt;!-- expect(page.get_by_role(&quot;heading&quot;, name=&quot;ç™»å½•&quot;)).to_be_visible() --&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- # æ¨¡æ‹Ÿé€‰æ‹©è®¢é˜…é€‰é¡¹ï¼ˆåªè¿”å›åŒ¹é…çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼‰ --&gt;</span><br>    <span class="hljs-comment">&lt;!-- page.get_by_role(&quot;checkbox&quot;, name=&quot;æ¸¸å®¢&quot;).check() --&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- # æ¨¡æ‹Ÿç‚¹å‡»æäº¤æŒ‰é’®ï¼Œç»“åˆæ­£åˆ™è¡¨è¾¾å¼å®šä½è§’è‰²ä¸ºbuttonä¸”åç§°åŒ…å«&quot;æäº¤&quot;çš„å…ƒç´ ï¼Œç„¶åç‚¹å‡»è¯¥æŒ‰é’® --&gt;</span><br>    <span class="hljs-comment">&lt;!-- page.get_by_role(&quot;button&quot;, name=re.compile(&quot;æäº¤&quot;, re.IGNORECASE)).click() --&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>



<h3 id="3-get-by-text"><a href="#3-get-by-text" class="headerlink" title="(3) get_by_text()"></a>(3) get_by_text()</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-comment">&lt;!-- get_by_text.html --&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>get_by_text<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align: center;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>æ¬¢è¿è®¿é—®ï¼Œå¼ ä¸‰ï¼<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>This is a <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;color: blue;&quot;</span>&gt;</span>blue<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span> text.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- # é€šè¿‡å­—ç¬¦ä¸²åŒ¹é… --&gt;</span><br>    <span class="hljs-comment">&lt;!-- expect(page.get_by_text(&quot;æ¬¢è¿è®¿é—®ï¼Œå¼ ä¸‰ï¼&quot;)).to_be_visible() --&gt;</span><br>    <br>    <span class="hljs-comment">&lt;!-- # ç²¾ç¡®åŒ¹é… --&gt;</span><br>    <span class="hljs-comment">&lt;!-- expect(page.get_by_text(&quot;æ¬¢è¿è®¿é—®ï¼Œå¼ ä¸‰ï¼&quot;, exact=True)).to_be_visible() --&gt;</span><br>    <br>    <span class="hljs-comment">&lt;!-- # æ­£åˆ™è¡¨è¾¾å¼åŒ¹é… --&gt;</span><br>    <span class="hljs-comment">&lt;!-- expect(page.get_by_text(re.compile(&quot;æ¬¢è¿è®¿é—®ï¼Œå¼ ä¸‰ï¼&quot;, re.IGNORECASE))).to_be_visible() --&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>



<h3 id="4-get-by-title"><a href="#4-get-by-title" class="headerlink" title="(4) get_by_title()"></a>(4) get_by_title()</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-comment">&lt;!-- get_by_title.html --&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>get_by_title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align: center;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>æ¬¢è¿è®¿é—®ï¼Œå¼ ä¸‰ï¼<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">title</span>=<span class="hljs-string">&quot;è¯é¢˜æ•°&quot;</span>&gt;</span>27ä¸ªè¯é¢˜<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- # æ‰¾åˆ°å…·æœ‰åŒ¹é…titleå±æ€§çš„å…ƒç´  --&gt;</span><br>    <span class="hljs-comment">&lt;!-- expect(page.get_by_title(&quot;è¯é¢˜æ•°&quot;)).to_have_text(&quot;27ä¸ªè¯é¢˜&quot;) --&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>



<h3 id="5-get-by-label"><a href="#5-get-by-label" class="headerlink" title="(5) get_by_label()"></a>(5) get_by_label()</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-comment">&lt;!-- get_by_label.html --&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>get_by_label<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align: center;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>ç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>ç”¨æˆ· <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;username&quot;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>å¯†ç  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;password&quot;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>    <br>    <span class="hljs-comment">&lt;!-- # é€šè¿‡æ ‡ç­¾æ–‡æœ¬å®šä½åå¡«å†™è¾“å…¥ --&gt;</span><br>    <span class="hljs-comment">&lt;!-- page.get_by_label(&quot;ç”¨æˆ·&quot;).fill(&quot;zhangs&quot;) --&gt;</span><br>    <span class="hljs-comment">&lt;!-- page.get_by_label(&quot;å¯†ç &quot;).fill(&quot;secret&quot;) --&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>



<h3 id="6-get-by-test-id"><a href="#6-get-by-test-id" class="headerlink" title="(6) get_by_test_id()"></a>(6) get_by_test_id()</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-comment">&lt;!-- get_by_test_id.html --&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>get_by_test_id<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">    <span class="hljs-selector-tag">table</span> &#123;</span><br><span class="language-css">        <span class="hljs-attribute">display</span>: flex; <span class="hljs-attribute">justify-content</span>: center;</span><br><span class="language-css">        <span class="hljs-attribute">align-items</span>: center; <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">    &#125;</span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align: center;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">data-testid</span>=<span class="hljs-string">&quot;test_id&quot;</span>&gt;</span>è¡Œç¨‹è¡¨<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>    <br>    <span class="hljs-comment">&lt;!-- # é€šè¿‡æµ‹è¯•IDæ‰¾åˆ°è¯¥å…ƒç´  --&gt;</span><br>    <span class="hljs-comment">&lt;!-- page.get_by_test_id(&quot;test_id&quot;).click() --&gt;</span><br>    <br>    <span class="hljs-tag">&lt;<span class="hljs-name">table</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>æ—¶é—´<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span><span class="hljs-symbol">&amp;emsp;</span>è¡Œç¨‹<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>04ï¼š00<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-symbol">&amp;emsp;</span>çˆ¬å±±çœ‹æ—¥å‡º<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>17ï¼š30<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-symbol">&amp;emsp;</span>æµ·æ»©è¾¹çƒ§çƒ¤<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>



<h3 id="7-get-by-alt-text"><a href="#7-get-by-alt-text" class="headerlink" title="(7) get_by_alt_text()"></a>(7) get_by_alt_text()</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-comment">&lt;!-- get_by_alt_text.html --&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>get_by_alt_text<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align: center;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å›¾ç‰‡<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;http://mtw.so/5NabrQ&quot;</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;baidu_logo&quot;</span>&gt;</span><br>    <br>    <span class="hljs-comment">&lt;!-- # é€šè¿‡æ–‡æœ¬é€‰é¡¹æ‰¾åˆ°å›¾åƒåå•å‡» --&gt;</span><br>    <span class="hljs-comment">&lt;!-- page.get_by_alt_text(&quot;baidu_logo&quot;).click() --&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>



<h3 id="8-get-by-placeholder"><a href="#8-get-by-placeholder" class="headerlink" title="(8) get_by_placeholder()"></a>(8) get_by_placeholder()</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-comment">&lt;!-- get_by_placeholder.html --&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>get_by_placeholder<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align: center;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>é‚®ç®±<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;email&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;name@example.com&quot;</span> <span class="hljs-attr">required</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- # é€šè¿‡å ä½ç¬¦æ–‡æœ¬å®šä½åå¡«å……è¾“å…¥ --&gt;</span><br>    <span class="hljs-comment">&lt;!-- page.get_by_placeholder(&quot;name@example.com&quot;).fill(&quot;playwright@microsoft.com&quot;) --&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>



<h2 id="2-3-è¾“å…¥æ–‡å­—"><a href="#2-3-è¾“å…¥æ–‡å­—" class="headerlink" title="2-3 è¾“å…¥æ–‡å­—"></a>2-3 è¾“å…¥æ–‡å­—</h2><ul>
<li>è¾“å…¥æ–‡å­—<ul>
<li><code>locator.fill()</code>æ˜¯å¡«å†™è¡¨å•å­—æ®µçš„æœ€ç®€å•æ–¹æ³•ï¼Œé€‚ç”¨äº<code>&lt;input&gt;</code>ã€<code>&lt;textarea&gt;</code>ã€<code>[contenteditable]</code>ã€‚</li>
<li>å¤§å¤šæ—¶å€™ï¼Œ<code>locator.fill()</code>ä¼šæ­£å¸¸å·¥ä½œï¼Œå¦‚æœé¡µé¢ä¸Šæœ‰ç‰¹æ®Šçš„é”®ç›˜å¤„ç†ï¼Œåªéœ€è¦ä½¿ç”¨<code>locator.type()</code>ã€‚</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-comment">&lt;!-- input_text.html --&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>input_text<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align: center;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>è¾“å…¥æ–‡æœ¬<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;dateInput&quot;</span>&gt;</span>æ—¥<span class="hljs-symbol">&amp;emsp;</span><span class="hljs-symbol">&amp;emsp;</span>æœŸ<span class="hljs-symbol">&amp;emsp;</span><span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;date&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;dateInput&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;dateInput&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 180px;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;timeInput&quot;</span>&gt;</span>æ—¶<span class="hljs-symbol">&amp;emsp;</span><span class="hljs-symbol">&amp;emsp;</span>é—´<span class="hljs-symbol">&amp;emsp;</span><span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;time&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;timeInput&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;timeInput&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 180px;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;datetimeInput&quot;</span>&gt;</span>æ—¥æœŸæ—¶é—´<span class="hljs-symbol">&amp;emsp;</span><span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;datetime-local&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;datetimeInput&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;datetimeInput&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 180px;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>å›ºå®šæ–‡æœ¬<span class="hljs-symbol">&amp;emsp;</span><span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;textbox&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 180px;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;textareaElement&quot;</span>&gt;</span>ä¼¸ç¼©æ–‡æœ¬<span class="hljs-symbol">&amp;emsp;</span><span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">textarea</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;textareaElement&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;textareaElement&quot;</span> <span class="hljs-attr">rows</span>=<span class="hljs-string">&quot;3&quot;</span> <span class="hljs-attr">cols</span>=<span class="hljs-string">&quot;26&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">textarea</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;contenteditableElement&quot;</span>&gt;</span>å¯ç¼–è¾‘å…ƒç´ <span class="hljs-symbol">&amp;emsp;</span><span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;contenteditableElement&quot;</span> <span class="hljs-attr">contenteditable</span>=<span class="hljs-string">&quot;true&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>



<h3 id="1-åŒæ­¥è¾“å…¥"><a href="#1-åŒæ­¥è¾“å…¥" class="headerlink" title="(1) åŒæ­¥è¾“å…¥"></a>(1) åŒæ­¥è¾“å…¥</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)   <span class="hljs-comment"># å¯åŠ¨chromiumæµè§ˆå™¨</span><br>    page = browser.new_page()                                   <span class="hljs-comment"># æ‰“å¼€ä¸€ä¸ªæ ‡ç­¾é¡µ</span><br>    page.goto(<span class="hljs-string">r&#x27;.../input_text.html&#x27;</span>)                           <span class="hljs-comment"># input_text.htmlæ–‡ä»¶è·¯å¾„</span><br>    <span class="hljs-built_in">print</span>(page.title())                                         <span class="hljs-comment"># æ‰“å°å½“å‰é¡µé¢title</span><br><br>    page.fill(<span class="hljs-string">&quot;#dateInput&quot;</span>, <span class="hljs-string">&quot;2023-02-03&quot;</span>)<br>    page.fill(<span class="hljs-string">&quot;#timeInput&quot;</span>, <span class="hljs-string">&quot;21:21&quot;</span>)<br>    page.fill(<span class="hljs-string">&quot;#datetimeInput&quot;</span>, <span class="hljs-string">&quot;2023-02-03T21:21&quot;</span>)<br>    page.fill(<span class="hljs-string">&quot;input[type=&#x27;textbox&#x27;]&quot;</span>, <span class="hljs-string">&quot;å›ºå®šæ–‡æœ¬è¾“å…¥å†…å®¹&quot;</span>)<br>    page.fill(<span class="hljs-string">&quot;#textareaElement&quot;</span>, <span class="hljs-string">&quot;ä¼¸ç¼©æ–‡æœ¬è¾“å…¥å†…å®¹&quot;</span>)<br>    page.<span class="hljs-built_in">type</span>(<span class="hljs-string">&quot;#contenteditableElement&quot;</span>, <span class="hljs-string">&quot;å¯ç¼–è¾‘å…ƒç´ è¾“å…¥å†…å®¹&quot;</span>)<br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)<br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure>



<h3 id="2-å¼‚æ­¥è¾“å…¥"><a href="#2-å¼‚æ­¥è¾“å…¥" class="headerlink" title="(2) å¼‚æ­¥è¾“å…¥"></a>(2) å¼‚æ­¥è¾“å…¥</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> asyncio<br><span class="hljs-keyword">from</span> playwright.async_api <span class="hljs-keyword">import</span> async_playwright<br><br><br><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():<br>    <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> async_playwright() <span class="hljs-keyword">as</span> p:<br>        browser = <span class="hljs-keyword">await</span> p.chromium.launch(headless=<span class="hljs-literal">False</span>)<br>        page = <span class="hljs-keyword">await</span> browser.new_page()                         <span class="hljs-comment"># æ‰“å¼€ä¸€ä¸ªæ ‡ç­¾é¡µ</span><br>        <span class="hljs-keyword">await</span> page.goto(<span class="hljs-string">r&#x27;.../input_text.html&#x27;</span>)                 <span class="hljs-comment"># input_text.htmlæ–‡ä»¶è·¯å¾„</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-keyword">await</span> page.title())                               <span class="hljs-comment"># æ‰“å°å½“å‰é¡µé¢title</span><br>        <span class="hljs-keyword">await</span> page.wait_for_timeout(<span class="hljs-number">3000</span>)<br><br>        <span class="hljs-keyword">await</span> page.fill(<span class="hljs-string">&quot;#dateInput&quot;</span>, <span class="hljs-string">&quot;2023-02-03&quot;</span>)<br>        <span class="hljs-keyword">await</span> page.fill(<span class="hljs-string">&quot;#timeInput&quot;</span>, <span class="hljs-string">&quot;21:21&quot;</span>)<br>        <span class="hljs-keyword">await</span> page.fill(<span class="hljs-string">&quot;#datetimeInput&quot;</span>, <span class="hljs-string">&quot;2023-02-03T21:21&quot;</span>)<br>        <span class="hljs-keyword">await</span> page.fill(<span class="hljs-string">&quot;input[type=&#x27;textbox&#x27;]&quot;</span>, <span class="hljs-string">&quot;å›ºå®šæ–‡æœ¬è¾“å…¥å†…å®¹&quot;</span>)<br>        <span class="hljs-keyword">await</span> page.fill(<span class="hljs-string">&quot;#textareaElement&quot;</span>, <span class="hljs-string">&quot;ä¼¸ç¼©æ–‡æœ¬è¾“å…¥å†…å®¹&quot;</span>)<br>        <span class="hljs-keyword">await</span> page.<span class="hljs-built_in">type</span>(<span class="hljs-string">&quot;#contenteditableElement&quot;</span>, <span class="hljs-string">&quot;å¯ç¼–è¾‘å…ƒç´ è¾“å…¥å†…å®¹&quot;</span>)<br>        <span class="hljs-keyword">await</span> page.wait_for_timeout(<span class="hljs-number">3000</span>)<br><br>        <span class="hljs-keyword">await</span> browser.close()                                   <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br><br>asyncio.run(main())<br></code></pre></td></tr></table></figure>



<h2 id="2-4-é¼ æ ‡ç‚¹å‡»"><a href="#2-4-é¼ æ ‡ç‚¹å‡»" class="headerlink" title="2-4 é¼ æ ‡ç‚¹å‡»*"></a>2-4 é¼ æ ‡ç‚¹å‡»*</h2><ul>
<li>é¼ æ ‡ç‚¹å‡»<ul>
<li><code>locator.click()</code>(å•å‡»)ã€<code>locator.dbclick()</code>(åŒå‡»)ã€<code>locator.click(button=&quot;right&quot;)</code>(å³å‡»)ã€‚</li>
<li><code>locator.click(modifiers=[&quot;Shift&quot;])</code>(Shift+é¼ æ ‡å·¦é”®å•å‡»æ“ä½œ)ã€<code>locator.hover()</code>(é¼ æ ‡æ‚¬åœ)ã€‚</li>
<li><code>locator.click(position=&#123; &quot;x&quot;: 0, &quot;y&quot;: 0&#125;)</code>(æ¨¡æ‹Ÿåœ¨æŒ‡å®šåæ ‡ä½ç½®å¤„ï¼Œè¿›è¡Œé¼ æ ‡å·¦é”®ç‚¹å‡»çš„æ“ä½œ)ã€‚</li>
<li>ç›¸æ¯”Seleniumï¼Œä¸ç”¨è‡ªå®šä¹‰è½®è¯¢ç­‰å¾…ï¼Œä¸ç”¨åˆ¤æ–­å…ƒç´ æ˜¯å¦éšè—ï¼Œå…ƒç´ åœ¨è§†å›¾ä¸­ä¹Ÿä¸éœ€è¦æ‰‹åŠ¨è®¾ç½®æ»šåŠ¨ã€‚</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright                 <span class="hljs-comment"># syncåŒæ­¥è¿è¡Œ</span><br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>)                 <span class="hljs-comment"># å¯åŠ¨chromiumæµè§ˆå™¨</span><br>    page = browser.new_page()                                   <span class="hljs-comment"># æ‰“å¼€ä¸€ä¸ªæ ‡ç­¾é¡µ</span><br>    page.goto(<span class="hljs-string">&#x27;https://www.baidu.com&#x27;</span>)                          <span class="hljs-comment"># æ‰“å¼€ç™¾åº¦åœ°å€</span><br>    <span class="hljs-built_in">print</span>(page.title())                                         <span class="hljs-comment"># æ‰“å°å½“å‰é¡µé¢title</span><br>    page.get_by_text(<span class="hljs-string">&quot;æ¢ä¸€æ¢&quot;</span>).click()<br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)                                 <span class="hljs-comment"># å•å‡»</span><br>    page.get_by_text(<span class="hljs-string">&quot;æ¢ä¸€æ¢&quot;</span>).dblclick()<br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)                                 <span class="hljs-comment"># åŒå‡»</span><br>    page.get_by_text(<span class="hljs-string">&quot;æ¢ä¸€æ¢&quot;</span>).click(button=<span class="hljs-string">&quot;right&quot;</span>)<br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)                                 <span class="hljs-comment"># å³å‡»</span><br><br>    page.locator(<span class="hljs-string">&#x27;//*[@id=&quot;s-top-left&quot;]/div/a&#x27;</span>).hover()         <span class="hljs-comment"># é¼ æ ‡æ‚¬åœåœ¨â€œæ›´å¤šâ€ä¸Š</span><br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)<br>    element = page.wait_for_selector(<span class="hljs-string">&#x27;//*[@id=&quot;s-usersetting-top&quot;]&#x27;</span>)<br>    bounding_box = element.bounding_box()                       <span class="hljs-comment"># è·å–å…ƒç´ çš„è¾¹ç•Œæ¡†ä¿¡æ¯</span><br>    x = bounding_box[<span class="hljs-string">&#x27;x&#x27;</span>] + bounding_box[<span class="hljs-string">&#x27;width&#x27;</span>] // <span class="hljs-number">2</span>          <span class="hljs-comment"># è®¡ç®—é¼ æ ‡ç‚¹å‡»çš„xå’Œyåæ ‡</span><br>    y = bounding_box[<span class="hljs-string">&#x27;y&#x27;</span>] + bounding_box[<span class="hljs-string">&#x27;height&#x27;</span>] // <span class="hljs-number">2</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;xåæ ‡ï¼š&quot;</span>, x, <span class="hljs-string">&quot;\nyåæ ‡ï¼š&quot;</span>, y)<br>    <span class="hljs-comment"># element.click(position=&#123;&quot;x&quot;: x, &quot;y&quot;: y&#125;)                  # é¼ æ ‡ç‚¹å‡»å…ƒç´ çš„æŒ‡å®šä½ç½®ï¼ŒæŠ¥é”™</span><br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)<br>    page.click(<span class="hljs-string">&#x27;text=æ›´å¤š&#x27;</span>, modifiers=[<span class="hljs-string">&quot;Shift&quot;</span>])<br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)                                 <span class="hljs-comment"># Shift+é¼ æ ‡å·¦é”®å•å‡»</span><br><br>    <span class="hljs-comment"># ã€æ»šåŠ¨åˆ°å…ƒç´ ä½ç½®ã€‘ä»¥ä¸‹æ“ä½œæ²¡è¿›è¡Œé¡µé¢åˆ‡æ¢ï¼Œéœ€ç”¨æˆ·æ‰‹åŠ¨åˆ‡æ¢æ‰èƒ½çœ‹åˆ°æ•ˆæœ(ç‚¹å‡»ç™¾åº¦æ›´å¤šè·³åˆ°æ–°æ ‡ç­¾é¡µäº†)</span><br>    page.goto(<span class="hljs-string">&quot;https://www.runoob.com/&quot;</span>)<br>    page.get_by_text(<span class="hljs-string">&#x27;ã€å­¦ä¹  W3Cã€‘&#x27;</span>).click()<br>    page.wait_for_timeout(<span class="hljs-number">5000</span>)                                 <span class="hljs-comment"># click()ç‚¹å‡»æ—¶è‡ªåŠ¨æ»šåŠ¨</span><br>    page.goto(<span class="hljs-string">&quot;https://www.runoob.com/&quot;</span>)<br>    page.get_by_text(<span class="hljs-string">&#x27;ã€å­¦ä¹  Dockerã€‘&#x27;</span>).scroll_into_view_if_needed()<br>    page.wait_for_timeout(<span class="hljs-number">5000</span>)                                 <span class="hljs-comment"># æ»šåŠ¨å…ƒç´ åˆ°å±å¹•å¯è§†çª—å£</span><br>    page.goto(<span class="hljs-string">&quot;https://www.runoob.com/&quot;</span>)<br>    page.get_by_text(<span class="hljs-string">&#x27;ã€å­¦ä¹  JavaScriptã€‘&#x27;</span>).hover()<br>    page.wait_for_timeout(<span class="hljs-number">5000</span>)                                 <span class="hljs-comment"># hover()æ–¹æ³•å°†é¼ æ ‡æ”¾åˆ°å…ƒç´ ä¸Š</span><br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure>



<h2 id="2-5-æ‹–æ”¾æ“ä½œ"><a href="#2-5-æ‹–æ”¾æ“ä½œ" class="headerlink" title="2-5 æ‹–æ”¾æ“ä½œ"></a>2-5 æ‹–æ”¾æ“ä½œ</h2><ul>
<li>æ‹–æ”¾æ“ä½œ<ul>
<li>ä½¿ç”¨<code>locator.drag_to()</code>æ‰§è¡Œæ‹–æ”¾æ“ä½œï¼Œéœ€è¦è¿›è¡Œå¦‚ä¸‹æ­¥éª¤ã€‚<ul>
<li>å°†é¼ æ ‡æ‚¬åœåœ¨è¦æ‹–åŠ¨çš„å…ƒç´ ä¸Šï¼ŒæŒ‰ä½é¼ æ ‡å·¦é”®ä¸æ”¾ã€‚</li>
<li>å°†é¼ æ ‡ç§»åŠ¨åˆ°å°†æ¥æ”¶æ”¾ç½®çš„å…ƒç´ ä¸Šï¼Œæ¾å¼€é¼ æ ‡å·¦é”®ã€‚</li>
</ul>
</li>
<li>å¦‚æœæƒ³è¦ç²¾ç¡®åœ°æ§åˆ¶æ‹–æ”¾æ“ä½œï¼Œéœ€ä½¿ç”¨å¦‚ä¸‹è¾ƒä½çº§åˆ«çš„æ–¹æ³•ã€‚<ul>
<li><code>page.locator(selector).hover()</code>ï¼šæ‚¬åœåœ¨é¡µé¢å…ƒç´ ä¸Šã€‚</li>
<li><code>page.mouse.down()</code>æŒ‰ä¸‹é¼ æ ‡ï¼Œ<code>button=&quot;middle&quot;</code>æŒ‰ä½é¼ æ ‡çš„ä¸­é—´ä½ç½®ï¼Œ<code>page.mouse.up()</code>é‡Šæ”¾é¼ æ ‡ã€‚</li>
<li><code>page.mouse.move()</code>æŠŠé¼ æ ‡æ”¾åˆ°æŒ‡å®šçš„xå’Œyåæ ‡ä½ç½®(å³ç»å¯¹åæ ‡ä½ç½®ï¼Œseleniumä½¿ç”¨ç›¸å¯¹åç§»ä½ç½®)ã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)   <span class="hljs-comment"># å¯åŠ¨chromiumæµè§ˆå™¨</span><br>    page = browser.new_page()                                   <span class="hljs-comment"># æ‰“å¼€ä¸€ä¸ªæ ‡ç­¾é¡µ</span><br>    page.goto(<span class="hljs-string">&#x27;https://www.baidu.com/&#x27;</span>)                         <span class="hljs-comment"># æ‰“å¼€ç™¾åº¦é¦–é¡µ</span><br>    <span class="hljs-built_in">print</span>(page.title())                                         <span class="hljs-comment"># æ‰“å°å½“å‰é¡µé¢title</span><br><br>    <span class="hljs-comment"># page.locator(&quot;#u1 &gt; div.ai-entry-right.ai-entry-right-nologin &gt; img&quot;).drag_to(</span><br>    <span class="hljs-comment">#     page.locator(&quot;#kw&quot;)</span><br>    <span class="hljs-comment"># )</span><br>    page.locator(<span class="hljs-string">&#x27;//*[@id=&quot;s-hotsearch-wrapper&quot;]/div/a[1]/div/i[1]&#x27;</span>).hover()<br>    page.mouse.down()                                           <span class="hljs-comment"># æŒ‰ä¸‹é¼ æ ‡</span><br>    <span class="hljs-comment"># page.mouse.down(button=&quot;middle&quot;)</span><br>    page.locator(<span class="hljs-string">&quot;#kw&quot;</span>).hover()<br>    page.mouse.up()                                             <span class="hljs-comment"># é‡Šæ”¾é¼ æ ‡</span><br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)<br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure>



<h2 id="2-6-iframeå®šä½"><a href="#2-6-iframeå®šä½" class="headerlink" title="2-6 iframeå®šä½"></a>2-6 iframeå®šä½</h2><ul>
<li>iframeå®šä½<ul>
<li>iframeå³ä¸€ä¸ªhtmlåµŒå¥—äº†å¦ä¸€ä¸ªhtmlï¼Œæœ€ç®€å•çš„è¯†åˆ«æ–¹æ³•å°±æ˜¯çœ‹å®šä½å…ƒç´ å¤–å±‚æœ‰æ²¡iframeæ ‡ç­¾åã€‚</li>
<li>frameä¸iframeéƒ½ç”¨äºè¡¨ç¤ºé¡µé¢æ¡†æ¶ï¼Œiframeç‰¹æŒ‡åµŒå…¥å¼æ¡†æ¶ï¼Œè€Œframeå¯ä»¥è¡¨ç¤ºä¸»æ¡†æ¶æˆ–å­æ¡†æ¶ã€‚<ul>
<li><code>page.main_frame</code>ï¼šè·å–pageå¯¹è±¡æœ¬èº«çš„frameå¯¹è±¡ã€‚</li>
<li><code>frame.child_frames</code>ï¼šè·å–frameä¸‹çš„å­frameå¯¹è±¡ã€‚</li>
<li><code>page.frames</code>ï¼šè·å–pageå¯¹è±¡å…¨éƒ¨iframesï¼ŒåŒ…å«pageæœ¬èº«çš„frameå¯¹è±¡ã€‚</li>
</ul>
</li>
<li><code>page.frame_locator(selector)</code>ï¼šä»…æŸ¥æ‰¾é¡µé¢ä¸­ï¼Œç¬¬ä¸€ä¸ªåŒ¹é…çš„frameå¯¹è±¡ã€‚<ul>
<li><code>frame_locator().first</code>ï¼šå®šä½å¤šä¸ªæ—¶ï¼ŒåŒ¹é…ç¬¬ä¸€ä¸ªã€‚</li>
<li><code>frame_locator().last</code>ï¼šå®šä½å¤šä¸ªæ—¶ï¼Œè¿”å›æœ€åä¸€ä¸ªã€‚</li>
<li><code>frame_locator().nth(index)</code>ï¼šå®šä½å¤šä¸ªæ—¶è¿›è¡Œç´¢å¼•ã€‚</li>
</ul>
</li>
<li><code>page.locator(selector).frame_locator(selector)</code>ï¼šå…è®¸åœ¨æŒ‡å®šframeå†…æŸ¥æ‰¾å…ƒç´ ï¼Œå¯æ“ä½œå¤šä¸ªframeã€‚</li>
<li><code>page.frame(name, url)</code>ï¼šé€šè¿‡pageå¯¹è±¡ç›´æ¥å®šä½iframeå¯¹è±¡ï¼Œä¼ å…¥nameå‚æ•°æˆ–ä¼ å…¥urlå‚æ•°ï¼Œè¯´æ˜å¦‚ä¸‹ã€‚<ul>
<li>nameå±æ€§ä¸èƒ½æ¨¡ç³ŠåŒ¹é…ï¼Œåªèƒ½ç²¾ç¡®åŒ¹é…å­—ç¬¦ä¸²ã€‚</li>
<li>iframeæ²¡æœ‰nameå±æ€§æ—¶ï¼Œå¯ä»¥ä½¿ç”¨idå±æ€§æ¥å®šä½ã€‚</li>
<li>urlå±æ€§å€¼ï¼Œå³é¡µé¢ä¸Šçœ‹åˆ°çš„srcå±æ€§ï¼Œæ”¯æŒæ¨¡ç³ŠåŒ¹é…ã€‚</li>
<li>iframeä¸Šçš„åŠ¨æ€idéå›ºå®šï¼Œå¯ä½¿ç”¨cssçš„æ­£åˆ™åŒ¹é…å…ƒç´ å±æ€§ï¼Œä¹Ÿå¯ä½¿ç”¨xpathçš„containsåŒ…å«å…ƒç´ å±æ€§ã€‚<ul>
<li><code>$(&#39;[name^=&quot;value&quot;]&#39;)</code>ï¼šåŒ¹é…nameä»¥valueå¼€å¤´çš„å…ƒç´ ã€‚</li>
<li><code>$(&#39;[name$=&quot;value&quot;]&#39;)</code>ï¼šåŒ¹é…nameä»¥valueç»“å°¾çš„å…ƒç´ ã€‚</li>
<li><code>$(&#39;[class*=&quot;value&quot;]&#39;)</code>ï¼šåŒ¹é…classå±æ€§åŒ…å«valueçš„å…ƒç´ ã€‚</li>
</ul>
</li>
<li><code>page.frame()</code>ï¼šè¿”å›çš„å¯¹è±¡èƒ½ç›´æ¥ä½¿ç”¨<code>fill()</code>å’Œ<code>click</code>æ–¹æ³•ã€‚</li>
<li><code>page.frame_locator(selector)</code>ï¼šè¿”å›çš„å¯¹è±¡åªèƒ½ç”¨<code>locator()</code>æ–¹æ³•å®šä½å…ƒç´ ï¼Œç„¶å<code>click()</code>ç­‰æ“ä½œã€‚</li>
</ul>
</li>
<li><code>page.query_selector(selector).content_frame()</code>ï¼šé€šè¿‡query_selectorå®šä½å…ƒç´ ï¼Œå†åˆ‡æ¢åˆ°iframeå¯¹è±¡ä¸Šã€‚</li>
<li>å¤šå±‚iframeéœ€ä¸€å±‚ä¸€å±‚å®šä½ï¼Œè‹¥éœ€è¦åœ¨iframeä¸Šæ‰§è¡Œjsä»£ç ï¼Œå¿…é¡»ä½¿ç”¨<code>page.frame()</code>æ–¹æ³•å®šä½åˆ°iframeå¯¹è±¡ã€‚</li>
<li>æ‰æœ‰<code>iframe.evaluate(js)</code>æ–¹æ³•æ‰§è¡Œjsï¼Œè€Œ<code>page.frame_locator()</code>æ–¹æ³•åªèƒ½å®šä½æ“ä½œå…ƒç´ ï¼Œæ²¡æœ‰æ‰§è¡Œjsçš„æ–¹æ³•ã€‚</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">dump_frame_tree</span>(<span class="hljs-params">frame, indent</span>):                             <span class="hljs-comment"># æ‰“å°æµè§ˆå™¨ä¸­çš„å¸§æ ‘ç»“æ„</span><br>    <span class="hljs-built_in">print</span>(indent + frame.name + <span class="hljs-string">&#x27;@&#x27;</span> + frame.url)                <span class="hljs-comment"># æ‰“å°å½“å‰å¸§çš„åç§°å’ŒURL</span><br>    <span class="hljs-keyword">for</span> child <span class="hljs-keyword">in</span> frame.child_frames:                            <span class="hljs-comment"># indentç”¨æ¥ç¡®å®šç¼©è¿›çº§åˆ«</span><br>        dump_frame_tree(child, indent + <span class="hljs-string">&quot;    &quot;</span>)<br><br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)   <span class="hljs-comment"># å¯åŠ¨chromiumæµè§ˆå™¨</span><br>    page = browser.new_page()                                   <span class="hljs-comment"># æ‰“å¼€ä¸€ä¸ªæ ‡ç­¾é¡µ</span><br>    page.goto(<span class="hljs-string">&quot;https://account.cnblogs.com/signin&quot;</span>)<br><br>    dump_frame_tree(page.main_frame, <span class="hljs-string">&quot;&quot;</span>)                        <span class="hljs-comment"># çœ‹å±‚çº§ç»“æ„ï¼Œè¿™é‡Œæœ‰ä¸‰å±‚</span><br>    <span class="hljs-built_in">print</span>(page.main_frame)                                      <span class="hljs-comment"># è·å–pageå¯¹è±¡æœ¬èº«çš„frameå¯¹è±¡</span><br>    <span class="hljs-built_in">print</span>(page.frames)                                          <span class="hljs-comment"># è·å–pageå¯¹è±¡å…¨éƒ¨çš„frames</span><br>    <span class="hljs-built_in">print</span>(page.main_frame.child_frames)                         <span class="hljs-comment"># è·å–pageå¯¹è±¡çš„å­frameå¯¹è±¡</span><br><br>    page.goto(<span class="hljs-string">&quot;https://mail.163.com/&quot;</span>)<br>    <span class="hljs-built_in">print</span>(page.frames)<br>    <span class="hljs-keyword">for</span> f <span class="hljs-keyword">in</span> page.frames:<br>        <span class="hljs-built_in">print</span>(f)                                                <span class="hljs-comment"># è·å–å…¨éƒ¨çš„iframes</span><br>        <span class="hljs-built_in">print</span>(f.name)<br>        <span class="hljs-built_in">print</span>(f.url)<br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)<br><br>    <span class="hljs-comment"># iframe = page.frame_locator(&quot;iframe[id^=x-URS-iframe]&quot;)</span><br>    iframe = page.frame_locator(<span class="hljs-string">&#x27;//iframe[contains(@id, &quot;x-URS-iframe&quot;)]&#x27;</span>)<br>    iframe.locator(<span class="hljs-string">&#x27;[name=&quot;email&quot;]&#x27;</span>).fill(<span class="hljs-string">&#x27;Tester&#x27;</span>)             <span class="hljs-comment"># xpathæ¨¡ç³ŠåŒ¹é…</span><br>    iframe.locator(<span class="hljs-string">&#x27;[name=&quot;password&quot;]&#x27;</span>).fill(<span class="hljs-string">&quot;123456&quot;</span>)<br>    iframe.locator(<span class="hljs-string">&#x27;#dologin&#x27;</span>).click()<br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)<br><br>    <span class="hljs-built_in">print</span>(iframe.first)                                         <span class="hljs-comment"># åŒ¹é…ç¬¬ä¸€ä¸ª</span><br>    <span class="hljs-built_in">print</span>(iframe.last)                                          <span class="hljs-comment"># è¿”å›æœ€åä¸€ä¸ª</span><br>    <span class="hljs-built_in">print</span>(iframe.nth(<span class="hljs-number">1</span>))                                        <span class="hljs-comment"># ç´¢å¼•ç¬¬äºŒä¸ª</span><br><br>    page.goto(<span class="hljs-string">&quot;https://mail.qq.com/&quot;</span>)<br>    frame = page.frame(name=<span class="hljs-string">&quot;ptlogin_iframe&quot;</span>)                   <span class="hljs-comment"># è¿”å›çš„å¯¹è±¡èƒ½ç›´æ¥fill()æˆ–click()</span><br>    frame.click(<span class="hljs-string">&#x27;#switcher_plogin&#x27;</span>)<br>    frame.fill(<span class="hljs-string">&#x27;#u&#x27;</span>, <span class="hljs-string">&#x27;Tester&#x27;</span>)<br>    frame.fill(<span class="hljs-string">&#x27;#p&#x27;</span>, <span class="hljs-string">&#x27;12345&#x27;</span>)<br>    frame.click(<span class="hljs-string">&#x27;#login_button&#x27;</span>)<br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)<br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure>



<h2 id="2-7-ä¸‹æ‹‰æ¡†é€‰æ‹©"><a href="#2-7-ä¸‹æ‹‰æ¡†é€‰æ‹©" class="headerlink" title="2-7 ä¸‹æ‹‰æ¡†é€‰æ‹©"></a>2-7 ä¸‹æ‹‰æ¡†é€‰æ‹©</h2><ul>
<li>ä¸‹æ‹‰æ¡†é€‰æ‹©<ul>
<li>ä½¿ç”¨<code>locator.select_option()</code>é€‰æ‹©å…ƒç´ ä¸­çš„ä¸€ä¸ªé€‰é¡¹æˆ–è€…å¤šä¸ªé€‰é¡¹ï¼Œå¯ä»¥æŒ‡å®švalueæˆ–labelæ¥é€‰æ‹©ã€‚</li>
<li>å…ˆå®šä½selectå…ƒç´ å†å®šä½é€‰é¡¹(æ ¹æ®é€‰é¡¹åç§°ã€indexç´¢å¼•ã€labelæ ‡ç­¾å®šä½)ã€é€šè¿‡pageå¯¹è±¡ç›´æ¥è°ƒç”¨ã€‚</li>
</ul>
</li>
</ul>
<h3 id="1-select-option-py"><a href="#1-select-option-py" class="headerlink" title="(1) select_option.py"></a>(1) select_option.py</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)   <span class="hljs-comment"># å¯åŠ¨chromiumæµè§ˆå™¨</span><br>    page = browser.new_page()                                   <span class="hljs-comment"># æ‰“å¼€ä¸€ä¸ªæ ‡ç­¾é¡µ</span><br>    page.goto(<span class="hljs-string">r&quot;.../select_option.html&quot;</span>)                        <span class="hljs-comment"># select_option.htmlæ–‡ä»¶è·¯å¾„</span><br>    <span class="hljs-built_in">print</span>(page.title())<br><br>    page.locator(<span class="hljs-string">&quot;#sid&quot;</span>).select_option(<span class="hljs-string">&#x27;ç™¾åº¦&#x27;</span>)<br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)                                 <span class="hljs-comment"># æ ¹æ®é€‰é¡¹åç§°å®šä½</span><br>    page.locator(<span class="hljs-string">&quot;#sid&quot;</span>).select_option(label=<span class="hljs-string">&#x27;æœç‹—&#x27;</span>)<br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)                                 <span class="hljs-comment"># æ ¹æ®labelæ ‡ç­¾å®šä½</span><br>    page.select_option(<span class="hljs-string">&quot;select#city&quot;</span>, <span class="hljs-string">&quot;å¦é—¨&quot;</span>)<br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)                                 <span class="hljs-comment"># é€šè¿‡pageå¯¹è±¡ç›´æ¥è°ƒç”¨</span><br>    page.locator(<span class="hljs-string">&quot;#color&quot;</span>).select_option(value=[<span class="hljs-string">&#x27;3&#x27;</span>, <span class="hljs-string">&#x27;5&#x27;</span>, <span class="hljs-string">&#x27;7&#x27;</span>])<br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)                                 <span class="hljs-comment"># æ ¹æ®valueæ ‡ç­¾å®šä½</span><br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure>



<h3 id="2-select-option-html"><a href="#2-select-option-html" class="headerlink" title="(2) select_option.html"></a>(2) select_option.html</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-comment">&lt;!-- select_option.html --&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>select_option<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// æœç´¢å¼•æ“ï¼šselectå•é€‰</span></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">oc</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-title function_">alert</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-property">f1</span>.<span class="hljs-property">t1</span>.<span class="hljs-title function_">value</span>());</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        <span class="hljs-comment">// æ°´æœæ‹¼ç›˜ã€é€‰æ‹©åŸå¸‚ï¼šmultipleå¯å¤šé€‰</span></span><br><span class="language-javascript">        (<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            selectMultip = &#123;</span><br><span class="language-javascript">                <span class="hljs-attr">register</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">id</span>) &#123;</span><br><span class="language-javascript">                    <span class="hljs-comment">// æ€è·¯ï¼šä¸ºä¸‹æ‹‰é€‰åˆ›å»ºä¸€ä¸ªéšè—çš„å­é€‰é¡¹</span></span><br><span class="language-javascript">                    <span class="hljs-comment">// æ¯æ¬¡å•é€‰ä¹‹åå°†å•é€‰çš„å€¼è¿½åŠ åˆ°éšè—çš„å­é€‰é¡¹ä¸­ï¼Œå¹¶å°†å­é€‰é¡¹é€‰ä¸­æ˜¾ç¤º</span></span><br><span class="language-javascript">                    <span class="hljs-comment">// å…¨å±€æŸ¥æ‰¾æ‰€æœ‰æ ‡è®°multipçš„select</span></span><br><span class="language-javascript">                    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">&quot;[multip]&quot;</span>).<span class="hljs-title function_">forEach</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) &#123;</span><br><span class="language-javascript">                        <span class="hljs-title function_">render</span>(e);</span><br><span class="language-javascript">                    &#125;)</span><br><span class="language-javascript">                &#125;,</span><br><span class="language-javascript">                <span class="hljs-attr">reload</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">id, data, setData</span>) &#123;</span><br><span class="language-javascript">                    <span class="hljs-keyword">var</span> htm = <span class="hljs-string">&quot;&quot;</span>;</span><br><span class="language-javascript">                    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; data.<span class="hljs-property">length</span>; i++) &#123;</span><br><span class="language-javascript">                        htm += <span class="hljs-string">&#x27;&lt;option value=&quot;&#x27;</span> + data[i].<span class="hljs-property">value</span> + <span class="hljs-string">&#x27;&quot;&gt;&#x27;</span> + data[i].<span class="hljs-property">text</span> + <span class="hljs-string">&#x27;&lt;/option&gt;&#x27;</span></span><br><span class="language-javascript">                    &#125;</span><br><span class="language-javascript">                    <span class="hljs-keyword">var</span> e = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(id);</span><br><span class="language-javascript">                    e.<span class="hljs-property">innerHTML</span> = htm;</span><br><span class="language-javascript">                    <span class="hljs-title function_">render</span>(e);</span><br><span class="language-javascript">                    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setVal</span>(id, setData);</span><br><span class="language-javascript">                &#125;,</span><br><span class="language-javascript">                <span class="hljs-attr">setVal</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">id, str</span>) &#123;</span><br><span class="language-javascript">                    <span class="hljs-keyword">var</span> type = <span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>(str);</span><br><span class="language-javascript">                    <span class="hljs-keyword">switch</span> (type) &#123;</span><br><span class="language-javascript">                        <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;[object String]&quot;</span>:</span><br><span class="language-javascript">                            <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(id).<span class="hljs-property">val</span> = str;</span><br><span class="language-javascript">                            <span class="hljs-keyword">break</span>;</span><br><span class="language-javascript">                        <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;[object Array]&quot;</span>:</span><br><span class="language-javascript">                            <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(id).<span class="hljs-property">val</span> = str.<span class="hljs-title function_">toString</span>();</span><br><span class="language-javascript">                            <span class="hljs-keyword">break</span>;</span><br><span class="language-javascript">                        <span class="hljs-attr">default</span>:</span><br><span class="language-javascript">                            <span class="hljs-keyword">break</span>;</span><br><span class="language-javascript">                    &#125;</span><br><span class="language-javascript">                &#125;,</span><br><span class="language-javascript">                <span class="hljs-attr">getVal</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">id</span>) &#123;</span><br><span class="language-javascript">                    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(id).<span class="hljs-property">val</span>;</span><br><span class="language-javascript">                &#125;,</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">            <span class="hljs-keyword">function</span> <span class="hljs-title function_">render</span>(<span class="hljs-params">e</span>) &#123;</span><br><span class="language-javascript">                e.<span class="hljs-property">param</span> = &#123;</span><br><span class="language-javascript">                    <span class="hljs-attr">arr</span>: [],</span><br><span class="language-javascript">                    <span class="hljs-attr">valarr</span>: [],</span><br><span class="language-javascript">                    <span class="hljs-attr">opts</span>: []</span><br><span class="language-javascript">                &#125;;</span><br><span class="language-javascript">                <span class="hljs-keyword">var</span> choosevalue = <span class="hljs-string">&quot;&quot;</span>,</span><br><span class="language-javascript">                    op;</span><br><span class="language-javascript">                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; e.<span class="hljs-property">length</span>; i++) &#123;</span><br><span class="language-javascript">                    op = e.<span class="hljs-title function_">item</span>(i);</span><br><span class="language-javascript">                    e.<span class="hljs-property">param</span>.<span class="hljs-property">opts</span>.<span class="hljs-title function_">push</span>(op);</span><br><span class="language-javascript">                    <span class="hljs-keyword">if</span> (op.<span class="hljs-title function_">hasAttribute</span>(<span class="hljs-string">&quot;choose&quot;</span>)) &#123;</span><br><span class="language-javascript">                        <span class="hljs-keyword">if</span> (choosevalue == <span class="hljs-string">&quot;&quot;</span>) &#123;</span><br><span class="language-javascript">                            choosevalue = op.<span class="hljs-property">value</span></span><br><span class="language-javascript">                        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="language-javascript">                            choosevalue += <span class="hljs-string">&quot;,&quot;</span> + op.<span class="hljs-property">value</span>;</span><br><span class="language-javascript">                        &#125;</span><br><span class="language-javascript">                    &#125;</span><br><span class="language-javascript">                &#125;</span><br><span class="language-javascript">                <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªéšè—çš„optionæ ‡ç­¾ç”¨æ¥å­˜å‚¨å¤šé€‰çš„å€¼ï¼Œå…¶ä¸­çš„å€¼ä¸ºä¸€ä¸ªæ•°ç»„</span></span><br><span class="language-javascript">                <span class="hljs-keyword">var</span> option = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&quot;option&quot;</span>);</span><br><span class="language-javascript">                option.<span class="hljs-property">hidden</span> = <span class="hljs-literal">true</span>;</span><br><span class="language-javascript">                e.<span class="hljs-title function_">appendChild</span>(option);</span><br><span class="language-javascript">                e.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">&quot;input&quot;</span>, selchange);</span><br><span class="language-javascript">                e.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;input&quot;</span>, selchange);</span><br><span class="language-javascript">                <span class="hljs-comment">// é‡æ–°å®šä¹‰æ ‡ç­¾åŸºç¡€å±æ€§çš„getå’Œsetæ–¹æ³•ï¼Œå®ç°å–å€¼å’Œèµ‹å€¼çš„åŠŸèƒ½</span></span><br><span class="language-javascript">                <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(e, <span class="hljs-string">&quot;val&quot;</span>, &#123;</span><br><span class="language-javascript">                        <span class="hljs-attr">get</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">                            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;[hidden]&quot;</span>).<span class="hljs-property">value</span>;</span><br><span class="language-javascript">                        &#125;,</span><br><span class="language-javascript">                        <span class="hljs-attr">set</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) &#123;</span><br><span class="language-javascript">                            e.<span class="hljs-property">param</span>.<span class="hljs-property">valarr</span> = [];</span><br><span class="language-javascript">                            <span class="hljs-keyword">var</span> valrealarr = value == <span class="hljs-string">&quot;&quot;</span> ? [] : value.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot;,&quot;</span>);</span><br><span class="language-javascript">                            e.<span class="hljs-property">param</span>.<span class="hljs-property">arr</span> = [];</span><br><span class="language-javascript">                            e.<span class="hljs-property">param</span>.<span class="hljs-property">opts</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">o</span>) &#123;</span><br><span class="language-javascript">                                o.<span class="hljs-property">style</span> = <span class="hljs-string">&quot;&quot;</span>;</span><br><span class="language-javascript">                            &#125;);</span><br><span class="language-javascript">                            <span class="hljs-keyword">if</span> (valrealarr.<span class="hljs-title function_">toString</span>()) &#123;</span><br><span class="language-javascript">                                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; valrealarr.<span class="hljs-property">length</span>; i++) &#123;</span><br><span class="language-javascript">                                    e.<span class="hljs-property">param</span>.<span class="hljs-property">opts</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">o</span>) &#123;</span><br><span class="language-javascript">                                        <span class="hljs-keyword">if</span> (o.<span class="hljs-property">value</span> == valrealarr[i]) &#123;</span><br><span class="language-javascript">                                            o.<span class="hljs-property">style</span> = <span class="hljs-string">&quot;color: blue;&quot;</span>;</span><br><span class="language-javascript">                                            e.<span class="hljs-property">param</span>.<span class="hljs-property">arr</span>.<span class="hljs-title function_">push</span>(o.<span class="hljs-property">text</span>);</span><br><span class="language-javascript">                                            e.<span class="hljs-property">param</span>.<span class="hljs-property">valarr</span>.<span class="hljs-title function_">push</span>(o.<span class="hljs-property">value</span>)</span><br><span class="language-javascript">                                        &#125;</span><br><span class="language-javascript">                                    &#125;);</span><br><span class="language-javascript">                                &#125;</span><br><span class="language-javascript">                                <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>[e.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>].<span class="hljs-property">text</span> = e.<span class="hljs-property">param</span>.<span class="hljs-property">arr</span>.<span class="hljs-title function_">toString</span>();</span><br><span class="language-javascript">                                <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>[e.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>].<span class="hljs-property">value</span> = e.<span class="hljs-property">param</span>.<span class="hljs-property">valarr</span>.<span class="hljs-title function_">toString</span>();</span><br><span class="language-javascript">                                <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>[e.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>].<span class="hljs-property">selected</span> = <span class="hljs-literal">true</span>;</span><br><span class="language-javascript">                            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="language-javascript">                                <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>[<span class="hljs-number">0</span>].<span class="hljs-property">selected</span> = <span class="hljs-literal">true</span>;</span><br><span class="language-javascript">                            &#125;</span><br><span class="language-javascript">                        &#125;,</span><br><span class="language-javascript">                        <span class="hljs-attr">configurable</span>: <span class="hljs-literal">true</span></span><br><span class="language-javascript">                    &#125;)</span><br><span class="language-javascript">                    <span class="hljs-comment">// æ·»åŠ å±æ€§chooseï¼Œæ­¤å±æ€§æ·»åŠ åˆ°optionä¸­ç”¨æ¥æŒ‡å®šé»˜è®¤å€¼</span></span><br><span class="language-javascript">                e.<span class="hljs-property">val</span> = choosevalue;</span><br><span class="language-javascript">                <span class="hljs-comment">// æ·»åŠ å±æ€§tipï¼Œæ­¤å±æ€§æ·»åŠ åˆ°selectæ ‡ç­¾ä¸Š</span></span><br><span class="language-javascript">                <span class="hljs-keyword">if</span> (e.<span class="hljs-title function_">hasAttribute</span>(<span class="hljs-string">&quot;tip&quot;</span>) &amp;&amp; !e.<span class="hljs-property">tiped</span>) &#123;</span><br><span class="language-javascript">                    e.<span class="hljs-property">tiped</span> = <span class="hljs-literal">true</span>;</span><br><span class="language-javascript">                    e.<span class="hljs-title function_">insertAdjacentHTML</span>(<span class="hljs-string">&#x27;afterend&#x27;</span>, <span class="hljs-string">&#x27;&lt;i style=&quot;color: red; \</span></span><br><span class="hljs-string"><span class="language-javascript">                                          font-size: 12px&quot;&gt;*å¯å¤šé€‰*\&lt;/i&gt;&#x27;</span>);</span><br><span class="language-javascript">                &#125;</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">            <span class="hljs-keyword">function</span> <span class="hljs-title function_">selchange</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">                <span class="hljs-keyword">var</span> text = <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>[<span class="hljs-variable language_">this</span>.<span class="hljs-property">selectedIndex</span>].<span class="hljs-property">text</span>;</span><br><span class="language-javascript">                <span class="hljs-keyword">var</span> value = <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>[<span class="hljs-variable language_">this</span>.<span class="hljs-property">selectedIndex</span>].<span class="hljs-property">value</span>;</span><br><span class="language-javascript">                <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>[<span class="hljs-variable language_">this</span>.<span class="hljs-property">selectedIndex</span>].<span class="hljs-property">style</span> = <span class="hljs-string">&quot;color: blue;&quot;</span>;</span><br><span class="language-javascript">                <span class="hljs-keyword">var</span> ind = <span class="hljs-variable language_">this</span>.<span class="hljs-property">param</span>.<span class="hljs-property">arr</span>.<span class="hljs-title function_">indexOf</span>(text);</span><br><span class="language-javascript">                <span class="hljs-keyword">if</span> (ind &gt; -<span class="hljs-number">1</span>) &#123;</span><br><span class="language-javascript">                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">param</span>.<span class="hljs-property">arr</span>.<span class="hljs-title function_">splice</span>(ind, <span class="hljs-number">1</span>);</span><br><span class="language-javascript">                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">param</span>.<span class="hljs-property">valarr</span>.<span class="hljs-title function_">splice</span>(ind, <span class="hljs-number">1</span>);</span><br><span class="language-javascript">                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">param</span>.<span class="hljs-property">opts</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">o</span>) &#123;</span><br><span class="language-javascript">                        <span class="hljs-keyword">if</span> (o.<span class="hljs-property">value</span> == value) &#123;</span><br><span class="language-javascript">                            o.<span class="hljs-property">style</span> = <span class="hljs-string">&quot;&quot;</span>;</span><br><span class="language-javascript">                        &#125;</span><br><span class="language-javascript">                    &#125;);</span><br><span class="language-javascript">                &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="language-javascript">                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">param</span>.<span class="hljs-property">arr</span>.<span class="hljs-title function_">push</span>(text);</span><br><span class="language-javascript">                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">param</span>.<span class="hljs-property">valarr</span>.<span class="hljs-title function_">push</span>(value);</span><br><span class="language-javascript">                &#125;</span><br><span class="language-javascript">                <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>[<span class="hljs-variable language_">this</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>].<span class="hljs-property">text</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">param</span>.<span class="hljs-property">arr</span>.<span class="hljs-title function_">toString</span>();</span><br><span class="language-javascript">                <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>[<span class="hljs-variable language_">this</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>].<span class="hljs-property">value</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">param</span>.<span class="hljs-property">valarr</span>.<span class="hljs-title function_">toString</span>();</span><br><span class="language-javascript">                <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">param</span>.<span class="hljs-property">arr</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) &#123;</span><br><span class="language-javascript">                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>[<span class="hljs-variable language_">this</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>].<span class="hljs-property">selected</span> = <span class="hljs-literal">true</span>;</span><br><span class="language-javascript">                &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="language-javascript">                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>[<span class="hljs-number">0</span>].<span class="hljs-property">selected</span> = <span class="hljs-literal">true</span>;</span><br><span class="language-javascript">                &#125;</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">        &#125;)();</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">form</span>&gt;</span><br>        æœç´¢å¼•æ“ï¼š<br>        <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;sid&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 300px; height: 30px;&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>è¯·é€‰æ‹©<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;o1&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;id1&quot;</span>&gt;</span>è°·æ­Œ<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;o2&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;id2&quot;</span>&gt;</span>å¿…åº”<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;o3&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;id3&quot;</span>&gt;</span>æœç‹—<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;o4&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;id4&quot;</span>&gt;</span>ç™¾åº¦<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;o4&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;id5&quot;</span>&gt;</span>ç«ç‹<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">form</span>&gt;</span><br>        æ°´æœæ‹¼ç›˜ï¼š<br>        <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">multip</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;fruits&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 300px; height: 30px;&quot;</span> <span class="hljs-attr">tip</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>è¯·é€‰æ‹©<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;1&quot;</span>&gt;</span>æ¡ƒå­<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;2&quot;</span>&gt;</span>è‹¹æœ<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;3&quot;</span>&gt;</span>é¦™è•‰<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;4&quot;</span>&gt;</span>æ¨±æ¡ƒ<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;5&quot;</span>&gt;</span>è‰è“<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;6&quot;</span>&gt;</span>æ¨æ¡ƒ<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;7&quot;</span>&gt;</span>èœœæŸš<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><br>            selectMultip.register();<br>        <span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">form</span>&gt;</span><br>        é€‰æ‹©åŸå¸‚ï¼š<br>        <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">multip</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;city&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 300px; height: 30px;&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>è¯·é€‰æ‹©<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;gz&quot;</span>&gt;</span>å¹¿å·<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;wh&quot;</span>&gt;</span>æ­¦æ±‰<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;bj&quot;</span>&gt;</span>åŒ—äº¬<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;xm&quot;</span>&gt;</span>å¦é—¨<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;hz&quot;</span>&gt;</span>æ­å·<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;sz&quot;</span>&gt;</span>æ·±åœ³<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;sz&quot;</span>&gt;</span>è‹å·<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;nj&quot;</span>&gt;</span>å—äº¬<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;cq&quot;</span>&gt;</span>é‡åº†<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">form</span>&gt;</span><br>        é¢œè‰²é€‰æ‹©ï¼š<br>        <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">multiple</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;color&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 300px; height: 132px;&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;1&quot;</span>&gt;</span>çº¢è‰²<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;2&quot;</span>&gt;</span>æ©™è‰²<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;3&quot;</span>&gt;</span>é»„è‰²<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;4&quot;</span>&gt;</span>ç»¿è‰²<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;5&quot;</span>&gt;</span>é’è‰²<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;6&quot;</span>&gt;</span>è“è‰²<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;7&quot;</span>&gt;</span>ç´«è‰²<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>



<h2 id="2-8-å•é€‰ä¸å¤é€‰"><a href="#2-8-å•é€‰ä¸å¤é€‰" class="headerlink" title="2-8 å•é€‰ä¸å¤é€‰"></a>2-8 å•é€‰ä¸å¤é€‰</h2><ul>
<li>å•é€‰ä¸å¤é€‰<ul>
<li><code>locator.set_checked()</code>é€‰ä¸­å’Œå–æ¶ˆé€‰ä¸­å•å¤é€‰æ¡†çš„æœ€ç®€å•æ–¹æ³•ã€‚</li>
<li><code>locator.check()</code>é€‰ä¸­ï¼Œ<code>locator.uncheck()</code>ä¸é€‰ã€‚</li>
<li><code>locator.click()</code>ç‚¹å‡»ï¼Œ<code>locator.is_checked()</code>æ–­è¨€æ˜¯å¦è¢«é€‰ä¸­ã€‚</li>
<li>ä¸Šè¿°æ–¹æ³•éƒ½é€‚ç”¨äº<code>input[type=checkbox]</code>å’Œ<code>input[type=radio]</code>ã€‚</li>
</ul>
</li>
</ul>
<h3 id="1-set-checked-py"><a href="#1-set-checked-py" class="headerlink" title="(1) set_checked.py"></a>(1) set_checked.py</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)   <span class="hljs-comment"># å¯åŠ¨chromiumæµè§ˆå™¨</span><br>    page = browser.new_page()                                   <span class="hljs-comment"># æ‰“å¼€ä¸€ä¸ªæ ‡ç­¾é¡µ</span><br>    page.goto(<span class="hljs-string">r&quot;.../set_checked.html&quot;</span>)                          <span class="hljs-comment"># set_checked.htmlæ–‡ä»¶è·¯å¾„</span><br>    <span class="hljs-built_in">print</span>(page.title())<br><br>    page.get_by_label(<span class="hljs-string">&quot;è‘¡è„&quot;</span>).click()<br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)                                 <span class="hljs-comment"># ç‚¹å‡»</span><br>    page.get_by_label(<span class="hljs-string">&quot;æ©˜å­&quot;</span>).check()<br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)                                 <span class="hljs-comment"># é€‰ä¸­</span><br>    <span class="hljs-keyword">assert</span> page.get_by_label(<span class="hljs-string">&quot;æ±½è½¦&quot;</span>).is_checked() <span class="hljs-keyword">is</span> <span class="hljs-literal">False</span><br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)                                 <span class="hljs-comment"># æ–­è¨€æ˜¯å¦è¢«å‹¾é€‰</span><br>    page.locator(<span class="hljs-string">&quot;#qc&quot;</span>).set_checked(<span class="hljs-literal">True</span>)                       <span class="hljs-comment"># å•é€‰</span><br>    page.locator(<span class="hljs-string">&quot;#gw&quot;</span>).check()                                 <span class="hljs-comment"># é€‰ä¸­</span><br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)<br>    page.locator(<span class="hljs-string">&quot;#gw&quot;</span>).uncheck()                               <span class="hljs-comment"># ä¸é€‰</span><br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)<br>    box = page.locator(<span class="hljs-string">&#x27;[type=&quot;checkbox&quot;]&#x27;</span>)<br>    <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> box.<span class="hljs-built_in">all</span>():<br>        item.check()                                            <span class="hljs-comment"># å®šä½å…¨éƒ¨CheckBoxæ‰¹é‡é€‰ä¸­</span><br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)<br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure>



<h3 id="2-set-checked-html"><a href="#2-set-checked-html" class="headerlink" title="(2) set_checked.html"></a>(2) set_checked.html</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-comment">&lt;!-- set_checked.html --&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>set_checked<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">fieldset</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 355px; height: 45px;&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">legend</span>&gt;</span>å•é€‰æŒ‰é’®Radio<span class="hljs-tag">&lt;/<span class="hljs-name">legend</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;fruit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;pg&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;pg&quot;</span>&gt;</span>è‹¹æœ<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;fruit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;jz&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;jz&quot;</span>&gt;</span>æ©˜å­<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;fruit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;xj&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;xj&quot;</span>&gt;</span>é¦™è•‰<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;fruit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;pt&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;li&quot;</span> <span class="hljs-attr">checked</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>è‘¡è„<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;fruit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;xg&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;xg&quot;</span> <span class="hljs-attr">checked</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>è¥¿ç“œ<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">fieldset</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">fieldset</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 355px; height: 130px;&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">legend</span>&gt;</span>å¤šé€‰æŒ‰é’®Checkbox<span class="hljs-tag">&lt;/<span class="hljs-name">legend</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;æ±½è½¦&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;qc&quot;</span>&gt;</span>æ±½è½¦<br>            <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;è´­ç‰©&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;gw&quot;</span>&gt;</span>è´­ç‰©<br>            <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;è´­ç‰©&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;ms&quot;</span>&gt;</span>ç¾é£Ÿ<br>            <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;æ—…æ¸¸&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;ly&quot;</span> <span class="hljs-attr">readonly</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>æ—…æ¸¸<br>            <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;éŸ³ä¹&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;yy&quot;</span> <span class="hljs-attr">readonly</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>éŸ³ä¹<br>            <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">fieldset</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>



<h2 id="2-9-èšç„¦ç»™å®šå…ƒç´ "><a href="#2-9-èšç„¦ç»™å®šå…ƒç´ " class="headerlink" title="2-9 èšç„¦ç»™å®šå…ƒç´ "></a>2-9 èšç„¦ç»™å®šå…ƒç´ </h2><ul>
<li>èšç„¦ç»™å®šå…ƒç´ <ul>
<li>focus()ä¸»è¦ç”¨äºæ¨¡æ‹Ÿç”¨æˆ·ä¸ç½‘é¡µå…ƒç´ çš„äº¤äº’ã€‚</li>
<li>ç¡®ä¿æ­£ç¡®çš„å…ƒç´ å¤„äºæ´»åŠ¨çŠ¶æ€ï¼Œä»¥ä¾¿æ‰§è¡Œç›¸åº”æ“ä½œã€‚</li>
<li>é€šå¸¸ç”¨äºäº¤äº’æ€§æµ‹è¯•ã€è¡¨å•è¾“å…¥ï¼Œæˆ–è€…é”®ç›˜äº‹ä»¶ä¸Šã€‚</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)   <span class="hljs-comment"># å¯åŠ¨chromiumæµè§ˆå™¨</span><br>    page = browser.new_page()                                   <span class="hljs-comment"># æ‰“å¼€ä¸€ä¸ªæ ‡ç­¾é¡µ</span><br>    page.goto(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br>    <span class="hljs-built_in">print</span>(page.title())<br><br>    input_element = page.locator(<span class="hljs-string">&quot;#kw&quot;</span>)<br>    input_element.focus()                                       <span class="hljs-comment"># å°†ç„¦ç‚¹è®¾ç½®åˆ°è¾“å…¥æ¡†ä¸Š</span><br>    input_element.<span class="hljs-built_in">type</span>(<span class="hljs-string">&#x27;Playwright&#x27;</span>)                            <span class="hljs-comment"># æ¨¡æ‹Ÿé”®ç›˜è¾“å…¥</span><br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)<br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure>



<h1 id="3-ç­‰å¾…å’Œå®šæ—¶å™¨"><a href="#3-ç­‰å¾…å’Œå®šæ—¶å™¨" class="headerlink" title="3 ç­‰å¾…å’Œå®šæ—¶å™¨"></a>3 ç­‰å¾…å’Œå®šæ—¶å™¨</h1><ul>
<li>ç­‰å¾…å’Œå®šæ—¶å™¨<ul>
<li>ç­‰å¾…<ul>
<li><code>locator.wait_for()</code>ï¼šåœ¨å»¶è¿ŸåŠ è½½çš„é¡µé¢ä¸­ç­‰å¾…å…ƒç´ å¯è§ï¼Œå¯ç­‰å¾…é¡µé¢åŠ è½½å®Œæˆåå†æ‰§è¡Œæ“ä½œã€‚</li>
<li><code>chromium.launch(headless=False, slow_mo=50)</code>ï¼šå¯èƒ½ä¼šå¢åŠ æ‰§è¡Œæ—¶é—´ã€‚<ul>
<li>å°†å‡æ…¢æµè§ˆå™¨çš„æ‰§è¡Œé€Ÿåº¦ï¼Œslow_moçš„å•ä½ä¸ºæ¯«ç§’ï¼Œä½œç”¨èŒƒå›´æ˜¯å…¨å±€çš„ã€‚</li>
<li>ä»å¯åŠ¨æµè§ˆå™¨åˆ°æ“ä½œå…ƒç´ æ¯ä¸ªåŠ¨ä½œéƒ½ä¼šæœ‰ç­‰å¾…é—´éš”ï¼Œæ–¹ä¾¿æŸ¥çœ‹æ“ä½œæƒ…å†µã€‚</li>
</ul>
</li>
<li><code>locator.click()</code>å’Œ<code>locator.fill()</code>ï¼šè‡ªåŠ¨ç­‰å¾…å…ƒç´ å¯è§ï¼Œå¯ç®€åŒ–ä»£ç ï¼Œä½†å¯èƒ½å¯¼è‡´è¶…æ—¶å¼‚å¸¸ã€‚</li>
<li><code>page.wait_for_timeout(5000)</code>ï¼šç­‰å¾…ä¸€å®šæ—¶é—´åå†æ‰§è¡Œæ“ä½œï¼Œè®¾ç½®æ—¶é—´è¿‡é•¿å¯èƒ½å½±å“æ‰§è¡Œæ•ˆç‡ã€‚</li>
</ul>
</li>
<li>å®šæ—¶å™¨ï¼šä½¿ç”¨Pythonçš„asyncioåº“æ¥åˆ›å»ºå¼‚æ­¥å®šæ—¶ä»»åŠ¡ã€‚</li>
<li>timeoutç­‰å¾…è¶…æ—¶ï¼Œé»˜è®¤30ç§’ï¼Œä¼ é€’0å°†è¶…æ—¶æ—¶é—´è®¾ä¸ºæ— é™å¤§ï¼ŒæŒ‡ä¸ä¼šä¸»åŠ¨è¶…æ—¶ï¼Œä¼šä¸€ç›´ç­‰å¾…ç›´åˆ°æ¡ä»¶æ»¡è¶³ã€‚<ul>
<li><code>page.set_fault_navigation_timeout</code>ã€<code>browser_context.set_fault_timeout()</code>ã€‚</li>
<li><code>page.set_fault_timeout()</code>ã€<code>browser_context.set_fault_navigation_timeout()</code>ã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="3-1-ç­‰å¾…å…ƒç´ "><a href="#3-1-ç­‰å¾…å…ƒç´ " class="headerlink" title="3-1 ç­‰å¾…å…ƒç´ "></a>3-1 ç­‰å¾…å…ƒç´ </h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)   <span class="hljs-comment"># å¯åŠ¨chromiumæµè§ˆå™¨</span><br>    page = browser.new_page()                                   <span class="hljs-comment"># æ‰“å¼€ä¸€ä¸ªæ ‡ç­¾é¡µ</span><br>    page.goto(<span class="hljs-string">&#x27;https://www.baidu.com&#x27;</span>)                          <span class="hljs-comment"># æ‰“å¼€ç™¾åº¦åœ°å€</span><br><br>    page.locator(<br>        <span class="hljs-string">&#x27;//*[@id=&quot;s-hotsearch-wrapper&quot;]/div/a[1]/div&#x27;</span><br>    ).wait_for()                                                <span class="hljs-comment"># ç­‰å¾…å…ƒç´ </span><br>    page.locator(<br>        <span class="hljs-string">&#x27;//*[@id=&quot;s-hotsearch-wrapper&quot;]/div/a[1]/div&#x27;</span><br>    ).click()                                                   <span class="hljs-comment"># è‡ªåŠ¨ç­‰å¾…å…ƒç´ ï¼Œå†ç‚¹å‡»</span><br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)                                 <span class="hljs-comment"># ç‚¹å‡»åç­‰å¾…1ç§’</span><br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure>



<h2 id="3-2-è‡ªå®šä¹‰ç­‰å¾…"><a href="#3-2-è‡ªå®šä¹‰ç­‰å¾…" class="headerlink" title="3-2 è‡ªå®šä¹‰ç­‰å¾…"></a>3-2 è‡ªå®šä¹‰ç­‰å¾…</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)   <span class="hljs-comment"># å¯åŠ¨chromiumæµè§ˆå™¨</span><br>    page = browser.new_page()                                   <span class="hljs-comment"># æ‰“å¼€ä¸€ä¸ªæ ‡ç­¾é¡µ</span><br>    page.goto(<span class="hljs-string">&#x27;https://www.baidu.com&#x27;</span>)                          <span class="hljs-comment"># æ‰“å¼€ç™¾åº¦åœ°å€</span><br><br>    page.fill(<span class="hljs-string">&#x27;#kw&#x27;</span>, <span class="hljs-string">&#x27;Playwright&#x27;</span>)<br>    page.click(<span class="hljs-string">&#x27;#su&#x27;</span>)<br>    page.wait_for_load_state(<span class="hljs-string">&quot;networkidle&quot;</span>)                     <span class="hljs-comment"># è‡ªå®šä¹‰ç­‰å¾…</span><br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure>



<h2 id="3-3-å®šæ—¶å™¨æ“ä½œ"><a href="#3-3-å®šæ—¶å™¨æ“ä½œ" class="headerlink" title="3-3 å®šæ—¶å™¨æ“ä½œ"></a>3-3 å®šæ—¶å™¨æ“ä½œ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> asyncio<br><span class="hljs-keyword">from</span> playwright.async_api <span class="hljs-keyword">import</span> async_playwright<br><br><br><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():                                               <span class="hljs-comment"># æŒ‡å®šæ—¶é—´é—´éš”å†…è®¿é—®æŒ‡å®šçš„ç½‘é¡µ</span><br>    <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> async_playwright() <span class="hljs-keyword">as</span> p:<br>        browser = <span class="hljs-keyword">await</span> p.chromium.launch(headless=<span class="hljs-literal">False</span>)<br>        page = <span class="hljs-keyword">await</span> browser.new_page()<br>        url = <span class="hljs-string">&#x27;https://www.baidu.com/&#x27;</span>                          <span class="hljs-comment"># è¦è®¿é—®çš„ç½‘é¡µURL</span><br><br>        interval_seconds = <span class="hljs-number">10</span>                                   <span class="hljs-comment"># è®¾ç½®å®šæ—¶å™¨çš„é—´éš”æ—¶é—´ï¼ˆä»¥ç§’ä¸ºå•ä½ï¼‰</span><br>        <span class="hljs-keyword">try</span>:<br>            <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>                <span class="hljs-keyword">await</span> page.goto(url)                            <span class="hljs-comment"># æ‰§è¡Œè‡ªå®šä¹‰æ“ä½œï¼Œä¾‹å¦‚è®¿é—®ç½‘é¡µ</span><br>                <span class="hljs-keyword">await</span> asyncio.sleep(interval_seconds)           <span class="hljs-comment"># è®¾ç½®å®šæ—¶å™¨çš„é—´éš”æ—¶é—´</span><br><br>        <span class="hljs-keyword">except</span> KeyboardInterrupt:<br>            <span class="hljs-keyword">pass</span><br><br>        <span class="hljs-keyword">finally</span>:<br>            <span class="hljs-keyword">await</span> browser.close()                               <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br><br>asyncio.run(main())                                             <span class="hljs-comment"># è¿è¡Œä¸»å‡½æ•°</span><br></code></pre></td></tr></table></figure>



<h2 id="3-4-timeoutç­‰å¾…è¶…æ—¶"><a href="#3-4-timeoutç­‰å¾…è¶…æ—¶" class="headerlink" title="3-4 timeoutç­‰å¾…è¶…æ—¶"></a>3-4 timeoutç­‰å¾…è¶…æ—¶</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)   <span class="hljs-comment"># å¯åŠ¨chromiumæµè§ˆå™¨</span><br>    page = browser.new_page()                                   <span class="hljs-comment"># æ‰“å¼€ä¸€ä¸ªæ ‡ç­¾é¡µ</span><br>    page.goto(<span class="hljs-string">&#x27;https://www.baidu.com&#x27;</span>)                          <span class="hljs-comment"># æ‰“å¼€ç™¾åº¦åœ°å€</span><br><br>    page.fill(<span class="hljs-string">&#x27;#kw&#x27;</span>, <span class="hljs-string">&#x27;Playwright&#x27;</span>)<br>    page.click(<span class="hljs-string">&#x27;#su&#x27;</span>)<br>    page.set_default_timeout(<span class="hljs-number">0</span>)                                 <span class="hljs-comment"># ä¸ä¼šä¸»åŠ¨è¶…æ—¶</span><br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure>



<h1 id="4-å¼¹çª—æˆ–å¯¹è¯æ¡†"><a href="#4-å¼¹çª—æˆ–å¯¹è¯æ¡†" class="headerlink" title="4 å¼¹çª—æˆ–å¯¹è¯æ¡†"></a>4 å¼¹çª—æˆ–å¯¹è¯æ¡†</h1><ul>
<li>å¼¹çª—æˆ–å¯¹è¯æ¡†<ul>
<li>Playwrightæ”¯æŒç›‘å¬dialogäº‹ä»¶ï¼ŒJavaScriptå¯¹è¯æ¡†åŒ…æ‹¬alertã€beforeunloadã€confirmã€promptã€‚<ul>
<li>ä¾¦å¬å™¨å¿…é¡»ä½¿ç”¨<code>dialog.accept()</code>æˆ–<code>dialog.dismiss()</code>æ“ä½œå¯¹è¯æ¡†ã€‚</li>
<li>å¦åˆ™é¡µé¢å°†å†»ç»“ç­‰å¾…å¯¹è¯æ¡†ï¼Œå¹¶ä¸”æ— æ³•è¿›è¡Œå•å‡»ã€æœç´¢ç­‰ä¸‹ä¸€æ­¥æ“ä½œã€‚</li>
</ul>
</li>
<li>éƒ¨åˆ†åœºæ™¯åº”ç”¨æ—¶ï¼Œå¯èƒ½å¼¹å‡ºä¸€äº›éº¦å…‹é£æˆ–æ‘„åƒå¤´çš„æƒé™æ¡†ï¼Œé€šè¿‡ç›‘å¬alertæ²¡æ³•æ•è·åˆ°ã€‚<ul>
<li>å¯ä»¥ç»™æµè§ˆå™¨é…ç½®é»˜è®¤å…è®¸éº¦å…‹é£å’Œæ‘„åƒå¤´ç­‰æƒé™ï¼Œä¸è®©å¼¹çª—å‡ºæ¥ã€‚</li>
<li>ä½¿ç”¨contextçš„<code>grant_permissions()</code>æ–¹æ³•æ·»åŠ éº¦å…‹é£æˆ–æ‘„åƒå¤´æƒé™ã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="4-1-alert-box-py"><a href="#4-1-alert-box-py" class="headerlink" title="4-1 alert_box.py"></a>4-1 alert_box.py</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">handle_dialog</span>(<span class="hljs-params">dialog</span>):                                      <span class="hljs-comment"># ç›‘å¬åçš„å¤„ç†</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Type: &quot;</span> + dialog.<span class="hljs-built_in">type</span>)                               <span class="hljs-comment"># è¿”å›å¯¹è¯æ¡†çš„ç±»å‹</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Mess: &quot;</span> + dialog.message)                            <span class="hljs-comment"># è·å–å¯¹è¯æ¡†ä¸­æ˜¾ç¤ºçš„æ¶ˆæ¯</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Return: &quot;</span> + dialog.default_value)                    <span class="hljs-comment"># è¿”å›é»˜è®¤æç¤ºå€¼ï¼Œå¦åˆ™è¿”å›ç©ºå­—ç¬¦ä¸²</span><br>    dialog.dismiss()                                            <span class="hljs-comment"># å…³é—­å¯¹è¯æ¡†</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">run</span>(<span class="hljs-params">playwright</span>):<br>    chromium = playwright.chromium<br>    browser = chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">3000</span>)<br>    page = browser.new_page()<br>    page.goto(<span class="hljs-string">r&quot;.../alert_box.html&quot;</span>)                            <span class="hljs-comment"># alert_box.htmlæ–‡ä»¶è·¯å¾„</span><br><br>    page.on(<span class="hljs-string">&quot;dialog&quot;</span>, handle_dialog)<br>    page.locator(<span class="hljs-string">&quot;body &gt; button:nth-child(5)&quot;</span>).click()<br>    page.evaluate(<span class="hljs-string">&quot;alert(&#x27;Test&#x27;)&quot;</span>)                              <span class="hljs-comment"># æ²¡ç›‘å¬æ—¶ï¼Œå®ƒè‡ªåŠ¨ä¼šå…³é—­</span><br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)<br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br><br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> playwright:<br>    run(playwright)<br></code></pre></td></tr></table></figure>



<h2 id="4-2-alert-box-html"><a href="#4-2-alert-box-html" class="headerlink" title="4-2 alert_box.html"></a>4-2 alert_box.html</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-comment">&lt;!-- alert_box.html --&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>alert_box<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align: center;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ç‚¹å‡»æŒ‰é’®æŸ¥çœ‹å¯¹è¯æ¡†<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;myFunction()&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 195px; height: 40px;&quot;</span>&gt;</span>ç‚¹æˆ‘<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;demo&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;showAlert()&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 195px; height: 40px;&quot;</span>&gt;</span>Alert<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;showPrompt()&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 195px; height: 40px;&quot;</span>&gt;</span>Prompt<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;showConfirm()&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 195px; height: 40px;&quot;</span>&gt;</span>Confirm<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">myFunction</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">var</span> x;</span><br><span class="language-javascript">            <span class="hljs-keyword">var</span> person = <span class="hljs-title function_">prompt</span>(<span class="hljs-string">&quot;è¯·è¾“å…¥ä½ çš„åå­—ï¼š&quot;</span>, <span class="hljs-string">&quot;&quot;</span>);</span><br><span class="language-javascript">            <span class="hljs-keyword">if</span> (person != <span class="hljs-literal">null</span> &amp;&amp; person != <span class="hljs-string">&quot;&quot;</span>) &#123;</span><br><span class="language-javascript">                x = <span class="hljs-string">&quot;ä½ å¥½ï¼Œ&quot;</span> + person + <span class="hljs-string">&quot;ï¼ä»Šå¤©æ„Ÿè§‰å¦‚ä½•ï¼Ÿ&quot;</span>;</span><br><span class="language-javascript">                <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;demo&quot;</span>).<span class="hljs-property">innerHTML</span> = x;</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// æ˜¾ç¤ºAlertå¼¹çª—</span></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">showAlert</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;è¿™æ˜¯ä¸€ä¸ªAlertå¼¹çª—ï¼&quot;</span>);</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// æ˜¾ç¤ºPromptå¼¹çª—</span></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">showPrompt</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">const</span> result = <span class="hljs-title function_">prompt</span>(<span class="hljs-string">&quot;è¯·è¾“å…¥æ‚¨çš„å§“å:&quot;</span>, <span class="hljs-string">&quot;é»˜è®¤å€¼&quot;</span>);</span><br><span class="language-javascript">            <span class="hljs-keyword">if</span> (result !== <span class="hljs-literal">null</span>) &#123;</span><br><span class="language-javascript">                <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;æ‚¨è¾“å…¥çš„å§“åæ˜¯: &quot;</span> + result);</span><br><span class="language-javascript">            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="language-javascript">                <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;æ‚¨å–æ¶ˆäº†è¾“å…¥ã€‚&quot;</span>);</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// æ˜¾ç¤ºConfirmå¼¹çª—</span></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">showConfirm</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">const</span> result = <span class="hljs-title function_">confirm</span>(<span class="hljs-string">&quot;æ‚¨ç¡®å®šè¦æ‰§è¡Œæ­¤æ“ä½œå—ï¼Ÿ&quot;</span>);</span><br><span class="language-javascript">            <span class="hljs-keyword">if</span> (result) &#123;</span><br><span class="language-javascript">                <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;æ‚¨ç‚¹å‡»äº†ç¡®è®¤æŒ‰é’®ã€‚&quot;</span>);</span><br><span class="language-javascript">            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="language-javascript">                <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;æ‚¨ç‚¹å‡»äº†å–æ¶ˆæŒ‰é’®ã€‚&quot;</span>);</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>



<h2 id="4-3-æµè§ˆå™¨æ·»åŠ æƒé™"><a href="#4-3-æµè§ˆå™¨æ·»åŠ æƒé™" class="headerlink" title="4-3 æµè§ˆå™¨æ·»åŠ æƒé™"></a>4-3 æµè§ˆå™¨æ·»åŠ æƒé™</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>)                 <span class="hljs-comment"># å¯åŠ¨æµè§ˆå™¨</span><br>    context = browser.new_context()                             <span class="hljs-comment"># å¯åŠ¨ä¸Šä¸‹æ–‡</span><br>    <br>    context.grant_permissions([<span class="hljs-string">&#x27;camera&#x27;</span>, <span class="hljs-string">&#x27;microphone&#x27;</span>])         <span class="hljs-comment"># è®¾ç½®å…è®¸å¼€å¯æƒé™</span><br>    page = context.new_page()                                   <span class="hljs-comment"># æ‰“å¼€æ ‡ç­¾é¡µ</span><br>    page.goto(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure>



<h1 id="5-æ¨¡æ‹Ÿé”®ç›˜æ“ä½œ"><a href="#5-æ¨¡æ‹Ÿé”®ç›˜æ“ä½œ" class="headerlink" title="5 æ¨¡æ‹Ÿé”®ç›˜æ“ä½œ"></a>5 æ¨¡æ‹Ÿé”®ç›˜æ“ä½œ</h1><ul>
<li>æ¨¡æ‹Ÿé”®ç›˜æ“ä½œ<ul>
<li><code>locator.press()</code>æ–¹æ³•ï¼šå¯ä»¥èšç„¦æ‰€é€‰å…ƒç´ ï¼Œå¹¶äº§ç”Ÿå•ä¸ªå‡»é”®ã€‚</li>
<li>æ¥å—åœ¨é”®ç›˜äº‹ä»¶çš„keyboardEvent.keyå±æ€§ä¸­å‘å‡ºçš„é€»è¾‘é”®åç§°ã€‚<ul>
<li>Backquoteã€Minusã€Equalã€Backslashã€Backspaceã€Tabã€Deleteã€Escapeã€ArrowDownã€Endã€Enterã€‚</li>
<li>Homeã€Insertã€PageDownã€PageUpã€ArrowRightã€ArrowUpã€F1-F12ã€Digit 0-9ã€Key A-Zã€Key a-zã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>)                 <span class="hljs-comment"># å¯åŠ¨æµè§ˆå™¨</span><br>    context = browser.new_context()                             <span class="hljs-comment"># å¯åŠ¨ä¸Šä¸‹æ–‡</span><br>    page = context.new_page()                                   <span class="hljs-comment"># æ‰“å¼€æ ‡ç­¾é¡µ</span><br>    page.goto(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br><br>    page.locator(<span class="hljs-string">&#x27;//*[@id=&quot;kw&quot;]&#x27;</span>).press(<span class="hljs-string">&quot;$&quot;</span>)                    <span class="hljs-comment"># æŒ‰é”®$</span><br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)<br>    page.locator(<span class="hljs-string">&#x27;//*[@id=&quot;kw&quot;]&#x27;</span>).press(<span class="hljs-string">&quot;Shift+A&quot;</span>)              <span class="hljs-comment"># æŒ‰é”®A</span><br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)<br>    page.locator(<span class="hljs-string">&#x27;//*[@id=&quot;kw&quot;]&#x27;</span>).press(<span class="hljs-string">&quot;Shift+a&quot;</span>)              <span class="hljs-comment"># æŒ‰é”®a</span><br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)<br>    page.locator(<span class="hljs-string">&#x27;//*[@id=&quot;kw&quot;]&#x27;</span>).press(<span class="hljs-string">&quot;Shift+ArrowLeft&quot;</span>)      <span class="hljs-comment"># å…‰æ ‡å·¦é€‰ä¸€ä½</span><br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)<br>    page.locator(<span class="hljs-string">&#x27;//*[@id=&quot;kw&quot;]&#x27;</span>).press(<span class="hljs-string">&quot;Control+V&quot;</span>)            <span class="hljs-comment"># ç²˜è´´å‰ªåˆ‡æ¿çš„å†…å®¹</span><br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)<br>    page.locator(<span class="hljs-string">&#x27;//*[@id=&quot;su&quot;]&#x27;</span>).press(<span class="hljs-string">&quot;Enter&quot;</span>)                <span class="hljs-comment"># å›è½¦</span><br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)<br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure>



<h1 id="6-æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½"><a href="#6-æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½" class="headerlink" title="6 æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½"></a>6 æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½</h1><ul>
<li>æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½<ul>
<li>æ–‡ä»¶ä¸Šä¼ <ul>
<li>æ–‡ä»¶ä¸Šä¼ æ˜¯inputè¾“å…¥æ¡†ï¼Œå¹¶ä¸”ç±»å‹æ˜¯<code>type=&quot;file&quot;</code>æƒ…å†µæ—¶ï¼Œä½¿ç”¨<code>locator.set_input_files()</code>ã€‚</li>
<li>å¦‚æœä¸æ˜¯inputè¾“å…¥æ¡†ä¸”å¿…é¡»ç‚¹å¼€æ–‡ä»¶æ¡†çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨<code>page.expect_file_chooser()</code>è¿›è¡Œç›‘å¬ã€‚</li>
<li>ç‚¹å‡»é€‰æ‹©æ–‡ä»¶æŒ‰é’®æ—¶ï¼Œè‡ªåŠ¨è§¦å‘æ“ä½œï¼Œåˆ™ä½¿ç”¨<code>page.on(&quot;filechooser&quot;, )</code>ç›‘å¬filechooseräº‹ä»¶ã€‚</li>
</ul>
</li>
<li>æ–‡ä»¶ä¸‹è½½ï¼šå½“æµè§ˆå™¨ä¸Šä¸‹æ–‡å…³é—­æ—¶ï¼Œæ‰€æœ‰å±äºæµè§ˆå™¨ä¸Šä¸‹æ–‡çš„ä¸‹è½½æ–‡ä»¶éƒ½ä¼šè¢«åˆ é™¤ã€‚</li>
</ul>
</li>
</ul>
<h2 id="6-1-æ–‡ä»¶ä¸Šä¼ "><a href="#6-1-æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="6-1 æ–‡ä»¶ä¸Šä¼ "></a>6-1 æ–‡ä»¶ä¸Šä¼ </h2><ul>
<li>æ–‡ä»¶ä¸Šä¼ <ul>
<li><code>locator.set_input_files()</code>ï¼šç”¨äºè®¾ç½®æ–‡ä»¶è¾“å…¥æ¡†çš„æ–‡ä»¶è·¯å¾„ã€‚</li>
<li>æ¨¡æ‹Ÿå‘æ–‡ä»¶è¾“å…¥æ¡†ä¸­å¡«å……æ–‡ä»¶è·¯å¾„ï¼Œä»¥å®ç°æ–‡ä»¶ä¸Šä¼ çš„è‡ªåŠ¨åŒ–æ“ä½œã€‚</li>
<li>è¯¥æ–¹æ³•æ¥å—ä¸€ä¸ªæ–‡ä»¶è·¯å¾„å‚æ•°ï¼ŒæŒ‡å®šä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶è·¯å¾„è¿›è¡Œä¸Šä¼ ã€‚</li>
<li>æ“ä½œæ–¹æ³•<ul>
<li><code>file_chooser.page</code>ï¼šè¿”å›æ­¤æ–‡ä»¶é€‰æ‹©å™¨æ‰€å±çš„é¡µé¢ã€‚</li>
<li><code>file_chooser.element</code>ï¼šè¿”å›ä¸æ­¤æ–‡ä»¶é€‰æ‹©å™¨å…³è”çš„è¾“å…¥å…ƒç´ ã€‚</li>
<li><code>file_chooser.is_multiple()</code>ï¼šåˆ¤æ–­æ­¤æ–‡ä»¶é€‰æ‹©å™¨æ˜¯å¦æ¥å—å¤šä¸ªæ–‡ä»¶ã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="1-upload-file-py"><a href="#1-upload-file-py" class="headerlink" title="(1) upload_file.py"></a>(1) upload_file.py</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>)                 <span class="hljs-comment"># å¯åŠ¨chromiumæµè§ˆå™¨</span><br>    page = browser.new_page()                                   <span class="hljs-comment"># æ‰“å¼€ä¸€ä¸ªæ ‡ç­¾é¡µ</span><br>    page.goto(<span class="hljs-string">r&#x27;.../upload_file.html&#x27;</span>)                          <span class="hljs-comment"># upload_file.htmlæ–‡ä»¶è·¯å¾„</span><br>    <span class="hljs-built_in">print</span>(page.title())<br><br>    page.locator(<br>        <span class="hljs-string">&#x27;body &gt; fieldset &gt; form:nth-child(2) &gt; input[type=file]&#x27;</span><br>    ).set_input_files(<span class="hljs-string">&#x27;aaa.py&#x27;</span>)                                 <span class="hljs-comment"># ä¸Šä¼ ä¸€ä¸ªæ–‡ä»¶</span><br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)<br>    page.locator(<br>        <span class="hljs-string">&#x27;body &gt; fieldset &gt; form:nth-child(3) &gt; input[type=file]&#x27;</span><br>    ).set_input_files([<span class="hljs-string">&#x27;xxx.py&#x27;</span>, <span class="hljs-string">&#x27;yyy.py&#x27;</span>, <span class="hljs-string">&#x27;zzz.py&#x27;</span>])<br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)                                 <span class="hljs-comment"># ä¸Šä¼ ä¸‰ä¸ªæ–‡ä»¶</span><br>    page.locator(<br>        <span class="hljs-string">&#x27;body &gt; fieldset &gt; form:nth-child(2) &gt; input[type=file]&#x27;</span><br>    ).set_input_files([])                                       <span class="hljs-comment"># ç©ºæ•°ç»„æ¸…é™¤æ‰€é€‰æ–‡ä»¶</span><br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)<br><br>    <span class="hljs-keyword">with</span> page.expect_file_chooser() <span class="hljs-keyword">as</span> fc_info:                 <span class="hljs-comment"># ç›‘å¬åˆ°å¼¹å‡ºæ¡†</span><br>        page.locator(<span class="hljs-string">&quot;body &gt; fieldset &gt; form:nth-child(2) &gt; input[type=file]&quot;</span>).click()<br>    page.pause()<br>    file_chooser = fc_info.value<br><br>    <span class="hljs-built_in">print</span>(file_chooser.page)                                    <span class="hljs-comment"># è¿”å›æ­¤æ–‡ä»¶é€‰æ‹©å™¨æ‰€å±çš„é¡µé¢</span><br>    <span class="hljs-built_in">print</span>(file_chooser.element)                                 <span class="hljs-comment"># è¿”å›ä¸æ­¤æ–‡ä»¶é€‰æ‹©å™¨å…³è”çš„è¾“å…¥å…ƒç´ </span><br>    <span class="hljs-built_in">print</span>(file_chooser.is_multiple())                           <span class="hljs-comment"># åˆ¤æ–­æ­¤æ–‡ä»¶é€‰æ‹©å™¨æ˜¯å¦æ¥å—å¤šä¸ªæ–‡ä»¶</span><br><br>    file_chooser.set_files(<span class="hljs-string">r&#x27;bbb.py&#x27;</span>)                           <span class="hljs-comment"># å¼¹å‡ºæ–‡ä»¶æ¡†æ‰‹åŠ¨ç‚¹å‡»ç»§ç»­æ“ä½œ</span><br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)<br><br>    page.on(<span class="hljs-string">&quot;filechooser&quot;</span>, <span class="hljs-keyword">lambda</span> file_chooser: file_chooser.set_files(<br>        <span class="hljs-string">r&#x27;ccc.py&#x27;</span><br>    ))                                                          <span class="hljs-comment"># äº‹ä»¶ç›‘å¬filechooser</span><br>    page.locator(<span class="hljs-string">&quot;body &gt; fieldset &gt; form:nth-child(2) &gt; input[type=file]&quot;</span>).click()<br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)<br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure>



<h3 id="2-upload-file-html"><a href="#2-upload-file-html" class="headerlink" title="(2) upload_file.html"></a>(2) upload_file.html</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-comment">&lt;!-- upload_file.html --&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;zh-cn&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>upload_file<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align: center;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">fieldset</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">legend</span>&gt;</span>ä¸Šä¼ æ–‡ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">legend</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">form</span>&gt;</span>å•ä¸ªæ–‡ä»¶<br>            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;file&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;one_file&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">form</span>&gt;</span>å¤šä¸ªæ–‡ä»¶<br>            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;file&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;more_file&quot;</span> <span class="hljs-attr">multiple</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">fieldset</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>



<h2 id="6-2-æ–‡ä»¶ä¸‹è½½"><a href="#6-2-æ–‡ä»¶ä¸‹è½½" class="headerlink" title="6-2 æ–‡ä»¶ä¸‹è½½"></a>6-2 æ–‡ä»¶ä¸‹è½½</h2><ul>
<li>æ–‡ä»¶ä¸‹è½½<ul>
<li><code>download.cancel()</code>ï¼šå–æ¶ˆä¸‹è½½ã€‚</li>
<li><code>download.delete()</code>ï¼šåˆ é™¤ä¸‹è½½æ–‡ä»¶ï¼Œå¦‚æœ‰å¿…è¦ï¼Œå°†ç­‰å¾…ä¸‹è½½å®Œæˆã€‚</li>
<li><code>download.failure()</code>ï¼šè¿”å›ä¸‹è½½é”™è¯¯ï¼Œå¦‚æœ‰å¿…è¦ï¼Œå°†ç­‰å¾…ä¸‹è½½å®Œæˆã€‚</li>
<li><code>download.path()</code>ï¼šä¸‹è½½æˆåŠŸå°†è¿”å›æ–‡ä»¶çš„è·¯å¾„ï¼Œå¦‚æœ‰å¿…è¦ï¼Œå°†ç­‰å¾…ä¸‹è½½å®Œæˆã€‚</li>
<li><code>download.suggested_filename</code>ï¼šè·å–å»ºè®®æ–‡ä»¶åï¼Œä¸‹è½½çš„æ–‡ä»¶åæ˜¯éšæœºGUIDã€‚</li>
</ul>
</li>
</ul>
<h3 id="1-download-file-py"><a href="#1-download-file-py" class="headerlink" title="(1) download_file.py"></a>(1) download_file.py</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">run</span>(<span class="hljs-params">playwright</span>):<br>    browser = playwright.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">3000</span>)<br>    page = browser.new_page()<br>    page.goto(<span class="hljs-string">r&#x27;.../download_file.html&#x27;</span>)                        <span class="hljs-comment"># download_file.htmlæ–‡ä»¶è·¯å¾„</span><br><br>    <span class="hljs-keyword">with</span> page.expect_download() <span class="hljs-keyword">as</span> download_info:<br>        page.get_by_text(<span class="hljs-string">&quot;Pycharmä¸‹è½½&quot;</span>).click()<br>    download = download_info.value<br>    <span class="hljs-built_in">print</span>(download.url)                                         <span class="hljs-comment"># è·å–ä¸‹è½½çš„urlåœ°å€</span><br>    <span class="hljs-built_in">print</span>(download.page)                                        <span class="hljs-comment"># è·å–ä¸‹è½½æ‰€å±çš„é¡µé¢</span><br>    <span class="hljs-built_in">print</span>(download.path())                                      <span class="hljs-comment"># ç”Ÿæˆä¸€ä¸ªéšæœºuuidå€¼ä¿å­˜</span><br>    download.save_as(download.suggested_filename)               <span class="hljs-comment"># æœ€ç»ˆç”¨save_asä¿å­˜åˆ°æœ¬åœ°</span><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br><br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> playwright:<br>    run(playwright)<br></code></pre></td></tr></table></figure>



<h3 id="2-download-file-html"><a href="#2-download-file-html" class="headerlink" title="(2) download_file.html"></a>(2) download_file.html</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-comment">&lt;!-- download_file.html --&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;zh-cn&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>download_file<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align: center;&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;https://download.jetbrains.com.cn/python/pycharm-professional-2023.2.1.exe&quot;</span>&gt;</span><br>        Pycharmä¸‹è½½<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>



<h1 id="7-é”™è¯¯å¤„ç†å’Œè°ƒè¯•"><a href="#7-é”™è¯¯å¤„ç†å’Œè°ƒè¯•" class="headerlink" title="7 é”™è¯¯å¤„ç†å’Œè°ƒè¯•"></a>7 é”™è¯¯å¤„ç†å’Œè°ƒè¯•</h1><ul>
<li>é”™è¯¯å¤„ç†å’Œè°ƒè¯•<ul>
<li>å¼‚å¸¸å¤„ç†ï¼šä¸€ç§å¸¸è§çš„é”™è¯¯å¤„ç†æœºåˆ¶ï¼Œä½¿ç”¨try-exceptä»£ç å—æ•è·å’Œå¤„ç†å¯èƒ½å‡ºç°çš„å¼‚å¸¸ã€‚</li>
<li>æ§åˆ¶å°è°ƒè¯•å®šä½<ul>
<li>ä½¿ç”¨<code>page.pause()</code>è¿›å…¥æ–­ç‚¹çŠ¶æ€ï¼Œæµè§ˆå™¨F12å¼€å‘è€…å·¥å…·æ‰“å¼€Consoleé¡µé¢è°ƒè¯•å®šä½ã€‚</li>
<li>è¿˜å¯ä»¥ä½¿ç”¨Playwright Inspectorå·¥å…·ï¼Œæ¥å¼€å¯å½•åˆ¶ï¼Œé¡µé¢æ“ä½œç”Ÿæˆå¯¹åº”çš„å…ƒç´ å’Œæ­¥éª¤ã€‚</li>
<li>Playwright Inspectorå¯ä½¿ç”¨å‘½ä»¤è¡Œå¯åŠ¨ï¼Œå¦‚ï¼š<code>playwright codegen http://xxx.com/</code>ã€‚</li>
<li>Playwright Inspectorçš„Pick locatorå¯åœ¨æµè§ˆå™¨ä¸Šé€‰éœ€å®šä½çš„å…ƒç´ ï¼Œç”Ÿæˆå¯¹åº”çš„locatorã€‚</li>
<li>å½•åˆ¶ç›¸å…³å‘½ä»¤<ul>
<li><code>playwright codegen --viewport-size=800,600 http://xxx.com/</code>ã€‚</li>
<li><code>playwright codegen --lang=&quot;it-IT&quot; http://xxx.com/</code>ï¼šæ¨¡æ‹Ÿè¯­è¨€ã€‚</li>
<li><code>playwright codegen --color-scheme=dark http://xxx.com/</code>ï¼šæ¨¡æ‹Ÿé…è‰²ã€‚</li>
<li><code>playwright codegen --timezone=&quot;Europe/Rome&quot; http://xxx.com/</code>ï¼šæ¨¡æ‹Ÿæ—¶åŒºã€‚</li>
<li><code>playwright codegen --geolocation=&quot;41.890221,12.492348&quot; http://xxx.com/</code>ï¼šæ¨¡æ‹Ÿåœ°ç†ä½ç½®ã€‚</li>
<li><code>playwright codegen --device=&quot;iPhone 11&quot;</code>ï¼šæ¨¡æ‹Ÿç§»åŠ¨è®¾å¤‡iPhone11ï¼Œdeviceå€¼å¿…é¡»åŒå¼•å·ä¸”åŒºåˆ†å¤§å°å†™ã€‚</li>
<li><code>playwright open --load-storage=auth.json</code>ï¼šæ‰“å¼€Playwrightä¸Šä¸‹æ–‡å¹¶åŠ è½½å­˜å‚¨æ•°æ®æ–‡ä»¶ä»¥ä¿ç•™ä¼šè¯çŠ¶æ€ã€‚</li>
<li><code>playwright codegen --load-storage=auth.json</code>ï¼šåœ¨ç”Ÿæˆä»£ç æ—¶åŠ è½½å­˜å‚¨æ•°æ®ï¼Œä»¥ä¿æŒä¸ä¹‹å‰ä¼šè¯çš„è¿ç»­æ€§ã€‚</li>
<li><code>playwright codegen --save-storage=auth.json http://xxx.com/</code>ï¼šç”¨äºç”Ÿæˆä»£ç æ—¶å°†å­˜å‚¨æ•°æ®ä¿å­˜åˆ°æ–‡ä»¶ä¸­ã€‚</li>
</ul>
</li>
<li>consoleé¡µé¢è¯­æ³•<ul>
<li><code>playwright.selector(element)</code>ï¼šä¸ºç»™å®šå…ƒç´ ç”Ÿæˆé€‰æ‹©å™¨ã€‚</li>
<li><code>playwright.$$(selector)</code>ï¼šç±»ä¼¼äº<code>playwright.$</code>ï¼Œä½†æ˜¯ä¼šè¿”å›å…¨éƒ¨çš„åŒ¹é…å…ƒç´ ã€‚</li>
<li><code>playwright.$(selector)</code>ï¼šä½¿ç”¨å®é™…çš„PlaywrightæŸ¥è¯¢å¼•æ“æŸ¥è¯¢Playwrighté€‰æ‹©å™¨ã€‚</li>
<li><code>playwright.locator(selector)</code>ï¼šä½¿ç”¨å®é™…çš„PlaywrightæŸ¥è¯¢å¼•æ“æŸ¥è¯¢Playwrightå…ƒç´ ã€‚</li>
<li><code>playwright.inspect(selector)</code>ï¼šå…ƒç´ é¢æ¿ä¸­æ˜¾ç¤ºå…ƒç´ (éœ€ç›¸åº”æµè§ˆå™¨çš„DevToolsæ”¯æŒ)ã€‚</li>
</ul>
</li>
</ul>
</li>
<li>é«˜äº®å®šä½ä¸è°ƒè¯•ï¼šä¸ºæ¸…æ¥šå½“å‰å®šä½æ–¹å¼åœ¨é¡µé¢ä¸Šæ‰¾åˆ°å“ªäº›å…ƒç´ ï¼Œå¯ä»¥ä½¿ç”¨highlight()é«˜äº®å®šä½å…ƒç´ ã€‚</li>
</ul>
</li>
</ul>
<h2 id="7-1-å¼‚å¸¸å¤„ç†"><a href="#7-1-å¼‚å¸¸å¤„ç†" class="headerlink" title="7-1 å¼‚å¸¸å¤„ç†"></a>7-1 å¼‚å¸¸å¤„ç†</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)<br>    page = browser.new_page()<br>    page.goto(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br><br>    <span class="hljs-keyword">try</span>:<br>        element = page.locator(<span class="hljs-string">&#x27;#myElement&#x27;</span>)                    <span class="hljs-comment"># å°è¯•æŸ¥æ‰¾IDä¸ºmyElementçš„å…ƒç´ </span><br>        <span class="hljs-keyword">if</span> element:<br>            element.click()                                     <span class="hljs-comment"># æ‰¾åˆ°åˆ™ç‚¹å‡»</span><br>        <span class="hljs-keyword">else</span>:                                                   <span class="hljs-comment"># å¦åˆ™æŠ›å‡ºå¼‚å¸¸</span><br>            <span class="hljs-keyword">raise</span> Exception(<span class="hljs-string">&quot;æ²¡æ‰¾åˆ°å¯¹åº”å…ƒç´ &quot;</span>)<br>    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:                                      <span class="hljs-comment"># æŠ›å‡ºå¼‚å¸¸åæ‰“å°å¼‚å¸¸ä¿¡æ¯</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;äº§ç”Ÿäº†ä¸€ä¸ªé”™è¯¯: <span class="hljs-subst">&#123;<span class="hljs-built_in">str</span>(e)&#125;</span>&quot;</span>)<br>    <span class="hljs-keyword">finally</span>:<br>        browser.close()                                         <span class="hljs-comment"># æœ€åæ— è®ºæ˜¯å¦å¼‚å¸¸ï¼Œéƒ½å…³é—­æµè§ˆå™¨</span><br></code></pre></td></tr></table></figure>



<h2 id="7-2-æ§åˆ¶å°è°ƒè¯•å®šä½"><a href="#7-2-æ§åˆ¶å°è°ƒè¯•å®šä½" class="headerlink" title="7-2 æ§åˆ¶å°è°ƒè¯•å®šä½"></a>7-2 æ§åˆ¶å°è°ƒè¯•å®šä½</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)   <span class="hljs-comment"># å¯åŠ¨chromiumæµè§ˆå™¨</span><br>    page = browser.new_page()                                   <span class="hljs-comment"># æ‰“å¼€ä¸€ä¸ªæ ‡ç­¾é¡µ</span><br>    page.goto(<span class="hljs-string">&quot;https://mail.163.com/&quot;</span>)<br>    <span class="hljs-built_in">print</span>(page.frames)<br><br>    iframe = page.frame_locator(<span class="hljs-string">&#x27;//iframe[contains(@id, &quot;x-URS-iframe&quot;)]&#x27;</span>)<br>    iframe.locator(<span class="hljs-string">&#x27;[name=&quot;email&quot;]&#x27;</span>).fill(<span class="hljs-string">&#x27;Tester&#x27;</span>)             <span class="hljs-comment"># xpathæ¨¡ç³ŠåŒ¹é…</span><br>    iframe.locator(<span class="hljs-string">&#x27;[name=&quot;password&quot;]&#x27;</span>).fill(<span class="hljs-string">&quot;123456&quot;</span>)<br>    page.pause()<br>    iframe.locator(<span class="hljs-string">&quot;#dologin&quot;</span>).click()<br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)<br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure>



<h2 id="7-3-é«˜äº®å®šä½ä¸è°ƒè¯•"><a href="#7-3-é«˜äº®å®šä½ä¸è°ƒè¯•" class="headerlink" title="7-3 é«˜äº®å®šä½ä¸è°ƒè¯•"></a>7-3 é«˜äº®å®šä½ä¸è°ƒè¯•</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">2000</span>)<br>    context = browser.new_context()                             <span class="hljs-comment"># åˆ›å»ºä¸Šä¸‹æ–‡</span><br>    page = context.new_page()                                   <span class="hljs-comment"># æ‰“å¼€æ ‡ç­¾é¡µ</span><br><br>    page.goto(<span class="hljs-string">&#x27;https://www.baidu.com&#x27;</span>)<br>    page.get_by_text(<span class="hljs-string">&quot;æ–°é—»&quot;</span>).highlight()<br>    page.wait_for_timeout(<span class="hljs-number">20000</span>)                                <span class="hljs-comment"># é«˜äº®å®šä½</span><br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure>



<h1 id="8-consoleäº‹ä»¶ç›‘å¬"><a href="#8-consoleäº‹ä»¶ç›‘å¬" class="headerlink" title="8 consoleäº‹ä»¶ç›‘å¬"></a>8 consoleäº‹ä»¶ç›‘å¬</h1><ul>
<li>consoleäº‹ä»¶ç›‘å¬<ul>
<li><code>page.on(&quot;console&quot;, handler)</code>ï¼šç›‘å¬ç‰¹å®šé¡µé¢çš„Consoleäº‹ä»¶ï¼Œä¼ å…¥å¤„ç†å‡½æ•°handlerã€‚</li>
<li><code>cdpSession.on(&quot;Console.messageAdded&quot;, handler)</code>ï¼šç›‘å¬CDPä¼šè¯ä¸Šçš„Consoleäº‹ä»¶ã€‚</li>
<li>åè€…å¯åœ¨ä¸åŒé¡µé¢é—´å…±äº«åŒä¸€ä¸ªChrome DevTools Protocol(CDP)ä¼šè¯ï¼Œå¹¶ç›‘å¬è¯¥ä¼šè¯ä¸‹çš„Consoleäº‹ä»¶ã€‚</li>
<li>ç›‘å¬Consoleäº‹ä»¶åï¼Œå¯æ‰§è¡Œä»¥ä¸‹æ“ä½œã€‚<ul>
<li><code>page.on(&quot;console&quot;, handler)</code>æˆ–<code>cdpSession.on(&quot;Console.messageAdded&quot;, handler)</code>æ·»åŠ ç›¸åº”çš„äº‹ä»¶ç›‘å¬å™¨ã€‚</li>
<li><code>page.remove_listener(&quot;event&quot;, print_request_finished)</code>å¯ç”¨æ¥åˆ é™¤å·²æ·»åŠ çš„ç‰¹å®šé¡µé¢Consoleäº‹ä»¶ç›‘å¬å™¨ã€‚</li>
<li>ç›®å‰æ²¡æœ‰åˆ é™¤CDPä¼šè¯çš„ç‰¹å®šäº‹ä»¶ç›‘å¬å™¨æ–¹æ³•ï¼Œä½¿ç”¨åˆ›å»ºæ–°çš„CDPä¼šè¯äº‹ä»¶ç›‘å¬å™¨æ¥æ›¿ä»£æ—§çš„ï¼Œä»¥è¾¾åˆ é™¤ç›®çš„ã€‚</li>
</ul>
</li>
<li>è‹¥æŸä¸ªäº‹ä»¶éœ€è¦å¤„ç†ä¸€æ¬¡ï¼Œå¯ä½¿ç”¨<code>page.once(&quot;console&quot;, handler)</code>æ·»åŠ ä¸€æ¬¡æ€§äº‹ä»¶ï¼Œè¯¥æ–¹æ³•æ˜¯é’ˆå¯¹pageé¡µé¢å¯¹è±¡çš„ã€‚</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">console_msg</span>(<span class="hljs-params">msg</span>):<br>    values = []<br>    <span class="hljs-keyword">for</span> arg <span class="hljs-keyword">in</span> msg.args:<br>        <span class="hljs-built_in">print</span>(msg)<br>        values.append(<span class="hljs-string">f&#x27;<span class="hljs-subst">&#123;arg.json_value()&#125;</span>&#x27;</span>)<br><br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;console.log&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>) <span class="hljs-keyword">as</span> fp:<br>        fp.write(<span class="hljs-string">&#x27;&#x27;</span>.join(values) + <span class="hljs-string">&#x27;\n&#x27;</span>)<br><br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">100</span>)<br>    context = browser.new_context()                             <span class="hljs-comment"># åˆ›å»ºä¸Šä¸‹æ–‡</span><br>    page = context.new_page()                                   <span class="hljs-comment"># æ‰“å¼€æ ‡ç­¾é¡µ</span><br>    <span class="hljs-keyword">with</span> page.expect_request(<span class="hljs-string">&quot;**/*logo*.png&quot;</span>) <span class="hljs-keyword">as</span> first:         <span class="hljs-comment"># ç­‰å¾…å…·æœ‰æŒ‡å®šurlçš„è¯·æ±‚</span><br>        page.goto(<span class="hljs-string">&quot;https://www.hao123.com/&quot;</span>)<br>    <span class="hljs-built_in">print</span>(first.value.url)<br><br>    <span class="hljs-keyword">with</span> page.expect_popup() <span class="hljs-keyword">as</span> popup:                          <span class="hljs-comment"># ç­‰å¾…å¼¹å‡ºçª—å£</span><br>        page.locator(<span class="hljs-string">&#x27;//*[@id=&quot;footer&quot;]/div/div[1]/a[3]&#x27;</span>).click()<br>        page.wait_for_timeout(<span class="hljs-number">1000</span>)                             <span class="hljs-comment"># å¼¹å‡ºå…¨ç«™åœ°å›¾çª—å£é¡µ</span><br>    popup.value.goto(<span class="hljs-string">&quot;https://www.hao123.com/&quot;</span>)                 <span class="hljs-comment"># çª—å£é¡µæ‰“å¼€hao123é¡µé¢</span><br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)                                 <span class="hljs-comment"># åœ¨æŒ‡å®šçš„æ—¶é—´é—´éš”åç»§ç»­æ‰§è¡Œåç»­ä»£ç </span><br><br>    page.on(<span class="hljs-string">&quot;console&quot;</span>, console_msg)                             <span class="hljs-comment"># ç›‘å¬consoleå†…å®¹</span><br>    page.goto(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br>    page.wait_for_load_state(<span class="hljs-string">&quot;networkidle&quot;</span>)                     <span class="hljs-comment"># ç­‰å¾…é¡µé¢åœ¨ç½‘ç»œç©ºé—²çŠ¶æ€æ—¶åœæ­¢åŠ è½½</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">print_request_sent</span>(<span class="hljs-params">request</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Request sent: &quot;</span> + request.url)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">print_request_finished</span>(<span class="hljs-params">request</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Request finished: &quot;</span> + request.url)<br><br>    page.on(<span class="hljs-string">&quot;request&quot;</span>, print_request_sent)<br>    page.on(<span class="hljs-string">&quot;requestfinished&quot;</span>, print_request_finished)<br>    page.goto(<span class="hljs-string">&quot;https://www.sogou.com/&quot;</span>)<br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)<br><br>    page.remove_listener(<span class="hljs-string">&quot;requestfinished&quot;</span>, print_request_finished)<br>    page.goto(<span class="hljs-string">&quot;https://www.sogou.com/&quot;</span>)<br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">handle_dialog</span>(<span class="hljs-params">dialog</span>):<br>        dialog.accept(<span class="hljs-string">&quot;2021&quot;</span>)<br>    page.goto(<span class="hljs-string">&quot;https://www.runoob.com/try/try.php?filename=ionic_ionicpopup&quot;</span>)<br>    iframe = page.frame_locator(<span class="hljs-string">&#x27;//*[@id=&quot;iframeResult&quot;]&#x27;</span>)<br>    iframe.get_by_role(<span class="hljs-string">&quot;button&quot;</span>, name=<span class="hljs-string">&quot;å¼¹çª—æ˜¾ç¤º&quot;</span>).click()<br>    <span class="hljs-comment"># page.once(&quot;dialog&quot;, lambda dialog: dialog.accept(&quot;2021&quot;))</span><br>    page.once(<span class="hljs-string">&quot;dialog&quot;</span>, handle_dialog)                          <span class="hljs-comment"># æ³¨å†Œå¯¹è¯æ¡†å¤„ç†ç¨‹åº</span><br>    page.evaluate(<span class="hljs-string">&quot;prompt(&#x27;Enter a number:&#x27;)&quot;</span>)                  <span class="hljs-comment"># è§¦å‘æç¤ºæ¡†</span><br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)<br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure>



              
            </div>
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/%E6%B5%8B%E8%AF%95%E6%A1%86%E6%9E%B6/" class="category-chain-item">æµ‹è¯•æ¡†æ¶</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/Python/">#Python</a>
      
        <a href="/tags/PlayWright/">#PlayWright</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>PlayWright æ¡†æ¶(ä¸€)</div>
      <div>https://stitch-top.github.io/2023/09/09/ce-shi-kuang-jia/tf06-playwright-kuang-jia-yi/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>ä½œè€…</div>
          <div>Dr.626</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>å‘å¸ƒäº</div>
          <div>2023å¹´9æœˆ9æ—¥ 22:22:50</div>
        </div>
      
      
      <div class="license-meta-item">
        <div>è®¸å¯åè®®</div>
        <div>
          
            
            
              <a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">
              <span class="hint--top hint--rounded" aria-label="BY - ç½²å">
                <i class="iconfont icon-by"></i>
              </span>
              </a>
            
              <a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">
              <span class="hint--top hint--rounded" aria-label="NC - éå•†ä¸šæ€§ä½¿ç”¨">
                <i class="iconfont icon-nc"></i>
              </span>
              </a>
            
              <a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">
              <span class="hint--top hint--rounded" aria-label="SA - ç›¸åŒæ–¹å¼å…±äº«">
                <i class="iconfont icon-sa"></i>
              </span>
              </a>
            
          
        </div>
      </div>
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2023/11/02/ce-shi-kuang-jia/tf07-playwright-kuang-jia-er/" title="PlayWright æ¡†æ¶(äºŒ)">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">PlayWright æ¡†æ¶(äºŒ)</span>
                        <span class="visible-mobile">ä¸Šä¸€ç¯‡</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2023/07/23/ce-shi-kuang-jia/tf04-unittest-ce-shi-kuang-jia/" title="UnitTest æµ‹è¯•æ¡†æ¶">
                        <span class="hidden-mobile">UnitTest æµ‹è¯•æ¡†æ¶</span>
                        <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  <article id="comments">
    
  <div id="valine"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#valine', function() {
      Fluid.utils.createScript('https://cdn.staticfile.org/valine/1.5.1/Valine.min.js', function() {
        var options = Object.assign(
          {"appId":"Jg3BjUa3RtnEFSREy3wsmUR5-MdYXbMMI","appKey":"DwsEb5BeMxwdz0CEJ6MUBdu3","path":"window.location.pathname","placeholder":"èµ äººç«ç‘°ï¼Œæ‰‹ç•™ä½™é¦™(ï½oï¿£3ï¿£)ï½","avatar":"monsterid","meta":["nick","mail","link"],"requiredFields":["nick","mail"],"pageSize":13,"lang":"zh-CN","highlight":"ture","recordIP":"ture","serverURLs":"","emojiCDN":null,"emojiMaps":null,"enableQQ":"ture"},
          {
            el: "#valine",
            path: window.location.pathname
          }
        )
        new Valine(options);
        Fluid.utils.waitElementVisible('#valine .vcontent', () => {
          var imgSelector = '#valine .vcontent img:not(.vemoji)';
          Fluid.plugins.imageCaption(imgSelector);
          Fluid.plugins.fancyBox(imgSelector);
        })
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


  </article>


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar category-bar" style="margin-left: -1rem">
    





<div class="category-list">
  
  
    
    
    
    <div class="category row nomargin-x">
      <a class="category-item 
          list-group-item category-item-action col-10 col-md-11 col-xm-11" title="æµ‹è¯•æ¡†æ¶"
        id="heading-893b664e5ce5fe8882ce6ce630f2f650" role="tab" data-toggle="collapse" href="#collapse-893b664e5ce5fe8882ce6ce630f2f650"
        aria-expanded="true"
      >
        æµ‹è¯•æ¡†æ¶
        <span class="list-group-count">(7)</span>
        <i class="iconfont icon-arrowright"></i>
      </a>
      
      <div class="category-collapse collapse show" id="collapse-893b664e5ce5fe8882ce6ce630f2f650"
           role="tabpanel" aria-labelledby="heading-893b664e5ce5fe8882ce6ce630f2f650">
        
        
          
  <div class="category-post-list">
    
    
      
      
        <a href="/2023/01/08/ce-shi-kuang-jia/tf01-selenium/" title="Selenium"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Selenium</span>
        </a>
      
    
      
      
        <a href="/2023/03/03/ce-shi-kuang-jia/tf02-pytest-ce-shi-kuang-jia/" title="Pytest æµ‹è¯•æ¡†æ¶"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Pytest æµ‹è¯•æ¡†æ¶</span>
        </a>
      
    
      
      
        <a href="/2023/05/01/ce-shi-kuang-jia/tf03-allure-ce-shi-bao-gao/" title="Allure æµ‹è¯•æŠ¥å‘Š"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Allure æµ‹è¯•æŠ¥å‘Š</span>
        </a>
      
    
      
      
        <a href="/2023/07/23/ce-shi-kuang-jia/tf04-unittest-ce-shi-kuang-jia/" title="UnitTest æµ‹è¯•æ¡†æ¶"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">UnitTest æµ‹è¯•æ¡†æ¶</span>
        </a>
      
    
      
      
        <a href="/2024/03/02/ce-shi-kuang-jia/tf05-unittest-zi-bao-mock/" title="UnitTest å­åŒ… Mock"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">UnitTest å­åŒ… Mock</span>
        </a>
      
    
      
      
        <a href="/2023/09/09/ce-shi-kuang-jia/tf06-playwright-kuang-jia-yi/" title="PlayWright æ¡†æ¶(ä¸€)"
           class="list-group-item list-group-item-action
           active">
          <span class="category-post">PlayWright æ¡†æ¶(ä¸€)</span>
        </a>
      
    
      
      
        <a href="/2023/11/02/ce-shi-kuang-jia/tf07-playwright-kuang-jia-er/" title="PlayWright æ¡†æ¶(äºŒ)"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">PlayWright æ¡†æ¶(äºŒ)</span>
        </a>
      
    
  </div>

        
      </div>
    </div>
  
</div>


  </aside>


    </div>
  </div>
</div>





  



  



  



  



  






    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">å…³é”®è¯</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a><span>Copyright Â© 2021 - 2024</span></a> <i class="iconfont icon-love"></i> <a href="https://stitch-top.github.io" target="_blank" rel="nofollow noopener"><span>Dr.626</span></a> 
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="leancloud-site-pv-container" style="display: none">
        ğŸ“ˆ æ€»è®¿é—®é‡ 
        <span id="leancloud-site-pv"></span>
         æ¬¡
      </span>
    
    
      <span id="leancloud-site-uv-container" style="display: none">
        ğŸ“Š æ€»è®¿å®¢æ•° 
        <span id="leancloud-site-uv"></span>
         äºº ğŸŒ¹
      </span>
    
    

  
</div>

  
  
  
  
  <!-- æ·»åŠ ç½‘ç«™è¿è¡Œæ—¶é—´ -->
  <div class="footer-content">
    <div>
      <span id="timeDate">è½½å…¥å¤©æ•°...</span>
      <span id="times">è½½å…¥æ—¶åˆ†ç§’...</span>
      <script>
      var now = new Date();
      function createtime(){
          var grt= new Date("01/01/2021 00:00:00");   //æ­¤å¤„ä¿®æ”¹ä½ çš„å»ºç«™æ—¶é—´æˆ–è€…ç½‘ç«™ä¸Šçº¿æ—¶é—´
          now.setTime(now.getTime()+250);
          days = (now - grt ) / 1000 / 60 / 60 / 24;
          dnum = Math.floor(days);
          hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum);
          hnum = Math.floor(hours);
          if(String(hnum).length ==1 ){
              hnum = "0" + hnum;
          }
          minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);
          mnum = Math.floor(minutes);
          if(String(mnum).length ==1 ){
                    mnum = "0" + mnum;
          }
          seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
          snum = Math.round(seconds);
          if(String(snum).length ==1 ){
                    snum = "0" + snum;
          }
          document.getElementById("timeDate").innerHTML = "æœ¬ç«™å·²å®‰å…¨è¿è¡Œ&nbsp"+dnum+"&nbspå¤©";
          document.getElementById("times").innerHTML = hnum + "&nbspå°æ—¶&nbsp" + mnum + "&nbspåˆ†&nbsp" + snum + "&nbspç§’";
      }
      setInterval("createtime()", 250);
      </script>
    </div>
  </div>
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://cdn.staticfile.org/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.staticfile.org/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.staticfile.org/jquery/3.7.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  

  

  

  

  

  

  
    
  




  
    
      <script  src="/js/img-lazyload.js" ></script>
    
  




  
<script>
  Fluid.utils.createScript('https://cdn.staticfile.org/tocbot/4.21.0/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      headingSelector : CONFIG.toc.headingSelector || 'h1,h2,h3,h4,h5,h6',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      collapseDepth   : CONFIG.toc.collapseDepth || 0,
      scrollSmooth    : true,
      headingsOffset  : -boardTop
    });
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }
  });
</script>


  <script>
  (function() {
    var enableLang = CONFIG.code_language.enable && CONFIG.code_language.default;
    var enableCopy = CONFIG.copy_btn;
    if (!enableLang && !enableCopy) {
      return;
    }

    function getBgClass(ele) {
      return Fluid.utils.getBackgroundLightness(ele) >= 0 ? 'code-widget-light' : 'code-widget-dark';
    }

    var copyTmpl = '';
    copyTmpl += '<div class="code-widget">';
    copyTmpl += 'LANG';
    copyTmpl += '</div>';
    jQuery('.markdown-body pre').each(function() {
      var $pre = jQuery(this);
      if ($pre.find('code.mermaid').length > 0) {
        return;
      }
      if ($pre.find('span.line').length > 0) {
        return;
      }

      var lang = '';

      if (enableLang) {
        lang = CONFIG.code_language.default;
        if ($pre[0].children.length > 0 && $pre[0].children[0].classList.length >= 2 && $pre.children().hasClass('hljs')) {
          lang = $pre[0].children[0].classList[1];
        } else if ($pre[0].getAttribute('data-language')) {
          lang = $pre[0].getAttribute('data-language');
        } else if ($pre.parent().hasClass('sourceCode') && $pre[0].children.length > 0 && $pre[0].children[0].classList.length >= 2) {
          lang = $pre[0].children[0].classList[1];
          $pre.parent().addClass('code-wrapper');
        } else if ($pre.parent().hasClass('markdown-body') && $pre[0].classList.length === 0) {
          $pre.wrap('<div class="code-wrapper"></div>');
        }
        lang = lang.toUpperCase().replace('NONE', CONFIG.code_language.default);
      }
      $pre.append(copyTmpl.replace('LANG', lang).replace('code-widget">',
        getBgClass($pre[0]) + (enableCopy ? ' code-widget copy-btn" data-clipboard-snippet><i class="iconfont icon-copy"></i>' : ' code-widget">')));

      if (enableCopy) {
        Fluid.utils.createScript('https://cdn.staticfile.org/clipboard.js/2.0.11/clipboard.min.js', function() {
          var clipboard = new window.ClipboardJS('.copy-btn', {
            target: function(trigger) {
              var nodes = trigger.parentNode.childNodes;
              for (var i = 0; i < nodes.length; i++) {
                if (nodes[i].tagName === 'CODE') {
                  return nodes[i];
                }
              }
            }
          });
          clipboard.on('success', function(e) {
            e.clearSelection();
            e.trigger.innerHTML = e.trigger.innerHTML.replace('icon-copy', 'icon-success');
            setTimeout(function() {
              e.trigger.innerHTML = e.trigger.innerHTML.replace('icon-success', 'icon-copy');
            }, 2000);
          });
        });
      }
    });
  })();
</script>


  
<script>
  Fluid.utils.createScript('https://cdn.staticfile.org/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));
  });
</script>


  
<script>
  Fluid.utils.createScript('https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="/js/leancloud.js" ></script>





<!-- ä¸»é¢˜çš„å¯åŠ¨é¡¹ï¼Œå°†å®ƒä¿æŒåœ¨æœ€åº•éƒ¨ -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">åšå®¢åœ¨å…è®¸ JavaScript è¿è¡Œçš„ç¯å¢ƒä¸‹æµè§ˆæ•ˆæœæ›´ä½³</div>
  </noscript>
</body>
</html>
