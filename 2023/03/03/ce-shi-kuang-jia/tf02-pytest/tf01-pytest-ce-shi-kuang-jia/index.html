

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/logo.png">
  <link rel="icon" href="/img/logo.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Dr.626">
  <meta name="keywords" content="">
  
    <meta name="description" content="üç∞ PyTestÊòØPythonÁöÑ‰∏ÄÁßçÂçïÂÖÉÊµãËØïÊ°ÜÊû∂Ôºå‰∏éPythonËá™Â∏¶ÁöÑUnitTestÊµãËØïÊ°ÜÊû∂Á±ª‰ººÔºå‰ΩÜ‰ΩøÁî®ÊØîUnitTestÊõ¥ÁÆÄÊ¥ÅÔºåÊïàÁéáÊõ¥È´ò„ÄÇ">
<meta property="og:type" content="article">
<meta property="og:title" content="Pytest ÊµãËØïÊ°ÜÊû∂">
<meta property="og:url" content="https://stitch-top.github.io/2023/03/03/ce-shi-kuang-jia/tf02-pytest/tf01-pytest-ce-shi-kuang-jia/index.html">
<meta property="og:site_name" content="Dr.626">
<meta property="og:description" content="üç∞ PyTestÊòØPythonÁöÑ‰∏ÄÁßçÂçïÂÖÉÊµãËØïÊ°ÜÊû∂Ôºå‰∏éPythonËá™Â∏¶ÁöÑUnitTestÊµãËØïÊ°ÜÊû∂Á±ª‰ººÔºå‰ΩÜ‰ΩøÁî®ÊØîUnitTestÊõ¥ÁÆÄÊ¥ÅÔºåÊïàÁéáÊõ¥È´ò„ÄÇ">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://stitch-top.github.io/img/ThemeMap/5921739409.jpg">
<meta property="article:published_time" content="2023-03-03T15:03:27.000Z">
<meta property="article:modified_time" content="2024-07-19T08:54:02.471Z">
<meta property="article:author" content="Dr.626">
<meta property="article:tag" content="Python">
<meta property="article:tag" content="Pytest">
<meta property="article:tag" content="Assertions">
<meta property="article:tag" content="Decorators">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://stitch-top.github.io/img/ThemeMap/5921739409.jpg">
  
  
  
  <title>Pytest ÊµãËØïÊ°ÜÊû∂ - Dr.626</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- ‰∏ªÈ¢ò‰æùËµñÁöÑÂõæÊ†áÂ∫ìÔºå‰∏çË¶ÅËá™Ë°å‰øÆÊîπ -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  



  
<link rel="stylesheet" href="/css/my.css">



  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"stitch-top.github.io","root":"/","version":"1.9.0","typing":{"enable":true,"typeSpeed":70,"cursorChar":"|","loop":true,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":"‚úç"},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"left","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":1},"lazyload":{"enable":true,"loading_img":"/img/load.gif","onlypost":true,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":false,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":"Jg3BjUa3RtnEFSREy3wsmUR5-MdYXbMMI","app_key":"DwsEb5BeMxwdz0CEJ6MUBdu3","server_url":null,"path":"window.location.pathname","ignore_local":true}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>

  
  
<meta name="generator" content="Hexo 6.2.0"></head>


<body>
  
  

  <header>
    

<div class="header-inner" style="height: 100vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Dr.626</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                È¶ñÈ°µ
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                ÂΩíÊ°£
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                ÂàÜÁ±ª
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                Ê†áÁ≠æ
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                ÂÖ≥‰∫é
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/">
                <i class="iconfont icon-link-fill"></i>
                ÂèãÈìæ
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" target="_self" href="javascript:;" role="button"
                 data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="iconfont icon-code"></i>
                ÂÆûÈ™åÂÆ§
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                
                  
                  
                  
                  <a class="dropdown-item" href="/tagsnet">
                    <i class="iconfont icon-bookmark"></i>
                    ÊñáÁ´†ÂÖ≥Á≥ªÁΩë
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="/laboratory/plugin">
                    <i class="iconfont icon-bug"></i>
                    HexoÂ∞èÁªÑ‰ª∂
                  </a>
                
              </div>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/back-1.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="Pytest ÊµãËØïÊ°ÜÊû∂"></span>
          
        </div>

        
          
  <div class="mt-3">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-author" aria-hidden="true"></i>
        Dr.626
      </span>
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2023-03-03 23:03" pubdate>
          2023Âπ¥3Êúà3Êó• 23:03:27
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          60k Â≠ó
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          502 ÂàÜÈíü
        
      </span>
    

    
    
      
        <span id="leancloud-page-views-container" class="post-meta" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="leancloud-page-views"></span> Ê¨°
        </span>
        
      
    
  </div>


        
      </div>

      
        <div class="scroll-down-bar">
          <i class="iconfont icon-arrowdown"></i>
        </div>
      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
  
  <!-- Âä®ÊÄÅÁ∫øÊù°ËÉåÊôØ
  <script type="text/javascript"
  color="0 0 255" opacity='1' zIndex="-2" count="200" src="../js/canvas-nest.js">
  </script> -->
  
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="padding-left: 2rem; margin-right: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;ÁõÆÂΩï</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">Pytest ÊµãËØïÊ°ÜÊû∂</h1>
            
            <div class="markdown-body">
              
              <p>üç∞ PyTestÊòØPythonÁöÑ‰∏ÄÁßçÂçïÂÖÉÊµãËØïÊ°ÜÊû∂Ôºå‰∏éPythonËá™Â∏¶ÁöÑUnitTestÊµãËØïÊ°ÜÊû∂Á±ª‰ººÔºå‰ΩÜ‰ΩøÁî®ÊØîUnitTestÊõ¥ÁÆÄÊ¥ÅÔºåÊïàÁéáÊõ¥È´ò„ÄÇ</p>
<span id="more"></span>



<h1 id="1-ËßÑÂàôËØ¥Êòé"><a href="#1-ËßÑÂàôËØ¥Êòé" class="headerlink" title="1 ËßÑÂàôËØ¥Êòé"></a>1 ËßÑÂàôËØ¥Êòé</h1><ul>
<li>ËßÑÂàôËØ¥Êòé<ul>
<li>PyTestÊòØPython2ÈªòËÆ§Ëá™Â∏¶ÁöÑÔºåÂú®Python3‰∏≠ÂàôÊòØÁã¨Á´ãÁöÑÔºåÈúÄ‰ΩøÁî®<code>pip install pytest</code>ËøõË°åÂÆâË£Ö„ÄÇ</li>
<li>ËøêË°åËßÑÂàô<ul>
<li>Êü•ÊâæÂΩìÂâçÁõÆÂΩïÂèäÂ≠êÁõÆÂΩï‰∏≠<code>test_*.py</code>Êàñ<code>*_test.py</code>Êñá‰ª∂„ÄÇ</li>
<li>ÊâæÂà∞ÊâÄÊúâÁöÑÊñá‰ª∂ÂêéÔºåÊâßË°åÊñá‰ª∂‰∏≠‰ª•<code>test</code>ÂºÄÂ§¥ÁöÑÊâÄÊúâÂáΩÊï∞„ÄÇ</li>
</ul>
</li>
<li>Áî®‰æãËÆæËÆ°ËßÑÂàô<ul>
<li>ÊµãËØïÊñá‰ª∂‰ª•<code>test_</code>ÂºÄÂ§¥ÔºåÊàñ‰ª•<code>_test</code>ÁªìÂ∞æÔºåÊµãËØïÁ±ª‰ª•<code>Test</code>ÂºÄÂ§¥ÔºåÂπ∂‰∏î‰∏çËÉΩÂ∏¶Êúâ<code>init</code>ÊñπÊ≥ï„ÄÇ</li>
<li>ÊµãËØïÂáΩÊï∞ÂíåÊñπÊ≥ï‰ª•<code>test_</code>ÂºÄÂ§¥ÔºåÊñ≠Ë®ÄÁî®<code>assert</code>ÔºåÊâÄÊúâÁöÑpackageÂåÖÂøÖÈ°ªÂ∏¶<code>__init__.py</code>Êñá‰ª∂„ÄÇ</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs Powershell">pip install pytest                                       <span class="hljs-comment"># ÂÆâË£ÖPyTest</span><br>pip show pytest                                          <span class="hljs-comment"># Êü•ÁúãPyTestÁâàÊú¨ÁöÑËØ¶ÁªÜ‰ø°ÊÅØ</span><br>pytest <span class="hljs-literal">--version</span>                                         <span class="hljs-comment"># ÁÆÄÂçïÊü•ÁúãPyTestÁöÑÂÆâË£ÖÁâàÊú¨</span><br>pytest <span class="hljs-literal">-h</span>                                                <span class="hljs-comment"># PyTestÊü•ÁúãÂ∏ÆÂä©</span><br>pytest <span class="hljs-literal">--help</span>                                            <span class="hljs-comment"># PyTestÊü•ÁúãÂ∏ÆÂä©</span><br></code></pre></td></tr></table></figure>



<h2 id="1-1-Áî®‰æãÊâßË°åËßÑÂàô"><a href="#1-1-Áî®‰æãÊâßË°åËßÑÂàô" class="headerlink" title="1-1 Áî®‰æãÊâßË°åËßÑÂàô"></a>1-1 Áî®‰æãÊâßË°åËßÑÂàô</h2><ul>
<li>Áî®‰æãÊâßË°åËßÑÂàô<ul>
<li>ÊâßË°åÊüê‰∏™ÁõÆÂΩï‰∏ãÊâÄÊúâÁöÑÁî®‰æãÔºö<code>pytest FolderName/</code>„ÄÇ</li>
<li>ÊâßË°åÊüê‰∏™Êñá‰ª∂‰∏≠ÁöÑÊâÄÊúâÁî®‰æãÔºö<code>pytest FileName.py</code>„ÄÇ</li>
<li>ÈÅáÂà∞ÈîôËØØÊó∂ÔºåÂÅúÊ≠¢Ê≠£Âú®ÊâßË°åÁöÑÊµãËØïÁî®‰æãÔºö<code>pytest -x FileName.py</code>„ÄÇ</li>
<li>Áî®‰æãÈîôËØØ‰∏™Êï∞ËææÂà∞ÊåáÂÆöÊï∞ÈáèÊó∂ÔºåÂÅúÊ≠¢ÊµãËØïÔºö<code>pytest --maxfail=num</code>„ÄÇ</li>
<li>ÊåâÁÖßÂÖ≥ÈîÆÂ≠óËøõË°åÊ®°Á≥äÂåπÈÖçÔºåÂåπÈÖçÂêçÁß∞‰∏çÂå∫ÂàÜÂ§ßÂ∞èÂÜôÔºö<code>pytest -k &quot;xxx&quot;</code>„ÄÇ</li>
<li>ÁÆÄÂçïÁªìÊûúÔºö<code>pytest -q FileName.py</code>Ôºå<code>--quiet decrease verbosity</code>„ÄÇ</li>
<li>ÊåâËäÇÁÇπËøêË°å<ul>
<li>ÊØè‰∏™ÊµãËØïÁî®‰æãÈÉΩÂàÜÈÖç‰∫ÜÂîØ‰∏ÄÁöÑnodeidÔºånodeidÁî±Ê®°ÂùóÂêçÂíåËØ¥ÊòéÁ¨¶ÁªÑÊàê„ÄÇ</li>
<li>Ê®°ÂùóÂêçÂíåËØ¥ÊòéÁ¨¶‰ª•<code>::</code>Èó¥ÈöîÔºåËØ¥ÊòéÁ¨¶ÂèØ‰ª•ÂåÖÂê´Á±ªÂêç„ÄÅÂáΩÊï∞ÂêçÂíåÊ†áËÆ∞ÂèÇÊï∞„ÄÇ</li>
</ul>
</li>
<li>Ê†áËÆ∞Ë°®ËææÂºèËøêË°åÁî®<code>@pytest.mark.slow</code>‰øÆÈ•∞Âô®‰øÆÈ•∞ÁöÑÊâÄÊúâÁî®‰æãÔºö<code>pytest -m slow</code>„ÄÇ</li>
</ul>
</li>
</ul>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Powershell">pytest                                                  <span class="hljs-comment"># ÊâßË°åPyTestÁî®‰æãÁöÑÂëΩ‰ª§ÔºåÊé®Ëçê‰ΩøÁî®</span><br>py.test                                                 <span class="hljs-comment"># ÊâßË°åËØ•Êñá‰ª∂Â§π‰∏ãÊâÄÊúâÁ¨¶ÂêàÊù°‰ª∂ÁöÑÁî®‰æã</span><br>python <span class="hljs-literal">-m</span> pytest<br><br>pytest <span class="hljs-literal">-k</span> <span class="hljs-string">&quot;ClassName&quot;</span>                                   <span class="hljs-comment"># ËøêË°åClassNameÁ±ª‰∏ãÁöÑÊâÄÊúâÊñπÊ≥ï</span><br>pytest <span class="hljs-literal">-k</span> <span class="hljs-string">&quot;MethodName&quot;</span>                                  <span class="hljs-comment"># ËøêË°åÊâÄÊúâÂêç‰∏∫MethodNameÁöÑÊñπÊ≥ï</span><br>pytest <span class="hljs-literal">-k</span> <span class="hljs-string">&quot;ClassName and not MethodName&quot;</span>                <span class="hljs-comment"># ËøêË°åClassNameÁ±ª‰∏ãÁöÑÈô§MethodNameÂ§ñÁöÑÊâÄÊúâÊñπÊ≥ï</span><br><br>pytest FileName.py::FunctionName                        <span class="hljs-comment"># ÂáΩÊï∞Âêç</span><br>pytest FileName.py::ClassName::FunctionName             <span class="hljs-comment"># Á±ªÂêç+ÂáΩÊï∞Âêç</span><br>pytest FileName.py::ClassName::FunctionName[<span class="hljs-type">num1</span>-<span class="hljs-type">num2</span>]  <span class="hljs-comment"># Á±ªÂêç+ÂáΩÊï∞Âêç+Ê†áËÆ∞ÂèÇÊï∞</span><br>pytest FileName.py <span class="hljs-literal">-vv</span>                                  <span class="hljs-comment"># FileName.pyÊñá‰ª∂‰∏ãÁöÑÊâÄÊúâÁî®‰æãËäÇÁÇπÊâßË°åÁªìÊûú</span><br></code></pre></td></tr></table></figure>



<h2 id="1-2-PyCharmËøêË°åÊñπÂºè"><a href="#1-2-PyCharmËøêË°åÊñπÂºè" class="headerlink" title="1-2 PyCharmËøêË°åÊñπÂºè"></a>1-2 PyCharmËøêË°åÊñπÂºè</h2><ul>
<li>PyCharmËøêË°åÊñπÂºè<ul>
<li>ÈªòËÆ§‰ª•AutodetectÂΩ¢ÂºèËøêË°åÔºåÂèØ‰ª•ÈÄöËøá‰øÆÊîπPyCharmËÆæÁΩÆÊù•ÊîπÂèòËøêË°åÊñπÂºè„ÄÇ</li>
<li>File‚Äî&gt;Setting‚Äî&gt;Tools‚Äî&gt;Python Integrated Tools‚Äî&gt;Default test runner„ÄÇ</li>
<li>PyTestÂÖºÂÆπUnitTestÔºåÁî®UnitTestÊ°ÜÊû∂ÁºñÂÜôÁöÑÊµãËØïÁî®‰æã‰πüËÉΩÁî®PyTestÊ°ÜÊû∂ËøêË°å„ÄÇ</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_node.py</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_one</span>():<br>    <span class="hljs-keyword">pass</span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestNode</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_one</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">pass</span><br>    <br><span class="hljs-meta">    @pytest.mark.parametrize(<span class="hljs-params"><span class="hljs-string">&quot;x, y&quot;</span>,[(<span class="hljs-params"><span class="hljs-number">1</span>, <span class="hljs-number">3</span></span>), (<span class="hljs-params"><span class="hljs-number">3</span>, <span class="hljs-number">5</span></span>)]</span>)</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_two</span>(<span class="hljs-params">self, x, y</span>):<br>        <span class="hljs-keyword">assert</span> x + <span class="hljs-number">2</span> == y<br><br><span class="hljs-comment"># pytest test_node.py::test_one                         # ÂáΩÊï∞Âêç</span><br><span class="hljs-comment"># pytest test_node.py::TestNode::test_one               # Á±ªÂêç+ÂáΩÊï∞Âêç</span><br><span class="hljs-comment"># pytest test_node.py::TestNode::test_two[1-3]          # Á±ªÂêç+ÂáΩÊï∞Âêç+Ê†áËÆ∞ÂèÇÊï∞</span><br><span class="hljs-comment"># pytest test_node.py::TestNode::test_two[3-5]          # Á±ªÂêç+ÂáΩÊï∞Âêç+Ê†áËÆ∞ÂèÇÊï∞</span><br><span class="hljs-comment"># pytest test_node.py -vv                               # ËØ•Êñá‰ª∂‰∏ãÁöÑÊâÄÊúâÁî®‰æãËäÇÁÇπÊâßË°åÁªìÊûú</span><br></code></pre></td></tr></table></figure>



<h1 id="2-Ë∑≥ËøáÁî®‰æã"><a href="#2-Ë∑≥ËøáÁî®‰æã" class="headerlink" title="2 Ë∑≥ËøáÁî®‰æã"></a>2 Ë∑≥ËøáÁî®‰æã</h1><ul>
<li>Ë∑≥ËøáÁî®‰æã<ul>
<li>Ë£ÖÈ•∞Âô®<code>@pytest.mark.skip()</code>ÔºöÊ†áËÆ∞ÊµãËØïÁî®‰æã‰∏∫Ë∑≥ËøáÁä∂ÊÄÅÔºåÂπ∂Êèê‰æõË∑≥ËøáÂéüÂõ†„ÄÇ</li>
<li>Ë£ÖÈ•∞Âô®<code>@pytest.mark.skipif()</code>ÔºöÂΩìÊåáÂÆöÁöÑÊù°‰ª∂Êª°Ë∂≥Êó∂ÔºåÂç≥‰∏∫TrueÔºåË∑≥ËøáÊµãËØïÁî®‰æãÂπ∂Êèê‰æõË∑≥ËøáÂéüÂõ†„ÄÇ</li>
<li>Ë£ÖÈ•∞Âô®<code>@pytest.mark.xfail()</code>ÔºöÊ†áËÆ∞ÊµãËØïÁî®‰æã‰∏∫È¢ÑËÆ°Â§±Ë¥•ÔºåÂÆûÈôÖËøêË°åÊó∂‰ºöË¢´ÂøΩÁï•Ôºå‰∏çÂΩ±ÂìçÊµãËØïÁªìÊûú„ÄÇ</li>
<li>ÂáΩÊï∞<code>pytest.skip()</code>ÔºöÂú®ÊµãËØïÁî®‰æãÊâßË°åÊúüÈó¥ÔºåÂº∫Âà∂Ë∑≥ËøáÂΩìÂâçÊµãËØïÁî®‰æãÂπ∂Êèê‰æõË∑≥ËøáÂéüÂõ†ÔºåÁ±ª‰ºº‰∫ébreakË∑≥Âá∫Âæ™ÁéØ„ÄÇ</li>
<li>ÂáΩÊï∞<code>pytest.xfail()</code>ÔºöÊ†áËÆ∞Â∑≤Áü•Â≠òÂú®ÈóÆÈ¢ò‰ΩÜÂ∞öÊú™‰øÆÂ§çÁöÑÁî®‰æãÔºå‰æùËµñ‰∫éË¢´Ê†áËÆ∞ÊàêxfailÁî®‰æãÁöÑÂÖ∂‰ªñÁî®‰æã‰πü‰ºöË∑≥Ëøá„ÄÇ</li>
<li>Ëá™ÂÆö‰πâË∑≥ËøáÊ†áËØÜ<ul>
<li>Â∞Ü<code>pytest.mark.skip()</code>Êàñ<code>pytest.mark.skipif()</code>ËµãÂÄºÁªô‰∏Ä‰∏™Ëá™ÂÆö‰πâÊ†áËØÜÂèòÈáèÔºå‰∏çÂêåÊ®°Âùó‰πãÈó¥ËøõË°åÂÖ±‰∫´„ÄÇ</li>
<li>Ëã•ÊúâÂ§ö‰∏™Ê®°ÂùóÁöÑÁî®‰æãÈúÄË¶ÅÁî®Âà∞Âêå‰∏™Ê†áËØÜÂèòÈáèÔºåÂèØÂçïÁã¨Êñá‰ª∂ÁÆ°ÁêÜÈÄöÁî®ÁöÑÊ†áËØÜÂèòÈáèÔºåÈÄÇÁî®‰∫éÊï¥‰∏™ÊµãËØïÁî®‰æãÈõÜ„ÄÇ</li>
</ul>
</li>
<li>ÂáΩÊï∞<code>pytest.importorskip()</code>ÔºöÊüêÁî®‰æã‰æùËµñ‰∫éÁâπÂÆöÊ®°ÂùóÔºå‰ΩÜÂΩìÂâçÁéØÂ¢É‰∏≠ËØ•Ê®°Âùó‰∏çÂèØÂØºÂÖ•Êó∂‰ΩøÁî®ËØ•ÂáΩÊï∞Ë∑≥ËøáÁî®‰æã„ÄÇ</li>
</ul>
</li>
</ul>
<h2 id="2-1-pytest-mark-skip"><a href="#2-1-pytest-mark-skip" class="headerlink" title="2-1 @pytest.mark.skip()"></a>2-1 @pytest.mark.skip()</h2><ul>
<li>@pytest.mark.skip()<ul>
<li>Áî®Âú®Ë∑≥ËøáÂçï‰∏™Áî®‰æã(ÂáΩÊï∞Áî®‰æã)„ÄÅÁ±ªÁî®‰æã„ÄÅÁ±ªÊñπÊ≥ïÁî®‰æã‰∏äÔºåÂ¶ÇÊûúÂä†Âú®Á±ªÁî®‰æã‰∏äÔºåÁ±ªÈáåÈù¢ÁöÑÊâÄÊúâÊµãËØïÁî®‰æãÈÉΩ‰∏ç‰ºöË¢´ÊâßË°å„ÄÇ</li>
<li>ÂèØÈÄâÂèÇÊï∞reasonÔºå‰ª£Ë°®Ë∑≥ËøáÂéüÂõ†Ôºå‰ºöÂú®ÊâßË°åÁªìÊûú‰∏≠ÊâìÂç∞ÔºåÂèØÈÄâÂèÇÊï∞conditionÔºåÁî®‰∫éÂÆö‰πâÂú®ÁâπÂÆöÊù°‰ª∂‰∏ãË∑≥ËøáÊµãËØïÁî®‰æã„ÄÇ</li>
<li><code>pytestmark=pytest.mark.skip()</code>ÔºåpytestmarkÊòØpytest‰∏≠‰∏Ä‰∏™ÁâπÊÆäÁöÑ‰∏çÂèØÊõ¥ÊîπÂèòÈáèÂêçÔºåÁî®‰∫éËÆæÁΩÆÊ®°ÂùóÁ∫ßÂà´ÁöÑÊ†áËÆ∞„ÄÇ</li>
<li>Â¶ÇÊûúÊÉ≥Âú®Ê®°ÂùóÁ∫ßÂà´Ë∑≥ËøáÊµãËØïÁî®‰æãÔºå‰ΩÜ‰∏ç‰ΩøÁî®pytestmarkÔºåÂàôÂèØ‰ª•‰ΩøÁî®ÂÖ∂‰ªñÂèòÈáèÂêçÔºåÊ≥®ÊÑèÈúÄË¶Å‰ΩøÁî®Ë£ÖÈ•∞Âô®Êù•ËøõË°åÊ†áËÆ∞„ÄÇ</li>
</ul>
</li>
</ul>
<h3 id="1-test-mark-skip-py"><a href="#1-test-mark-skip-py" class="headerlink" title="(1) test_mark_skip.py"></a>(1) test_mark_skip.py</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_mark_skip.py</span><br><br><br><span class="hljs-meta">@pytest.mark.skip(<span class="hljs-params">reason=<span class="hljs-string">&quot;Ë∑≥ËøáÂçï‰∏™ÊµãËØïÁî®‰æã&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---test case a---&quot;</span>)<br><br><br><span class="hljs-meta">@pytest.mark.skip(<span class="hljs-params">reason=<span class="hljs-string">&quot;Ë∑≥ËøáÂçï‰∏™Á±ªÁöÑÁî®‰æã&quot;</span></span>)</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestCaseA</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---test case b---&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_c</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---test case c---&quot;</span>)<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestCaseB</span>:<br><span class="hljs-meta">    @pytest.mark.skip(<span class="hljs-params">reason=<span class="hljs-string">&quot;Ë∑≥ËøáÁ±ªÁöÑÊñπÊ≥ïÁî®‰æã&quot;</span></span>)</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_d</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---test case d---&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_e</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---test case e---&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    pytest.main([<span class="hljs-string">&quot;-s&quot;</span>, <span class="hljs-string">&quot;test_mark_skip.py&quot;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">pytest test_mark_skip.py                                # test_mark_skip.py ssss.</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 5 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_mark_skip.py::test_a                               [ 20%]</span><br><span class="hljs-string">SKIPPED (Ë∑≥ËøáÂçï‰∏™ÊµãËØïÁî®‰æã)</span><br><span class="hljs-string">Skipped: Ë∑≥ËøáÂçï‰∏™ÊµãËØïÁî®‰æã</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_mark_skip.py::TestCaseA::test_b                    [ 40%]</span><br><span class="hljs-string">SKIPPED (Ë∑≥ËøáÂçï‰∏™Á±ªÁöÑÁî®‰æã)</span><br><span class="hljs-string">Skipped: Ë∑≥ËøáÂçï‰∏™Á±ªÁöÑÁî®‰æã</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_mark_skip.py::TestCaseA::test_c                    [ 60%]</span><br><span class="hljs-string">SKIPPED (Ë∑≥ËøáÂçï‰∏™Á±ªÁöÑÁî®‰æã)</span><br><span class="hljs-string">Skipped: Ë∑≥ËøáÂçï‰∏™Á±ªÁöÑÁî®‰æã</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_mark_skip.py::TestCaseB::test_d                    [ 80%]</span><br><span class="hljs-string">SKIPPED (Ë∑≥ËøáÁ±ªÁöÑÊñπÊ≥ïÁî®‰æã)</span><br><span class="hljs-string">Skipped: Ë∑≥ËøáÁ±ªÁöÑÊñπÊ≥ïÁî®‰æã</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_mark_skip.py::TestCaseB::test_e </span><br><span class="hljs-string">PASSED                                                  [100%]---test case e---</span><br><span class="hljs-string">======================== 1 passed, 4 skipped in 0.16s =========================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>



<h3 id="2-test-skip-module-py"><a href="#2-test-skip-module-py" class="headerlink" title="(2) test_skip_module.py*"></a>(2) test_skip_module.py*</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_skip_module.py</span><br><br>pytestmark = pytest.mark.skip(reason=<span class="hljs-string">&quot;Ë∑≥ËøáÂΩìÂâçÊ®°Âùó&quot;</span>)<br><span class="hljs-comment"># skip_module = pytest.mark.skip(reason=&quot;Ë∑≥ËøáÂΩìÂâçÊ®°Âùó&quot;)</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>():                                           <span class="hljs-comment"># Â•áÊÄ™ÔºåpytestmarkËøôÈáå‰πüË∑≥Ëøá‰∫Ü</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case a---&quot;</span>)                           <span class="hljs-comment"># skip_moduleÂè™Ë∑≥ËøáTestCase</span><br><br><br><span class="hljs-comment"># @skip_module</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestCase</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case b---&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_c</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case c---&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    pytest.main([<span class="hljs-string">&quot;-s&quot;</span>, <span class="hljs-string">&quot;test_skip_module.py&quot;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">pytest test_skip_module.py                              # test_skip_module.py sss</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 3 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_skip_module.py::test_a                             [ 33%]</span><br><span class="hljs-string">SKIPPED (Ë∑≥ËøáÂΩìÂâçÊ®°Âùó)</span><br><span class="hljs-string">Skipped: Ë∑≥ËøáÂΩìÂâçÊ®°Âùó</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_skip_module.py::TestCase::test_b                   [ 66%]</span><br><span class="hljs-string">SKIPPED (Ë∑≥ËøáÂΩìÂâçÊ®°Âùó)</span><br><span class="hljs-string">Skipped: Ë∑≥ËøáÂΩìÂâçÊ®°Âùó</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_skip_module.py::TestCase::test_c                   [100%]</span><br><span class="hljs-string">SKIPPED (Ë∑≥ËøáÂΩìÂâçÊ®°Âùó)</span><br><span class="hljs-string">Skipped: Ë∑≥ËøáÂΩìÂâçÊ®°Âùó</span><br><span class="hljs-string">============================= 3 skipped in 0.05s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>



<h2 id="2-2-pytest-mark-skipif"><a href="#2-2-pytest-mark-skipif" class="headerlink" title="2-2 @pytest.mark.skipif()"></a>2-2 @pytest.mark.skipif()</h2><ul>
<li>@pytest.mark.skipif()<ul>
<li>ÂèØÈÄâÂèÇÊï∞reasonÔºåÁî®‰∫éÊ∑ªÂä†ÂÖ≥‰∫éË∑≥ËøáÊµãËØïÁî®‰æãÁöÑÂéüÂõ†ËØ¥Êòé„ÄÇ</li>
<li>ÂèØÈÄâÂèÇÊï∞conditionÔºåÂÆö‰πâÁâπÂÆöÊù°‰ª∂‰∏ãÊòØÂê¶Ë∑≥ËøáÁî®‰æãÁöÑË°®ËææÂºè„ÄÇ</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> sys<br><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_mark_skipif.py</span><br><br><br><span class="hljs-meta">@pytest.mark.skipif(<span class="hljs-params">sys.version_info &lt; (<span class="hljs-params"><span class="hljs-number">3</span>, <span class="hljs-number">10</span></span>), reason=<span class="hljs-string">&quot;pythonÁâàÊú¨Â∞è‰∫é3.10&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case a---&quot;</span>)<br><br><br><span class="hljs-meta">@pytest.mark.skipif(<span class="hljs-params">condition=sys.version_info &lt; (<span class="hljs-params"><span class="hljs-number">3</span>, <span class="hljs-number">10</span></span>), reason=<span class="hljs-string">&quot;pythonÁâàÊú¨Â∞è‰∫é3.10&quot;</span></span>)</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestCaseA</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case b---&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_c</span>(<span class="hljs-params">self, </span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case c---&quot;</span>)<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestCaseB</span>:<br><span class="hljs-meta">    @pytest.mark.skipif(<span class="hljs-params">condition=sys.version_info &lt; (<span class="hljs-params"><span class="hljs-number">3</span>, <span class="hljs-number">10</span></span>), reason=<span class="hljs-string">&quot;pythonÁâàÊú¨Â∞è‰∫é3.10&quot;</span></span>)</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_d</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case d---&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_e</span>(<span class="hljs-params">self, </span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case e---&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    pytest.main([<span class="hljs-string">&quot;-s&quot;</span>, <span class="hljs-string">&quot;test_mark_skipif.py&quot;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;                         ÔºÅÔºÅÔºÅËøôÈáåÁî®ÁöÑPython3.9ÁâàÊú¨</span><br><span class="hljs-string">pytest test_mark_skipif.py                              # test_mark_skipif.py ssss.</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 5 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_mark_skipif.py::test_a                             [ 20%]</span><br><span class="hljs-string">SKIPPED (pythonÁâàÊú¨Â∞è‰∫é3.10)</span><br><span class="hljs-string">Skipped: pythonÁâàÊú¨Â∞è‰∫é3.10</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_mark_skipif.py::TestCaseA::test_b                  [ 40%]</span><br><span class="hljs-string">SKIPPED (pythonÁâàÊú¨Â∞è‰∫é3.10)</span><br><span class="hljs-string">Skipped: pythonÁâàÊú¨Â∞è‰∫é3.10</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_mark_skipif.py::TestCaseA::test_c                  [ 60%]</span><br><span class="hljs-string">SKIPPED (pythonÁâàÊú¨Â∞è‰∫é3.10)</span><br><span class="hljs-string">Skipped: pythonÁâàÊú¨Â∞è‰∫é3.10</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_mark_skipif.py::TestCaseB::test_d                  [ 80%]</span><br><span class="hljs-string">SKIPPED (pythonÁâàÊú¨Â∞è‰∫é3.10)</span><br><span class="hljs-string">Skipped: pythonÁâàÊú¨Â∞è‰∫é3.10</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_mark_skipif.py::TestCaseB::test_e </span><br><span class="hljs-string">PASSED                                                  [100%]---use case e---</span><br><span class="hljs-string">======================== 1 passed, 4 skipped in 0.06s =========================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>



<h2 id="2-3-pytest-mark-xfail"><a href="#2-3-pytest-mark-xfail" class="headerlink" title="2-3 @pytest.mark.xfail()"></a>2-3 @pytest.mark.xfail()</h2><ul>
<li>@pytest.mark.xfail()<ul>
<li>Ê†áËÆ∞ÊµãËØïÁî®‰æã‰∏∫È¢ÑÊúüÂ§±Ë¥•Áä∂ÊÄÅÔºåÈ¢ÑÊúüÂ§±Ë¥•Âç≥ËØ•Áî®‰æãÁöÑÁõÆÊ†áÊòØÂ§±Ë¥•ÁöÑ„ÄÇ</li>
<li>ÂèÇÊï∞runÁî®‰∫éÊéßÂà∂Âú®ÁâπÂÆöÁöÑÊù°‰ª∂‰∏ãÔºåÊòØÂê¶ÊâßË°åÊ†áËÆ∞‰∏∫xfailÁöÑÊµãËØïÁî®‰æã„ÄÇ</li>
<li>ÂèÇÊï∞reasonÁî®‰∫éÊèê‰æõÈ¢ÑÊúüÂ§±Ë¥•ÁöÑÂéüÂõ†ËØ¥ÊòéÔºåÂèÇÊï∞raisesÂàôÊåáÂÆöÈ¢ÑÊúüÊäõÂá∫ÁöÑÂºÇÂ∏∏Á±ªÂûã„ÄÇ</li>
<li>ÂèÇÊï∞strictÁî®‰∫éÊéßÂà∂ÊµãËØïÁî®‰æãÂú®È¢ÑÊúüÂ§±Ë¥•Êó∂ÔºåÊòØÂê¶‰ª•Â§±Ë¥•ÁöÑÊ†áËÆ∞ÊòæÁ§∫Âú®ÊµãËØïÊä•Âëä‰∏≠„ÄÇ</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest  <span class="hljs-comment"># test_mark_xfail.py</span><br><br><br><span class="hljs-meta">@pytest.mark.xfail(<span class="hljs-params">reason=<span class="hljs-string">&quot;ÊµãËØïÁî®‰æãÈ¢ÑÊúüÂ§±Ë¥•&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>():<br>    <span class="hljs-keyword">assert</span> <span class="hljs-number">2</span> + <span class="hljs-number">2</span> == <span class="hljs-number">5</span><br><br><br><span class="hljs-meta">@pytest.mark.xfail(<span class="hljs-params">raises=ZeroDivisionError</span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>():<br>    <span class="hljs-keyword">assert</span> <span class="hljs-number">10</span> / <span class="hljs-number">0</span> == <span class="hljs-number">5</span><br><br><br><span class="hljs-meta">@pytest.mark.xfail(<span class="hljs-params">run=<span class="hljs-literal">False</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_c</span>():<br>    <span class="hljs-keyword">assert</span> <span class="hljs-number">2</span> + <span class="hljs-number">1</span> == <span class="hljs-number">5</span><br><br><br><span class="hljs-meta">@pytest.mark.xfail(<span class="hljs-params">strict=<span class="hljs-literal">True</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_d</span>():<br>    <span class="hljs-keyword">assert</span> <span class="hljs-literal">False</span><br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    pytest.main([<span class="hljs-string">&quot;-s&quot;</span>, <span class="hljs-string">&quot;test_mark_xfail.py&quot;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">pytest test_mark_xfail.py                              # test_mark_xfail.py xxxx</span><br><span class="hljs-string">============================= test session starts ============================</span><br><span class="hljs-string">collecting ... collected 4 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_mark_xfail.py::test_a                             [ 25%]</span><br><span class="hljs-string">XFAIL (ÊµãËØïÁî®‰æãÈ¢ÑÊúüÂ§±Ë¥•)</span><br><span class="hljs-string">@pytest.mark.xfail(reason=&quot;ÊµãËØïÁî®‰æãÈ¢ÑÊúüÂ§±Ë¥•&quot;)</span><br><span class="hljs-string">    def test_a():</span><br><span class="hljs-string">&gt;       assert 2 + 2 == 5</span><br><span class="hljs-string">E       assert 4 == 5</span><br><span class="hljs-string">E         +4</span><br><span class="hljs-string">E         -5</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_mark_xfail.py:6: AssertionError</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_mark_xfail.py::test_b </span><br><span class="hljs-string">XFAIL                                                  [ 50%]</span><br><span class="hljs-string">@pytest.mark.xfail(raises=ZeroDivisionError)</span><br><span class="hljs-string">    def test_b():</span><br><span class="hljs-string">&gt;       assert 10 / 0 == 5</span><br><span class="hljs-string">E       ZeroDivisionError: division by zero</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_mark_xfail.py:11: ZeroDivisionError</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_mark_xfail.py::test_c </span><br><span class="hljs-string">XFAIL ([NOTRUN] )                                      [ 75%]</span><br><span class="hljs-string">cls = &lt;class &#x27;_pytest.runner.CallInfo&#x27;&gt;</span><br><span class="hljs-string">func = &lt;function call_runtest_hook.&lt;locals&gt;.&lt;lambda&gt; at 0x0000015C2E6DA5E0&gt;</span><br><span class="hljs-string">when = &#x27;setup&#x27;</span><br><span class="hljs-string">reraise = (&lt;class &#x27;_pytest.outcomes.Exit&#x27;&gt;, &lt;class &#x27;KeyboardInterrupt&#x27;&gt;)</span><br><span class="hljs-string"></span><br><span class="hljs-string">    @classmethod</span><br><span class="hljs-string">    def from_call(</span><br><span class="hljs-string">        cls,</span><br><span class="hljs-string">        func: &quot;Callable[[], TResult]&quot;,</span><br><span class="hljs-string">        when: &quot;Literal[&#x27;collect&#x27;, &#x27;setup&#x27;, &#x27;call&#x27;, &#x27;teardown&#x27;]&quot;,</span><br><span class="hljs-string">        reraise: Optional[</span><br><span class="hljs-string">            Union[Type[BaseException], Tuple[Type[BaseException], ...]]</span><br><span class="hljs-string">        ] = None,</span><br><span class="hljs-string">    ) -&gt; &quot;CallInfo[TResult]&quot;:</span><br><span class="hljs-string">        excinfo = None</span><br><span class="hljs-string">        start = timing.time()</span><br><span class="hljs-string">        precise_start = timing.perf_counter()</span><br><span class="hljs-string">        try:</span><br><span class="hljs-string">&gt;           result: Optional[TResult] = func()</span><br><span class="hljs-string"></span><br><span class="hljs-string">D:\A3\lib\site-packages\_pytest\runner.py:311: </span><br><span class="hljs-string">_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ </span><br><span class="hljs-string">D:\A3\lib\site-packages\_pytest\runner.py:255: in &lt;lambda&gt;</span><br><span class="hljs-string">    lambda: ihook(item=item, **kwds), when=when, reraise=reraise</span><br><span class="hljs-string">D:\A3\lib\site-packages\pluggy\hooks.py:286: in __call__</span><br><span class="hljs-string">    return self._hookexec(self, self.get_hookimpls(), kwargs)</span><br><span class="hljs-string">D:\A3\lib\site-packages\pluggy\manager.py:93: in _hookexec</span><br><span class="hljs-string">    return self._inner_hookexec(hook, methods, kwargs)</span><br><span class="hljs-string">D:\A3\lib\site-packages\pluggy\manager.py:84: in &lt;lambda&gt;</span><br><span class="hljs-string">    self._inner_hookexec = lambda hook, methods, kwargs: hook.multicall(</span><br><span class="hljs-string">_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ </span><br><span class="hljs-string"></span><br><span class="hljs-string">item = &lt;Function test_c&gt;</span><br><span class="hljs-string"></span><br><span class="hljs-string">    @hookimpl(tryfirst=True)</span><br><span class="hljs-string">    def pytest_runtest_setup(item: Item) -&gt; None:</span><br><span class="hljs-string">        skipped = evaluate_skip_marks(item)</span><br><span class="hljs-string">        item._store[skipped_by_mark_key] = skipped is not None</span><br><span class="hljs-string">        if skipped:</span><br><span class="hljs-string">            skip(skipped.reason)</span><br><span class="hljs-string"></span><br><span class="hljs-string">        item._store[xfailed_key] = xfailed = evaluate_xfail_marks(item)</span><br><span class="hljs-string">        if xfailed and not item.config.option.runxfail and not xfailed.run:</span><br><span class="hljs-string">&gt;           xfail(&quot;[NOTRUN] &quot; + xfailed.reason)</span><br><span class="hljs-string">E           _pytest.outcomes.XFailed: [NOTRUN]</span><br><span class="hljs-string"></span><br><span class="hljs-string">D:\A3\lib\site-packages\_pytest\skipping.py:249: XFailed</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_mark_xfail.py::test_d </span><br><span class="hljs-string">XFAIL                                                  [100%]</span><br><span class="hljs-string">@pytest.mark.xfail(strict=True)</span><br><span class="hljs-string">    def test_d():</span><br><span class="hljs-string">&gt;       assert False</span><br><span class="hljs-string">E       assert False</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_mark_xfail.py:21: AssertionError</span><br><span class="hljs-string">============================= 4 xfailed in 0.47s =============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>



<h2 id="2-4-pytest-skip"><a href="#2-4-pytest-skip" class="headerlink" title="2-4 pytest.skip()"></a>2-4 pytest.skip()</h2><ul>
<li>pytest.skip()<ul>
<li>Áî®‰∫éË∑≥ËøáÁâπÂÆöÊµãËØïÁî®‰æãÁöÑÊâßË°åÔºåÂèØ‰ª•Âú®ÊµãËØïÂáΩÊï∞„ÄÅÊñπÊ≥ïÊàñÁ±ª‰∏ä‰ΩøÁî®„ÄÇ</li>
<li>ÈÄöÂ∏∏Áî®‰∫éÊüêÂäüËÉΩÂ∞öÊú™ÂÆûÁé∞Ôºå‰ΩÜÂ∑≤ÁºñÂÜô‰∫ÜÊµãËØïÁî®‰æãÔºåÊöÇÊó∂Ë∑≥ËøáËøô‰∫õÁî®‰æãÁöÑÊÉÖÂÜµ„ÄÇ</li>
<li>ÊàñËÄÖÊµãËØïÁî®‰æã‰æùËµñ‰∫éÊüê‰∫õÊù°‰ª∂Ôºå‰ΩÜËøô‰∫õÊù°‰ª∂ÂΩìÂâç‰∏çÊª°Ë∂≥ÔºåÂõ†Ê≠§Ë∑≥ËøáËøô‰∫õÁî®‰æã„ÄÇ</li>
</ul>
</li>
</ul>
<h3 id="1-test-skip-msg-py"><a href="#1-test-skip-msg-py" class="headerlink" title="(1) test_skip_msg.py"></a>(1) test_skip_msg.py</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_skip_msg.py</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_case</span>():<br>    n = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;---use case <span class="hljs-subst">&#123;n&#125;</span> execution---&quot;</span>)<br>        n += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">if</span> n == <span class="hljs-number">5</span>:                                      <span class="hljs-comment"># pytest.skip(msg=&quot;&quot;)</span><br>            pytest.skip(<span class="hljs-string">&quot;---use case 5 exit---&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    pytest.main([<span class="hljs-string">&quot;-s&quot;</span>, <span class="hljs-string">&quot;test_skip_msg.py&quot;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">pytest test_skip_msg.py                                 # test_skip_msg.py s</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 1 item</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_skip_msg.py::test_case </span><br><span class="hljs-string">SKIPPED (---use case 5 exit---)                         [100%]---use case 0 execution---</span><br><span class="hljs-string">---use case 1 execution---</span><br><span class="hljs-string">---use case 2 execution---</span><br><span class="hljs-string">---use case 3 execution---</span><br><span class="hljs-string">---use case 4 execution---</span><br><span class="hljs-string"></span><br><span class="hljs-string">Skipped: ---use case 5 exit---</span><br><span class="hljs-string">============================= 1 skipped in 0.15s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>



<h3 id="2-test-skip-allow-py"><a href="#2-test-skip-allow-py" class="headerlink" title="(2) test_skip_allow.py"></a>(2) test_skip_allow.py</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> sys<br><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_skip_allow.py</span><br><br><span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> sys.platform.startswith(<span class="hljs-string">&quot;darwin&quot;</span>):               <span class="hljs-comment"># allow_module_level=TrueÔºåËÆæÁΩÆË∑≥ËøáÊï¥‰∏™Ê®°Âùó</span><br>    pytest.skip(<span class="hljs-string">&quot;ÊµãËØïÁî®‰æãÂè™Âú®MacÂπ≥Âè∞‰∏äÊâßË°å&quot;</span>, allow_module_level=<span class="hljs-literal">True</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case a---&quot;</span>)<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestCase</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case b---&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_c</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case c---&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    pytest.main([<span class="hljs-string">&quot;-s&quot;</span>, <span class="hljs-string">&quot;test_skip_allow.py&quot;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;            ÔºÅÔºÅÔºÅwinÊòØWindowsÂπ≥Âè∞ÔºådarwinÊòØMacÂπ≥Âè∞ÔºåLinuxÊòØLinuxÂπ≥Âè∞            </span><br><span class="hljs-string">pytest test_skip_allow.py                               # collected 0 items / 1 skipped</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... </span><br><span class="hljs-string">Skipped: ÊµãËØïÁî®‰æãÂè™Âú®MacÂπ≥Âè∞‰∏äÊâßË°å</span><br><span class="hljs-string">collected 0 items / 1 skipped</span><br><span class="hljs-string">============================= 1 skipped in 0.04s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>



<h2 id="2-5-pytest-xfail"><a href="#2-5-pytest-xfail" class="headerlink" title="2-5 pytest.xfail()"></a>2-5 pytest.xfail()</h2><ul>
<li>pytest.xfail()<ul>
<li>Áî®‰∫éÊ†áËÆ∞ÊµãËØïÁî®‰æã‰∏∫È¢ÑÊúüÂ§±Ë¥•Áä∂ÊÄÅÔºåÈ¢ÑÊúüÂ§±Ë¥•Âç≥ËØ•ÊµãËØïÁî®‰æãÁöÑÁõÆÊ†áÊòØÂ§±Ë¥•ÁöÑ„ÄÇ</li>
<li>ÂèÇÊï∞reasonÊèê‰æõÈ¢ÑÊúüÂ§±Ë¥•ÁöÑÂéüÂõ†ËØ¥ÊòéÔºåÂèÇÊï∞raisesÂàôÊåáÂÆöÈ¢ÑÊúüÊäõÂá∫ÁöÑÂºÇÂ∏∏Á±ªÂûã„ÄÇ</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_xfail.py</span><br><br><br><span class="hljs-meta">@pytest.xfail(<span class="hljs-params">reason=<span class="hljs-string">&quot;ÊµãËØïÁî®‰æãÈ¢ÑÊúüÂ§±Ë¥•&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>():<br>    <span class="hljs-keyword">assert</span> <span class="hljs-number">2</span> + <span class="hljs-number">2</span> == <span class="hljs-number">5</span><br><br><br><span class="hljs-meta">@pytest.xfail(<span class="hljs-params">raises=ZeroDivisionError</span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>():<br>    <span class="hljs-keyword">assert</span> <span class="hljs-number">10</span> / <span class="hljs-number">0</span> == <span class="hljs-number">5</span><br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    pytest.main([<span class="hljs-string">&quot;-s&quot;</span>, <span class="hljs-string">&quot;test_xfail.py&quot;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">pytest test_xfail.py                                    # collected 0 items / 1 error</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... </span><br><span class="hljs-string">test_xfail.py:None (test_xfail.py)</span><br><span class="hljs-string">test_xfail.py:4: in &lt;module&gt;</span><br><span class="hljs-string">    @pytest.xfail(reason=&quot;ÊµãËØïÁî®‰æãÈ¢ÑÊúüÂ§±Ë¥•&quot;)</span><br><span class="hljs-string">E   _pytest.outcomes.XFailed: ÊµãËØïÁî®‰æãÈ¢ÑÊúüÂ§±Ë¥•</span><br><span class="hljs-string">collected 0 items / 1 error</span><br><span class="hljs-string"></span><br><span class="hljs-string">!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!</span><br><span class="hljs-string">============================== 1 error in 0.34s ===============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>



<h2 id="2-6-Ëá™ÂÆö‰πâË∑≥ËøáÊ†áËØÜ"><a href="#2-6-Ëá™ÂÆö‰πâË∑≥ËøáÊ†áËØÜ" class="headerlink" title="2-6 Ëá™ÂÆö‰πâË∑≥ËøáÊ†áËØÜ"></a>2-6 Ëá™ÂÆö‰πâË∑≥ËøáÊ†áËØÜ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> sys<br><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_skip_tag.py</span><br><br><span class="hljs-comment"># mark_version = pytest.mark.skip(reason=&quot;‰∏çÂú®Win‰∏ãÊâßË°å&quot;)</span><br>mark_version = pytest.mark.skipif(sys.platform != <span class="hljs-string">&quot;win&quot;</span>, reason=<span class="hljs-string">&quot;‰∏çÂú®Win‰∏ãÊâßË°å&quot;</span>)<br><br><br><span class="hljs-meta">@mark_version</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case a---&quot;</span>)<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestCase</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case b---&quot;</span>)<br><br><span class="hljs-meta">    @mark_version</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_c</span>(<span class="hljs-params">self, </span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case c---&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    pytest.main([<span class="hljs-string">&quot;-s&quot;</span>, <span class="hljs-string">&quot;test_skip_tag.py&quot;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">pytest test_skip_tag.py                                 # test_skip_tag.py s.s</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 3 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_skip_tag.py::test_a                                [ 33%]</span><br><span class="hljs-string">SKIPPED (‰∏çÂú®Win‰∏ãÊâßË°å)</span><br><span class="hljs-string">Skipped: ‰∏çÂú®Win‰∏ãÊâßË°å</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_skip_tag.py::TestCase::test_b                      [ 66%]---use case b---</span><br><span class="hljs-string">PASSED</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_skip_tag.py::TestCase::test_c                      [100%]</span><br><span class="hljs-string">SKIPPED (‰∏çÂú®Win‰∏ãÊâßË°å)</span><br><span class="hljs-string">Skipped: ‰∏çÂú®Win‰∏ãÊâßË°å</span><br><span class="hljs-string">======================== 1 passed, 2 skipped in 0.05s =========================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>



<h2 id="2-7-pytest-importorskip"><a href="#2-7-pytest-importorskip" class="headerlink" title="2-7 pytest.importorskip()"></a>2-7 pytest.importorskip()</h2><ul>
<li>pytest.importorskip()<ul>
<li><code>pytest.importorskip(modname: str, minversion: Optional[str] = None, reason: Optional[str] = None)</code></li>
<li>ÂèÇÊï∞ÂàóË°®Ôºömodname-Ê®°ÂùóÂêç„ÄÅminversion-ÁâàÊú¨Âè∑„ÄÅreason-Ë∑≥ËøáÂéüÂõ†ÔºåÊ®°ÂùóÂêçÂøÖÈÄâÔºåÁâàÊú¨Âè∑ÂíåË∑≥ËøáÂéüÂõ†ÈÉΩÊòØÂèØÈÄâÁöÑ„ÄÇ</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_importorskip.py</span><br><br>sys = pytest.importorskip(<span class="hljs-string">&quot;sys&quot;</span>, minversion=<span class="hljs-string">&quot;1.0&quot;</span>)<br><br><br><span class="hljs-meta">@sys</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_case</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---test cases---&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    pytest.main([<span class="hljs-string">&quot;-s&quot;</span>, <span class="hljs-string">&quot;test_importorskip.py&quot;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">pytest test_importorskip.py                             # collected 0 items / 1 skipped</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... </span><br><span class="hljs-string">Skipped: module &#x27;sys&#x27; has __version__ None, required is: &#x27;1.0&#x27;</span><br><span class="hljs-string">collected 0 items / 1 skipped</span><br><span class="hljs-string">============================= 1 skipped in 0.27s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>



<h1 id="3-assertÊñ≠Ë®Ä"><a href="#3-assertÊñ≠Ë®Ä" class="headerlink" title="3 assertÊñ≠Ë®Ä"></a>3 assertÊñ≠Ë®Ä</h1><ul>
<li>assertÊñ≠Ë®Ä<ul>
<li>Âç≥ÂÆûÈôÖÁªìÊûúÂíåÊúüÊúõÁªìÊûúÁöÑÊØîÂØπÔºåÁ¨¶ÂêàÈ¢ÑÊúüÂ∞±passÔºå‰∏çÁ¨¶ÂêàÂàôfailed„ÄÇ</li>
<li>PyTestÂÖÅËÆ∏‰ΩøÁî®Ê†áÂáÜÁöÑPythonÊñ≠Ë®ÄassertÊù•È™åËØÅÊµãËØï‰∏≠ÁöÑÊúüÊúõÂíåÂÄº„ÄÇ</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">f</span>():                                                <span class="hljs-comment"># test_assert.py</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">3</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_function</span>():<br>    <span class="hljs-keyword">assert</span> f() == <span class="hljs-number">5</span><br><br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 1 item</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_assert.py::test_function FAILED                    [100%]</span><br><span class="hljs-string">test_assert.py:4 (test_function)</span><br><span class="hljs-string">3 != 5</span><br><span class="hljs-string"></span><br><span class="hljs-string">Expected :5</span><br><span class="hljs-string">Actual   :3</span><br><span class="hljs-string">&lt;Click to see difference&gt;</span><br><span class="hljs-string"></span><br><span class="hljs-string">def test_function():</span><br><span class="hljs-string">&gt;       assert f() == 5</span><br><span class="hljs-string">E       assert 3 == 5</span><br><span class="hljs-string">E         +3</span><br><span class="hljs-string">E         -5</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_assert.py:6: AssertionError</span><br><span class="hljs-string">============================== 1 failed in 0.33s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>



<h2 id="3-1-ÂºÇÂ∏∏‰ø°ÊÅØ"><a href="#3-1-ÂºÇÂ∏∏‰ø°ÊÅØ" class="headerlink" title="3-1 ÂºÇÂ∏∏‰ø°ÊÅØ"></a>3-1 ÂºÇÂ∏∏‰ø°ÊÅØ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">f</span>():                                                <span class="hljs-comment"># test_exception_message.py</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">3</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_function</span>():<br>    x = f()<br>    <span class="hljs-keyword">assert</span> x % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>, <span class="hljs-string">&quot;Á°ÆÂÆöÊòØÂê¶‰∏∫ÂÅ∂Êï∞ÔºåÂπ∂‰∏îÂΩìÂâçÂÄº‰∏∫%s&quot;</span> % x<br><br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 1 item</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_exception_message.py::test_function FAILED         [100%]</span><br><span class="hljs-string">test_exception_message.py:4 (test_function)</span><br><span class="hljs-string">1 != 0</span><br><span class="hljs-string"></span><br><span class="hljs-string">Expected :0</span><br><span class="hljs-string">Actual   :1</span><br><span class="hljs-string">&lt;Click to see difference&gt;</span><br><span class="hljs-string"></span><br><span class="hljs-string">def test_function():</span><br><span class="hljs-string">        x = f()</span><br><span class="hljs-string">&gt;       assert x % 2 == 0, &quot;Á°ÆÂÆöÊòØÂê¶‰∏∫ÂÅ∂Êï∞ÔºåÂπ∂‰∏îÂΩìÂâçÂÄº‰∏∫%s&quot; % x</span><br><span class="hljs-string">E       AssertionError: Á°ÆÂÆöÊòØÂê¶‰∏∫ÂÅ∂Êï∞ÔºåÂπ∂‰∏îÂΩìÂâçÂÄº‰∏∫3</span><br><span class="hljs-string">E       assert 1 == 0</span><br><span class="hljs-string">E         +1</span><br><span class="hljs-string">E         -0</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_exception_message.py:7: AssertionError</span><br><span class="hljs-string">============================== 1 failed in 0.45s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>



<h2 id="3-2-ÂºÇÂ∏∏Êñ≠Ë®Ä"><a href="#3-2-ÂºÇÂ∏∏Êñ≠Ë®Ä" class="headerlink" title="3-2 ÂºÇÂ∏∏Êñ≠Ë®Ä"></a>3-2 ÂºÇÂ∏∏Êñ≠Ë®Ä</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_anomaly_assertion.py</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_zero_division</span>():<br>    <span class="hljs-keyword">with</span> pytest.raises(ZeroDivisionError):              <span class="hljs-comment"># ‰ΩøÁî®pytest.raises‰Ωú‰∏∫‰∏ä‰∏ãÊñáÁÆ°ÁêÜÂô®</span><br>        <span class="hljs-number">1</span> / <span class="hljs-number">0</span><br><br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 1 item</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_anomaly_assertion.py::test_zero_division PASSED    [100%]</span><br><span class="hljs-string">============================== 1 passed in 0.14s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>

<ul>
<li>ÂºÇÂ∏∏Á±ªÂûã<ul>
<li>Ë¶ÅÂà§Êñ≠ÊäõÂá∫ÁöÑÂºÇÂ∏∏ÊòØÂê¶È¢ÑÊúüÔºå‰æãÂ¶Ç<code>1/0</code>ÊäõÂá∫ÁöÑÂºÇÂ∏∏‰∏∫Ôºö<code>ZeroDivisionError: division by zero</code>„ÄÇ</li>
<li>Êñ≠Ë®ÄËØ•ÂºÇÂ∏∏ÔºåÈÄöÂ∏∏ÊòØÊñ≠Ë®ÄÂºÇÂ∏∏ÁöÑtypeÂíåvalueÂÄºÔºåtypeÊòØZeroDivisionErrorÔºåvalueÊòØdivision by zero„ÄÇ</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_exception_type.py</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_zero_division</span>():                               <span class="hljs-comment"># Êñ≠Ë®ÄÂºÇÂ∏∏</span><br>    <span class="hljs-keyword">with</span> pytest.raises(ZeroDivisionError) <span class="hljs-keyword">as</span> excinfo:   <span class="hljs-comment"># ‰ΩøÁî®pytest.raises‰Ωú‰∏∫‰∏ä‰∏ãÊñáÁÆ°ÁêÜÂô®</span><br>        <span class="hljs-number">1</span> / <span class="hljs-number">0</span><br><br>    <span class="hljs-keyword">assert</span> excinfo.<span class="hljs-built_in">type</span> == ZeroDivisionError            <span class="hljs-comment"># Êñ≠Ë®ÄÂºÇÂ∏∏typeÂÄº</span><br>    <span class="hljs-keyword">assert</span> <span class="hljs-string">&quot;division by zero&quot;</span> <span class="hljs-keyword">in</span> <span class="hljs-built_in">str</span>(excinfo.value)     <span class="hljs-comment"># Êñ≠Ë®ÄÂºÇÂ∏∏valueÂÄº</span><br><br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 1 item</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_exception_type.py::test_zero_division PASSED       [100%]</span><br><span class="hljs-string">============================== 1 passed in 0.12s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>



<h2 id="3-3-Â∏∏Áî®Êñ≠Ë®Ä"><a href="#3-3-Â∏∏Áî®Êñ≠Ë®Ä" class="headerlink" title="3-3 Â∏∏Áî®Êñ≠Ë®Ä"></a>3-3 Â∏∏Áî®Êñ≠Ë®Ä</h2><ul>
<li>Â∏∏Áî®Êñ≠Ë®Ä<ul>
<li><code>assert xx</code>ÔºöÂà§Êñ≠xx‰∏∫Áúü„ÄÇ</li>
<li><code>assert not xx</code>ÔºöÂà§Êñ≠xx‰∏ç‰∏∫Áúü„ÄÇ</li>
<li><code>assert a in b</code>ÔºöÂà§Êñ≠bÂåÖÂê´a„ÄÇ</li>
<li><code>assert a == b</code>ÔºöÂà§Êñ≠aÁ≠â‰∫éb„ÄÇ</li>
<li><code>assert a != b</code>ÔºöÂà§Êñ≠a‰∏çÁ≠â‰∫éb„ÄÇ</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_common_asserts.py</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">is_true</span>(<span class="hljs-params">a</span>):<br>    <span class="hljs-keyword">if</span> a &gt; <span class="hljs-number">0</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_01</span>():<br>    a = <span class="hljs-number">5</span><br>    b = -<span class="hljs-number">1</span><br>    <span class="hljs-keyword">assert</span> is_true(a)                                   <span class="hljs-comment"># Êñ≠Ë®Äa‰∏∫Áúü</span><br>    <span class="hljs-keyword">assert</span> <span class="hljs-keyword">not</span> is_true(b)                               <span class="hljs-comment"># Êñ≠Ë®Äb‰∏ç‰∏∫Áúü</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_02</span>():<br>    a = <span class="hljs-string">&quot;hello&quot;</span><br>    b = <span class="hljs-string">&quot;hello world&quot;</span><br>    <span class="hljs-keyword">assert</span> a <span class="hljs-keyword">in</span> b                                       <span class="hljs-comment"># Êñ≠Ë®ÄbÂåÖÂê´a</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_03</span>():<br>    a = <span class="hljs-string">&quot;Yoyo&quot;</span><br>    b = <span class="hljs-string">&quot;Yoyo&quot;</span><br>    <span class="hljs-keyword">assert</span> a == b                                       <span class="hljs-comment"># Êñ≠Ë®ÄÁõ∏Á≠â</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_04</span>():<br>    a = <span class="hljs-number">5</span><br>    b = <span class="hljs-number">6</span><br>    <span class="hljs-keyword">assert</span> a != b                                       <span class="hljs-comment"># Êñ≠Ë®Ä‰∏çÁõ∏Á≠â</span><br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    pytest.main([<span class="hljs-string">&quot;-s&quot;</span>, <span class="hljs-string">&quot;test_common_asserts.py&quot;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 4 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_common_asserts.py::test_01 PASSED                  [ 25%]</span><br><span class="hljs-string">test_common_asserts.py::test_02 PASSED                  [ 50%]</span><br><span class="hljs-string">test_common_asserts.py::test_03 PASSED                  [ 75%]</span><br><span class="hljs-string">test_common_asserts.py::test_04 PASSED                  [100%]</span><br><span class="hljs-string">============================== 4 passed in 0.14s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>



<h1 id="4-Áî®‰æãËøêË°åÁ∫ßÂà´"><a href="#4-Áî®‰æãËøêË°åÁ∫ßÂà´" class="headerlink" title="4 Áî®‰æãËøêË°åÁ∫ßÂà´"></a>4 Áî®‰æãËøêË°åÁ∫ßÂà´</h1><ul>
<li>Áî®‰æãËøêË°åÁ∫ßÂà´<ul>
<li>Ê®°ÂùóÁ∫ßÔºösetup_module„ÄÅteardown_moduleÔºåÂú®ÊâÄÊúâÁî®‰æãÂâçÂêéÂè™ÊâßË°å‰∏ÄÊ¨°„ÄÇ</li>
<li>ÂáΩÊï∞Á∫ßÔºösetup_function„ÄÅteardown_functionÔºåÂú®ÊâÄÊúâÁî®‰æãÂâçÂêéÈÉΩÊâßË°å‰∏ÄÊ¨°„ÄÇ</li>
<li>Á±ªÁ∫ßÂà´Ôºösetup_class„ÄÅteardown_classÔºåÂú®Á±ª‰∏≠ÁöÑÊâÄÊúâÁî®‰æãÂâçÂêéÂè™ÊâßË°å‰∏ÄÊ¨°„ÄÇ</li>
<li>Á±ªÊñπÊ≥ïÁ∫ßÔºösetup_method„ÄÅteardown_methodÔºåÂú®Á±ª‰∏≠ÁöÑÊâÄÊúâÁî®‰æãÂâçÂêéÈÉΩÊâßË°å‰∏ÄÊ¨°„ÄÇ</li>
<li>Á±ªÊñπÊ≥ïÁªÜÂåñÁ∫ßÔºösetup„ÄÅteardownÔºåËøêË°åËßÑÂàô‰∏éÁ±ªÊñπÊ≥ïÁ∫ßÁõ∏ÂêåÔºåÂú®ÊØè‰∏™Áî®‰æãÂâçÂêéÈÉΩÊâßË°å‰∏ÄÊ¨°„ÄÇ</li>
</ul>
</li>
</ul>
<h2 id="4-1-Ê®°ÂùóÁ∫ß"><a href="#4-1-Ê®°ÂùóÁ∫ß" class="headerlink" title="4-1 Ê®°ÂùóÁ∫ß"></a>4-1 Ê®°ÂùóÁ∫ß</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_module.py</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">setup_module</span>():                                     <span class="hljs-comment"># Ê®°ÂùóÁ∫ß</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---setup_module: Âú®ÊâÄÊúâÁî®‰æãÂâçÂêéÂè™ÊâßË°å‰∏ÄÊ¨°---&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">teardown_module</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---teardown_module: Âú®ÊâÄÊúâÁî®‰æãÂâçÂêéÂè™ÊâßË°å‰∏ÄÊ¨°---&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_one</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---ÊâßË°å‰∏≠---test_one()&quot;</span>)<br>    x = <span class="hljs-string">&quot;this&quot;</span><br>    <span class="hljs-keyword">assert</span> <span class="hljs-string">&quot;h&quot;</span> <span class="hljs-keyword">in</span> x<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_two</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---ÊâßË°å‰∏≠---test_two()&quot;</span>)<br>    x = <span class="hljs-string">&quot;hello&quot;</span><br>    <span class="hljs-keyword">assert</span> <span class="hljs-string">&quot;o&quot;</span> <span class="hljs-keyword">in</span> x<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    pytest.main([<span class="hljs-string">&quot;-s&quot;</span>, <span class="hljs-string">&quot;test_module.py&quot;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 2 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">---setup_module: Âú®ÊâÄÊúâÁî®‰æãÂâçÂêéÂè™ÊâßË°å‰∏ÄÊ¨°---</span><br><span class="hljs-string">test_module.py::test_one PASSED                         [ 50%]---ÊâßË°å‰∏≠---test_one()</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_module.py::test_two PASSED                         [100%]---ÊâßË°å‰∏≠---test_two()</span><br><span class="hljs-string">---teardown_module: Âú®ÊâÄÊúâÁî®‰æãÂâçÂêéÂè™ÊâßË°å‰∏ÄÊ¨°---</span><br><span class="hljs-string">============================== 2 passed in 0.14s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>



<h2 id="4-2-ÂáΩÊï∞Á∫ß"><a href="#4-2-ÂáΩÊï∞Á∫ß" class="headerlink" title="4-2 ÂáΩÊï∞Á∫ß"></a>4-2 ÂáΩÊï∞Á∫ß</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_function.py</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">setup_function</span>():                                   <span class="hljs-comment"># ÂáΩÊï∞Á∫ß</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---setup_function: Âú®ÊâÄÊúâÁî®‰æãÂâçÂêéÈÉΩÊâßË°å‰∏ÄÊ¨°---&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">teardown_function</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---teardown_function: Âú®ÊâÄÊúâÁî®‰æãÂâçÂêéÈÉΩÊâßË°å‰∏ÄÊ¨°---&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_one</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---ÊâßË°å‰∏≠---test_one()&quot;</span>)<br>    x = <span class="hljs-string">&quot;this&quot;</span><br>    <span class="hljs-keyword">assert</span> <span class="hljs-string">&quot;h&quot;</span> <span class="hljs-keyword">in</span> x<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_two</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---ÊâßË°å‰∏≠---test_two()&quot;</span>)<br>    x = <span class="hljs-string">&quot;hello&quot;</span><br>    <span class="hljs-keyword">assert</span> <span class="hljs-string">&quot;o&quot;</span> <span class="hljs-keyword">in</span> x<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    pytest.main([<span class="hljs-string">&quot;-s&quot;</span>, <span class="hljs-string">&quot;test_function.py&quot;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 2 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">---setup_function: Âú®ÊâÄÊúâÁî®‰æãÂâçÂêéÈÉΩÊâßË°å‰∏ÄÊ¨°---</span><br><span class="hljs-string">test_function.py::test_one PASSED                       [ 50%]---ÊâßË°å‰∏≠---test_one()</span><br><span class="hljs-string">---teardown_function: Âú®ÊâÄÊúâÁî®‰æãÂâçÂêéÈÉΩÊâßË°å‰∏ÄÊ¨°---</span><br><span class="hljs-string"></span><br><span class="hljs-string">---setup_function: Âú®ÊâÄÊúâÁî®‰æãÂâçÂêéÈÉΩÊâßË°å‰∏ÄÊ¨°---</span><br><span class="hljs-string">test_function.py::test_two PASSED                       [100%]---ÊâßË°å‰∏≠---test_two()</span><br><span class="hljs-string">---teardown_function: Âú®ÊâÄÊúâÁî®‰æãÂâçÂêéÈÉΩÊâßË°å‰∏ÄÊ¨°---</span><br><span class="hljs-string">============================== 2 passed in 0.04s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>



<h2 id="4-3-Á±ªÁ∫ßÂà´"><a href="#4-3-Á±ªÁ∫ßÂà´" class="headerlink" title="4-3 Á±ªÁ∫ßÂà´"></a>4-3 Á±ªÁ∫ßÂà´</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_class.py</span><br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestCase</span>:                                         <span class="hljs-comment"># Á±ªÁ∫ßÂà´</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">setup_class</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---setup_class: Âú®Á±ª‰∏≠ÁöÑÊâÄÊúâÁî®‰æãÂâçÂêéÂè™ÊâßË°å‰∏ÄÊ¨°---&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">teardown_class</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---teardown_class: Âú®Á±ª‰∏≠ÁöÑÊâÄÊúâÁî®‰æãÂâçÂêéÂè™ÊâßË°å‰∏ÄÊ¨°---&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_one</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---ÊâßË°å‰∏≠---test_one()&quot;</span>)<br>        x = <span class="hljs-string">&quot;this&quot;</span><br>        <span class="hljs-keyword">assert</span> <span class="hljs-string">&quot;h&quot;</span> <span class="hljs-keyword">in</span> x<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_two</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---ÊâßË°å‰∏≠---test_two()&quot;</span>)<br>        x = <span class="hljs-string">&quot;hello&quot;</span><br>        <span class="hljs-keyword">assert</span> <span class="hljs-string">&quot;o&quot;</span> <span class="hljs-keyword">in</span> x<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    pytest.main([<span class="hljs-string">&quot;-s&quot;</span>, <span class="hljs-string">&quot;test_class.py&quot;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 2 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">---setup_class: Âú®Á±ª‰∏≠ÁöÑÊâÄÊúâÁî®‰æãÂâçÂêéÂè™ÊâßË°å‰∏ÄÊ¨°---</span><br><span class="hljs-string">test_class.py::TestCase::test_one PASSED                [ 50%]---ÊâßË°å‰∏≠---test_one()</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_class.py::TestCase::test_two PASSED                [100%]---ÊâßË°å‰∏≠---test_two()</span><br><span class="hljs-string">---teardown_class: Âú®Á±ª‰∏≠ÁöÑÊâÄÊúâÁî®‰æãÂâçÂêéÂè™ÊâßË°å‰∏ÄÊ¨°---</span><br><span class="hljs-string">============================== 2 passed in 0.02s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>



<h2 id="4-4-Á±ªÊñπÊ≥ïÁ∫ß"><a href="#4-4-Á±ªÊñπÊ≥ïÁ∫ß" class="headerlink" title="4-4 Á±ªÊñπÊ≥ïÁ∫ß"></a>4-4 Á±ªÊñπÊ≥ïÁ∫ß</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_method.py</span><br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestCase</span>:                                         <span class="hljs-comment"># Á±ªÊñπÊ≥ïÁ∫ß</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">setup_method</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---setup_method: Âú®Á±ª‰∏≠ÁöÑÊâÄÊúâÁî®‰æãÂâçÂêéÈÉΩÊâßË°å‰∏ÄÊ¨°---&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">teardown_method</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---teardown_method: Âú®Á±ª‰∏≠ÁöÑÊâÄÊúâÁî®‰æãÂâçÂêéÈÉΩÊâßË°å‰∏ÄÊ¨°---&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_one</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---ÊâßË°å‰∏≠---test_one()&quot;</span>)<br>        x = <span class="hljs-string">&quot;this&quot;</span><br>        <span class="hljs-keyword">assert</span> <span class="hljs-string">&quot;h&quot;</span> <span class="hljs-keyword">in</span> x<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_two</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---ÊâßË°å‰∏≠---test_two()&quot;</span>)<br>        x = <span class="hljs-string">&quot;hello&quot;</span><br>        <span class="hljs-keyword">assert</span> <span class="hljs-string">&quot;o&quot;</span> <span class="hljs-keyword">in</span> x<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    pytest.main([<span class="hljs-string">&quot;-s&quot;</span>, <span class="hljs-string">&quot;test_method.py&quot;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 2 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">---setup_method: Âú®Á±ª‰∏≠ÁöÑÊâÄÊúâÁî®‰æãÂâçÂêéÈÉΩÊâßË°å‰∏ÄÊ¨°---</span><br><span class="hljs-string">test_method.py::TestCase::test_one PASSED               [ 50%]---ÊâßË°å‰∏≠---test_one()</span><br><span class="hljs-string">---teardown_method: Âú®Á±ª‰∏≠ÁöÑÊâÄÊúâÁî®‰æãÂâçÂêéÈÉΩÊâßË°å‰∏ÄÊ¨°---</span><br><span class="hljs-string"></span><br><span class="hljs-string">---setup_method: Âú®Á±ª‰∏≠ÁöÑÊâÄÊúâÁî®‰æãÂâçÂêéÈÉΩÊâßË°å‰∏ÄÊ¨°---</span><br><span class="hljs-string">test_method.py::TestCase::test_two PASSED               [100%]---ÊâßË°å‰∏≠---test_two()</span><br><span class="hljs-string">---teardown_method: Âú®Á±ª‰∏≠ÁöÑÊâÄÊúâÁî®‰æãÂâçÂêéÈÉΩÊâßË°å‰∏ÄÊ¨°---</span><br><span class="hljs-string">============================== 2 passed in 0.12s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>



<h2 id="4-5-Á±ªÊñπÊ≥ïÁªÜÂåñÁ∫ß"><a href="#4-5-Á±ªÊñπÊ≥ïÁªÜÂåñÁ∫ß" class="headerlink" title="4-5 Á±ªÊñπÊ≥ïÁªÜÂåñÁ∫ß"></a>4-5 Á±ªÊñπÊ≥ïÁªÜÂåñÁ∫ß</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_fixclass.py</span><br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestCase</span>:                                         <span class="hljs-comment"># Á±ªÊñπÊ≥ïÁªÜÂåñÁ∫ß</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">setup</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---setup: Âú®ÊØè‰∏™Áî®‰æãÂâçÂêéÈÉΩÊâßË°å‰∏ÄÊ¨°---&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">teardown</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---teardown: Âú®ÊØè‰∏™Áî®‰æãÂâçÂêéÈÉΩÊâßË°å‰∏ÄÊ¨°---&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_one</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---ÊâßË°å‰∏≠---test_one()&quot;</span>)<br>        x = <span class="hljs-string">&quot;this&quot;</span><br>        <span class="hljs-keyword">assert</span> <span class="hljs-string">&quot;h&quot;</span> <span class="hljs-keyword">in</span> x<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_two</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---ÊâßË°å‰∏≠---test_two()&quot;</span>)<br>        x = <span class="hljs-string">&quot;hello&quot;</span><br>        <span class="hljs-keyword">assert</span> <span class="hljs-string">&quot;o&quot;</span> <span class="hljs-keyword">in</span> x<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    pytest.main([<span class="hljs-string">&quot;-s&quot;</span>, <span class="hljs-string">&quot;test_fixclass.py&quot;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 2 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">---setup: Âú®ÊØè‰∏™Áî®‰æãÂâçÂêéÈÉΩÊâßË°å‰∏ÄÊ¨°---</span><br><span class="hljs-string">test_fixclass.py::TestCase::test_one PASSED             [ 50%]---ÊâßË°å‰∏≠---test_one()</span><br><span class="hljs-string">---teardown: Âú®ÊØè‰∏™Áî®‰æãÂâçÂêéÈÉΩÊâßË°å‰∏ÄÊ¨°---</span><br><span class="hljs-string"></span><br><span class="hljs-string">---setup: Âú®ÊØè‰∏™Áî®‰æãÂâçÂêéÈÉΩÊâßË°å‰∏ÄÊ¨°---</span><br><span class="hljs-string">test_fixclass.py::TestCase::test_two PASSED             [100%]---ÊâßË°å‰∏≠---test_two()</span><br><span class="hljs-string">---teardown: Âú®ÊØè‰∏™Áî®‰æãÂâçÂêéÈÉΩÊâßË°å‰∏ÄÊ¨°---</span><br><span class="hljs-string">============================== 2 passed in 0.14s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>



<h2 id="4-6-Á±ªÂíåÊñπÊ≥ïÊ∑∑Âêà"><a href="#4-6-Á±ªÂíåÊñπÊ≥ïÊ∑∑Âêà" class="headerlink" title="4-6 Á±ªÂíåÊñπÊ≥ïÊ∑∑Âêà"></a>4-6 Á±ªÂíåÊñπÊ≥ïÊ∑∑Âêà</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_mixclass.py</span><br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestCase</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">setup_class</span>(<span class="hljs-params">self</span>):                              <span class="hljs-comment"># Á±ªÁ∫ß</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---setup_class: Âú®Á±ª‰∏≠ÁöÑÊâÄÊúâÁî®‰æãÂâçÂêéÂè™ÊâßË°å‰∏ÄÊ¨°---&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">teardown_class</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---teardown_class: Âú®Á±ª‰∏≠ÁöÑÊâÄÊúâÁî®‰æãÂâçÂêéÂè™ÊâßË°å‰∏ÄÊ¨°---&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">setup_method</span>(<span class="hljs-params">self</span>):                             <span class="hljs-comment"># ÊñπÊ≥ïÁ∫ß</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---setup_method: Âú®Á±ª‰∏≠ÁöÑÊâÄÊúâÁî®‰æãÂâçÂêéÈÉΩÊâßË°å‰∏ÄÊ¨°---&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">teardown_method</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---teardown_method: Âú®Á±ª‰∏≠ÁöÑÊâÄÊúâÁî®‰æãÂâçÂêéÈÉΩÊâßË°å‰∏ÄÊ¨°---&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">setup</span>(<span class="hljs-params">self</span>):                                    <span class="hljs-comment"># Á±ªÊñπÊ≥ïÁªÜÂåñÁ∫ß</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---setup: Âú®ÊØè‰∏™Áî®‰æãÂâçÂêéÈÉΩÊâßË°å‰∏ÄÊ¨°---&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">teardown</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---teardown: Âú®ÊØè‰∏™Áî®‰æãÂâçÂêéÈÉΩÊâßË°å‰∏ÄÊ¨°---&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_one</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---ÊâßË°å‰∏≠---test_one()&quot;</span>)<br>        x = <span class="hljs-string">&quot;this&quot;</span><br>        <span class="hljs-keyword">assert</span> <span class="hljs-string">&quot;h&quot;</span> <span class="hljs-keyword">in</span> x<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_two</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---ÊâßË°å‰∏≠---test_two()&quot;</span>)<br>        x = <span class="hljs-string">&quot;hello&quot;</span><br>        <span class="hljs-keyword">assert</span> <span class="hljs-string">&quot;o&quot;</span> <span class="hljs-keyword">in</span> x<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    pytest.main([<span class="hljs-string">&quot;-s&quot;</span>, <span class="hljs-string">&quot;test_mixclass.py&quot;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 2 items</span><br><span class="hljs-string">---setup_class: Âú®Á±ª‰∏≠ÁöÑÊâÄÊúâÁî®‰æãÂâçÂêéÂè™ÊâßË°å‰∏ÄÊ¨°---</span><br><span class="hljs-string">---setup_method: Âú®Á±ª‰∏≠ÁöÑÊâÄÊúâÁî®‰æãÂâçÂêéÈÉΩÊâßË°å‰∏ÄÊ¨°---</span><br><span class="hljs-string">---setup: Âú®ÊØè‰∏™Áî®‰æãÂâçÂêéÈÉΩÊâßË°å‰∏ÄÊ¨°---</span><br><span class="hljs-string">test_mixclass.py::TestCase::test_one PASSED             [ 50%]---ÊâßË°å‰∏≠---test_one()</span><br><span class="hljs-string">---teardown: Âú®ÊØè‰∏™Áî®‰æãÂâçÂêéÈÉΩÊâßË°å‰∏ÄÊ¨°---</span><br><span class="hljs-string">---teardown_method: Âú®Á±ª‰∏≠ÁöÑÊâÄÊúâÁî®‰æãÂâçÂêéÈÉΩÊâßË°å‰∏ÄÊ¨°---</span><br><span class="hljs-string"></span><br><span class="hljs-string">---setup_method: Âú®Á±ª‰∏≠ÁöÑÊâÄÊúâÁî®‰æãÂâçÂêéÈÉΩÊâßË°å‰∏ÄÊ¨°---</span><br><span class="hljs-string">---setup: Âú®ÊØè‰∏™Áî®‰æãÂâçÂêéÈÉΩÊâßË°å‰∏ÄÊ¨°---</span><br><span class="hljs-string">test_mixclass.py::TestCase::test_two PASSED             [100%]---ÊâßË°å‰∏≠---test_two()</span><br><span class="hljs-string">---teardown: Âú®ÊØè‰∏™Áî®‰æãÂâçÂêéÈÉΩÊâßË°å‰∏ÄÊ¨°---</span><br><span class="hljs-string">---teardown_method: Âú®Á±ª‰∏≠ÁöÑÊâÄÊúâÁî®‰æãÂâçÂêéÈÉΩÊâßË°å‰∏ÄÊ¨°---</span><br><span class="hljs-string">---teardown_class: Âú®Á±ª‰∏≠ÁöÑÊâÄÊúâÁî®‰æãÂâçÂêéÂè™ÊâßË°å‰∏ÄÊ¨°---</span><br><span class="hljs-string">============================== 2 passed in 0.05s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>



<h2 id="4-7-Ê®°ÂùóÂíåÁ±ªÊ∑∑Âêà"><a href="#4-7-Ê®°ÂùóÂíåÁ±ªÊ∑∑Âêà" class="headerlink" title="4-7 Ê®°ÂùóÂíåÁ±ªÊ∑∑Âêà"></a>4-7 Ê®°ÂùóÂíåÁ±ªÊ∑∑Âêà</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_mixmodule.py</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">setup_module</span>():                                     <span class="hljs-comment"># Ê®°ÂùóÁ∫ß</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---setup_module: Âú®ÊâÄÊúâÁî®‰æãÂâçÂêéÂè™ÊâßË°å‰∏ÄÊ¨°---&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">teardown_module</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---teardown_module: Âú®ÊâÄÊúâÁî®‰æãÂâçÂêéÂè™ÊâßË°å‰∏ÄÊ¨°---&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">setup_function</span>():                                   <span class="hljs-comment"># ÂáΩÊï∞Á∫ß</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---setup_function: Âú®ÊâÄÊúâÁî®‰æãÂâçÂêéÈÉΩÊâßË°å‰∏ÄÊ¨°---&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">teardown_function</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---teardown_function: Âú®ÊâÄÊúâÁî®‰æãÂâçÂêéÈÉΩÊâßË°å‰∏ÄÊ¨°---&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---ÊâßË°å‰∏≠---test_a()&quot;</span>)<br>    x = <span class="hljs-string">&quot;this&quot;</span><br>    <span class="hljs-keyword">assert</span> <span class="hljs-string">&quot;h&quot;</span> <span class="hljs-keyword">in</span> x<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---ÊâßË°å‰∏≠---test_b()&quot;</span>)<br>    x = <span class="hljs-string">&quot;hello&quot;</span><br>    <span class="hljs-keyword">assert</span> <span class="hljs-string">&quot;o&quot;</span> <span class="hljs-keyword">in</span> x<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestCase</span>:                                         <span class="hljs-comment"># Á±ªÁ∫ßÂà´</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">setup_class</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---setup_class: Âú®Á±ª‰∏≠ÁöÑÊâÄÊúâÁî®‰æãÂâçÂêéÂè™ÊâßË°å‰∏ÄÊ¨°---&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">teardown_class</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---teardown_class: Âú®Á±ª‰∏≠ÁöÑÊâÄÊúâÁî®‰æãÂâçÂêéÂè™ÊâßË°å‰∏ÄÊ¨°---&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_c</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---ÊâßË°å‰∏≠---test_c()&quot;</span>)<br>        x = <span class="hljs-string">&quot;class&quot;</span><br>        <span class="hljs-keyword">assert</span> <span class="hljs-string">&quot;c&quot;</span> <span class="hljs-keyword">in</span> x<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_d</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---ÊâßË°å‰∏≠---test_d()&quot;</span>)<br>        x = <span class="hljs-string">&quot;module&quot;</span><br>        <span class="hljs-keyword">assert</span> <span class="hljs-string">&quot;m&quot;</span> <span class="hljs-keyword">in</span> x<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    pytest.main([<span class="hljs-string">&quot;-s&quot;</span>, <span class="hljs-string">&quot;test_mixmodule.py&quot;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;               ÔºÅÔºÅÔºÅÊ≥®ÊÑèÔºöÊ®°ÂùóÁ∫ß‰ºòÂÖàÊùÉÊúÄÂ§ßÔºåÂáΩÊï∞Á∫ßÂíåÁ±ªÁ∫ßÂà´‰∫í‰∏çÂπ≤Ê∂â„ÄÇ               </span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 4 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">---setup_module: Âú®ÊâÄÊúâÁî®‰æãÂâçÂêéÂè™ÊâßË°å‰∏ÄÊ¨°---</span><br><span class="hljs-string">---setup_function: Âú®ÊâÄÊúâÁî®‰æãÂâçÂêéÈÉΩÊâßË°å‰∏ÄÊ¨°---</span><br><span class="hljs-string">test_mixmodule.py::test_a PASSED                        [ 25%]---ÊâßË°å‰∏≠---test_a()</span><br><span class="hljs-string">---teardown_function: Âú®ÊâÄÊúâÁî®‰æãÂâçÂêéÈÉΩÊâßË°å‰∏ÄÊ¨°---</span><br><span class="hljs-string"></span><br><span class="hljs-string">---setup_function: Âú®ÊâÄÊúâÁî®‰æãÂâçÂêéÈÉΩÊâßË°å‰∏ÄÊ¨°---</span><br><span class="hljs-string">test_mixmodule.py::test_b PASSED                        [ 50%]---ÊâßË°å‰∏≠---test_b()</span><br><span class="hljs-string">---teardown_function: Âú®ÊâÄÊúâÁî®‰æãÂâçÂêéÈÉΩÊâßË°å‰∏ÄÊ¨°---</span><br><span class="hljs-string"></span><br><span class="hljs-string">---setup_class: Âú®Á±ª‰∏≠ÁöÑÊâÄÊúâÁî®‰æãÂâçÂêéÂè™ÊâßË°å‰∏ÄÊ¨°---</span><br><span class="hljs-string">test_mixmodule.py::TestCase::test_c PASSED              [ 75%]---ÊâßË°å‰∏≠---test_c()</span><br><span class="hljs-string">test_mixmodule.py::TestCase::test_d PASSED              [100%]---ÊâßË°å‰∏≠---test_d()</span><br><span class="hljs-string">---teardown_class: Âú®Á±ª‰∏≠ÁöÑÊâÄÊúâÁî®‰æãÂâçÂêéÂè™ÊâßË°å‰∏ÄÊ¨°---</span><br><span class="hljs-string"></span><br><span class="hljs-string">---teardown_module: Âú®ÊâÄÊúâÁî®‰æãÂâçÂêéÂè™ÊâßË°å‰∏ÄÊ¨°---</span><br><span class="hljs-string">============================== 4 passed in 0.14s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>



<h1 id="5-fixtureÈ¢ÑÁΩÆÊù°‰ª∂"><a href="#5-fixtureÈ¢ÑÁΩÆÊù°‰ª∂" class="headerlink" title="5 fixtureÈ¢ÑÁΩÆÊù°‰ª∂"></a>5 fixtureÈ¢ÑÁΩÆÊù°‰ª∂</h1><ul>
<li>fixtureÈ¢ÑÁΩÆÊù°‰ª∂<ul>
<li>Áõ∏ÊØîÁî®‰æãËøêË°åÁ∫ßÂà´ÁöÑsetupÂíåteardownÔºåfixtureÁöÑÂëΩÂêçÊñπÂºèÊõ¥‰∏∫ÁÅµÊ¥ª„ÄÇ</li>
<li><code>@pytest.fixture(scope=&quot;function&quot;, params=&quot;None&quot;, autouse=False, ids=None, name=None)</code><ul>
<li>scopeÔºöÁ±ª‰ºº‰∫é‰ΩúÁî®ÂüüÔºåÈªòËÆ§‰∏∫functionÔºåËøòÂèØ‰ª•ÊòØclass„ÄÅmodule„ÄÅsession„ÄÅpackage„ÄÇ</li>
<li>autouseÔºöÈªòËÆ§‰∏∫FalseÔºåÁî®‰æãÊâãÂä®Ë∞ÉÁî®ËØ•fixtureÔºåËã•‰∏∫TrueÂàô‰ΩúÁî®ÂüüÂÜÖÁöÑÁî®‰æãËá™Âä®Ë∞ÉÁî®„ÄÇ</li>
<li>nameÔºöÈªòËÆ§ÁöÑË£ÖÈ•∞Âô®ÂêçÁß∞ÔºåÂêå‰∏ÄÊ®°ÂùóÁöÑfixtureÁõ∏‰∫íË∞ÉÁî®Êó∂ÂèØ‰ª•‰ΩøÁî®‰∏çÂêåÁöÑnameËøõË°åÂëΩÂêç„ÄÇ</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_fixture.py</span><br><br><br><span class="hljs-meta">@pytest.fixture()                                       </span><span class="hljs-comment"># ‰∏çÂ∏¶ÂèÇÊï∞Êó∂ÈªòËÆ§scope=&quot;function&quot;</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">login</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ËØ∑ËæìÂÖ•Ë¥¶Âè∑ÂíåÂØÜÁ†ÅËøõË°åÁôªÂΩï&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>(<span class="hljs-params">login</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case a---&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>():                                           <span class="hljs-comment"># ‰∏ç‰º†ÂèÇlogin</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case b---&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_c</span>(<span class="hljs-params">login</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case c---&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    pytest.main([<span class="hljs-string">&quot;-s&quot;</span>, <span class="hljs-string">&quot;test_fixture.py&quot;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;      ÔºÅÔºÅÔºÅÂÆûÁé∞Âú∫ÊôØÔºöÁî®‰æãaÈúÄË¶ÅÁôªÂΩïÔºåÁî®‰æãb‰∏çÈúÄË¶ÅÁôªÂΩïÔºåÁî®‰æãcÈúÄË¶ÅÁôªÂΩï„ÄÇ         </span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 3 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_fixture.py::test_a ËØ∑ËæìÂÖ•Ë¥¶Âè∑ÂíåÂØÜÁ†ÅËøõË°åÁôªÂΩï</span><br><span class="hljs-string">PASSED                                                  [ 33%]---use case a---</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_fixture.py::test_b </span><br><span class="hljs-string">PASSED                                                  [ 66%]---use case b---</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_fixture.py::test_c ËØ∑ËæìÂÖ•Ë¥¶Âè∑ÂíåÂØÜÁ†ÅËøõË°åÁôªÂΩï</span><br><span class="hljs-string">PASSED                                                  [100%]---use case c---</span><br><span class="hljs-string">============================== 3 passed in 0.04s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>



<h2 id="5-1-conftest-py"><a href="#5-1-conftest-py" class="headerlink" title="5-1 conftest.py"></a>5-1 conftest.py</h2><ul>
<li>conftest.py<ul>
<li>ÈÖçÁΩÆÊñá‰ª∂ÈáåÂèØ‰ª•ÂÆûÁé∞Êï∞ÊçÆÂÖ±‰∫´(Â§ö‰∏™<code>.py</code>Êñá‰ª∂ÁöÑÈ¢ÑÁΩÆÊìç‰Ωú)Ôºå‰∏çÁî®importÔºåPyTestÂ∞±ËÉΩËá™Âä®Êü•ÊâæÈÖçÁΩÆ„ÄÇ</li>
<li>Ê≥®ÊÑèÔºö<code>conftest.py</code>ÈÖçÁΩÆËÑöÊú¨ÂêçÁß∞Âõ∫ÂÆöÔºå‰∏éËøêË°åÁöÑÁî®‰æãË¶ÅÂú®Âêå‰∏™package‰∏ã‰∏îÊúâ<code>__init__.py</code>Êñá‰ª∂„ÄÇ</li>
</ul>
</li>
</ul>
<h3 id="1-conftest-py"><a href="#1-conftest-py" class="headerlink" title="(1) conftest.py"></a>(1) conftest.py</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                            <span class="hljs-comment"># conftest.py</span><br><br><br><span class="hljs-meta">@pytest.fixture()</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">login</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ËØ∑ËæìÂÖ•Ë¥¶Âè∑ÂíåÂØÜÁ†ÅËøõË°åÁôªÂΩï&quot;</span>)<br></code></pre></td></tr></table></figure>



<h3 id="2-test-conftest-py"><a href="#2-test-conftest-py" class="headerlink" title="(2) test_conftest.py"></a>(2) test_conftest.py</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_conftest.py</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>(<span class="hljs-params">login</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case a---&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>():                                           <span class="hljs-comment"># ‰∏ç‰º†ÂèÇlogin</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case b---&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_c</span>(<span class="hljs-params">login</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case c---&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    pytest.main([<span class="hljs-string">&quot;-s&quot;</span>, <span class="hljs-string">&quot;test_conftest.py&quot;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot; ÔºÅÂçïÁã¨ËøêË°åtest_conftest.pyÊó∂ÂèØ‰ª•Ë∞ÉÁî®Âà∞conftest.pyÈÖçÁΩÆÊñá‰ª∂‰∏≠ÁöÑlogin()ÊñπÊ≥ï„ÄÇ</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 3 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_conftest.py::test_a ËØ∑ËæìÂÖ•Ë¥¶Âè∑ÂíåÂØÜÁ†ÅËøõË°åÁôªÂΩï</span><br><span class="hljs-string">PASSED                                                  [ 33%]---use case a---</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_conftest.py::test_b </span><br><span class="hljs-string">PASSED                                                  [ 66%]---use case b---</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_conftest.py::test_c ËØ∑ËæìÂÖ•Ë¥¶Âè∑ÂíåÂØÜÁ†ÅËøõË°åÁôªÂΩï</span><br><span class="hljs-string">PASSED                                                  [100%]---use case c---</span><br><span class="hljs-string">============================== 3 passed in 0.14s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>



<h2 id="5-2-scopeÂÆûÁé∞setup"><a href="#5-2-scopeÂÆûÁé∞setup" class="headerlink" title="5-2 scopeÂÆûÁé∞setup"></a>5-2 scopeÂÆûÁé∞setup</h2><ul>
<li>scopeÂÆûÁé∞setup<ul>
<li>fixtureÁöÑÂèÇÊï∞<code>scope=&quot;module&quot;</code>ÂèØ‰ª•ÂÆûÁé∞Â§ö‰∏™<code>.py</code>Ë∑®Êñá‰ª∂ÂÖ±‰∫´ÂâçÁΩÆ„ÄÇ</li>
<li>module‰ΩúÁî®‰∫éÊï¥‰∏™<code>.py</code>Êñá‰ª∂ÔºåÁî®‰æãË∞ÉÁî®Êó∂ÔºåÂèÇÊï∞ÂÜô‰∏äÂáΩÊï∞ÂêçÁß∞Âç≥ÂèØ„ÄÇ</li>
<li><code>scope=&quot;module&quot;</code>ÂèØ‰ª•ÁêÜËß£‰∏∫Âú®ÊµãËØïÁî®‰æã‰∏≠Âä†‰∏äÂâçÁΩÆÊù°‰ª∂ÔºåÁ±ª‰ººsetup„ÄÇ</li>
</ul>
</li>
</ul>
<h3 id="1-Áî®‰æãÂÖ®Â±ÄË∞ÉÁî®"><a href="#1-Áî®‰æãÂÖ®Â±ÄË∞ÉÁî®" class="headerlink" title="(1) Áî®‰æãÂÖ®Â±ÄË∞ÉÁî®"></a>(1) Áî®‰æãÂÖ®Â±ÄË∞ÉÁî®</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_scope_whole.py</span><br><br><br><span class="hljs-meta">@pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&quot;module&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">open</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ÊâìÂºÄÊµèËßàÂô®Âπ∂ÊâìÂºÄÁôæÂ∫¶È¶ñÈ°µ&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>(<span class="hljs-params"><span class="hljs-built_in">open</span></span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---test case a: ÊêúÁ¥¢ pytest---&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>(<span class="hljs-params"><span class="hljs-built_in">open</span></span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---test case b: ÊêúÁ¥¢ pytest---&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_c</span>(<span class="hljs-params"><span class="hljs-built_in">open</span></span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---test case c: ÊêúÁ¥¢ pytest---&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    pytest.main([<span class="hljs-string">&quot;-s&quot;</span>, <span class="hljs-string">&quot;test_scope_whole.py&quot;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;           ÔºÅÔºÅÔºÅ‰∏â‰∏™Áî®‰æãÈÉΩË∞ÉÁî®‰∫ÜopenÂáΩÊï∞Ôºå‰ΩÜÂè™Âú®Áî®‰æãaÂ§ÑÊâßË°å‰∏ÄÊ¨°„ÄÇ</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 3 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_scope_whole.py::test_a ÊâìÂºÄÊµèËßàÂô®Âπ∂ÊâìÂºÄÁôæÂ∫¶È¶ñÈ°µ</span><br><span class="hljs-string">PASSED                                                  [ 33%]---test case a: ÊêúÁ¥¢ pytest---</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_scope_whole.py::test_b </span><br><span class="hljs-string">PASSED                                                  [ 66%]---test case b: ÊêúÁ¥¢ pytest---</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_scope_whole.py::test_c </span><br><span class="hljs-string">PASSED                                                  [100%]---test case c: ÊêúÁ¥¢ pytest---</span><br><span class="hljs-string">============================== 3 passed in 0.04s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>



<h3 id="2-ÈÉ®ÂàÜÁî®‰æãË∞ÉÁî®"><a href="#2-ÈÉ®ÂàÜÁî®‰æãË∞ÉÁî®" class="headerlink" title="(2) ÈÉ®ÂàÜÁî®‰æãË∞ÉÁî®"></a>(2) ÈÉ®ÂàÜÁî®‰æãË∞ÉÁî®</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_scope_part.py</span><br><br><br><span class="hljs-meta">@pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&quot;module&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">open</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ÊâìÂºÄÊµèËßàÂô®Âπ∂ÊâìÂºÄÁôæÂ∫¶È¶ñÈ°µ&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---test case a: ÊêúÁ¥¢ pytest---&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>(<span class="hljs-params"><span class="hljs-built_in">open</span></span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---test case b: ÊêúÁ¥¢ pytest---&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_c</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---test case c: ÊêúÁ¥¢ pytest---&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    pytest.main([<span class="hljs-string">&quot;-s&quot;</span>, <span class="hljs-string">&quot;test_scope_part.py&quot;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;     ÔºÅÔºÅÔºÅÁî®‰æãaÂíåÁî®‰æãc‰∏çË∞ÉÁî®openÂáΩÊï∞ÔºåÁî®‰æãbË∞ÉÁî®ÔºåÂè™Âú®Áî®‰æãbÂ§ÑÊâßË°å‰∏ÄÊ¨°„ÄÇ</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 3 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_scope_part.py::test_a </span><br><span class="hljs-string">PASSED                                                  [ 33%]---test case a: ÊêúÁ¥¢ pytest---</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_scope_part.py::test_b ÊâìÂºÄÊµèËßàÂô®Âπ∂ÊâìÂºÄÁôæÂ∫¶È¶ñÈ°µ</span><br><span class="hljs-string">PASSED                                                  [ 66%]---test case b: ÊêúÁ¥¢ pytest---</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_scope_part.py::test_c </span><br><span class="hljs-string">PASSED                                                  [100%]---test case c: ÊêúÁ¥¢ pytest---</span><br><span class="hljs-string">============================== 3 passed in 0.14s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>



<h2 id="5-3-yieldÂÆûÁé∞teardown"><a href="#5-3-yieldÂÆûÁé∞teardown" class="headerlink" title="5-3 yieldÂÆûÁé∞teardown"></a>5-3 yieldÂÆûÁé∞teardown</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_yield.py</span><br><br><br><span class="hljs-meta">@pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&quot;module&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">open</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ÊâìÂºÄÊµèËßàÂô®Âπ∂ÊâìÂºÄÁôæÂ∫¶È¶ñÈ°µ&quot;</span>)<br><br>    <span class="hljs-keyword">yield</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ÊâßË°åteardown&quot;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ÂÖ≥Èó≠ÊµèËßàÂô®&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>(<span class="hljs-params"><span class="hljs-built_in">open</span></span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---test case a: ÊêúÁ¥¢ pytest---&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>(<span class="hljs-params"><span class="hljs-built_in">open</span></span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---test case b: ÊêúÁ¥¢ pytest---&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_c</span>(<span class="hljs-params"><span class="hljs-built_in">open</span></span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---test case c: ÊêúÁ¥¢ pytest---&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    pytest.main([<span class="hljs-string">&quot;-s&quot;</span>, <span class="hljs-string">&quot;test_yield.py&quot;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 3 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_yield.py::test_a ÊâìÂºÄÊµèËßàÂô®Âπ∂ÊâìÂºÄÁôæÂ∫¶È¶ñÈ°µ</span><br><span class="hljs-string">PASSED                                                  [ 33%]---test case a: ÊêúÁ¥¢ pytest---</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_yield.py::test_b </span><br><span class="hljs-string">PASSED                                                  [ 66%]---test case b: ÊêúÁ¥¢ pytest---</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_yield.py::test_c </span><br><span class="hljs-string">PASSED                                                  [100%]---test case c: ÊêúÁ¥¢ pytest---</span><br><span class="hljs-string">ÊâßË°åteardown</span><br><span class="hljs-string">ÂÖ≥Èó≠ÊµèËßàÂô®</span><br><span class="hljs-string">============================== 3 passed in 0.05s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>



<h3 id="1-Áî®‰æãÂºÇÂ∏∏"><a href="#1-Áî®‰æãÂºÇÂ∏∏" class="headerlink" title="(1) Áî®‰æãÂºÇÂ∏∏"></a>(1) Áî®‰æãÂºÇÂ∏∏</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_use_case_exception.py</span><br><br><br><span class="hljs-meta">@pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&quot;module&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">open</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ÊâìÂºÄÊµèËßàÂô®Âπ∂ÊâìÂºÄÁôæÂ∫¶È¶ñÈ°µ&quot;</span>)<br><br>    <span class="hljs-keyword">yield</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ÊâßË°åteardown&quot;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ÂÖ≥Èó≠ÊµèËßàÂô®&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>(<span class="hljs-params"><span class="hljs-built_in">open</span></span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---test case a: ÊêúÁ¥¢ pytest---&quot;</span>)<br>    <span class="hljs-keyword">raise</span> NameError                                     <span class="hljs-comment"># Ê®°ÊãüÂºÇÂ∏∏Ôºå‰∏çÂΩ±ÂìçÂÖ∂‰ªñÁî®‰æãÊâßË°å</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>(<span class="hljs-params"><span class="hljs-built_in">open</span></span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---test case b: ÊêúÁ¥¢ pytest---&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_c</span>(<span class="hljs-params"><span class="hljs-built_in">open</span></span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---test case c: ÊêúÁ¥¢ pytest---&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    pytest.main([<span class="hljs-string">&quot;-s&quot;</span>, <span class="hljs-string">&quot;test_use_case_exception.py&quot;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;              ÔºÅÔºÅÔºÅÁî®‰æãÂºÇÂ∏∏Êó∂Ôºå‰∏çÂΩ±ÂìçyieldÂÆûÁé∞teardownÁöÑÊâßË°å„ÄÇ</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 3 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_use_case_exception.py::test_a ÊâìÂºÄÊµèËßàÂô®Âπ∂ÊâìÂºÄÁôæÂ∫¶È¶ñÈ°µ</span><br><span class="hljs-string">FAILED                                                  [ 33%]---test case a: ÊêúÁ¥¢ pytest---</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_use_case_exception.py:12 (test_a)</span><br><span class="hljs-string">open = None</span><br><span class="hljs-string"></span><br><span class="hljs-string">    def test_a(open):</span><br><span class="hljs-string">        print(&quot;---test case a: ÊêúÁ¥¢ pytest---&quot;)</span><br><span class="hljs-string">&gt;       raise NameError                                 # Ê®°ÊãüÂºÇÂ∏∏Ôºå‰∏çÂΩ±ÂìçÂÖ∂‰ªñÁî®‰æãÊâßË°å</span><br><span class="hljs-string">E       NameError</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_use_case_exception.py:15: NameError</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_use_case_exception.py::test_b </span><br><span class="hljs-string">PASSED                                                  [ 66%]---test case b: ÊêúÁ¥¢ pytest---</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_use_case_exception.py::test_c </span><br><span class="hljs-string">PASSED                                                  [100%]---test case c: ÊêúÁ¥¢ pytest---</span><br><span class="hljs-string">ÊâßË°åteardown</span><br><span class="hljs-string">ÂÖ≥Èó≠ÊµèËßàÂô®</span><br><span class="hljs-string">========================= 1 failed, 2 passed in 0.45s =========================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>



<h3 id="2-setupÂºÇÂ∏∏"><a href="#2-setupÂºÇÂ∏∏" class="headerlink" title="(2) setupÂºÇÂ∏∏"></a>(2) setupÂºÇÂ∏∏</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_setup_exception.py</span><br><br><br><span class="hljs-meta">@pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&quot;module&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">open</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ÊâìÂºÄÊµèËßàÂô®Âπ∂ÊâìÂºÄÁôæÂ∫¶È¶ñÈ°µ&quot;</span>)<br>    <span class="hljs-keyword">raise</span> NameError                                     <span class="hljs-comment"># Ê®°ÊãüsetupÂºÇÂ∏∏</span><br><br>    <span class="hljs-keyword">yield</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ÊâßË°åteardown&quot;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ÂÖ≥Èó≠ÊµèËßàÂô®&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>(<span class="hljs-params"><span class="hljs-built_in">open</span></span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---test case a: ÊêúÁ¥¢ pytest---&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>(<span class="hljs-params"><span class="hljs-built_in">open</span></span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---test case b: ÊêúÁ¥¢ pytest---&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_c</span>(<span class="hljs-params"><span class="hljs-built_in">open</span></span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---test case c: ÊêúÁ¥¢ pytest---&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    pytest.main([<span class="hljs-string">&quot;-s&quot;</span>, <span class="hljs-string">&quot;test_setup_exception.py&quot;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 3 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_setup_exception.py::test_a </span><br><span class="hljs-string">ERROR                                                   [ 33%]ÊâìÂºÄÊµèËßàÂô®Âπ∂ÊâìÂºÄÁôæÂ∫¶È¶ñÈ°µ</span><br><span class="hljs-string"></span><br><span class="hljs-string">test setup failed</span><br><span class="hljs-string">@pytest.fixture(scope=&quot;module&quot;)</span><br><span class="hljs-string">    def open():</span><br><span class="hljs-string">        print(&quot;ÊâìÂºÄÊµèËßàÂô®Âπ∂ÊâìÂºÄÁôæÂ∫¶È¶ñÈ°µ&quot;)</span><br><span class="hljs-string">&gt;       raise NameError                                 # Ê®°ÊãüsetupÂºÇÂ∏∏</span><br><span class="hljs-string">E       NameError</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_setup_exception.py:7: NameError</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_setup_exception.py::test_b </span><br><span class="hljs-string">ERROR                                                   [ 66%]</span><br><span class="hljs-string">test setup failed</span><br><span class="hljs-string">@pytest.fixture(scope=&quot;module&quot;)</span><br><span class="hljs-string">    def open():</span><br><span class="hljs-string">        print(&quot;ÊâìÂºÄÊµèËßàÂô®Âπ∂ÊâìÂºÄÁôæÂ∫¶È¶ñÈ°µ&quot;)</span><br><span class="hljs-string">&gt;       raise NameError                                 # Ê®°ÊãüsetupÂºÇÂ∏∏</span><br><span class="hljs-string">E       NameError</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_setup_exception.py:7: NameError</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_setup_exception.py::test_c </span><br><span class="hljs-string">ERROR                                                   [100%]</span><br><span class="hljs-string">test setup failed</span><br><span class="hljs-string">@pytest.fixture(scope=&quot;module&quot;)</span><br><span class="hljs-string">    def open():</span><br><span class="hljs-string">        print(&quot;ÊâìÂºÄÊµèËßàÂô®Âπ∂ÊâìÂºÄÁôæÂ∫¶È¶ñÈ°µ&quot;)</span><br><span class="hljs-string">&gt;       raise NameError                                 # Ê®°ÊãüsetupÂºÇÂ∏∏</span><br><span class="hljs-string">E       NameError</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_setup_exception.py:7: NameError</span><br><span class="hljs-string">============================== 3 errors in 0.37s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>



<h3 id="3-ÈÖçÂêàwith‰ΩøÁî®"><a href="#3-ÈÖçÂêàwith‰ΩøÁî®" class="headerlink" title="(3) ÈÖçÂêàwith‰ΩøÁî®*"></a>(3) ÈÖçÂêàwith‰ΩøÁî®*</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                            <span class="hljs-comment"># test_with.py</span><br><span class="hljs-keyword">import</span> smtplib<br><br><br><span class="hljs-meta">@pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&quot;module&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">smtp</span>():<br>    <span class="hljs-keyword">with</span> smtplib.SMTP(<span class="hljs-string">&quot;smtp.gmail.com&quot;</span>, <span class="hljs-number">587</span>, timeout=<span class="hljs-number">5</span>) <span class="hljs-keyword">as</span> smtp:<br>        <span class="hljs-keyword">yield</span> smtp                                       <span class="hljs-comment"># smtpÂØπË±°Ëá™Âä®ÂÖ≥Èó≠Êó∂ÔºåwithËØ≠Âè•ÁªìÊùü</span><br></code></pre></td></tr></table></figure>



<h2 id="5-4-addfinalizerÁªàÁªìÂáΩÊï∞"><a href="#5-4-addfinalizerÁªàÁªìÂáΩÊï∞" class="headerlink" title="5-4 addfinalizerÁªàÁªìÂáΩÊï∞"></a>5-4 addfinalizerÁªàÁªìÂáΩÊï∞</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_addfinalizer.py</span><br><br><br><span class="hljs-meta">@pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&quot;module&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_addfinalizer</span>(<span class="hljs-params">request</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ÊâìÂºÄÊµèËßàÂô®&quot;</span>)<br>    test = <span class="hljs-string">&quot;test_addfinalizer&quot;</span>                          <span class="hljs-comment"># ÂâçÁΩÆÊìç‰Ωúsetup</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">fin</span>():                                          <span class="hljs-comment"># ÂêéÁΩÆÊìç‰Ωúteardown</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ÂÖ≥Èó≠ÊµèËßàÂô®&quot;</span>)<br><br>    request.addfinalizer(fin)<br>    <span class="hljs-keyword">return</span> test                                         <span class="hljs-comment"># ËøîÂõûÂâçÁΩÆÊìç‰ΩúÁöÑÂèòÈáè</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_case</span>(<span class="hljs-params">test_addfinalizer</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---test cases---&quot;</span>, test_addfinalizer)<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 1 item</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_addfinalizer.py::test_case ÊâìÂºÄÊµèËßàÂô®</span><br><span class="hljs-string">PASSED                                                  [100%]---test cases--- test_addfinalizer</span><br><span class="hljs-string">ÂÖ≥Èó≠ÊµèËßàÂô®</span><br><span class="hljs-string">============================== 1 passed in 0.04s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>



<h2 id="5-5-Ë∞ÉÁî®fixtureÁöÑ3ÁßçÊñπÊ≥ï"><a href="#5-5-Ë∞ÉÁî®fixtureÁöÑ3ÁßçÊñπÊ≥ï" class="headerlink" title="5-5 Ë∞ÉÁî®fixtureÁöÑ3ÁßçÊñπÊ≥ï"></a>5-5 Ë∞ÉÁî®fixtureÁöÑ3ÁßçÊñπÊ≥ï</h2><ul>
<li>Ë∞ÉÁî®fixtureÁöÑ3ÁßçÊñπÊ≥ï<ul>
<li>ÂáΩÊï∞ÊàñÁ±ªÁöÑÊñπÊ≥ï‰∏≠‰º†fixtureÁöÑÂáΩÊï∞ÂèÇÊï∞ÂêçÁß∞„ÄÇ</li>
<li>Áî®Ë£ÖÈ•∞Âô®<code>@pytest.mark.usefixtures()</code>‰øÆÈ•∞„ÄÇ</li>
<li>ËÆæÁΩÆfixtureÁöÑÂèÇÊï∞‰∏∫<code>autouse=True</code>Êù•Ëá™Âä®‰ΩøÁî®„ÄÇ</li>
</ul>
</li>
</ul>
<h3 id="1-Áî®‰æãfixture‰º†ÂèÇ"><a href="#1-Áî®‰æãfixture‰º†ÂèÇ" class="headerlink" title="(1) Áî®‰æãfixture‰º†ÂèÇ"></a>(1) Áî®‰æãfixture‰º†ÂèÇ</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_calling_in_parameter.py</span><br><br><br><span class="hljs-meta">@pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&quot;function&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">start</span>(<span class="hljs-params">request</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---ÂºÄÂßãÊâßË°åÂáΩÊï∞---&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>(<span class="hljs-params">start</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case a---&quot;</span>)<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestCase</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>(<span class="hljs-params">self, start</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case b---&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_c</span>(<span class="hljs-params">self, start</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case c---&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    pytest.main([<span class="hljs-string">&quot;-s&quot;</span>, <span class="hljs-string">&quot;test_calling_in_parameter.py&quot;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 3 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_calling_in_parameter.py::test_a ---ÂºÄÂßãÊâßË°åÂáΩÊï∞---</span><br><span class="hljs-string">PASSED                                                  [ 33%]---use case a---</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_calling_in_parameter.py::TestCase::test_b ---ÂºÄÂßãÊâßË°åÂáΩÊï∞---</span><br><span class="hljs-string">PASSED                                                  [ 66%]---use case b---</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_calling_in_parameter.py::TestCase::test_c ---ÂºÄÂßãÊâßË°åÂáΩÊï∞---</span><br><span class="hljs-string">PASSED                                                  [100%]---use case c---</span><br><span class="hljs-string">============================== 3 passed in 0.06s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>



<h3 id="2-Ë£ÖÈ•∞Âô®usefixtures"><a href="#2-Ë£ÖÈ•∞Âô®usefixtures" class="headerlink" title="(2) Ë£ÖÈ•∞Âô®usefixtures"></a>(2) Ë£ÖÈ•∞Âô®usefixtures</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_calling_usefixtures.py</span><br><br><br><span class="hljs-meta">@pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&quot;function&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">start</span>(<span class="hljs-params">request</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---ÂºÄÂßãÊâßË°åÂáΩÊï∞---&quot;</span>)<br><br><br><span class="hljs-meta">@pytest.mark.usefixtures(<span class="hljs-params"><span class="hljs-string">&quot;start&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>(<span class="hljs-params">start</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case a---&quot;</span>)<br><br><br><span class="hljs-meta">@pytest.mark.usefixtures(<span class="hljs-params"><span class="hljs-string">&quot;start&quot;</span></span>)</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestCase</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>(<span class="hljs-params">self, start</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case b---&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_c</span>(<span class="hljs-params">self, start</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case c---&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    pytest.main([<span class="hljs-string">&quot;-s&quot;</span>, <span class="hljs-string">&quot;test_calling_usefixtures.py&quot;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 3 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_calling_usefixtures.py::test_a ---ÂºÄÂßãÊâßË°åÂáΩÊï∞---</span><br><span class="hljs-string">PASSED                                                  [ 33%]---use case a---</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_calling_usefixtures.py::TestCase::test_b ---ÂºÄÂßãÊâßË°åÂáΩÊï∞---</span><br><span class="hljs-string">PASSED                                                  [ 66%]---use case b---</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_calling_usefixtures.py::TestCase::test_c ---ÂºÄÂßãÊâßË°åÂáΩÊï∞---</span><br><span class="hljs-string">PASSED                                                  [100%]---use case c---</span><br><span class="hljs-string">============================== 3 passed in 0.10s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>



<h3 id="3-ËÆæÁΩÆautouse-x3D-True"><a href="#3-ËÆæÁΩÆautouse-x3D-True" class="headerlink" title="(3) ËÆæÁΩÆautouse&#x3D;True"></a>(3) ËÆæÁΩÆautouse&#x3D;True</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_calling_function.py</span><br><br><br><span class="hljs-meta">@pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&quot;module&quot;</span>, autouse=<span class="hljs-literal">True</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">start</span>(<span class="hljs-params">request</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\n---ÂºÄÂßãÊâßË°åÊ®°Âùó---&quot;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;module: %s&quot;</span> % request.module.__name__)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---ÊâìÂºÄÊµèËßàÂô®---&quot;</span>)<br><br>    <span class="hljs-keyword">yield</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---ÁªìÊùüÊµãËØï---&quot;</span>)<br><br><br><span class="hljs-meta">@pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&quot;function&quot;</span>, autouse=<span class="hljs-literal">True</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">open_home</span>(<span class="hljs-params">request</span>):                                 <span class="hljs-comment"># ÂáΩÊï∞ÂÆûÁé∞</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;function: %s \n---ËøîÂõûÈ¶ñÈ°µ---&quot;</span> % request.function.__name__)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case a---&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case b---&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    pytest.main([<span class="hljs-string">&quot;-s&quot;</span>, <span class="hljs-string">&quot;test_calling_function.py&quot;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 2 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_calling_function.py::test_a </span><br><span class="hljs-string">---ÂºÄÂßãÊâßË°åÊ®°Âùó---</span><br><span class="hljs-string">module: test_calling_function</span><br><span class="hljs-string">---ÊâìÂºÄÊµèËßàÂô®---</span><br><span class="hljs-string">function: test_a </span><br><span class="hljs-string">---ËøîÂõûÈ¶ñÈ°µ---</span><br><span class="hljs-string">PASSED                                                  [ 50%]---use case a---</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_calling_function.py::test_b function: test_b </span><br><span class="hljs-string">---ËøîÂõûÈ¶ñÈ°µ---</span><br><span class="hljs-string">PASSED                                                  [100%]---use case b---</span><br><span class="hljs-string">---ÁªìÊùüÊµãËØï---</span><br><span class="hljs-string">============================== 2 passed in 0.06s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>

<ul>
<li>ËÆæÁΩÆautouse&#x3D;True<ul>
<li>startËÆæÁΩÆscope‰∏∫moduleÁ∫ßÂà´ÔºåÂú®ÂΩìÂâçÁî®‰æãÊ®°Âùó‰∏≠Âè™ÊâßË°å‰∏ÄÊ¨°Ôºå<code>autouse=True</code>Ëá™Âä®‰ΩøÁî®„ÄÇ</li>
<li>open_homeËÆæÁΩÆscope‰∏∫functionÁ∫ßÂà´ÔºåÊØè‰∏™Áî®‰æãÂâçÈÉΩË∞ÉÁî®‰∏ÄÊ¨°Ôºå<code>autouse=True</code>Ëá™Âä®‰ΩøÁî®„ÄÇ</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_calling_class.py</span><br><br><br><span class="hljs-meta">@pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&quot;module&quot;</span>, autouse=<span class="hljs-literal">True</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">start</span>(<span class="hljs-params">request</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\n---ÂºÄÂßãÊâßË°åÊ®°Âùó---&quot;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;module: %s&quot;</span> % request.module.__name__)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---ÊâìÂºÄÊµèËßàÂô®---&quot;</span>)<br><br>    <span class="hljs-keyword">yield</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---ÁªìÊùüÊµãËØï---&quot;</span>)<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestCase</span>:<br><span class="hljs-meta">    @pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&quot;function&quot;</span>, autouse=<span class="hljs-literal">True</span></span>)</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">open_home</span>(<span class="hljs-params">self, request</span>):                       <span class="hljs-comment"># Á±ªÂÆûÁé∞</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;function: %s \n---ËøîÂõûÈ¶ñÈ°µ---&quot;</span> % request.function.__name__)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case a---&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case b---&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    pytest.main([<span class="hljs-string">&quot;-s&quot;</span>, <span class="hljs-string">&quot;test_calling_class.py&quot;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 2 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_calling_class.py::TestCase::test_a </span><br><span class="hljs-string">---ÂºÄÂßãÊâßË°åÊ®°Âùó---</span><br><span class="hljs-string">module: test_calling_class</span><br><span class="hljs-string">---ÊâìÂºÄÊµèËßàÂô®---</span><br><span class="hljs-string">function: test_a </span><br><span class="hljs-string">---ËøîÂõûÈ¶ñÈ°µ---</span><br><span class="hljs-string">PASSED                                                  [ 50%]---use case a---</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_calling_class.py::TestCase::test_b function: test_b </span><br><span class="hljs-string">---ËøîÂõûÈ¶ñÈ°µ---</span><br><span class="hljs-string">PASSED                                                  [100%]---use case b---</span><br><span class="hljs-string">---ÁªìÊùüÊµãËØï---</span><br><span class="hljs-string">============================== 2 passed in 0.04s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>



<h1 id="6-Ëá™ÂÆö‰πâÊ†áËÆ∞mark"><a href="#6-Ëá™ÂÆö‰πâÊ†áËÆ∞mark" class="headerlink" title="6 Ëá™ÂÆö‰πâÊ†áËÆ∞mark"></a>6 Ëá™ÂÆö‰πâÊ†áËÆ∞mark</h1><ul>
<li>Ëá™ÂÆö‰πâÊ†áËÆ∞mark<ul>
<li>Ëá™ÂÆö‰πâÊ†áËÆ∞ÂèØ‰ª•Â∞Ü‰∏Ä‰∏™WebÈ°πÁõÆÂàíÂàÜ‰∏∫Â§ö‰∏™Ê®°ÂùóÔºåÁÑ∂ÂêéÊåáÂÆöÊ®°ÂùóÂêçÁß∞ËøõË°åÊâßË°å„ÄÇ</li>
<li>APPËá™Âä®ÂåñÊó∂ÔºåËã•ÊÉ≥ËÆ©Android‰∏éIOSÂÖ±Áî®‰∏ÄÂ•ó‰ª£Á†ÅÔºå‰πüÂèØ‰ª•‰ΩøÁî®Ê†áËÆ∞ÊåáÂÆöÂêçÁß∞„ÄÇ</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_mark.py</span><br><br><br><span class="hljs-meta">@pytest.mark.a</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>():                                           <span class="hljs-comment"># Ê†áËÆ∞test_a()‰∏∫a</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case a---&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case b---&quot;</span>)<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestCase</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_c</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case c---&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    pytest.main([<span class="hljs-string">&quot;-s&quot;</span>, <span class="hljs-string">&quot;test_mark.py&quot;</span>, <span class="hljs-string">&quot;-m=a&quot;</span>])<br><br><span class="hljs-comment"># pytest -v -m a test_mark.py</span><br><span class="hljs-string">&quot;&quot;&quot; ÔºÅÊ≠§Êó∂aÊ†áÁ≠æ‰∏∫Êú™ËØÜÂà´Ê†áÁ≠æÔºåÊ≤°Ê≥®ÂÜåÁõ¥Êé•‰ΩøÁî®Â∞ÜÂºπÂá∫Ë≠¶Âëä‰ø°ÊÅØÔºå‰∏çÊ≥®ÂÜå‰ªçÂèØÊåëÈÄâÁî®‰æã„ÄÇ</span><br><span class="hljs-string">=========================== test session starts ===============================</span><br><span class="hljs-string">...</span><br><span class="hljs-string">collected 3 items / 2 deselected / 1 selected</span><br><span class="hljs-string">test_mark.py::test_a PASSED                             [100%]</span><br><span class="hljs-string">============================ warnings summary =================================</span><br><span class="hljs-string">...DeprecationWarning: Using or importing the ABCs from &#x27;collections&#x27; instead of from </span><br><span class="hljs-string">&#x27;collections.abc&#x27; is deprecated since Python 3.3, and in 3.10 it will stop working</span><br><span class="hljs-string">    return isinstance(x, collections.Callable)</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_mark.py:4</span><br><span class="hljs-string">  ...\test_mark.py:4: PytestUnknownMarkWarning: Unknown pytest.mark.a - is this a typo?</span><br><span class="hljs-string">  You can register custom marks to avoid this warning - for details, </span><br><span class="hljs-string">  see https://docs.pytest.org/en/stable/mark.html</span><br><span class="hljs-string">    @pytest.mark.a</span><br><span class="hljs-string"></span><br><span class="hljs-string">-- Docs: https://docs.pytest.org/en/stable/warnings.html</span><br><span class="hljs-string">================ 1 passed, 2 deselected, 1 warnings in 0.04s ==================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>

<ul>
<li><a href="https://stitch-top.github.io/2023/03/03/ce-shi-kuang-jia/tf02-pytest-ce-shi-kuang-jia/#1-1-%E7%94%A8%E4%BE%8B%E6%89%A7%E8%A1%8C%E8%A7%84%E5%88%99">Áî®‰æãÊâßË°åËßÑÂàô</a><ul>
<li>ÂëΩ‰ª§Á™óÂè£‰∏ãÂè™ËøêË°åÁî®tagnameÊ†áËÆ∞ÁöÑÊµãËØïÁî®‰æãÊó∂ÔºåÂèØ‰ª•‰ΩøÁî®ÂëΩ‰ª§Ôºö<code>pytest -v -m tagname</code>„ÄÇ</li>
<li>Ëã•‰∏çÊÉ≥ÊâßË°åtagnameÊ†áËÆ∞ÁöÑÁî®‰æãÔºåÊñá‰ª∂ÂÜÖÂÆπÂØπÂ∫î‰øÆÊîπÔºå‰ΩøÁî®ÂëΩ‰ª§Ôºö<code>pytest -v -m &quot;not tagname&quot;</code>„ÄÇ</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_mark.py</span><br><br><br><span class="hljs-meta">@pytest.mark.a</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>():                                           <span class="hljs-comment"># Ê†áËÆ∞test_a()‰∏∫a</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case a---&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case b---&quot;</span>)<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestCase</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_c</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case c---&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    pytest.main([<span class="hljs-string">&quot;-s&quot;</span>, <span class="hljs-string">&quot;test_mark.py&quot;</span>, <span class="hljs-string">&quot;-m=not a&quot;</span>])<br><br><span class="hljs-comment"># pytest -v -m &quot;not a&quot; test_mark.py</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================ test session starts ==============================</span><br><span class="hljs-string">...</span><br><span class="hljs-string">collected 3 items / 1 deselected / 2 selected</span><br><span class="hljs-string">test_mark.py::test_b PASSED                             [ 50%] </span><br><span class="hljs-string">test_mark.py::TestCase::test_c PASSED                   [100%]</span><br><span class="hljs-string">============================= warnings summary ================================</span><br><span class="hljs-string">...DeprecationWarning: Using or importing the ABCs from &#x27;collections&#x27; instead of from </span><br><span class="hljs-string">&#x27;collections.abc&#x27; is deprecated since Python 3.3, and in 3.10 it will stop working</span><br><span class="hljs-string">    return isinstance(x, collections.Callable)</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_mark.py:4</span><br><span class="hljs-string">  ...\test_mark.py:4: PytestUnknownMarkWarning: Unknown pytest.mark.a - is this a typo?  </span><br><span class="hljs-string">  You can register custom marks to avoid this warning - for details, </span><br><span class="hljs-string">  see https://docs.pytest.org/en/stable/mark.html</span><br><span class="hljs-string">    @pytest.mark.a</span><br><span class="hljs-string"></span><br><span class="hljs-string">-- Docs: https://docs.pytest.org/en/stable/warnings.html</span><br><span class="hljs-string">================ 2 passed, 1 deselected, 1 warnings in 0.05s ==================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>



<h2 id="6-1-ÈáçÂÜôÊ≥®ÂÜåÊ†áÁ≠æ"><a href="#6-1-ÈáçÂÜôÊ≥®ÂÜåÊ†áÁ≠æ" class="headerlink" title="6-1 ÈáçÂÜôÊ≥®ÂÜåÊ†áÁ≠æ"></a>6-1 ÈáçÂÜôÊ≥®ÂÜåÊ†áÁ≠æ</h2><ul>
<li>ÈáçÂÜôÊ≥®ÂÜåÊ†áÁ≠æ<ul>
<li>Ê†πÁõÆÂΩïÂàõÂª∫<code>conftest.py</code>Êñá‰ª∂ÔºåÂú®Êñá‰ª∂‰∏≠ÈáçÂÜôpytest_configureÂáΩÊï∞ÁöÑÊñπÂºèÂèØ‰ª•Ê≥®ÂÜåÊ†áÁ≠æ„ÄÇ</li>
<li>ÂáΩÊï∞Âêçpytest_configureÂíåÂèÇÊï∞configÊòØÂõ∫ÂÆöÁöÑÔºåÂîØ‰∏ÄÈúÄË¶ÅÂèòÊõ¥ÁöÑÊòØÊ≥®ÂÜåÊ†áÁ≠æÁöÑÂêçÂ≠óÂíåÊèèËø∞„ÄÇ</li>
</ul>
</li>
</ul>
<h3 id="1-conftest-py-1"><a href="#1-conftest-py-1" class="headerlink" title="(1) conftest.py"></a>(1) conftest.py</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">pytest_configure</span>(<span class="hljs-params">config</span>):                            <span class="hljs-comment"># conftest.py</span><br>    config.addinivalue_line(<br>        <span class="hljs-string">&quot;markers&quot;</span>, <span class="hljs-string">&quot;a: a test&quot;</span><br>    )<br></code></pre></td></tr></table></figure>



<h3 id="2-test-mark-py"><a href="#2-test-mark-py" class="headerlink" title="(2) test_mark.py"></a>(2) test_mark.py</h3><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Powershell">pytest <span class="hljs-literal">-v</span> <span class="hljs-literal">-m</span> a test_mark.py                              <span class="hljs-comment"># test_mark.pyÂÜÖÂÆπ‰∏çÂèò</span><br><span class="hljs-string">&quot;&quot;</span><span class="hljs-string">&quot;</span><br><span class="hljs-string">=========================== test session starts ===============================</span><br><span class="hljs-string">...</span><br><span class="hljs-string">collected 3 items / 2 deselected / 1 selected</span><br><span class="hljs-string">test_mark.py::test_a PASSED                              [100%]</span><br><span class="hljs-string">===================== 1 passed, 2 deselected in 0.04s =========================</span><br><span class="hljs-string">&quot;</span><span class="hljs-string">&quot;&quot;</span><br></code></pre></td></tr></table></figure>



<h2 id="6-2-ÈÖçÁΩÆÊ≥®ÂÜåÊ†áÁ≠æ"><a href="#6-2-ÈÖçÁΩÆÊ≥®ÂÜåÊ†áÁ≠æ" class="headerlink" title="6-2 ÈÖçÁΩÆÊ≥®ÂÜåÊ†áÁ≠æ"></a>6-2 ÈÖçÁΩÆÊ≥®ÂÜåÊ†áÁ≠æ</h2><ul>
<li>ÈÖçÁΩÆÊ≥®ÂÜåÊ†áÁ≠æ<ul>
<li>ËøòÊúâ‰∏ÄÁßçÊõ¥Âä†‰æøÊç∑ÁöÑÊ≥®ÂÜåÊ†áÁ≠æÁöÑÊñπÂºèÔºåÂç≥Âú®<code>pytest.ini</code>ÈÖçÁΩÆÊñá‰ª∂‰∏≠ËøõË°åËØ≠Ê≥ïÈÖçÁΩÆ„ÄÇ</li>
<li>ÂêåÊ†∑Âú®Ê†πÁõÆÂΩïÂàõÂª∫<code>pytest.ini</code>Êñá‰ª∂ÔºåÂè™ÈúÄË¶ÅÂú®Êñá‰ª∂‰∏≠ÁºñÂÜôÂ¶Ç‰∏ãÈÖçÁΩÆÂÜÖÂÆπÂ∞±ÂèØ‰ª•‰∫Ü„ÄÇ</li>
</ul>
</li>
</ul>
<h3 id="1-pytest-ini"><a href="#1-pytest-ini" class="headerlink" title="(1) pytest.ini"></a>(1) pytest.ini</h3><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs Ini"><span class="hljs-section">[pytest]</span>                                                 <span class="hljs-comment"># pytest.ini</span><br><br><br><span class="hljs-attr">markers</span> =<br>    a: a tests<br></code></pre></td></tr></table></figure>



<h3 id="2-test-mark-py-1"><a href="#2-test-mark-py-1" class="headerlink" title="(2) test_mark.py"></a>(2) test_mark.py</h3><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs Powershell">pytest <span class="hljs-literal">-v</span> <span class="hljs-literal">-m</span> <span class="hljs-string">&quot;not a&quot;</span> test_mark.py                        <span class="hljs-comment"># test_mark.pyÂÜÖÂÆπ‰∏çÂèò</span><br><span class="hljs-string">&quot;&quot;</span><span class="hljs-string">&quot;         ÔºÅÔºÅÔºÅËØ•ÊñπÊ≥ï‰æøÊç∑ÁÆÄÂçïÔºåÂÆûÈôÖËá™Âä®ÂåñËÑöÊú¨ÂºÄÂèëÊó∂ÔºåÊõ¥Êé®Ëçê‰ΩøÁî®„ÄÇ               </span><br><span class="hljs-string">============================ test session starts ==============================</span><br><span class="hljs-string">...</span><br><span class="hljs-string">collected 3 items / 1 deselected / 2 selected</span><br><span class="hljs-string">test_mark.py::test_b PASSED                              [ 50%] </span><br><span class="hljs-string">test_mark.py::TestCase::test_c PASSED                    [100%]</span><br><span class="hljs-string">===================== 2 passed, 1 deselected in 0.03s =========================</span><br><span class="hljs-string">&quot;</span><span class="hljs-string">&quot;&quot;</span><br></code></pre></td></tr></table></figure>



<h2 id="6-3-ÁÅµÊ¥ªÊåëÈÄâÁî®‰æã"><a href="#6-3-ÁÅµÊ¥ªÊåëÈÄâÁî®‰æã" class="headerlink" title="6-3 ÁÅµÊ¥ªÊåëÈÄâÁî®‰æã"></a>6-3 ÁÅµÊ¥ªÊåëÈÄâÁî®‰æã</h2><h3 id="1-pytest-ini-1"><a href="#1-pytest-ini-1" class="headerlink" title="(1) pytest.ini"></a>(1) pytest.ini</h3><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Ini"><span class="hljs-section">[pytest]</span>                                                 <span class="hljs-comment"># pytest.ini</span><br><br><br><span class="hljs-attr">markers</span> =<br>    a: a tests<br>    b: b tests<br>    function: function tests<br></code></pre></td></tr></table></figure>



<h3 id="2-test-mark-flexible-py"><a href="#2-test-mark-flexible-py" class="headerlink" title="(2) test_mark_flexible.py"></a>(2) test_mark_flexible.py</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_mark_flexible.py</span><br><br><br><span class="hljs-meta">@pytest.mark.a                                          </span><span class="hljs-comment"># ÊØè‰∏™ÊµãËØïÂáΩÊï∞ÂèØ‰ª•Ëá™ÂÆö‰πâÂ§ö‰∏™Ê†áÁ≠æ</span><br><span class="hljs-meta">@pytest.mark.function                                   </span><span class="hljs-comment"># ÂÆûÈôÖÂºÄÂèë‰∏≠Êüê‰∫õÁî®‰æãÊó¢ÂèØÁî®‰ΩúÂäüËÉΩÁî®‰æã</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>():                                           <span class="hljs-comment"># ‰πüÂèØ‰ª•Áî®‰ΩúÂÜíÁÉüÊµãËØïÁî®‰æã</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case a---&quot;</span>)<br><br><br><span class="hljs-meta">@pytest.mark.b</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case b---&quot;</span>)<br><br><br><span class="hljs-meta">@pytest.mark.function</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestCase</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_c</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case c---&quot;</span>)<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">pytest -v -m a test_mark_flexible.py</span><br><span class="hljs-string">pytest -v -m &quot;not a&quot; test_mark_flexible.py</span><br><span class="hljs-string">pytest -v -m &quot;a and b&quot; test_mark_flexible.py</span><br><span class="hljs-string">pytest -v -m &quot;a or function&quot; test_mark_flexible.py</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>



<h1 id="7-Áî®‰æãÁöÑÂèÇÊï∞ÂåñËÆæÁΩÆ"><a href="#7-Áî®‰æãÁöÑÂèÇÊï∞ÂåñËÆæÁΩÆ" class="headerlink" title="7 Áî®‰æãÁöÑÂèÇÊï∞ÂåñËÆæÁΩÆ"></a>7 Áî®‰æãÁöÑÂèÇÊï∞ÂåñËÆæÁΩÆ</h1><ul>
<li>Áî®‰æãÁöÑÂèÇÊï∞ÂåñËÆæÁΩÆ<ul>
<li>ÂèÇÊï∞ÂåñÊñπÂºèÊúâ‰∏§ÁßçÔºöparametrizeÂèÇÊï∞ÂåñÂíåfixtureÂèÇÊï∞Âåñ„ÄÇ</li>
<li>‰ΩøÁî®<code>@pytest.mark.parametrize</code>Ë£ÖÈ•∞Âô®ÂÆûÁé∞Áî®‰æãÁöÑÂèÇÊï∞Âåñ„ÄÇ</li>
<li>parametrizeËøòÂèØ‰ª•ÁªìÂêàÂÜÖÁΩÆÂáΩÊï∞ÔºåÊ†áËÆ∞ÊµãËØïÂÆû‰æãËøõË°åÂèÇÊï∞Âåñ„ÄÇ</li>
</ul>
</li>
</ul>
<h2 id="7-1-parametrize"><a href="#7-1-parametrize" class="headerlink" title="7-1 parametrize"></a>7-1 parametrize</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_param.py</span><br><br><br><span class="hljs-meta">@pytest.mark.parametrize(<span class="hljs-params"><span class="hljs-string">&quot;test_input, expected&quot;</span>, [(<span class="hljs-params"><span class="hljs-string">&quot;3+3&quot;</span>, <span class="hljs-number">6</span></span>), (<span class="hljs-params"><span class="hljs-string">&quot;2+4&quot;</span>, <span class="hljs-number">6</span></span>), (<span class="hljs-params"><span class="hljs-string">&quot;6*1&quot;</span>, <span class="hljs-number">6</span></span>)]</span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_eval</span>(<span class="hljs-params">test_input, expected</span>):<br>    <span class="hljs-keyword">assert</span> <span class="hljs-built_in">eval</span>(test_input) == expected<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    pytest.main([<span class="hljs-string">&quot;-s&quot;</span>, <span class="hljs-string">&quot;test_param.py&quot;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 3 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_param.py::test_eval[3+3-6] PASSED                  [ 33%]</span><br><span class="hljs-string">test_param.py::test_eval[2+4-6] PASSED                  [ 66%]</span><br><span class="hljs-string">test_param.py::test_eval[6*1-6] PASSED                  [100%]</span><br><span class="hljs-string">============================== 3 passed in 0.67s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>



<h3 id="1-ÁªìÂêàÂÜÖÁΩÆÂáΩÊï∞"><a href="#1-ÁªìÂêàÂÜÖÁΩÆÂáΩÊï∞" class="headerlink" title="(1) ÁªìÂêàÂÜÖÁΩÆÂáΩÊï∞"></a>(1) ÁªìÂêàÂÜÖÁΩÆÂáΩÊï∞</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_param_function.py</span><br><br><br><span class="hljs-meta">@pytest.mark.parametrize(<span class="hljs-params"><span class="hljs-string">&quot;test_input, expected&quot;</span>,</span></span><br><span class="hljs-params"><span class="hljs-meta">                         [(<span class="hljs-params"><span class="hljs-string">&quot;3+3&quot;</span>, <span class="hljs-number">6</span></span>), (<span class="hljs-params"><span class="hljs-string">&quot;2+4&quot;</span>, <span class="hljs-number">6</span></span>), pytest.param(<span class="hljs-params"><span class="hljs-string">&quot;6*1&quot;</span>, <span class="hljs-number">6</span>, marks=pytest.mark.xfail</span>)]</span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_eval</span>(<span class="hljs-params">test_input, expected</span>):<br>    <span class="hljs-keyword">assert</span> <span class="hljs-built_in">eval</span>(test_input) == expected<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    pytest.main([<span class="hljs-string">&quot;-s&quot;</span>, <span class="hljs-string">&quot;test_param_function.py&quot;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 3 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_param_function.py::test_eval[3+3-6] PASSED         [ 33%]</span><br><span class="hljs-string">test_param_function.py::test_eval[2+4-6] PASSED         [ 66%]</span><br><span class="hljs-string">test_param_function.py::test_eval[6*1-6] XPASS          [100%]</span><br><span class="hljs-string">======================== 2 passed, 1 xpassed in 0.14s =========================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>



<h3 id="2-ÂèÇÊï∞ÁªÑÂêà‰ΩøÁî®"><a href="#2-ÂèÇÊï∞ÁªÑÂêà‰ΩøÁî®" class="headerlink" title="(2) ÂèÇÊï∞ÁªÑÂêà‰ΩøÁî®"></a>(2) ÂèÇÊï∞ÁªÑÂêà‰ΩøÁî®</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_param_combination.py</span><br><br><br><span class="hljs-meta">@pytest.mark.parametrize(<span class="hljs-params"><span class="hljs-string">&quot;x&quot;</span>, [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>]</span>)</span><br><span class="hljs-meta">@pytest.mark.parametrize(<span class="hljs-params"><span class="hljs-string">&quot;y&quot;</span>, [<span class="hljs-number">2</span>, <span class="hljs-number">3</span>]</span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_case</span>(<span class="hljs-params">x, y</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Test data: x---%s, y---%s&quot;</span> % (x, y))<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    pytest.main([<span class="hljs-string">&quot;-s&quot;</span>, <span class="hljs-string">&quot;test_param_combination.py&quot;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 4 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_param_combination.py::test_case[2-0] PASSED        [ 25%]Test data: x---0, y---2</span><br><span class="hljs-string">test_param_combination.py::test_case[2-1] PASSED        [ 50%]Test data: x---1, y---2</span><br><span class="hljs-string">test_param_combination.py::test_case[3-0] PASSED        [ 75%]Test data: x---0, y---3</span><br><span class="hljs-string">test_param_combination.py::test_case[3-1] PASSED        [100%]Test data: x---1, y---3</span><br><span class="hljs-string">============================== 4 passed in 0.05s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>



<h3 id="3-ÂáΩÊï∞‰º†ÂèÇÊìç‰Ωú"><a href="#3-ÂáΩÊï∞‰º†ÂèÇÊìç‰Ωú" class="headerlink" title="(3) ÂáΩÊï∞‰º†ÂèÇÊìç‰Ωú"></a>(3) ÂáΩÊï∞‰º†ÂèÇÊìç‰Ωú</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_param_in.py</span><br><br>info = [(<span class="hljs-string">&quot;admin&quot;</span>, <span class="hljs-string">&quot;12345&quot;</span>), (<span class="hljs-string">&quot;admin&quot;</span>, <span class="hljs-string">&quot;&quot;</span>)]              <span class="hljs-comment"># ÊµãËØïÁôªÂΩïÊï∞ÊçÆ</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">login</span>(<span class="hljs-params">username, password</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Ë¥¶Êà∑: %s&quot;</span> % username)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ÂØÜÁ†Å: %s&quot;</span> % password)<br>    <span class="hljs-keyword">if</span> password:<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br><br><br><span class="hljs-meta">@pytest.mark.parametrize(<span class="hljs-params"><span class="hljs-string">&quot;username, password&quot;</span>, info</span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_login</span>(<span class="hljs-params">username, password</span>):<br>    result = login(username, password)<br>    <span class="hljs-keyword">assert</span> result == <span class="hljs-literal">True</span>, <span class="hljs-string">&quot;Êä•ÈîôÂéüÂõ†ÔºöÂØÜÁ†Å‰∏∫Á©∫&quot;</span><br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    pytest.main([<span class="hljs-string">&quot;-s&quot;</span>, <span class="hljs-string">&quot;test_param_in.py&quot;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 2 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_param_in.py::test_login[admin-12345] PASSED        [ 50%]Ë¥¶Êà∑: admin</span><br><span class="hljs-string">ÂØÜÁ†Å: 12345</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_param_in.py::test_login[admin-] FAILED             [100%]Ë¥¶Êà∑: admin</span><br><span class="hljs-string">ÂØÜÁ†Å: </span><br><span class="hljs-string"></span><br><span class="hljs-string">test_param_in.py:14 (test_login[admin-])</span><br><span class="hljs-string">False != True</span><br><span class="hljs-string"></span><br><span class="hljs-string">Expected :True</span><br><span class="hljs-string">Actual   :False</span><br><span class="hljs-string">&lt;Click to see difference&gt;</span><br><span class="hljs-string"></span><br><span class="hljs-string">username = &#x27;admin&#x27;, password = &#x27;&#x27;</span><br><span class="hljs-string"></span><br><span class="hljs-string">    @pytest.mark.parametrize(&quot;username, password&quot;, info)</span><br><span class="hljs-string">    def test_login(username, password):</span><br><span class="hljs-string">        result = login(username, password)</span><br><span class="hljs-string">&gt;       assert result == True, &quot;Êä•ÈîôÂéüÂõ†ÔºöÂØÜÁ†Å‰∏∫Á©∫&quot;</span><br><span class="hljs-string">E       AssertionError: Êä•ÈîôÂéüÂõ†ÔºöÂØÜÁ†Å‰∏∫Á©∫</span><br><span class="hljs-string">E       assert False == True</span><br><span class="hljs-string">E         +False</span><br><span class="hljs-string">E         -True</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_param_in.py:18: AssertionError</span><br><span class="hljs-string">========================= 1 failed, 1 passed in 0.41s =========================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>



<h2 id="7-2-fixture‰º†ÂèÇ"><a href="#7-2-fixture‰º†ÂèÇ" class="headerlink" title="7-2 fixture‰º†ÂèÇ"></a>7-2 fixture‰º†ÂèÇ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_fixture.py</span><br><br>info = [<span class="hljs-string">&quot;admin1&quot;</span>, <span class="hljs-string">&quot;admin2&quot;</span>]                             <span class="hljs-comment"># ÊµãËØïË¥¶Âè∑Êï∞ÊçÆ</span><br><br><br><span class="hljs-meta">@pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&quot;module&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">login</span>(<span class="hljs-params">request</span>):<br>    user = request.param<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ÁôªÈôÜË¥¶Êà∑: %s&quot;</span> % user)<br>    <span class="hljs-keyword">return</span> user<br><br><br><span class="hljs-meta">@pytest.mark.parametrize(<span class="hljs-params"><span class="hljs-string">&quot;login&quot;</span>, info, indirect=<span class="hljs-literal">True</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_login</span>(<span class="hljs-params">login</span>):                                  <span class="hljs-comment"># indirect=TrueÂ£∞ÊòéloginÊòØ‰∏Ä‰∏™ÂáΩÊï∞</span><br>    value = login<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ÊµãËØïÁî®‰æã‰∏≠ÁôªÂΩïÁöÑËøîÂõûÂÄº: %s&quot;</span> % value)<br>    <span class="hljs-keyword">assert</span> value != <span class="hljs-string">&quot;&quot;</span><br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    pytest.main([<span class="hljs-string">&quot;-s&quot;</span>, <span class="hljs-string">&quot;test_fixture.py&quot;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 2 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_fixture.py::test_login[admin1] ÁôªÈôÜË¥¶Êà∑: admin1</span><br><span class="hljs-string">PASSED                                                  [ 50%]ÊµãËØïÁî®‰æã‰∏≠ÁôªÂΩïÁöÑËøîÂõûÂÄº: admin1</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_fixture.py::test_login[admin2] ÁôªÈôÜË¥¶Êà∑: admin2</span><br><span class="hljs-string">PASSED                                                  [100%]ÊµãËØïÁî®‰æã‰∏≠ÁôªÂΩïÁöÑËøîÂõûÂÄº: admin2</span><br><span class="hljs-string">============================== 2 passed in 0.64s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>



<h3 id="1-‰º†‰∏§‰∏™ÂèÇÊï∞"><a href="#1-‰º†‰∏§‰∏™ÂèÇÊï∞" class="headerlink" title="(1) ‰º†‰∏§‰∏™ÂèÇÊï∞"></a>(1) ‰º†‰∏§‰∏™ÂèÇÊï∞</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_fixture_two.py</span><br><br>info = [&#123;<span class="hljs-string">&quot;username&quot;</span>: <span class="hljs-string">&quot;admin1&quot;</span>, <span class="hljs-string">&quot;password&quot;</span>: <span class="hljs-string">&quot;12345&quot;</span>&#125;,<br>        &#123;<span class="hljs-string">&quot;username&quot;</span>: <span class="hljs-string">&quot;admin2&quot;</span>, <span class="hljs-string">&quot;password&quot;</span>: <span class="hljs-string">&quot;&quot;</span>&#125;]         <span class="hljs-comment"># ÊµãËØïÁôªÂΩïÊï∞ÊçÆÔºå‰º†Â§ö‰∏™ÂèÇÊï∞Áî®Â≠óÂÖ∏Â≠òÂÇ®</span><br><br><br><span class="hljs-meta">@pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&quot;module&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">login</span>(<span class="hljs-params">request</span>):<br>    user = request.param[<span class="hljs-string">&quot;username&quot;</span>]<br>    password = request.param[<span class="hljs-string">&quot;password&quot;</span>]<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ÁôªÂΩïË¥¶Êà∑: %s&quot;</span> % user)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ÁôªÂΩïÂØÜÁ†Å: %s&quot;</span> % password)<br>    <span class="hljs-keyword">if</span> password:<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br><br><br><span class="hljs-meta">@pytest.mark.parametrize(<span class="hljs-params"><span class="hljs-string">&quot;login&quot;</span>, info, indirect=<span class="hljs-literal">True</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_login</span>(<span class="hljs-params">login</span>):                                  <span class="hljs-comment"># ÁôªÂΩïÁî®‰æã</span><br>    value = login<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ÊµãËØïÁî®‰æã‰∏≠ÁôªÂΩïÁöÑËøîÂõûÂÄº: %s&quot;</span> % value)<br>    <span class="hljs-keyword">assert</span> value, <span class="hljs-string">&quot;Â§±Ë¥•ÂéüÂõ†ÔºöÂØÜÁ†Å‰∏∫Á©∫&quot;</span><br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    pytest.main([<span class="hljs-string">&quot;-s&quot;</span>, <span class="hljs-string">&quot;test_fixture_two.py&quot;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 2 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_fixture_two.py::test_login[login0]  ÁôªÂΩïË¥¶Êà∑: admin1</span><br><span class="hljs-string">ÁôªÂΩïÂØÜÁ†Å: 12345</span><br><span class="hljs-string">PASSED                                                  [ 50%]ÊµãËØïÁî®‰æã‰∏≠ÁôªÂΩïÁöÑËøîÂõûÂÄº: True</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_fixture_two.py::test_login[login1] ÁôªÂΩïË¥¶Êà∑: admin2</span><br><span class="hljs-string">ÁôªÂΩïÂØÜÁ†Å: </span><br><span class="hljs-string">FAILED                                                  [100%]ÊµãËØïÁî®‰æã‰∏≠ÁôªÂΩïÁöÑËøîÂõûÂÄº: False</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_fixture_two.py:18 (test_login[login1])</span><br><span class="hljs-string">login = False</span><br><span class="hljs-string"></span><br><span class="hljs-string">    @pytest.mark.parametrize(&quot;login&quot;, info, indirect=True)</span><br><span class="hljs-string">    def test_login(login):                              # ÁôªÂΩïÁî®‰æã</span><br><span class="hljs-string">        value = login</span><br><span class="hljs-string">        print(&quot;ÊµãËØïÁî®‰æã‰∏≠ÁôªÂΩïÁöÑËøîÂõûÂÄº: %s&quot; % value)</span><br><span class="hljs-string">&gt;       assert value, &quot;Â§±Ë¥•ÂéüÂõ†ÔºöÂØÜÁ†Å‰∏∫Á©∫&quot;</span><br><span class="hljs-string">E       AssertionError: Â§±Ë¥•ÂéüÂõ†ÔºöÂØÜÁ†Å‰∏∫Á©∫</span><br><span class="hljs-string">E       assert False</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_fixture_two.py:23: AssertionError</span><br><span class="hljs-string">========================= 1 failed, 1 passed in 0.35s =========================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>



<h3 id="2-Â§ö‰∏™fixture"><a href="#2-Â§ö‰∏™fixture" class="headerlink" title="(2) Â§ö‰∏™fixture"></a>(2) Â§ö‰∏™fixture</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_fixture_more.py</span><br><br>test_username = [<span class="hljs-string">&quot;admin1&quot;</span>, <span class="hljs-string">&quot;admin2&quot;</span>]                    <span class="hljs-comment"># Áî®‰æãÁªÑÂêàÊòØ2‰∏™ÂèÇÊï∞ÁöÑ‰∏™Êï∞Áõ∏‰πòÔºö2*2</span><br>test_password = [<span class="hljs-string">&quot;12345&quot;</span>, <span class="hljs-string">&quot;12346&quot;</span>]<br><br><br><span class="hljs-meta">@pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&quot;module&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">input_username</span>(<span class="hljs-params">request</span>):<br>    username = request.param<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ÁôªÂΩïË¥¶Êà∑: %s&quot;</span> % username)<br>    <span class="hljs-keyword">return</span> username<br><br><br><span class="hljs-meta">@pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&quot;module&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">input_password</span>(<span class="hljs-params">request</span>):<br>    password = request.param<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ÁôªÂΩïÂØÜÁ†Å: %s&quot;</span> % password)<br>    <span class="hljs-keyword">return</span> password<br><br><br><span class="hljs-meta">@pytest.mark.parametrize(<span class="hljs-params"><span class="hljs-string">&quot;input_username&quot;</span>, test_username, indirect=<span class="hljs-literal">True</span></span>)</span><br><span class="hljs-meta">@pytest.mark.parametrize(<span class="hljs-params"><span class="hljs-string">&quot;input_password&quot;</span>, test_password, indirect=<span class="hljs-literal">True</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_login</span>(<span class="hljs-params">input_username, input_password</span>):<br>    u = input_username<br>    p = input_password<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ÊµãËØïÊï∞ÊçÆ: u---%s, p---%s&quot;</span> % (u, p))<br>    <span class="hljs-keyword">assert</span> p<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    pytest.main([<span class="hljs-string">&quot;-s&quot;</span>, <span class="hljs-string">&quot;test_fixture_more.py&quot;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 4 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_fixture_more.py::test_login[12345-admin1] ÁôªÂΩïË¥¶Êà∑: admin1</span><br><span class="hljs-string">ÁôªÂΩïÂØÜÁ†Å: 12345</span><br><span class="hljs-string">PASSED                                                  [ 25%]ÊµãËØïÊï∞ÊçÆ: u---admin1, p---12345</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_fixture_more.py::test_login[12345-admin2] ÁôªÂΩïË¥¶Êà∑: admin2</span><br><span class="hljs-string">PASSED                                                  [ 50%]ÊµãËØïÊï∞ÊçÆ: u---admin2, p---12345</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_fixture_more.py::test_login[12346-admin2] ÁôªÂΩïÂØÜÁ†Å: 12346</span><br><span class="hljs-string">PASSED                                                  [ 75%]ÊµãËØïÊï∞ÊçÆ: u---admin2, p---12346</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_fixture_more.py::test_login[12346-admin1] ÁôªÂΩïË¥¶Êà∑: admin1</span><br><span class="hljs-string">PASSED                                                  [100%]ÊµãËØïÊï∞ÊçÆ: u---admin1, p---12346</span><br><span class="hljs-string">============================== 4 passed in 0.06s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>



<h1 id="8-ÂëΩ‰ª§Ë°åÂèÇÊï∞ÁöÑÈÖçÁΩÆ"><a href="#8-ÂëΩ‰ª§Ë°åÂèÇÊï∞ÁöÑÈÖçÁΩÆ" class="headerlink" title="8 ÂëΩ‰ª§Ë°åÂèÇÊï∞ÁöÑÈÖçÁΩÆ"></a>8 ÂëΩ‰ª§Ë°åÂèÇÊï∞ÁöÑÈÖçÁΩÆ</h1><ul>
<li>ÂëΩ‰ª§Ë°åÂèÇÊï∞ÁöÑÈÖçÁΩÆ<ul>
<li>Âú®<code>conftest.py</code>Êñá‰ª∂‰∏≠Ê∑ªÂä†ÂëΩ‰ª§Ë°åÈÄâÈ°πÔºåÂëΩ‰ª§Ë°å‰º†ÂÖ•ÂèÇÊï∞<code>--cmdopt</code>ÔºåÁî®‰æãÈúÄÁî®Âà∞Êó∂Âç≥Ë∞ÉÁî®cmdpotÂáΩÊï∞„ÄÇ</li>
<li>ÈÖçÁΩÆÊñá‰ª∂<code>pytest.ini</code>‰πüÂèØ‰ª•ÊîπÂèòpytestÁöÑËøêË°åÊñπÂºèÔºåÊòØ‰∏Ä‰∏™Âõ∫ÂÆöÊñá‰ª∂ÔºåËØªÂèñÈÖçÁΩÆ‰ø°ÊÅØÔºåÊåâÊåáÂÆöÊñπÂºèËøêË°å„ÄÇ</li>
<li>PyTestÊ°ÜÊû∂ÁöÑÈÉ®ÂàÜÊñá‰ª∂ËØ¥Êòé<ul>
<li><code>conftest.py</code>ÔºöÂèÇÊï∞Áî®‰æãÁöÑ‰∏Ä‰∫õfixtureÈÖçÁΩÆ„ÄÇ</li>
<li><code>setup.cfg</code>ÔºöiniÊ†ºÂºèÊñá‰ª∂ÔºåÂΩ±Âìç<code>setup.py</code>ÁöÑË°å‰∏∫„ÄÇ</li>
<li><code>pytest.ini</code>Ôºö‰∏ªÈÖçÁΩÆÊñá‰ª∂ÔºåÊîπÂèòPyTestÁöÑÈªòËÆ§Ë°å‰∏∫„ÄÇ</li>
<li><code>tox.ini</code>Ôºö‰∏é<code>pytest.ini</code>Á±ª‰ººÔºå‰ΩøÁî®toxÂ∑•ÂÖ∑Êó∂ÊâçÁî®„ÄÇ</li>
<li><code>__init__.py</code>ÔºöËØÜÂà´ËØ•Êñá‰ª∂ÊâÄÂú®ÁöÑÊñá‰ª∂Â§π‰∏∫PythonÁöÑpackageÂåÖ„ÄÇ</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="8-1-conftest-py"><a href="#8-1-conftest-py" class="headerlink" title="8-1 conftest.py"></a>8-1 conftest.py</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># conftest.py</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">pytest_addoption</span>(<span class="hljs-params">parser</span>):<br>    parser.addoption(<span class="hljs-string">&quot;--cmdopt&quot;</span>,<br>                     action=<span class="hljs-string">&quot;store&quot;</span>,<br>                     default=<span class="hljs-string">&quot;type1&quot;</span>,<br>                     <span class="hljs-built_in">help</span>=<span class="hljs-string">&quot;myoption: type1 or type2&quot;</span>)<br><br><br><span class="hljs-meta">@pytest.fixture</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">cmdopt</span>(<span class="hljs-params">request</span>):<br>    <span class="hljs-keyword">return</span> request.config.getoption(<span class="hljs-string">&quot;--cmdopt&quot;</span>)<br></code></pre></td></tr></table></figure>



<h3 id="1-‰∏çÂ∏¶ÂèÇÊï∞ÊâßË°å"><a href="#1-‰∏çÂ∏¶ÂèÇÊï∞ÊâßË°å" class="headerlink" title="(1) ‰∏çÂ∏¶ÂèÇÊï∞ÊâßË°å"></a>(1) ‰∏çÂ∏¶ÂèÇÊï∞ÊâßË°å</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_sample.py</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_answer</span>(<span class="hljs-params">cmdopt</span>):<br>    <span class="hljs-keyword">if</span> cmdopt == <span class="hljs-string">&quot;type1&quot;</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---1---&quot;</span>)<br>    <span class="hljs-keyword">elif</span> cmdopt == <span class="hljs-string">&quot;type2&quot;</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---2---&quot;</span>)<br>    <span class="hljs-keyword">assert</span> <span class="hljs-number">0</span><br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    pytest.main([<span class="hljs-string">&quot;-s&quot;</span>, <span class="hljs-string">&quot;test_sample.py&quot;</span>])<br><br><span class="hljs-comment"># pytest -s test_sample.py                              # ‰∏çÂ∏¶ÂèÇÊï∞ÊâßË°åÔºåÈªòËÆ§‰º†type1</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">=========================== test session starts ===============================</span><br><span class="hljs-string">...</span><br><span class="hljs-string">collected 1 item</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_sample.py ---1---</span><br><span class="hljs-string">F</span><br><span class="hljs-string"></span><br><span class="hljs-string">================================ FAILURES =====================================</span><br><span class="hljs-string">_______________________________ test_answer ___________________________________</span><br><span class="hljs-string">cmdopt = &#x27;type1&#x27;</span><br><span class="hljs-string"></span><br><span class="hljs-string">    def test_answer(cmdopt):</span><br><span class="hljs-string">        if cmdopt == &quot;type1&quot;:</span><br><span class="hljs-string">            print(&quot;---1---&quot;)</span><br><span class="hljs-string">        elif cmdopt == &quot;type2&quot;:</span><br><span class="hljs-string">            print(&quot;---2---&quot;)</span><br><span class="hljs-string">&gt;       assert 0</span><br><span class="hljs-string">E       assert 0</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_sample.py:9: AssertionError</span><br><span class="hljs-string">========================== short test summary info ============================</span><br><span class="hljs-string">FAILED test_sample.py::test_answer - assert 0</span><br><span class="hljs-string">============================= 1 failed in 0.28s ===============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>



<h3 id="2-Â∏¶‰∏äÂèÇÊï∞ÊâßË°å"><a href="#2-Â∏¶‰∏äÂèÇÊï∞ÊâßË°å" class="headerlink" title="(2) Â∏¶‰∏äÂèÇÊï∞ÊâßË°å"></a>(2) Â∏¶‰∏äÂèÇÊï∞ÊâßË°å</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># pytest -s test_sample.py --cmdopt=type2               # Â∏¶‰∏äÂèÇÊï∞ÊâßË°å</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">=========================== test session starts ===============================</span><br><span class="hljs-string">...</span><br><span class="hljs-string">collected 1 item</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_sample.py ---2---</span><br><span class="hljs-string">F</span><br><span class="hljs-string"></span><br><span class="hljs-string">================================ FAILURES =====================================</span><br><span class="hljs-string">_______________________________ test_answer ___________________________________</span><br><span class="hljs-string">cmdopt = &#x27;type2&#x27;</span><br><span class="hljs-string"></span><br><span class="hljs-string">    def test_answer(cmdopt):</span><br><span class="hljs-string">        if cmdopt == &quot;type1&quot;:</span><br><span class="hljs-string">            print(&quot;---1---&quot;)</span><br><span class="hljs-string">        elif cmdopt == &quot;type2&quot;:</span><br><span class="hljs-string">            print(&quot;---2---&quot;)</span><br><span class="hljs-string">&gt;       assert 0</span><br><span class="hljs-string">E       assert 0</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_sample.py:9: AssertionError</span><br><span class="hljs-string">========================== short test summary info ============================</span><br><span class="hljs-string">FAILED test_sample.py::test_answer - assert 0</span><br><span class="hljs-string">============================= 1 failed in 0.33s ===============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>



<h2 id="8-2-pytest-iniÈÖçÁΩÆ"><a href="#8-2-pytest-iniÈÖçÁΩÆ" class="headerlink" title="8-2 pytest.iniÈÖçÁΩÆ"></a>8-2 pytest.iniÈÖçÁΩÆ</h2><ul>
<li>pytest.iniÈÖçÁΩÆ<ul>
<li>‰∏Ä‰∏™È°πÁõÆÊúâ‰∏Ä‰∏™<code>pytest.ini</code>Êñá‰ª∂Âç≥ÂèØÔºåÊîæÂú®È°πÁõÆÁöÑÊ†πÁõÆÂΩï‰∏ã„ÄÇ</li>
<li>ÂëΩ‰ª§Á™óÂè£‰∏ã‰ΩøÁî®<code>pytest --help</code>Êåá‰ª§ÔºåÂèØ‰ª•Êü•ÁúãÂà∞<code>pytest.ini</code>Êñá‰ª∂‰∏≠ÁöÑËÆæÁΩÆÈÄâÈ°π„ÄÇ</li>
<li><code>pytest.ini</code>Êñá‰ª∂‰∏çËÉΩÂ∏¶‰∏≠ÊñáÊ≥®ÈáäÔºåÂê¶ÂàôËøêË°åÂ∞ÜÊä•ÈîôÔºö<code>UnicodeDecodeError: &#39;gbk&#39;...illegal multibyte</code>„ÄÇ</li>
<li>addoptsÂèÇÊï∞ÈªòËÆ§Êõ¥ÊîπÂëΩ‰ª§Ë°åÈÄâÈ°πÔºå‰æãÂ¶ÇÔºöÊâßË°åÂÆåÁî®‰æãÈúÄË¶ÅÁîüÊàêÊä•ÂëäÔºå‰ΩøÁî®ÂëΩ‰ª§<code>pytest --html=report.html</code>„ÄÇ</li>
<li>Â∞ÜÁîüÊàêÊä•ÂëäÁöÑÂëΩ‰ª§Âä†ÂÖ•<code>pytest.ini</code>Êñá‰ª∂‰∏≠Ôºå‰∏ãÊ¨°Áõ¥Êé•ÊâßË°å<code>pytest</code>Êåá‰ª§ÔºåPyTestÂ∞±‰ºöÈªòËÆ§Â∏¶‰∏äËøô‰∫õÊñ∞Â¢ûÁöÑÂèÇÊï∞„ÄÇ</li>
</ul>
</li>
</ul>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs Ini"><span class="hljs-section">[pytest]</span>                                                <span class="hljs-comment"># pytest.iniÔºåÊîæÂú®È°πÁõÆÁöÑÊ†πÁõÆÂΩï‰∏ã</span><br><br><br>markers =                                               <span class="hljs-comment"># Ëá™ÂÆö‰πâmarkÊ†áËÆ∞ÁöÑÈÖçÁΩÆÊ≥®ÂÜå</span><br>    a: a tests<br>    b: b tests<br>    function: Function tests<br>    webtest: Run the webtest case<br><br><br><span class="hljs-attr">addopts</span> = --html=report.html                            <span class="hljs-comment"># ÊâßË°åÂÆåÁî®‰æãÁîüÊàêÊä•ÂëäÔºåÈúÄ‰∫ãÂÖàÂÆâË£ÖÂ•ΩÊèí‰ª∂</span><br></code></pre></td></tr></table></figure>

<ul>
<li><a href="https://stitch-top.github.io/2023/03/03/ce-shi-kuang-jia/tf02-pytest-ce-shi-kuang-jia/#6-%E8%87%AA%E5%AE%9A%E4%B9%89%E6%A0%87%E8%AE%B0mark">markÊ†áËÆ∞</a><ul>
<li>‰ΩøÁî®markÊ†áËÆ∞ÂäüËÉΩÔºåÂØπÂêéÁª≠ÂàÜÁ±ªÊµãËØïÁî®‰æãÂçÅÂàÜÊúâÁî®ÔºåÂ∞ÜËá™ÂÆö‰πâÊ†áËÆ∞ÂÜôÂÖ•<code>pytest.ini</code>Êñá‰ª∂‰∏≠ÔºåÊñπ‰æøÁÆ°ÁêÜ„ÄÇ</li>
<li>ÂëΩ‰ª§Á™óÂè£ÂØπÂ∫î<code>pytest.ini</code>Êñá‰ª∂ÊâÄÂú®ÁöÑÊñá‰ª∂Â§π‰∏ãÔºåËæìÂÖ•<code>pytest --markers</code>ÂëΩ‰ª§ÂèØ‰ª•Êü•ÁúãÂà∞Â∑≤ÂÆö‰πâÁöÑÊ†áËÆ∞„ÄÇ</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_xpass.py</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case a---&quot;</span>)<br><br><br><span class="hljs-meta">@pytest.mark.xfail()</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>():<br>    x = <span class="hljs-string">&quot;hello&quot;</span><br>    y = <span class="hljs-string">&quot;hello world&quot;</span><br>    <span class="hljs-keyword">assert</span> x == y<br><br><br><span class="hljs-meta">@pytest.mark.xfail()</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_c</span>():<br>    x = <span class="hljs-string">&quot;hello&quot;</span><br>    y = <span class="hljs-string">&quot;hello world&quot;</span><br>    <span class="hljs-keyword">assert</span> x != y<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    pytest.main([<span class="hljs-string">&quot;-s&quot;</span>, <span class="hljs-string">&quot;test_xpass.py&quot;</span>])                <span class="hljs-comment"># ÊâßË°åÂâçÂÖàÂ∞Üaddopts = --html=report.htmlÊ≥®ÈáäÊéâ</span><br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 3 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_xpass.py::test_a PASSED                            [ 33%]---use case a---</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_xpass.py::test_b XFAIL                             [ 66%]</span><br><span class="hljs-string">@pytest.mark.xfail()</span><br><span class="hljs-string">    def test_b():</span><br><span class="hljs-string">        x = &quot;hello&quot;</span><br><span class="hljs-string">        y = &quot;hello world&quot;</span><br><span class="hljs-string">&gt;       assert x == y</span><br><span class="hljs-string">E       AssertionError: assert &#x27;hello&#x27; == &#x27;hello world&#x27;</span><br><span class="hljs-string">E         - hello world</span><br><span class="hljs-string">E         + hello</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_xpass.py:12: AssertionError</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_xpass.py::test_c XPASS                             [100%]</span><br><span class="hljs-string">=================== 1 passed, 1 xfailed, 1 xpassed in 0.33s ===================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>

<ul>
<li>Á¶ÅÁî®xpass*<ul>
<li>ËÆæÁΩÆ<code>xfail_strict = true</code>ÂèØ‰ª•ËÆ©Ê†áËÆ∞‰∏∫<code>@pytest.mark.xfail</code>‰ΩÜÂÆûÈôÖÈÄöËøáÁöÑÁî®‰æãË¢´Êä•Âëä‰∏∫Â§±Ë¥•„ÄÇ</li>
<li>Âú®<code>test_xpass.py</code>ÂÆû‰æã‰∏≠Ôºåtest_bÂíåtest_cÈÉΩÊ†áËÆ∞‰∏∫Â§±Ë¥•ÔºåËøôÈáåÂ∏åÊúõbÂíåcÁî®‰æã‰∏çÁî®ÊâßË°åÂ∞±ÊòæÁ§∫xfail„ÄÇ</li>
</ul>
</li>
</ul>
<h3 id="1-pytest-ini-2"><a href="#1-pytest-ini-2" class="headerlink" title="(1) pytest.ini"></a>(1) pytest.ini</h3><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs Ini"><span class="hljs-section">[pytest]</span>                                                 <span class="hljs-comment"># pytest.iniÔºåÁ¶ÅÁî®XPASS</span><br><br><br><span class="hljs-attr">xfail_strict</span> = <span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure>



<h3 id="2-test-xpass-py"><a href="#2-test-xpass-py" class="headerlink" title="(2) test_xpass.py"></a>(2) test_xpass.py</h3><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs Powershell"><span class="hljs-comment"># ÂÜçÊ¨°ÊâßË°åtest_xpass.pyÔºåÊü•ÁúãÁªìÊûú</span><br><span class="hljs-string">&quot;&quot;</span><span class="hljs-string">&quot;                ÔºÅÔºÅÔºÅtest_cÁöÑXPASSË¢´Âº∫Âà∂ÊÄßÊ†áËÆ∞‰∏∫FAILED„ÄÇ                   </span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 3 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_xpass.py::test_a PASSED                            [ 33%]---use case a---</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_xpass.py::test_b XFAIL                             [ 66%]</span><br><span class="hljs-string">@pytest.mark.xfail()</span><br><span class="hljs-string">    def test_b():</span><br><span class="hljs-string">        x = &quot;</span>hello<span class="hljs-string">&quot;</span><br><span class="hljs-string">        y = &quot;</span>hello world<span class="hljs-string">&quot;</span><br><span class="hljs-string">&gt;       assert x == y</span><br><span class="hljs-string">E       AssertionError: assert &#x27;hello&#x27; == &#x27;hello world&#x27;</span><br><span class="hljs-string">E         - hello world</span><br><span class="hljs-string">E         + hello</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_xpass.py:13: AssertionError</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_xpass.py::test_c FAILED                            [100%]</span><br><span class="hljs-string">test_xpass.py:15 (test_c)</span><br><span class="hljs-string">[XPASS(strict)] </span><br><span class="hljs-string">============== 1 failed, 1 passed, 1 xfailed, 1 warning in 0.26s ==============</span><br><span class="hljs-string">&quot;</span><span class="hljs-string">&quot;&quot;</span><br></code></pre></td></tr></table></figure>



<h1 id="9-ÁîüÊàêhtmlÊµãËØïÊä•Âëä"><a href="#9-ÁîüÊàêhtmlÊµãËØïÊä•Âëä" class="headerlink" title="9 ÁîüÊàêhtmlÊµãËØïÊä•Âëä"></a>9 ÁîüÊàêhtmlÊµãËØïÊä•Âëä</h1><ul>
<li>ÁîüÊàêhtmlÊµãËØïÊä•Âëä<ul>
<li>pytest-htmlÔºöPyTestÁî®‰∫éÁîüÊàêÊµãËØïÁªìÊûúÁöÑhtmlÊä•ÂëäÊèí‰ª∂Ôºå<code>pip install pytest-html</code>ËøõË°åÂÆâË£Ö„ÄÇ<ul>
<li>ÊâßË°åÊñπÊ≥ïÔºö<code>pytest --html=report.html</code>ÔºåÂΩìÂâçÁõÆÂΩï‰∏≠ÁîüÊàê<code>report.html</code>Êä•ÂëäÊñá‰ª∂„ÄÇ</li>
<li>ÊåáÂÆöÊâßË°åÊüê‰∏™<code>.py</code>Êñá‰ª∂ÁîüÊàêÊä•ÂëäÔºö<code>pytest test_filename.py --html=report.html</code>„ÄÇ</li>
<li>ÁîüÊàêÊä•ÂëäÂà∞ÂΩìÂâçÊñá‰ª∂Â§πÁöÑreportÁõÆÂΩï‰∏≠Ôºö<code>pytest test_filename.py --html=./report/report.html</code>„ÄÇ</li>
<li>‰∏äËø∞ÊñπÊ≥ïÁîüÊàêÁöÑÊä•ÂëäÔºåcssÁã¨Á´ãÔºåÂàÜ‰∫´Êä•ÂëäÊó∂Ê†∑ÂºèÂ∞Ü‰∏¢Â§±Ôºå‰∏∫Êõ¥Â•ΩÂ±ïÁ§∫Êä•ÂëäÔºåÂèØÂ∞ÜcssÊ†∑ÂºèÂêàÂπ∂Âà∞html‰∏≠„ÄÇ</li>
<li>ËÆ©<code>report.html</code>Êä•ÂëäÁã¨Á´ãÊòæÁ§∫ÔºåÂèØ‰ΩøÁî®ÂëΩ‰ª§Ôºö<code>pytest --html=report.html --self-contained-html</code>„ÄÇ</li>
<li>Áî®‰æãÊâßË°åÂ§±Ë¥•ÈáçË∑ëÈúÄ‰æùËµñpytest-rerunfailuresÊèí‰ª∂ÔºåÂëΩ‰ª§ÂÆâË£ÖÔºö<code>pip install pytest-rerunfailures</code>„ÄÇ<ul>
<li>ÈáçË∑ënÊ¨°Ôºö<code>pytest --reruns n</code>ÔºåÂ§±Ë¥•ÊâçÈáçË∑ëÔºåÊàêÂäüÁî®‰æã‰ΩøÁî®Êó†Êïà„ÄÇ</li>
<li>ÈáçË∑ënÊ¨°ÔºåÊØèÊ¨°Èó¥ÈöîmÁßíÔºö<code>pytest --reruns n --reruns-delay m</code>„ÄÇ</li>
</ul>
</li>
</ul>
</li>
<li>allureÔºöreportÊ°ÜÊû∂ÔºåÊîØÊåÅPythonÁöÑPyTest„ÄÅJavaÁöÑJUnit„ÄÅTestNGÁ≠âÊ°ÜÊû∂ÔºåÂèØ‰ª•ÈõÜÊàêÂà∞Jenkins‰∏ä„ÄÇ</li>
</ul>
</li>
</ul>
<h2 id="9-1-conftest-py"><a href="#9-1-conftest-py" class="headerlink" title="9-1 conftest.py"></a>9-1 conftest.py</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># conftest.pyÔºåÁî®‰æãÊä•ÈîôÊó∂ËøõË°åÊà™ÂõæÁöÑÈÖçÁΩÆ‰ª£Á†Å</span><br><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver<br><br>driver: webdriver.Firefox = <span class="hljs-literal">None</span>                        <span class="hljs-comment"># ÈúÄÁî®Âà∞ÊµèËßàÂô®Êèí‰ª∂ÔºåÊèêÂâçÈÖçÁΩÆÂ•Ω</span><br><br><br><span class="hljs-meta">@pytest.mark.hookwrapper</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">pytest_runtest_makereport</span>(<span class="hljs-params">item</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    ÂΩìÁî®‰æãÊó†Ê≥ïÊâßË°åÊó∂ÔºåÂ±èÂπïÊà™Âõæ‰ºöËá™Âä®ÊòæÁ§∫Âú®Êä•Âëä‰∏≠„ÄÇ</span><br><span class="hljs-string">    :param item:</span><br><span class="hljs-string">    :return:</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    pytest_html = item.config.pluginmanager.getplugin(<span class="hljs-string">&quot;html&quot;</span>)<br>    outcome = <span class="hljs-keyword">yield</span><br>    report = outcome.get_result()<br>    extra = <span class="hljs-built_in">getattr</span>(report, <span class="hljs-string">&quot;extra&quot;</span>, [])<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;È°πÁõÆÁ±ªÂûã: &quot;</span>, <span class="hljs-built_in">type</span>(item))<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Êä•ÂëäÁ±ªÂûã: &quot;</span>, <span class="hljs-built_in">type</span>(report))<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;È¢ùÂ§ñËØ¥Êòé:&quot;</span>, extra)<br><br>    <span class="hljs-keyword">if</span> report.when == <span class="hljs-string">&quot;call&quot;</span> <span class="hljs-keyword">or</span> report.when == <span class="hljs-string">&quot;setup&quot;</span>:<br>        xfail = <span class="hljs-built_in">hasattr</span>(report, <span class="hljs-string">&quot;wasfail&quot;</span>)<br>        <span class="hljs-keyword">if</span> (report.skipped <span class="hljs-keyword">and</span> xfail) <span class="hljs-keyword">or</span> (report.failed <span class="hljs-keyword">and</span> <span class="hljs-keyword">not</span> xfail):<br>            file_name = report.nodeid.replace(<span class="hljs-string">&quot;::&quot;</span>, <span class="hljs-string">&quot;_&quot;</span>) + <span class="hljs-string">&quot;.png&quot;</span><br>            screen_img = _capter_screenshot()<br>            <span class="hljs-keyword">if</span> file_name:<br>                html = <span class="hljs-string">&quot;&lt;div&gt;&lt;img src=&#x27;data:image/png;base64,%s&#x27; \</span><br><span class="hljs-string">                        alt=&#x27;screenshot&#x27; style=&#x27;width:600px;height:300px;&#x27;&quot;</span> \<br>                       <span class="hljs-string">&quot;onclick=&#x27;window.open(this.src)&#x27; align=&#x27;right&#x27;/&gt;&lt;/div&gt;&quot;</span> % screen_img<br>                extra.append(pytest_html.extras.html(html))<br>        report.extra = extra<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">_capter_screenshot</span>():<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    Â±èÂπïÊà™Âõæ‰øùÂ≠ò‰∏∫base64Âπ∂ÊòæÁ§∫Âú®htmlÊä•Âëä‰∏≠„ÄÇ</span><br><span class="hljs-string">    :return:</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-keyword">return</span> driver.get_screenshot_as_base64()<br><br><br><span class="hljs-meta">@pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&quot;session&quot;</span>, autouse=<span class="hljs-literal">True</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">browser</span>():<br>    <span class="hljs-keyword">global</span> driver<br>    <span class="hljs-keyword">if</span> driver <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br>        driver = webdriver.Firefox()<br>    <span class="hljs-keyword">return</span> driver<br></code></pre></td></tr></table></figure>



<h2 id="9-2-test-screenshot-py"><a href="#9-2-test-screenshot-py" class="headerlink" title="9-2 test_screenshot.py"></a>9-2 test_screenshot.py</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> time                                             <span class="hljs-comment"># test_screenshot.py</span><br><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_get_title</span>(<span class="hljs-params">browser</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    :ÊµèËßàÂô®Á±ªÂûã: webdriver.firefox</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    browser.get(<span class="hljs-string">&quot;https://stitch-top.github.io/&quot;</span>)        <span class="hljs-comment"># GitHubÁΩëÁ´ôËÆøÈóÆËæÉÊÖ¢</span><br>    time.sleep(<span class="hljs-number">5</span>)<br>    t = browser.title<br>    <span class="hljs-keyword">assert</span> t == <span class="hljs-string">&quot;Stitch.top&quot;</span>                            <span class="hljs-comment"># &quot;Dr.626&quot;</span><br>    browser.close()<br><br><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 1 item</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_screenshot.py::test_get_title FAILED               [100%]</span><br><span class="hljs-string">È°πÁõÆÁ±ªÂûã:  &lt;class &#x27;_pytest.python.Function&#x27;&gt;</span><br><span class="hljs-string">Êä•ÂëäÁ±ªÂûã:  &lt;class &#x27;_pytest.reports.TestReport&#x27;&gt;</span><br><span class="hljs-string">È¢ùÂ§ñËØ¥Êòé: []</span><br><span class="hljs-string">È°πÁõÆÁ±ªÂûã:  &lt;class &#x27;_pytest.python.Function&#x27;&gt;</span><br><span class="hljs-string">Êä•ÂëäÁ±ªÂûã:  &lt;class &#x27;_pytest.reports.TestReport&#x27;&gt;</span><br><span class="hljs-string">È¢ùÂ§ñËØ¥Êòé: []</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_screenshot.py:4 (test_get_title)</span><br><span class="hljs-string">&#x27;Dr.626&#x27; != &#x27;Stitch.top&#x27;</span><br><span class="hljs-string"></span><br><span class="hljs-string">Expected :&#x27;Stitch.top&#x27;</span><br><span class="hljs-string">Actual   :&#x27;Dr.626&#x27;</span><br><span class="hljs-string">&lt;Click to see difference&gt;</span><br><span class="hljs-string"></span><br><span class="hljs-string">browser = &lt;selenium.webdriver.firefox.webdriver.WebDriver (session=&quot;...&quot;)&gt;</span><br><span class="hljs-string"></span><br><span class="hljs-string">    def test_get_title(browser):</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br><span class="hljs-string">        :ÊµèËßàÂô®Á±ªÂûã: webdriver.firefox</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br><span class="hljs-string">        browser.get(&quot;https://stitch-top.github.io/&quot;)    # GitHubÁΩëÁ´ôËÆøÈóÆËæÉÊÖ¢</span><br><span class="hljs-string">        time.sleep(5)</span><br><span class="hljs-string">        t = browser.title</span><br><span class="hljs-string">&gt;       assert t == &quot;Stitch.top&quot;                            # &quot;Dr.626&quot;</span><br><span class="hljs-string">E       AssertionError: assert &#x27;Dr.626&#x27; == &#x27;Stitch.top&#x27;</span><br><span class="hljs-string">E         - Stitch.top</span><br><span class="hljs-string">E         + Dr.626</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_screenshot.py:12: AssertionError</span><br><span class="hljs-string">È°πÁõÆÁ±ªÂûã:  &lt;class &#x27;_pytest.python.Function&#x27;&gt;</span><br><span class="hljs-string">Êä•ÂëäÁ±ªÂûã:  &lt;class &#x27;_pytest.reports.TestReport&#x27;&gt;</span><br><span class="hljs-string">È¢ùÂ§ñËØ¥Êòé: []</span><br><span class="hljs-string">============================= 1 failed in 42.29s ==============================</span><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br></code></pre></td></tr></table></figure>



              
            </div>
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/%E6%B5%8B%E8%AF%95%E6%A1%86%E6%9E%B6/" class="category-chain-item">ÊµãËØïÊ°ÜÊû∂</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/Python/">#Python</a>
      
        <a href="/tags/Pytest/">#Pytest</a>
      
        <a href="/tags/Assertions/">#Assertions</a>
      
        <a href="/tags/Decorators/">#Decorators</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>Pytest ÊµãËØïÊ°ÜÊû∂</div>
      <div>https://stitch-top.github.io/2023/03/03/ce-shi-kuang-jia/tf02-pytest/tf01-pytest-ce-shi-kuang-jia/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>‰ΩúËÄÖ</div>
          <div>Dr.626</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>ÂèëÂ∏É‰∫é</div>
          <div>2023Âπ¥3Êúà3Êó• 23:03:27</div>
        </div>
      
      
      <div class="license-meta-item">
        <div>ËÆ∏ÂèØÂçèËÆÆ</div>
        <div>
          
            
            
              <a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">
              <span class="hint--top hint--rounded" aria-label="BY - ÁΩ≤Âêç">
                <i class="iconfont icon-by"></i>
              </span>
              </a>
            
              <a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">
              <span class="hint--top hint--rounded" aria-label="NC - ÈùûÂïÜ‰∏öÊÄß‰ΩøÁî®">
                <i class="iconfont icon-nc"></i>
              </span>
              </a>
            
              <a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">
              <span class="hint--top hint--rounded" aria-label="SA - Áõ∏ÂêåÊñπÂºèÂÖ±‰∫´">
                <i class="iconfont icon-sa"></i>
              </span>
              </a>
            
          
        </div>
      </div>
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2023/05/01/ce-shi-kuang-jia/tf03-allure/tf01-allure-ce-shi-bao-gao/" title="Allure ÊµãËØïÊä•Âëä">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Allure ÊµãËØïÊä•Âëä</span>
                        <span class="visible-mobile">‰∏ä‰∏ÄÁØá</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2023/01/08/ce-shi-kuang-jia/tf01-selenium/tf01-selenium/" title="Selenium">
                        <span class="hidden-mobile">Selenium</span>
                        <span class="visible-mobile">‰∏ã‰∏ÄÁØá</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  <article id="comments">
    
  <div id="valine"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#valine', function() {
      Fluid.utils.createScript('https://cdn.staticfile.org/valine/1.5.1/Valine.min.js', function() {
        var options = Object.assign(
          {"appId":"PDfaLoft9OAolB0AmON5AqUb-gzGzoHsz","appKey":"xq13nodBzh8hOliBusHUKDwj","path":"window.location.pathname","placeholder":"Ëµ†‰∫∫Áé´Áë∞ÔºåÊâãÁïô‰ΩôÈ¶ô(ÔΩûoÔø£3Ôø£)ÔΩû","avatar":"monsterid","meta":["nick","mail","link"],"requiredFields":["nick","mail"],"pageSize":13,"lang":"zh-CN","highlight":"ture","recordIP":"ture","serverURLs":"","emojiCDN":null,"emojiMaps":null,"enableQQ":"ture"},
          {
            el: "#valine",
            path: window.location.pathname
          }
        )
        new Valine(options);
        Fluid.utils.waitElementVisible('#valine .vcontent', () => {
          var imgSelector = '#valine .vcontent img:not(.vemoji)';
          Fluid.plugins.imageCaption(imgSelector);
          Fluid.plugins.fancyBox(imgSelector);
        })
      });
    });

    // QmsgËØÑËÆ∫Êé®ÈÄÅÊúçÂä°ÔºöQQ2338638343 + ÈÇÆ‰ª∂zero_021@aliyun.com
    var title2="msg=Stitch's BlogÂèàÊúâÊñ∞ËØÑËÆ∫Âï¶ÔºÅ\n"
    var SCKEY_Qmsg="https://qmsg.zendee.cn/send/ad06ce297bd5d64b5aa08ea55560f7a2"
    var ValineButton=document.getElementsByClassName("vsubmit vbtn")[0];
    function send_valine_Qmsg(){
      var pagename=document.title;
      var wz=pagename.indexOf('|');
      var res=pagename.substring(0, wz);
      var pageurl=document.URL;
      var ptime=new Date();
      var vnick=document.getElementsByClassName("vnick vinput")[0].value;
      var vmail=document.getElementsByClassName("vmail vinput")[0].value;
      var vlink=document.getElementsByClassName("vlink vinput")[0].value;
      var veditor=document.getElementsByClassName("veditor vinput")[0].value;
      var data="ÊòµÁß∞Ôºö"+vnick+"\nÈÇÆÁÆ±Ôºö"+vmail+"\nÁΩëÁ´ôÂú∞ÂùÄÔºö"+vlink+"\nÂΩìÂâçÈ°µÈù¢Ôºö"+pagename+"\nËØÑËÆ∫ÂÜÖÂÆπÔºö"+veditor+"\nË∑≥ËΩ¨ÈìæÊé•Ôºö"+pageurl+"\nËØÑËÆ∫Êó∂Èó¥"+ptime.toLocaleString();
      var httpRequest = new XMLHttpRequest();       // Á¨¨‰∏ÄÊ≠•ÔºöÂàõÂª∫ÈúÄË¶ÅÁöÑÂØπË±°
      httpRequest.open('POST', SCKEY_Qmsg, true);   // Á¨¨‰∫åÊ≠•ÔºöÊâìÂºÄËøûÊé•
      httpRequest.setRequestHeader("Content-type","application/x-www-form-urlencoded"); // ËÆæÁΩÆËØ∑Ê±ÇÂ§¥ Ê≥®ÔºöpostÊñπÂºèÂøÖÈ°ªËÆæÁΩÆËØ∑Ê±ÇÂ§¥ÔºàÂú®Âª∫Á´ãËøûÊé•ÂêéËÆæÁΩÆËØ∑Ê±ÇÂ§¥Ôºâ
      httpRequest.send(title2 + data);              // ÂèëÈÄÅËØ∑Ê±Ç 
    };
    
    document.body.addEventListener('click', function(e) {
      if(e.target.className.indexOf('vsubmit') === -1) {
        return;
      }
      send_valine_Qmsg();
    })

  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


  </article>


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar category-bar" style="margin-left: -1rem">
    





<div class="category-list">
  
  
    
    
    
    <div class="category row nomargin-x">
      <a class="category-item 
          list-group-item category-item-action col-10 col-md-11 col-xm-11" title="ÊµãËØïÊ°ÜÊû∂"
        id="heading-893b664e5ce5fe8882ce6ce630f2f650" role="tab" data-toggle="collapse" href="#collapse-893b664e5ce5fe8882ce6ce630f2f650"
        aria-expanded="true"
      >
        ÊµãËØïÊ°ÜÊû∂
        <span class="list-group-count">(10)</span>
        <i class="iconfont icon-arrowright"></i>
      </a>
      
      <div class="category-collapse collapse show" id="collapse-893b664e5ce5fe8882ce6ce630f2f650"
           role="tabpanel" aria-labelledby="heading-893b664e5ce5fe8882ce6ce630f2f650">
        
        
          
  <div class="category-post-list">
    
    
      
      
        <a href="/2023/01/08/ce-shi-kuang-jia/tf01-selenium/tf01-selenium/" title="Selenium"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Selenium</span>
        </a>
      
    
      
      
        <a href="/2023/03/03/ce-shi-kuang-jia/tf02-pytest/tf01-pytest-ce-shi-kuang-jia/" title="Pytest ÊµãËØïÊ°ÜÊû∂"
           class="list-group-item list-group-item-action
           active">
          <span class="category-post">Pytest ÊµãËØïÊ°ÜÊû∂</span>
        </a>
      
    
      
      
        <a href="/2023/05/01/ce-shi-kuang-jia/tf03-allure/tf01-allure-ce-shi-bao-gao/" title="Allure ÊµãËØïÊä•Âëä"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Allure ÊµãËØïÊä•Âëä</span>
        </a>
      
    
      
      
        <a href="/2023/07/23/ce-shi-kuang-jia/tf04-unittest/tf01-unittest-ce-shi-kuang-jia/" title="UnitTest ÊµãËØïÊ°ÜÊû∂"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">UnitTest ÊµãËØïÊ°ÜÊû∂</span>
        </a>
      
    
      
      
        <a href="/2024/03/02/ce-shi-kuang-jia/tf04-unittest/tf02-unittest-zi-bao-mock/" title="UnitTest Â≠êÂåÖ Mock"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">UnitTest Â≠êÂåÖ Mock</span>
        </a>
      
    
      
      
        <a href="/2023/09/09/ce-shi-kuang-jia/tf05-playwright/tf01-playwright-kuang-jia-yi/" title="PlayWright Ê°ÜÊû∂(‰∏Ä)"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">PlayWright Ê°ÜÊû∂(‰∏Ä)</span>
        </a>
      
    
      
      
        <a href="/2023/11/02/ce-shi-kuang-jia/tf05-playwright/tf02-playwright-kuang-jia-er/" title="PlayWright Ê°ÜÊû∂(‰∫å)"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">PlayWright Ê°ÜÊû∂(‰∫å)</span>
        </a>
      
    
      
      
        <a href="/2024/07/16/ce-shi-kuang-jia/tf06-robot-framework/tf01-robot-framework/" title="Robot Framework"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Robot Framework</span>
        </a>
      
    
      
      
        <a href="/2025/03/19/ce-shi-kuang-jia/tf07-locust/tf01-locust-xing-neng-kuang-jia/" title="Locust ÊÄßËÉΩÊ°ÜÊû∂"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Locust ÊÄßËÉΩÊ°ÜÊû∂</span>
        </a>
      
    
      
      
        <a href="/2025/04/16/ce-shi-kuang-jia/tf08-cypress/tf01-cypress-ce-shi-kuang-jia/" title="Cypress ÊµãËØïÊ°ÜÊû∂"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Cypress ÊµãËØïÊ°ÜÊû∂</span>
        </a>
      
    
  </div>

        
      </div>
    </div>
  
</div>


  </aside>


    </div>
  </div>
</div>





  



  



  



  



  






    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">ÊêúÁ¥¢</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">ÂÖ≥ÈîÆËØç</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a><span>Copyright ¬© 2021 - 2025</span></a> <i class="iconfont icon-love"></i> <a href="https://stitch-top.github.io" target="_blank" rel="nofollow noopener"><span>Dr.626</span></a> 
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="leancloud-site-pv-container" style="display: none">
        üìà ÊÄªËÆøÈóÆÈáè 
        <span id="leancloud-site-pv"></span>
         Ê¨°
      </span>
    
    
      <span id="leancloud-site-uv-container" style="display: none">
        üìä ÊÄªËÆøÂÆ¢Êï∞ 
        <span id="leancloud-site-uv"></span>
         ‰∫∫
      </span>
    
    

  
</div>

  
  
  
  
  <!-- Ê∑ªÂä†ÁΩëÁ´ôËøêË°åÊó∂Èó¥ -->
  <div class="footer-content">
    <div>
      <span id="timeDate">ËΩΩÂÖ•Â§©Êï∞...</span>
      <span id="times">ËΩΩÂÖ•Êó∂ÂàÜÁßí...</span>
      <script>
      var now = new Date();
      function createtime(){
          var grt= new Date("01/01/2021 00:00:00");   //Ê≠§Â§Ñ‰øÆÊîπ‰Ω†ÁöÑÂª∫Á´ôÊó∂Èó¥ÊàñËÄÖÁΩëÁ´ô‰∏äÁ∫øÊó∂Èó¥
          now.setTime(now.getTime()+250);
          days = (now - grt ) / 1000 / 60 / 60 / 24;
          dnum = Math.floor(days);
          hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum);
          hnum = Math.floor(hours);
          if(String(hnum).length ==1 ){
              hnum = "0" + hnum;
          }
          minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);
          mnum = Math.floor(minutes);
          if(String(mnum).length ==1 ){
                    mnum = "0" + mnum;
          }
          seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
          snum = Math.round(seconds);
          if(String(snum).length ==1 ){
                    snum = "0" + snum;
          }
          document.getElementById("timeDate").innerHTML = "Êú¨Á´ôÂ∑≤ÂÆâÂÖ®ËøêË°å&nbsp"+dnum+"&nbspÂ§©";
          document.getElementById("times").innerHTML = hnum + "&nbspÂ∞èÊó∂&nbsp" + mnum + "&nbspÂàÜ&nbsp" + snum + "&nbspÁßí";
      }
      setInterval("createtime()", 250);
      </script>
    </div>
  </div>
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://cdn.staticfile.org/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.staticfile.org/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.staticfile.org/jquery/3.7.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  

  

  

  

  

  

  
    
  




  
    
      <script  src="/js/img-lazyload.js" ></script>
    
  




  
<script>
  Fluid.utils.createScript('https://cdn.staticfile.org/tocbot/4.21.0/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      headingSelector : CONFIG.toc.headingSelector || 'h1,h2,h3,h4,h5,h6',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      collapseDepth   : CONFIG.toc.collapseDepth || 0,
      scrollSmooth    : true,
      headingsOffset  : -boardTop
    });
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }
  });
</script>


  <script>
  (function() {
    var enableLang = CONFIG.code_language.enable && CONFIG.code_language.default;
    var enableCopy = CONFIG.copy_btn;
    if (!enableLang && !enableCopy) {
      return;
    }

    function getBgClass(ele) {
      return Fluid.utils.getBackgroundLightness(ele) >= 0 ? 'code-widget-light' : 'code-widget-dark';
    }

    var copyTmpl = '';
    copyTmpl += '<div class="code-widget">';
    copyTmpl += 'LANG';
    copyTmpl += '</div>';
    jQuery('.markdown-body pre').each(function() {
      var $pre = jQuery(this);
      if ($pre.find('code.mermaid').length > 0) {
        return;
      }
      if ($pre.find('span.line').length > 0) {
        return;
      }

      var lang = '';

      if (enableLang) {
        lang = CONFIG.code_language.default;
        if ($pre[0].children.length > 0 && $pre[0].children[0].classList.length >= 2 && $pre.children().hasClass('hljs')) {
          lang = $pre[0].children[0].classList[1];
        } else if ($pre[0].getAttribute('data-language')) {
          lang = $pre[0].getAttribute('data-language');
        } else if ($pre.parent().hasClass('sourceCode') && $pre[0].children.length > 0 && $pre[0].children[0].classList.length >= 2) {
          lang = $pre[0].children[0].classList[1];
          $pre.parent().addClass('code-wrapper');
        } else if ($pre.parent().hasClass('markdown-body') && $pre[0].classList.length === 0) {
          $pre.wrap('<div class="code-wrapper"></div>');
        }
        lang = lang.toUpperCase().replace('NONE', CONFIG.code_language.default);
      }
      $pre.append(copyTmpl.replace('LANG', lang).replace('code-widget">',
        getBgClass($pre[0]) + (enableCopy ? ' code-widget copy-btn" data-clipboard-snippet><i class="iconfont icon-copy"></i>' : ' code-widget">')));

      if (enableCopy) {
        Fluid.utils.createScript('https://cdn.staticfile.org/clipboard.js/2.0.11/clipboard.min.js', function() {
          var clipboard = new window.ClipboardJS('.copy-btn', {
            target: function(trigger) {
              var nodes = trigger.parentNode.childNodes;
              for (var i = 0; i < nodes.length; i++) {
                if (nodes[i].tagName === 'CODE') {
                  return nodes[i];
                }
              }
            }
          });
          clipboard.on('success', function(e) {
            e.clearSelection();
            e.trigger.innerHTML = e.trigger.innerHTML.replace('icon-copy', 'icon-success');
            setTimeout(function() {
              e.trigger.innerHTML = e.trigger.innerHTML.replace('icon-success', 'icon-copy');
            }, 2000);
          });
        });
      }
    });
  })();
</script>


  
<script>
  Fluid.utils.createScript('https://cdn.staticfile.org/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));
  });
</script>


  
<script>
  Fluid.utils.createScript('https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="/js/leancloud.js" ></script>





<!-- ‰∏ªÈ¢òÁöÑÂêØÂä®È°πÔºåÂ∞ÜÂÆÉ‰øùÊåÅÂú®ÊúÄÂ∫ïÈÉ® -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">ÂçöÂÆ¢Âú®ÂÖÅËÆ∏ JavaScript ËøêË°åÁöÑÁéØÂ¢É‰∏ãÊµèËßàÊïàÊûúÊõ¥‰Ω≥</div>
  </noscript>
</body>
</html>
