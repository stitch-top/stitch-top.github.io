

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/logo.png">
  <link rel="icon" href="/img/logo.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Dr.626">
  <meta name="keywords" content="">
  
    <meta name="description" content="üç∞ PlaywrightÁî®‰∫éË∑®ÊµèËßàÂô®ÊµãËØïÔºåÊîØÊåÅChrome„ÄÅFirefoxÁ≠âÔºåÊèê‰æõ‰∏Ä‰∏™ÁÆÄÂçïËÄåÂº∫Â§ßÁöÑAPIÊ®°ÊãüÁî®Êà∑Âú®ÊµèËßàÂô®‰∏≠ÁöÑ‰∫§‰∫íÊìç‰Ωú„ÄÇ">
<meta property="og:type" content="article">
<meta property="og:title" content="PlayWright Ê°ÜÊû∂(‰∫å)">
<meta property="og:url" content="https://stitch-top.github.io/2023/11/02/ce-shi-kuang-jia/tf05-playwright/tf02-playwright-kuang-jia-er/index.html">
<meta property="og:site_name" content="Dr.626">
<meta property="og:description" content="üç∞ PlaywrightÁî®‰∫éË∑®ÊµèËßàÂô®ÊµãËØïÔºåÊîØÊåÅChrome„ÄÅFirefoxÁ≠âÔºåÊèê‰æõ‰∏Ä‰∏™ÁÆÄÂçïËÄåÂº∫Â§ßÁöÑAPIÊ®°ÊãüÁî®Êà∑Âú®ÊµèËßàÂô®‰∏≠ÁöÑ‰∫§‰∫íÊìç‰Ωú„ÄÇ">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://stitch-top.github.io/img/ThemeMap/9314065155.jpg">
<meta property="article:published_time" content="2023-11-02T13:10:10.000Z">
<meta property="article:modified_time" content="2025-02-08T11:50:13.514Z">
<meta property="article:author" content="Dr.626">
<meta property="article:tag" content="Python">
<meta property="article:tag" content="PlayWright">
<meta property="article:tag" content="POMÊ®°Âºè">
<meta property="article:tag" content="MockÊé•Âè£">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://stitch-top.github.io/img/ThemeMap/9314065155.jpg">
  
  
  
  <title>PlayWright Ê°ÜÊû∂(‰∫å) - Dr.626</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- ‰∏ªÈ¢ò‰æùËµñÁöÑÂõæÊ†áÂ∫ìÔºå‰∏çË¶ÅËá™Ë°å‰øÆÊîπ -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  



  
<link rel="stylesheet" href="/css/my.css">



  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"stitch-top.github.io","root":"/","version":"1.9.0","typing":{"enable":true,"typeSpeed":70,"cursorChar":"|","loop":true,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":"‚úç"},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"left","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":1},"lazyload":{"enable":true,"loading_img":"/img/load.gif","onlypost":true,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":false,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":"Jg3BjUa3RtnEFSREy3wsmUR5-MdYXbMMI","app_key":"DwsEb5BeMxwdz0CEJ6MUBdu3","server_url":null,"path":"window.location.pathname","ignore_local":true}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>

  
  
<meta name="generator" content="Hexo 6.2.0"></head>


<body>
  
  

  <header>
    

<div class="header-inner" style="height: 100vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Dr.626</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                È¶ñÈ°µ
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                ÂΩíÊ°£
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                ÂàÜÁ±ª
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                Ê†áÁ≠æ
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                ÂÖ≥‰∫é
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/">
                <i class="iconfont icon-link-fill"></i>
                ÂèãÈìæ
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" target="_self" href="javascript:;" role="button"
                 data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="iconfont icon-code"></i>
                ÂÆûÈ™åÂÆ§
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                
                  
                  
                  
                  <a class="dropdown-item" href="/tagsnet">
                    <i class="iconfont icon-bookmark"></i>
                    ÊñáÁ´†ÂÖ≥Á≥ªÁΩë
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="/laboratory/plugin">
                    <i class="iconfont icon-bug"></i>
                    HexoÂ∞èÁªÑ‰ª∂
                  </a>
                
              </div>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/back-1.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="PlayWright Ê°ÜÊû∂(‰∫å)"></span>
          
        </div>

        
          
  <div class="mt-3">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-author" aria-hidden="true"></i>
        Dr.626
      </span>
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2023-11-02 21:10" pubdate>
          2023Âπ¥11Êúà2Êó• 21:10:10
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          51k Â≠ó
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          428 ÂàÜÈíü
        
      </span>
    

    
    
      
        <span id="leancloud-page-views-container" class="post-meta" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="leancloud-page-views"></span> Ê¨°
        </span>
        
      
    
  </div>


        
      </div>

      
        <div class="scroll-down-bar">
          <i class="iconfont icon-arrowdown"></i>
        </div>
      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
  
  <!-- Âä®ÊÄÅÁ∫øÊù°ËÉåÊôØ
  <script type="text/javascript"
  color="0 0 255" opacity='1' zIndex="-2" count="200" src="../js/canvas-nest.js">
  </script> -->
  
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="padding-left: 2rem; margin-right: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;ÁõÆÂΩï</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">PlayWright Ê°ÜÊû∂(‰∫å)</h1>
            
            <div class="markdown-body">
              
              <p>üç∞ PlaywrightÁî®‰∫éË∑®ÊµèËßàÂô®ÊµãËØïÔºåÊîØÊåÅChrome„ÄÅFirefoxÁ≠âÔºåÊèê‰æõ‰∏Ä‰∏™ÁÆÄÂçïËÄåÂº∫Â§ßÁöÑAPIÊ®°ÊãüÁî®Êà∑Âú®ÊµèËßàÂô®‰∏≠ÁöÑ‰∫§‰∫íÊìç‰Ωú„ÄÇ</p>
<span id="more"></span>



<h1 id="1-ÊñπÊ≥ïÊ±áÊÄª"><a href="#1-ÊñπÊ≥ïÊ±áÊÄª" class="headerlink" title="1 ÊñπÊ≥ïÊ±áÊÄª"></a>1 ÊñπÊ≥ïÊ±áÊÄª</h1><ul>
<li>ÊñπÊ≥ïÊ±áÊÄª<ul>
<li>Playwright‰∏≠ÁöÑÊµãËØïÂ±ÇÁ∫ßÔºöBrowser &gt; Context &gt; Page &gt; Locator &gt; ElementHandle„ÄÇ</li>
<li>PageÂØπË±°ÔºöÁõ¥Êé•Âú®Êï¥‰∏™È°µÈù¢ËåÉÂõ¥ÂÜÖËøõË°åÂÖÉÁ¥†Êü•ÊâæÂíåÂà§Êñ≠„ÄÇ<ul>
<li><code>page.is_hidden(selector: str)</code>¬∑¬∑¬∑¬∑¬∑Âà§Êñ≠ÊåáÂÆöÈÄâÊã©Âô®ÂØπÂ∫îÁöÑÂÖÉÁ¥†ÊòØÂê¶ÈöêËóè</li>
<li><code>page.is_visible(selector: str)</code>¬∑¬∑¬∑¬∑Âà§Êñ≠ÊåáÂÆöÈÄâÊã©Âô®ÂØπÂ∫îÁöÑÂÖÉÁ¥†ÊòØÂê¶ÂèØËßÅ</li>
<li><code>page.is_enabled(selector: str)</code>¬∑¬∑¬∑¬∑Âà§Êñ≠ÊåáÂÆöÈÄâÊã©Âô®ÂØπÂ∫îÁöÑÂÖÉÁ¥†ÊòØÂê¶ÂèØÁî®</li>
<li><code>page.is_editable(selector: str)</code>¬∑¬∑¬∑Âà§Êñ≠ÊåáÂÆöÈÄâÊã©Âô®ÂØπÂ∫îÁöÑÂÖÉÁ¥†ÊòØÂê¶ÂèØÁºñËæë</li>
<li><code>page.is_disabled(selector: str)</code>¬∑¬∑¬∑Âà§Êñ≠ÊåáÂÆöÈÄâÊã©Âô®ÂØπÂ∫îÁöÑÂÖÉÁ¥†ÊòØÂê¶‰∏çÂèØÁî®</li>
<li><code>page.is_checked(selector: str)</code>¬∑¬∑¬∑¬∑Âà§Êñ≠ÊåáÂÆöÈÄâÊã©Âô®ÂØπÂ∫îÁöÑÂçïÈÄâRadioÊàñÂ§çÈÄâCheckboxÔºåÂÖÉÁ¥†ÊòØÂê¶Ë¢´ÈÄâ‰∏≠</li>
</ul>
</li>
<li>LocatorÂØπË±°ÔºöÈÄöËøáPageÈ°µÈù¢ÂØπË±°ÁöÑÂÆö‰ΩçÊñπÊ≥ïÔºå‰æãÂ¶Ç‰ΩøÁî®<code>page.locator(selector)</code>Êù•Ëé∑ÂèñElementHandleÂÖÉÁ¥†Âè•ÊüÑ„ÄÇ<ul>
<li><code>locator.is_hidden()</code>¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑Âà§Êñ≠ËØ•ÂÆö‰ΩçÂô®ÂØπË±°ÂØπÂ∫îÁöÑÂÖÉÁ¥†ÊòØÂê¶ÈöêËóè</li>
<li><code>locator.is_visible()</code>¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑Âà§Êñ≠ËØ•ÂÆö‰ΩçÂô®ÂØπË±°ÂØπÂ∫îÁöÑÂÖÉÁ¥†ÊòØÂê¶ÂèØËßÅ</li>
<li><code>locator.is_enabled()</code>¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑Âà§Êñ≠ËØ•ÂÆö‰ΩçÂô®ÂØπË±°ÂØπÂ∫îÁöÑÂÖÉÁ¥†ÊòØÂê¶ÂèØÁî®</li>
<li><code>locator.is_editable()</code>¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑Âà§Êñ≠ËØ•ÂÆö‰ΩçÂô®ÂØπË±°ÂØπÂ∫îÁöÑÂÖÉÁ¥†ÊòØÂê¶ÂèØÁºñËæë</li>
<li><code>locator.is_disabled()</code>¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑Âà§Êñ≠ËØ•ÂÆö‰ΩçÂô®ÂØπË±°ÂØπÂ∫îÁöÑÂÖÉÁ¥†ÊòØÂê¶‰∏çÂèØÁî®</li>
<li><code>locator.is_checked()</code>¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑Âà§Êñ≠ËØ•ÂÆö‰ΩçÂô®ÂØπË±°ÂØπÂ∫îÁöÑÂçïÈÄâRadioÊàñÂ§çÈÄâCheckboxÔºåÂÖÉÁ¥†ÊòØÂê¶Ë¢´ÈÄâ‰∏≠</li>
</ul>
</li>
<li>ElementHandleÂØπË±°ÔºöÈÄöËøá‰ΩøÁî®<code>page.query_selector()</code>ÊñπÊ≥ïÔºåÊù•Ë∞ÉÁî®ËøîÂõûÁöÑElementHandleÂÖÉÁ¥†Âè•ÊüÑÔºå‰∏ÄËà¨‰∏çÂ∏∏Áî®„ÄÇ<ul>
<li><code>element_handle.is_hidden()</code>¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑Âà§Êñ≠ËØ•ÂÖÉÁ¥†Âè•ÊüÑÂØπË±°ÂØπÂ∫îÁöÑÂÖÉÁ¥†ÊòØÂê¶ÈöêËóè</li>
<li><code>element_handle.is_visible()</code>¬∑¬∑¬∑¬∑¬∑¬∑¬∑Âà§Êñ≠ËØ•ÂÖÉÁ¥†Âè•ÊüÑÂØπË±°ÂØπÂ∫îÁöÑÂÖÉÁ¥†ÊòØÂê¶ÂèØËßÅ</li>
<li><code>element_handle.is_enabled()</code>¬∑¬∑¬∑¬∑¬∑¬∑¬∑Âà§Êñ≠ËØ•ÂÖÉÁ¥†Âè•ÊüÑÂØπË±°ÂØπÂ∫îÁöÑÂÖÉÁ¥†ÊòØÂê¶ÂèØÁî®</li>
<li><code>element_handle.is_editable()</code>¬∑¬∑¬∑¬∑¬∑¬∑Âà§Êñ≠ËØ•ÂÖÉÁ¥†Âè•ÊüÑÂØπË±°ÂØπÂ∫îÁöÑÂÖÉÁ¥†ÊòØÂê¶ÂèØÁºñËæë</li>
<li><code>element_handle.is_disabled()</code>¬∑¬∑¬∑¬∑¬∑¬∑Âà§Êñ≠ËØ•ÂÖÉÁ¥†Âè•ÊüÑÂØπË±°ÂØπÂ∫îÁöÑÂÖÉÁ¥†ÊòØÂê¶‰∏çÂèØÁî®</li>
<li><code>element_handle.is_checked()</code>¬∑¬∑¬∑¬∑¬∑¬∑¬∑Âà§Êñ≠ËØ•ÂÖÉÁ¥†Âè•ÊüÑÂØπË±°ÂØπÂ∫îÁöÑÂçïÈÄâRadioÊàñÂ§çÈÄâCheckboxÔºåÂÖÉÁ¥†ÊòØÂê¶Ë¢´ÈÄâ‰∏≠</li>
</ul>
</li>
<li>ExpectÂ∏∏Áî®ÁöÑÊñ≠Ë®ÄÊñπÊ≥ï<ul>
<li><code>expect(api_response).to_be_ok()</code>¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑Êñ≠Ë®ÄAPIÂìçÂ∫îÊòØÂê¶ÊàêÂäü</li>
<li>PageÈ°µÈù¢Êñ≠Ë®Ä<ul>
<li><code>expect(page).to_have_url()</code>¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑Êñ≠Ë®ÄÈ°µÈù¢ÁöÑURLÊòØÂê¶Á¨¶ÂêàÈ¢ÑÊúü</li>
<li><code>expect(page).not_to_have_url()</code>¬∑¬∑¬∑¬∑¬∑¬∑Êñ≠Ë®ÄÈ°µÈù¢ÁöÑURLÊòØÂê¶‰∏çÂ≠òÂú®</li>
<li><code>expect(page).to_have_title()</code>¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑Êñ≠Ë®ÄÈ°µÈù¢ÁöÑÊ†áÈ¢òÊòØÂê¶Á¨¶ÂêàÈ¢ÑÊúü</li>
<li><code>expect(page).not_to_have_title()</code>¬∑¬∑¬∑¬∑Êñ≠Ë®ÄÈ°µÈù¢ÁöÑÊ†áÈ¢òÊòØÂê¶‰∏çÂ≠òÂú®</li>
</ul>
</li>
<li><code>expect(locator).to_be_empty()</code>¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑Êñ≠Ë®ÄlocatorÂØπÂ∫îÁöÑÂÖÉÁ¥†ÊòØÂê¶‰∏∫Á©∫</li>
<li><code>expect(locator).to_be_hidden()</code>¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑Êñ≠Ë®ÄlocatorÂØπÂ∫îÁöÑÂÖÉÁ¥†ÊòØÂê¶ÈöêËóè</li>
<li><code>expect(locator).to_be_visible()</code>¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑Êñ≠Ë®ÄlocatorÂØπÂ∫îÁöÑÂÖÉÁ¥†ÊòØÂê¶ÂèØËßÅ</li>
<li><code>expect(locator).to_be_enabled()</code>¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑Êñ≠Ë®ÄlocatorÂØπÂ∫îÁöÑÂÖÉÁ¥†ÊòØÂê¶ÂèØÁî®</li>
<li><code>expect(locator).to_be_editable()</code>¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑Êñ≠Ë®ÄlocatorÂØπÂ∫îÁöÑÂÖÉÁ¥†ÊòØÂê¶ÂèØÁºñËæë</li>
<li><code>expect(locator).to_be_disabled()</code>¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑Êñ≠Ë®ÄlocatorÂØπÂ∫îÁöÑÂÖÉÁ¥†ÊòØÂê¶‰∏çÂèØÁî®</li>
<li><code>expect(locator).to_be_focused()</code>¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑Êñ≠Ë®ÄlocatorÂØπÂ∫îÁöÑÂÖÉÁ¥†ÊòØÂê¶Â§Ñ‰∫éÁÑ¶ÁÇπÁä∂ÊÄÅ</li>
<li><code>expect(locator).to_be_checked()</code>¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑Êñ≠Ë®ÄlocatorÂØπÂ∫îÁöÑÂ§çÈÄâÊ°ÜÊàñÂçïÈÄâÊ°ÜÂÖÉÁ¥†ÊòØÂê¶Ë¢´ÈÄâ‰∏≠</li>
<li><code>expect(locator).to_have_id()</code>¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑Êñ≠Ë®ÄlocatorÂØπÂ∫îÁöÑÂÖÉÁ¥†ÊòØÂê¶ÂÖ∑ÊúâÁâπÂÆöÁöÑid</li>
<li><code>expect(locator).to_have_count()</code>¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑Êñ≠Ë®ÄlocatorÂØπÂ∫îÁöÑÂÖÉÁ¥†Êï∞ÈáèÊòØÂê¶Á¨¶ÂêàÈ¢ÑÊúü</li>
<li><code>expect(locator).to_have_value()</code>¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑Êñ≠Ë®ÄlocatorÂØπÂ∫îÁöÑÂÖÉÁ¥†ÁöÑÂÄºÊòØÂê¶Á¨¶ÂêàÈ¢ÑÊúü</li>
<li><code>expect(locator).to_have_text()</code>¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑Êñ≠Ë®ÄlocatorÂØπÂ∫îÁöÑÂÖÉÁ¥†ÊòØÂê¶ÂÖ∑ÊúâÁâπÂÆöÁöÑÊñáÊú¨</li>
<li><code>expect(locator).to_have_class()</code>¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑Êñ≠Ë®ÄlocatorÂØπÂ∫îÁöÑÂÖÉÁ¥†ÊòØÂê¶ÂÖ∑ÊúâÁâπÂÆöÁöÑÁ±ªÂêç</li>
<li><code>expect(locator).to_have_css()</code>¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑Êñ≠Ë®ÄlocatorÂØπÂ∫îÁöÑÂÖÉÁ¥†ÊòØÂê¶ÂÖ∑ÊúâÁâπÂÆöÁöÑCSSÊ†∑Âºè</li>
<li><code>expect(locator).to_have_values()</code>¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑Êñ≠Ë®ÄlocatorÂØπÂ∫îÁöÑÂÖÉÁ¥†ÁöÑÂÄºÈõÜÂêàÊòØÂê¶Á¨¶ÂêàÈ¢ÑÊúü</li>
<li><code>expect(locator).to_have_attribute()</code>¬∑¬∑¬∑¬∑¬∑Êñ≠Ë®ÄlocatorÂØπÂ∫îÁöÑÂÖÉÁ¥†ÊòØÂê¶ÂÖ∑ÊúâÁâπÂÆöÁöÑÂ±ûÊÄß</li>
<li><code>expect(locator).to_have_js_property()</code>¬∑¬∑¬∑Êñ≠Ë®ÄlocatorÂØπÂ∫îÁöÑÂÖÉÁ¥†ÊòØÂê¶ÂÖ∑ÊúâÁâπÂÆöÁöÑJavaScriptÂ±ûÊÄß</li>
<li><code>expect(locator).to_contain_text()</code>¬∑¬∑¬∑¬∑¬∑¬∑¬∑Êñ≠Ë®ÄlocatorÂØπÂ∫îÁöÑÂÖÉÁ¥†ÊòØÂê¶ÂåÖÂê´ÁâπÂÆöÁöÑÊñáÊú¨</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="1-1-È°µÈù¢ÂØºËà™"><a href="#1-1-È°µÈù¢ÂØºËà™" class="headerlink" title="1-1 È°µÈù¢ÂØºËà™*"></a>1-1 È°µÈù¢ÂØºËà™*</h2><ul>
<li>È°µÈù¢ÂØºËà™<ul>
<li>ÂºÇÊ≠•ÂØºËà™(Async navigation)<ul>
<li>ÊåáÁ≠âÂæÖÈ°µÈù¢ÂÆåÊàêÂØºËà™ÁöÑÊìç‰ΩúÔºåÈ°µÈù¢ÂÆåÊàêÂØºËà™ÂêéÂÜçÊâßË°åÂêéÁª≠ÁöÑÊìç‰Ωú„ÄÇ</li>
<li>ÂèØ‰ΩøÁî®<code>page.goto()</code>Êàñ<code>page.wait_for_navigation()</code>ÊñπÊ≥ïÊù•Á≠âÂæÖÈ°µÈù¢ÂØºËà™ÂÆåÊàê„ÄÇ</li>
<li>ÂºÇÊ≠•ÂØºËà™ÈÄöÂ∏∏Áî®‰∫éÂçï‰∏ÄÁöÑÈ°µÈù¢ÂØºËà™ÔºåÁ≠âÂæÖÈ°µÈù¢Ë∑≥ËΩ¨ÔºåÊàñÂä†ËΩΩÂÆåÊØïÂêéÂÜçËøõË°åÂêéÁª≠Êìç‰Ωú„ÄÇ</li>
<li>Ëß¶ÂèëÁöÑÂØºËà™ÔºöÊåá‰ª£ÂØºËà™Âà∞Êñ∞ÁöÑURL„ÄÅÂú®Âêå‰∏ÄÁΩëÈ°µ‰∏≠Âà∑Êñ∞„ÄÅÂêéÈÄÄÊàñÂâçËøõÔºåËøôÂõõÁßçÊÉÖÂÜµ„ÄÇ</li>
</ul>
</li>
<li>Â§öÈáçÂØºËà™(Multiple navigations)<ul>
<li>Â§öÈáçÂØºËà™ÊåáËøûÁª≠ËøõË°åÂ§öÊ¨°È°µÈù¢ÂØºËà™ÁöÑÊìç‰ΩúÔºåÊØèÊ¨°ÂØºËà™ÈÉΩÈúÄË¶ÅÁ≠âÂæÖÈ°µÈù¢ÂÆåÊàêË∑≥ËΩ¨ÊàñÂä†ËΩΩ„ÄÇ</li>
<li>ÂèØ‰ΩøÁî®<code>page.goto()</code>Êàñ<code>page.expect_navigation()</code>ÊñπÊ≥ïÊù•ÊòéÁ°ÆÁ≠âÂæÖÁâπÂÆöÁöÑÂØºËà™ÂÆåÊàê„ÄÇ</li>
<li>ÈÄöÂ∏∏Áî®‰∫éÈúÄËøõË°åËøûÁª≠Â§öÊ¨°È°µÈù¢Ë∑≥ËΩ¨ÁöÑÊÉÖÂÜµÔºåÂ¶ÇÂ∫îÁî®Á®ãÂ∫è‰∏≠ÊâßË°åÂ§öÊ≠•È™§Êìç‰ΩúÔºåÊàñÊµãËØïÊúüÈó¥Ê®°ÊãüÁî®Êà∑ÊµèËßà„ÄÇ</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> asyncio<br><span class="hljs-keyword">from</span> playwright.async_api <span class="hljs-keyword">import</span> async_playwright<br><br><br><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">example</span>():<br>    <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> async_playwright() <span class="hljs-keyword">as</span> p:<br>        browser = <span class="hljs-keyword">await</span> p.chromium.launch(headless=<span class="hljs-literal">False</span>)<br>        page = <span class="hljs-keyword">await</span> browser.new_page()<br><br>        <span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">on_navigation</span>(<span class="hljs-params">page, **kwargs</span>):                <span class="hljs-comment"># ÁõëÂê¨È°µÈù¢ÂØºËà™‰∫ã‰ª∂</span><br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;È°µÈù¢ÂØºËà™ÂÆåÊàê&quot;</span>)<br>        page.on(<span class="hljs-string">&quot;navigation&quot;</span>, on_navigation)                    <span class="hljs-comment"># Ê∑ªÂä†ÂØºËà™‰∫ã‰ª∂ÁõëÂê¨Âô®</span><br>        <span class="hljs-keyword">await</span> page.goto(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)               <span class="hljs-comment"># ÂØºËà™Âà∞ÊåáÂÆöURL</span><br>        <span class="hljs-keyword">try</span>:<br>            <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> page.expect_navigation():                <span class="hljs-comment"># Á≠âÂæÖÈ°µÈù¢ÂØºËà™ÂÆåÊàê</span><br>                <span class="hljs-keyword">await</span> page.click(<span class="hljs-string">&quot;//*[@id=&#x27;s-top-left&#x27;]/a[1]&quot;</span>)<br>                <span class="hljs-keyword">await</span> page.reload()                             <span class="hljs-comment"># ‰∏∫Âï•‰∏çÂä†ËøôË°å‰ºöÊä•ÈîôÔºüÔºüÔºü</span><br>        <span class="hljs-keyword">except</span> TimeoutError:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;È°µÈù¢ÂØºËà™Ë∂ÖÊó∂&quot;</span>)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;È°µÈù¢ÂØºËà™ÂÆåÊàêÔºåÊñ∞È°µÈù¢Âä†ËΩΩÊàêÂäü&quot;</span>)<br><br>        <span class="hljs-keyword">await</span> browser.close()                                   <span class="hljs-comment"># ÂÖ≥Èó≠ÊµèËßàÂô®</span><br><br>asyncio.run(example())                                          <span class="hljs-comment"># ËøêË°å‰ª£Á†Å</span><br></code></pre></td></tr></table></figure>



<h2 id="1-2-È´òÁ∫ßÊ®°Âºè"><a href="#1-2-È´òÁ∫ßÊ®°Âºè" class="headerlink" title="1-2 È´òÁ∫ßÊ®°Âºè"></a>1-2 È´òÁ∫ßÊ®°Âºè</h2><ul>
<li>È´òÁ∫ßÊ®°Âºè<ul>
<li><code>page.wait_for_function()</code>ÔºöÁî®‰∫éÁ≠âÂæÖÊåáÂÆöÁöÑJavaScriptÂáΩÊï∞ËøîÂõûtrueÊàñÈùûÁ©∫ÁªìÊûú„ÄÇ</li>
<li>ÂèØÁî®‰∫éÊ£ÄÊü•È°µÈù¢‰∏äÁöÑÊüê‰∫õÊù°‰ª∂ÊòØÂê¶Êª°Ë∂≥Ôºå‰æãÂ¶ÇÔºöÁ≠âÂæÖÁâπÂÆöÂÖÉÁ¥†Âá∫Áé∞ÊàñÁâπÂÆöÊñáÊú¨Ë¢´Êõ¥Êñ∞„ÄÇ</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> asyncio<br><span class="hljs-keyword">from</span> playwright.async_api <span class="hljs-keyword">import</span> async_playwright<br><br><br><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">wait_for_example</span>():<br>    <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> async_playwright() <span class="hljs-keyword">as</span> p:<br>        browser = <span class="hljs-keyword">await</span> p.chromium.launch(headless=<span class="hljs-literal">False</span>)<br>        page = <span class="hljs-keyword">await</span> browser.new_page()<br><br>        <span class="hljs-keyword">await</span> page.goto(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)               <span class="hljs-comment"># ÊâìÂºÄÈ°µÈù¢</span><br>        <span class="hljs-keyword">await</span> page.wait_for_function(                           <span class="hljs-comment"># Á≠âÂæÖÈ°µÈù¢‰∏äÁöÑÊ†áÈ¢òÂÖÉÁ¥†Âá∫Áé∞</span><br>            <span class="hljs-string">&quot;() =&gt; document.querySelector(&#x27;title&#x27;) !== null&quot;</span><br>        )<br>        title_text = <span class="hljs-keyword">await</span> page.evaluate(                       <span class="hljs-comment"># Ê£ÄÊü•Ê†áÈ¢òÊñáÊú¨ÊòØÂê¶Á¨¶ÂêàÈ¢ÑÊúü</span><br>            <span class="hljs-string">&quot;document.querySelector(&#x27;title&#x27;).textContent&quot;</span><br>        )<br>        <span class="hljs-keyword">if</span> title_text == <span class="hljs-string">&quot;ÁôæÂ∫¶‰∏Ä‰∏ãÔºå‰Ω†Â∞±Áü•ÈÅì&quot;</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Ê†áÈ¢òÊñáÊú¨Á¨¶ÂêàÈ¢ÑÊúü&quot;</span>)<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Ê†áÈ¢òÊñáÊú¨‰∏çÁ¨¶ÂêàÈ¢ÑÊúü&quot;</span>)<br><br>        <span class="hljs-keyword">await</span> browser.close()                                   <span class="hljs-comment"># ÂÖ≥Èó≠ÊµèËßàÂô®ÂØπË±°</span><br><br>asyncio.run(wait_for_example())<br></code></pre></td></tr></table></figure>



<h2 id="1-3-svgÂÖÉÁ¥†Êìç‰Ωú"><a href="#1-3-svgÂÖÉÁ¥†Êìç‰Ωú" class="headerlink" title="1-3 svgÂÖÉÁ¥†Êìç‰Ωú"></a>1-3 svgÂÖÉÁ¥†Êìç‰Ωú</h2><ul>
<li>svgÂÖÉÁ¥†Êìç‰Ωú<ul>
<li>SVGÂç≥Scalable Vector GraphicsÔºåÁî±W3CÂà∂ÂÆöÔºåÁî®‰∫éÊèèËø∞‰∫åÁª¥Áü¢ÈáèÂõæÂΩ¢ÁöÑXML(ÂèØÊâ©Â±ïÊ†áËÆ∞ËØ≠Ë®Ä)Êñá‰ª∂Ê†ºÂºè„ÄÇ</li>
<li>Êó†Ê≥ïÁî®ÊôÆÈÄöÁöÑÊ†áÁ≠æÂÆö‰ΩçÂà∞ÔºåÂ¶Ç<code>$x(&#39;//svg&#39;)</code>ÔºåÂè™ËÉΩÈÄöËøá<code>name()</code>ÂáΩÊï∞ÂÆö‰ΩçÔºåÂ¶Ç<code>$x(&quot;//*[name()=&#39;svg&#39;]&quot;)</code>„ÄÇ</li>
<li>Â¶ÇÊûúÈ°µÈù¢‰∏äÊúâÂ§ö‰∏™svgÂÖÉÁ¥†Ôºå<code>//*[name()=&quot;svg&quot;]</code>Â∞ÜÂÆö‰ΩçÂá∫ÂÖ®ÈÉ®ÁöÑsvgÂÖÉÁ¥†„ÄÇ<ul>
<li>ÂèØ‰ª•ÈÄöËøáÁà∂ÂÖÉÁ¥†Êù•ËøõË°åÂå∫ÂàÜÔºå‰æãÂ¶ÇÔºö<code>//*[@id=&quot;box1&quot;]//*[name()=&quot;svg&quot;]</code>„ÄÇ</li>
<li>ÂèØ‰ΩøÁî®<code>and</code>ÁªÑÂêàÂÖ∂‰ªñÂ±ûÊÄßÔºå‰æãÂ¶ÇÔºö<code>//*[name()=&quot;svg&quot; and @width=&quot;500&quot;]</code>„ÄÇ</li>
</ul>
</li>
<li>ÂÆö‰Ωçsvg‰∏äÁöÑÂ≠êÂÖÉÁ¥†Ôºå‰ªçÁÑ∂ÂèØ‰ª•ÈÄöËøá<code>name()</code>ÂáΩÊï∞ÂÆö‰ΩçÔºåÂ¶Ç<code>$x(&quot;//*[name()=&#39;svg&#39;]/*[name()=&#39;path&#39;]&quot;)</code>„ÄÇ</li>
<li>svgÂÖÉÁ¥†‰∏ãÁöÑcircleÊòØÂèØÊãñÂä®ÁöÑÔºå‰æãÂ¶ÇÔºöÂæÄÂè≥ÊãñÂä®100‰∏™ÂÉèÁ¥†ÔºåÈÇ£‰πàcxÂÄºÂ∞±Áî±ÂéüÂÖàÁöÑ<code>cx=&quot;100&quot;</code>Âèò‰∏∫<code>cx=200</code>„ÄÇ</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>)<br>    page = browser.new_page()<br>    page.goto(<span class="hljs-string">&quot;https://www.w3school.com.cn/svg/circle1.svg&quot;</span>)<br><br>    circle = page.locator(<br>        <span class="hljs-string">&quot;//*[name()=&#x27;svg&#x27;]/*[name()=&#x27;circle&#x27;]&quot;</span><br>    )                                                           <span class="hljs-comment"># svgÂÖÉÁ¥†ÂÆö‰Ωç</span><br>    <span class="hljs-built_in">print</span>(circle.bounding_box())<br>    box = circle.bounding_box()<br><br>    circle.evaluate(                                            <span class="hljs-comment"># Ê∑ªÂä†‰∫ã‰ª∂ÁõëÂê¨</span><br>        <span class="hljs-string">&quot;node =&gt; node.addEventListener(&#x27;mousedown&#x27;, function()&quot;</span><br>        <span class="hljs-string">&quot;&#123;console.log(&#x27;ÁõÆÊ†áÂÖÉÁ¥†Ë¢´Èº†Ê†ádown‰∫Ü&#x27;);&#125;);&quot;</span><br>    )<br><br>    page.mouse.move(                                            <span class="hljs-comment"># svgÂÖÉÁ¥†ÊãñÊãΩ</span><br>        x=box[<span class="hljs-string">&quot;x&quot;</span>] + box[<span class="hljs-string">&quot;width&quot;</span>] / <span class="hljs-number">2</span>,<br>        y=box[<span class="hljs-string">&quot;y&quot;</span>] + box[<span class="hljs-string">&quot;height&quot;</span>] / <span class="hljs-number">2</span><br>    )<br>    page.mouse.down()<br>    page.mouse.move(<br>        x=box[<span class="hljs-string">&quot;x&quot;</span>] + box[<span class="hljs-string">&quot;width&quot;</span>] / <span class="hljs-number">2</span> + <span class="hljs-number">100</span>,<br>        y=box[<span class="hljs-string">&quot;y&quot;</span>] + box[<span class="hljs-string">&quot;height&quot;</span>] / <span class="hljs-number">2</span><br>    )<br>    page.mouse.up(button=<span class="hljs-string">&quot;middle&quot;</span>)<br>    page.pause()                                                <span class="hljs-comment"># F12ÁöÑconsoleÊü•Áúã</span><br><br>    browser.close()                                             <span class="hljs-comment"># ÂÖ≥Èó≠ÊµèËßàÂô®ÂØπË±°</span><br></code></pre></td></tr></table></figure>



<h2 id="1-4-Êó•ÊúüÊéß‰ª∂ËæìÂÖ•"><a href="#1-4-Êó•ÊúüÊéß‰ª∂ËæìÂÖ•" class="headerlink" title="1-4 Êó•ÊúüÊéß‰ª∂ËæìÂÖ•"></a>1-4 Êó•ÊúüÊéß‰ª∂ËæìÂÖ•</h2><ul>
<li>Êó•ÊúüÊéß‰ª∂ËæìÂÖ•<ul>
<li>ËæìÂÖ•Ê°ÜÊòØÊó•ÊúüÊéß‰ª∂Êó∂ÔºåÂÖàÁúãËÉΩÂê¶Áõ¥Êé•ËæìÂÖ•Êó•ÊúüÔºåÂèØ‰ª•Áõ¥Êé•ËæìÂÖ•ÁöÑÊÉÖÂÜµ‰∏ãÂ∞±‰∏çÁî®ÁÇπÂºÄ‰∫Ü„ÄÇ</li>
<li>Ëã•Êúâ<code>readonly</code>Â±ûÊÄßÂ∞±‰∏çËÉΩÁõ¥Êé•ËæìÂÖ•ÔºåËøôÁßçÊÉÖÂÜµ‰∏ãÂèØ‰ª•‰ΩøÁî®JavaScriptÂéªÊéâÂ±ûÊÄßÂÜçËæìÂÖ•„ÄÇ</li>
</ul>
</li>
</ul>
<h3 id="1-Áõ¥Êé•ËæìÂÖ•"><a href="#1-Áõ¥Êé•ËæìÂÖ•" class="headerlink" title="(1) Áõ¥Êé•ËæìÂÖ•"></a>(1) Áõ¥Êé•ËæìÂÖ•</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>)<br>    context = browser.new_context()<br>    page = context.new_page()<br>    page.goto(<br>        <span class="hljs-string">r&quot;http://wyeditor.com/layui_demo/%E6%97%A5%E6%9C%9F&quot;</span><br>        <span class="hljs-string">r&quot;%E5%92%8C%E6%97%B6%E9%97%B4%E7%BB%84%E4%BB%B6.html&quot;</span><br>    )<br>    page.locator(<br>        <span class="hljs-string">&quot;//*[@id=&#x27;LayEdit_267858&#x27;]&quot;</span><br>    ).fill(<span class="hljs-string">&quot;2023-09-01&quot;</span>)                                        <span class="hljs-comment"># Êó•ÊúüÊéß‰ª∂Áõ¥Êé•ËæìÂÖ•</span><br>    page.pause()<br><br>    browser.close()                                             <span class="hljs-comment"># ÂÖ≥Èó≠ÊµèËßàÂô®ÂØπË±°</span><br></code></pre></td></tr></table></figure>



<h3 id="2-readonly"><a href="#2-readonly" class="headerlink" title="(2) readonly"></a>(2) readonly</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>)<br>    context = browser.new_context()<br>    page = context.new_page()<br>    page.goto(<span class="hljs-string">r&quot;http://www.jemui.com/jedate/#5&quot;</span>)<br>    page.locator(<span class="hljs-string">&quot;//*[@id=&#x27;ymd01&#x27;]&quot;</span>).hover()                    <span class="hljs-comment"># ÂÆö‰ΩçÊÇ¨ÂÅúÂà∞ÂÖ∑‰Ωì‰ΩçÁΩÆ</span><br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)<br>    js1 = <span class="hljs-string">&quot;document.getElementById(&#x27;ymd01&#x27;).removeAttribute(&#x27;readonly&#x27;);&quot;</span><br>    page.evaluate(js1)                                          <span class="hljs-comment"># ÂéªÊéâreadonlyÂ±ûÊÄß</span><br>    js2 = <span class="hljs-string">&quot;document.getElementById(&#x27;ymd01&#x27;).value=&#x27;2023-09-01 15:15:15&#x27;;&quot;</span><br>    page.evaluate(js2)<br>    page.pause()<br><br>    browser.close()                                             <span class="hljs-comment"># ÂÖ≥Èó≠ÊµèËßàÂô®ÂØπË±°</span><br></code></pre></td></tr></table></figure>



<h2 id="1-5-Trace-Viewer"><a href="#1-5-Trace-Viewer" class="headerlink" title="1-5 Trace Viewer"></a>1-5 Trace Viewer</h2><ul>
<li>Trace Viewer<ul>
<li>ÊâßË°åËá™Âä®ÂåñÁî®‰æãÁöÑËøáÁ®ã‰∏≠ÔºåÂá∫Áé∞‰∏Ä‰∫õ‰∏çÁ®≥ÂÆöÂÅ∂ÁÑ∂ÊÄßÁöÑBugÔºåÈúÄÂ§çÁé∞ËøòÂéüBugÂá∫Áé∞ÁöÑËøáÁ®ã„ÄÇ</li>
<li>Playwright Trace ViewerÂèØÊé¢Á¥¢ËÆ∞ÂΩïPlaywrightÁöÑÊµãËØïË∑üË∏™ÔºåÁõ¥ËßÇÊü•ÁúãÊìç‰ΩúÊúüÈó¥ÁöÑÊÉÖÂÜµ„ÄÇ</li>
<li>Êü•Áúã<ul>
<li>‰ΩøÁî®Playwright CLIÂú®terminal‰∏≠ËæìÂÖ•<code>playwright show-trace trace.zip</code>ÔºåÊâìÂºÄË∑üË∏™„ÄÇ</li>
<li>ÈÄöËøáÂçïÂáªÊØè‰∏™Êìç‰ΩúÔºåÊàñ‰ΩøÁî®Êó∂Èó¥ËΩ¥ÊÇ¨ÂÅúÊù•Êü•ÁúãÊµãËØïÁöÑÁóïËøπÔºåÂπ∂Êü•ÁúãÊìç‰ΩúÂâçÂêéÈ°µÈù¢ÁöÑÁä∂ÊÄÅ„ÄÇ</li>
<li>Âú®ÊØè‰∏™Ê≠•È™§‰∏≠Ê£ÄÊü•Êó•Âøó„ÄÅÊ∫êÂíåÁΩëÁªúÔºåË∑üË∏™Êü•ÁúãÂô®ÂàõÂª∫‰∏Ä‰∏™DOMÂø´ÁÖßÔºåÂèØ‰∏éÂÖ∂ÂÆåÂÖ®‰∫§‰∫íÔºåÊâìÂºÄdevtoolsÁ≠â„ÄÇ</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>)<br>    context = browser.new_context()<br><br>    context.tracing.start(                                      <span class="hljs-comment"># ËÆ∞ÂΩïË∑üË∏™</span><br>        screenshots=<span class="hljs-literal">True</span>, snapshots=<span class="hljs-literal">True</span>, sources=<span class="hljs-literal">True</span><br>    )<br>    page = context.new_page()<br>    page.goto(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br>    page.locator(<span class="hljs-string">&quot;//*[@id=&#x27;s-hotsearch-wrapper&#x27;]/div/a[1]/div&quot;</span>).click()<br>    context.tracing.stop(path=<span class="hljs-string">&quot;./file/trace.zip&quot;</span>)               <span class="hljs-comment"># ‰øùÂ≠ò‰∏∫.zipÊñá‰ª∂</span><br><br>    browser.close()                                             <span class="hljs-comment"># ÂÖ≥Èó≠ÊµèËßàÂô®ÂØπË±°</span><br></code></pre></td></tr></table></figure>



<h2 id="1-6-tableË°®Ê†ºÊ†áÁ≠æ"><a href="#1-6-tableË°®Ê†ºÊ†áÁ≠æ" class="headerlink" title="1-6 tableË°®Ê†ºÊ†áÁ≠æ"></a>1-6 tableË°®Ê†ºÊ†áÁ≠æ</h2><ul>
<li>tableË°®Ê†ºÊ†áÁ≠æ<ul>
<li>tableË°®Ê†ºÁöÑÂ∏∏Áî®Ê†áÁ≠æÔºötable(‰∏Ä‰∏™Ë°®Ê†º)„ÄÅtr(‰∏ÄË°å)„ÄÅth(Ë°®Â§¥ÂçïÂÖÉÊ†º)„ÄÅtd(ÂÜÖÂÆπÂçïÂÖÉÊ†º)„ÄÇ</li>
<li>‰ΩøÁî®xpathÂÆö‰ΩçtableË°®Ê†ºÊï∞ÊçÆÔºå‰æãÂ¶Ç<code>/html/body/div[1]/table[1]/tbody/tr[1]/td[2]</code>„ÄÇ</li>
</ul>
</li>
</ul>
<h3 id="1-Ë°®Ê†ºÂÆö‰Ωç"><a href="#1-Ë°®Ê†ºÂÆö‰Ωç" class="headerlink" title="(1) Ë°®Ê†ºÂÆö‰Ωç"></a>(1) Ë°®Ê†ºÂÆö‰Ωç</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>)<br>    context = browser.new_context()<br>    page = context.new_page()<br>    page.goto(<span class="hljs-string">&quot;http://www.bootstrapmb.com/item/10229&quot;</span>)<br>    <span class="hljs-keyword">with</span> context.expect_page() <span class="hljs-keyword">as</span> new_page_info:<br>        page.get_by_text(<span class="hljs-string">&quot;È¢Ñ Ëßà&quot;</span>).click()<br>        page.wait_for_timeout(<span class="hljs-number">1000</span>)<br>    new_page = new_page_info.value                              <span class="hljs-comment"># ÂàáÊç¢Âà∞È¢ÑËßàtableÈ°µ</span><br>    <span class="hljs-built_in">print</span>(new_page.title())<br><br>    new_page.wait_for_load_state(<span class="hljs-string">&quot;networkidle&quot;</span>)                 <span class="hljs-comment"># Á≠âÂæÖÈ°µÈù¢Âä†ËΩΩÂÆåÊØï</span><br>    iframe = new_page.frame_locator(<span class="hljs-string">&quot;//*[@id=&#x27;iframe&#x27;]&quot;</span>)<br>    n1 = iframe.locator(<span class="hljs-string">&quot;//table[2]/tbody/tr&quot;</span>)<br>    <span class="hljs-comment"># n1 = iframe.locator(&quot;/html/body/div[1]/table[2]/tbody/tr&quot;)</span><br>    <span class="hljs-comment"># Êä•ÈîôÔºöplaywright._impl._api_types.Error: Unexpected token &quot;/&quot; while parsing selector</span><br>    <span class="hljs-built_in">print</span>(n1.count())                                           <span class="hljs-comment"># Ëé∑ÂèñÂÜÖÂÆπÂçïÂÖÉÊ†ºÊÄªË°åÊï∞</span><br>    n2 = iframe.locator(<span class="hljs-string">&quot;//*[@id=&#x27;one-part-th&#x27;]&quot;</span>)<br>    <span class="hljs-built_in">print</span>(n2.inner_text())                                      <span class="hljs-comment"># Ëé∑ÂèñË°®Â§¥ÂçïÂÖÉÊ†ºÁöÑÁ¨¨‰∫åË°åÊï∞ÊçÆ</span><br>    n3 = iframe.locator(<span class="hljs-string">&quot;//table[2]/tbody/tr/td[4]&quot;</span>)            <span class="hljs-comment"># ‰∏çÂêåtrÊèêÂèñÂêå‰∏Ätd[4]</span><br>    <span class="hljs-keyword">for</span> td <span class="hljs-keyword">in</span> n3.<span class="hljs-built_in">all</span>():<br>        <span class="hljs-built_in">print</span>(td.inner_text())                                  <span class="hljs-comment"># Ëé∑ÂèñÂÜÖÂÆπÂçïÂÖÉÊ†ºÁ¨¨4ÂàóÁöÑÊï∞ÊçÆ</span><br><br>    browser.close()                                             <span class="hljs-comment"># ÂÖ≥Èó≠ÊµèËßàÂô®ÂØπË±°</span><br></code></pre></td></tr></table></figure>



<h3 id="2-Êï∞ÊçÆËé∑Âèñ"><a href="#2-Êï∞ÊçÆËé∑Âèñ" class="headerlink" title="(2) Êï∞ÊçÆËé∑Âèñ"></a>(2) Êï∞ÊçÆËé∑Âèñ</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>)<br>    context = browser.new_context()<br>    page = context.new_page()<br>    page.goto(<span class="hljs-string">&quot;http://www.bootstrapmb.com/item/14227&quot;</span>)<br>    <span class="hljs-keyword">with</span> context.expect_page() <span class="hljs-keyword">as</span> new_page_info:<br>        page.get_by_text(<span class="hljs-string">&quot;È¢Ñ Ëßà&quot;</span>).click()<br>        page.wait_for_timeout(<span class="hljs-number">1000</span>)<br>    new_page = new_page_info.value                              <span class="hljs-comment"># ÂàáÊç¢Âà∞È¢ÑËßàtableÈ°µ</span><br>    <span class="hljs-built_in">print</span>(new_page.title())<br><br>    new_page.wait_for_load_state(<span class="hljs-string">&quot;networkidle&quot;</span>)                 <span class="hljs-comment"># Á≠âÂæÖÈ°µÈù¢Âä†ËΩΩÂÆåÊØï</span><br>    iframe = new_page.frame_locator(<span class="hljs-string">&quot;//*[@id=&#x27;iframe&#x27;]&quot;</span>)<br><br>    col_name = iframe.locator(<span class="hljs-string">&quot;//*[@id=&#x27;table-0&#x27;]/div/div[1]&quot;</span>)<br>    col_text = [item.inner_text() <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> col_name.<span class="hljs-built_in">all</span>()]<br>    <span class="hljs-built_in">print</span>(col_text)                                             <span class="hljs-comment"># ÂàóË°®ÂΩ¢ÂºèÂçïÂàóËæìÂá∫</span><br><br>    tit_name = iframe.locator(<span class="hljs-string">&quot;//*[@id=&#x27;table-0&#x27;]/div[1]&quot;</span>)<br>    tit_list = [item.inner_text() <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> tit_name.<span class="hljs-built_in">all</span>()]<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Ê†áÈ¢òÔºö&quot;</span>, [item.strip() <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> tit_list[<span class="hljs-number">0</span>].split(<span class="hljs-string">&quot;\n&quot;</span>)])<br><br>    num = iframe.locator(<span class="hljs-string">&quot;//*[@id=&#x27;table-0&#x27;]/div&quot;</span>).count()      <span class="hljs-comment"># Ëé∑ÂèñÊÄªË°åÊï∞</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Ë°åÊï∞Ôºö&quot;</span>, num)<br><br>    <span class="hljs-keyword">for</span> n <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">2</span>, num+<span class="hljs-number">1</span>):<br>        element = <span class="hljs-string">r&quot;//*[@id=&#x27;table-0&#x27;]/&quot;</span> + <span class="hljs-string">&quot;div[&quot;</span> + <span class="hljs-string">f&quot;<span class="hljs-subst">&#123;n&#125;</span>&quot;</span> + <span class="hljs-string">&quot;]&quot;</span><br>        row_name = iframe.locator(element)<br>        row_text = [item.inner_text() <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> row_name.<span class="hljs-built_in">all</span>()]<br>        row_list = [item.strip() <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> row_text[<span class="hljs-number">0</span>].split(<span class="hljs-string">&quot;\n&quot;</span>)]<br>        <span class="hljs-keyword">if</span> <span class="hljs-string">&quot;&quot;</span> <span class="hljs-keyword">in</span> row_list:                                      <span class="hljs-comment"># Â§ÑÁêÜÁ¨¨11Ë°å‰πãÂêéÁöÑÊï∞ÊçÆ</span><br>            row_list = [item.strip() <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> row_list <span class="hljs-keyword">if</span> item.strip()]<br>        <span class="hljs-built_in">print</span>(row_list)                                         <span class="hljs-comment"># ÊâìÂç∞ÊâÄÊúâÁöÑÊï∞ÊçÆË°å</span><br><br>    browser.close()                                             <span class="hljs-comment"># ÂÖ≥Èó≠ÊµèËßàÂô®ÂØπË±°</span><br></code></pre></td></tr></table></figure>



<h2 id="1-7-ÂõæÁâáÁõ∏‰ººÂ∫¶ÂØπÊØî"><a href="#1-7-ÂõæÁâáÁõ∏‰ººÂ∫¶ÂØπÊØî" class="headerlink" title="1-7 ÂõæÁâáÁõ∏‰ººÂ∫¶ÂØπÊØî"></a>1-7 ÂõæÁâáÁõ∏‰ººÂ∫¶ÂØπÊØî</h2><ul>
<li>ÂõæÁâáÁõ∏‰ººÂ∫¶ÂØπÊØî<ul>
<li>pipÂëΩ‰ª§ÂÆâË£ÖairtestÂíåaircvÔºö<code>pip install airtest</code>„ÄÅ<code>pip install aircv</code>„ÄÇ</li>
<li>PythonÂÆâË£ÖÁõÆÂΩï‰∏≠ÔºåÊâæÂà∞Lib\site-packages\airtest\aircv\cal_confidence.py„ÄÇ</li>
<li>Áõ∏‰ººÂ∫¶ÂØπÊØîÊó∂ÈúÄÁî®Âà∞cal_confidence.py‰∏≠ÁöÑÂáΩÊï∞<code>cal_ccoeff_confidence()</code>„ÄÇ</li>
<li>ÂØπÊØîÂõæÊó∂ÈúÄË¶ÅÂ∞ÜÂõæÁâáÁöÑÂ§ßÂ∞èËÆæ‰∏∫‰∏ÄËá¥ÔºåÂèØ‰ª•‰ΩøÁî®<code>cv2.resize()</code>ÊñπÊ≥ïËøõË°åÂ§ÑÁêÜ„ÄÇ</li>
<li><code>cv2.resize(src, dsize, dst=None, fx=None, fy=None, interpolation=None)</code><ul>
<li><code>src</code>Ê∫êÂõæÂÉè„ÄÅ<code>dsize</code>ÂõæÂÉèÁöÑÂ§ßÂ∞è„ÄÅ<code>fx</code>widthÊñπÂêëÁöÑÁº©ÊîæÊØî‰æã„ÄÇ</li>
<li><code>fy</code>heightÊñπÂêëÁöÑÁº©ÊîæÊØî‰æã„ÄÅ<code>interpolation</code>ÊåáÂÆöÊèíÂÄºÁöÑÊñπÂºè„ÄÇ</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> cv2<br><span class="hljs-keyword">from</span> PIL <span class="hljs-keyword">import</span> Image<br><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><span class="hljs-keyword">import</span> airtest.aircv.cal_confidence <span class="hljs-keyword">as</span> cal_confidence           <span class="hljs-comment"># ÂºïÁî®ÂáΩÊï∞</span><br><br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> playwright:<br>    browser = playwright.chromium.launch(headless=<span class="hljs-literal">False</span>)<br>    page = browser.new_page()<br>    page.goto(<br>        <span class="hljs-string">&quot;https://img.zcool.cn/community/012e9a5ecfd&quot;</span><br>        <span class="hljs-string">&quot;26aa80120662183278c.jpg@1280w_1l_2o_100sh.jpg&quot;</span><br>    )<br>    screenshot_path = <span class="hljs-string">&quot;pictures/image1.png&quot;</span><br>    page.screenshot(path=screenshot_path)                       <span class="hljs-comment"># Êà™Âõæ‰øùÂ≠òÂà∞Êú¨Âú∞</span><br>    browser.close()                                             <span class="hljs-comment"># ÂÖ≥Èó≠ÊµèËßàÂô®ÂØπË±°</span><br><br>image = Image.<span class="hljs-built_in">open</span>(screenshot_path)                             <span class="hljs-comment"># Â∞Ü‰øùÂ≠ò‰∏ãÊù•ÁöÑÂõæÁâáË£ÅÂâ™Êàê‰∏§Âçä</span><br>half1 = image.crop((<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, image.width // <span class="hljs-number">2</span>, image.height))<br>half2 = image.crop((image.width // <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, image.width, image.height))<br>half1.save(<span class="hljs-string">&quot;pictures/image2.png&quot;</span>)                               <span class="hljs-comment"># Â∑¶Âõæ</span><br>half2.save(<span class="hljs-string">&quot;pictures/image3.png&quot;</span>)                               <span class="hljs-comment"># Âè≥Âõæ</span><br><br>im1 = cv2.resize(cv2.imread(<span class="hljs-string">&quot;pictures/image2.png&quot;</span>), (<span class="hljs-number">100</span>, <span class="hljs-number">100</span>))<br>im2 = cv2.resize(cv2.imread(<span class="hljs-string">&quot;pictures/image3.png&quot;</span>), (<span class="hljs-number">100</span>, <span class="hljs-number">100</span>))<br>res = cal_confidence.cal_ccoeff_confidence(im1, im2)            <span class="hljs-comment"># Áõ∏‰ººÂ∫¶ÂØπÊØî</span><br><span class="hljs-built_in">print</span>(res)<br></code></pre></td></tr></table></figure>



<h1 id="2-Êèí‰ª∂ÁºñÂÜôÁî®‰æã"><a href="#2-Êèí‰ª∂ÁºñÂÜôÁî®‰æã" class="headerlink" title="2 Êèí‰ª∂ÁºñÂÜôÁî®‰æã"></a>2 Êèí‰ª∂ÁºñÂÜôÁî®‰æã</h1><ul>
<li>Êèí‰ª∂ÁºñÂÜôÁî®‰æã<ul>
<li>pytest-playwrightÊèí‰ª∂ÂÆåÁæéÂú∞ÁªßÊâø‰∫ÜpytestÊ°ÜÊû∂ÂíåplaywrightÂü∫Á°Ä‰ΩøÁî®ÁöÑÂ∞ÅË£ÖÔºåÊª°Ë∂≥Âü∫Êú¨Â∑•‰ΩúÈúÄÊ±Ç„ÄÇ</li>
<li>pip install pytest-playwright -i <a target="_blank" rel="noopener" href="http://pypi.douban.com/simple/">http://pypi.douban.com/simple/</a> ‚Äìtrusted-host pypi.douban.com</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> re                                                       <span class="hljs-comment"># test_plugin.py</span><br><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> Page, expect<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_homepage</span>(<span class="hljs-params">page: Page</span>):                                  <span class="hljs-comment"># ÁΩëÈ°µÊµãËØï</span><br>    page.goto(<span class="hljs-string">&quot;https://playwright.dev/&quot;</span>)                        <span class="hljs-comment"># ËÆøÈóÆÊåáÂÆöÁöÑURL</span><br>    expect(page).to_have_title(re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">&quot;Playwright&quot;</span>))        <span class="hljs-comment"># Âà§Êñ≠È°µÈù¢Ê†áÈ¢òÊòØÂê¶ÂåÖÂê´&quot;Playwright&quot;</span><br>    get_started = page.get_by_role(<span class="hljs-string">&quot;link&quot;</span>, name=<span class="hljs-string">&quot;Get started&quot;</span>)  <span class="hljs-comment"># Ëé∑ÂèñÂÖÉÁ¥†role‰∏∫linkÔºåname‰∏∫Get started</span><br>    expect(get_started).to_have_attribute(<span class="hljs-string">&quot;href&quot;</span>, <span class="hljs-string">&quot;/docs/intro&quot;</span>)<br>    get_started.click()                                         <span class="hljs-comment"># ÁÇπÂáªËé∑ÂèñÂà∞ÁöÑÂÖÉÁ¥†</span><br>    expect(page).to_have_url(re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">&quot;.*intro&quot;</span>))             <span class="hljs-comment"># Ê≠£ÂàôÂà§Êñ≠È°µÈù¢ÁöÑURLÊòØÂê¶ÂåÖÂê´&quot;intro&quot;</span><br><br><span class="hljs-comment"># pytest test_plugin.py                                         # Êó†Â§¥Ê®°ÂºèËøêË°åÔºåÊµãËØïÁªìÊûúÂíåÊó•ÂøóÂú®ÁªàÁ´ØÊòæÁ§∫</span><br><span class="hljs-comment"># pytest test_plugin.py --headed                                # ÊµèËßàÂô®UIËøêË°å</span><br></code></pre></td></tr></table></figure>



<h2 id="2-1-CLIÂèÇÊï∞"><a href="#2-1-CLIÂèÇÊï∞" class="headerlink" title="2-1 CLIÂèÇÊï∞"></a>2-1 CLIÂèÇÊï∞</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Powershell">pytest                                                          <span class="hljs-comment"># ÈªòËÆ§Âú®chromium‰∏äËøêË°åÊµãËØï</span><br>pytest ./test_*/                                                <span class="hljs-comment"># ËøêË°å‰∏ÄÁªÑÊµãËØïÊñá‰ª∂</span><br>pytest test_plugin.py                                           <span class="hljs-comment"># ËøêË°åÂçï‰∏™ÊµãËØïÊñá‰ª∂</span><br>pytest test_plugin.py <span class="hljs-literal">-k</span> <span class="hljs-string">&quot;test_homepage&quot;</span>                        <span class="hljs-comment"># ‰ΩøÁî®ÂáΩÊï∞ÂêçËøêË°åÊµãËØï</span><br>pytest test_plugin.py <span class="hljs-literal">--headed</span>                                  <span class="hljs-comment"># ÊúâÂ§¥Ê®°ÂºèËøêË°åÊµãËØï(ÈªòËÆ§Êó†Â§¥)</span><br>pytest test_plugin.py <span class="hljs-literal">--browser</span> webkit                          <span class="hljs-comment"># ÁâπÂÆöÊµèËßàÂô®ËøêË°åÊµãËØï</span><br>pytest test_plugin.py <span class="hljs-literal">--browser</span> webkit <span class="hljs-literal">--browser</span> firefox        <span class="hljs-comment"># Â§ö‰∏™ÊµèËßàÂô®ËøêË°åÊµãËØï</span><br>pytest test_plugin.py <span class="hljs-literal">--browser-channel</span> chrome                  <span class="hljs-comment"># ÊåáÂÆöÊµèËßàÂô®ÈÄöÈÅìËøêË°åÊµãËØï</span><br>pytest test_plugin.py <span class="hljs-literal">--slowmo</span> <span class="hljs-number">100</span>                              <span class="hljs-comment"># ÊåáÂÆöÂª∂Ëøü‰∏çË∂ÖËøá100msÊù•ÂáèÁºìÊµãËØïÊâßË°åÈÄüÂ∫¶</span><br>pytest test_plugin.py <span class="hljs-literal">--device</span>=<span class="hljs-string">&quot;iPhone 12&quot;</span>                      <span class="hljs-comment"># Ê®°ÊãüiPhone 12ËÆæÂ§áËøêË°åÊµãËØï</span><br>pytest test_plugin.py <span class="hljs-literal">--output</span>=<span class="hljs-string">&quot;my_results&quot;</span> <span class="hljs-literal">--video</span>=on          <span class="hljs-comment"># ÊµãËØïÁîüÊàêÁöÑÂ∑•‰ΩúÁõÆÂΩï(ÈªòËÆ§test-results)</span><br>pytest test_plugin.py <span class="hljs-literal">--tracing</span>=on                              <span class="hljs-comment"># ‰∏∫ÊØè‰∏™ÊµãËØïËÆ∞ÂΩïËΩ®Ëøπ</span><br>pytest test_plugin.py <span class="hljs-literal">--video</span>=on                                <span class="hljs-comment"># ‰∏∫ÊØèÊ¨°ÊµãËØïÂΩïÂà∂ËßÜÈ¢ë</span><br>pytest test_plugin.py <span class="hljs-literal">--screenshot</span>=on                           <span class="hljs-comment"># Êà™Âõæ(on„ÄÅÈªòËÆ§off„ÄÅretain-on-failure)</span><br><br>pip install py<span class="hljs-built_in">test-xdist</span><br>pytest <span class="hljs-literal">--numprocesses</span> auto                                      <span class="hljs-comment"># Â§öËøõÁ®ãËøêË°åÊµãËØï</span><br></code></pre></td></tr></table></figure>



<h2 id="2-2-Áî®‰æãÁºñÂÜô"><a href="#2-2-Áî®‰æãÁºñÂÜô" class="headerlink" title="2-2 Áî®‰æãÁºñÂÜô"></a>2-2 Áî®‰æãÁºñÂÜô</h2><ul>
<li>Áî®‰æãÁºñÂÜô<ul>
<li>ÊµèËßàÂô®‰∏ä‰∏ãÊñá‰ΩøÂæóÈ°µÈù¢Âú®ÊµãËØï‰πãÈó¥Ë¢´ÈöîÁ¶ªÔºåÁõ∏ÂΩì‰∫é‰∏Ä‰∏™ÂÖ®Êñ∞ÁöÑÊµèËßàÂô®ÈÖçÁΩÆÊñá‰ª∂ÔºåÊØè‰∏™ÊµãËØïÈÉΩ‰ºöËé∑Âæó‰∏Ä‰∏™Êñ∞ÁéØÂ¢É„ÄÇ</li>
<li>ÂèØ‰ª•‰ΩøÁî®ÂêÑÁßçfixtureÂú®ÊµãËØï‰πãÂâçÊàñËÄÖ‰πãÂêéÊâßË°å‰ª£Á†ÅÔºåÂπ∂Âú®ÂÆÉ‰ª¨‰πãÈó¥ÂÖ±‰∫´ÂØπË±°Ôºå‰æãÂ¶ÇÔºöbeforeEach„ÄÅafterEachÁ≠â„ÄÇ</li>
<li><a href="https://stitch-top.github.io/2023/03/03/ce-shi-kuang-jia/tf02-pytest-ce-shi-kuang-jia/#5-fixture%E9%A2%84%E7%BD%AE%E6%9D%A1%E4%BB%B6">ÂÜÖÁΩÆfixture</a><ul>
<li>Function scopeÔºöËøô‰∫õÂõ∫ÂÆöË£ÖÁΩÆÂú®ÊµãËØïÂäüËÉΩ‰∏≠ËØ∑Ê±ÇÊó∂ÂàõÂª∫ÔºåÂπ∂Âú®ÊµãËØïÁªìÊùüÊó∂ÈîÄÊØÅ„ÄÇ<ul>
<li>pageÔºöÁî®‰∫éÊµãËØïÁöÑÊñ∞ÊµèËßàÂô®È°µÈù¢„ÄÇ</li>
<li>contextÔºöÁî®‰∫éÊµãËØïÁöÑÊñ∞ÊµèËßàÂô®‰∏ä‰∏ãÊñá„ÄÇ</li>
</ul>
</li>
<li>Session scopeÔºöËøô‰∫õÂõ∫ÂÆöË£ÖÁΩÆÂú®ÊµãËØïÂáΩÊï∞‰∏≠ËØ∑Ê±ÇÊó∂ÂàõÂª∫ÔºåÂπ∂Âú®ÊâÄÊúâÊµãËØïÁªìÊùüÊó∂ÈîÄÊØÅ„ÄÇ<ul>
<li>browser_nameÔºöÊµèËßàÂô®ÂêçÁß∞‰Ωú‰∏∫Â≠óÁ¨¶‰∏≤„ÄÇ</li>
<li>browserÔºöÁî±PlaywrightÂêØÂä®ÁöÑÊµèËßàÂô®ÂÆû‰æã„ÄÇ</li>
<li>browser_channelÔºöÊµèËßàÂô®ÈÄöÈÅì‰Ωú‰∏∫Â≠óÁ¨¶‰∏≤„ÄÇ</li>
<li>browser_typeÔºöÂΩìÂâçÊµèËßàÂô®ÁöÑBrowserTypeÂÆû‰æã„ÄÇ</li>
<li>is_chromiumÔºåis_webkitÔºåis_firefoxÔºöÁõ∏Â∫îÊµèËßàÂô®Á±ªÂûãÁöÑÂ∏ÉÂ∞îÂÄº„ÄÇ</li>
</ul>
</li>
<li>Ëá™ÂÆö‰πâfixtureÈÄâÈ°πÔºöÂØπ‰∫ébrowserÂíåcontext Ôºå‰ΩøÁî®‰ª•‰∏ãfixtureÊù•Ëá™ÂÆö‰πâÂêØÂä®ÈÄâÈ°π„ÄÇ<ul>
<li>browser_context_argsÔºöË¶ÜÁõñbrowser.new_context()ÁöÑÈÄâÈ°πÔºåËøîÂõû‰∏Ä‰∏™Â≠óÂÖ∏„ÄÇ</li>
<li>browser_type_launch_argsÔºöË¶ÜÁõñbrowser_type.launch()ÁöÑÂêØÂä®ÂèÇÊï∞ÔºåËøîÂõû‰∏Ä‰∏™Â≠óÂÖ∏„ÄÇ</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> Page                             <span class="hljs-comment"># test_example.py</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_baidu</span>(<span class="hljs-params">page: Page</span>):                                      <span class="hljs-comment"># ÂÖÖÂΩìÊµãËØïÁî®‰æã</span><br>    page.goto(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)                          <span class="hljs-comment"># ÁªìÂêàconftest.py‰ΩøÁî®</span><br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)<br><br>    page.close()<br></code></pre></td></tr></table></figure>



<h3 id="1-Ë∑≥ËøáÊµèËßàÂô®"><a href="#1-Ë∑≥ËøáÊµèËßàÂô®" class="headerlink" title="(1) Ë∑≥ËøáÊµèËßàÂô®"></a>(1) Ë∑≥ËøáÊµèËßàÂô®</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                                    <span class="hljs-comment"># test_skip.py</span><br><br><br><span class="hljs-meta">@pytest.mark.skip_browser(<span class="hljs-params"><span class="hljs-string">&quot;firefox&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_example</span>(<span class="hljs-params">page</span>):<br>    page.goto(<span class="hljs-string">&quot;https://playwright.dev/&quot;</span>)<br><br><span class="hljs-comment"># pytest test_skip.py --browser firefox                          # ÊâßË°åÁî®‰æãÊü•ÁúãÊïàÊûú</span><br></code></pre></td></tr></table></figure>



<h3 id="2-ÊåáÂÆöÊµèËßàÂô®"><a href="#2-ÊåáÂÆöÊµèËßàÂô®" class="headerlink" title="(2) ÊåáÂÆöÊµèËßàÂô®"></a>(2) ÊåáÂÆöÊµèËßàÂô®</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                                   <span class="hljs-comment"># test_browser.py</span><br><br><br><span class="hljs-meta">@pytest.mark.only_browser(<span class="hljs-params"><span class="hljs-string">&quot;firefox&quot;</span></span>)                            </span><span class="hljs-comment"># „ÄêÊñπÊ≥ï‰∏Ä„ÄëÊåáÂÆöÊµèËßàÂô®</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_example</span>(<span class="hljs-params">page</span>):<br>    page.goto(<span class="hljs-string">&quot;https://playwright.dev/&quot;</span>)<br><br><span class="hljs-comment"># pytest test_browser.py --headed                               # ÈªòËÆ§chromiumÊâßË°å</span><br><span class="hljs-comment"># pytest test_browser.py --browser firefox                      # „ÄêÊñπÊ≥ï‰∫å„Äë</span><br><span class="hljs-comment"># pytest test_browser.py --browser-channel chromium             # ÂëΩ‰ª§Ë°åÂèÇÊï∞ÊåáÂÆöÊµèËßàÂô®</span><br></code></pre></td></tr></table></figure>



<h3 id="3-ÈÖçÁΩÆbase-url"><a href="#3-ÈÖçÁΩÆbase-url" class="headerlink" title="(3) ÈÖçÁΩÆbase-url"></a>(3) ÈÖçÁΩÆbase-url</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_example</span>(<span class="hljs-params">page</span>):                                         <span class="hljs-comment"># test_base_url.py</span><br>    page.goto(<span class="hljs-string">&quot;/Login.aspx&quot;</span>)                                    <span class="hljs-comment"># Áî®Âà∞‰∫Üpytest-base-urlÊèí‰ª∂</span><br><br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string"># pytest test_base_url.py --base-url https://mall.cnki.net      # „ÄêÊñπÊ≥ï‰∏Ä„ÄëÂëΩ‰ª§Ë°åÂèÇÊï∞ËÆøÈóÆ</span><br><span class="hljs-string"></span><br><span class="hljs-string"># Âè¶Â§ñÔºöPlayWrightÊ°ÜÊû∂(‰∏Ä)ÁöÑ‰∏ä‰∏ãÊñá‰ª£Á†Å‰∏≠Ôºåbase_urlÂèÇÊï∞ÊòØÂú®new_context()Êñ∞Âª∫‰∏ä‰∏ãÊñáÊó∂‰ΩøÁî®ÁöÑ</span><br><span class="hljs-string">    # Âç≥browser.new_context(base_url=&quot;https://www.baidu.com&quot;)   # „ÄêÊñπÊ≥ï‰∫å„ÄëÊñ∞Âª∫‰∏ä‰∏ãÊñá‰ΩøÁî®</span><br><span class="hljs-string">    # ÂêéÁª≠page.goto(&quot;/&quot;)‰ΩøÁî®Êó∂ÔºåÂè™ÈúÄË¶ÅÂ°´ÂÖ•Áõ∏ÂØπÂú∞ÂùÄ&quot;/&quot;Â∞±ÂèØ‰ª•ËÆøÈóÆ‰∫Ü</span><br><span class="hljs-string"></span><br><span class="hljs-string">[pytest]                                                        # „ÄêÊñπÊ≥ï‰∏â„Äëpytest.ini‰∏≠ÈÖçÁΩÆ</span><br><span class="hljs-string">base_url=https://mall.cnki.net</span><br><span class="hljs-string"># pytest test_base_url.py --headed</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>



<h3 id="4-ËÆæÁΩÆÊâãÊú∫ËÆæÂ§á"><a href="#4-ËÆæÁΩÆÊâãÊú∫ËÆæÂ§á" class="headerlink" title="(4) ËÆæÁΩÆÊâãÊú∫ËÆæÂ§á"></a>(4) ËÆæÁΩÆÊâãÊú∫ËÆæÂ§á</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                                   <span class="hljs-comment"># conftest.py</span><br><br><br><span class="hljs-meta">@pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&quot;session&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">browser_context_args</span>(<span class="hljs-params">browser_context_args, playwright</span>):<br>    iphone_11 = playwright.devices[<span class="hljs-string">&quot;iPhone 11 Pro&quot;</span>]             <span class="hljs-comment"># ÊåáÂÆöÊâãÊú∫ÂûãÂè∑ËøêË°åÁî®‰æã</span><br>    <span class="hljs-keyword">return</span> &#123;<br>        **browser_context_args,<br>        **iphone_11,<br>    &#125;<br><br><span class="hljs-comment"># pytest test_example.py --headed                               # ÊâßË°åÁî®‰æãÊü•ÁúãÊïàÊûú</span><br></code></pre></td></tr></table></figure>



<h3 id="5-ÂøΩÁï•httpsÈîôËØØ"><a href="#5-ÂøΩÁï•httpsÈîôËØØ" class="headerlink" title="(5) ÂøΩÁï•httpsÈîôËØØ"></a>(5) ÂøΩÁï•httpsÈîôËØØ</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                                   <span class="hljs-comment"># conftest.py</span><br><br><br><span class="hljs-meta">@pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&quot;session&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">browser_context_args</span>(<span class="hljs-params">browser_context_args</span>):<br>    <span class="hljs-keyword">return</span> &#123;<br>        **browser_context_args,<br>        <span class="hljs-string">&quot;ignore_https_errors&quot;</span>: <span class="hljs-literal">True</span><br>    &#125;<br><br><span class="hljs-comment"># pytest test_example.py --headed                               # ÊâßË°åÁî®‰æãÊü•ÁúãÊïàÊûú</span><br></code></pre></td></tr></table></figure>



<h3 id="6-ÊåÅ‰πÖÁöÑcontext"><a href="#6-ÊåÅ‰πÖÁöÑcontext" class="headerlink" title="(6) ÊåÅ‰πÖÁöÑcontext"></a>(6) ÊåÅ‰πÖÁöÑcontext</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                                   <span class="hljs-comment"># conftest.py</span><br><span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">Dict</span><br><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> BrowserType<br><br><br><span class="hljs-meta">@pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&quot;session&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">context</span>(<span class="hljs-params">                                                    <span class="hljs-comment"># ÊµãËØï‰∏≠ÁöÑÊâÄÊúâÈ°µÈù¢</span></span><br><span class="hljs-params">        browser_type: BrowserType,                              <span class="hljs-comment"># ÈÉΩÊòØ‰ªéÊåÅ‰πÖ‰∏ä‰∏ãÊñáÂàõÂª∫ÁöÑ</span></span><br><span class="hljs-params">        browser_type_launch_args: <span class="hljs-type">Dict</span>,</span><br><span class="hljs-params">        browser_context_args: <span class="hljs-type">Dict</span></span>):<br>    context = browser_type.launch_persistent_context(<span class="hljs-string">&quot;./foobar&quot;</span>, **&#123;<br>        **browser_type_launch_args,<br>        **browser_context_args,<br>        <span class="hljs-string">&quot;locale&quot;</span>: <span class="hljs-string">&quot;de-DE&quot;</span>,<br>    &#125;)<br>    <span class="hljs-keyword">yield</span> context<br>    context.close()<br><br><span class="hljs-comment"># pytest test_example.py --headed                               # ÊâßË°åÁî®‰æãÊü•ÁúãÊïàÊûú</span><br></code></pre></td></tr></table></figure>



<h3 id="7-ÊµèËßàÂô®Á™óÂè£Â§ßÂ∞è"><a href="#7-ÊµèËßàÂô®Á™óÂè£Â§ßÂ∞è" class="headerlink" title="(7) ÊµèËßàÂô®Á™óÂè£Â§ßÂ∞è"></a>(7) ÊµèËßàÂô®Á™óÂè£Â§ßÂ∞è</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                                   <span class="hljs-comment"># conftest.py</span><br><br><br><span class="hljs-meta">@pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&quot;session&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">browser_context_args</span>(<span class="hljs-params">browser_context_args</span>):<br>    <span class="hljs-keyword">return</span> &#123;<br>        **browser_context_args,<br>        <span class="hljs-string">&quot;viewport&quot;</span>: &#123;<br>            <span class="hljs-string">&quot;width&quot;</span>: <span class="hljs-number">1920</span>,<br>            <span class="hljs-string">&quot;height&quot;</span>: <span class="hljs-number">1080</span>,<br>        &#125;<br>    &#125;<br><br><span class="hljs-comment"># pytest test_example.py --headed                               # ÊâßË°åÁî®‰æãÊü•ÁúãÊïàÊûú</span><br></code></pre></td></tr></table></figure>



<h2 id="2-3-Â§öËøõÁ®ãÊâßË°å"><a href="#2-3-Â§öËøõÁ®ãÊâßË°å" class="headerlink" title="2-3 Â§öËøõÁ®ãÊâßË°å"></a>2-3 Â§öËøõÁ®ãÊâßË°å</h2><ul>
<li>Â§öËøõÁ®ãÊâßË°å<ul>
<li>ÂéüÂàô<ul>
<li>Áî®‰æã‰πãÈó¥Áõ∏‰∫íÁã¨Á´ãÔºåÊ≤°Êúâ‰æùËµñÔºåÊØè‰∏™Áî®‰æãÈÉΩÂèØÁã¨Á´ãËøêË°å„ÄÇ</li>
<li>Áî®‰æãÊâßË°å‰πãÈó¥Ê≤°ÊúâÈ°∫Â∫èË¶ÅÊ±ÇÔºåÈöèÊú∫È°∫Â∫èÈÉΩÂèØ‰ª•Ê≠£Â∏∏ÊâßË°å„ÄÇ</li>
<li>ÊØè‰∏™Áî®‰æãÈÉΩËÉΩÈáçÂ§çÊâßË°åÔºåËøêË°åÁªìÊûú‰∏ç‰ºöÂΩ±ÂìçÂà∞ÂÖ∂‰ªñÁî®‰æã„ÄÇ</li>
</ul>
</li>
<li>‰ΩøÁî®PIPÂåÖÁÆ°ÁêÜÂ∑•ÂÖ∑ÂÆâË£Öpytest-xdistÊèí‰ª∂Ôºö<code>pip install pytest-xdist</code>„ÄÇ</li>
<li>Á∫øÁ®ã(Thread)ÊòØËøõÁ®ã(Process)ÂÜÖÁöÑÂÆûÈôÖÊâßË°åÂçï‰ΩçÔºå‰∏ÄËøõÁ®ãÂèØÂåÖÂê´Â§ö‰∏™Á∫øÁ®ã„ÄÇ</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs Python">url = <span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>                                  <span class="hljs-comment"># test_process.py</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_case1</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;case1------&quot;</span>)<br>    <span class="hljs-keyword">assert</span> url == <span class="hljs-string">&quot;https://www.baidu.com/&quot;</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_case2</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;case2------&quot;</span>)<br>    <span class="hljs-keyword">assert</span> url == <span class="hljs-string">&quot;https://www.baidu.com/&quot;</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_case3</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;case3------&quot;</span>)<br>    <span class="hljs-keyword">assert</span> url == <span class="hljs-string">&quot;https://www.baidu.com/&quot;</span><br><br><span class="hljs-comment"># pytest test_process.py -n 2                                   # Âπ∂Ë°åÊâßË°åÁî®‰æã</span><br><span class="hljs-comment"># pytest test_process.py -n auto                                # Ëá™Âä®Ëé∑ÂèñCPUÊ†∏Êï∞ÔºåÊâßË°åÈÄüÂ∫¶ÊÖ¢</span><br></code></pre></td></tr></table></figure>



<h2 id="2-4-ÂëΩ‰ª§Ë°åÈÄâÈ°π"><a href="#2-4-ÂëΩ‰ª§Ë°åÈÄâÈ°π" class="headerlink" title="2-4 ÂëΩ‰ª§Ë°åÈÄâÈ°π"></a>2-4 ÂëΩ‰ª§Ë°åÈÄâÈ°π</h2><ul>
<li>ÂëΩ‰ª§Ë°åÈÄâÈ°π<ul>
<li>ÊµãËØïÂàÜÂ∏ÉÁÆóÊ≥ïÈÖçÁΩÆÔºöÊåáÂú®ÂàÜÂ∏ÉÂºèÊµãËØïÊâßË°åÊúüÈó¥‰ΩøÁî®ÁöÑÁÆóÊ≥ïÂíåÁõ∏ÂÖ≥ËÆæÁΩÆ„ÄÇ<ul>
<li>ÈÄöËøáÊµãËØïÂàÜÂ∏ÉÔºåÂèØ‰ª•Â∞ÜÊµãËØïÁî®‰æãÂπ∂Ë°åÂú®Â§ö‰∏™ÊµèËßàÂô®„ÄÅËÆæÂ§áÊàñÁéØÂ¢É‰∏≠ÊâßË°åÔºå‰ª•Âä†Âø´ÊµãËØïÊâßË°åÈÄüÂ∫¶„ÄÇ</li>
<li>Â∏∏ËßÅÁöÑÊµãËØïÂàÜÂ∏ÉÁÆóÊ≥ïÈÖçÁΩÆÈÄâÈ°π<ul>
<li>ËΩÆËØ¢ÔºöÂ∞ÜÂæÖÊâßË°åÁöÑÊµãËØïÁî®‰æã‰æùÊ¨°ËΩÆÊµÅÂàÜÂèëÁªôÂèØÁî®ÁöÑÊâßË°åÂô®Ôºå‰ª•ÂùáÂåÄÂú∞ÂàÜÈÖçÊµãËØïË¥üËΩΩ„ÄÇ</li>
<li>ÈöèÊú∫ÔºöÈöèÊú∫ÈÄâÊã©ÂèØÁî®ÁöÑÊâßË°åÂô®Êù•ËøêË°åÊµãËØïÁî®‰æãÔºå‰ªéËÄåÂèØËÉΩÂú®Êüê‰∫õÊÉÖÂÜµ‰∏ãÊèêÈ´òÊµãËØïÊïàÁéá„ÄÇ</li>
<li>Âü∫‰∫éË¥üËΩΩÔºöÊ†πÊçÆÊâßË°åÂô®ÁöÑË¥üËΩΩÊÉÖÂÜµÂä®ÊÄÅÂàÜÂèëÊµãËØïÁî®‰æãÔºå‰ª•Á°Æ‰øùÊâßË°åÂô®ÁöÑË¥üËΩΩÂ§ßËá¥Áõ∏Á≠â„ÄÇ</li>
</ul>
</li>
</ul>
</li>
<li>Âú®Playwright‰∏≠ÔºådistÂëΩ‰ª§Ë°åÈÄâÈ°πÁî®‰∫éÈÖçÁΩÆÊµãËØïÂàÜÂ∏ÉÁÆóÊ≥ï„ÄÇ<ul>
<li><code>--repeat-each 3</code>ÔºöÊØè‰∏™ÊµãËØïÁî®‰æãÂ∞ÜË¢´ÊâßË°å3Ê¨°„ÄÇ</li>
<li><code>--workers 3</code>Ôºö‰ΩøÁî®3‰∏™Â∑•‰ΩúËøõÁ®ãÊù•ÊâßË°åÊµãËØïÁî®‰æã„ÄÇ</li>
<li><code>--shard 1/3</code>Ôºö‰ΩøÁî®3‰∏™ÂàÜÁâá‰∏≠ÁöÑÁ¨¨1‰∏™ÂàÜÁâáÊù•ÊâßË°åÊµãËØïÁî®‰æã„ÄÇ</li>
<li><code>--max-failures 3</code>ÔºöÂ¶ÇÊûúÊµãËØïÁî®‰æãÂ§±Ë¥•ÁöÑÊ¨°Êï∞ËææÂà∞3Ê¨°ÔºåÂàôÊµãËØïÊâßË°åÂ∞ÜÂÅúÊ≠¢„ÄÇ</li>
<li><code>--dist loadfile</code>Ôºö‰ΩøÁî®Âü∫‰∫éË¥üËΩΩÁöÑÂàÜÂ∏ÉÁÆóÊ≥ïÔºåÂπ∂Ê†πÊçÆÊµãËØïÊñá‰ª∂Êù•ÂàÜÂèëÊµãËØïÁî®‰æã„ÄÇ</li>
<li><code>--dist loadgroup</code>Ôºö‰ΩøÁî®Âü∫‰∫éË¥üËΩΩÁöÑÂàÜÂ∏ÉÁÆóÊ≥ïÔºåÂπ∂Ê†πÊçÆÊµãËØïÂàÜÁªÑÊù•ÂàÜÂèëÊµãËØïÁî®‰æã„ÄÇ<ul>
<li>‰ΩøÁî®<code>@pytest.mark.xdist_group(name=&quot; &quot;)</code>Ë£ÖÈ•∞Âô®‰∏∫ÊµãËØïÁî®‰æãÊåáÂÆö‰∏çÂêåÁöÑÂàÜÁªÑÂêçÁß∞„ÄÇ</li>
<li>ÂΩìÊâßË°åÊµãËØïÊó∂Ôºåpytest-xdistÊèí‰ª∂ÂèØ‰ª•Âπ∂Ë°åÂú∞ÊâßË°åÂêå‰∏ÄÂàÜÁªÑÁöÑÊµãËØïÁî®‰æãÔºåÊèêÈ´òÊâßË°åÊïàÁéá„ÄÇ</li>
</ul>
</li>
<li><code>--dist loadscope</code>Ôºö‰ΩøÁî®Âü∫‰∫éË¥üËΩΩÁöÑÂàÜÂ∏ÉÁÆóÊ≥ïÔºåÂπ∂Êåâ‰ΩúÁî®ÂüüÊù•Âä®ÊÄÅÂàÜÈÖçÊµãËØïÁî®‰æã„ÄÇ</li>
<li><code>--dist load</code>(ÈªòËÆ§ÊñπÂºè)Ôºö‰ΩøÁî®Âü∫‰∫éË¥üËΩΩÁöÑÂàÜÂ∏ÉÁÆóÊ≥ïÔºåÊ†πÊçÆÊâßË°åÂô®ÁöÑË¥üËΩΩÊÉÖÂÜµÊù•Âä®ÊÄÅÂú∞ÂàÜÈÖçÊµãËØïÁî®‰æã„ÄÇ</li>
<li><code>--dist no</code>ÔºöÁ¶ÅÁî®ÊµãËØïÂàÜÂ∏ÉÔºåÂç≥‰∏çËøõË°åÂàÜÂ∏ÉÂºèÊµãËØïÊâßË°åÔºåËÄåÊòØÂú®Âçï‰∏™ÊâßË°åÂô®‰∏ä‰æùÊ¨°ÊâßË°åÊâÄÊúâÊµãËØïÁî®‰æã„ÄÇ</li>
<li><code>--dist worksteal</code>Ôºö‰ΩøÁî®workstealÁÆóÊ≥ïÂàÜÂèëÁî®‰æãÔºåÁÆóÊ≥ïÂÖÅËÆ∏Á©∫Èó≤ÁöÑÊâßË°åÂô®‰ªéÁπÅÂøôÁöÑÊâßË°åÂô®ÈÇ£ÈáåÁ™ÉÂèñÁî®‰æã‰ª•Âπ≥Ë°°Ë¥üËΩΩ„ÄÇ</li>
<li><code>--max-sched-chunk=3</code>ÔºöÈôêÂà∂Âπ∂ÂèëÊâßË°åÁöÑÊúÄÂ§ßÊï∞Èáè‰∏∫3Ôºå‰ªéËÄåÂú®Â§öÁ∫øÁ®ãËøõË°åÊµãËØïÊó∂ÂèØ‰ª•ÈôêÂà∂ÂêåÊó∂ÊâßË°åÁöÑÊµãËØïÁî®‰æãÊï∞Èáè„ÄÇ</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                                   <span class="hljs-comment"># test_xdist_group.py</span><br><br>url = <span class="hljs-string">&quot;https://www.baidu.com/&quot;</span><br><br><br><span class="hljs-meta">@pytest.mark.xdist_group(<span class="hljs-params">name=<span class="hljs-string">&quot;group1&quot;</span></span>)                         </span><span class="hljs-comment"># Ë£ÖÈ•∞Âô®ÊåáÂÆöÂàÜÁªÑÂêçÁß∞group1</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_case1</span>():                                               <span class="hljs-comment"># Âπ∂Ë°åÊâßË°ågroup1ÂàÜÁªÑÁöÑÁî®‰æã</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;case1------&quot;</span>)<br>    <span class="hljs-keyword">assert</span> url == <span class="hljs-string">&quot;https://www.baidu.com/&quot;</span><br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestA</span>:<br><span class="hljs-meta">    @pytest.mark.xdist_group(<span class="hljs-params"><span class="hljs-string">&quot;group1&quot;</span></span>)</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_case2</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;case2------&quot;</span>)<br>        <span class="hljs-keyword">assert</span> url == <span class="hljs-string">&quot;https://www.baidu.com/&quot;</span><br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestB</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_case3</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;case3------&quot;</span>)<br>        <span class="hljs-keyword">assert</span> url == <span class="hljs-string">&quot;https://www.baidu.com/&quot;</span><br><br><span class="hljs-comment"># pytest -n auto test_xdist_group.py</span><br></code></pre></td></tr></table></figure>



<h2 id="2-5-Êèí‰ª∂ÁªìÂêà‰ΩøÁî®"><a href="#2-5-Êèí‰ª∂ÁªìÂêà‰ΩøÁî®" class="headerlink" title="2-5 Êèí‰ª∂ÁªìÂêà‰ΩøÁî®"></a>2-5 Êèí‰ª∂ÁªìÂêà‰ΩøÁî®</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_case1</span>(<span class="hljs-params">base_url</span>):                                       <span class="hljs-comment"># test_xdist_url.py</span><br>    <span class="hljs-built_in">print</span>(base_url)                                             <span class="hljs-comment"># pytest-xdist‰∏épytest-base-urlÁªìÂêà‰ΩøÁî®</span><br>    <span class="hljs-keyword">assert</span> base_url == <span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>                 <span class="hljs-comment"># ‰ºöÈÅáÂà∞xdist‰∏çÈÄÇÈÖçÁöÑÊÉÖÂÜµÔºåÂèØ‰ª•ÂèÇÁúãËß£ÂÜ≥ÊñπÊ°à</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_case2</span>(<span class="hljs-params">base_url</span>):<br>    <span class="hljs-built_in">print</span>(base_url)<br>    <span class="hljs-keyword">assert</span> base_url == <span class="hljs-string">&quot;https://www.baidu.com/&quot;</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_case3</span>(<span class="hljs-params">base_url</span>):<br>    <span class="hljs-built_in">print</span>(base_url)<br>    <span class="hljs-keyword">assert</span> base_url == <span class="hljs-string">&quot;https://www.baidu.com/&quot;</span><br></code></pre></td></tr></table></figure>



<h3 id="1-pytest-ini"><a href="#1-pytest-ini" class="headerlink" title="(1) pytest.ini"></a>(1) pytest.ini</h3><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Ini"><span class="hljs-section">[pytest]</span>                                                         <span class="hljs-comment"># pytest.ini</span><br><br><span class="hljs-attr">base_url</span>=https://www.baidu.com/<br><br><span class="hljs-comment"># pytest test_xdist_url.py                                       # ÊâßË°åÊ≠£Â∏∏</span><br><span class="hljs-comment"># pytest test_xdist_url.py -n 2                                  # ÊâßË°åÊä•ÈîôÔºå‰ºöËé∑Âèñ‰∏çÂà∞base_url</span><br><span class="hljs-comment"># don&#x27;t run configure on xdist worker nodes                      # Ê∫êÁ†ÅÊñá‰ª∂Ê≥®ÈáäÔºåËØ¥Êòé‰∏çÈÄÇÈÖçxdist</span><br></code></pre></td></tr></table></figure>



<h3 id="2-Ëß£ÂÜ≥ÊñπÊ°à‰∏Ä"><a href="#2-Ëß£ÂÜ≥ÊñπÊ°à‰∏Ä" class="headerlink" title="(2) Ëß£ÂÜ≥ÊñπÊ°à‰∏Ä"></a>(2) Ëß£ÂÜ≥ÊñπÊ°à‰∏Ä</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-meta">@pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&quot;session&quot;</span></span>)                                </span><span class="hljs-comment"># PyCharm‰∏≠ÔºåCtrl+Âè≥ÈîÆÁÇπÂáªbase_url</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">base_url</span>(<span class="hljs-params">request</span>):                                          <span class="hljs-comment"># Âä†ËΩΩplugin.pyÊñá‰ª∂ÔºåÊâæÂà∞Â∑¶‰æß‰ª£Á†ÅÊÆµ</span><br>    <span class="hljs-string">&quot;&quot;&quot;Return a base URL&quot;&quot;&quot;</span><br>    config = request.config<br>    <span class="hljs-comment"># base_url = config.getoption(&quot;base_url&quot;)                   # ‰øÆÊîπËØ•Ë°å‰ª£Á†Å‰∏∫‰∏ã‰∏ÄË°å‰ª£Á†ÅÂÜÖÂÆπÔºå‰øùÂ≠ò</span><br>    base_url = config.getoption(<span class="hljs-string">&quot;base_url&quot;</span>) <span class="hljs-keyword">or</span> config.getini(<span class="hljs-string">&quot;base_url&quot;</span>)<br>    <span class="hljs-keyword">if</span> base_url <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:<br>        <span class="hljs-keyword">return</span> base_url<br><br><span class="hljs-comment"># ÂÜçÊ¨°ÊâßË°åÂëΩ‰ª§pytest test_xdist_url.py -n 2ÔºåÂ∞±‰∏ç‰ºöÂÜçÊä•Èîô‰∫ÜÔºåÈöèÂêéÊâßË°åpytestÂëΩ‰ª§Êó∂ÈÉΩÂá∫Áé∞‰ª•‰∏ãÈóÆÈ¢ò</span><br><span class="hljs-comment"># UnicodeDecodeError: &#x27;gbk&#x27; codec can&#x27;t decode byte 0xa1 in position 185: illegal multibyte sequence</span><br><span class="hljs-comment"># Â∞Üpytest.iniÊñá‰ª∂ÁöÑÁºñÁ†ÅÊ†ºÂºèÁî±UTF-8Êîπ‰∏∫GBKÂç≥ÂèØËß£ÂÜ≥(‰∏çÊ∏ÖÊ•öÊòØ‰∏çÊòØÁî±‰∫é‰øÆÊîπÊ∫êÊñá‰ª∂ÂÜÖÂÆπÂºïËµ∑ÁöÑÔºå‰∏çÊé®Ëçê‰ΩøÁî®ËØ•Ëß£ÂÜ≥ÊñπÊ°à)</span><br></code></pre></td></tr></table></figure>



<h3 id="3-Ëß£ÂÜ≥ÊñπÊ°à‰∫å"><a href="#3-Ëß£ÂÜ≥ÊñπÊ°à‰∫å" class="headerlink" title="(3) Ëß£ÂÜ≥ÊñπÊ°à‰∫å"></a>(3) Ëß£ÂÜ≥ÊñπÊ°à‰∫å</h3><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs Ini"><span class="hljs-section">[pytest]</span>                                                         <span class="hljs-comment"># pytest.ini</span><br><br><span class="hljs-attr">addopts</span> = --base-url=https://www.baidu.com/                      <span class="hljs-comment"># ‰∏çÈÖçÁΩÆiniÂèÇÊï∞ÔºåÈÖçÁΩÆÂëΩ‰ª§Ë°åÂèÇÊï∞</span><br></code></pre></td></tr></table></figure>



<h1 id="3-È°µÈù¢ÂØπË±°Ê®°Âûã"><a href="#3-È°µÈù¢ÂØπË±°Ê®°Âûã" class="headerlink" title="3 È°µÈù¢ÂØπË±°Ê®°Âûã"></a>3 È°µÈù¢ÂØπË±°Ê®°Âûã</h1><ul>
<li>È°µÈù¢ÂØπË±°Ê®°Âûã<ul>
<li>POMÊòØ‰∏ÄÁßçËΩØ‰ª∂ÊµãËØïËÆæËÆ°Ê®°ÂºèÔºåÁî®‰∫éÂú®Ëá™Âä®ÂåñÊµãËØï‰∏≠ÁªÑÁªáÂíåÁÆ°ÁêÜÁΩëÈ°µÁöÑÂÖÉÁ¥†ÂíåÊìç‰Ωú„ÄÇ</li>
<li>ËØ•Ê®°ÂºèÂ∞ÜÊØè‰∏™ÁΩëÈ°µËßÜ‰∏∫‰∏Ä‰∏™Áã¨Á´ãÁöÑÂØπË±°ÔºåÂπ∂‰∏î‰ΩøÁî®ÂØπË±°Êù•Ë°®Á§∫ËØ•È°µÈù¢ÁöÑÂÖÉÁ¥†ÂíåË°å‰∏∫„ÄÇ</li>
<li>Âü∫Êú¨ÂéüÂàôÊòØÂ∞ÜÈ°µÈù¢ÁªìÊûÑÂíåË°å‰∏∫‰∏éÊµãËØï‰ª£Á†ÅÂàÜÁ¶ªÂºÄÊù•ÔºåËã•ÁªìÊûÑÂèëÁîüÂèòÂåñÔºåÂè™ÈúÄÊõ¥Êñ∞È°µÈù¢ÂØπË±°ÁöÑ‰ª£Á†Å„ÄÇ</li>
<li>‰ª•ÊµãËØïÊ≥®ÂÜåÈ°µÈù¢‰∏∫‰æã<ul>
<li>Ê†πÊçÆËæìÂÖ•Ê°ÜÁöÑÂÜÖÂÆπÔºåÂèØ‰ª•ÁºñÂÜôÂ§ö‰∏™ÊúâÊïàÁ≠â‰ª∑ÂíåÊó†ÊïàÁ≠â‰ª∑ÁöÑÊµãËØïÁî®‰æã„ÄÇ</li>
<li>Áî®‰æãÊìç‰ΩúÊòØÂú®È°µÈù¢ÂÖÉÁ¥†‰∏äÁÇπÁÇπÁÇπÔºåÂ∞ÜÂÖÉÁ¥†ÂÆö‰ΩçÂíåÊìç‰ΩúÂ∞ÅË£ÖÊàê‰∏Ä‰∏™Á±ª„ÄÇ</li>
</ul>
</li>
<li>Êê≠Âª∫JForumËÆ∫Âùõ<ul>
<li><a target="_blank" rel="noopener" href="https://nchc.dl.sourceforge.net/project/xampp/XAMPP%20Windows/5.6.40/xampp-windows-x64-5.6.40-1-VC11-installer.exe">xampp-windows-x64-5.6.40-1-VC11-installer.exe</a>Ôºö‰∏ãËΩΩÔºåÂÇªÁìúÂºèÂÆâË£Ö„ÄÇ<ul>
<li>MySQLÂ∞Ümy.iniÊñá‰ª∂‰∏≠ÁöÑÁ´ØÂè£3306‰øÆÊîπ‰∏∫3311ÔºåApacheÂ∞Ühttpd.confÊñá‰ª∂‰∏≠ÁöÑÁ´ØÂè£80‰øÆÊîπ‰∏∫81„ÄÇ</li>
<li>&#x2F;Xampp&#x2F;phpMyAdmin&#x2F;config.inc.phpÊñá‰ª∂Ê∑ªÂä†ÂÜÖÂÆπ<code>$cfg[&#39;Servers&#39;][$i][&#39;port&#39;] = &#39;3311&#39;;</code>„ÄÇ</li>
<li>ÂêØÂä®Apache„ÄÅTomcat„ÄÅMySQLÔºå‰∏ãËΩΩ‚Äú<a target="_blank" rel="noopener" href="https://master.dl.sourceforge.net/project/jforum2/jforum-2.7.0.war?viasf=1">jforum-2.7.0.war</a>‚ÄùÂâ™Ë¥¥Âà∞Xampp&#x2F;tomcat&#x2F;webappsÁõÆÂΩï„ÄÇ</li>
</ul>
</li>
<li>Ëã•ÊµèËßàÂô®Ê≠£Â∏∏ËÆøÈóÆ‚Äú<a target="_blank" rel="noopener" href="http://localhost:81/phpmyadmin/">http://localhost:81/phpmyadmin/</a>‚ÄùÔºåËØ¥ÊòéÊñá‰ª∂ÈÖçÁΩÆÊ≠£Á°Æ„ÄÇ<ul>
<li>phpMyAdmin‰∏≠Êñ∞Âª∫‰∏Ä‰∏™Âêç‰∏∫<code>jforum</code>ÔºåÁºñÁ†Å‰∏∫<code>utf8_general_ci</code>ÁöÑÊï∞ÊçÆÂ∫ì„ÄÇ</li>
<li>phpMyAdminÁïåÈù¢ÔºåÁÇπÂáªË¥¶Êà∑ÔºåÂ∞ÜÁî®Êà∑Âêç‰∏∫rootÁöÑÊùÉÈôêÂØÜÁ†ÅÂÖ®ÈÉ®Êîπ‰∏∫123456„ÄÇ</li>
<li>&#x2F;Xampp&#x2F;phpMyAdmin&#x2F;config.inc.phpÊñá‰ª∂ÔºåÊîπ<code>[&#39;password&#39;] = &#39;123456&#39;;</code>„ÄÇ</li>
</ul>
</li>
<li>ÊµèËßàÂô®ËÆøÈóÆ‚Äú<a target="_blank" rel="noopener" href="http://127.0.0.1:8080/jforum-2.7.0/install.jsp">http://127.0.0.1:8080/jforum-2.7.0/install.jsp</a>‚ÄùÔºåÈÉ®ÁΩ≤Êú¨Âú∞ËÆ∫Âùõ„ÄÇ</li>
<li>Êï∞ÊçÆÂ∫ìÁ´ØÂè£3311ÔºåÊï∞ÊçÆÂ∫ìÁî®Êà∑Ë¥¶Âè∑‰∏∫rootÔºåÂØÜÁ†Å123456ÔºåÁ≥ªÁªüÁÆ°ÁêÜÂëòÂØÜÁ†Å123456„ÄÇ</li>
<li>ÈÉ®ÁΩ≤ÂÆåÊàêÂêéËÆøÈóÆËÆ∫ÂùõÈ¶ñÈ°µÔºö<a target="_blank" rel="noopener" href="http://127.0.0.1:8080/jforum-2.7.0/forums/list.page">http://127.0.0.1:8080/jforum-2.7.0/forums/list.page</a>„ÄÇ</li>
<li>Ê≥®ÊÑèÔºöËÆøÈóÆËÆ∫ÂùõÊó∂Âè™ÈúÄÂêØÂä®TomcatÂíåMySQLÔºåËÆøÈóÆÊï∞ÊçÆÂ∫ìÂàôË¶ÅÂºÄÂêØApacheÂíåMySQL„ÄÇ</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Yaml"><span class="hljs-attr">cases:</span>                                                           <span class="hljs-comment"># Áî®‰∫éÊîæÁΩÆÊµãËØïÁî®‰æã</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">test_register.py</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">__init__.py</span><br><span class="hljs-attr">models:</span>                                                          <span class="hljs-comment"># Áî®‰∫éÊîæÁΩÆÂ∞ÅË£ÖÂ•ΩÁöÑÁ±ªÊñá‰ª∂</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">register_page.py</span>                                           <span class="hljs-comment"># conftest.pyÁöÑÈÖçÁΩÆ‰ºòÂÖà‰∫épytest.ini</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">__init.py</span>                                                  <span class="hljs-comment"># ‰ΩÜ‰ªçÁÑ∂ÂèóÂà∞pytest.iniÂëΩ‰ª§Ë°åÈÄâÈ°πÁöÑÂΩ±Âìç</span><br><span class="hljs-bullet">-</span> <span class="hljs-string">conftest.py</span>                                                    <span class="hljs-comment"># Áî®‰∫éÂÆö‰πâÂÖ±‰∫´ÁöÑfixturesÂíåÈí©Â≠êÂáΩÊï∞hooks</span><br><span class="hljs-bullet">-</span> <span class="hljs-string">pytest.ini</span>                                                     <span class="hljs-comment"># ÈÖçÁΩÆÊñá‰ª∂ÔºåÁî®‰∫éËÆæÁΩÆÂÖ®Â±ÄÁöÑÊµãËØïÈÄâÈ°πÂíåÊèí‰ª∂</span><br></code></pre></td></tr></table></figure>



<h2 id="3-1-Â∞ÅË£ÖÊàêÁ±ª"><a href="#3-1-Â∞ÅË£ÖÊàêÁ±ª" class="headerlink" title="3-1 Â∞ÅË£ÖÊàêÁ±ª"></a>3-1 Â∞ÅË£ÖÊàêÁ±ª</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> Page                            <span class="hljs-comment"># register_page.py</span><br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">RegisterPage</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, page: Page</span>):<br>        self.page = page<br>        self.pop_message = <span class="hljs-literal">None</span><br>        self.locator_username = page.locator(<br>            <span class="hljs-string">&quot;//*[@id=&#x27;formregister&#x27;]/table[2]/tbody/tr[3]/td[2]/input&quot;</span><br>        )                                                       <span class="hljs-comment"># ÂÆö‰Ωç‰ºöÂëòÂêçÁß∞</span><br>        self.locator_email = page.locator(<br>            <span class="hljs-string">&quot;//*[@id=&#x27;formregister&#x27;]/table[2]/tbody/tr[4]/td[2]/input&quot;</span><br>        )                                                       <span class="hljs-comment"># ÂÆö‰ΩçÁîµÂ≠êÈÇÆÁÆ±</span><br>        self.locator_password = page.locator(<br>            <span class="hljs-string">&quot;//*[@id=&#x27;password&#x27;]&quot;</span><br>        )                                                       <span class="hljs-comment"># ÂÆö‰ΩçÂØÜÁ†Å</span><br>        self.locator_password_confirm = page.locator(<br>            <span class="hljs-string">&quot;//*[@id=&#x27;formregister&#x27;]/table[2]/tbody/tr[6]/td[2]/input&quot;</span><br>        )                                                       <span class="hljs-comment"># ÂÆö‰ΩçÁ°ÆËÆ§ÂØÜÁ†Å</span><br>        <span class="hljs-comment"># self.locator_register_btn = page.locator(</span><br>        <span class="hljs-comment">#     &quot;//*[@id=&quot;formregister&quot;]/table[2]/tbody/tr[7]/td/input[1]&quot;</span><br>        <span class="hljs-comment"># )                                                     # ÂÆö‰ΩçÁ°ÆÂÆöÊåâÈíÆ</span><br>        self.locator_register_btn = page.get_by_role(<span class="hljs-string">&quot;button&quot;</span>, name=<span class="hljs-string">&quot;Á°ÆÂÆö&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">navigate</span>(<span class="hljs-params">self</span>):                                         <span class="hljs-comment"># ÂØºËà™Âà∞‰ºöÂëòÊ≥®ÂÜåÈ°µÈù¢</span><br>        self.page.goto(<span class="hljs-string">&quot;http://127.0.0.1:8080/jforum-2.7.0/user/insert.page&quot;</span>)<br>        <span class="hljs-comment"># self.page.click(</span><br>        <span class="hljs-comment">#     &quot;/html/body/table/tbody/tr[2]/td/table/tbody/tr[3]/td/input[1]&quot;</span><br>        <span class="hljs-comment"># )                                                     # ÂêåÊÑèÂçèËÆÆÔºåÊ≤°ÂÆö‰ΩçÂà∞</span><br>        self.page.get_by_role(<span class="hljs-string">&quot;button&quot;</span>, name=<span class="hljs-string">&quot;ÊàëÂêåÊÑè‰ª•‰∏äÊù°Ê¨æ&quot;</span>).click()<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">handle_dialog</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">on_dialog</span>(<span class="hljs-params">dialog</span>):<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ÂºπÁ™óÊèêÁ§∫ÂÜÖÂÆπÔºö&quot;</span>, dialog.message)<br>            self.pop_message = dialog.message<br>            dialog.dismiss()<br>        self.page.on(<span class="hljs-string">&quot;dialog&quot;</span>, on_dialog)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">fill_username</span>(<span class="hljs-params">self, username</span>):                          <span class="hljs-comment"># ËæìÂÖ•‰ºöÂëòÂêçÁß∞</span><br>        self.locator_username.fill(username)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">fill_email</span>(<span class="hljs-params">self, email</span>):                                <span class="hljs-comment"># ËæìÂÖ•ÁîµÂ≠êÈÇÆÁÆ±</span><br>        self.locator_email.fill(email)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">fill_password</span>(<span class="hljs-params">self, password</span>):                          <span class="hljs-comment"># ËæìÂÖ•ÂØÜÁ†Å</span><br>        self.locator_password.fill(password)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">fill_password_confirm</span>(<span class="hljs-params">self, password_confirm</span>):          <span class="hljs-comment"># ËæìÂÖ•Á°ÆËÆ§ÂØÜÁ†Å</span><br>        self.locator_password_confirm.fill(password_confirm)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">click_register_button</span>(<span class="hljs-params">self</span>):                            <span class="hljs-comment"># ÁÇπÂáªÁ°ÆÂÆöÊåâÈíÆ</span><br>        self.locator_register_btn.wait_for(state=<span class="hljs-string">&quot;visible&quot;</span>)<br>        self.locator_register_btn.click()<br></code></pre></td></tr></table></figure>



<h2 id="3-2-conftest-py"><a href="#3-2-conftest-py" class="headerlink" title="3-2 conftest.py"></a>3-2 conftest.py</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                                   <span class="hljs-comment"># conftest.py</span><br><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><br><span class="hljs-meta">@pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&quot;session&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">context_chrome</span>():<br>    p = sync_playwright().start()                               <span class="hljs-comment"># ÂâçÁΩÆÊìç‰Ωú‰ª£Á†Å</span><br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)<br>    context = browser.new_context()<br>    <span class="hljs-keyword">yield</span> context<br><br>    context.close()                                             <span class="hljs-comment"># ÂÆûÁé∞Áî®‰æãÂêéÁΩÆ</span><br>    browser.close()                                             <span class="hljs-comment"># ÂêéÁΩÆÊìç‰Ωú‰ª£Á†Å</span><br>    p.stop()<br></code></pre></td></tr></table></figure>



<h2 id="3-3-ÊµãËØïÁî®‰æãÈÉ®ÂàÜ"><a href="#3-3-ÊµãËØïÁî®‰æãÈÉ®ÂàÜ" class="headerlink" title="3-3 ÊµãËØïÁî®‰æãÈÉ®ÂàÜ"></a>3-3 ÊµãËØïÁî®‰æãÈÉ®ÂàÜ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                                   <span class="hljs-comment"># test_register.py</span><br><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> expect<br><span class="hljs-keyword">from</span> models.register_page <span class="hljs-keyword">import</span> RegisterPage<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestRegister</span>:<br><span class="hljs-meta">    @pytest.fixture(<span class="hljs-params">autouse=<span class="hljs-literal">True</span></span>)                               </span><span class="hljs-comment"># True‰∏∫‰ΩúÁî®ÂüüÂÜÖÁöÑÁî®‰æãËá™Âä®Ë∞ÉÁî®</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">start_for_each</span>(<span class="hljs-params">self, context_chrome</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ËÆøÈóÆÊ≥®ÂÜåÈ°µ&quot;</span>)<br>        self.page = context_chrome.new_page()<br>        self.register = RegisterPage(self.page)<br>        self.register.navigate()<br>        <span class="hljs-keyword">yield</span>                                                   <span class="hljs-comment"># Â∞Ü‰∏Ä‰∏™ÂáΩÊï∞ÂèòÊàê‰∏Ä‰∏™ÁîüÊàêÂô®</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ÂÖ≥Èó≠Ê≥®ÂÜåÈ°µ&quot;</span>)<br>        self.page.close()                                       <span class="hljs-comment"># Ëøô‰∏™ÁîüÊàêÂô®Áî®‰∫éÊµãËØïÊ≥®ÂÜåÈ°µÈù¢</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_register_a</span>(<span class="hljs-params">self</span>):                                  <span class="hljs-comment"># ‰ºöÂëòÂêçÁß∞‰∏∫Á©∫</span><br>        self.register.fill_username(<span class="hljs-string">&quot;&quot;</span>)                         <span class="hljs-comment"># Â≠óÊÆµÈïøÂ∫¶Ë∂ÖËøáÁõ¥Êé•Êà™Êñ≠</span><br>        self.register.fill_email(<span class="hljs-string">&quot;Amelia@gmail.com&quot;</span>)            <span class="hljs-comment"># ËøôÈáå‰∏çÂÅöÈ™åËØÅ</span><br>        self.register.fill_password(<span class="hljs-string">&quot;Aa.123456&quot;</span>)<br>        self.register.fill_password_confirm(<span class="hljs-string">&quot;Aa.123456&quot;</span>)<br>        self.register.handle_dialog()<br>        self.register.click_register_button()<br>        <span class="hljs-keyword">assert</span> self.register.pop_message == <span class="hljs-string">&quot;ËØ∑Â°´ÂÜô‰ºöÂëòÂêçÁß∞ËæìÂÖ•Ê°Ü&quot;</span><br>        <span class="hljs-comment"># expect(                                               # expectÊñ≠Ë®ÄËé∑Âèñ‰∏çÂà∞ÂÜÖÂÆπ</span><br>        <span class="hljs-comment">#     self.register.pop_message</span><br>        <span class="hljs-comment"># ).to_contain_text(&quot;ËØ∑Â°´ÂÜô‰ºöÂëòÂêçÁß∞ËæìÂÖ•Ê°Ü&quot;)</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_register_b</span>(<span class="hljs-params">self</span>):                                  <span class="hljs-comment"># ÁîµÂ≠êÈÇÆÁÆ±‰∏∫Á©∫</span><br>        self.register.fill_username(<span class="hljs-string">&quot;Blima&quot;</span>)<br>        self.register.fill_email(<span class="hljs-string">&quot;&quot;</span>)<br>        self.register.fill_password(<span class="hljs-string">&quot;Aa.123456&quot;</span>)<br>        self.register.fill_password_confirm(<span class="hljs-string">&quot;Aa.123456&quot;</span>)<br>        self.register.handle_dialog()<br>        self.register.click_register_button()<br>        <span class="hljs-keyword">assert</span> self.register.pop_message == <span class="hljs-string">&quot;ËØ∑Ê≠£Á°ÆÁöÑÂ°´ÂÜôÁîµÂ≠êÈÇÆ‰ª∂ËæìÂÖ•Ê°Ü&quot;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_register_c</span>(<span class="hljs-params">self</span>):                                  <span class="hljs-comment"># ÂØÜÁ†Å‰∏∫Á©∫</span><br>        self.register.fill_username(<span class="hljs-string">&quot;Cing&quot;</span>)<br>        self.register.fill_email(<span class="hljs-string">&quot;Cing@gmail.com&quot;</span>)<br>        self.register.fill_password(<span class="hljs-string">&quot;&quot;</span>)<br>        self.register.fill_password_confirm(<span class="hljs-string">&quot;Aa.123456&quot;</span>)<br>        self.register.handle_dialog()<br>        self.register.click_register_button()<br>        <span class="hljs-keyword">assert</span> self.register.pop_message == <span class="hljs-string">&quot;ËØ∑Â°´ÂÜôÂØÜÁ†ÅËæìÂÖ•Ê°Ü&quot;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_register_d</span>(<span class="hljs-params">self</span>):                                  <span class="hljs-comment"># ÂØÜÁ†Å‰∏éÁ°ÆËÆ§ÂØÜÁ†Å‰∏ç‰∏ÄËá¥</span><br>        self.register.fill_username(<span class="hljs-string">&quot;Daijon&quot;</span>)<br>        self.register.fill_email(<span class="hljs-string">&quot;Daijon@gmail.com&quot;</span>)<br>        self.register.fill_password(<span class="hljs-string">&quot;Aa.123456&quot;</span>)<br>        self.register.fill_password_confirm(<span class="hljs-string">&quot;123456&quot;</span>)<br>        self.register.handle_dialog()<br>        self.register.click_register_button()<br>        <span class="hljs-keyword">assert</span> self.register.pop_message == <span class="hljs-string">&quot;‰∏§Ê¨°ËæìÂÖ•ÁöÑÂØÜÁ†Å‰∏çÂêà&quot;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_register_e</span>(<span class="hljs-params">self</span>):                                  <span class="hljs-comment"># ÊàêÂäüÊ≥®ÂÜå</span><br>        self.register.fill_username(<span class="hljs-string">&quot;Elianis&quot;</span>)<br>        self.register.fill_email(<span class="hljs-string">&quot;Elianis@gmail.com&quot;</span>)<br>        self.register.fill_password(<span class="hljs-string">&quot;Aa.123456&quot;</span>)<br>        self.register.fill_password_confirm(<span class="hljs-string">&quot;Aa.123456&quot;</span>)<br>        self.register.handle_dialog()<br>        self.register.click_register_button()<br>        expect(self.register.page).to_have_title(<span class="hljs-string">&quot;My Forum - your board description&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    pytest.main()<br></code></pre></td></tr></table></figure>



<h1 id="4-ÁôªÂΩïÁõ∏ÂÖ≥Êìç‰Ωú"><a href="#4-ÁôªÂΩïÁõ∏ÂÖ≥Êìç‰Ωú" class="headerlink" title="4 ÁôªÂΩïÁõ∏ÂÖ≥Êìç‰Ωú"></a>4 ÁôªÂΩïÁõ∏ÂÖ≥Êìç‰Ωú</h1><ul>
<li>ÁôªÂΩïÁõ∏ÂÖ≥Êìç‰Ωú<ul>
<li>Ë∫´‰ªΩÈ™åËØÅÊñπÂºè„ÄÅÁªïËøáÁôªÂΩïÈ™åËØÅÁ†ÅÔºö‰ª•‚ÄúÈ°µÈù¢ÂØπË±°Ê®°Âûã‚Äù‰∏≠Êê≠Âª∫ÁöÑ‚ÄúJForumËÆ∫Âùõ‚Äù‰∏∫‰æãËøõË°åËØ¥Êòé„ÄÇ</li>
<li>ÁôªÂΩïÈ°µÊªëÂä®Ëß£ÈîÅÔºö<a target="_blank" rel="noopener" href="https://www.bootstrapmb.com/item/10579">https://www.bootstrapmb.com/item/10579</a>„ÄÇ</li>
<li>ÊªëÂùóÊãºÂõæÈ™åËØÅÁ†ÅÔºö<a target="_blank" rel="noopener" href="https://www.bootstrapmb.com/item/2880">https://www.bootstrapmb.com/item/2880</a>„ÄÇ</li>
<li>ÁôªÂΩïÈ™åËØÅÁ†ÅËØÜÂà´Ôºö<a target="_blank" rel="noopener" href="https://www.bootstrapmb.com/item/8462">https://www.bootstrapmb.com/item/8462</a>„ÄÇ</li>
<li>Â§öÁ∫øÁ®ãÁôªÂΩïË¥¶Âè∑„ÄÅÂ§öË¥¶Âè∑ÁôªÂΩïÈóÆÈ¢òÔºö‰ª•‚ÄúÈ°µÈù¢ÂØπË±°Ê®°Âûã‚Äù‰∏≠Êê≠Âª∫ÁöÑ‚ÄúJForumËÆ∫Âùõ‚Äù‰∏∫‰æãËøõË°åËØ¥Êòé„ÄÇ</li>
</ul>
</li>
</ul>
<h2 id="4-1-Ë∫´‰ªΩÈ™åËØÅÊñπÂºè"><a href="#4-1-Ë∫´‰ªΩÈ™åËØÅÊñπÂºè" class="headerlink" title="4-1 Ë∫´‰ªΩÈ™åËØÅÊñπÂºè"></a>4-1 Ë∫´‰ªΩÈ™åËØÅÊñπÂºè</h2><ul>
<li>Ë∫´‰ªΩÈ™åËØÅÊñπÂºèÔºö‰ª•‚ÄúÈ°µÈù¢ÂØπË±°Ê®°Âûã‚Äù‰∏≠Êê≠Âª∫ÁöÑ‚ÄúJForumËÆ∫Âùõ‚Äù‰∏∫‰æãËøõË°åËØ¥Êòé„ÄÇ<ul>
<li>‰øùÂ≠òÁôªÂΩïcookieÔºöÂÖàÁôªÂΩïÔºåÂ∞Ücookie‰øùÂ≠òÂà∞Êú¨Âú∞ÔºåÈÄöËøáÂä†ËΩΩcookieÁöÑÊñπÂºèËß£ÂÜ≥ÈáçÂ§çÁôªÂΩïÁöÑÈóÆÈ¢ò„ÄÇ</li>
<li>WebÂ∫îÁî®Á®ãÂ∫è‰ΩøÁî®Âü∫‰∫écookieÊàñÂü∫‰∫é‰ª§ÁâåÁöÑË∫´‰ªΩÈ™åËØÅÔºåÂÖ∂‰∏≠ÁªèËøáË∫´‰ªΩÈ™åËØÅÁöÑÁä∂ÊÄÅÂ≠òÂÇ®‰∏∫cookieÊàñÊú¨Âú∞Â≠òÂÇ®„ÄÇ</li>
<li>PlaywrightÊèê‰æõÊñπÊ≥ïÁî®‰∫é‰ªéÁªèËøáË∫´‰ªΩÈ™åËØÅÁöÑ‰∏ä‰∏ãÊñá‰∏≠Ê£ÄÁ¥¢Â≠òÂÇ®Áä∂ÊÄÅÔºåÁÑ∂ÂêéÂàõÂª∫ÂÖ∑ÊúâÈ¢ÑÂ°´ÂÖÖÁä∂ÊÄÅÁöÑÊñ∞‰∏ä‰∏ãÊñá„ÄÇ</li>
<li>‰ºöËØùÂ≠òÂÇ®Ôºö‰ºöËØùÂ≠òÂÇ®ÂæàÂ∞ëÁî®‰∫éÂ≠òÂÇ®‰∏éÁôªÂΩïÁä∂ÊÄÅÁõ∏ÂÖ≥ÁöÑ‰ø°ÊÅØÔºåÂ∏∏Áî®‰∫éÁâπÂÆöÂüüÔºåÂπ∂‰∏î‰∏ç‰ºöË∑®È°µÈù¢Âä†ËΩΩÊåÅÁª≠Â≠òÂú®„ÄÇ</li>
<li>‰øùÂ≠òÁôªÂΩïÁöÑcookieÊàñÂü∫‰∫éÊú¨Âú∞Â≠òÂÇ®Áä∂ÊÄÅÁöÑË∫´‰ªΩÈ™åËØÅÔºåÂèØ‰ª•Ë∑®‰∏çÂêåÁöÑÊµèËßàÂô®‰ΩøÁî®ÔºåÂèñÂÜ≥‰∫éÂ∫îÁî®Á®ãÂ∫èÁöÑË∫´‰ªΩÈ™åËØÅÊ®°Âûã„ÄÇ</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>)<br>    context = browser.new_context()<br>    page = context.new_page()<br>    page.goto(<span class="hljs-string">&quot;http://127.0.0.1:8080/jforum-2.7.0/user/login.page&quot;</span>)<br><br>    page.locator(<br>        <span class="hljs-string">&quot;//*[@id=&#x27;loginform&#x27;]/table[2]/tbody/tr[2]/td/table/tbody/tr[2]/td[2]/input&quot;</span><br>    ).fill(<span class="hljs-string">&quot;admin&quot;</span>)<br>    page.locator(<br>        <span class="hljs-string">&quot;//*[@id=&#x27;loginform&#x27;]/table[2]/tbody/tr[2]/td/table/tbody/tr[3]/td[2]/input&quot;</span><br>    ).fill(<span class="hljs-string">&quot;123456&quot;</span>)<br>    page.locator(<br>        <span class="hljs-string">&quot;//*[@id=&#x27;loginform&#x27;]/table[2]/tbody/tr[2]/td/table/tbody/tr[5]/td/input[2]&quot;</span><br>    ).click()                                                   <span class="hljs-comment"># ÈúÄË¶Å‰∫ãÂÖàÂàõÂª∫authÁõÆÂΩïÔºåÂê¶ÂàôÊä•Èîô</span><br><br>    storage = context.storage_state(path=<span class="hljs-string">&quot;auth/state.json&quot;</span>)     <span class="hljs-comment"># ‰øùÂ≠òstorageStateÂà∞ÊåáÂÆöÁöÑÊñá‰ª∂</span><br><br>    context.close()                                             <span class="hljs-comment"># ÂÖ≥Èó≠‰∏ä‰∏ãÊñá</span><br>    browser.close()                                             <span class="hljs-comment"># ÂÖ≥Èó≠ÊµèËßàÂô®ÂØπË±°</span><br></code></pre></td></tr></table></figure>



<h3 id="1-ÁîüÊàêstate-json"><a href="#1-ÁîüÊàêstate-json" class="headerlink" title="(1) ÁîüÊàêstate.json"></a>(1) ÁîüÊàêstate.json</h3><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs Json"><span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;cookies&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>        <span class="hljs-punctuation">&#123;</span><br>            <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;JSESSIONID&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;value&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;B2BAB0E2E765073EA45904A266F0F1C0&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;domain&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;127.0.0.1&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;path&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;/jforum-2.7.0&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;expires&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">-1</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;httpOnly&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">true</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;secure&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">false</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;sameSite&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Lax&quot;</span><br>        <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-punctuation">&#123;</span><br>            <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;jforumUserId&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;value&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;domain&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;127.0.0.1&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;path&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;/jforum-2.7.0&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;expires&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1732842342.156105</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;httpOnly&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">true</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;secure&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">false</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;sameSite&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Lax&quot;</span><br>        <span class="hljs-punctuation">&#125;</span><br>    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;origins&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure>



<h3 id="2-È™åËØÅÊòØÂê¶ÂÖçÁôª"><a href="#2-È™åËØÅÊòØÂê¶ÂÖçÁôª" class="headerlink" title="(2) È™åËØÅÊòØÂê¶ÂÖçÁôª"></a>(2) È™åËØÅÊòØÂê¶ÂÖçÁôª</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>)<br>    context = browser.new_context(<br>        storage_state=<span class="hljs-string">&quot;auth/state.json&quot;</span><br>    )                                                           <span class="hljs-comment"># Âä†ËΩΩÊú¨Âú∞cookiesÔºåÂÆûÁé∞ÂÖçÁôª</span><br>    page = context.new_page()<br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)<br>    page.goto(<span class="hljs-string">&quot;http://127.0.0.1:8080/jforum-2.7.0/forums/list.page&quot;</span>)<br>    page.pause()                                                <span class="hljs-comment"># ÊâìÊñ≠ÁÇπÊü•ÁúãÊòØÂê¶ÂÖçÁôª</span><br><br>    context.close()                                             <span class="hljs-comment"># ÂÖ≥Èó≠‰∏ä‰∏ãÊñá</span><br>    browser.close()                                             <span class="hljs-comment"># ÂÖ≥Èó≠ÊµèËßàÂô®ÂØπË±°</span><br></code></pre></td></tr></table></figure>



<h3 id="3-Êú¨Âú∞‰ºöËØùÂ≠òÂÇ®"><a href="#3-Êú¨Âú∞‰ºöËØùÂ≠òÂÇ®" class="headerlink" title="(3) Êú¨Âú∞‰ºöËØùÂ≠òÂÇ®"></a>(3) Êú¨Âú∞‰ºöËØùÂ≠òÂÇ®</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>)<br>    context = browser.new_context()<br>    page = context.new_page()                                   <span class="hljs-comment"># ÂØºËà™Âà∞ÁâπÂÆöÈ°µÈù¢</span><br>    page.goto(<span class="hljs-string">&quot;http://127.0.0.1:8080/jforum-2.7.0/user/login.page&quot;</span>)<br>    session_storage = page.evaluate(                            <span class="hljs-comment"># Ëé∑ÂèñsessionStorage</span><br>        <span class="hljs-string">&quot;() =&gt; JSON.stringify(sessionStorage)&quot;</span><br>    )<br>    os.environ[<span class="hljs-string">&quot;SESSION_STORAGE&quot;</span>] = session_storage             <span class="hljs-comment"># Â∞ÜÂÖ∂Â≠òÂÇ®‰∏∫ÁéØÂ¢ÉÂèòÈáè</span><br>    session_storage = os.environ[<span class="hljs-string">&quot;SESSION_STORAGE&quot;</span>]             <span class="hljs-comment"># Âú®Êñ∞ÁöÑ‰∏ä‰∏ãÊñá‰∏≠ËÆæÁΩÆsessionStorage</span><br>    context.add_init_script(<span class="hljs-string">&quot;&quot;&quot;(storage =&gt; &#123;</span><br><span class="hljs-string">            if (window.location.hostname === &quot;example.com&quot;) &#123;</span><br><span class="hljs-string">                const entries = JSON.parse(storage)</span><br><span class="hljs-string">                for (const [key, value] of Object.entries(entries)) &#123;</span><br><span class="hljs-string">                    window.sessionStorage.setItem(key, value)</span><br><span class="hljs-string">                &#125;</span><br><span class="hljs-string">            &#125;</span><br><span class="hljs-string">        &#125;)(&#x27;&quot;&quot;&quot;</span> + session_storage + <span class="hljs-string">&quot;&#x27;)&quot;</span>)<br><br>    session_storage = os.getenv(<span class="hljs-string">&quot;SESSION_STORAGE&quot;</span>)              <span class="hljs-comment"># Ê£ÄÊü•ÁéØÂ¢ÉÂèòÈáèÊòØÂê¶ËÆæÁΩÆ‰∫ÜSESSION_STORAGE</span><br>    <span class="hljs-keyword">if</span> session_storage:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ÁéØÂ¢ÉÂèòÈáèSESSION_STORAGEÂ∑≤ÁªèËÆæÁΩÆ&quot;</span>)<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ÁéØÂ¢ÉÂèòÈáèSESSION_STORAGEÂ∞öÊú™ËÆæÁΩÆ&quot;</span>)<br><br>    context.close()                                             <span class="hljs-comment"># ÂÖ≥Èó≠‰∏ä‰∏ãÊñá</span><br>    browser.close()                                             <span class="hljs-comment"># ÂÖ≥Èó≠ÊµèËßàÂô®ÂØπË±°</span><br></code></pre></td></tr></table></figure>



<h2 id="4-2-ÁªïËøáÁôªÂΩïÈ™åËØÅÁ†Å"><a href="#4-2-ÁªïËøáÁôªÂΩïÈ™åËØÅÁ†Å" class="headerlink" title="4-2 ÁªïËøáÁôªÂΩïÈ™åËØÅÁ†Å"></a>4-2 ÁªïËøáÁôªÂΩïÈ™åËØÅÁ†Å</h2><ul>
<li>ÁªïËøáÁôªÂΩïÈ™åËØÅÁ†ÅÔºö‰ª•‚ÄúÈ°µÈù¢ÂØπË±°Ê®°Âûã‚Äù‰∏≠Êê≠Âª∫ÁöÑ‚ÄúJForumËÆ∫Âùõ‚Äù‰∏∫‰æãËøõË°åËØ¥Êòé„ÄÇ<ul>
<li>ÊµèËßàÂô®ÊâãÂ∑•ÁôªÂΩïÔºåÂÜç‰ΩøÁî®PlaywrightÊé•ÁÆ°È°µÈù¢ÔºåÁªïËøáÁôªÂΩïÈ™åËØÅÁ†ÅÊìç‰Ωú„ÄÇ</li>
<li>ÊâæÂà∞ChromeÂ±ûÊÄßÔºåÂ§çÂà∂ChromeÁöÑËµ∑Âßã‰ΩçÁΩÆÔºåÊ∑ªÂä†Âà∞PathÁéØÂ¢ÉÂèòÈáè‰∏ã„ÄÇ</li>
<li>ÂèÇÊï∞ËØ¥Êòé<ul>
<li><code>--start-maximized</code>Á™óÂè£ÊúÄÂ§ßÂåñ„ÄÇ</li>
<li><code>--incognito</code>ÈöêÁßÅÊ®°ÂºèÊâìÂºÄ„ÄÅ<code>--new-window</code>Áõ¥Êé•ÊâìÂºÄÁΩëÂùÄ„ÄÇ</li>
<li><code>--remote-debugging-port</code>ÊåáÂÆöËøêË°åÁ´ØÂè£ÔºåÈúÄÁ°Æ‰øùÊ≤°Ë¢´Âç†Áî®„ÄÇ</li>
<li><code>--user-data-dir</code>ÊåáÂÆöËøêË°åÊµèËßàÂô®ÁöÑËøêË°åÊï∞ÊçÆÔºåÊñ∞Âª∫ÁõÆÂΩïÔºå‰∏çÂΩ±ÂìçÁ≥ªÁªüÂéüÊï∞ÊçÆ„ÄÇ</li>
</ul>
</li>
<li><code>chrome.exe --remote-debugging-port=12345 --incognito --start-maximized --user-data-dir=</code></li>
<li><code>&#39;D:\Project\Python\demo&#39; --new-window http://127.0.0.1:8080/jforum-2.7.0/user/login.page</code></li>
<li>CMDÁ™óÂè£ËæìÂÖ•ÂëΩ‰ª§ÂêØÂä®ÊµèËßàÂô®ÔºåÂπ∂ÊâìÂºÄJForumËÆ∫ÂùõÔºåÊâãÂä®ËæìÂÖ•Ë¥¶Âè∑ÂØÜÁ†ÅÁôªÂΩïÂêéÔºåÊâßË°å‰ª•‰∏ãPlaywright‰ª£Á†Å„ÄÇ</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.connect_over_cdp(<br>        <span class="hljs-string">&quot;http://localhost:12345/&quot;</span>                               <span class="hljs-comment"># Á°Æ‰øùchromeÊ≤°ÊúâÊâßË°åÂÖ∂‰ªñ‰ªªÂä°</span><br>    )                                                           <span class="hljs-comment"># ËøûÊé•Áé∞ÊúâÁöÑChromiumÂÆû‰æã</span><br>    page = browser.contexts[<span class="hljs-number">0</span>].pages[<span class="hljs-number">0</span>]                         <span class="hljs-comment"># Ëé∑ÂèñpageÂØπË±°</span><br>    <span class="hljs-built_in">print</span>(page.title())<br>    <span class="hljs-built_in">print</span>(page.url)<br>    page.get_by_role(<span class="hljs-string">&quot;link&quot;</span>, name=<span class="hljs-string">&quot;ËøõÂÖ•ÂêéÂè∞ÁÆ°ÁêÜ&quot;</span>).click()<br><br>    <span class="hljs-comment"># connect_over_cdp()ÊñπÊ≥ïÂ∞ÜÁé∞ÊúâÁöÑChromiumÊµèËßàÂô®ÂÆû‰æã‰∏éPlaywright‰ª£Á†ÅËøõË°åÁªëÂÆö</span><br>    <span class="hljs-comment"># ËÄåÈùûÂú®Playwright‰∏≠ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÊµèËßàÂô®ÂÆû‰æãÔºå‰∏çÈúÄË¶ÅÂÜçÊòæÁ§∫Âú∞ÂÖ≥Èó≠Â∑≤ËøûÊé•ÁöÑÊµèËßàÂô®ÂÆû‰æã</span><br>    <span class="hljs-comment"># browser.close()</span><br></code></pre></td></tr></table></figure>



<h2 id="4-3-ÁôªÂΩïÈ°µÊªëÂä®Ëß£ÈîÅ"><a href="#4-3-ÁôªÂΩïÈ°µÊªëÂä®Ëß£ÈîÅ" class="headerlink" title="4-3 ÁôªÂΩïÈ°µÊªëÂä®Ëß£ÈîÅ"></a>4-3 ÁôªÂΩïÈ°µÊªëÂä®Ëß£ÈîÅ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)<br>    context = browser.new_context()                             <span class="hljs-comment"># ÂàõÂª∫‰∏ä‰∏ãÊñá</span><br>    page = context.new_page()                                   <span class="hljs-comment"># ÂàõÂª∫Êñ∞È°µÈù¢</span><br>    page.goto(<span class="hljs-string">&quot;https://www.bootstrapmb.com/item/10579&quot;</span>)         <span class="hljs-comment"># ËÆøÈóÆÊªëÂùóÊïàÊûúÈ°µ</span><br><br>    <span class="hljs-keyword">with</span> context.expect_page() <span class="hljs-keyword">as</span> new_page_info:                <span class="hljs-comment"># ÂàáÊç¢Âà∞ÊªëÂùóÈ°µÈù¢</span><br>        page.get_by_role(<span class="hljs-string">&quot;link&quot;</span>, name=<span class="hljs-string">&quot;È¢Ñ Ëßà&quot;</span>).click()<br>    new_page = new_page_info.value<br>    new_page.wait_for_load_state()                              <span class="hljs-comment"># Á≠âÂæÖÈ°µÈù¢Âä†ËΩΩÂà∞ÊåáÂÆöÁä∂ÊÄÅ</span><br><br>    iframe = new_page.frame_locator(<span class="hljs-string">&quot;//*[@id=&#x27;iframe&#x27;]&quot;</span>)        <span class="hljs-comment"># ÊªëÂä®Ê®°ÂùóÂú®iframeÈáåÈù¢</span><br>    slider = iframe.get_by_text(<span class="hljs-string">&quot;‚Üí&quot;</span>).bounding_box()<br>    slider_x = slider[<span class="hljs-string">&quot;x&quot;</span>] + slider[<span class="hljs-string">&quot;width&quot;</span>] // <span class="hljs-number">2</span>               <span class="hljs-comment"># ÊªëÂùó‰∏≠ÂøÉÁÇπÁöÑxÂùêÊ†á</span><br>    slider_y = slider[<span class="hljs-string">&quot;y&quot;</span>] + slider[<span class="hljs-string">&quot;height&quot;</span>] // <span class="hljs-number">2</span>              <span class="hljs-comment"># ÊªëÂùó‰∏≠ÂøÉÁÇπÁöÑyÂùêÊ†á</span><br>    target = iframe.get_by_text(<span class="hljs-string">&quot;‚Üí ÂêëÂè≥ÊªëÂä®&quot;</span>).bounding_box()<br>    target_x = target[<span class="hljs-string">&quot;width&quot;</span>]                                  <span class="hljs-comment"># ÊªëÂùóÈÄöÈÅìÊÄªÈïø</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;xÂùêÊ†áÔºö&quot;</span>, slider_x, <span class="hljs-string">&quot;\nyÂùêÊ†áÔºö&quot;</span>, slider_y, <span class="hljs-string">&quot;\nÊúÄÂè≥‰æßxÂùêÊ†áÔºö&quot;</span>, slider_x + target_x)<br><br>    new_page.mouse.move(slider_x, slider_y)<br>    new_page.mouse.down()                                       <span class="hljs-comment"># Êåâ‰ΩèÈº†Ê†áÂ∑¶ÈîÆ</span><br>    <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>):                                         <span class="hljs-comment"># Âæ™ÁéØÊâßË°å‰ª£Á†Å10Ê¨°</span><br>        slider_x += <span class="hljs-number">50</span>                                          <span class="hljs-comment"># ÈÄêÊ≠•ÁßªÂä®Èº†Ê†áËá≥ÊªëÂùóÂè≥‰æß</span><br>        new_page.mouse.move(slider_x, slider_y)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;xÂùêÊ†á+50Ôºö&quot;</span>, slider_x)<br>    new_page.mouse.up()                                         <span class="hljs-comment"># ÈáäÊîæÈº†Ê†áÂ∑¶ÈîÆ</span><br><br>    browser.close()                                             <span class="hljs-comment"># ÂÖ≥Èó≠ÊµèËßàÂô®ÂØπË±°</span><br></code></pre></td></tr></table></figure>



<h2 id="4-4-ÊªëÂùóÊãºÂõæÈ™åËØÅÁ†Å"><a href="#4-4-ÊªëÂùóÊãºÂõæÈ™åËØÅÁ†Å" class="headerlink" title="4-4 ÊªëÂùóÊãºÂõæÈ™åËØÅÁ†Å"></a>4-4 ÊªëÂùóÊãºÂõæÈ™åËØÅÁ†Å</h2><ul>
<li>ÊªëÂùóÊãºÂõæÈ™åËØÅÁ†Å<ul>
<li>È¶ñÂÖàÈúÄË¶ÅÂæóÂà∞ÊªëÂùóËÉåÊôØÂõæÔºåÁÑ∂ÂêéËÆ°ÁÆóÁº∫Âè£‰ΩçÁΩÆÔºåÊúÄÂêéÂèØËÉΩËøòË¶ÅÁªïËøáÈò≤Áà¨Ëô´Êú∫Âà∂ÔºåËÆ°ÁÆóÊªëÂä®ËΩ®Ëøπ„ÄÇ</li>
<li>ÊªëÂùóËÉåÊôØÂõæÂèØ‰ª•Ëé∑ÂèñÂà∞‰∏Ä‰∏™ÂõæÁâáÂú∞ÂùÄÔºåÁº∫Âè£ÂèØËÉΩËé∑ÂèñÂà∞ÂõæÁâáÂú∞ÂùÄÔºåÂèØËÉΩÁî±CanvasÊ†áÁ≠æÁªòÂà∂ËÄåÊàê„ÄÇ</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> re<br><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)<br>    context = browser.new_context()                             <span class="hljs-comment"># ÂàõÂª∫‰∏ä‰∏ãÊñá</span><br>    page = context.new_page()                                   <span class="hljs-comment"># ÂàõÂª∫Êñ∞È°µÈù¢</span><br>    page.goto(<span class="hljs-string">&quot;https://www.bootstrapmb.com/item/2880&quot;</span>)          <span class="hljs-comment"># ËÆøÈóÆÊªëÂùóÊãºÂõæÈ°µ</span><br><br>    <span class="hljs-keyword">with</span> context.expect_page() <span class="hljs-keyword">as</span> new_page_info:                <span class="hljs-comment"># ÂàáÊç¢Âà∞ÊªëÂùóÊãºÂõæÈ°µ</span><br>        page.get_by_role(<span class="hljs-string">&quot;link&quot;</span>, name=<span class="hljs-string">&quot;È¢Ñ Ëßà&quot;</span>).click()<br>    new_page = new_page_info.value<br>    new_page.wait_for_load_state()                              <span class="hljs-comment"># Á≠âÂæÖÈ°µÈù¢Âä†ËΩΩÂà∞ÊåáÂÆöÁä∂ÊÄÅ</span><br><br>    iframe = new_page.frame_locator(<span class="hljs-string">&quot;//*[@id=&#x27;iframe&#x27;]&quot;</span>)        <span class="hljs-comment"># ÊªëÂä®Ê®°ÂùóÂú®iframeÈáåÈù¢</span><br>    iframe.get_by_placeholder(<span class="hljs-string">&quot;Áî®Êà∑Âêç&quot;</span>).fill(<span class="hljs-string">&quot;admin&quot;</span>)<br>    iframe.get_by_placeholder(<span class="hljs-string">&quot;ÂØÜÁ†Å&quot;</span>).fill(<span class="hljs-string">&quot;123456&quot;</span>)<br>    iframe.get_by_role(<span class="hljs-string">&quot;button&quot;</span>, name=<span class="hljs-string">&quot;ÁôªÂΩï&quot;</span>).click()<br>    src = iframe.locator(<span class="hljs-string">&quot;//*[@id=&#x27;scream&#x27;]&quot;</span>).get_attribute(<span class="hljs-string">&quot;src&quot;</span>)<br>    pic = <span class="hljs-string">&quot;https://v.bootstrapmb.com/2018/11/hxge32880/&quot;</span> + src<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;ËÉåÊôØÂõæÂú∞ÂùÄÔºö<span class="hljs-subst">&#123;pic&#125;</span>&quot;</span>)<br><br>    canvas_style = iframe.locator(<br>        <span class="hljs-string">&quot;//*[@id=&#x27;imgVer&#x27;]/div[1]/div[1]/div[2]&quot;</span><br>    ).get_attribute(<span class="hljs-string">&quot;style&quot;</span>)<br>    left_value = re.search(<span class="hljs-string">r&quot;left:\s*(-?\d+)px&quot;</span>, canvas_style).group(<span class="hljs-number">1</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Áº∫Âè£ÈúÄÁßªÂä®ÁöÑË∑ùÁ¶ªÔºö<span class="hljs-subst">&#123;left_value&#125;</span>&quot;</span>)<br><br>    canvas = iframe.locator(<span class="hljs-string">&quot;#puzzleBox&quot;</span>).bounding_box()<br>    canvas_x = canvas[<span class="hljs-string">&quot;x&quot;</span>]                                      <span class="hljs-comment"># Â∑¶ËæπË∑ù</span><br>    canvas_y = canvas[<span class="hljs-string">&quot;y&quot;</span>]                                      <span class="hljs-comment"># ‰∏äËæπË∑ù</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;canvas‰ΩçÁΩÆÔºöÂ∑¶ËæπË∑ù=<span class="hljs-subst">&#123;canvas_x&#125;</span>, ‰∏äËæπË∑ù=<span class="hljs-subst">&#123;canvas_y&#125;</span>&quot;</span>)<br><br>    slider = iframe.locator(<span class="hljs-string">&quot;.slider-btn&quot;</span>).bounding_box()<br>    <span class="hljs-built_in">print</span>(slider)                                               <span class="hljs-comment"># ËøîÂõûÊªëÂùóÁöÑxÔºåyÔºåÊªëÂùóÂ§ßÂ∞è</span><br><br>    new_page.mouse.move(x=<span class="hljs-built_in">int</span>(slider[<span class="hljs-string">&quot;x&quot;</span>]), y=slider[<span class="hljs-string">&quot;y&quot;</span>] + slider[<span class="hljs-string">&quot;height&quot;</span>]/<span class="hljs-number">2</span>)<br>    new_page.mouse.down(button=<span class="hljs-string">&quot;middle&quot;</span>)<br>    new_page.wait_for_timeout(<span class="hljs-number">1000</span>)<br>    new_page.mouse.move(<br>        x=<span class="hljs-built_in">int</span>(slider[<span class="hljs-string">&quot;x&quot;</span>])-<span class="hljs-built_in">int</span>(left_value), y=slider[<span class="hljs-string">&quot;y&quot;</span>] + slider[<span class="hljs-string">&quot;height&quot;</span>]/<span class="hljs-number">2</span><br>    )<br>    new_page.mouse.up()<br><br>    browser.close()                                             <span class="hljs-comment"># ÂÖ≥Èó≠ÊµèËßàÂô®ÂØπË±°</span><br></code></pre></td></tr></table></figure>



<h2 id="4-5-ÁôªÂΩïÈ™åËØÅÁ†ÅËØÜÂà´"><a href="#4-5-ÁôªÂΩïÈ™åËØÅÁ†ÅËØÜÂà´" class="headerlink" title="4-5 ÁôªÂΩïÈ™åËØÅÁ†ÅËØÜÂà´"></a>4-5 ÁôªÂΩïÈ™åËØÅÁ†ÅËØÜÂà´</h2><ul>
<li>ÁôªÂΩïÈ™åËØÅÁ†ÅËØÜÂà´<ul>
<li>ÊÄùË∑ØÔºöÂÖàËé∑ÂèñÂà∞È™åËØÅÁ†ÅÂõæÁâáÔºåÂÆö‰ΩçÂÖÉÁ¥†ÔºåÂØπÂÖÉÁ¥†Êà™ÂõæÂç≥ÂèØÔºåÂÜç‰ΩøÁî®ddddocrÂ∫ìÂø´ÈÄüËØÜÂà´„ÄÇ</li>
<li>ÂëΩ‰ª§ÂÆâË£ÖddddocrÂ∫ìÔºö<code>pip install ddddocr -i https://pypi.douban.com/simple</code>„ÄÇ</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> ddddocr<br><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">handle_dialog</span>(<span class="hljs-params">dialog</span>):                                      <span class="hljs-comment"># Ëß¶ÂèëÂºπÂá∫Á™óÂè£ÁöÑÊìç‰ΩúÊú™Áü•Êó∂‰ΩøÁî®</span><br>    <span class="hljs-built_in">print</span>(dialog.message)                                       <span class="hljs-comment"># Ëé∑ÂèñÂØπËØùÊ°Ü‰∏≠ÊòæÁ§∫ÁöÑÊ∂àÊÅØ</span><br>    <span class="hljs-keyword">assert</span> dialog.message == <span class="hljs-string">&quot;Êèê‰∫§ÊàêÂäüÔºÅ&quot;</span><br>    dialog.dismiss()                                            <span class="hljs-comment"># ÂÖ≥Èó≠ÂØπËØùÊ°Ü</span><br><br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)<br>    context = browser.new_context()                             <span class="hljs-comment"># ÂàõÂª∫‰∏ä‰∏ãÊñá</span><br>    page = context.new_page()                                   <span class="hljs-comment"># ÂàõÂª∫Êñ∞È°µÈù¢</span><br>    page.goto(<span class="hljs-string">&quot;https://www.bootstrapmb.com/item/8462&quot;</span>)          <span class="hljs-comment"># ËÆøÈóÆÈ™åËØÅÁ†ÅÈ°µ</span><br><br>    <span class="hljs-keyword">with</span> context.expect_page() <span class="hljs-keyword">as</span> new_page_info:                <span class="hljs-comment"># ÂàáÊç¢Âà∞È™åËØÅÁ†ÅÈ°µ</span><br>        page.get_by_role(<span class="hljs-string">&quot;link&quot;</span>, name=<span class="hljs-string">&quot;È¢Ñ Ëßà&quot;</span>).click()<br>    new_page = new_page_info.value<br>    new_page.wait_for_load_state()                              <span class="hljs-comment"># Á≠âÂæÖÈ°µÈù¢Âä†ËΩΩÂà∞ÊåáÂÆöÁä∂ÊÄÅ</span><br><br>    iframe = new_page.frame_locator(<span class="hljs-string">&quot;//*[@id=&#x27;iframe1&#x27;]&quot;</span>)       <span class="hljs-comment"># ÊªëÂä®Ê®°ÂùóÂú®iframeÈáåÈù¢</span><br>    iframe.locator(<br>        <span class="hljs-string">&quot;#canvas&quot;</span><br>    ).screenshot(path=<span class="hljs-string">&quot;pictures/code.png&quot;</span>)                      <span class="hljs-comment"># ‰øùÂ≠òÈ™åËØÅÁ†Å</span><br><br>    ocr = ddddocr.DdddOcr(show_ad=<span class="hljs-literal">False</span>)                        <span class="hljs-comment"># ËØÜÂà´È™åËØÅÁ†ÅÔºåÂÆû‰æãÂåñ</span><br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;pictures/code.png&quot;</span>, <span class="hljs-string">&quot;rb&quot;</span>) <span class="hljs-keyword">as</span> f:                  <span class="hljs-comment"># ÊâìÂºÄÂõæÁâá</span><br>        img_bytes = f.read()                                    <span class="hljs-comment"># ËØªÂèñÂõæÁâá</span><br>    code = ocr.classification(img_bytes)                        <span class="hljs-comment"># ËØÜÂà´È™åËØÅÁ†Å</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;È™åËØÅÁ†ÅÔºö<span class="hljs-subst">&#123;code&#125;</span>&quot;</span>)<br><br>    iframe.get_by_placeholder(<span class="hljs-string">&quot;ËØ∑ËæìÂÖ•È™åËØÅÁ†ÅÔºà‰∏çÂå∫ÂàÜÂ§ßÂ∞èÂÜôÔºâ&quot;</span>).fill(code)<br>    <span class="hljs-comment"># iframe.get_by_role(&quot;button&quot;, name=&quot;Êèê‰∫§&quot;).click()</span><br>    <br>    <span class="hljs-comment"># ÁÇπÂáªÊèê‰∫§ÊåâÈíÆÂâçÔºåÂÖàÊ≥®ÂÜåÂºπÁ™óÂ§ÑÁêÜÂáΩÊï∞ÔºåÁ°Æ‰øùÂºπÁ™óÂá∫Áé∞Êó∂Ë¢´Ê≠£Á°ÆÂ§ÑÁêÜ</span><br>    new_page.on(<span class="hljs-string">&quot;dialog&quot;</span>, handle_dialog)<br>    iframe.get_by_role(<span class="hljs-string">&quot;button&quot;</span>, name=<span class="hljs-string">&quot;Êèê‰∫§&quot;</span>).click()<br>    page.wait_for_timeout(<span class="hljs-number">5000</span>)<br><br>    browser.close()                                             <span class="hljs-comment"># ÂÖ≥Èó≠ÊµèËßàÂô®ÂØπË±°</span><br></code></pre></td></tr></table></figure>



<h2 id="4-6-Â§öÁ∫øÁ®ãÁôªÂΩïË¥¶Âè∑"><a href="#4-6-Â§öÁ∫øÁ®ãÁôªÂΩïË¥¶Âè∑" class="headerlink" title="4-6 Â§öÁ∫øÁ®ãÁôªÂΩïË¥¶Âè∑"></a>4-6 Â§öÁ∫øÁ®ãÁôªÂΩïË¥¶Âè∑</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> threading <span class="hljs-keyword">import</span> Thread<br><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">do_some_thing</span>(<span class="hljs-params">username, password</span>):<br>    p = sync_playwright().start()<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)<br>    context = browser.new_context()<br>    page = context.new_page()<br>    page.goto(<span class="hljs-string">&quot;http://127.0.0.1:8080/jforum-2.7.0/user/login.page&quot;</span>)<br><br>    page.locator(<span class="hljs-string">&quot;input[name=\&quot;username\&quot;]&quot;</span>).fill(username)<br>    page.locator(<span class="hljs-string">&quot;input[name=\&quot;password\&quot;]&quot;</span>).fill(password)<br>    page.get_by_role(<span class="hljs-string">&quot;button&quot;</span>, name=<span class="hljs-string">&quot;ÁôªÂÖ•&quot;</span>).click()<br><br>    page.pause()                                                <span class="hljs-comment"># ÊöÇÂÅúÊü•ÁúãÊïàÊûú</span><br>    context.close()<br>    browser.close()                                             <span class="hljs-comment"># ÂÖ≥Èó≠ÊµèËßàÂô®ÂØπË±°</span><br><br><br>users = [[<span class="hljs-string">&quot;Admin&quot;</span>, <span class="hljs-string">&quot;123456&quot;</span>], [<span class="hljs-string">&quot;Elara&quot;</span>, <span class="hljs-string">&quot;Aa.123456&quot;</span>], [<span class="hljs-string">&quot;Celeste&quot;</span>, <span class="hljs-string">&quot;Aa.123456&quot;</span>]]<br><span class="hljs-keyword">for</span> user <span class="hljs-keyword">in</span> users:                                              <span class="hljs-comment"># Â§öÁ∫øÁ®ãÔºå3‰∏™Ë¥¶Âè∑ÂêåÊó∂Êìç‰Ωú</span><br>    thread = Thread(target=do_some_thing, args=user)<br>    thread.start()<br></code></pre></td></tr></table></figure>



<h1 id="5-Ë¥¶Âè∑ÂàáÊç¢Êìç‰Ωú"><a href="#5-Ë¥¶Âè∑ÂàáÊç¢Êìç‰Ωú" class="headerlink" title="5 Ë¥¶Âè∑ÂàáÊç¢Êìç‰Ωú"></a>5 Ë¥¶Âè∑ÂàáÊç¢Êìç‰Ωú</h1><ul>
<li>Ë¥¶Âè∑ÂàáÊç¢Êìç‰Ωú<ul>
<li>‰ª•‚ÄúÈ°µÈù¢ÂØπË±°Ê®°Âûã‚Äù‰∏≠Êê≠Âª∫ÁöÑ‚ÄúJForumËÆ∫Âùõ‚Äù‰∏∫‰æãËøõË°åËØ¥Êòé„ÄÇ<ul>
<li>Áî®Êà∑ÁöÑÂèëÂ∏ñ‰∏éÂõûÂ∏ñÂäüËÉΩÔºåÈúÄ‰ΩøÁî®AdminÁÆ°ÁêÜÂëòË¥¶Âè∑ÔºåÂú®ÂêéÂè∞ÁÆ°ÁêÜ‰∏≠Â∞ÜÈ™åËØÅÁ†ÅÂÖ≥Èó≠„ÄÇ</li>
<li>ÂèåË¥¶Âè∑ÂàáÊç¢Êìç‰ΩúÔºö‰ª£Á†ÅÂÆûÁé∞AdminË¥¶Âè∑ÁôªÂΩïËøõË°åÂèëÂ∏ñÔºåElianisË¥¶Âè∑ÁôªÂΩïËøõË°åÂõûÂ∏ñ„ÄÇ</li>
<li>ËøôÈáåÁöÑconftest.pyÊñá‰ª∂Âú®Ê†πÁõÆÂΩïÔºå‰ºöË¢´‚ÄúÈ°µÈù¢ÂØπË±°Ê®°Âûã‚ÄùÁöÑconftest.pyÊñá‰ª∂Âèñ‰ª£„ÄÇ</li>
</ul>
</li>
<li>conftest.pyÊñá‰ª∂ÁöÑ‰ºòÂÖàÁ∫ßÈóÆÈ¢ò<ul>
<li>ÊµãËØïÊñá‰ª∂ÊâÄÂú®ÁõÆÂΩï‰∏≠ÁöÑconftest.pyÊñá‰ª∂ÔºåÂÖ∑ÊúâÊúÄÈ´òÁöÑ‰ºòÂÖàÁ∫ß„ÄÇ</li>
<li>ÊµãËØïÊñá‰ª∂ÊâÄÂú®Áà∂ÁõÆÂΩïÁöÑconftest.pyÊñá‰ª∂ÂÖ∂Ê¨°Ôºå‰æùÊ¨°Âêë‰∏äÊü•Êâæ„ÄÇ</li>
<li>È°πÁõÆÊ†πÁõÆÂΩï‰∏≠ÁöÑconftest.pyÊñá‰ª∂‰ºòÂÖàÁ∫ßÊúÄ‰Ωé„ÄÇ</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Yaml"><span class="hljs-attr">cases:</span>                                                           <span class="hljs-comment"># Áî®‰∫éÊîæÁΩÆÊµãËØïÁî®‰æã</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">test_login.py</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">__init__.py</span>                                                <span class="hljs-comment"># Á©∫</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">conftest.py</span>                                                <span class="hljs-comment"># Áî®‰∫éÂÆö‰πâÂÖ±‰∫´ÁöÑfixturesÂíåÈí©Â≠êÂáΩÊï∞hooks</span><br><span class="hljs-attr">models:</span>                                                          <span class="hljs-comment"># Áî®‰∫éÊîæÁΩÆÂ∞ÅË£ÖÂ•ΩÁöÑÁ±ªÊñá‰ª∂</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">post_page.py</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">login_page.py</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">__init__.py</span>                                                <span class="hljs-comment"># Á©∫</span><br></code></pre></td></tr></table></figure>



<h2 id="5-1-conftest-py"><a href="#5-1-conftest-py" class="headerlink" title="5-1 conftest.py"></a>5-1 conftest.py</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                                   <span class="hljs-comment"># conftest.py</span><br><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><br><span class="hljs-meta">@pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&quot;session&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">context_chrome</span>():<br>    p = sync_playwright().start()                               <span class="hljs-comment"># ÂâçÁΩÆÊìç‰Ωú‰ª£Á†Å</span><br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)<br>    <span class="hljs-keyword">yield</span> browser<br><br>    browser.close()                                             <span class="hljs-comment"># ÂêéÁΩÆÊìç‰Ωú‰ª£Á†Å</span><br>    p.stop()<br></code></pre></td></tr></table></figure>



<h2 id="5-2-post-page-py"><a href="#5-2-post-page-py" class="headerlink" title="5-2 post_page.py"></a>5-2 post_page.py</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> Page                            <span class="hljs-comment"># post_page.py</span><br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">PostPage</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, page: Page</span>):<br>        self.page = page<br><br>        self.locator_section = page.locator(<br>            <span class="hljs-string">&quot;body &gt; table &gt; tbody &gt; tr:nth-child(2) &gt; td &gt; table:nth-child(5) &gt; tbody &gt; tr &gt; td &quot;</span><br>            <span class="hljs-string">&quot;&gt; table.forumline.forumlist &gt; tbody &gt; tr:nth-child(3) &gt; td:nth-child(2) &gt; span.forumlink &gt; a&quot;</span><br>        )                                                       <span class="hljs-comment"># ÂÆö‰ΩçÊØèÊó•‰∏ÄË®ÄÁâàÂùó</span><br>        self.locator_topic = page.locator(<br>            <span class="hljs-string">&quot;body &gt; table &gt; tbody &gt; tr:nth-child(2) &gt; td &gt; table:nth-child(6) &quot;</span><br>            <span class="hljs-string">&quot;&gt; tbody &gt; tr &gt; td &gt; table:nth-child(2) &gt; tbody &gt; tr &gt; td:nth-child(1)&quot;</span><br>        )                                                       <span class="hljs-comment"># ÂÆö‰ΩçÂèëË°®‰∏ªÈ¢òÊåâÈíÆ</span><br><br>        self.locator_post = page.get_by_role(<span class="hljs-string">&quot;link&quot;</span>, name=<span class="hljs-string">&quot;ÊØèÊó•Ëã±ËØ≠&quot;</span>)<br>        self.locator_english = page.locator(<br>            <span class="hljs-string">&quot;.bodyline &gt; table:nth-child(2) &gt; tbody &gt; tr &gt; td&quot;</span><br>        ).first<br><br>        self.locator_subject = page.locator(<span class="hljs-string">&quot;input[name=\&quot;subject\&quot;]&quot;</span>)<br>        self.locator_message = page.locator(<span class="hljs-string">&quot;textarea[name=\&quot;message\&quot;]&quot;</span>)<br>        self.locator_sending = page.get_by_role(<span class="hljs-string">&quot;button&quot;</span>, name=<span class="hljs-string">&quot;ÂèëÈÄÅ&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">navigate_daily_word</span>(<span class="hljs-params">self</span>):<br>        self.locator_section.click()<br>        self.locator_topic.click()<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">posted</span>(<span class="hljs-params">self, subject, message</span>):                         <span class="hljs-comment"># ÂèëÂ∏ñ</span><br>        self.locator_subject.fill(subject)<br>        self.locator_message.fill(message)<br>        self.locator_sending.click()<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">navigate_daily_english</span>(<span class="hljs-params">self</span>):<br>        self.locator_section.click()<br>        self.locator_post.click()<br>        self.locator_english.click()<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">reply</span>(<span class="hljs-params">self, message</span>):                                   <span class="hljs-comment"># ÂõûÂ∏ñ</span><br>        self.locator_message.fill(message)<br>        self.locator_sending.click()<br></code></pre></td></tr></table></figure>



<h2 id="5-3-login-page-py"><a href="#5-3-login-page-py" class="headerlink" title="5-3 login_page.py"></a>5-3 login_page.py</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> Page                            <span class="hljs-comment"># login_page.py</span><br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">LoginPage</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, page: Page</span>):<br>        self.page = page<br>        self.locator_username = page.locator(<span class="hljs-string">&quot;input[name=\&quot;username\&quot;]&quot;</span>)<br>        self.locator_password = page.locator(<span class="hljs-string">&quot;input[name=\&quot;password\&quot;]&quot;</span>)<br>        self.locator_login_btn = page.get_by_role(<span class="hljs-string">&quot;button&quot;</span>, name=<span class="hljs-string">&quot;ÁôªÂÖ•&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">navigate</span>(<span class="hljs-params">self</span>):                                         <span class="hljs-comment"># ÂØºËà™Âà∞ÁôªÂΩïÈ°µÈù¢</span><br>        self.page.goto(<span class="hljs-string">&quot;http://127.0.0.1:8080/jforum-2.7.0/user/login.page&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">login</span>(<span class="hljs-params">self, username, password</span>):                        <span class="hljs-comment"># ÁôªÂΩï</span><br>        self.locator_username.fill(username)<br>        self.locator_password.fill(password)<br>        self.locator_login_btn.click()<br></code></pre></td></tr></table></figure>



<h2 id="5-4-test-login-py"><a href="#5-4-test-login-py" class="headerlink" title="5-4 test_login.py"></a>5-4 test_login.py</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                                   <span class="hljs-comment"># test_login.py</span><br><span class="hljs-keyword">import</span> requests<br><span class="hljs-keyword">from</span> models.post_page <span class="hljs-keyword">import</span> PostPage<br><span class="hljs-keyword">from</span> models.login_page <span class="hljs-keyword">import</span> LoginPage<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">message_content</span>():<br>    response = requests.get(<span class="hljs-string">&quot;https://api.vvhan.com/api/dailyEnglish?type=sj&quot;</span>)<br>    <span class="hljs-keyword">if</span> response.status_code == <span class="hljs-number">200</span>:<br>        data = response.json()                                  <span class="hljs-comment"># Ëß£ÊûêJSONÂìçÂ∫î</span><br>        zh_content = data[<span class="hljs-string">&quot;data&quot;</span>][<span class="hljs-string">&quot;zh&quot;</span>]                         <span class="hljs-comment"># Ëé∑ÂèñzhÂíåenÂÜÖÂÆπ</span><br>        en_content = data[<span class="hljs-string">&quot;data&quot;</span>][<span class="hljs-string">&quot;en&quot;</span>]<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;en_content&#125;</span>&quot;</span>)                                  <span class="hljs-comment"># ÊâìÂç∞ÂÜÖÂÆπ</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;zh_content&#125;</span>&quot;</span>)<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">f&quot;<span class="hljs-subst">&#123;en_content&#125;</span>&quot;</span> + <span class="hljs-string">&quot;/n&quot;</span> + <span class="hljs-string">f&quot;<span class="hljs-subst">&#123;zh_content&#125;</span>&quot;</span><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;APIËé∑ÂèñÊØèÊó•Ëã±ËØ≠Â§±Ë¥•„ÄÇ&quot;</span>)<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;APIËé∑ÂèñÊØèÊó•Ëã±ËØ≠Â§±Ë¥•„ÄÇ&quot;</span><br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestMoreAccounts</span>:                                         <span class="hljs-comment"># Â§öË¥¶Âè∑ÂàáÊç¢Êìç‰Ωú</span><br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        ÊµãËØïÊµÅÁ®ãÔºö</span><br><span class="hljs-string">            step--AdminÁôªÂΩïÔºåÂèëÂ∏ñ</span><br><span class="hljs-string">            step--ElianisÁôªÂΩïÔºåÂõûÂ∏ñ</span><br><span class="hljs-string">        :return:</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br><span class="hljs-meta">    @pytest.fixture(<span class="hljs-params">autouse=<span class="hljs-literal">True</span></span>)                               </span><span class="hljs-comment"># True‰∏∫‰ΩúÁî®ÂüüÂÜÖÁöÑÁî®‰æãËá™Âä®Ë∞ÉÁî®</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">start_for_each</span>(<span class="hljs-params">self, context_chrome</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ËÆøÈóÆÁôªÂΩïÈ°µ&quot;</span>)<br><br>        admin_context = context_chrome.new_context()            <span class="hljs-comment"># ÁÆ°ÁêÜÂëòÁôªÂΩï</span><br>        admin_page = admin_context.new_page()<br>        self.user_admin_login = LoginPage(admin_page)<br>        self.user_admin_login.navigate()                        <span class="hljs-comment"># ÊØè‰∏™Ë¥¶Êà∑Êìç‰Ωú</span><br>        self.user_admin_post = PostPage(admin_page)             <span class="hljs-comment"># ÈÉΩÂ∞Ü‰∫ßÁîü‰∏§‰∏™ÊµèËßàÂô®ÔºüÔºüÔºü</span><br><br>        general_context = context_chrome.new_context()          <span class="hljs-comment"># ÊôÆÈÄöÁî®Êà∑ÁôªÂΩï</span><br>        general_page = general_context.new_page()<br>        self.uesr_general_login = LoginPage(general_page)<br>        self.uesr_general_login.navigate()<br>        self.user_general_reply = PostPage(general_page)<br><br>        <span class="hljs-keyword">yield</span>                                                   <span class="hljs-comment"># Â∞Ü‰∏Ä‰∏™ÂáΩÊï∞ÂèòÊàê‰∏Ä‰∏™ÁîüÊàêÂô®</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ÂÖ≥Èó≠ÁôªÂΩïÈ°µ&quot;</span>)<br>        admin_context.close()<br>        general_context.close()                                 <span class="hljs-comment"># ÂÖ≥Èó≠‰∏ä‰∏ãÊñá</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_admin</span>(<span class="hljs-params">self</span>):<br>        self.user_admin_login.login(<span class="hljs-string">&quot;Admin&quot;</span>, <span class="hljs-string">&quot;123456&quot;</span>)<br>        self.user_admin_post.navigate_daily_word()<br>        self.user_admin_post.posted(<span class="hljs-string">&quot;ÊØèÊó•Ëã±ËØ≠&quot;</span>, message_content())<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_general</span>(<span class="hljs-params">self</span>):<br>        self.uesr_general_login.login(<span class="hljs-string">&quot;Elianis&quot;</span>, <span class="hljs-string">&quot;Aa.123456&quot;</span>)<br>        self.user_general_reply.navigate_daily_english()<br>        self.user_general_reply.reply(message_content())<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    pytest.main()<br></code></pre></td></tr></table></figure>



<h1 id="6-MockÊé•Âè£ËøîÂõû"><a href="#6-MockÊé•Âè£ËøîÂõû" class="headerlink" title="6 MockÊé•Âè£ËøîÂõû"></a>6 MockÊé•Âè£ËøîÂõû</h1><ul>
<li>MockÊé•Âè£ËøîÂõû<ul>
<li>PlaywrightÊèê‰æõAPIÔºåÁî®Êù•Ê®°ÊãüÂíå‰øÆÊîπÁΩëÁªúËØ∑Ê±ÇÔºåÂåÖÊã¨HTTPÂíåHTTPS„ÄÇ</li>
<li>È°µÈù¢ÊâßË°åÁöÑ‰ªª‰ΩïËØ∑Ê±ÇÂåÖÊã¨XHRÂíåËé∑ÂèñËØ∑Ê±ÇÔºåÈÉΩÂèØ‰ª•Ë¢´Ë∑üË∏™„ÄÅ‰øÆÊîπÂíåÊ®°Êãü„ÄÇ</li>
<li>‰ΩøÁî®<code>page.route()</code>ÊñπÊ≥ïÂàõÂª∫RouteÂØπË±°ÔºåÊåáÂÆöË¶ÅÊã¶Êà™ÁöÑËØ∑Ê±ÇURLÔºåÊàñ‰ΩøÁî®Ê≠£ÂàôË°®ËææÂºèËøõË°åÂåπÈÖç„ÄÇ</li>
<li>ÂàõÂª∫RouteÂØπË±°ÂêéÔºåÈÄöËøáË∞ÉÁî®<code>route.abort()</code>„ÄÅ<code>route.fulfill()</code>Á≠âÊù•ÊéßÂà∂ËØ∑Ê±ÇÁöÑËøõ‰∏ÄÊ≠•Â§ÑÁêÜ„ÄÇ</li>
</ul>
</li>
</ul>
<h2 id="6-1-ÊñπÊ≥ï"><a href="#6-1-ÊñπÊ≥ï" class="headerlink" title="6-1 ÊñπÊ≥ï"></a>6-1 ÊñπÊ≥ï</h2><ul>
<li>ÊñπÊ≥ï<ul>
<li><code>route.abort()</code>Ôºå‰∏≠Ê≠¢ËØ∑Ê±ÇÔºåÂèØ‰ª•ÈÄâÊã©ÊåáÂÆöÁöÑÈîôËØØ‰ª£Á†Å„ÄÇ</li>
<li><code>route.fetch()</code>ÔºåÊâßË°åËØ∑Ê±ÇÂπ∂Âú®‰∏çÊª°Ë∂≥ÁöÑÊÉÖÂÜµ‰∏ãËé∑ÂèñÁªìÊûúÔºå‰ª•‰øÆÊîπÂÆåÊàêÂìçÂ∫î„ÄÇ</li>
<li><code>route.fulfill()</code>ÔºåÁî®‰∫éÊ®°ÊãüÂÆåÊàêËØ∑Ê±ÇÔºåÂç≥ÊâãÂä®Êèê‰æõÂìçÂ∫îÊï∞ÊçÆÔºåÂπ∂ÁªìÊùüËØ∑Ê±Ç„ÄÇ</li>
<li><code>route.fallback()</code>ÔºåÁî®‰∫éÊåáÂÆöÂΩìËØ∑Ê±ÇÊú™ÂåπÈÖçÂà∞‰ªª‰ΩïÊã¶Êà™ËßÑÂàôÊó∂ÂÄôÁöÑÂõûÈÄÄË°å‰∏∫„ÄÇ</li>
<li><code>route.continue_()</code>ÔºåÁªßÁª≠ËØ∑Ê±ÇÔºå‰ΩøÂÖ∂ÊåâÁÖßÊ≠£Â∏∏ÁöÑÊµÅÁ®ãÁªßÁª≠ÂèëÈÄÅÔºåÂπ∂Êé•Êî∂ÂìçÂ∫î„ÄÇ</li>
</ul>
</li>
</ul>
<h3 id="1-abort"><a href="#1-abort" class="headerlink" title="(1) abort()*"></a>(1) abort()*</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">intercept_request</span>(<span class="hljs-params">route, request</span>):<br>    <span class="hljs-keyword">if</span> request.url.startswith(<span class="hljs-string">&quot;https://www.amap.com&quot;</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Intercepted request to: <span class="hljs-subst">&#123;request.url&#125;</span>&quot;</span>)<br>        route.abort()                                           <span class="hljs-comment"># ‰∏≠Ê≠¢ËØ∑Ê±Ç</span><br><br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)<br>    page = browser.new_page()<br>    page.route(                                                 <span class="hljs-comment"># ÁõëÂê¨ËØ∑Ê±ÇÂπ∂Êã¶Êà™</span><br>        <span class="hljs-string">&quot;**/*&quot;</span>, <span class="hljs-keyword">lambda</span> route, request: intercept_request(route, request)<br>    )<br>    page.goto(<span class="hljs-string">&quot;https://www.amap.com/smog&quot;</span>)                      <span class="hljs-comment"># Êä•ÈîôÔºåÊó†Ê≥ïËÆøÈóÆÁΩëÁ´ôÔºüÔºüÔºü</span><br>    browser.close()                                             <span class="hljs-comment"># ÂÖ≥Èó≠ÊµèËßàÂô®ÂØπË±°</span><br></code></pre></td></tr></table></figure>



<h3 id="2-fetch"><a href="#2-fetch" class="headerlink" title="(2) fetch()"></a>(2) fetch()</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">handle</span>(<span class="hljs-params">route</span>):<br>    response = route.fetch()                                    <span class="hljs-comment"># Ëé∑ÂèñÁΩëÁªúËØ∑Ê±ÇÁöÑÂìçÂ∫î</span><br>    json = response.json()                                      <span class="hljs-comment"># Â∞ÜÂìçÂ∫îËΩ¨Êç¢ÊàêJsonÊ†ºÂºè</span><br>    json[<span class="hljs-string">&quot;result&quot;</span>][<span class="hljs-string">&quot;big_red_dog&quot;</span>] = []                          <span class="hljs-comment"># Ê∑ªÂä†ÂìçÂ∫îÊï∞ÊçÆbig_red_dogÔºåÂ±ûÊÄßÂÄºËÆæ‰∏∫Á©∫</span><br>    route.fulfill(response=response, json=json)<br><br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)<br>    page = browser.new_page()<br>    page.route(<span class="hljs-string">&quot;https://api.oioweb.cn/api/SoulWords&quot;</span>, handle)   <span class="hljs-comment"># ÊöÇÂÅúÂêéÔºåÂú®ÂΩìÂâçÈ°µÈù¢ËÆøÈóÆÊé•Âè£Âú∞ÂùÄ</span><br>    page.pause()                                                <span class="hljs-comment"># F12Êü•ÁúãÂìçÂ∫îÊï∞ÊçÆÁöÑÊ∑ªÂä†ÊÉÖÂÜµ</span><br>    browser.close()                                             <span class="hljs-comment"># ÂÖ≥Èó≠ÊµèËßàÂô®ÂØπË±°</span><br></code></pre></td></tr></table></figure>



<h3 id="3-fulfill"><a href="#3-fulfill" class="headerlink" title="(3) fulfill()"></a>(3) fulfill()</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">intercept_request</span>(<span class="hljs-params">route, request</span>):<br>    <span class="hljs-keyword">if</span> request.url.startswith(<span class="hljs-string">&quot;https://api.oioweb.cn/api/SoulWords&quot;</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Intercepted request to: <span class="hljs-subst">&#123;request.url&#125;</span>&quot;</span>)<br>        route.fulfill(<br>            status=<span class="hljs-number">200</span>,                                         <span class="hljs-comment"># Áä∂ÊÄÅÁ†Å</span><br>            body=<span class="hljs-string">&quot;&#123;&#x27;message&#x27;: &#x27;Hello, World!&#x27;&#125;&quot;</span>,                <span class="hljs-comment"># ÂìçÂ∫î‰Ωì</span><br>            headers=&#123;<span class="hljs-string">&quot;Content-Type&quot;</span>: <span class="hljs-string">&quot;application/json&quot;</span>&#125;        <span class="hljs-comment"># ÂìçÂ∫îÂ§¥</span><br>        )                                                       <span class="hljs-comment"># Ê®°ÊãüÂÆåÊàêËØ∑Ê±Ç</span><br>    <span class="hljs-keyword">else</span>:<br>        route.continue_()                                       <span class="hljs-comment"># Êù°‰ª∂‰∏çÁ¨¶ÂàôÂÖÅËÆ∏ËØ∑Ê±ÇÊ≠£Â∏∏ËøõË°å</span><br><br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)<br>    page = browser.new_page()<br>    page.route(<br>        <span class="hljs-string">&quot;**/*&quot;</span>, <span class="hljs-keyword">lambda</span> route, request: intercept_request(route, request)<br>    )                                                           <span class="hljs-comment"># ÁõëÂê¨ËØ∑Ê±ÇÂπ∂Êã¶Êà™</span><br>    page.goto(<span class="hljs-string">&quot;https://api.oioweb.cn/api/SoulWords&quot;</span>)<br>    page.pause()<br>    browser.close()                                             <span class="hljs-comment"># ÂÖ≥Èó≠ÊµèËßàÂô®ÂØπË±°</span><br></code></pre></td></tr></table></figure>



<h3 id="4-fallback"><a href="#4-fallback" class="headerlink" title="(4) fallback()"></a>(4) fallback()</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">intercept_request</span>(<span class="hljs-params">route, request</span>):<br>    <span class="hljs-keyword">if</span> request.url.startswith(<span class="hljs-string">&quot;https://www.amap.com/smog&quot;</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Intercepted request to: <span class="hljs-subst">&#123;request.url&#125;</span>&quot;</span>)<br>        route.abort()                                           <span class="hljs-comment"># ‰∏≠Ê≠¢ËØ∑Ê±Ç</span><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Fallback: <span class="hljs-subst">&#123;request.url&#125;</span>&quot;</span>)                       <span class="hljs-comment"># ÊâìÂç∞ÂõûÈÄÄÊ∂àÊÅØ</span><br>        route.fallback()                                        <span class="hljs-comment"># Ëß¶ÂèëÂõûÈÄÄË°å‰∏∫ÔºåÂÖÅËÆ∏ËØ∑Ê±ÇÊ≠£Â∏∏ÁªßÁª≠</span><br><br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)<br>    page = browser.new_page()<br>    page.route(                                                 <span class="hljs-comment"># ÁõëÂê¨ËØ∑Ê±ÇÂπ∂Êã¶Êà™</span><br>        <span class="hljs-string">&quot;**/*&quot;</span>, <span class="hljs-keyword">lambda</span> route, request: intercept_request(route, request)<br>    )<br>    page.goto(<span class="hljs-string">&quot;https://www.amap.com&quot;</span>)<br>    browser.close()                                             <span class="hljs-comment"># ÂÖ≥Èó≠ÊµèËßàÂô®ÂØπË±°</span><br></code></pre></td></tr></table></figure>



<h3 id="5-continue"><a href="#5-continue" class="headerlink" title="(5) continue_()*"></a>(5) continue_()*</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">intercept_request</span>(<span class="hljs-params">route, request</span>):<br>    <span class="hljs-keyword">if</span> request.url.startswith(<span class="hljs-string">&quot;https://www.amap.com&quot;</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Intercepted request to: <span class="hljs-subst">&#123;request.url&#125;</span>&quot;</span>)<br>        route.continue_()                                       <span class="hljs-comment"># ÁªßÁª≠ËØ∑Ê±ÇÔºåÊä•ÈîôÔºüÔºüÔºü</span><br><br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)<br>    page = browser.new_page()<br>    page.route(                                                 <span class="hljs-comment"># ÁõëÂê¨ËØ∑Ê±ÇÂπ∂Êã¶Êà™</span><br>        <span class="hljs-string">&quot;**/*&quot;</span>, <span class="hljs-keyword">lambda</span> route, request: intercept_request(route, request)<br>    )<br>    page.goto(<span class="hljs-string">&quot;https://www.amap.com/smog&quot;</span>)<br>    browser.close()                                             <span class="hljs-comment"># ÂÖ≥Èó≠ÊµèËßàÂô®ÂØπË±°</span><br></code></pre></td></tr></table></figure>



<h2 id="6-2-Â±ûÊÄß"><a href="#6-2-Â±ûÊÄß" class="headerlink" title="6-2 Â±ûÊÄß"></a>6-2 Â±ûÊÄß</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">intercept_request</span>(<span class="hljs-params">route, request</span>):<br>    <span class="hljs-keyword">if</span> request.url.startswith(<span class="hljs-string">&quot;https://api.oioweb.cn/api/SoulWords&quot;</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Intercepted request to: <span class="hljs-subst">&#123;request.url&#125;</span>&quot;</span>)<br>        route.fulfill(<br>            status=<span class="hljs-number">200</span>,                                         <span class="hljs-comment"># Áä∂ÊÄÅÁ†Å</span><br>            body=<span class="hljs-string">&quot;&#123;&#x27;message&#x27;: &#x27;Hello, World!&#x27;&#125;&quot;</span>,                <span class="hljs-comment"># ÂìçÂ∫î‰Ωì</span><br>            headers=&#123;<span class="hljs-string">&quot;Content-Type&quot;</span>: <span class="hljs-string">&quot;application/json&quot;</span>&#125;        <span class="hljs-comment"># ÂìçÂ∫îÂ§¥</span><br>        )                                                       <span class="hljs-comment"># Ê®°ÊãüÂÆåÊàêËØ∑Ê±Ç</span><br>        <span class="hljs-built_in">print</span>(route.request)                                    <span class="hljs-comment"># Ëé∑ÂèñÂΩìÂâçËØ∑Ê±ÇÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØÊàñÂ±ûÊÄß</span><br>    <span class="hljs-keyword">else</span>:<br>        route.continue_()                                       <span class="hljs-comment"># Êù°‰ª∂‰∏çÁ¨¶ÂàôÂÖÅËÆ∏ËØ∑Ê±ÇÊ≠£Â∏∏ËøõË°å</span><br><br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)<br>    page = browser.new_page()<br>    page.route(<br>        <span class="hljs-string">&quot;**/*&quot;</span>, <span class="hljs-keyword">lambda</span> route, request: intercept_request(route, request)<br>    )                                                           <span class="hljs-comment"># ÁõëÂê¨ËØ∑Ê±ÇÂπ∂Êã¶Êà™</span><br>    page.goto(<span class="hljs-string">&quot;https://api.oioweb.cn/api/SoulWords&quot;</span>)<br>    browser.close()                                             <span class="hljs-comment"># ÂÖ≥Èó≠ÊµèËßàÂô®ÂØπË±°</span><br></code></pre></td></tr></table></figure>



<h1 id="7-JavaScriptËÑöÊú¨"><a href="#7-JavaScriptËÑöÊú¨" class="headerlink" title="7 JavaScriptËÑöÊú¨"></a>7 JavaScriptËÑöÊú¨</h1><ul>
<li>JavaScriptËÑöÊú¨<ul>
<li>È°µÈù¢ÂØπË±°ÊâßË°åJavaScriptËÑöÊú¨<ul>
<li>Playwright‰ΩøÁî®<code>page.evaluate()</code>ÊâßË°åJavaScript‰ª£Á†ÅÂπ∂ËøîÂõûË∞ÉÁî®ÊâßË°åÁöÑÁªìÊûú„ÄÇ</li>
<li>‰ΩøÁî®<code>page.evaluate_handle()</code>ÊâßË°åJavaScript‰ª£Á†ÅÔºåÂπ∂ËøîÂõûÊâßË°åÁªìÊûúÁöÑÂè•ÊüÑ„ÄÇ</li>
</ul>
</li>
<li>ÂÆö‰ΩçÂÖÉÁ¥†ÊâßË°åJavaScriptËÑöÊú¨<ul>
<li>ÈÄöËøá<code>locator.evaluate()</code>ÊñπÊ≥ïÔºåÂØπÂÆö‰ΩçÂà∞ÁöÑÂÖÉÁ¥†ÊâßË°åJavaScript‰ª£Á†Å„ÄÇ</li>
<li>‰ΩøÁî®<code>locator.evaluate_all()</code>ÂØπÂÆö‰ΩçÁöÑÊâÄÊúâÂÖÉÁ¥†ÊâßË°åJavaScript‰ª£Á†Å„ÄÇ</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="7-1-È°µÈù¢Js"><a href="#7-1-È°µÈù¢Js" class="headerlink" title="7-1 È°µÈù¢Js*"></a>7-1 È°µÈù¢Js*</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)<br>    page = browser.new_page()<br><br>    <span class="hljs-built_in">print</span>(page.evaluate(<span class="hljs-string">&quot;1 + 2&quot;</span>))                               <span class="hljs-comment"># 3</span><br>    x = <span class="hljs-number">10</span><br>    <span class="hljs-built_in">print</span>(page.evaluate(<span class="hljs-string">f&quot;1 + <span class="hljs-subst">&#123;x&#125;</span>&quot;</span>))                            <span class="hljs-comment"># 11</span><br><br>    res = page.evaluate(<span class="hljs-string">&quot;() =&gt; &#x27;Hello World!&#x27;&quot;</span>, )               <span class="hljs-comment"># ÊâßË°å‰∏Ä‰∏™ÂáΩÊï∞</span><br>    <span class="hljs-built_in">print</span>(res)                                                  <span class="hljs-comment"># Hello World!</span><br>    res = page.evaluate(<br>        <span class="hljs-string">&quot;([a, b]) =&gt; a+b+&#x27;World!&#x27;&quot;</span>, [<span class="hljs-string">&quot;Hello&quot;</span>, <span class="hljs-string">&quot; &quot;</span>]              <span class="hljs-comment"># ÊâßË°åÁöÑÂáΩÊï∞ÂèØ‰ª•Â∏¶ÂèÇÊï∞</span><br>    )<br>    <span class="hljs-built_in">print</span>(res)                                                  <span class="hljs-comment"># hello world</span><br><br>    page.goto(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br>    title = page.evaluate(<span class="hljs-string">&quot;document.title&quot;</span>)                     <span class="hljs-comment"># Ëé∑ÂèñÈ°µÈù¢ÁöÑtitle</span><br>    <span class="hljs-built_in">print</span>(title)<br><br>    page = browser.new_page()                                   <span class="hljs-comment"># ÈúÄË¶ÅÂºÄÂêØJForumËÆ∫ÂùõÊúçÂä°</span><br>    page.goto(<span class="hljs-string">&quot;http://127.0.0.1:8080/jforum-2.7.0/user/login.page&quot;</span>)<br>    js = <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        document.querySelector(&quot;input[name=&#x27;username&#x27;]&quot;).value=&quot;admin&quot;;</span><br><span class="hljs-string">        document.querySelector(&quot;input[name=&#x27;password&#x27;]&quot;).value=&quot;123456&quot;;</span><br><span class="hljs-string">        document.querySelector(&quot;input[name=&#x27;login&#x27;]&quot;).click();</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>    page.evaluate(js)<br><br>    a_handle = page.evaluate_handle(<span class="hljs-string">&quot;document.body&quot;</span>)            <span class="hljs-comment"># ËøîÂõûÂè•ÊüÑJSHandleÔºåÊä•Èîô‰∫ÜÔºüÔºüÔºü</span><br>    result_handle = page.evaluate_handle(<span class="hljs-string">&quot;body =&gt; body.innerHTML&quot;</span>, a_handle)<br>    <span class="hljs-built_in">print</span>(result_handle.json_value())<br>    result_handle.dispose()                                     <span class="hljs-comment"># ÈáäÊîæresult_handleÂØπË±°ÔºåÈÅøÂÖçÂÜÖÂ≠òÊ≥ÑÊºè</span><br><br>    browser.close()                                             <span class="hljs-comment"># ÂÖ≥Èó≠ÊµèËßàÂô®ÂØπË±°</span><br></code></pre></td></tr></table></figure>



<h2 id="7-2-ÂÖÉÁ¥†Js"><a href="#7-2-ÂÖÉÁ¥†Js" class="headerlink" title="7-2 ÂÖÉÁ¥†Js"></a>7-2 ÂÖÉÁ¥†Js</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)<br>    page = browser.new_page()<br>    page.goto(<span class="hljs-string">&quot;http://127.0.0.1:8080/jforum-2.7.0/user/login.page&quot;</span>)<br>    username = page.locator(<br>        <span class="hljs-string">&quot;//*[@id=&#x27;loginform&#x27;]/table[2]/tbody/tr[2]/td/table/tbody/tr[2]/td[2]/input&quot;</span><br>    )<br>    username.evaluate(<span class="hljs-string">&quot;node =&gt; node.value=&#x27;admin&#x27;&quot;</span>)             <span class="hljs-comment"># ËæìÂÖ•Ê°ÜËæìÂÖ•ÂÜÖÂÆπ</span><br>    input_value = username.evaluate(<span class="hljs-string">&quot;node =&gt; node.value&quot;</span>)<br>    <span class="hljs-built_in">print</span>(input_value)                                          <span class="hljs-comment"># Ëé∑ÂèñËæìÂÖ•Ê°ÜÂÜÖÂÆπ</span><br><br>    page.goto(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br>    links = page.locator(<span class="hljs-string">&quot;#s-top-left&gt;a&quot;</span>)<br>    res = links.evaluate_all(<span class="hljs-string">&quot;nodes =&gt; nodes.length&quot;</span>)           <span class="hljs-comment"># ÂÆö‰ΩçÂÖ®ÈÉ®ÂÖÉÁ¥†</span><br>    <span class="hljs-built_in">print</span>(res)                                                  <span class="hljs-comment"># nodes.lengthËé∑ÂèñÂÖÉÁ¥†‰∏™Êï∞</span><br><br>    browser.close()                                             <span class="hljs-comment"># ÂÖ≥Èó≠ÊµèËßàÂô®ÂØπË±°</span><br></code></pre></td></tr></table></figure>



<h1 id="8-PyinstallerÊâìÂåÖ"><a href="#8-PyinstallerÊâìÂåÖ" class="headerlink" title="8 PyinstallerÊâìÂåÖ"></a>8 PyinstallerÊâìÂåÖ</h1><ul>
<li>PyinstallerÊâìÂåÖ<ul>
<li>Playwright‰∏éPyinstaller‰∏âÊñπÊèí‰ª∂ÁªìÂêà‰ΩøÁî®ÔºåÂèØÁî®Êù•ÂàõÂª∫Áã¨Á´ãÁöÑÂèØÊâßË°åÊñá‰ª∂„ÄÇ</li>
<li>‰æãÂ¶ÇÔºöË¶ÅÊâìÂåÖ‰∏Ä‰∏™files_pack.pyÊñá‰ª∂„ÄÇ<ul>
<li>ÂÖàÂú®ÂΩìÂâçÊñá‰ª∂Â§π‰∏≠ËÆæÁΩÆÁéØÂ¢ÉÂèòÈáèÔºö<code>set PLAYWRIGHT_BROWSERS_PATH=0</code>„ÄÇ</li>
<li>ÁÑ∂ÂêéÂëΩ‰ª§ÂÆâË£ÖÊñá‰ª∂‰∏≠‰ΩøÁî®Âà∞ÁöÑÊµèËßàÂô®Ôºö<code>playwright install chromium</code>„ÄÇ</li>
<li>ÊúÄÂêé‰ΩøÁî®ÂëΩ‰ª§Êü•ÁúãÊµèËßàÂô®ÁöÑÂÆâË£ÖË∑ØÂæÑÔºö<code>playwright install --dry-run</code>„ÄÇ</li>
<li>ÂèØ‰ª•ÁúãÂà∞chromium-1048Âíåffmpeg-1008Ëøô‰∏§‰∏™Êñá‰ª∂ÔºåÂêéÁºÄÊï∞Â≠óÊòØÁâàÊú¨Âè∑„ÄÇ</li>
</ul>
</li>
<li>ÊâìÂåÖfiles_pack.pyÊñá‰ª∂ÂëΩ‰ª§Â¶Ç‰∏ãÔºåÊâìÂåÖÂêéÁöÑÂèØÊâßË°åÊñá‰ª∂ÂèØÂú®ÂΩìÂâçÁõÆÂΩïÁöÑdistÊñá‰ª∂Â§π‰∏≠ÊâæÂà∞„ÄÇ<ul>
<li>‰æùËµñÊñá‰ª∂ËæÉÂ§öÔºåÈ¶ñÊ¨°ÊâìÂåÖÈúÄÂä†ËΩΩÂ•Ω‰∏Ä‰ºöÔºö<code>pyinstaller -F files_pack.py</code>„ÄÇ</li>
<li>ÊâìÂåÖÊó∂Ëá™ÂÆö‰πâicoÂõæÊ†áÔºö<code>pyinstaller -F files_pack.py -i favicon.ico</code>„ÄÇ</li>
<li>icoÂõæÊ†áÂà∂‰ΩúÂèØ‰ª•‰ΩøÁî®Âú∞ÂùÄ‚Äú<a target="_blank" rel="noopener" href="https://www.bitbug.net/">Âú®Á∫øÂà∂‰ΩúicoÂõæÊ†á</a>‚ÄùÔºåÊèê‰æõÂõæÁâáÁ∫ø‰∏äËΩ¨Êç¢Âç≥ÂèØ„ÄÇ</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="8-1-files-pack-py"><a href="#8-1-files-pack-py" class="headerlink" title="8-1 files_pack.py"></a>8-1 files_pack.py</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright                  <span class="hljs-comment"># files_pack.py</span><br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)<br>    page = browser.new_page()<br>    page.goto(<span class="hljs-string">&quot;http://www.baidu.com&quot;</span>)<br>    page.screenshot(path=<span class="hljs-string">&quot;pictures/install.png&quot;</span>)<br>    browser.close()                                              <span class="hljs-comment"># ÂÖ≥Èó≠ÊµèËßàÂô®ÂØπË±°</span><br></code></pre></td></tr></table></figure>



<h2 id="8-2-‰æùËµñÁéØÂ¢ÉÈÖçÁΩÆ"><a href="#8-2-‰æùËµñÁéØÂ¢ÉÈÖçÁΩÆ" class="headerlink" title="8-2 ‰æùËµñÁéØÂ¢ÉÈÖçÁΩÆ"></a>8-2 ‰æùËµñÁéØÂ¢ÉÈÖçÁΩÆ</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs Powershell">(base) D:\Program\...&gt; <span class="hljs-built_in">set</span> PLAYWRIGHT_BROWSERS_PATH=<span class="hljs-number">0</span><br>(base) D:\Program\...&gt; playwright install chromium<br>(base) D:\Program\...&gt; playwright install <span class="hljs-literal">--dry-run</span><br>browser: chromium version <span class="hljs-number">111.0</span>.<span class="hljs-number">5563.19</span><br>  Install location:    C:\Users\...\chromium<span class="hljs-literal">-1048</span><br>  Download url:        https://playwright.azureedge.net/builds/chromium/<span class="hljs-number">1048</span>/chromium<span class="hljs-literal">-win64</span>.zip<br>  Download fallback <span class="hljs-number">1</span>: https://playwright<span class="hljs-literal">-akamai</span>.azureedge.net/builds/chromium/<span class="hljs-number">1048</span>/chromium<span class="hljs-literal">-win64</span>.zip<br>  Download fallback <span class="hljs-number">2</span>: https://playwright<span class="hljs-literal">-verizon</span>.azureedge.net/builds/chromium/<span class="hljs-number">1048</span>/chromium<span class="hljs-literal">-win64</span>.zip<br><br>browser: firefox version <span class="hljs-number">109.0</span><br>  Install location:    C:\Users\...\firefox<span class="hljs-literal">-1378</span><br>  Download url:        https://playwright.azureedge.net/builds/firefox/<span class="hljs-number">1378</span>/firefox<span class="hljs-literal">-win64</span>.zip<br>  Download fallback <span class="hljs-number">1</span>: https://playwright<span class="hljs-literal">-akamai</span>.azureedge.net/builds/firefox/<span class="hljs-number">1378</span>/firefox<span class="hljs-literal">-win64</span>.zip<br>  Download fallback <span class="hljs-number">2</span>: https://playwright<span class="hljs-literal">-verizon</span>.azureedge.net/builds/firefox/<span class="hljs-number">1378</span>/firefox<span class="hljs-literal">-win64</span>.zip<br><br>browser: webkit version <span class="hljs-number">16.4</span><br>  Install location:    C:\Users\...\webkit<span class="hljs-literal">-1792</span><br>  Download url:        https://playwright.azureedge.net/builds/webkit/<span class="hljs-number">1792</span>/webkit<span class="hljs-literal">-win64</span>.zip<br>  Download fallback <span class="hljs-number">1</span>: https://playwright<span class="hljs-literal">-akamai</span>.azureedge.net/builds/webkit/<span class="hljs-number">1792</span>/webkit<span class="hljs-literal">-win64</span>.zip<br>  Download fallback <span class="hljs-number">2</span>: https://playwright<span class="hljs-literal">-verizon</span>.azureedge.net/builds/webkit/<span class="hljs-number">1792</span>/webkit<span class="hljs-literal">-win64</span>.zip<br><br>browser: ffmpeg<br>  Install location:    C:\Users\...\ffmpeg<span class="hljs-literal">-1008</span><br>  Download url:        https://playwright.azureedge.net/builds/ffmpeg/<span class="hljs-number">1008</span>/ffmpeg<span class="hljs-literal">-win64</span>.zip<br>  Download fallback <span class="hljs-number">1</span>: https://playwright<span class="hljs-literal">-akamai</span>.azureedge.net/builds/ffmpeg/<span class="hljs-number">1008</span>/ffmpeg<span class="hljs-literal">-win64</span>.zip<br>  Download fallback <span class="hljs-number">2</span>: https://playwright<span class="hljs-literal">-verizon</span>.azureedge.net/builds/ffmpeg/<span class="hljs-number">1008</span>/ffmpeg<span class="hljs-literal">-win64</span>.zip<br><br>(base) D:\Program\...&gt; pyinstaller <span class="hljs-operator">-F</span> files_pack.py<br>(base) D:\Program\...&gt; pyinstaller <span class="hljs-operator">-F</span> files_pack.py <span class="hljs-literal">-i</span> pictures/favicon.ico<br></code></pre></td></tr></table></figure>



<h2 id="8-3-ÊâìÂåÖË∑ØÂæÑÈóÆÈ¢ò"><a href="#8-3-ÊâìÂåÖË∑ØÂæÑÈóÆÈ¢ò" class="headerlink" title="8-3 ÊâìÂåÖË∑ØÂæÑÈóÆÈ¢ò*"></a>8-3 ÊâìÂåÖË∑ØÂæÑÈóÆÈ¢ò*</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Powershell">Traceback (most recent call last):<br>  File <span class="hljs-string">&quot;files_pack.py&quot;</span>, line <span class="hljs-number">4</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>  File <span class="hljs-string">&quot;playwright\sync_api\_generated.py&quot;</span>, line <span class="hljs-number">14155</span>, <span class="hljs-keyword">in</span> launch<br>  File <span class="hljs-string">&quot;playwright\_impl\_sync_base.py&quot;</span>, line <span class="hljs-number">115</span>, <span class="hljs-keyword">in</span> _sync<br>  File <span class="hljs-string">&quot;playwright\_impl\_browser_type.py&quot;</span>, line <span class="hljs-number">94</span>, <span class="hljs-keyword">in</span> launch<br>  File <span class="hljs-string">&quot;playwright\_impl\_connection.py&quot;</span>, line <span class="hljs-number">59</span>, <span class="hljs-keyword">in</span> send<br>  File <span class="hljs-string">&quot;playwright\_impl\_connection.py&quot;</span>, line <span class="hljs-number">514</span>, <span class="hljs-keyword">in</span> wrap_api_call<br>playwright._impl._errors.Error: BrowserType.launch: Executable doesn<span class="hljs-string">&#x27;t exist at </span><br><span class="hljs-string">C:\Users\...\playwright\driver\package\.local-browsers\chromium-1048\chrome-win\chrome.exe</span><br><span class="hljs-string">‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó</span><br><span class="hljs-string">‚ïë Looks like Playwright was just installed or updated.       ‚ïë</span><br><span class="hljs-string">‚ïë Please run the following command to download new browsers: ‚ïë</span><br><span class="hljs-string">‚ïë                                                            ‚ïë</span><br><span class="hljs-string">‚ïë     playwright install                                     ‚ïë</span><br><span class="hljs-string">‚ïë                                                            ‚ïë</span><br><span class="hljs-string">‚ïë &lt;3 Playwright Team                                         ‚ïë</span><br><span class="hljs-string">‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù</span><br><span class="hljs-string">[9672] Failed to execute script &#x27;</span>files_pack<span class="hljs-string">&#x27; due to unhandled exception!</span><br></code></pre></td></tr></table></figure>

<ul>
<li>ËØ¥ÊòéPlaywrightÊµèËßàÂô®È©±Âä®Ê≤°ÊúâË¢´Ê≠£Á°ÆÊâìÂåÖÂà∞exeÊñá‰ª∂‰∏≠„ÄÇ<ul>
<li>„ÄêÊñπÊ≥ï‰∏Ä„ÄëÊâãÂä®Ê∑ªÂä†ÊµèËßàÂô®È©±Âä®Âà∞ÊâìÂåÖÁõÆÂΩïÔºöÊâßË°å‰ªçÁÑ∂Êä•Âêå‰∏™ÈîôËØØÔºå‰∏çÁü•ÈÅìÂèÇÊï∞ËÆæÁΩÆÊòØÂê¶ÊúâÈóÆÈ¢òÔºü</li>
<li><code>pyinstaller --add-data=&quot;C:\Users\...\chromium-1048;playwright/driver&quot; files_pack.py</code></li>
<li>„ÄêÊñπÊ≥ï‰∫å„Äë‰ΩøÁî®<code>--hidden-import</code>ÂèÇÊï∞ÔºåÊåáÂÆöÈúÄË¶ÅÊâìÂåÖÁöÑÈöêËóèÊ®°ÂùóÔºåÂ∞ÜÂÖ∂Âº∫Âà∂ÊâìÂåÖÂà∞<code>exe</code>Êñá‰ª∂‰∏≠„ÄÇ</li>
<li><code>pyinstaller --hidden-import=playwright._impl._browser_type files_pack.py</code>ÔºöÊâßË°å‰ºöÈó™ÈÄÄ„ÄÇ</li>
<li>„ÄêÊñπÊ≥ï‰∏â„Äë‰ΩøÁî®<code>--onefile</code>ÂèÇÊï∞ÔºåÂ∞ÜÊâÄÊúâÁöÑÊñá‰ª∂ÈÉΩÊâìÂåÖÂà∞ÂèØÊâßË°åÊñá‰ª∂<code>exe</code>‰∏≠ÔºåÂ∞±ÂèØÈÅøÂÖçË∑ØÂæÑÈóÆÈ¢ò‰∫Ü„ÄÇ</li>
<li><code>pyinstaller --onefile files_pack.py</code>Ôºö<code>exe</code>Êñá‰ª∂ÊâßË°åËøòÊòØ‰ºöÊä•Èîô„ÄÇ</li>
<li>„ÄêÊñπÊ≥ïÂõõ„Äë‰ª£Á†Å‰∏≠‰ΩøÁî®PlaywrightÁöÑ<code>install()</code>ÂáΩÊï∞Êù•ÂÆâË£ÖÊµèËßàÂô®È©±Âä®„ÄÇ</li>
<li>‰∏çÁü•ÈÅìÊòØÂê¶ÁéØÂ¢ÉÈóÆÈ¢òÔºåÂú®ÂÖ∂‰ªñÁîµËÑë‰∏äÊâìÂåÖÂêéÔºåÂèØÊâßË°åÊñá‰ª∂ËÉΩÊàêÂäüË¢´ÊâßË°å„ÄÇ</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright                  <span class="hljs-comment"># files_pack.py</span><br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    p.install()                                                  <span class="hljs-comment"># ÂÆâË£ÖÊµèËßàÂô®È©±Âä®</span><br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)<br>    page = browser.new_page()<br>    page.goto(<span class="hljs-string">&quot;http://www.baidu.com&quot;</span>)<br>    page.screenshot(path=<span class="hljs-string">&quot;pictures/install.png&quot;</span>)<br>    browser.close()                                              <span class="hljs-comment"># ÂÖ≥Èó≠ÊµèËßàÂô®ÂØπË±°</span><br></code></pre></td></tr></table></figure>



              
            </div>
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/%E6%B5%8B%E8%AF%95%E6%A1%86%E6%9E%B6/" class="category-chain-item">ÊµãËØïÊ°ÜÊû∂</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/Python/">#Python</a>
      
        <a href="/tags/PlayWright/">#PlayWright</a>
      
        <a href="/tags/POM%E6%A8%A1%E5%BC%8F/">#POMÊ®°Âºè</a>
      
        <a href="/tags/Mock%E6%8E%A5%E5%8F%A3/">#MockÊé•Âè£</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>PlayWright Ê°ÜÊû∂(‰∫å)</div>
      <div>https://stitch-top.github.io/2023/11/02/ce-shi-kuang-jia/tf05-playwright/tf02-playwright-kuang-jia-er/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>‰ΩúËÄÖ</div>
          <div>Dr.626</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>ÂèëÂ∏É‰∫é</div>
          <div>2023Âπ¥11Êúà2Êó• 21:10:10</div>
        </div>
      
      
      <div class="license-meta-item">
        <div>ËÆ∏ÂèØÂçèËÆÆ</div>
        <div>
          
            
            
              <a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">
              <span class="hint--top hint--rounded" aria-label="BY - ÁΩ≤Âêç">
                <i class="iconfont icon-by"></i>
              </span>
              </a>
            
              <a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">
              <span class="hint--top hint--rounded" aria-label="NC - ÈùûÂïÜ‰∏öÊÄß‰ΩøÁî®">
                <i class="iconfont icon-nc"></i>
              </span>
              </a>
            
              <a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">
              <span class="hint--top hint--rounded" aria-label="SA - Áõ∏ÂêåÊñπÂºèÂÖ±‰∫´">
                <i class="iconfont icon-sa"></i>
              </span>
              </a>
            
          
        </div>
      </div>
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2024/01/11/ce-shi-gong-ju/tt07-ffmpeg-de-ying-yong/tt01-ffmpeg-ming-ling-xiang-jie/" title="FFmpeg ÂëΩ‰ª§ËØ¶Ëß£">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">FFmpeg ÂëΩ‰ª§ËØ¶Ëß£</span>
                        <span class="visible-mobile">‰∏ä‰∏ÄÁØá</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2023/09/09/ce-shi-kuang-jia/tf05-playwright/tf01-playwright-kuang-jia-yi/" title="PlayWright Ê°ÜÊû∂(‰∏Ä)">
                        <span class="hidden-mobile">PlayWright Ê°ÜÊû∂(‰∏Ä)</span>
                        <span class="visible-mobile">‰∏ã‰∏ÄÁØá</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  <article id="comments">
    
  <div id="valine"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#valine', function() {
      Fluid.utils.createScript('https://cdn.staticfile.org/valine/1.5.1/Valine.min.js', function() {
        var options = Object.assign(
          {"appId":"PDfaLoft9OAolB0AmON5AqUb-gzGzoHsz","appKey":"xq13nodBzh8hOliBusHUKDwj","path":"window.location.pathname","placeholder":"Ëµ†‰∫∫Áé´Áë∞ÔºåÊâãÁïô‰ΩôÈ¶ô(ÔΩûoÔø£3Ôø£)ÔΩû","avatar":"monsterid","meta":["nick","mail","link"],"requiredFields":["nick","mail"],"pageSize":13,"lang":"zh-CN","highlight":"ture","recordIP":"ture","serverURLs":"","emojiCDN":null,"emojiMaps":null,"enableQQ":"ture"},
          {
            el: "#valine",
            path: window.location.pathname
          }
        )
        new Valine(options);
        Fluid.utils.waitElementVisible('#valine .vcontent', () => {
          var imgSelector = '#valine .vcontent img:not(.vemoji)';
          Fluid.plugins.imageCaption(imgSelector);
          Fluid.plugins.fancyBox(imgSelector);
        })
      });
    });

    // QmsgËØÑËÆ∫Êé®ÈÄÅÊúçÂä°ÔºöQQ2338638343 + ÈÇÆ‰ª∂zero_021@aliyun.com
    var title2="msg=Stitch's BlogÂèàÊúâÊñ∞ËØÑËÆ∫Âï¶ÔºÅ\n"
    var SCKEY_Qmsg="https://qmsg.zendee.cn/send/ad06ce297bd5d64b5aa08ea55560f7a2"
    var ValineButton=document.getElementsByClassName("vsubmit vbtn")[0];
    function send_valine_Qmsg(){
      var pagename=document.title;
      var wz=pagename.indexOf('|');
      var res=pagename.substring(0, wz);
      var pageurl=document.URL;
      var ptime=new Date();
      var vnick=document.getElementsByClassName("vnick vinput")[0].value;
      var vmail=document.getElementsByClassName("vmail vinput")[0].value;
      var vlink=document.getElementsByClassName("vlink vinput")[0].value;
      var veditor=document.getElementsByClassName("veditor vinput")[0].value;
      var data="ÊòµÁß∞Ôºö"+vnick+"\nÈÇÆÁÆ±Ôºö"+vmail+"\nÁΩëÁ´ôÂú∞ÂùÄÔºö"+vlink+"\nÂΩìÂâçÈ°µÈù¢Ôºö"+pagename+"\nËØÑËÆ∫ÂÜÖÂÆπÔºö"+veditor+"\nË∑≥ËΩ¨ÈìæÊé•Ôºö"+pageurl+"\nËØÑËÆ∫Êó∂Èó¥"+ptime.toLocaleString();
      var httpRequest = new XMLHttpRequest();       // Á¨¨‰∏ÄÊ≠•ÔºöÂàõÂª∫ÈúÄË¶ÅÁöÑÂØπË±°
      httpRequest.open('POST', SCKEY_Qmsg, true);   // Á¨¨‰∫åÊ≠•ÔºöÊâìÂºÄËøûÊé•
      httpRequest.setRequestHeader("Content-type","application/x-www-form-urlencoded"); // ËÆæÁΩÆËØ∑Ê±ÇÂ§¥ Ê≥®ÔºöpostÊñπÂºèÂøÖÈ°ªËÆæÁΩÆËØ∑Ê±ÇÂ§¥ÔºàÂú®Âª∫Á´ãËøûÊé•ÂêéËÆæÁΩÆËØ∑Ê±ÇÂ§¥Ôºâ
      httpRequest.send(title2 + data);              // ÂèëÈÄÅËØ∑Ê±Ç 
    };
    
    document.body.addEventListener('click', function(e) {
      if(e.target.className.indexOf('vsubmit') === -1) {
        return;
      }
      send_valine_Qmsg();
    })

  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


  </article>


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar category-bar" style="margin-left: -1rem">
    





<div class="category-list">
  
  
    
    
    
    <div class="category row nomargin-x">
      <a class="category-item 
          list-group-item category-item-action col-10 col-md-11 col-xm-11" title="ÊµãËØïÊ°ÜÊû∂"
        id="heading-893b664e5ce5fe8882ce6ce630f2f650" role="tab" data-toggle="collapse" href="#collapse-893b664e5ce5fe8882ce6ce630f2f650"
        aria-expanded="true"
      >
        ÊµãËØïÊ°ÜÊû∂
        <span class="list-group-count">(10)</span>
        <i class="iconfont icon-arrowright"></i>
      </a>
      
      <div class="category-collapse collapse show" id="collapse-893b664e5ce5fe8882ce6ce630f2f650"
           role="tabpanel" aria-labelledby="heading-893b664e5ce5fe8882ce6ce630f2f650">
        
        
          
  <div class="category-post-list">
    
    
      
      
        <a href="/2023/01/08/ce-shi-kuang-jia/tf01-selenium/tf01-selenium/" title="Selenium"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Selenium</span>
        </a>
      
    
      
      
        <a href="/2023/03/03/ce-shi-kuang-jia/tf02-pytest/tf01-pytest-ce-shi-kuang-jia/" title="Pytest ÊµãËØïÊ°ÜÊû∂"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Pytest ÊµãËØïÊ°ÜÊû∂</span>
        </a>
      
    
      
      
        <a href="/2023/05/01/ce-shi-kuang-jia/tf03-allure/tf01-allure-ce-shi-bao-gao/" title="Allure ÊµãËØïÊä•Âëä"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Allure ÊµãËØïÊä•Âëä</span>
        </a>
      
    
      
      
        <a href="/2023/07/23/ce-shi-kuang-jia/tf04-unittest/tf01-unittest-ce-shi-kuang-jia/" title="UnitTest ÊµãËØïÊ°ÜÊû∂"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">UnitTest ÊµãËØïÊ°ÜÊû∂</span>
        </a>
      
    
      
      
        <a href="/2024/03/02/ce-shi-kuang-jia/tf04-unittest/tf02-unittest-zi-bao-mock/" title="UnitTest Â≠êÂåÖ Mock"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">UnitTest Â≠êÂåÖ Mock</span>
        </a>
      
    
      
      
        <a href="/2023/09/09/ce-shi-kuang-jia/tf05-playwright/tf01-playwright-kuang-jia-yi/" title="PlayWright Ê°ÜÊû∂(‰∏Ä)"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">PlayWright Ê°ÜÊû∂(‰∏Ä)</span>
        </a>
      
    
      
      
        <a href="/2023/11/02/ce-shi-kuang-jia/tf05-playwright/tf02-playwright-kuang-jia-er/" title="PlayWright Ê°ÜÊû∂(‰∫å)"
           class="list-group-item list-group-item-action
           active">
          <span class="category-post">PlayWright Ê°ÜÊû∂(‰∫å)</span>
        </a>
      
    
      
      
        <a href="/2024/07/16/ce-shi-kuang-jia/tf06-robot-framework/tf01-robot-framework/" title="Robot Framework"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Robot Framework</span>
        </a>
      
    
      
      
        <a href="/2025/03/19/ce-shi-kuang-jia/tf07-locust/tf01-locust-xing-neng-kuang-jia/" title="Locust ÊÄßËÉΩÊ°ÜÊû∂"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Locust ÊÄßËÉΩÊ°ÜÊû∂</span>
        </a>
      
    
      
      
        <a href="/2025/04/16/ce-shi-kuang-jia/tf08-cypress/tf01-cypress-ce-shi-kuang-jia/" title="Cypress ÊµãËØïÊ°ÜÊû∂"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Cypress ÊµãËØïÊ°ÜÊû∂</span>
        </a>
      
    
  </div>

        
      </div>
    </div>
  
</div>


  </aside>


    </div>
  </div>
</div>





  



  



  



  



  






    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">ÊêúÁ¥¢</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">ÂÖ≥ÈîÆËØç</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a><span>Copyright ¬© 2021 - 2025</span></a> <i class="iconfont icon-love"></i> <a href="https://stitch-top.github.io" target="_blank" rel="nofollow noopener"><span>Dr.626</span></a> 
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="leancloud-site-pv-container" style="display: none">
        üìà ÊÄªËÆøÈóÆÈáè 
        <span id="leancloud-site-pv"></span>
         Ê¨°
      </span>
    
    
      <span id="leancloud-site-uv-container" style="display: none">
        üìä ÊÄªËÆøÂÆ¢Êï∞ 
        <span id="leancloud-site-uv"></span>
         ‰∫∫
      </span>
    
    

  
</div>

  
  
  
  
  <!-- Ê∑ªÂä†ÁΩëÁ´ôËøêË°åÊó∂Èó¥ -->
  <div class="footer-content">
    <div>
      <span id="timeDate">ËΩΩÂÖ•Â§©Êï∞...</span>
      <span id="times">ËΩΩÂÖ•Êó∂ÂàÜÁßí...</span>
      <script>
      var now = new Date();
      function createtime(){
          var grt= new Date("01/01/2021 00:00:00");   //Ê≠§Â§Ñ‰øÆÊîπ‰Ω†ÁöÑÂª∫Á´ôÊó∂Èó¥ÊàñËÄÖÁΩëÁ´ô‰∏äÁ∫øÊó∂Èó¥
          now.setTime(now.getTime()+250);
          days = (now - grt ) / 1000 / 60 / 60 / 24;
          dnum = Math.floor(days);
          hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum);
          hnum = Math.floor(hours);
          if(String(hnum).length ==1 ){
              hnum = "0" + hnum;
          }
          minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);
          mnum = Math.floor(minutes);
          if(String(mnum).length ==1 ){
                    mnum = "0" + mnum;
          }
          seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
          snum = Math.round(seconds);
          if(String(snum).length ==1 ){
                    snum = "0" + snum;
          }
          document.getElementById("timeDate").innerHTML = "Êú¨Á´ôÂ∑≤ÂÆâÂÖ®ËøêË°å&nbsp"+dnum+"&nbspÂ§©";
          document.getElementById("times").innerHTML = hnum + "&nbspÂ∞èÊó∂&nbsp" + mnum + "&nbspÂàÜ&nbsp" + snum + "&nbspÁßí";
      }
      setInterval("createtime()", 250);
      </script>
    </div>
  </div>
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://cdn.staticfile.org/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.staticfile.org/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.staticfile.org/jquery/3.7.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  

  

  

  

  

  

  
    
  




  
    
      <script  src="/js/img-lazyload.js" ></script>
    
  




  
<script>
  Fluid.utils.createScript('https://cdn.staticfile.org/tocbot/4.21.0/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      headingSelector : CONFIG.toc.headingSelector || 'h1,h2,h3,h4,h5,h6',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      collapseDepth   : CONFIG.toc.collapseDepth || 0,
      scrollSmooth    : true,
      headingsOffset  : -boardTop
    });
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }
  });
</script>


  <script>
  (function() {
    var enableLang = CONFIG.code_language.enable && CONFIG.code_language.default;
    var enableCopy = CONFIG.copy_btn;
    if (!enableLang && !enableCopy) {
      return;
    }

    function getBgClass(ele) {
      return Fluid.utils.getBackgroundLightness(ele) >= 0 ? 'code-widget-light' : 'code-widget-dark';
    }

    var copyTmpl = '';
    copyTmpl += '<div class="code-widget">';
    copyTmpl += 'LANG';
    copyTmpl += '</div>';
    jQuery('.markdown-body pre').each(function() {
      var $pre = jQuery(this);
      if ($pre.find('code.mermaid').length > 0) {
        return;
      }
      if ($pre.find('span.line').length > 0) {
        return;
      }

      var lang = '';

      if (enableLang) {
        lang = CONFIG.code_language.default;
        if ($pre[0].children.length > 0 && $pre[0].children[0].classList.length >= 2 && $pre.children().hasClass('hljs')) {
          lang = $pre[0].children[0].classList[1];
        } else if ($pre[0].getAttribute('data-language')) {
          lang = $pre[0].getAttribute('data-language');
        } else if ($pre.parent().hasClass('sourceCode') && $pre[0].children.length > 0 && $pre[0].children[0].classList.length >= 2) {
          lang = $pre[0].children[0].classList[1];
          $pre.parent().addClass('code-wrapper');
        } else if ($pre.parent().hasClass('markdown-body') && $pre[0].classList.length === 0) {
          $pre.wrap('<div class="code-wrapper"></div>');
        }
        lang = lang.toUpperCase().replace('NONE', CONFIG.code_language.default);
      }
      $pre.append(copyTmpl.replace('LANG', lang).replace('code-widget">',
        getBgClass($pre[0]) + (enableCopy ? ' code-widget copy-btn" data-clipboard-snippet><i class="iconfont icon-copy"></i>' : ' code-widget">')));

      if (enableCopy) {
        Fluid.utils.createScript('https://cdn.staticfile.org/clipboard.js/2.0.11/clipboard.min.js', function() {
          var clipboard = new window.ClipboardJS('.copy-btn', {
            target: function(trigger) {
              var nodes = trigger.parentNode.childNodes;
              for (var i = 0; i < nodes.length; i++) {
                if (nodes[i].tagName === 'CODE') {
                  return nodes[i];
                }
              }
            }
          });
          clipboard.on('success', function(e) {
            e.clearSelection();
            e.trigger.innerHTML = e.trigger.innerHTML.replace('icon-copy', 'icon-success');
            setTimeout(function() {
              e.trigger.innerHTML = e.trigger.innerHTML.replace('icon-success', 'icon-copy');
            }, 2000);
          });
        });
      }
    });
  })();
</script>


  
<script>
  Fluid.utils.createScript('https://cdn.staticfile.org/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));
  });
</script>


  
<script>
  Fluid.utils.createScript('https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="/js/leancloud.js" ></script>





<!-- ‰∏ªÈ¢òÁöÑÂêØÂä®È°πÔºåÂ∞ÜÂÆÉ‰øùÊåÅÂú®ÊúÄÂ∫ïÈÉ® -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">ÂçöÂÆ¢Âú®ÂÖÅËÆ∏ JavaScript ËøêË°åÁöÑÁéØÂ¢É‰∏ãÊµèËßàÊïàÊûúÊõ¥‰Ω≥</div>
  </noscript>
</body>
</html>
