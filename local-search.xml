<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Console é¢æ¿</title>
    <link href="/2024/04/15/ce-shi-gong-ju/tt06-f12-kai-fa-zhe-gong-ju/tt06-02-console-mian-ban/"/>
    <url>/2024/04/15/ce-shi-gong-ju/tt06-f12-kai-fa-zhe-gong-ju/tt06-02-console-mian-ban/</url>
    
    <content type="html"><![CDATA[<p>ğŸ¥ª æ— è®ºä¹¦å†™ä»£ç è¿˜æ˜¯æ„å»ºé¡¹ç›®ï¼Œè°ƒè¯•ç¨‹åºéƒ½ä¸å¯æˆ–ç¼ºï¼Œç†Ÿæ‚‰Consoleæä¾›çš„åŠŸèƒ½ï¼ŒæŒæ¡ä¸€äº›æŠ€å·§ï¼Œä¼šæå¤§åœ°æé«˜åˆ›ä½œè´¨é‡ä¸æ•ˆç‡ã€‚</p><span id="more"></span><h1 id="1-æ§åˆ¶å°"><a href="#1-æ§åˆ¶å°" class="headerlink" title="1 æ§åˆ¶å°"></a>1 æ§åˆ¶å°</h1><ul><li>æ§åˆ¶å°<ul><li><img src="/../../img/F12/F12-02/F12-02@001.jpg" srcset="/img/load.gif" lazyload alt="æ§åˆ¶å°-å›¾æ ‡01">(å±•å¼€æˆ–æ”¶èµ·ä¿¡æ¯ç±»å‹æç¤º)ã€<img src="/../../img/F12/F12-02/F12-02@002.jpg" srcset="/img/load.gif" lazyload alt="æ§åˆ¶å°-å›¾æ ‡02">(æ¸…ç©ºæ§åˆ¶å°)ã€<img src="/../../img/F12/F12-02/F12-02@004.jpg" srcset="/img/load.gif" lazyload alt="æ§åˆ¶å°-å›¾æ ‡04">(æ·»åŠ å®æ—¶æ‰§è¡Œè¡¨è¾¾å¼ï¼Œå¯åˆ›å»ºå¤šä¸ªï¼Œèƒ½è®¡ç®—å‡ºå€¼)ã€‚</li><li><img src="/../../img/F12/F12-02/F12-02@003.jpg" srcset="/img/load.gif" lazyload alt="æ§åˆ¶å°-å›¾æ ‡03">(è°ƒæ•´å½“å‰æ§åˆ¶å°ï¼Œæ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œtopä¸ºå½“å‰é¡¶å±‚ä¸»é¡µé¢ï¼Œå¯ä»¥åˆ‡æ¢åˆ°å…¶ä»–iframeå­é¡µé¢æˆ–æ‰©å±•ç¨‹åºä¸­)ã€‚</li><li>Filter(å…³é”®å­—è¿‡æ»¤æ§åˆ¶å°è¾“å‡ºçš„å†…å®¹)ã€Default levels(è¦è¾“å‡ºçš„ä¿¡æ¯çº§åˆ«)ã€Issues(é—®é¢˜æ•°å’Œä¸åŒçº§åˆ«çš„æ—¥å¿—)ã€‚</li><li><img src="/../../img/F12/F12-02/F12-02@005.jpg" srcset="/img/load.gif" lazyload alt="æ§åˆ¶å°-å›¾æ ‡05">(è®¾ç½®æ§åˆ¶å°çš„ä¸€äº›åŸºç¡€è¡Œä¸ºï¼Œ<code>Show CORS errors in console</code>åœ¨æ§åˆ¶å°ä¸­æ˜¾ç¤ºCORSé”™è¯¯)ã€‚<ul><li>å‹¾é€‰<code>Preserve log</code>ä¿ç•™æ—¥å¿—ï¼Œåˆ™åœ¨åˆ·æ–°é¡µé¢æ—¶ï¼Œä¸ä¼šæ¸…ç©ºæ§åˆ¶å°ä¹‹å‰è¾“å‡ºçš„æ•°æ®ã€‚</li><li>å‹¾é€‰<code>Selected context only</code>ä»…é™å·²é€‰æ‹©çš„ä¸Šä¸‹æ–‡ï¼Œæ ¹æ®topæ‰€é€‰ä½œç”¨åŸŸå±•ç¤ºå†…å®¹ã€‚</li><li><code>Hide network</code>éšè—ç½‘ç»œã€<code>Group similar messages in console</code>åœ¨æ§åˆ¶å°ä¸­å¯¹ç›¸ä¼¼æ¶ˆæ¯è¿›è¡Œåˆ†ç»„ã€‚</li><li><code>Eager evaluation</code>åŠæ—©è¯„ä¼°ã€<code>Treat code evaluation as user action</code>å°†è¯„ä¼°è§†ä¸ºç”¨æˆ·æ¿€æ´»è¡Œä¸ºã€‚</li><li><code>Log XMLHttpRequests</code>è®°å½•XMLHttpRequestsã€<code>Autocomplete from history</code>æ ¹æ®å†å²è®°å½•è‡ªåŠ¨è¡¥å…¨ã€‚</li></ul></li></ul></li></ul><p><img src="/./../img/F12/F12-02/F12-02@006.jpg" srcset="/img/load.gif" lazyload alt="æ§åˆ¶å°"></p><h1 id="2-æ—¥å¿—æ‰“å°"><a href="#2-æ—¥å¿—æ‰“å°" class="headerlink" title="2 æ—¥å¿—æ‰“å°"></a>2 æ—¥å¿—æ‰“å°</h1><ul><li>æ—¥å¿—æ‰“å°<ul><li>æ‰“å°ä¿¡æ¯<ul><li>æ™®é€šä¿¡æ¯Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·<code>console.log()</code></li><li>æç¤ºä¿¡æ¯Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·<code>console.info()</code></li><li>è­¦å‘Šä¿¡æ¯Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·<code>console.warn()</code></li><li>é”™è¯¯ä¿¡æ¯Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·<code>console.error()</code></li><li>è°ƒè¯•ä¿¡æ¯Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·<code>console.debug()</code></li><li>å ä½ç¬¦<ul><li>æ ·å¼Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·<code>%c</code></li><li>å¯¹è±¡Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·<code>%o</code></li><li>å­—ç¬¦Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·<code>%s</code></li><li>æ•°å­—Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·<code>%d</code>æˆ–<code>%i</code>(æ•´æ•°)ã€<code>%f</code>(æµ®ç‚¹æ•°)</li></ul></li></ul></li><li>æ¸…ç©ºä¿¡æ¯Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·<code>console.clear()</code></li></ul></li></ul><h2 id="2-1-æ‰“å°ä¿¡æ¯"><a href="#2-1-æ‰“å°ä¿¡æ¯" class="headerlink" title="2-1 æ‰“å°ä¿¡æ¯"></a>2-1 æ‰“å°ä¿¡æ¯</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs JavaScript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;log&#x27;</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">&#x27;info&#x27;</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">&#x27;warn&#x27;</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">&#x27;error&#x27;</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">debug</span>(<span class="hljs-string">&#x27;debug&#x27;</span>);<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;%cç»¿è‰²çš„å­—ä½“&#x27;</span>, <span class="hljs-string">&#x27;color: green&#x27;</span>);<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;ä»Šå¤©ä¸‹æ½­å°¾çº¢æ ‘æ—å…¬å›­æ‰“å¡%oäºº&#x27;</span>, <span class="hljs-number">90</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;ä»Šå¤©ä¸‹æ½­å°¾çº¢æ ‘æ—å…¬å›­æ‰“å¡%oäºº&#x27;</span>, <span class="hljs-string">&#x27;&#123;A: 10&#125;&#x27;</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;ä»Šå¤©ä¸‹æ½­å°¾çº¢æ ‘æ—å…¬å›­æ‰“å¡%oäºº&#x27;</span>, <span class="hljs-string">&#x27;[1, 2, 3]&#x27;</span>);<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;%sæ˜¯%dæœˆ%iæ—¥&#x27;</span>, <span class="hljs-string">&#x27;ä»Šå¤©&#x27;</span>, <span class="hljs-number">4</span>, <span class="hljs-number">11</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;åœ†å‘¨ç‡æ˜¯%f&#x27;</span>, <span class="hljs-number">3.1415926535897</span>);<br><br><span class="hljs-keyword">var</span> object = &#123;<span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Michelle&#x27;</span>, <span class="hljs-attr">sex</span>: <span class="hljs-string">&#x27;Male&#x27;</span>&#125;; <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;%o&#x27;</span>, object);<br><br><span class="hljs-comment">// æ·»åŠ å®šæ—¶å™¨</span><br><span class="hljs-keyword">let</span> timerId = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function"><span class="hljs-params">x</span>=&gt;</span>&#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;%cä½ %cå¥½%cå‘€ï¼&#x27;</span>, <br>  <span class="hljs-string">&#x27;color:rgb(\\\</span><br><span class="hljs-string">    &#x27;</span> + <span class="hljs-built_in">parseInt</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>()*<span class="hljs-number">256</span>) + <span class="hljs-string">&#x27;,&#x27;</span> + <span class="hljs-built_in">parseInt</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>()*<span class="hljs-number">256</span>) + <span class="hljs-string">&#x27;,\\\</span><br><span class="hljs-string">    &#x27;</span> + <span class="hljs-built_in">parseInt</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>()*<span class="hljs-number">256</span>) + <span class="hljs-string">&#x27;\\\</span><br><span class="hljs-string">  )&#x27;</span>,<br>  <span class="hljs-string">&#x27;color:rgb(\\\</span><br><span class="hljs-string">    &#x27;</span> + <span class="hljs-built_in">parseInt</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>()*<span class="hljs-number">256</span>) + <span class="hljs-string">&#x27;,&#x27;</span> + <span class="hljs-built_in">parseInt</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>()*<span class="hljs-number">256</span>) + <span class="hljs-string">&#x27;,\\\</span><br><span class="hljs-string">    &#x27;</span> + <span class="hljs-built_in">parseInt</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>()*<span class="hljs-number">256</span>) + <span class="hljs-string">&#x27;\\\</span><br><span class="hljs-string">  )&#x27;</span>,<br>  <span class="hljs-string">&#x27;color:rgb(\\\</span><br><span class="hljs-string">    &#x27;</span> + <span class="hljs-built_in">parseInt</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>()*<span class="hljs-number">256</span>) + <span class="hljs-string">&#x27;,&#x27;</span> + <span class="hljs-built_in">parseInt</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>()*<span class="hljs-number">256</span>) + <span class="hljs-string">&#x27;,\\\</span><br><span class="hljs-string">    &#x27;</span> + <span class="hljs-built_in">parseInt</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>()*<span class="hljs-number">256</span>) + <span class="hljs-string">&#x27;\\\</span><br><span class="hljs-string">  )&#x27;</span>);<br>&#125;, <span class="hljs-number">1000</span>);<br><br><span class="hljs-comment">// åœæ­¢å®šæ—¶å™¨</span><br><span class="hljs-built_in">clearInterval</span>(timerId);<br><br><span class="hljs-comment">// è¾“å‡ºå›¾ç‰‡ï¼Œæµè§ˆå™¨çš„å®‰å…¨è®¾ç½®æˆ–å¹¿å‘Šæ‹¦æˆªå™¨å¯èƒ½ä¼šé˜»æ­¢å›¾ç‰‡çš„æ˜¾ç¤º</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;%c&#x27;</span>, <span class="hljs-string">&#x27;padding: 50px 300px; \\\</span><br><span class="hljs-string">line-height: 120px; background: url(&quot;http://985.so/9ua46&quot;);&#x27;</span>);<br><br><span class="hljs-comment">// æ¸…ç©ºæ§åˆ¶å°ä¿¡æ¯ï¼Œå¹¶è¾“å‡ºConsole was cleared</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">clear</span>();<br></code></pre></td></tr></table></figure><h2 id="2-2-å±‚çº§åµŒå¥—"><a href="#2-2-å±‚çº§åµŒå¥—" class="headerlink" title="2-2 å±‚çº§åµŒå¥—"></a>2-2 å±‚çº§åµŒå¥—</h2><ul><li>å±‚çº§åµŒå¥—<ul><li>å¢åŠ ä¸€å±‚åµŒå¥—<ul><li>æ‰€æœ‰å±‚çº§å…¨éƒ¨å±•å¼€Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·<code>console.group()</code></li><li>é»˜è®¤å±‚çº§æŠ˜å æ˜¾ç¤ºÂ·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·<code>console.groupCollapsed()</code></li></ul></li><li>å‡å°‘ä¸€å±‚åµŒå¥—Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·<code>console.groupEnd()</code></li></ul></li></ul><h3 id="1-å±‚çº§å±•å¼€"><a href="#1-å±‚çº§å±•å¼€" class="headerlink" title="(1) å±‚çº§å±•å¼€"></a>(1) å±‚çº§å±•å¼€</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs JavaScript"><span class="hljs-comment">// ç¬¬1å±‚ï¼Œæ‰€æœ‰å±‚çº§å…¨éƒ¨å±•å¼€ï¼Œconsole.group()ç»“åˆconsole.groupEnd()ä½¿ç”¨</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Python&#x27;</span>);<br><span class="hljs-comment">// å¢åŠ ä¸€å±‚åµŒå¥—</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">group</span>();<br><br><span class="hljs-comment">// ç¬¬2å±‚</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Numpy&#x27;</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;UnitTest&#x27;</span>);<br><span class="hljs-comment">// å¢åŠ ä¸€å±‚åµŒå¥—</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">group</span>();<br><br><span class="hljs-comment">// ç¬¬3å±‚</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Mock&#x27;</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;TestCase&#x27;</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;TestLoader&#x27;</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;TextTestRunner&#x27;</span>);<br><span class="hljs-comment">// å‡å°‘ä¸€å±‚åµŒå¥—</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">groupEnd</span>();<br><br><span class="hljs-comment">// å›åˆ°ç¬¬2å±‚</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;PlayWright&#x27;</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Matplotlib&#x27;</span>);<br><span class="hljs-comment">// å‡å°‘ä¸€å±‚åµŒå¥—</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">groupEnd</span>();<br><br><span class="hljs-comment">// å›åˆ°ç¬¬1å±‚</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;MongoDB&#x27;</span>);<br></code></pre></td></tr></table></figure><h3 id="2-å±‚çº§æŠ˜å "><a href="#2-å±‚çº§æŠ˜å " class="headerlink" title="(2) å±‚çº§æŠ˜å "></a>(2) å±‚çº§æŠ˜å </h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs JavaScript"><span class="hljs-comment">// ç¬¬1å±‚ï¼Œé»˜è®¤å±‚çº§æŠ˜å æ˜¾ç¤ºï¼Œconsole.groupCollapsed()ç»“åˆconsole.groupEnd()ä½¿ç”¨</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Python&#x27;</span>);<br><span class="hljs-comment">// å¢åŠ ä¸€å±‚åµŒå¥—</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">groupCollapsed</span>();<br><br><span class="hljs-comment">// ç¬¬2å±‚</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Numpy&#x27;</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;UnitTest&#x27;</span>);<br><span class="hljs-comment">// å¢åŠ ä¸€å±‚åµŒå¥—</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">groupCollapsed</span>();<br><br><span class="hljs-comment">// ç¬¬3å±‚</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Mock&#x27;</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;TestCase&#x27;</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;TestLoader&#x27;</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;TextTestRunner&#x27;</span>);<br><span class="hljs-comment">// å‡å°‘ä¸€å±‚åµŒå¥—</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">groupEnd</span>();<br><br><span class="hljs-comment">// å›åˆ°ç¬¬2å±‚</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;PlayWright&#x27;</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Matplotlib&#x27;</span>);<br><span class="hljs-comment">// å‡å°‘ä¸€å±‚åµŒå¥—</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">groupEnd</span>();<br><br><span class="hljs-comment">// å›åˆ°ç¬¬1å±‚</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;MongoDB&#x27;</span>);<br></code></pre></td></tr></table></figure><h2 id="2-3-æŸ¥çœ‹CPU"><a href="#2-3-æŸ¥çœ‹CPU" class="headerlink" title="2-3 æŸ¥çœ‹CPU"></a>2-3 æŸ¥çœ‹CPU</h2><ul><li>æŸ¥çœ‹CPU<ul><li><code>console.profile()</code>ï¼šå¯¹ä¸€æ®µä»£ç çš„æ‰§è¡Œç”Ÿæˆæ€§èƒ½åˆ†ææŠ¥å‘Šï¼Œä½œä¸ºå¼€å§‹æ ‡è¯†ã€‚</li><li><code>console.profileEnd()</code>ï¼šå¯ä»¥ä¼ å…¥ä¸€ä¸ªå¯¹åº”çš„å‚æ•°ä½œä¸ºæ ‡ç­¾ï¼Œä½œä¸ºç»“æŸæ ‡è¯†ã€‚</li></ul></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs JavaScript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">profile</span>(<span class="hljs-string">&#x27;Array initialize&#x27;</span>);<br><span class="hljs-keyword">var</span> array = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">1000000</span>);<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i=array.<span class="hljs-property">length</span>-<span class="hljs-number">1</span>; i&gt;=<span class="hljs-number">0</span>; i--) &#123;<br>  array[i] = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>();<br>&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">profileEnd</span>(<span class="hljs-string">&#x27;Array initialize&#x27;</span>);<br><span class="hljs-comment">// å›è½¦ï¼Œè‡ªåŠ¨è·³è½¬PerformanceæŸ¥çœ‹CPUç›¸å…³ä¿¡æ¯</span><br></code></pre></td></tr></table></figure><h1 id="3-æ–­è¨€è¾“å‡º"><a href="#3-æ–­è¨€è¾“å‡º" class="headerlink" title="3 æ–­è¨€è¾“å‡º"></a>3 æ–­è¨€è¾“å‡º</h1><ul><li>æ–­è¨€è¾“å‡º<ul><li><code>console.assert(expression, object [, object, ...])</code>ï¼šè‡³å°‘æ¥æ”¶ä¸¤ä¸ªå‚æ•°ã€‚</li><li>å½“<code>expression</code>è¡¨è¾¾å¼çš„å€¼æˆ–è€…è¿”å›å€¼ä¸º<code>false</code>çš„æ—¶å€™ï¼Œæ‰ä¼šåœ¨æ§åˆ¶å°ä¸Šç›¸åº”è¾“å‡ºã€‚</li></ul></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs JavaScript"><span class="hljs-comment">// æ— è¾“å‡ºï¼Œè¿”å›undefined</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">assert</span>(<span class="hljs-number">1</span> == <span class="hljs-number">1</span>, [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]);<br><br><span class="hljs-comment">// è¾“å‡º[1, 2, 3]</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">assert</span>(<span class="hljs-number">1</span> == <span class="hljs-number">2</span>, [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]);<br><br><span class="hljs-comment">// è¾“å‡º</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">assert</span>(<span class="hljs-number">1</span> == <span class="hljs-number">2</span>, <span class="hljs-string">&#x27;assertæ–­è¨€å¤±è´¥å•¦ï¼&#x27;</span>, <span class="hljs-string">&#x27;å¤§å®¶å¿«æ¥çœ‹å‘€ï¼&#x27;</span>);<br></code></pre></td></tr></table></figure><h1 id="4-ç»Ÿè®¡æ¬¡æ•°"><a href="#4-ç»Ÿè®¡æ¬¡æ•°" class="headerlink" title="4 ç»Ÿè®¡æ¬¡æ•°"></a>4 ç»Ÿè®¡æ¬¡æ•°</h1><ul><li>ç»Ÿè®¡æ¬¡æ•°<ul><li>ç»Ÿè®¡è¢«æ‰§è¡Œçš„æ¬¡æ•°Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·<code>console.count([label])</code></li><li>é‡ç½®æŒ‡å®šæ ‡ç­¾åçš„è®¡æ•°å™¨Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·<code>console.countReset([label])</code></li></ul></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs JavaScript"><span class="hljs-comment">// console.count([label])ï¼šç»Ÿè®¡myFunc()å‡½æ•°è¢«æ‰§è¡Œçš„æ¬¡æ•°</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">myFunc</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">count</span>(<span class="hljs-string">&#x27;myFuncè¢«æ‰§è¡Œçš„æ¬¡æ•°&#x27;</span>);<br>&#125;<br><span class="hljs-title function_">myFunc</span>();<br><span class="hljs-title function_">myFunc</span>();<br><span class="hljs-title function_">myFunc</span>();<br><br><span class="hljs-comment">// è¾“å‡ºæ‰§è¡Œåˆ°è¯¥è¡Œçš„æ¬¡æ•°ï¼Œå¯é€‰å‚æ•°`label`å¯ä»¥åœ¨æ¬¡æ•°ä¹‹å‰è¾“å‡º</span><br>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">5</span>; i++) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">count</span>(<span class="hljs-string">&#x27;count&#x27;</span>);<br>  &#125;<br>&#125;) ();<br><br><span class="hljs-comment">// ä¸è®¾å®šæ ‡ç­¾å³é»˜è®¤ä¸ºç›¸åŒæ ‡ç­¾</span><br><span class="hljs-keyword">let</span> <span class="hljs-title function_">p</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>  [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>].<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">count</span>(<span class="hljs-string">&#x27;forå¾ªç¯&#x27;</span>);<br>  &#125;)<br>&#125;;<br><span class="hljs-title function_">p</span>();<br><span class="hljs-title function_">p</span>();<br><br><span class="hljs-comment">// ç›¸åŒæ ‡ç­¾å…±äº«æ•°å€¼</span><br><span class="hljs-keyword">let</span> <span class="hljs-title function_">p</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>  [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>].<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">count</span>(<span class="hljs-string">&#x27;forå¾ªç¯1&#x27;</span>);<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">count</span>(<span class="hljs-string">&#x27;forå¾ªç¯1&#x27;</span>);<br>  &#125;)<br>&#125;;<br><span class="hljs-title function_">p</span>();<br><br><span class="hljs-comment">// ä¸åŒæ ‡ç­¾ç‹¬ç«‹è®¡ç®—</span><br><span class="hljs-keyword">let</span> <span class="hljs-title function_">p</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>  [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>].<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">count</span>(<span class="hljs-string">&#x27;forå¾ªç¯1&#x27;</span>);<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">count</span>(<span class="hljs-string">&#x27;forå¾ªç¯2&#x27;</span>);<br>  &#125;)<br>&#125;;<br><span class="hljs-title function_">p</span>();<br><br><span class="hljs-comment">// é‡ç½®æŒ‡å®šæ ‡ç­¾åçš„è®¡æ•°å™¨ï¼Œå¦‚æœä¸ä¼ å‚æ•°ï¼Œåˆ™åªé‡ç½®é»˜è®¤è®¡æ•°å™¨</span><br><span class="hljs-keyword">let</span> <span class="hljs-title function_">p</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>  [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>].<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> &#123;<br>    item == <span class="hljs-number">3</span> &amp;&amp; <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">countReset</span>(<span class="hljs-string">&#x27;forå¾ªç¯&#x27;</span>);<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">count</span>(<span class="hljs-string">&#x27;forå¾ªç¯&#x27;</span>);<br>  &#125;)<br>&#125;;<br><span class="hljs-title function_">p</span>();<br></code></pre></td></tr></table></figure><h1 id="5-æ ¼å¼è¾“å‡º"><a href="#5-æ ¼å¼è¾“å‡º" class="headerlink" title="5 æ ¼å¼è¾“å‡º"></a>5 æ ¼å¼è¾“å‡º</h1><ul><li>æ ¼å¼è¾“å‡º<ul><li>åˆ—è¡¨å½¢å¼è¾“å‡ºÂ·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·<code>console.dir(object)</code></li><li>è¡¨æ ¼å½¢å¼è¾“å‡ºÂ·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·<code>console.table(object)</code></li><li>æ ‘å½¢è§†å›¾è¾“å‡ºÂ·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·<code>console.dirxml(object)</code></li></ul></li></ul><h2 id="5-1-åˆ—è¡¨å½¢å¼"><a href="#5-1-åˆ—è¡¨å½¢å¼" class="headerlink" title="5-1 åˆ—è¡¨å½¢å¼"></a>5-1 åˆ—è¡¨å½¢å¼</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs JavaScript"><span class="hljs-comment">// å°†ä¼ å…¥å¯¹è±¡çš„å±æ€§ï¼ŒåŒ…æ‹¬å­å¯¹è±¡çš„å±æ€§ï¼Œä»¥åˆ—è¡¨å½¢å¼è¾“å‡º</span><br><span class="hljs-keyword">var</span> obj = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Tomas&#x27;</span>,<br>  <span class="hljs-attr">age</span>: <span class="hljs-string">&#x27;28&#x27;</span>,<br>  <span class="hljs-attr">sex</span>: <span class="hljs-string">&#x27;Male&#x27;</span><br>&#125;;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">dir</span>(obj);<br></code></pre></td></tr></table></figure><h2 id="5-2-è¡¨æ ¼å½¢å¼"><a href="#5-2-è¡¨æ ¼å½¢å¼" class="headerlink" title="5-2 è¡¨æ ¼å½¢å¼"></a>5-2 è¡¨æ ¼å½¢å¼</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs JavaScript"><span class="hljs-comment">// ä»¥è¡¨æ ¼å½¢å¼è¾“å‡ºï¼Œobjæ˜¯objectæ—¶ï¼Œå€¼å°±æ˜¯å„å¯¹è±¡çš„å±æ€§åç§°</span><br><span class="hljs-keyword">var</span> obj = &#123;<br>  <span class="hljs-attr">foo</span>: &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Tomas&#x27;</span>,<br>    <span class="hljs-attr">age</span>: <span class="hljs-string">&#x27;28&#x27;</span>,<br>    <span class="hljs-attr">sex</span>: <span class="hljs-string">&#x27;Male&#x27;</span><br>  &#125;,<br>  <span class="hljs-attr">bar</span>: &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Michael&#x27;</span>,<br>    <span class="hljs-attr">age</span>: <span class="hljs-string">&#x27;33&#x27;</span>,<br>    <span class="hljs-attr">sex</span>: <span class="hljs-string">&#x27;Male&#x27;</span><br>  &#125;<br>&#125;;<br><br><span class="hljs-comment">// objæ˜¯arrayæ—¶ï¼Œè¡¨æ ¼çš„ç¬¬ä¸€åˆ—æ˜¯index</span><br><span class="hljs-keyword">var</span> arr = [<br>  [<span class="hljs-string">&#x27;foo&#x27;</span>, <span class="hljs-string">&#x27;29&#x27;</span>],<br>  [<span class="hljs-string">&#x27;bar&#x27;</span>, <span class="hljs-string">&#x27;31&#x27;</span>]<br>];<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">table</span>(obj);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">table</span>(arr);<br></code></pre></td></tr></table></figure><h2 id="5-3-æ ‘å½¢è§†å›¾"><a href="#5-3-æ ‘å½¢è§†å›¾" class="headerlink" title="5-3 æ ‘å½¢è§†å›¾"></a>5-3 æ ‘å½¢è§†å›¾</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs JavaScript"><span class="hljs-comment">// ä»¥XMLæ ¼å¼è¾“å‡ºä¸€ä¸ªJavaScriptå¯¹è±¡çš„äº¤äº’å¼æ ‘å½¢è§†å›¾</span><br><span class="hljs-comment">// éæ ‡å‡†çš„å‡½æ•°å‘½ä»¤ï¼Œæ§åˆ¶å°å¥½åƒä¹Ÿæ²¡æœ‰ä»¥XMLæ ¼å¼è¿›è¡Œè¾“å‡º</span><br><span class="hljs-keyword">const</span> obj = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;John&#x27;</span>,<br>  <span class="hljs-attr">age</span>: <span class="hljs-number">30</span>,<br>  <span class="hljs-attr">address</span>: &#123;<br>    <span class="hljs-attr">street</span>: <span class="hljs-string">&#x27;105 Main Street&#x27;</span>,<br>    <span class="hljs-attr">city</span>: <span class="hljs-string">&#x27;Anytown&#x27;</span>,<br>    <span class="hljs-attr">state</span>: <span class="hljs-string">&#x27;CA&#x27;</span>,<br>    <span class="hljs-attr">zip</span>: <span class="hljs-string">&#x27;John.12345&#x27;</span><br>  &#125;<br>&#125;;<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">dirxml</span>(obj);<br></code></pre></td></tr></table></figure><h1 id="6-æ—¶é—´å‡½æ•°"><a href="#6-æ—¶é—´å‡½æ•°" class="headerlink" title="6 æ—¶é—´å‡½æ•°"></a>6 æ—¶é—´å‡½æ•°</h1><ul><li>æ—¶é—´å‡½æ•°<ul><li>å¯åŠ¨è®¡æ—¶å™¨Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·<code>console.time(label)</code></li><li>å…³é—­è®¡æ—¶å™¨Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·<code>console.timeEnd(label)</code></li><li>æ‰“å°æ€»æ—¶é—´Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·<code>console.timeLog(label)</code></li><li>ç”Ÿæˆæ—¶é—´æˆ³Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·<code>console.timeStamp(label)</code></li></ul></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs JavaScript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">time</span>(<span class="hljs-string">&#x27;count 10000&#x27;</span>);<br><span class="hljs-keyword">let</span> i=<span class="hljs-number">0</span>;<br><span class="hljs-keyword">while</span>(i&lt;<span class="hljs-number">10000</span>)&#123; i++ &#125;;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">timeEnd</span>(<span class="hljs-string">&#x27;count 10000&#x27;</span>);<br><br><span class="hljs-comment">// console.timeLog(&#x27;count 10000&#x27;);</span><br><span class="hljs-comment">// console.timeEnd()å’Œconsole.timeLog()çš„ä½¿ç”¨ï¼ŒäºŒé€‰ä¸€å³å¯</span><br><span class="hljs-comment">// console.timeEnd()å…³é—­è®¡æ—¶å™¨ï¼Œ&#x27;count 10000&#x27;åœ¨è°ƒç”¨console.timeLog()å‰å°±é”€æ¯äº†</span><br><br><span class="hljs-comment">// é€šå¸¸ç”¨äºåœ¨æ€§èƒ½åˆ†æå’Œè°ƒè¯•è¿‡ç¨‹ä¸­æ ‡è®°ç‰¹å®šçš„æ—¶é—´ç‚¹ï¼Œä»¥ä¾¿è¿›è¡Œæ—¶é—´æµ‹é‡å’Œåˆ†æ</span><br><span class="hljs-comment">// console.timeStamp()å¹¶ä¸ä¼šæä¾›å®é™…çš„æ—¶é—´æµ‹é‡åŠŸèƒ½</span><br><span class="hljs-comment">// åªæ˜¯åœ¨æ€§èƒ½åˆ†æå™¨ä¸­åˆ›å»ºä¸€ä¸ªå¯è§†åŒ–æ ‡è®°ï¼Œå¸®åŠ©æ›´å¥½åœ°ç†è§£ä»£ç æ‰§è¡Œçš„æ—¶é—´æµç¨‹</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">timeStamp</span>(<span class="hljs-string">&#x27;å¼€å§‹æ‰§è¡Œä»£ç &#x27;</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">profile</span>(<span class="hljs-string">&#x27;Array initialize&#x27;</span>);<br><span class="hljs-keyword">var</span> array = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">1000000</span>);<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i=array.<span class="hljs-property">length</span>-<span class="hljs-number">1</span>; i&gt;=<span class="hljs-number">0</span>; i--) &#123;<br>  array[i] = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>();<br>&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">profileEnd</span>(<span class="hljs-string">&#x27;Array initialize&#x27;</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">timeStamp</span>(<span class="hljs-string">&#x27;ä»£ç æ‰§è¡Œç»“æŸ&#x27;</span>);<br></code></pre></td></tr></table></figure><h1 id="7-å‡½æ•°è¿½è¸ª"><a href="#7-å‡½æ•°è¿½è¸ª" class="headerlink" title="7 å‡½æ•°è¿½è¸ª"></a>7 å‡½æ•°è¿½è¸ª</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs JavaScript"><span class="hljs-comment">// è¿½è¸ªå‡½æ•°çš„è°ƒç”¨è¿‡ç¨‹ï¼Œæ˜¾ç¤ºå½“å‰ä½ç½®æ‰§è¡Œçš„ä»£ç åœ¨æ‰§è¡Œå †æ ˆä¸­çš„è°ƒç”¨è·¯å¾„</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">tracer</span>(<span class="hljs-params">a</span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">trace</span>();<br>  <span class="hljs-keyword">return</span> a;<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params">a</span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-title function_">bar</span>(a);<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">bar</span>(<span class="hljs-params">a</span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-title function_">tracer</span>(a);<br>&#125;<br><br><span class="hljs-keyword">var</span> a = <span class="hljs-title function_">foo</span>(<span class="hljs-string">&#x27;tracer&#x27;</span>);<br></code></pre></td></tr></table></figure><h1 id="8-ç±»å‹å¯¹è±¡"><a href="#8-ç±»å‹å¯¹è±¡" class="headerlink" title="8 ç±»å‹å¯¹è±¡"></a>8 ç±»å‹å¯¹è±¡</h1><ul><li>ç±»å‹å¯¹è±¡<ul><li><code>console.context()</code>ç‰¹æ€§<ul><li>æ¯æ¬¡è°ƒç”¨<code>console.context()</code>æ—¶ï¼Œéƒ½ä¼šè¿”å›ä¸€ä¸ªæ–°çš„contextå¯¹è±¡ã€‚</li><li>æ¯ä¸ªcontextå¯¹è±¡éƒ½æœ‰å”¯ä¸€çš„ä¸€ä¸ªæ ‡è¯†ç¬¦ï¼Œå³ä½¿å®ƒä»¬å…·æœ‰ç›¸åŒçš„æ ‡é¢˜ã€‚</li><li>contextå¯¹è±¡ä¸­çš„æ–¹æ³•æ‰§è¡Œéƒ½ä¼šä¿æŒé»˜è®¤çš„åŸå§‹è¡Œä¸ºã€‚</li></ul></li><li>ç”¨æ³•ï¼šåˆ›å»ºç‹¬ç«‹æ—¥å¿—ä¸Šä¸‹æ–‡ã€æ—¥å¿—ç­›é€‰å’Œåˆ†æã€ç»“åˆæ§åˆ¶å°ç‰¹æ€§ã€ä¸åŒåŠŸèƒ½ä½¿ç”¨ä¸åŒä¸Šä¸‹æ–‡ã€‚</li><li>JavaScriptä¸­<code>console.context()</code>æ˜¯ä¸€ä¸ªè¾ƒæ–°çš„æ§åˆ¶å°APIï¼Œæ—¨åœ¨æ—¥å¿—ç®¡ç†æ›´åŠ æ¨¡å—åŒ–å’Œæ¸…æ™°ã€‚</li><li>è¯¥APIä¸æ˜¯ä¸€ä¸ªæ ‡å‡†çš„JavaScript APIï¼Œè€Œæ˜¯ä¸€ä¸ªå®éªŒæ€§çš„åŠŸèƒ½ï¼Œä¸»è¦åœ¨Chromeæµè§ˆå™¨ä¸­å¯ç”¨ã€‚</li></ul></li></ul><h2 id="8-1-ç‹¬ç«‹æ—¥å¿—ä¸Šä¸‹æ–‡"><a href="#8-1-ç‹¬ç«‹æ—¥å¿—ä¸Šä¸‹æ–‡" class="headerlink" title="8-1 ç‹¬ç«‹æ—¥å¿—ä¸Šä¸‹æ–‡*"></a>8-1 ç‹¬ç«‹æ—¥å¿—ä¸Šä¸‹æ–‡*</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs JavaScript"><span class="hljs-comment">// æ—¥å¿—æ¶ˆæ¯åˆ†ç»„ä¼¼ä¹æ²¡æœ‰ç”Ÿæ•ˆï¼Ÿï¼Ÿï¼Ÿ</span><br><span class="hljs-keyword">const</span> loginContext = <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">context</span>(<span class="hljs-string">&#x27;ç™»å½•æµç¨‹&#x27;</span>);<br>loginContext.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;å¼€å§‹ç™»å½•è¿‡ç¨‹&#x27;</span>);<br>loginContext.<span class="hljs-title function_">warn</span>(<span class="hljs-string">&#x27;ç”¨æˆ·åæœªå¡«å†™&#x27;</span>);<br>loginContext.<span class="hljs-title function_">error</span>(<span class="hljs-string">&#x27;æœåŠ¡å™¨æ— å“åº”&#x27;</span>);<br><br><span class="hljs-keyword">const</span> paymentContext = <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">context</span>(<span class="hljs-string">&#x27;æ”¯ä»˜æµç¨‹&#x27;</span>);<br>paymentContext.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;åˆå§‹æ”¯ä»˜æ¨¡å—&#x27;</span>);<br>paymentContext.<span class="hljs-title function_">info</span>(<span class="hljs-string">&#x27;å¤„ç†æ”¯ä»˜ä¿¡æ¯&#x27;</span>);<br></code></pre></td></tr></table></figure><h2 id="8-2-æ—¥å¿—ç­›é€‰å’Œåˆ†æ"><a href="#8-2-æ—¥å¿—ç­›é€‰å’Œåˆ†æ" class="headerlink" title="8-2 æ—¥å¿—ç­›é€‰å’Œåˆ†æ*"></a>8-2 æ—¥å¿—ç­›é€‰å’Œåˆ†æ*</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs JavaScript"><span class="hljs-comment">// å‡è®¾æœ‰æ— æ•°çš„æ—¥å¿—ä¿¡æ¯</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">context</span>(<span class="hljs-string">&#x27;ç”¨æˆ·ç•Œé¢&#x27;</span>).<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;æ›´æ–°ç•Œé¢å…ƒç´ &#x27;</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">context</span>(<span class="hljs-string">&#x27;æ•°æ®åŒæ­¥&#x27;</span>).<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;æœåŠ¡å™¨æ‹‰æ•°æ®&#x27;</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">context</span>(<span class="hljs-string">&#x27;ç”¨æˆ·ç•Œé¢&#x27;</span>).<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;æ˜¾ç¤ºæ–°çš„æ•°æ®&#x27;</span>);<br><span class="hljs-comment">// åœ¨å¼€å‘è€…å·¥å…·ä¸­ï¼Œå¯ä»¥ç­›é€‰&#x27;ç”¨æˆ·ç•Œé¢&#x27;æˆ–&#x27;æ•°æ®åŒæ­¥&#x27;çš„æ—¥å¿—æ¥ä¸“æ³¨åˆ†æ</span><br></code></pre></td></tr></table></figure><h2 id="8-3-ç»“åˆæ§åˆ¶å°ç‰¹æ€§"><a href="#8-3-ç»“åˆæ§åˆ¶å°ç‰¹æ€§" class="headerlink" title="8-3 ç»“åˆæ§åˆ¶å°ç‰¹æ€§"></a>8-3 ç»“åˆæ§åˆ¶å°ç‰¹æ€§</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs JavaScript"><span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªåä¸ºfetchContextçš„æ—¥å¿—ä¸Šä¸‹æ–‡ï¼Œç”¨äºè®°å½•æ•°æ®è·å–ç›¸å…³çš„æ—¥å¿—ä¿¡æ¯</span><br><span class="hljs-keyword">const</span> fetchContext = <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">context</span>(<span class="hljs-string">&#x27;æ•°æ®è·å–&#x27;</span>);<br><span class="hljs-comment">//  åˆ›å»ºä¸€ä¸ªåˆ†ç»„ï¼Œå°†åç»­çš„æ—¥å¿—ä¿¡æ¯ç»„ç»‡åœ¨ä¸€èµ·ï¼Œæœ‰åŠ©äºåœ¨æ§åˆ¶å°ä¸­æ›´æ¸…æ™°åœ°æŸ¥çœ‹å’ŒåŒºåˆ†ä¸åŒçš„æ—¥å¿—ä¿¡æ¯</span><br>fetchContext.<span class="hljs-title function_">group</span>(<span class="hljs-string">&#x27;è¯·æ±‚ç”¨æˆ·æ•°æ®&#x27;</span>);<br><span class="hljs-comment">// å¼€å§‹è®¡æ—¶ï¼Œæ ‡è®°æ•°æ®è·å–çš„èµ·å§‹æ—¶é—´</span><br>fetchContext.<span class="hljs-title function_">time</span>(<span class="hljs-string">&#x27;è·å–æ—¶é—´&#x27;</span>);<br><br><span class="hljs-comment">// å‘èµ·ä¸€ä¸ªå¼‚æ­¥è¯·æ±‚ï¼Œè·å–ç”¨æˆ·æ•°æ®</span><br><span class="hljs-title function_">fetch</span>(<span class="hljs-string">&#x27;https://jsonplaceholder.typicode.com/users&#x27;</span>)<br>  <span class="hljs-comment">// å½“è¯·æ±‚æˆåŠŸå¹¶è¿”å›å“åº”æ—¶ï¼Œé€šè¿‡response.json()å°†å“åº”æ•°æ®è§£æä¸ºJSONæ ¼å¼</span><br>  .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> response.<span class="hljs-title function_">json</span>())<br>  .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">// è®°å½•è·å–åˆ°çš„ç”¨æˆ·æ•°æ®ï¼Œå¯åœ¨æ§åˆ¶å°ä¸­æŸ¥çœ‹åˆ°è¯¥æ—¥å¿—ä¿¡æ¯</span><br>    fetchContext.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;ç”¨æˆ·æ•°æ®:&#x27;</span>, data);<br>    fetchContext.<span class="hljs-title function_">timeEnd</span>(<span class="hljs-string">&#x27;è·å–æ—¶é—´&#x27;</span>);<br>  &#125;)<br>  <span class="hljs-comment">// å¦‚æœè¯·æ±‚è¿‡ç¨‹ä¸­å‡ºç°é”™è¯¯ï¼Œä¼šè¿›å…¥.catch()æ–¹æ³•</span><br>  .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">// è®°å½•æ•°æ®è·å–å¤±è´¥çš„é”™è¯¯ä¿¡æ¯</span><br>    fetchContext.<span class="hljs-title function_">error</span>(<span class="hljs-string">&#x27;æ•°æ®è·å–å¤±è´¥:&#x27;</span>, error);<br>  &#125;)<br>  <span class="hljs-comment">// æ— è®ºè¯·æ±‚æˆåŠŸä¸å¦ï¼Œéƒ½ä¼šæ‰§è¡Œ.finally()æ–¹æ³•</span><br>  .<span class="hljs-title function_">finally</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-comment">// ç»“æŸå‰é¢åˆ›å»ºçš„åˆ†ç»„</span><br>    fetchContext.<span class="hljs-title function_">groupEnd</span>();<br>  &#125;);<br></code></pre></td></tr></table></figure><h2 id="8-4-ä½¿ç”¨ä¸åŒä¸Šä¸‹æ–‡"><a href="#8-4-ä½¿ç”¨ä¸åŒä¸Šä¸‹æ–‡" class="headerlink" title="8-4 ä½¿ç”¨ä¸åŒä¸Šä¸‹æ–‡"></a>8-4 ä½¿ç”¨ä¸åŒä¸Šä¸‹æ–‡</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs JavaScript"><span class="hljs-comment">// å¤„ç†è®¢å•çš„å‡½æ•°processOrder(orderId)</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">processOrder</span>(<span class="hljs-params">orderId</span>) &#123;<br>  <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªè®¢å•ä¸Šä¸‹æ–‡orderContextï¼Œç”¨äºè®°å½•ä¸è¯¥è®¢å•ç›¸å…³çš„æ—¥å¿—ä¿¡æ¯</span><br>  <span class="hljs-keyword">const</span> orderContext = <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">context</span>(<span class="hljs-string">&#x27;è®¢å•å¤„ç†ï¼š$&#123;orderId&#125;&#x27;</span>);<br>  orderContext.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;æ¥æ”¶è®¢å•é€šçŸ¥&#x27;</span>);<br>  <span class="hljs-comment">// try-catchæ•è·å¯èƒ½å‘ç”Ÿçš„å¼‚å¸¸ï¼Œå¦‚æœæ ¡éªŒæˆ–æ”¯ä»˜è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯ï¼Œä¼šåœ¨è®¢å•ä¸Šä¸‹æ–‡ä¸­è®°å½•é”™è¯¯ä¿¡æ¯</span><br>  <span class="hljs-keyword">try</span> &#123;<br>    orderContext.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;æ ¡éªŒè®¢å•ä¿¡æ¯&#x27;</span>);<br>    <span class="hljs-comment">// æ ¡éªŒé€»è¾‘</span><br>    orderContext.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;è®¢å•æ ¡éªŒé€šè¿‡&#x27;</span>);<br><br>    orderContext.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;å¤„ç†æ”¯ä»˜é€»è¾‘&#x27;</span>);<br>    <span class="hljs-comment">// æ”¯ä»˜é€»è¾‘</span><br>    orderContext.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;æ”¯ä»˜æˆåŠŸæé†’&#x27;</span>);<br>  &#125; <span class="hljs-keyword">catch</span> (e) &#123;<br>    orderContext.<span class="hljs-title function_">error</span>(<span class="hljs-string">&#x27;è®¢å•å¤„ç†é”™è¯¯&#x27;</span>, e);<br>  &#125;<br>  <span class="hljs-comment">// æ— è®ºè®¢å•å¤„ç†æˆåŠŸä¸å¦ï¼Œéƒ½ä¼šè®°å½•ä¸€æ¡&#x27;å®Œæˆè®¢å•å¤„ç†&#x27;çš„æ—¥å¿—ä¿¡æ¯</span><br>  orderContext.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;å®Œæˆè®¢å•å¤„ç†&#x27;</span>);<br>&#125;<br><span class="hljs-title function_">processOrder</span>(<span class="hljs-string">&#x27;ORD123&#x27;</span>);<br></code></pre></td></tr></table></figure><h1 id="9-æ§åˆ¶å°äº¤äº’"><a href="#9-æ§åˆ¶å°äº¤äº’" class="headerlink" title="9 æ§åˆ¶å°äº¤äº’"></a>9 æ§åˆ¶å°äº¤äº’</h1><ul><li>æ§åˆ¶å°äº¤äº’<ul><li><code>$</code>ï¼šç›¸å½“äº<code>document.querySelector()</code>ï¼Œå¯ä»¥ä½¿ç”¨CSSé€‰æ‹©å™¨è·å–æŸ¥æ‰¾åˆ°çš„ä¸€ä¸ªå…ƒç´ ã€‚</li><li><code>$$</code>ï¼šç›¸å½“äº<code>document.querySelectorAll()</code>ï¼Œä½¿ç”¨CSSé€‰æ‹©å™¨è·å–æŸ¥æ‰¾åˆ°çš„å…ƒç´ é›†åˆã€‚</li><li><code>$_</code>ï¼šåœ¨æ§åˆ¶å°å‘½ä»¤è¾“å‡ºæ‰§è¡Œçš„æœ€åä¸€ä¸ªè¡¨è¾¾å¼çš„è¿”å›å€¼ã€‚</li><li><code>$x</code>ï¼šä¼ å…¥XPathè·¯å¾„ä½œä¸ºå‚æ•°ï¼Œè·å–åŒ¹é…åˆ°çš„å…ƒç´ é›†åˆã€‚</li><li><code>$0-$4</code>ï¼šElementsé¢æ¿é€‰ä¸­çš„å…ƒç´ ï¼Œ<code>$0</code>ä»£è¡¨æœ¬èº«ï¼Œ<code>$1</code>ä»£è¡¨å…ƒç´ å†…çš„ç¬¬ä¸€ä¸ªï¼Œä»¥æ­¤ç±»æ¨ã€‚</li><li><code>monitor</code>(å¯ä»¥ä¼ å…¥ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥ç›‘å¬å‡½æ•°çš„æ‰§è¡Œ)ã€<code>unmonitor</code>(å–æ¶ˆå¯¹å‡½æ•°çš„ç›‘å¬)ã€‚</li><li><code>monitorEvents</code>(ç›‘å¬æŸå…ƒç´ çš„ä¸€ä¸ªäº‹ä»¶æˆ–è¡Œä¸ºçš„å‘ç”Ÿ)ã€<code>unmonitorEvents</code>(å–æ¶ˆç›‘å¬)ã€‚</li></ul></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs JavaScript">$(<span class="hljs-string">&#x27;ç™¾åº¦ä¸€ä¸‹&#x27;</span>);<br>$$(<span class="hljs-string">&#x27;script&#x27;</span>);<br><br><span class="hljs-number">10</span> + <span class="hljs-number">2</span>;<br>$_ + <span class="hljs-number">3</span>;<br><br>$x(<span class="hljs-string">&#x27;/html/body/div&#x27;</span>);<br>$x(<span class="hljs-string">&#x27;/html/body/div/text()&#x27;</span>);<br><br><span class="hljs-comment">// Elementsé€‰ä¸­å…ƒç´ ï¼Œå°†åº•éƒ¨çš„Consoleé¢æ¿å¾€ä¸Šæ‹–åŠ¨ï¼Œè¾“å…¥å†…å®¹æŸ¥çœ‹è¿”å›æ•°æ®</span><br>$<span class="hljs-number">0</span>;<br>$<span class="hljs-number">1</span>;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">m</span>(<span class="hljs-params"></span>) &#123;&#125;;<br><span class="hljs-title function_">monitor</span>(m);<br><span class="hljs-title function_">m</span>();<br><span class="hljs-comment">// è¿”å›function m called</span><br><span class="hljs-title function_">unmonitor</span>(m);<br><span class="hljs-title function_">m</span>();<br><span class="hljs-comment">// è¿”å›undefined</span><br><br><span class="hljs-title function_">monitorEvents</span>($<span class="hljs-number">0</span>, <span class="hljs-string">&#x27;click&#x27;</span>);<br><span class="hljs-comment">// é¼ æ ‡ç‚¹å‡»é¡µé¢æŒ‰é’®æ—¶ï¼Œä¼šè¿”å›æ•°ç»„æ ¼å¼çš„å€¼</span><br><span class="hljs-title function_">unmonitorEvents</span>($<span class="hljs-number">0</span>, <span class="hljs-string">&#x27;click&#x27;</span>);<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>æµ‹è¯•å·¥å…·</category>
      
      <category>F12 å¼€å‘è€…å·¥å…·</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æµ‹è¯•å·¥å…·</tag>
      
      <tag>F12</tag>
      
      <tag>Console</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¤šæ•°æ®åº“é—®é¢˜</title>
    <link href="/2024/03/07/yi-wen/aa-duo-shu-ju-ku-wen-ti/"/>
    <url>/2024/03/07/yi-wen/aa-duo-shu-ju-ku-wen-ti/</url>
    
    <content type="html"><![CDATA[<p>â­ ç³»ç»Ÿå®‰è£…äº†å¤šä¸ªç‰ˆæœ¬çš„MySQLæ•°æ®åº“ï¼Œæ¯ä¸ªMySQLå®ä¾‹éƒ½éœ€è¦ä½¿ç”¨ä¸åŒçš„ç«¯å£ï¼Œå¹¶ç¡®ä¿éƒ½æœ‰è‡ªå·±çš„æ•°æ®ç›®å½•å’Œé…ç½®æ–‡ä»¶ã€‚</p><span id="more"></span><h1 id="1-é—®é¢˜æè¿°"><a href="#1-é—®é¢˜æè¿°" class="headerlink" title="1 é—®é¢˜æè¿°"></a>1 é—®é¢˜æè¿°</h1><ul><li>é—®é¢˜æè¿°<ul><li>Win10ç³»ç»Ÿæœ¬åœ°åˆ†åˆ«è£…æœ‰MySQLæ•°æ®åº“ä¸‰ä¸ª(ä¸åŒç‰ˆæœ¬)ï¼Œä½¿ç”¨äº†ç«¯å£3309ã€3310ã€3311ã€‚</li><li>ç°åœ¨é»˜è®¤å¼€å¯3309(MySQLå®˜ç½‘ä¸‹è½½å®‰è£…é»˜è®¤)ã€3310(ç¦…é“)ä»¥åŠ3311ç«¯å£(JForumè®ºå›)ã€‚</li><li>3310æ•°æ®åº“é€šè¿‡ZenTaoç®¡ç†ï¼Œ3311æ•°æ®åº“é€šè¿‡XAMPPç®¡ç†ï¼Œ3309æ•°æ®åº“å‘½ä»¤ç™»å½•æ—¶æŠ¥é”™ã€‚</li></ul></li></ul><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs Cmd">&gt; mysql -uroot -p<br>Enter password: ******<br>ERROR <span class="hljs-number">2003</span> (HY000): Can&#x27;t connect to MySQL server on &#x27;localhost:<span class="hljs-number">3309</span>&#x27; (<span class="hljs-number">10061</span>)<br></code></pre></td></tr></table></figure><h1 id="2-åŸå› åˆ†æ"><a href="#2-åŸå› åˆ†æ" class="headerlink" title="2 åŸå› åˆ†æ"></a>2 åŸå› åˆ†æ</h1><ul><li>åŸå› åˆ†æ<ul><li>ä½¿ç”¨å‘½ä»¤æ£€æŸ¥ä¸€ä¸‹MySQLæœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œï¼š<code>sc query MySQL3309</code>ã€‚</li><li>æ˜¾ç¤ºå†…å®¹è¯´æ˜ä¸å­˜åœ¨MySQL3309æœåŠ¡ï¼Œè‹¥è¦ä½¿ç”¨éœ€å¯åŠ¨å®ä¾‹æŒ‡å®šç«¯å£ã€‚</li></ul></li></ul><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs Cmd">&gt; sc query MySQL3309<br>[SC] EnumQueryServicesStatus:OpenService FAILED <span class="hljs-number">1060</span>:<br><br>The specified service does <span class="hljs-keyword">not</span> <span class="hljs-keyword">exist</span> as an installed service.<br></code></pre></td></tr></table></figure><h1 id="3-è§£å†³æ–¹æ³•"><a href="#3-è§£å†³æ–¹æ³•" class="headerlink" title="3 è§£å†³æ–¹æ³•"></a>3 è§£å†³æ–¹æ³•</h1><ul><li>è§£å†³æ–¹æ³•<ul><li>ä½¿ç”¨å‘½ä»¤å¯åŠ¨ä¸€ä¸ªä¸´æ—¶çš„MySQLå®ä¾‹ï¼Œå¹¶ä¸”æŒ‡å®š3309ç«¯å£ã€‚</li><li>å¯åŠ¨æœåŠ¡åå¯å…³é—­å‘½ä»¤çª—å£çš„æ–¹æ³•<ul><li>ç®¡ç†å‘˜æ¨¡å¼ä¸‹æ‰“å¼€å‘½ä»¤çª—å£ï¼Œä»¥æœåŠ¡æ–¹å¼å¯åŠ¨MySQLå®ä¾‹ã€‚</li><li>å®‰è£…MySQL3309æœåŠ¡å¹¶æŒ‡å®šç«¯å£åï¼Œé€šè¿‡å‘½ä»¤å¯åŠ¨è¯¥æœåŠ¡ã€‚</li></ul></li></ul></li></ul><h2 id="3-1-ä¸´æ—¶å¯åŠ¨"><a href="#3-1-ä¸´æ—¶å¯åŠ¨" class="headerlink" title="3-1 ä¸´æ—¶å¯åŠ¨"></a>3-1 ä¸´æ—¶å¯åŠ¨</h2><ul><li>å‡ºç°äº†ä¸€äº›è­¦å‘Šå’Œé”™è¯¯ä¿¡æ¯ï¼Œä½†MySQLæœåŠ¡å·²ç»å¯åŠ¨ï¼Œä¸å½±å“æ­£å¸¸è¿æ¥åˆ°3309æ•°æ®åº“ã€‚</li></ul><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Cmd">&gt; mysqld --console --port=<span class="hljs-number">3309</span><br><span class="hljs-function">mysqld: <span class="hljs-title">Can</span>&#x27;<span class="hljs-title">t</span> <span class="hljs-title">open</span> <span class="hljs-title">shared</span> <span class="hljs-title">library</span> &#x27;<span class="hljs-title">D</span>:\<span class="hljs-title">Program</span>\<span class="hljs-title">MySQL</span>\<span class="hljs-title">database</span>\<span class="hljs-title">lib</span>\<span class="hljs-title">plugin</span>\<span class="hljs-title">component_reference_cache.dll</span>&#x27; (<span class="hljs-title">errno</span>: 126 æ‰¾ä¸åˆ°æŒ‡å®šçš„æ¨¡å—ã€‚)</span><br><span class="hljs-function"><span class="hljs-title">mysqld</span>: <span class="hljs-title">Cannot</span> <span class="hljs-title">load</span> <span class="hljs-title">component</span> <span class="hljs-title">from</span> <span class="hljs-title">specified</span> <span class="hljs-title">URN</span>: &#x27;<span class="hljs-title">file</span>://<span class="hljs-title">component_reference_cache</span>&#x27;.</span><br><span class="hljs-function">2024-03-07<span class="hljs-title">T03</span>:29:30.901507<span class="hljs-title">Z</span> 0 [<span class="hljs-title">Warning</span>] [<span class="hljs-title">MY</span>-010918] [<span class="hljs-title">Server</span>] &#x27;<span class="hljs-title">default_authentication_plugin</span>&#x27; <span class="hljs-title">is</span> <span class="hljs-title">deprecated</span> <span class="hljs-title">and</span> <span class="hljs-title">will</span> <span class="hljs-title">be</span> <span class="hljs-title">removed</span> <span class="hljs-title">in</span> <span class="hljs-title">a</span> <span class="hljs-title">future</span> <span class="hljs-title">release</span>. <span class="hljs-title">Please</span> <span class="hljs-title">use</span> <span class="hljs-title">authentication_policy</span> <span class="hljs-title">instead</span>.</span><br><span class="hljs-function">2024-03-07<span class="hljs-title">T03</span>:29:30.901542<span class="hljs-title">Z</span> 0 [<span class="hljs-title">System</span>] [<span class="hljs-title">MY</span>-010116] [<span class="hljs-title">Server</span>] <span class="hljs-title">D</span>:\<span class="hljs-title">Program</span>\<span class="hljs-title">MySQL</span>\<span class="hljs-title">bin</span>\<span class="hljs-title">mysqld.exe</span> (<span class="hljs-title">mysqld</span> 8.0.33) <span class="hljs-title">starting</span> <span class="hljs-title">as</span> <span class="hljs-title">process</span> 12044</span><br><span class="hljs-function">2024-03-07<span class="hljs-title">T03</span>:29:30.902373<span class="hljs-title">Z</span> 0 [<span class="hljs-title">ERROR</span>] [<span class="hljs-title">MY</span>-010338] [<span class="hljs-title">Server</span>] <span class="hljs-title">Can</span>&#x27;<span class="hljs-title">t</span> <span class="hljs-title">find</span> <span class="hljs-title">error</span>-<span class="hljs-title">message</span> <span class="hljs-title">file</span> &#x27;<span class="hljs-title">D</span>:\<span class="hljs-title">Program</span>\<span class="hljs-title">MySQL</span>\<span class="hljs-title">database</span>\<span class="hljs-title">share</span>\<span class="hljs-title">errmsg.sys</span>&#x27;. <span class="hljs-title">Check</span> <span class="hljs-title">error</span>-<span class="hljs-title">message</span> <span class="hljs-title">file</span> <span class="hljs-title">location</span> <span class="hljs-title">and</span> &#x27;<span class="hljs-title">lc</span>-<span class="hljs-title">messages</span>-<span class="hljs-title">dir</span>&#x27; <span class="hljs-title">configuration</span> <span class="hljs-title">directive</span>.</span><br><span class="hljs-function">2024-03-07<span class="hljs-title">T03</span>:29:30.915917<span class="hljs-title">Z</span> 0 [<span class="hljs-title">Warning</span>] [<span class="hljs-title">MY</span>-013242] [<span class="hljs-title">Server</span>] --<span class="hljs-title">character</span>-<span class="hljs-title">set</span>-<span class="hljs-title">server</span>: &#x27;<span class="hljs-title">utf8</span>&#x27; <span class="hljs-title">is</span> <span class="hljs-title">currently</span> <span class="hljs-title">an</span> <span class="hljs-title">alias</span> <span class="hljs-title">for</span> <span class="hljs-title">the</span> <span class="hljs-title">character</span> <span class="hljs-title">set</span> <span class="hljs-title">UTF8MB3</span>, <span class="hljs-title">but</span> <span class="hljs-title">will</span> <span class="hljs-title">be</span> <span class="hljs-title">an</span> <span class="hljs-title">alias</span> <span class="hljs-title">for</span> <span class="hljs-title">UTF8MB4</span> <span class="hljs-title">in</span> <span class="hljs-title">a</span> <span class="hljs-title">future</span> <span class="hljs-title">release</span>. <span class="hljs-title">Please</span> <span class="hljs-title">consider</span> <span class="hljs-title">using</span> <span class="hljs-title">UTF8MB4</span> <span class="hljs-title">in</span> <span class="hljs-title">order</span> <span class="hljs-title">to</span> <span class="hljs-title">be</span> <span class="hljs-title">unambiguous</span>.</span><br><span class="hljs-function">2024-03-07<span class="hljs-title">T03</span>:29:30.966490<span class="hljs-title">Z</span> 1 [<span class="hljs-title">System</span>] [<span class="hljs-title">MY</span>-013576] [<span class="hljs-title">InnoDB</span>] <span class="hljs-title">InnoDB</span> <span class="hljs-title">initialization</span> <span class="hljs-title">has</span> <span class="hljs-title">started</span>.</span><br><span class="hljs-function">2024-03-07<span class="hljs-title">T03</span>:29:31.514097<span class="hljs-title">Z</span> 1 [<span class="hljs-title">System</span>] [<span class="hljs-title">MY</span>-013577] [<span class="hljs-title">InnoDB</span>] <span class="hljs-title">InnoDB</span> <span class="hljs-title">initialization</span> <span class="hljs-title">has</span> <span class="hljs-title">ended</span>.</span><br><span class="hljs-function">2024-03-07<span class="hljs-title">T03</span>:29:31.859777<span class="hljs-title">Z</span> 0 [<span class="hljs-title">Warning</span>] [<span class="hljs-title">MY</span>-013829] [<span class="hljs-title">Server</span>] <span class="hljs-title">Missing</span> <span class="hljs-title">data</span> <span class="hljs-title">directory</span> <span class="hljs-title">for</span> <span class="hljs-title">ICU</span> <span class="hljs-title">regular</span> <span class="hljs-title">expressions</span>: <span class="hljs-title">D</span>:\<span class="hljs-title">Program</span>\<span class="hljs-title">MySQL</span>\<span class="hljs-title">database</span>\<span class="hljs-title">lib</span>\<span class="hljs-title">private</span>\.</span><br><span class="hljs-function">2024-03-07<span class="hljs-title">T03</span>:29:31.906995<span class="hljs-title">Z</span> 0 [<span class="hljs-title">Warning</span>] [<span class="hljs-title">MY</span>-010068] [<span class="hljs-title">Server</span>] <span class="hljs-title">CA</span> <span class="hljs-title">certificate</span> <span class="hljs-title">ca.pem</span> <span class="hljs-title">is</span> <span class="hljs-title">self</span> <span class="hljs-title">signed</span>.</span><br><span class="hljs-function">2024-03-07<span class="hljs-title">T03</span>:29:31.907154<span class="hljs-title">Z</span> 0 [<span class="hljs-title">System</span>] [<span class="hljs-title">MY</span>-013602] [<span class="hljs-title">Server</span>] <span class="hljs-title">Channel</span> <span class="hljs-title">mysql_main</span> <span class="hljs-title">configured</span> <span class="hljs-title">to</span> <span class="hljs-title">support</span> <span class="hljs-title">TLS</span>. <span class="hljs-title">Encrypted</span> <span class="hljs-title">connections</span> <span class="hljs-title">are</span> <span class="hljs-title">now</span> <span class="hljs-title">supported</span> <span class="hljs-title">for</span> <span class="hljs-title">this</span> <span class="hljs-title">channel</span>.</span><br><span class="hljs-function">2024-03-07<span class="hljs-title">T03</span>:29:31.970244<span class="hljs-title">Z</span> 0 [<span class="hljs-title">System</span>] [<span class="hljs-title">MY</span>-011323] [<span class="hljs-title">Server</span>] <span class="hljs-title">X</span> <span class="hljs-title">Plugin</span> <span class="hljs-title">ready</span> <span class="hljs-title">for</span> <span class="hljs-title">connections</span>. <span class="hljs-title">Bind</span>-<span class="hljs-title">address</span>: &#x27;::&#x27; <span class="hljs-title">port</span>: 33060</span><br><span class="hljs-function">2024-03-07<span class="hljs-title">T03</span>:29:31.970286<span class="hljs-title">Z</span> 0 [<span class="hljs-title">System</span>] [<span class="hljs-title">MY</span>-010931] [<span class="hljs-title">Server</span>] <span class="hljs-title">D</span>:\<span class="hljs-title">Program</span>\<span class="hljs-title">MySQL</span>\<span class="hljs-title">bin</span>\<span class="hljs-title">mysqld.exe</span>: <span class="hljs-title">ready</span> <span class="hljs-title">for</span> <span class="hljs-title">connections</span>. <span class="hljs-title">Version</span>: &#x27;8.0.33&#x27;  <span class="hljs-title">socket</span>: &#x27;&#x27;  <span class="hljs-title">port</span>: 3309  <span class="hljs-title">MySQL</span> <span class="hljs-title">Community</span> <span class="hljs-title">Server</span> - <span class="hljs-title">GPL</span>.</span><br></code></pre></td></tr></table></figure><h2 id="3-2-è‡ªåŠ¨å¯åŠ¨"><a href="#3-2-è‡ªåŠ¨å¯åŠ¨" class="headerlink" title="3-2 è‡ªåŠ¨å¯åŠ¨"></a>3-2 è‡ªåŠ¨å¯åŠ¨</h2><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Cmd">&gt; mysqld --install MySQL3309 --port=<span class="hljs-number">3309</span><br>&lt;!-- å‡ºç°è¯¥æç¤ºä¿¡æ¯ï¼Œè¯´æ˜æœªä½¿ç”¨ç®¡ç†å‘˜æ¨¡å¼æ‰“å¼€å‘½ä»¤çª—å£ --&gt;<br>Install/Remove of the Service Denied!<br><br>&gt; mysqld --install MySQL3309 --port=<span class="hljs-number">3309</span><br>&lt;!-- æˆåŠŸå®‰è£…MySQL3309æœåŠ¡ï¼Œå¹¶æŒ‡å®š<span class="hljs-number">3309</span>ç«¯å£çš„æç¤ºä¿¡æ¯ --&gt;<br>Service successfully installed.<br><br>&lt;!-- æˆåŠŸå®‰è£…å¹¶æŒ‡å®šç«¯å£åï¼Œé€šè¿‡å‘½ä»¤å¯åŠ¨MySQL3309æœåŠ¡ --&gt;<br>&gt; <span class="hljs-built_in">net</span> <span class="hljs-built_in">start</span> MySQL3309<br>The MySQL3309 service is starting.<br>The MySQL3309 service was started successfully.<br></code></pre></td></tr></table></figure><h1 id="4-å¸è½½æœåŠ¡"><a href="#4-å¸è½½æœåŠ¡" class="headerlink" title="4 å¸è½½æœåŠ¡"></a>4 å¸è½½æœåŠ¡</h1><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Cmd">&lt;!-- å¸è½½å‰éœ€è¦å…ˆåœæ­¢æœåŠ¡ --&gt;<br>&gt; <span class="hljs-built_in">net</span> stop MySQL3309<br>The MySQL3309 service is stopping.<br>The MySQL3309 service was stopped successfully.<br><br>&lt;!-- ç„¶åé€šè¿‡å‘½ä»¤å¸è½½æœåŠ¡ --&gt;<br>&gt; mysqld --remove MySQL3309<br>Service successfully removed.<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>é€¸æ–‡</category>
      
    </categories>
    
    
    <tags>
      
      <tag>MySQL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>UnitTest å­åŒ… Mock</title>
    <link href="/2024/03/02/ce-shi-kuang-jia/tf05-unittest-zi-bao-mock/"/>
    <url>/2024/03/02/ce-shi-kuang-jia/tf05-unittest-zi-bao-mock/</url>
    
    <content type="html"><![CDATA[<p>Mockæ¨¡å—æ˜¯Pythonæµ‹è¯•æ¡†æ¶UnitTestä¸‹çš„ä¸€ä¸ªå­åŒ…ï¼Œæ˜¯ç”¨äºæ¨¡æ‹Ÿå¯¹è±¡è¡Œä¸ºçš„å·¥å…·ï¼Œä¹Ÿæ˜¯å•å…ƒæµ‹è¯•çš„ä¸€ä¸ªé‡è¦æ¨¡å—ã€‚</p><span id="more"></span><h1 id="1-å¯¹è±¡å±æ€§"><a href="#1-å¯¹è±¡å±æ€§" class="headerlink" title="1 å¯¹è±¡å±æ€§"></a>1 å¯¹è±¡å±æ€§</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> unittest.mock <span class="hljs-keyword">import</span> MagicMock<br><br>obj = MagicMock()<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">dir</span>(obj))<br><br><span class="hljs-comment"># æ„é€ å™¨</span><br><span class="hljs-comment"># __init__(name=None, spec=None, return_value=DEFAULT, side_effect=None)</span><br><span class="hljs-comment"># </span><br><span class="hljs-comment"># æ–­è¨€æ–¹æ³•</span><br><span class="hljs-comment"># assert_called()</span><br><span class="hljs-comment"># assert_not_called()</span><br><span class="hljs-comment"># assert_called_once()</span><br><span class="hljs-comment"># assert_any_call(*args, **kwargs)</span><br><span class="hljs-comment"># assert_has_calls(calls, any_order)</span><br><span class="hljs-comment"># assert_called_with(*args, **kwargs)</span><br><span class="hljs-comment"># assert_called_once_with(*args, **kwargs)</span><br><span class="hljs-comment"># </span><br><span class="hljs-comment"># ç®¡ç†æ–¹æ³•</span><br><span class="hljs-comment"># reset_mock()</span><br><span class="hljs-comment"># attach_mock(mock, attribute)</span><br><span class="hljs-comment"># mock_add_spec(spec, spec_set=False)</span><br><span class="hljs-comment"># configure_mock(**kwargs)</span><br><span class="hljs-comment"># </span><br><span class="hljs-comment"># ç»Ÿè®¡æ–¹æ³•</span><br><span class="hljs-comment"># called: Boolean</span><br><span class="hljs-comment"># call_count: integer</span><br><span class="hljs-comment"># call_args: tuple</span><br><span class="hljs-comment"># call_args_list: list</span><br><span class="hljs-comment"># mock_calls: list</span><br><span class="hljs-comment"># method_calls: list</span><br></code></pre></td></tr></table></figure><h1 id="2-æ„é€ å™¨"><a href="#2-æ„é€ å™¨" class="headerlink" title="2 æ„é€ å™¨"></a>2 æ„é€ å™¨</h1><ul><li>æ„é€ å™¨<ul><li>initæ˜¯mockå¯¹è±¡çš„æ„é€ å™¨ï¼Œnameæ˜¯mockå¯¹è±¡çš„å”¯ä¸€æ ‡è¯†ã€‚</li><li>specè®¾ç½®çš„æ˜¯mockå¯¹è±¡çš„å±æ€§ï¼Œå¯ä»¥æ˜¯å±æ€§ã€æ–¹æ³•ã€åˆ—è¡¨å­—ç¬¦ä¸²æˆ–ç±»ã€‚</li><li>å½“è¿™ä¸ªmockå¯¹è±¡è¢«è°ƒç”¨æ—¶å€™æ˜¾ç¤ºå‡ºçš„ç»“æœï¼Œå³return_valueè®¾ç½®çš„å€¼ã€‚</li><li>side_effectä¼šè¦†ç›–return_valueï¼Œå½“mockå¯¹è±¡è¢«è°ƒç”¨æ—¶è¿”å›side_effectçš„å€¼ï¼Œè€Œéreturn_valueã€‚</li></ul></li></ul><h2 id="2-1-name"><a href="#2-1-name" class="headerlink" title="2-1 name"></a>2-1 name</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> unittest.mock <span class="hljs-keyword">import</span> Mock<br><br><span class="hljs-comment"># nameæ ‡è¯†äº†å”¯ä¸€çš„ä¸€ä¸ªmock</span><br>mock_obj = Mock(name=<span class="hljs-string">&#x27;ok&#x27;</span>)<br><span class="hljs-built_in">print</span>(mock_obj)<br><span class="hljs-comment"># repr(object)æ–¹æ³•è¿”å›å¯¹è±¡çš„å­—ç¬¦ä¸²å½¢å¼</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">repr</span>(mock_obj))<br><br><span class="hljs-comment"># &lt;Mock name=&#x27;ok&#x27; id=&#x27;2364967632848&#x27;&gt;</span><br><span class="hljs-comment"># &lt;Mock name=&#x27;ok&#x27; id=&#x27;2364967632848&#x27;&gt;</span><br></code></pre></td></tr></table></figure><h2 id="2-2-spec-list"><a href="#2-2-spec-list" class="headerlink" title="2-2 spec:list"></a>2-2 spec:list</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> unittest.mock <span class="hljs-keyword">import</span> Mock<br><br><span class="hljs-built_in">list</span> = [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>]<br><span class="hljs-comment"># specæŒ‡å®šçš„æ˜¯å±æ€§ç»„æˆçš„list</span><br>mock_foo = Mock(spec=<span class="hljs-built_in">list</span>)<br><br><span class="hljs-built_in">print</span>(mock_foo)<br><span class="hljs-built_in">print</span>(mock_foo.a)<br><span class="hljs-built_in">print</span>(mock_foo.c)<br><br><span class="hljs-comment"># &lt;Mock id=&#x27;1957190523440&#x27;&gt;</span><br><span class="hljs-comment"># &lt;Mock name=&#x27;mock.a&#x27; id=&#x27;1957190522288&#x27;&gt;</span><br><span class="hljs-comment"># &lt;Mock name=&#x27;mock.c&#x27; id=&#x27;1957190521856&#x27;&gt;</span><br></code></pre></td></tr></table></figure><h2 id="2-3-spec-class"><a href="#2-3-spec-class" class="headerlink" title="2-3 spec:class"></a>2-3 spec:class</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> unittest.mock <span class="hljs-keyword">import</span> Mock<br><br><br><span class="hljs-comment"># Peopleç±»æœ‰ä¸‰ä¸ªå±æ€§ï¼Œä¸€ä¸ªå˜é‡ï¼Œä¸¤ä¸ªæ–¹æ³•</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">People</span>:<br>    _num = <span class="hljs-number">24</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">f1</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;f1()&#x27;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">f2</span>(<span class="hljs-params">self, value</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;value = &#x27;</span>, value)<br><br><br><span class="hljs-comment"># specæŒ‡å®šçš„æ˜¯ä¸€ä¸ªç±»å±æ€§</span><br>mock_foo = Mock(spec=People)<br><br><span class="hljs-built_in">print</span>(mock_foo)<br><span class="hljs-built_in">print</span>(mock_foo._num)<br><span class="hljs-built_in">print</span>(mock_foo.f1())<br><span class="hljs-built_in">print</span>(mock_foo.f2())<br><br><span class="hljs-comment"># &lt;Mock spec=&#x27;People&#x27; id=&#x27;1486312582256&#x27;&gt;</span><br><span class="hljs-comment"># &lt;Mock name=&#x27;mock._num&#x27; id=&#x27;1486316220224&#x27;&gt;</span><br><span class="hljs-comment"># &lt;Mock name=&#x27;mock.f1()&#x27; id=&#x27;1486346522576&#x27;&gt;</span><br><span class="hljs-comment"># &lt;Mock name=&#x27;mock.f2()&#x27; id=&#x27;1486318466576&#x27;&gt;</span><br></code></pre></td></tr></table></figure><h2 id="2-4-return-value-value"><a href="#2-4-return-value-value" class="headerlink" title="2-4 return_value:value"></a>2-4 return_value:value</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> unittest.mock <span class="hljs-keyword">import</span> Mock<br><br><span class="hljs-comment"># ä½¿ç”¨return_valueæŒ‡å®šä¸€ä¸ªå€¼</span><br>mock_foo = Mock(return_value=<span class="hljs-number">24</span>)<br><span class="hljs-built_in">print</span>(mock_foo)<br><span class="hljs-comment"># å½“è°ƒç”¨mockå¯¹è±¡æ—¶ï¼Œæ˜¾ç¤ºçš„å°±æ˜¯return_valueçš„å€¼</span><br>mock_obj = mock_foo()<br><span class="hljs-built_in">print</span>(mock_obj)<br><br><span class="hljs-comment"># &lt;Mock id=&#x27;2159666551344&#x27;&gt;</span><br><span class="hljs-comment"># 24</span><br></code></pre></td></tr></table></figure><h2 id="2-5-return-value-object"><a href="#2-5-return-value-object" class="headerlink" title="2-5 return_value:object"></a>2-5 return_value:object</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> unittest.mock <span class="hljs-keyword">import</span> Mock<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">People</span>:<br>    _num = <span class="hljs-number">24</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">f1</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;f1()&#x27;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">f2</span>(<span class="hljs-params">self, value</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;value = &#x27;</span>, value)<br><br><br>p = People()<br><span class="hljs-comment"># æ‰“å°å¯¹è±¡pçš„åœ°å€</span><br><span class="hljs-built_in">print</span>(p)<br><br><span class="hljs-comment"># ä½¿ç”¨return_valueæŒ‡å®šä¸€ä¸ªå¯¹è±¡</span><br>mock_p = Mock(return_value=p)<br><span class="hljs-built_in">print</span>(mock_p)<br><br><span class="hljs-comment"># è°ƒç”¨mockå¯¹è±¡ï¼Œä¼šè¿”å›ä¸Šé¢è®¾ç½®çš„å¯¹è±¡p</span><br>mock_obj = mock_p()<br><span class="hljs-built_in">print</span>(mock_obj)<br><br><span class="hljs-comment"># è°ƒç”¨mockå¯¹è±¡pçš„å±æ€§å’Œæ–¹æ³•</span><br><span class="hljs-built_in">print</span>(mock_obj._num)<br><span class="hljs-built_in">print</span>(mock_obj.f1())<br><span class="hljs-comment"># è°ƒç”¨æ–¹æ³•ä¹Ÿéœ€è¦ä¼ å…¥å‚æ•°</span><br><span class="hljs-built_in">print</span>(mock_obj.f2(<span class="hljs-number">8</span>))<br><br><span class="hljs-comment"># &lt;__main__.People object at 0x00000245244F2C70&gt;</span><br><span class="hljs-comment"># &lt;Mock id=&#x27;2495988801248&#x27;&gt;</span><br><span class="hljs-comment"># &lt;__main__.People object at 0x00000245244F2C70&gt;</span><br><span class="hljs-comment"># 24</span><br><span class="hljs-comment"># f1()</span><br><span class="hljs-comment"># None</span><br><span class="hljs-comment"># value =  8</span><br><span class="hljs-comment"># None</span><br></code></pre></td></tr></table></figure><h2 id="2-6-side-effect"><a href="#2-6-side-effect" class="headerlink" title="2-6 side_effect"></a>2-6 side_effect</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> unittest.mock <span class="hljs-keyword">import</span> Mock<br><br><span class="hljs-built_in">list</span> = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<br>mock_foo = Mock(return_value=<span class="hljs-number">100</span>, side_effect=<span class="hljs-built_in">list</span>)<br>mock_obj = mock_foo()<br><span class="hljs-built_in">print</span>(mock_obj)<br><br>mock_obj = mock_foo()<br><span class="hljs-built_in">print</span>(mock_obj)<br><br>mock_obj = mock_foo()<br><span class="hljs-built_in">print</span>(mock_obj)<br><br><span class="hljs-comment"># æ¯æ‰§è¡Œä¸€æ¬¡ï¼Œä¼šè¿”å›listä¸­çš„ä¸€ä¸ªå€¼ï¼Œè¿”å›å®Œä¹‹åå°±ä¼šæŠ›å‡ºå¼‚å¸¸</span><br><span class="hljs-comment"># mock_obj = mock_foo()</span><br><span class="hljs-comment"># print(mock_obj)</span><br><br><span class="hljs-comment"># 1</span><br><span class="hljs-comment"># 2</span><br><span class="hljs-comment"># 3</span><br></code></pre></td></tr></table></figure><h1 id="3-æ–­è¨€æ–¹æ³•"><a href="#3-æ–­è¨€æ–¹æ³•" class="headerlink" title="3 æ–­è¨€æ–¹æ³•"></a>3 æ–­è¨€æ–¹æ³•</h1><ul><li>æ–­è¨€æ–¹æ³•<ul><li><code>assert_called()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·æ£€æŸ¥æ¨¡æ‹Ÿå¯¹è±¡æ˜¯å¦è‡³å°‘è¢«è°ƒç”¨ä¸€æ¬¡</li><li><code>assert_not_called()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·æ£€æŸ¥æ¨¡æ‹Ÿå¯¹è±¡æ˜¯å¦æ²¡æœ‰è¢«è°ƒç”¨</li><li><code>assert_called_once()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·æ£€æŸ¥æ¨¡æ‹Ÿå¯¹è±¡æ˜¯å¦ä»…è¢«è°ƒç”¨äº†ä¸€æ¬¡</li><li><code>assert_any_call(*args, **kwargs)</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·æ£€æŸ¥æ¨¡æ‹Ÿå¯¹è±¡åœ¨æµ‹è¯•ä¾‹ç¨‹ä¸­æ˜¯å¦è°ƒç”¨äº†æ–¹æ³•</li><li><code>assert_has_calls(calls, any_order)</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·æ£€æŸ¥æ˜¯å¦æŒ‰ç…§æ­£ç¡®é¡ºåºå’Œæ­£ç¡®å‚æ•°è°ƒç”¨æ–¹æ³•</li><li><code>assert_called_with(*args, **kwargs)</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·æ£€æŸ¥æ¨¡æ‹Ÿå¯¹è±¡æ˜¯å¦è·å¾—äº†æ­£ç¡®çš„å‚æ•°</li><li><code>assert_called_once_with(*args, **kwargs)</code>Â·Â·Â·Â·Â·Â·æ£€æŸ¥æ¨¡æ‹Ÿå¯¹è±¡æ˜¯å¦ä»…è°ƒç”¨äº†ä¸€æ¬¡æ–¹æ³•</li></ul></li></ul><h2 id="3-1-assert-called"><a href="#3-1-assert-called" class="headerlink" title="3-1 assert_called"></a>3-1 assert_called</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> unittest.mock <span class="hljs-keyword">import</span> Mock<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">People</span>:<br>    _num = <span class="hljs-number">24</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">f1</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;f1()&#x27;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">f2</span>(<span class="hljs-params">self, value</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;value = &#x27;</span>, value)<br><br><br>mock_foo = Mock(spec=People)<br><span class="hljs-built_in">print</span>(mock_foo)<br><br><span class="hljs-comment"># è°ƒç”¨æ–¹æ³•ï¼Œæ£€æŸ¥æ¨¡æ‹Ÿå¯¹è±¡æ˜¯å¦è‡³å°‘è¢«è°ƒç”¨ä¸€æ¬¡</span><br>mock_foo.f1()<br>mock_foo.f1.assert_called()<br>mock_foo.f2()<br>mock_foo.f2(<span class="hljs-number">5</span>)<br>mock_foo.f2.assert_called()<br></code></pre></td></tr></table></figure><h2 id="3-2-assert-not-called"><a href="#3-2-assert-not-called" class="headerlink" title="3-2 assert_not_called"></a>3-2 assert_not_called</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> unittest.mock <span class="hljs-keyword">import</span> Mock<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">People</span>:<br>    _num = <span class="hljs-number">24</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">f1</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;f1()&#x27;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">f2</span>(<span class="hljs-params">self, value</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;value = &#x27;</span>, value)<br><br><br>mock_foo = Mock(spec=People)<br><span class="hljs-built_in">print</span>(mock_foo)<br><br><span class="hljs-comment"># è°ƒç”¨æ–¹æ³•ï¼Œæ£€æŸ¥æ¨¡æ‹Ÿå¯¹è±¡æ˜¯å¦æ²¡æœ‰è¢«è°ƒç”¨</span><br>mock_foo.f1()<br>mock_foo.f2.assert_not_called()<br></code></pre></td></tr></table></figure><h2 id="3-3-assert-called-once"><a href="#3-3-assert-called-once" class="headerlink" title="3-3 assert_called_once"></a>3-3 assert_called_once</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> unittest.mock <span class="hljs-keyword">import</span> Mock<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">People</span>:<br>    _num = <span class="hljs-number">24</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">f1</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;f1()&#x27;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">f2</span>(<span class="hljs-params">self, value</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;value = &#x27;</span>, value)<br><br><br>mock_foo = Mock(spec=People)<br><span class="hljs-built_in">print</span>(mock_foo)<br><br><span class="hljs-comment"># è°ƒç”¨æ–¹æ³•ï¼Œæ£€æŸ¥æ¨¡æ‹Ÿå¯¹è±¡æ˜¯å¦ä»…è¢«è°ƒç”¨äº†ä¸€æ¬¡</span><br>mock_foo.f1()<br>mock_foo.f1.assert_called_once()<br>mock_foo.f2(<span class="hljs-number">5</span>)<br>mock_foo.f2.assert_called_once()<br></code></pre></td></tr></table></figure><h2 id="3-4-assert-any-call"><a href="#3-4-assert-any-call" class="headerlink" title="3-4 assert_any_call"></a>3-4 assert_any_call</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> unittest.mock <span class="hljs-keyword">import</span> Mock<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">People</span>:<br>    _num = <span class="hljs-number">24</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">f1</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;f1()&#x27;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">f2</span>(<span class="hljs-params">self, value</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;value = &#x27;</span>, value)<br><br><br>mock_foo = Mock(spec=People)<br><span class="hljs-built_in">print</span>(mock_foo)<br><br><span class="hljs-comment"># è°ƒç”¨æ–¹æ³•ï¼Œæ£€æŸ¥æ¨¡æ‹Ÿå¯¹è±¡åœ¨æµ‹è¯•ä¾‹ç¨‹ä¸­æ˜¯å¦è°ƒç”¨äº†æ–¹æ³•</span><br>mock_foo.f1()<br>mock_foo.f1.assert_any_call()<br>mock_foo.f2(<span class="hljs-number">5</span>)<br>mock_foo.f2.assert_any_call(<span class="hljs-number">5</span>)<br></code></pre></td></tr></table></figure><h2 id="3-5-assert-has-calls"><a href="#3-5-assert-has-calls" class="headerlink" title="3-5 assert_has_calls"></a>3-5 assert_has_calls</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> unittest.mock <span class="hljs-keyword">import</span> Mock, call<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">People</span>:<br>    _num = <span class="hljs-number">24</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">f1</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;f1()&#x27;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">f2</span>(<span class="hljs-params">self, value</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;value = &#x27;</span>, value)<br><br><br>mock_foo = Mock(spec=People)<br><span class="hljs-built_in">print</span>(mock_foo)<br><br><span class="hljs-comment"># è°ƒç”¨æ–¹æ³•ï¼Œæ£€æŸ¥æ˜¯å¦æŒ‰ç…§æ­£ç¡®é¡ºåºå’Œæ­£ç¡®å‚æ•°è°ƒç”¨æ–¹æ³•</span><br>mock_foo.f1()<br>mock_foo.f2()<br>mock_foo.f2(<span class="hljs-number">5</span>)<br><span class="hljs-comment"># æŒ‰ç…§ä¸Šé¢çš„è°ƒç”¨é¡ºåºè¿›è¡Œæ–­è¨€ï¼Œæ–­è¨€æˆåŠŸ</span><br>foo_calls = [call.f1(), call.f2(), call.f2(<span class="hljs-number">5</span>)]<br>mock_foo.assert_has_calls(foo_calls)<br></code></pre></td></tr></table></figure><h2 id="3-6-assert-called-with"><a href="#3-6-assert-called-with" class="headerlink" title="3-6 assert_called_with"></a>3-6 assert_called_with</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> unittest.mock <span class="hljs-keyword">import</span> Mock<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">People</span>:<br>    _num = <span class="hljs-number">24</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">f1</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;f1()&#x27;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">f2</span>(<span class="hljs-params">self, value</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;value = &#x27;</span>, value)<br><br><br>mock_foo = Mock(spec=People)<br><span class="hljs-built_in">print</span>(mock_foo)<br><br><span class="hljs-comment"># è°ƒç”¨æ–¹æ³•ï¼Œæ£€æŸ¥æ¨¡æ‹Ÿå¯¹è±¡æ˜¯å¦è·å¾—äº†æ­£ç¡®çš„å‚æ•°</span><br><span class="hljs-comment">#       å½“è‡³å°‘æœ‰ä¸€ä¸ªå‚æ•°å¸¦é”™è¯¯å€¼æˆ–ç±»å‹æ—¶</span><br><span class="hljs-comment">#       å½“å‚æ•°çš„ä¸ªæ•°å‡ºé”™æ—¶</span><br><span class="hljs-comment">#       å½“å‚æ•°çš„é¡ºåºä¸æ­£ç¡®æ—¶</span><br><span class="hljs-comment"># assert_called_withæ–­è¨€å°±ä¼šå‘ç”Ÿé”™è¯¯</span><br><span class="hljs-comment"># æ–¹æ³•f1()ä¸éœ€è¦å‚æ•°</span><br>mock_foo.f1()<br>mock_foo.f1.assert_called_with()<br><span class="hljs-comment"># æ–¹æ³•f2()éœ€è¦ä¸€ä¸ªå‚æ•°ï¼Œä¸ä¼ å‚ä¼šæ–­è¨€å¤±è´¥ï¼ŒæŠ¥é”™æ˜¾ç¤º</span><br><span class="hljs-comment"># mock_foo.f2()</span><br><span class="hljs-comment"># mock_foo.f2.assert_called_with(5)</span><br></code></pre></td></tr></table></figure><h2 id="3-7-assert-called-once-with"><a href="#3-7-assert-called-once-with" class="headerlink" title="3-7 assert_called_once_with"></a>3-7 assert_called_once_with</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> unittest.mock <span class="hljs-keyword">import</span> Mock<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">People</span>:<br>    _num = <span class="hljs-number">24</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">f1</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;f1()&#x27;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">f2</span>(<span class="hljs-params">self, value</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;value = &#x27;</span>, value)<br><br><br>mock_foo = Mock(spec=People)<br><span class="hljs-built_in">print</span>(mock_foo)<br><br><span class="hljs-comment"># è°ƒç”¨æ–¹æ³•ï¼Œæ£€æŸ¥æ¨¡æ‹Ÿå¯¹è±¡æ˜¯å¦ä»…è°ƒç”¨äº†ä¸€æ¬¡æ–¹æ³•</span><br><span class="hljs-comment"># å½“æŸä¸ªæ–¹æ³•è¢«å¤šæ¬¡è°ƒç”¨æ—¶ï¼Œassert_called_once_withæ–­è¨€å°±ä¼šæŠ¥é”™</span><br>mock_foo.f2(<span class="hljs-number">10</span>)<br>mock_foo.f2.assert_called_once_with(<span class="hljs-number">10</span>)<br><span class="hljs-comment"># æ–¹æ³•f2()è¢«è°ƒç”¨ç¬¬2æ¬¡ï¼Œæ–­è¨€å¤±è´¥ï¼ŒæŠ¥é”™æ˜¾ç¤º</span><br><span class="hljs-comment"># mock_foo.f2(11)</span><br><span class="hljs-comment"># mock_foo.f2.assert_called_once_with(11)</span><br></code></pre></td></tr></table></figure><h1 id="4-ç®¡ç†æ–¹æ³•"><a href="#4-ç®¡ç†æ–¹æ³•" class="headerlink" title="4 ç®¡ç†æ–¹æ³•"></a>4 ç®¡ç†æ–¹æ³•</h1><ul><li>ç®¡ç†æ–¹æ³•<ul><li><code>reset_mock()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·é‡ç½®mockå¯¹è±¡çš„çŠ¶æ€ï¼ŒåŒ…æ‹¬è°ƒç”¨æƒ…å†µå’Œå±æ€§è®¾ç½®</li><li><code>attach_mock(mock, attribute)</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·å°†å¦ä¸€ä¸ªmockå¯¹è±¡ä½œä¸ºå±æ€§é™„åŠ åˆ°å½“å‰mockå¯¹è±¡ä¸Š</li><li><code>mock_add_spec(spec, spec_set=False)</code>Â·Â·Â·å°†å¦ä¸€ä¸ªå¯¹è±¡çš„å±æ€§ä½œä¸ºè§„èŒƒæ·»åŠ åˆ°å½“å‰mockå¯¹è±¡ä¸Š</li><li><code>configure_mock(**kwargs)</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·é…ç½®mockå¯¹è±¡çš„å±æ€§ï¼Œé€šè¿‡å…³é”®å­—å‚æ•°æŒ‡å®šå±æ€§åŠå…¶å€¼</li></ul></li></ul><h2 id="4-1-reset-mock"><a href="#4-1-reset-mock" class="headerlink" title="4-1 reset_mock"></a>4-1 reset_mock</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> unittest.mock <span class="hljs-keyword">import</span> Mock<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">People</span>:<br>    _num = <span class="hljs-number">24</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">f1</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;f1()&#x27;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">f2</span>(<span class="hljs-params">self, value</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;value = &#x27;</span>, value)<br><br><br>mock_foo = Mock(spec=People)<br>mock_foo.f1()<br>mock_foo.f2(<span class="hljs-number">3</span>)<br><br><span class="hljs-comment"># é‡ç½®mockå¯¹è±¡çš„çŠ¶æ€ï¼Œæ–­è¨€mockå¯¹è±¡ä»æœªè¢«è°ƒç”¨è¿‡</span><br>mock_foo.reset_mock()<br>mock_foo.f1.assert_not_called()<br>mock_foo.f2.assert_not_called()<br></code></pre></td></tr></table></figure><h2 id="4-2-attach-mock"><a href="#4-2-attach-mock" class="headerlink" title="4-2 attach_mock"></a>4-2 attach_mock</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> unittest.mock <span class="hljs-keyword">import</span> Mock<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">People1</span>:<br>    _num = <span class="hljs-number">24</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">f1</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;f1()&#x27;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">f2</span>(<span class="hljs-params">self, value</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;value = &#x27;</span>, value)<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">People2</span>:<br>    _num = <span class="hljs-number">25</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">f3</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;f3()&#x27;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">f4</span>(<span class="hljs-params">self, value</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;value = &#x27;</span>, value)<br><br><br>mock_foo1 = Mock(spec=People1)<br>mock_foo2 = Mock(spec=People2)<br><span class="hljs-built_in">print</span>(mock_foo1)<br><span class="hljs-built_in">print</span>(mock_foo2)<br><br><span class="hljs-comment"># å°†mock_foo2å¯¹è±¡ä½œä¸ºå±æ€§é™„åŠ åˆ°å½“å‰çš„mock_foo1å¯¹è±¡ä¸Š</span><br>mock_foo1.attach_mock(mock_foo2, <span class="hljs-string">&#x27;attach_mock&#x27;</span>)<br><span class="hljs-built_in">print</span>(mock_foo1)<br><span class="hljs-built_in">print</span>(mock_foo1._num)<br><span class="hljs-built_in">print</span>(mock_foo1.f1())<br><span class="hljs-built_in">print</span>(mock_foo1.f2(<span class="hljs-number">3</span>))<br><span class="hljs-built_in">print</span>(mock_foo1.attach_mock)<br><span class="hljs-built_in">print</span>(mock_foo1.attach_mock._num)<br><span class="hljs-built_in">print</span>(mock_foo1.attach_mock.f3())<br><span class="hljs-built_in">print</span>(mock_foo1.attach_mock.f4(<span class="hljs-number">5</span>))<br></code></pre></td></tr></table></figure><h2 id="4-3-mock-add-spec"><a href="#4-3-mock-add-spec" class="headerlink" title="4-3 mock_add_spec"></a>4-3 mock_add_spec</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> unittest.mock <span class="hljs-keyword">import</span> Mock<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">People</span>:<br>    _num = <span class="hljs-number">24</span><br><br>    <span class="hljs-comment"># ç±»æ–¹æ³•ï¼Œselfå‚æ•°ä»£è¡¨å½“å‰ç±»çš„å®ä¾‹ï¼Œé€šè¿‡selfæ¥è®¿é—®å®ä¾‹çš„å±æ€§å’Œæ–¹æ³•</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">f1</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;f1()&#x27;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">f2</span>(<span class="hljs-params">self, value</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;value = &#x27;</span>, value)<br><br><br><span class="hljs-comment"># æ™®é€šå‡½æ•°ï¼Œä¸å±äºä»»ä½•ç±»ï¼Œä¹Ÿä¸éœ€è¦ä¼ å…¥selfå‚æ•°ï¼Œå¯ä»¥ç›´æ¥è¢«è°ƒç”¨</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">f3</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;f3()&#x27;</span>)<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Add</span>:<br>    _num = <span class="hljs-number">25</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">f4</span>(<span class="hljs-params">self, value</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;value = &#x27;</span>, value)<br><br><br>mock_foo = Mock(spec=People)<br><span class="hljs-built_in">print</span>(mock_foo)<br><span class="hljs-built_in">print</span>(mock_foo._num)<br><span class="hljs-built_in">print</span>(mock_foo.f1())<br><span class="hljs-built_in">print</span>(mock_foo.f2(<span class="hljs-number">3</span>))<br><br><span class="hljs-comment"># å°†f3()å¯¹è±¡çš„å±æ€§ä½œä¸ºè§„èŒƒæ·»åŠ åˆ°å½“å‰mock_fooå¯¹è±¡ä¸Šï¼Œmock_fooå¯¹è±¡åŸæ¥çš„å±æ€§ä¼šè¢«æ“¦é™¤</span><br><span class="hljs-comment"># spec_setå‚æ•°æŒ‡å±æ€§å¯è¯»å¯å†™ï¼Œé»˜è®¤åªè¯»ï¼Œå¦‚æœæƒ³è®©å…¶æ‹¥æœ‰å†™çš„æƒé™ï¼Œå¯ä»¥è®¾ç½®ä¸ºTrue</span><br>mock_foo.mock_add_spec(f3)<br><span class="hljs-built_in">print</span>(mock_foo)<br><br>mock_foo.mock_add_spec(Add)<br><span class="hljs-built_in">print</span>(mock_foo._num)<br><span class="hljs-built_in">print</span>(mock_foo.f4())<br></code></pre></td></tr></table></figure><h2 id="4-4-configure-mock"><a href="#4-4-configure-mock" class="headerlink" title="4-4 configure_mock"></a>4-4 configure_mock</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> unittest.mock <span class="hljs-keyword">import</span> Mock<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">People</span>:<br>    _num = <span class="hljs-number">24</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">f1</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;f1()&#x27;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">f2</span>(<span class="hljs-params">self, value</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;value = &#x27;</span>, value)<br><br><br>mock_foo = Mock(spec=People, return_value=<span class="hljs-number">123</span>)<br><span class="hljs-built_in">print</span>(mock_foo())<br><span class="hljs-built_in">print</span>(mock_foo._num)<br><span class="hljs-built_in">print</span>(mock_foo.f1())<br><span class="hljs-built_in">print</span>(mock_foo.f2(<span class="hljs-number">3</span>))<br><br><span class="hljs-comment"># ä¿®æ”¹return_valueçš„å€¼</span><br>mock_foo.configure_mock(return_value=<span class="hljs-number">456</span>)<br><span class="hljs-built_in">print</span>(mock_foo())<br><br>soo_spec = &#123;<span class="hljs-string">&#x27;f1.return_value&#x27;</span>: <span class="hljs-number">100</span>, <span class="hljs-string">&#x27;f2.return_value&#x27;</span>: <span class="hljs-number">200</span>, <span class="hljs-string">&#x27;f2.side_effect&#x27;</span>: [<span class="hljs-number">300</span>, <span class="hljs-number">500</span>]&#125;<br>mock_foo.configure_mock(**soo_spec)<br><span class="hljs-built_in">print</span>(mock_foo.f1())<br><span class="hljs-built_in">print</span>(mock_foo.f2())<br></code></pre></td></tr></table></figure><h1 id="5-ç»Ÿè®¡æ–¹æ³•"><a href="#5-ç»Ÿè®¡æ–¹æ³•" class="headerlink" title="5 ç»Ÿè®¡æ–¹æ³•"></a>5 ç»Ÿè®¡æ–¹æ³•</h1><ul><li>ç»Ÿè®¡æ–¹æ³•<ul><li><code>called: Boolean</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·mockå¯¹è±¡æ˜¯å¦æ›¾è¢«è°ƒç”¨</li><li><code>call_count: integer</code>Â·Â·Â·Â·Â·Â·Â·Â·mockå¯¹è±¡è¢«è°ƒç”¨çš„æ¬¡æ•°</li><li><code>call_args: tuple</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·mockå¯¹è±¡æœ€è¿‘ä¸€æ¬¡è°ƒç”¨æ—¶çš„å‚æ•°</li><li><code>call_args_list: list</code>Â·Â·Â·Â·Â·Â·Â·mockå¯¹è±¡æ‰€æœ‰è°ƒç”¨æ—¶çš„å‚æ•°åˆ—è¡¨</li><li><code>mock_calls: list</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·mockå¯¹è±¡çš„æ‰€æœ‰è°ƒç”¨æƒ…å†µ</li><li><code>method_calls: list</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·mockå¯¹è±¡çš„æ‰€æœ‰æ–¹æ³•è°ƒç”¨æƒ…å†µ</li></ul></li></ul><h2 id="5-1-called"><a href="#5-1-called" class="headerlink" title="5-1 called"></a>5-1 called</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> unittest.mock <span class="hljs-keyword">import</span> Mock<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">People</span>:<br>    _num = <span class="hljs-number">24</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">f1</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;f1()&#x27;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">f2</span>(<span class="hljs-params">self, value</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;value = &#x27;</span>, value)<br><br><br>mock_foo = Mock(spec=People)<br><span class="hljs-comment"># mockå¯¹è±¡æ˜¯å¦æ›¾è¢«è°ƒç”¨</span><br><span class="hljs-built_in">print</span>(mock_foo.called)<br><span class="hljs-comment"># è°ƒç”¨åï¼Œå†æ¬¡éªŒè¯</span><br>mock_foo()<br><span class="hljs-built_in">print</span>(mock_foo.called)<br></code></pre></td></tr></table></figure><h2 id="5-2-call-count"><a href="#5-2-call-count" class="headerlink" title="5-2 call_count"></a>5-2 call_count</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> unittest.mock <span class="hljs-keyword">import</span> Mock<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">People</span>:<br>    _num = <span class="hljs-number">24</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">f1</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;f1()&#x27;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">f2</span>(<span class="hljs-params">self, value</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;value = &#x27;</span>, value)<br><br><br>mock_foo = Mock(spec=People)<br>mock_foo()<br>mock_foo()<br>mock_foo()<br><span class="hljs-comment"># mockå¯¹è±¡è¢«è°ƒç”¨çš„æ¬¡æ•°</span><br><span class="hljs-built_in">print</span>(mock_foo.call_count)<br></code></pre></td></tr></table></figure><h2 id="5-3-call-args"><a href="#5-3-call-args" class="headerlink" title="5-3 call_args"></a>5-3 call_args</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> unittest.mock <span class="hljs-keyword">import</span> Mock<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">People</span>:<br>    _num = <span class="hljs-number">24</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">f1</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;f1()&#x27;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">f2</span>(<span class="hljs-params">self, value</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;value = &#x27;</span>, value)<br><br><br>mock_foo = Mock(spec=People)<br>mock_foo()<br><span class="hljs-comment"># mockå¯¹è±¡æœ€è¿‘ä¸€æ¬¡è°ƒç”¨æ—¶çš„å‚æ•°</span><br><span class="hljs-built_in">print</span>(mock_foo.call_args)<br></code></pre></td></tr></table></figure><h2 id="5-4-call-args-list"><a href="#5-4-call-args-list" class="headerlink" title="5-4 call_args_list"></a>5-4 call_args_list</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> unittest.mock <span class="hljs-keyword">import</span> Mock<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">People</span>:<br>    _num = <span class="hljs-number">24</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">f1</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;f1()&#x27;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">f2</span>(<span class="hljs-params">self, value</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;value = &#x27;</span>, value)<br><br><br>mock_foo = Mock(spec=People)<br>mock_foo()<br>mock_foo()._num()<br>mock_foo().f1()<br>mock_foo().f2(<span class="hljs-number">3</span>)<br><span class="hljs-comment"># mockå¯¹è±¡æ‰€æœ‰è°ƒç”¨æ—¶çš„å‚æ•°åˆ—è¡¨</span><br><span class="hljs-built_in">print</span>(mock_foo.call_args_list)<br></code></pre></td></tr></table></figure><h2 id="5-5-mock-calls"><a href="#5-5-mock-calls" class="headerlink" title="5-5 mock_calls"></a>5-5 mock_calls</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> unittest.mock <span class="hljs-keyword">import</span> Mock<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">People</span>:<br>    _num = <span class="hljs-number">24</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">f1</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;f1()&#x27;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">f2</span>(<span class="hljs-params">self, value</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;value = &#x27;</span>, value)<br><br><br>mock_foo = Mock(spec=People)<br>mock_foo()<br>mock_foo._num()<br>mock_foo.f1()<br>mock_foo.f2(<span class="hljs-number">3</span>)<br><span class="hljs-comment"># mockå¯¹è±¡çš„æ‰€æœ‰è°ƒç”¨æƒ…å†µ</span><br><span class="hljs-built_in">print</span>(mock_foo.mock_calls)<br></code></pre></td></tr></table></figure><h2 id="5-6-method-calls"><a href="#5-6-method-calls" class="headerlink" title="5-6 method_calls"></a>5-6 method_calls</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> unittest.mock <span class="hljs-keyword">import</span> Mock<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">People</span>:<br>    _num = <span class="hljs-number">24</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">f1</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;f1()&#x27;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">f2</span>(<span class="hljs-params">self, value</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;value = &#x27;</span>, value)<br><br><br>mock_foo = Mock(spec=People)<br>mock_foo()<br>mock_foo._num()<br>mock_foo.f1()<br>mock_foo.f2(<span class="hljs-number">3</span>)<br><span class="hljs-comment"># mockå¯¹è±¡çš„æ‰€æœ‰æ–¹æ³•è°ƒç”¨æƒ…å†µ</span><br><span class="hljs-built_in">print</span>(mock_foo.method_calls)<br></code></pre></td></tr></table></figure><h1 id="6-mockç¤ºä¾‹"><a href="#6-mockç¤ºä¾‹" class="headerlink" title="6 mockç¤ºä¾‹"></a>6 mockç¤ºä¾‹</h1><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Yaml"><span class="hljs-string">/mockStudent:</span>                       <span class="hljs-comment"># é¡¹ç›®æ ¹ç›®å½•</span><br>    <span class="hljs-attr">logs:</span>                           <span class="hljs-comment"># å­˜å‚¨é¡¹ç›®æ—¥å¿—ï¼Œéœ€è¦äº‹å…ˆæ‰‹åŠ¨åˆ›å»ºè¯¥æ–‡ä»¶å¤¹</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">test_log.log</span>              <span class="hljs-comment"># æµ‹è¯•è¾“å‡ºæ—¥å¿—</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">student_log.log</span><br>    <span class="hljs-attr">common:</span>                         <span class="hljs-comment"># å­˜å‚¨å…¬ç”¨æ–¹æ³•</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">__init__.py</span>               <span class="hljs-comment"># å®ç°å•ä¾‹æ¨¡å¼</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">log_output.py</span>             <span class="hljs-comment"># æ—¥å¿—åŠŸèƒ½å°è£…</span><br>    <span class="hljs-attr">reports:</span>                        <span class="hljs-comment"># å­˜å‚¨é¡¹ç›®æŠ¥å‘Šï¼Œéœ€è¦äº‹å…ˆæ‰‹åŠ¨åˆ›å»ºè¯¥æ–‡ä»¶å¤¹</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">BeautifulReport.html</span><br>    <span class="hljs-attr">test_cases:</span>                     <span class="hljs-comment"># å­˜å‚¨æµ‹è¯•ç”¨ä¾‹</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">test_student.py</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">main.py</span>                       <span class="hljs-comment"># ä½œä¸ºå…¥å£å‡½æ•°</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">student.py</span>                    <span class="hljs-comment"># å­¦ç”Ÿç±»æ¨¡å—</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">settings.py</span>                   <span class="hljs-comment"># é…ç½®æ–‡ä»¶ä¿¡æ¯</span><br></code></pre></td></tr></table></figure><h2 id="6-1-main-py"><a href="#6-1-main-py" class="headerlink" title="6-1 main.py"></a>6-1 main.py</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># main.pyï¼Œé¡¹ç›®å…¥å£</span><br><span class="hljs-keyword">import</span> unittest<br><span class="hljs-keyword">import</span> settings<br><span class="hljs-keyword">from</span> BeautifulReport <span class="hljs-keyword">import</span> BeautifulReport<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    <span class="hljs-comment"># æ”¶é›†æ‰€æœ‰çš„ç”¨ä¾‹ï¼Œå¹¶è¿”å›æµ‹è¯•å¥—ä»¶</span><br>    suite = unittest.TestLoader().discover(<span class="hljs-string">&#x27;test_cases&#x27;</span>)<br><br>    <span class="hljs-comment"># æ‰§è¡Œæ‰€æœ‰çš„ç”¨ä¾‹ï¼Œå¹¶ç”ŸæˆæŠ¥å‘Š</span><br>    BeautifulReport(suite).report(**settings.REPORT_CONFIG)<br></code></pre></td></tr></table></figure><h2 id="6-2-student-py"><a href="#6-2-student-py" class="headerlink" title="6-2 student.py"></a>6-2 student.py</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># student.pyï¼Œå®šä¹‰ä¸€ä¸ªStudentç±»</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        self.__age = <span class="hljs-number">20</span><br><br>    <span class="hljs-comment"># å®šä¹‰ä¸¤ä¸ªæˆå‘˜æ–¹æ³•ï¼Œä¸€ä¸ªå¸¦å‚ï¼Œä¸€ä¸ªæ— å‚</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_name</span>(<span class="hljs-params">self, first_name, last_name</span>):<br>        <span class="hljs-keyword">return</span> first_name + <span class="hljs-string">&#x27; &#x27;</span> + last_name<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_age</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">return</span> self.__age<br><br>    <span class="hljs-comment"># å®šä¹‰ä¸€ä¸ªé™æ€æ–¹æ³•</span><br><span class="hljs-meta">    @staticmethod</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_class_name</span>():<br>        <span class="hljs-keyword">return</span> Student.__name__<br></code></pre></td></tr></table></figure><h2 id="6-3-settings-py"><a href="#6-3-settings-py" class="headerlink" title="6-3 settings.py"></a>6-3 settings.py</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># settings.pyï¼Œæ—¥å¿—é…ç½®</span><br>LOG_CONFIG = &#123;<br>    <span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;student_log&#x27;</span>,<br>    <span class="hljs-string">&#x27;filename&#x27;</span>: <span class="hljs-string">&#x27;logs/student_log.log&#x27;</span>,<br>    <span class="hljs-string">&#x27;debug&#x27;</span>: <span class="hljs-literal">True</span><br>&#125;<br><br><span class="hljs-comment"># æµ‹è¯•æŠ¥å‘Š</span><br>REPORT_CONFIG = &#123;<br>    <span class="hljs-string">&#x27;filename&#x27;</span>: <span class="hljs-string">&#x27;reports/BeautifulReport.html&#x27;</span>,<br>    <span class="hljs-string">&#x27;description&#x27;</span>: <span class="hljs-string">&#x27;UnitTestç»“åˆMockæµ‹è¯•&#x27;</span><br>&#125;<br></code></pre></td></tr></table></figure><h2 id="6-4-init-py"><a href="#6-4-init-py" class="headerlink" title="6-4 __init__.py"></a>6-4 __init__.py</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># __init__.py</span><br><span class="hljs-keyword">import</span> settings<br><span class="hljs-keyword">from</span> .log_output <span class="hljs-keyword">import</span> get_logger<br><br><span class="hljs-comment"># å•ä¾‹æ¨¡å¼ï¼Œå°†settings.LOG_CONFIGçš„å€¼è§£åŒ…ä¼ å…¥</span><br>logger = get_logger(**settings.LOG_CONFIG)<br></code></pre></td></tr></table></figure><h2 id="6-5-log-output-py"><a href="#6-5-log-output-py" class="headerlink" title="6-5 log_output.py"></a>6-5 log_output.py</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># log_output.py</span><br><span class="hljs-keyword">import</span> logging<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_logger</span>(<span class="hljs-params">name, filename, mode=<span class="hljs-string">&#x27;a&#x27;</span>, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>, fmt=<span class="hljs-literal">None</span>, debug=<span class="hljs-literal">False</span></span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    :param name: æ—¥å¿—è®°å½•å™¨çš„åç§°</span><br><span class="hljs-string">    :param filename: æ—¥å¿—æ–‡ä»¶å</span><br><span class="hljs-string">    :param mode: æ–‡ä»¶æ¨¡å¼</span><br><span class="hljs-string">    :param encoding: å­—ç¬¦ç¼–ç </span><br><span class="hljs-string">    :param fmt: æ—¥å¿—æ ¼å¼</span><br><span class="hljs-string">    :param debug: è°ƒè¯•æ¨¡å¼</span><br><span class="hljs-string">    :return:</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªæ—¥å¿—è®°å½•å™¨å¹¶è®¾ç½®æ—¥å¿—ç­‰çº§</span><br>    logger = logging.getLogger(name)<br>    logger.setLevel(logging.DEBUG)<br><br>    <span class="hljs-comment"># ç¡®å®šæ—¥å¿—æ–‡ä»¶å’Œæ§åˆ¶å°è¾“å‡ºçš„æ—¥å¿—çº§åˆ«ï¼Œæ–‡ä»¶å¤„ç†å™¨çš„ç­‰çº§ä¸€èˆ¬æƒ…å†µä¸‹æ¯”æ§åˆ¶å°è¦é«˜</span><br>    <span class="hljs-keyword">if</span> debug:<br>        file_level = logging.DEBUG<br>        console_level = logging.DEBUG<br>    <span class="hljs-keyword">else</span>:<br>        file_level = logging.WARNING<br>        console_level = logging.INFO<br><br>    <span class="hljs-comment"># å®šä¹‰æ—¥å¿—çš„è¾“å‡ºæ ¼å¼</span><br>    <span class="hljs-keyword">if</span> fmt <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br>        fmt = <span class="hljs-string">&#x27;%(asctime)s [%(name)s] [%(filename)s (%(funcName)s:%(lineno)d)] &#x27;</span> \<br>              <span class="hljs-string">&#x27;%(levelname)s - %(message)s&#x27;</span><br><br>    <span class="hljs-comment"># åˆ›å»ºæ—¥å¿—å¤„ç†å™¨ï¼Œå†™å…¥æ–‡ä»¶ä¸­å¹¶è®¾ç½®æ—¥å¿—ç­‰çº§</span><br>    file_handler = logging.FileHandler(filename=filename, mode=mode, encoding=encoding)<br>    file_handler.setLevel(file_level)<br><br>    <span class="hljs-comment"># å†™å…¥æ§åˆ¶å°çš„æ—¥å¿—å¤„ç†å™¨</span><br>    console_handler = logging.StreamHandler()<br>    console_handler.setLevel(console_level)<br><br>    <span class="hljs-comment"># åˆ›å»ºæ ¼å¼åŒ–å™¨å¹¶æ·»åŠ åˆ°æ—¥å¿—å¤„ç†å™¨</span><br>    formatter = logging.Formatter(fmt=fmt)<br>    file_handler.setFormatter(formatter)<br>    console_handler.setFormatter(formatter)<br><br>    <span class="hljs-comment"># å°†æ—¥å¿—å¤„ç†å™¨æ·»åŠ åˆ°æ—¥å¿—å™¨ä¸Š</span><br>    logger.addHandler(file_handler)<br>    logger.addHandler(console_handler)<br><br>    <span class="hljs-comment"># è¿”å›æ—¥å¿—</span><br>    <span class="hljs-keyword">return</span> logger<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    <span class="hljs-comment"># logsæ–‡ä»¶å¤¹éœ€è¦æ‰‹åŠ¨åˆ›å»ºï¼Œå¦åˆ™æŠ¥é”™</span><br>    logger = get_logger(name=<span class="hljs-string">&#x27;test&#x27;</span>, filename=<span class="hljs-string">&#x27;../logs/test_log.log&#x27;</span>, debug=<span class="hljs-literal">True</span>)<br>    logger.debug(<span class="hljs-string">&#x27;è°ƒè¯•æ—¥å¿—&#x27;</span>)<br>    logger.info(<span class="hljs-string">&#x27;æ™®é€šæ—¥å¿—&#x27;</span>)<br>    logger.warning(<span class="hljs-string">&#x27;è­¦å‘Šæ—¥å¿—&#x27;</span>)<br>    logger.error(<span class="hljs-string">&#x27;é”™è¯¯æ—¥å¿—&#x27;</span>)<br>    logger.critical(<span class="hljs-string">&#x27;ä¸¥é‡é”™è¯¯&#x27;</span>)<br></code></pre></td></tr></table></figure><h2 id="6-6-test-student-py"><a href="#6-6-test-student-py" class="headerlink" title="6-6 test_student.py"></a>6-6 test_student.py</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># test_student.py</span><br><span class="hljs-keyword">import</span> unittest<br><span class="hljs-keyword">from</span> common <span class="hljs-keyword">import</span> logger<br><span class="hljs-keyword">from</span> student <span class="hljs-keyword">import</span> Student<br><span class="hljs-keyword">from</span> unittest.mock <span class="hljs-keyword">import</span> Mock, create_autospec<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">StudentTest</span>(unittest.TestCase):<br>    <span class="hljs-comment"># å°†æ—¥å¿—ç›¸å…³å†…å®¹å®šä¹‰ä¸ºç±»å±æ€§</span><br>    logger = logger<br>    counter = <span class="hljs-number">0</span><br><br><span class="hljs-meta">    @classmethod</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">setUpClass</span>(<span class="hljs-params">cls</span>):<br>        cls.logger.info(<span class="hljs-string">&#x27;Mockæµ‹è¯•å¼€å§‹&#x27;</span>)<br><br><span class="hljs-meta">    @classmethod</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">tearDownClass</span>(<span class="hljs-params">cls</span>):<br>        cls.logger.info(<span class="hljs-string">&#x27;Mockæµ‹è¯•ç»“æŸ&#x27;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">setUp</span>(<span class="hljs-params">self</span>):<br>        StudentTest.counter += <span class="hljs-number">1</span><br>        <span class="hljs-comment"># print(f&quot;å¼€å§‹æ‰§è¡Œç¬¬&#123;StudentTest.counter&#125;ä¸ªç”¨ä¾‹&quot;)</span><br>        self.logger.info(<span class="hljs-string">f&quot;ç”¨ä¾‹-<span class="hljs-subst">&#123;StudentTest.counter&#125;</span>å¼€å§‹æµ‹è¯•&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">tearDown</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-comment"># print(f&quot;ç»“æŸæ‰§è¡Œç¬¬&#123;StudentTest.counter&#125;ä¸ªç”¨ä¾‹&quot;)</span><br>        self.logger.info(<span class="hljs-string">f&quot;ç”¨ä¾‹-<span class="hljs-subst">&#123;StudentTest.counter&#125;</span>ç»“æŸæµ‹è¯•&quot;</span>)<br><br>    <span class="hljs-comment"># ä½¿ç”¨Mockç±»çš„return_valueæŒ‡å®šè¿”å›å€¼</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_get_name_1</span>(<span class="hljs-params">self</span>):<br>        s = Student()<br><br>        <span class="hljs-comment"># æ­£å¸¸è°ƒç”¨get_name()</span><br>        <span class="hljs-built_in">print</span>(s.get_name(<span class="hljs-string">&#x27;åˆ˜&#x27;</span>, <span class="hljs-string">&#x27;ä¸€&#x27;</span>))<br><br>        <span class="hljs-comment"># mockæ‰get_name()ï¼Œä½¿ç”¨return_valueæŒ‡å®šè¿”å›å€¼ï¼Œè®©å…¶è¿”å›é™ˆäºŒ</span><br>        s.get_name = Mock(return_value=<span class="hljs-string">&#x27;é™ˆäºŒ&#x27;</span>)<br><br>        <span class="hljs-comment"># è°ƒç”¨s.get_name()æ—¶æ²¡æœ‰ç»™å®šä»»ä½•å‚æ•°ï¼Œä½†ä¾ç„¶å¯ä»¥å·¥ä½œï¼Œå¹¶ä¸”ä»»æ„æŒ‡å®šå‚æ•°å¯¹ç»“æœæ²¡å½±å“</span><br>        <span class="hljs-comment"># è¯´æ˜ä»¥ä¸‹æ–¹å¼æ— æ³•æ ¡éªŒå‚æ•°ï¼Œè‹¥æƒ³æ ¡éªŒå‚æ•°ï¼Œéœ€è¦ä½¿ç”¨create_autospecæ¨¡å—æ–¹æ³•æ›¿ä»£Mockç±»</span><br>        self.assertEqual(s.get_name(), <span class="hljs-string">&#x27;é™ˆäºŒ&#x27;</span>)<br>        self.assertEqual(s.get_name(<span class="hljs-string">&#x27;1&#x27;</span>), <span class="hljs-string">&#x27;é™ˆäºŒ&#x27;</span>)<br>        self.assertEqual(s.get_name(<span class="hljs-string">&#x27;1&#x27;</span>, <span class="hljs-string">&#x27;2&#x27;</span>), <span class="hljs-string">&#x27;é™ˆäºŒ&#x27;</span>)<br>        self.assertEqual(s.get_name(<span class="hljs-string">&#x27;1&#x27;</span>, <span class="hljs-string">&#x27;2&#x27;</span>, <span class="hljs-string">&#x27;3&#x27;</span>), <span class="hljs-string">&#x27;é™ˆäºŒ&#x27;</span>)<br><br>    <span class="hljs-comment"># ä½¿ç”¨create_autospecæ¨¡å—æ–¹æ³•æ›¿ä»£Mockç±»</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_get_name_2</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªè‡ªåŠ¨æ¨¡æ‹ŸStudentç±»çš„å®ä¾‹</span><br>        s = create_autospec(Student)<br><br>        <span class="hljs-comment"># æ–­è¨€è°ƒç”¨get_name()æ–¹æ³•æ—¶çš„å‚æ•°ï¼Œæœªè°ƒç”¨æ—¶çš„å‚æ•°æ ¡éªŒ</span><br>        self.assertEqual(s.get_name.call_count, <span class="hljs-number">0</span>)<br>        <span class="hljs-built_in">print</span>(s.get_name(<span class="hljs-string">&#x27;é™ˆ&#x27;</span>, <span class="hljs-string">&#x27;äºŒ&#x27;</span>))<br>        <span class="hljs-comment"># è°ƒç”¨åçš„å‚æ•°æ ¡éªŒ</span><br>        self.assertEqual(s.get_name.call_count, <span class="hljs-number">1</span>)<br>        s.get_name.assert_called_with(<span class="hljs-string">&#x27;é™ˆ&#x27;</span>, <span class="hljs-string">&#x27;äºŒ&#x27;</span>)<br><br>    <span class="hljs-comment"># æ ¡éªŒå‚æ•°ä¸ªæ•°ï¼Œå†è¿”å›å›ºå®šå€¼</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_get_name_3</span>(<span class="hljs-params">self</span>):<br>        s = Student()<br><br>        <span class="hljs-comment"># ä»»æ„ç»™å®šä¸¤ä¸ªå‚æ•°ï¼Œä¾ç„¶ä¼šè¿”å›mockçš„å€¼ï¼Œä½†å‚æ•°ä¸ªæ•°å¿…é¡»å¯¹</span><br>        s.get_name = create_autospec(s.get_name, return_value=<span class="hljs-string">&#x27;å¼  ä¸‰&#x27;</span>)<br>        <span class="hljs-comment"># è‹¥å‚æ•°ä¸ªæ•°ä¸å¯¹ï¼Œå°†æŠ¥é”™TypeError: missing a required argument: &#x27;first_name&#x27;</span><br>        self.assertEqual(s.get_name(<span class="hljs-string">&#x27;1&#x27;</span>, <span class="hljs-string">&#x27;2&#x27;</span>), <span class="hljs-string">&#x27;å¼  ä¸‰&#x27;</span>)<br><br>    <span class="hljs-comment"># æ ¹æ®ä¸åŒçš„å‚æ•°ï¼Œè¿”å›ä¸åŒçš„å€¼</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_get_name_4</span>(<span class="hljs-params">self</span>):<br>        s = Student()<br><br>        values = &#123;(<span class="hljs-string">&#x27;æ&#x27;</span>, <span class="hljs-string">&#x27;å››&#x27;</span>): <span class="hljs-string">&#x27;æ å››&#x27;</span>, (<span class="hljs-string">&#x27;ç‹&#x27;</span>, <span class="hljs-string">&#x27;äº”&#x27;</span>): <span class="hljs-string">&#x27;ç‹ äº”&#x27;</span>&#125;<br>        s.get_name = Mock(side_effect=<span class="hljs-keyword">lambda</span> x, y: values[(x, y)])<br>        self.assertEqual(s.get_name(<span class="hljs-string">&#x27;æ&#x27;</span>, <span class="hljs-string">&#x27;å››&#x27;</span>), <span class="hljs-string">&#x27;æ å››&#x27;</span>)<br>        self.assertEqual(s.get_name(<span class="hljs-string">&#x27;ç‹&#x27;</span>, <span class="hljs-string">&#x27;äº”&#x27;</span>), <span class="hljs-string">&#x27;ç‹ äº”&#x27;</span>)<br><br>    <span class="hljs-comment"># ä½¿ç”¨Mockç±»çš„return_valueæŒ‡å®šè¿”å›å€¼</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_get_age_1</span>(<span class="hljs-params">self</span>):<br>        s = Student()<br><br>        <span class="hljs-comment"># ä¸ä½¿ç”¨mockï¼Œæ­£å¸¸è°ƒç”¨get_age()</span><br>        self.assertEqual(s.get_age(), <span class="hljs-number">20</span>)<br>        <span class="hljs-comment"># mockæ‰get_age()ï¼Œä½¿ç”¨return_valueæŒ‡å®šè¿”å›å€¼ï¼Œè®©å…¶è¿”å›21</span><br>        s.get_age = Mock(return_value=<span class="hljs-number">21</span>)<br>        self.assertEqual(s.get_age(), <span class="hljs-number">21</span>)<br><br>    <span class="hljs-comment"># ä½¿ç”¨side_effectï¼Œä¾æ¬¡è¿”å›æŒ‡å®šå€¼</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_get_age_2</span>(<span class="hljs-params">self</span>):<br>        s = Student()<br><br>        <span class="hljs-comment"># æŒ‡å®šä¸€ç»„è¿”å›å€¼ï¼Œside_effectä¼šè¦†ç›–return_valueçš„å€¼</span><br>        <span class="hljs-built_in">list</span> = [<span class="hljs-number">27</span>, <span class="hljs-number">28</span>, <span class="hljs-number">29</span>]<br>        s.get_age = Mock(return_value=<span class="hljs-number">20</span>, side_effect=<span class="hljs-built_in">list</span>)<br>        self.assertEqual(s.get_age(), <span class="hljs-number">27</span>)<br>        self.assertEqual(s.get_age(), <span class="hljs-number">28</span>)<br>        self.assertEqual(s.get_age(), <span class="hljs-number">29</span>)<br><br>    <span class="hljs-comment"># å¼‚å¸¸ç”¨ä¾‹ï¼Œç¡®ä¿ä»£ç åœ¨é¢å¯¹å¼‚å¸¸æƒ…å†µæ—¶èƒ½å¤Ÿæ­£ç¡®åœ°å¤„ç†å’ŒæŠ¥å‘Šå¼‚å¸¸ï¼Œæé«˜ä»£ç çš„å¥å£®æ€§å’Œå¯é æ€§</span><br>    <span class="hljs-comment"># def test_raise_exception(self):</span><br>    <span class="hljs-comment">#     s = Student()</span><br>    <span class="hljs-comment">#</span><br>    <span class="hljs-comment">#     s.get_age = Mock(side_effect=TypeError(&#x27;integer type&#x27;))</span><br>    <span class="hljs-comment">#     # åªè¦è°ƒç”¨get_age()æ–¹æ³•ï¼Œå°±ä¼šæŠ›å‡ºå¼‚å¸¸</span><br>    <span class="hljs-comment">#     self.assertRaises(TypeError, s.get_age())</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>æµ‹è¯•æ¡†æ¶</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Mock</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>FFmpeg å‘½ä»¤è¯¦è§£</title>
    <link href="/2024/01/11/ce-shi-gong-ju/tt07-ffmpeg-de-ying-yong/tt07-01-ffmpeg-ming-ling-xiang-jie/"/>
    <url>/2024/01/11/ce-shi-gong-ju/tt07-ffmpeg-de-ying-yong/tt07-01-ffmpeg-ming-ling-xiang-jie/</url>
    
    <content type="html"><![CDATA[<p>FFmpegæ˜¯ä¸€æ¬¾è·¨å¹³å°çš„å¼€æºéŸ³è§†é¢‘å¤„ç†å·¥å…·ï¼Œå¯åœ¨å‘½ä»¤è¡Œä¸­ä½¿ç”¨ï¼Œä¹Ÿå¯é€šè¿‡å¤šç§ç¼–ç¨‹è¯­è¨€è¿›è¡Œè°ƒç”¨ï¼Œå¦‚Pythonã€Javaç­‰ã€‚</p><span id="more"></span><h1 id="1-æµåè®®"><a href="#1-æµåè®®" class="headerlink" title="1 æµåè®®"></a>1 æµåè®®</h1><ul><li>æµåè®®<ul><li>ä¸€ç§æ ‡å‡†åŒ–çš„ä¼ é€’æ–¹æ³•ï¼Œç”¨äºåˆ†è§£è§†é¢‘ä¸ºå¤šä¸ªå—ï¼Œå°†å…¶å‘é€ç»™è§†é¢‘æ’­æ”¾å™¨ï¼Œæ’­æ”¾å™¨é‡æ–°ç»„åˆæ’­æ”¾ã€‚</li><li>ç¼–è§£ç å™¨æ˜¯æŒ‡è§†é¢‘å‹ç¼©æŠ€æœ¯ï¼Œå³ä½¿ä¸éœ€è¦ä½¿ç”¨æµåè®®ï¼Œè§†é¢‘ä¹Ÿéœ€è¦ä½¿ç”¨ç¼–è§£ç å™¨è¿›è¡Œç¼–ç å’Œè§£ç ã€‚</li><li>RTMP (Real-Time Messaging Protocol)<ul><li>æµåœ°å€æ ¼å¼ç¤ºä¾‹ï¼š<a href="rtmp://example.com/live/stream">rtmp:&#x2F;&#x2F;example.com&#x2F;live&#x2F;stream</a>ã€‚</li><li>RTMPæ˜¯ä¸€ç§ä¼ ç»Ÿçš„æµåª’ä½“åè®®ï¼Œé€šå¸¸ç”¨äºå®æ—¶ç›´æ’­ã€‚</li><li>ä½å»¶è¿Ÿï¼Œæ— éœ€ç¼“å†²ï¼Œå…¼å®¹æ€§è¾ƒå·®ï¼Œä¸é€‚åˆå¤§è§„æ¨¡è§‚ä¼—ã€‚</li></ul></li><li>WebSocket<ul><li>æµåœ°å€æ ¼å¼ç¤ºä¾‹<ul><li>éåŠ å¯†ï¼š<a href="ws://example.com/live/stream">ws:&#x2F;&#x2F;example.com&#x2F;live&#x2F;stream</a>ã€‚</li><li>åŠ å¯†çš„ï¼š<a href="wss://example.com/live/stream">wss:&#x2F;&#x2F;example.com&#x2F;live&#x2F;stream</a>ã€‚</li></ul></li><li>ä¸€ç§åŒå‘é€šä¿¡åè®®ï¼Œé€‚åˆäºå®æ—¶æ•°æ®ä¼ è¾“ã€‚</li></ul></li><li>HTTP-FLV<ul><li>æµåœ°å€æ ¼å¼ç¤ºä¾‹ï¼š<a href="http://example.com/live/stream.flv%E3%80%82">http://example.com/live/stream.flvã€‚</a></li><li>åŸºäºHTTPçš„æµåª’ä½“åè®®ï¼Œæ”¯æŒå®æ—¶æµåª’ä½“ä¼ è¾“ï¼Œé€‚åˆåœ¨çº¿ç›´æ’­ã€‚</li></ul></li><li>HLS (HTTP Live Streaming)<ul><li>æµåœ°å€æ ¼å¼ç¤ºä¾‹ï¼š<a href="https://example.com/video/stream.m3u8%E3%80%82">https://example.com/video/stream.m3u8ã€‚</a></li><li>é€‚åˆå¤šç§è®¾å¤‡å’Œæ“ä½œç³»ç»Ÿï¼Œä¾‹å¦‚ï¼šç§»åŠ¨è®¾å¤‡ã€æ¡Œé¢æµè§ˆå™¨ã€ä»¥åŠæ™ºèƒ½ç”µè§†ã€‚</li><li>å…¼å®¹æ€§å¼ºï¼Œå®‰å…¨æ€§é«˜ï¼Œæ”¯æŒè‡ªé€‚åº”æ¯”ç‰¹ç‡æµï¼Œå»¶è¿Ÿè¾ƒé«˜ï¼Œä¸é€‚åˆè§†é¢‘é‡‡é›†ã€‚</li><li>HLSæ˜¯è‹¹æœå…¬å¸æ¨å‡ºçš„æµåª’ä½“åè®®ï¼Œé€‚ç”¨äºiOSè®¾å¤‡å’Œå…¶ä»–å¹³å°ã€‚</li></ul></li><li>DASH (Dynamic Adaptive Streaming Over HTTP) &#x2F; MPEG-DASH<ul><li>æµåœ°å€æ ¼å¼ç¤ºä¾‹ï¼š<a href="https://example.com/video/stream.mpd%E3%80%82">https://example.com/video/stream.mpdã€‚</a></li><li>DASHæ˜¯ä¸€ç§å¼€æ”¾æ ‡å‡†çš„æµåª’ä½“åè®®ï¼Œé€æ¸å–ä»£äº†MPEG-DASHã€‚</li><li>æ”¯æŒè‡ªé€‚åº”æ¯”ç‰¹ç‡æµï¼Œé€‚åº”æ€§å¼ºï¼Œå¯å®šåˆ¶æ€§é«˜ï¼Œä¸å…¼å®¹è‹¹æœè®¾å¤‡ã€‚</li></ul></li><li>WebRTC (Web Real-Time Communications)<ul><li>ä¸€ç§ç°ä»£å®æ—¶é€šä¿¡åè®®ï¼Œç”¨äºæµè§ˆå™¨é—´çš„å®æ—¶éŸ³è§†é¢‘é€šä¿¡ï¼Œé€šå¸¸ä¸ä½¿ç”¨URLæ¥ä¼ è¾“æµã€‚</li><li>é€‚åˆå®æ—¶è§†é¢‘èŠå¤©å’Œä¼šè®®åº”ç”¨ï¼Œçµæ´»æ€§å¼ºï¼Œæ”¯æŒå®æ—¶ä½å»¶è¿Ÿæµï¼Œå¯èƒ½å­˜åœ¨å…¼å®¹æ€§é—®é¢˜ã€‚</li></ul></li><li>MSS (Microsoft Smooth Streaming)<ul><li>æµåœ°å€æ ¼å¼ç¤ºä¾‹ï¼š<a href="http://example.com/video/stream.ism/Manifest%E3%80%82">http://example.com/video/stream.ism/Manifestã€‚</a></li><li>å¾®è½¯æ¨å‡ºçš„ä¸€ç§æµåª’ä½“åè®®ï¼Œæ”¯æŒè‡ªé€‚åº”æ¯”ç‰¹ç‡æµï¼Œå·²é€æ¸å¤±å»ç”¨æˆ·ã€‚</li><li>è‹¥éXboxç”¨æˆ·æˆ–è®¡åˆ’åªå¼€å‘Windowså¹³å°çš„appï¼Œå¦åˆ™ä¸æ¨èä½¿ç”¨MSSã€‚</li></ul></li><li>HDS (HTTP Dynamic Streaming)<ul><li>æµåœ°å€æ ¼å¼ç¤ºä¾‹ï¼š<a href="http://example.com/video/stream.f4m%E3%80%82">http://example.com/video/stream.f4mã€‚</a></li><li>HDSå¢åŠ äº†ç ç‡è‡ªé€‚åº”ï¼Œå¹¶ä»¥é«˜è´¨é‡è‘—ç§°ï¼Œä½†å»¶è¿Ÿå¹¶ä¸å¦‚RTMPä½ã€‚</li><li>Adobeæ¨å‡ºçš„æµåª’ä½“åè®®ï¼Œæ˜¯RTMPçš„åç»§äº§å“ï¼Œä¾èµ–äºFlashåè®®ã€‚</li></ul></li></ul></li></ul><h1 id="2-FFmpeg"><a href="#2-FFmpeg" class="headerlink" title="2 FFmpeg"></a>2 FFmpeg</h1><ul><li>FFmpeg<ul><li>FFmpegæ”¯æŒä¸Šè¿°æµåª’ä½“åè®®çš„å¤„ç†å’Œè½¬æ¢ï¼Œå¯ä»¥ç”¨äºæµåª’ä½“çš„ç¼–ç ã€è§£ç ã€è½¬ç ã€æ¨æµå’Œæ‹‰æµç­‰æ“ä½œã€‚</li><li>å®˜ç½‘â€œ<a href="https://ffmpeg.org/">https://ffmpeg.org</a>â€ä¸‹è½½ï¼ŒWindowså®‰è£…æ—¶ï¼Œéœ€è¦å°†å®‰è£…è·¯å¾„çš„binç›®å½•è®¾ç½®åˆ°Pathç¯å¢ƒå˜é‡ä¸­ã€‚</li><li>æä¾›çš„å‘½ä»¤è¡Œå·¥å…·<ul><li>ffmpeg(éŸ³è§†é¢‘ç¼–è§£ç å™¨)æ˜¯FFmpegæä¾›çš„æ ¸å¿ƒå‘½ä»¤è¡Œå·¥å…·ï¼Œè¾“å‡ºå¿«å“è´¨é«˜æ–‡ä»¶å°ã€‚</li><li>ffplayæ˜¯ä»¥FFmpegæ¡†æ¶ä¸ºåŸºç¡€ï¼Œå¤–åŠ æ¸²æŸ“éŸ³è§†é¢‘çš„åº“libSDLæ„å»ºçš„åª’ä½“æ–‡ä»¶æ’­æ”¾å™¨ã€‚</li><li>ffprobeæ˜¯FFmpegå‘½ä»¤è¡Œå·¥å…·ä¸­ç›¸å¯¹ç®€å•çš„å‘½ä»¤å·¥å…·ï¼Œç”¨äºæŸ¥çœ‹åª’ä½“æ–‡ä»¶æ ¼å¼ç­‰ä¿¡æ¯ã€‚</li></ul></li></ul></li></ul><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Powershell">sudo apt update                               <span class="hljs-comment"># æ›´æ–°æºï¼Œæ·»åŠ æº</span><br>sudo <span class="hljs-built_in">add-apt</span><span class="hljs-literal">-repository</span> ppa:kirillshkrogalev/ffmpeg<span class="hljs-literal">-next</span><br>sudo apt<span class="hljs-literal">-get</span> install ffmpeg                   <span class="hljs-comment"># Ubuntuå’ŒDebianå®‰è£…</span><br>sudo yum install ffmpeg                       <span class="hljs-comment"># CentOSå’ŒFedoraå®‰è£…</span><br>brew install ffmpeg                           <span class="hljs-comment"># macOSå®‰è£…</span><br><br>ffmpeg <span class="hljs-literal">-version</span>                               <span class="hljs-comment"># æŸ¥çœ‹å®‰è£…ç‰ˆæœ¬</span><br>ffmpeg <span class="hljs-literal">-encoders</span>                              <span class="hljs-comment"># æŸ¥çœ‹ç¼–ç å™¨å’Œè§£ç å™¨</span><br><br>ffmpeg configure <span class="hljs-literal">-encoders</span>                    <span class="hljs-comment"># æŸ¥çœ‹æ”¯æŒçš„ç¼–ç å™¨</span><br>ffmpeg configure <span class="hljs-literal">-decoders</span>                    <span class="hljs-comment"># æŸ¥çœ‹æ”¯æŒçš„è§£ç å™¨</span><br>ffmpeg configure <span class="hljs-literal">-protocols</span>                   <span class="hljs-comment"># æŸ¥çœ‹æ”¯æŒçš„é€šä¿¡åè®®</span><br><br>ffmpeg configure <span class="hljs-literal">--help</span>                       <span class="hljs-comment"># æŸ¥çœ‹å‘½ä»¤å¸®åŠ©</span><br></code></pre></td></tr></table></figure><h2 id="2-1-å®‰è£…ç‰ˆæœ¬"><a href="#2-1-å®‰è£…ç‰ˆæœ¬" class="headerlink" title="2-1 å®‰è£…ç‰ˆæœ¬"></a>2-1 å®‰è£…ç‰ˆæœ¬</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs Powershell">ffmpeg <span class="hljs-literal">-version</span>                               <span class="hljs-comment"># æŸ¥çœ‹å®‰è£…ç‰ˆæœ¬</span><br>ffmpeg version <span class="hljs-number">6.0</span><span class="hljs-literal">-essentials_build-www</span>.gyan.dev Copyright (c) <span class="hljs-number">2000</span><span class="hljs-literal">-2023</span> the FFmpeg developers<br>built with gcc <span class="hljs-number">12.2</span>.<span class="hljs-number">0</span> (Rev10, Built by MSYS2 project)<br>configuration: <span class="hljs-literal">--enable-gpl</span> <span class="hljs-literal">--enable-version3</span> <span class="hljs-literal">--enable-static</span> <span class="hljs-literal">--disable-w32threads</span><br> <span class="hljs-literal">--disable-autodetect</span> <span class="hljs-literal">--enable-fontconfig</span> <span class="hljs-literal">--enable-iconv</span> <span class="hljs-literal">--enable-gnutls</span> <span class="hljs-literal">--enable-libxml2</span> <br> <span class="hljs-literal">--enable-gmp</span> <span class="hljs-literal">--enable-bzlib</span> <span class="hljs-literal">--enable-lzma</span> <span class="hljs-literal">--enable-zlib</span> <span class="hljs-literal">--enable-libsrt</span> <span class="hljs-literal">--enable-libssh</span> <br> <span class="hljs-literal">--enable-libzmq</span> <span class="hljs-literal">--enable-avisynth</span> <span class="hljs-literal">--enable-sdl2</span> <span class="hljs-literal">--enable-libwebp</span> <span class="hljs-literal">--enable-libx264</span> <br> <span class="hljs-literal">--enable-libx265</span> <span class="hljs-literal">--enable-libxvid</span> <span class="hljs-literal">--enable-libaom</span> <span class="hljs-literal">--enable-libopenjpeg</span> <span class="hljs-literal">--enable-libvpx</span> <br> <span class="hljs-literal">--enable-mediafoundation</span> <span class="hljs-literal">--enable-libass</span> <span class="hljs-literal">--enable-libfreetype</span> <span class="hljs-literal">--enable-libfribidi</span> <br> <span class="hljs-literal">--enable-libvidstab</span> <span class="hljs-literal">--enable-libvmaf</span> <span class="hljs-literal">--enable-libzimg</span> <span class="hljs-literal">--enable-amf</span> <span class="hljs-literal">--enable-cuda-llvm</span> <br> <span class="hljs-literal">--enable-cuvid</span> <span class="hljs-literal">--enable-ffnvcodec</span> <span class="hljs-literal">--enable-nvdec</span> <span class="hljs-literal">--enable-nvenc</span> <span class="hljs-literal">--enable-d3d11va</span> <br> <span class="hljs-literal">--enable-dxva2</span> <span class="hljs-literal">--enable-libvpl</span> <span class="hljs-literal">--enable-libgme</span> <span class="hljs-literal">--enable-libopenmpt</span> <span class="hljs-literal">--enable-libopencore-amrwb</span> <br> <span class="hljs-literal">--enable-libmp3lame</span> <span class="hljs-literal">--enable-libtheora</span> <span class="hljs-literal">--enable-libvo-amrwbenc</span> <span class="hljs-literal">--enable-libgsm</span> <br> <span class="hljs-literal">--enable-libopencore-amrnb</span> <span class="hljs-literal">--enable-libopus</span> <span class="hljs-literal">--enable-libspeex</span> <span class="hljs-literal">--enable-libvorbis</span> <br> <span class="hljs-literal">--enable-librubberband</span><br>libavutil      <span class="hljs-number">58</span>.  <span class="hljs-number">2.100</span> / <span class="hljs-number">58</span>.  <span class="hljs-number">2.100</span><br>libavcodec     <span class="hljs-number">60</span>.  <span class="hljs-number">3.100</span> / <span class="hljs-number">60</span>.  <span class="hljs-number">3.100</span><br>libavformat    <span class="hljs-number">60</span>.  <span class="hljs-number">3.100</span> / <span class="hljs-number">60</span>.  <span class="hljs-number">3.100</span><br>libavdevice    <span class="hljs-number">60</span>.  <span class="hljs-number">1.100</span> / <span class="hljs-number">60</span>.  <span class="hljs-number">1.100</span><br>libavfilter     <span class="hljs-number">9</span>.  <span class="hljs-number">3.100</span> /  <span class="hljs-number">9</span>.  <span class="hljs-number">3.100</span><br>libswscale      <span class="hljs-number">7</span>.  <span class="hljs-number">1.100</span> /  <span class="hljs-number">7</span>.  <span class="hljs-number">1.100</span><br>libswresample   <span class="hljs-number">4</span>. <span class="hljs-number">10.100</span> /  <span class="hljs-number">4</span>. <span class="hljs-number">10.100</span><br>libpostproc    <span class="hljs-number">57</span>.  <span class="hljs-number">1.100</span> / <span class="hljs-number">57</span>.  <span class="hljs-number">1.100</span><br></code></pre></td></tr></table></figure><h2 id="2-2-æ–‡ä»¶æ’­æ”¾"><a href="#2-2-æ–‡ä»¶æ’­æ”¾" class="headerlink" title="2-2 æ–‡ä»¶æ’­æ”¾"></a>2-2 æ–‡ä»¶æ’­æ”¾</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Powershell">ffplay test.mp3                               <span class="hljs-comment"># æ’­æ”¾éŸ³é¢‘</span><br>ffplay test.pcm <span class="hljs-operator">-f</span> s16le <span class="hljs-literal">-ar</span> <span class="hljs-number">32000</span> <span class="hljs-literal">-ac</span> <span class="hljs-number">2</span>      <span class="hljs-comment"># æ’­æ”¾åŒé€šé“32Kçš„PCMéŸ³é¢‘æ•°æ®</span><br><br>ffplay test.mp4                               <span class="hljs-comment"># æ’­æ”¾è§†é¢‘</span><br>ffplay test.mp4 <span class="hljs-literal">-loop</span> <span class="hljs-number">10</span>                      <span class="hljs-comment"># å¾ªç¯æ’­æ”¾10æ¬¡è§†é¢‘</span><br>ffplay test.mp4 <span class="hljs-literal">-autoexit</span>                     <span class="hljs-comment"># æ’­æ”¾å®Œæˆåè‡ªåŠ¨é€€å‡º</span><br>ffplay test.mp4 <span class="hljs-literal">-x</span> <span class="hljs-number">320</span> <span class="hljs-literal">-y</span> <span class="hljs-number">240</span>                 <span class="hljs-comment"># ä»¥é•¿320xå®½240çš„å¤§å°æ’­æ”¾</span><br>ffplay test.mp4 <span class="hljs-literal">-window_title</span> testplayer      <span class="hljs-comment"># å°†çª—å£æ ‡é¢˜è®¾ç½®ä¸ºtestplayer</span><br><br><span class="hljs-comment"># ffplayçš„éŸ³ç”»åŒæ­¥çš„å®ç°æ–¹å¼ï¼šä»¥éŸ³é¢‘ä¸ºä¸»æ—¶é—´è½´ã€ä»¥è§†é¢‘ä¸ºä¸»æ—¶é—´è½´ã€ä»¥å¤–éƒ¨æ—¶é’Ÿä¸ºä¸»æ—¶é—´è½´ä½œä¸ºåŒæ­¥æº</span><br>ffplay test.mp4 <span class="hljs-literal">-sync</span> audio                   <span class="hljs-comment"># æŒ‡å®šä½¿ç”¨ä»¥éŸ³é¢‘ä¸ºåŸºå‡†è¿›è¡ŒéŸ³è§†é¢‘åŒæ­¥çš„æ–¹å¼æ’­æ”¾è§†é¢‘</span><br>ffplay test.mp4 <span class="hljs-literal">-sync</span> video                   <span class="hljs-comment"># æŒ‡å®šä½¿ç”¨ä»¥è§†é¢‘ä¸ºåŸºå‡†è¿›è¡ŒéŸ³è§†é¢‘åŒæ­¥çš„æ–¹å¼æ’­æ”¾è§†é¢‘</span><br>ffplay test.mp4 <span class="hljs-literal">-sync</span> ext                     <span class="hljs-comment"># æŒ‡å®šä½¿ç”¨å¤–éƒ¨æ—¶é’Ÿä¸ºåŸºå‡†è¿›è¡ŒéŸ³è§†é¢‘åŒæ­¥çš„æ–¹å¼æ’­æ”¾è§†é¢‘</span><br></code></pre></td></tr></table></figure><h2 id="2-3-åª’ä½“ä¿¡æ¯"><a href="#2-3-åª’ä½“ä¿¡æ¯" class="headerlink" title="2-3 åª’ä½“ä¿¡æ¯"></a>2-3 åª’ä½“ä¿¡æ¯</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs Powershell"><span class="hljs-comment"># -v errorï¼šåªè¾“å‡ºé”™è¯¯çº§åˆ«çš„æ—¥å¿—ä¿¡æ¯ï¼Œè€Œä¸è¾“å‡ºå…¶ä»–çº§åˆ«çš„æ—¥å¿—ä¿¡æ¯ï¼Œä¾‹å¦‚è­¦å‘Š(warning)ã€ä¿¡æ¯(info)ç­‰</span><br><br>ffprobe test.mp4                              <span class="hljs-comment"># æŸ¥çœ‹mp4æ–‡ä»¶ä¿¡æ¯</span><br><br>ffprobe test.mp4 <span class="hljs-literal">-show_format</span>                 <span class="hljs-comment"># è¾“å‡ºæ ¼å¼ä¿¡æ¯</span><br>ffprobe test.mp4 <span class="hljs-literal">-show_frames</span>                 <span class="hljs-comment"># æ˜¾ç¤ºå¸§ä¿¡æ¯ï¼Œpict_type=Iè¯´æ˜æ˜¯å…³é”®å¸§</span><br>ffprobe test.mp4 <span class="hljs-literal">-show_frames</span> <span class="hljs-literal">-v</span> error        <span class="hljs-comment"># key_frame=1æ˜¯IDRå¸§ï¼Œkey_frame=0æ˜¯Non-IDRå¸§</span><br><br>ffprobe test.mp4 <span class="hljs-literal">-show_streams</span>                <span class="hljs-comment"># æ˜¾ç¤ºæ¯ä¸ªæµçš„å…·ä½“ä¿¡æ¯</span><br>ffprobe test.mp4 <span class="hljs-literal">-show_packets</span>                <span class="hljs-comment"># æ˜¾ç¤ºåŒ…ä¿¡æ¯</span><br>ffprobe test.mp4 <span class="hljs-literal">-print_format</span> json           <span class="hljs-comment"># ä»¥Jsonæ ¼å¼æ˜¾ç¤ºmp4æ–‡ä»¶ä¿¡æ¯</span><br></code></pre></td></tr></table></figure><h4 id="1-æŸ¥çœ‹ä¿¡æ¯"><a href="#1-æŸ¥çœ‹ä¿¡æ¯" class="headerlink" title="(1) æŸ¥çœ‹ä¿¡æ¯"></a>(1) æŸ¥çœ‹ä¿¡æ¯</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><code class="hljs Powershell"><span class="hljs-comment"># -select_streams vï¼šè¡¨ç¤ºé€‰æ‹©æ‰€æœ‰è§†é¢‘æµ</span><br><span class="hljs-comment"># -select_streams v:0ï¼šè¡¨ç¤ºé€‰æ‹©è§†é¢‘æµä¸­çš„ç¬¬ä¸€ä¸ªæµ</span><br><span class="hljs-comment"># -count_framesï¼šç»Ÿè®¡è§†é¢‘æµä¸­çš„å¸§æ•°</span><br><span class="hljs-comment"># -show_entries stream=nb_framesï¼šæ˜¾ç¤ºæŒ‡å®šæ¡ç›®</span><br><span class="hljs-comment">#     nb_framesï¼šæ„å‘³ç€åªæ˜¾ç¤ºè§†é¢‘æµä¸­çš„å¸§æ•°</span><br><span class="hljs-comment">#     bit_rateï¼šåªæ˜¾ç¤ºè§†é¢‘æµçš„æ¯”ç‰¹ç‡</span><br><span class="hljs-comment">#     nb_read_framesï¼šæ˜¾ç¤ºå·²è¯»å–çš„å¸§æ•°</span><br><span class="hljs-comment"># -show_entries frame=pkt_pts_timeï¼šè·å–è§†é¢‘å¸§çš„ç›¸å…³ä¿¡æ¯</span><br><span class="hljs-comment">#     pkt_pts_timeï¼šè·å–è§†é¢‘å¸§çš„æ˜¾ç¤ºæ—¶é—´æˆ³ä¿¡æ¯</span><br><span class="hljs-comment">#     pict_typeï¼šè·å–è§†é¢‘å¸§çš„å›¾ç‰‡ç±»å‹ä¿¡æ¯</span><br><span class="hljs-comment"># -of default=nokey=1:noprint_wrappers=1ï¼šæŒ‡å®šäº†è¾“å‡ºçš„æ ¼å¼ï¼ŒåŒ…æ‹¬ä¸æ˜¾ç¤ºé”®å’Œä¸æ‰“å°åŒ…è£…å™¨</span><br><span class="hljs-comment"># -of csv=print_section=0ï¼šä»¥CSVæ ¼å¼è¾“å‡ºæ•°æ®ï¼Œä½†ä¸åŒ…æ‹¬æ ‡é¢˜è¡Œ</span><br><span class="hljs-comment"># -skip_frame nokeyï¼šåœ¨è·³è¿‡å¸§æ—¶ä¸æ˜¾ç¤ºå…³é”®å¸§ä¿¡æ¯</span><br><span class="hljs-comment"># Windowså‘½ä»¤ï¼šfindstr /n &quot;I&quot; | for /f &quot;tokens=1 delims=:&quot; %a in (&#x27;findstr /n &quot;I&quot;&#x27;) do @echo %a</span><br><span class="hljs-comment"># Linuxå‘½ä»¤ï¼šgrep -n I | cut -d &#x27;:&#x27; -f 1</span><br><br><span class="hljs-comment"># æŸ¥çœ‹è§†é¢‘æ€»å¸§æ•°</span><br>ffprobe test.mp4<br> <span class="hljs-literal">-v</span> error <span class="hljs-literal">-select_streams</span> v:<span class="hljs-number">0</span> <span class="hljs-literal">-count_frames</span><br> <span class="hljs-literal">-show_entries</span> stream=nb_frames <span class="hljs-literal">-of</span> default=nokey=<span class="hljs-number">1</span>:noprint_wrappers=<span class="hljs-number">1</span><br><br><span class="hljs-comment"># æŸ¥çœ‹è§†é¢‘æ¯”ç‰¹ç‡</span><br>ffprobe test.mp4<br> <span class="hljs-literal">-v</span> error <span class="hljs-literal">-select_streams</span> v:<span class="hljs-number">0</span><br> <span class="hljs-literal">-show_entries</span> stream=bit_rate <span class="hljs-literal">-of</span> default=noprint_wrappers=<span class="hljs-number">1</span>:nokey=<span class="hljs-number">1</span><br><br><span class="hljs-comment"># æŸ¥çœ‹key frameå¸§æ•°</span><br>ffprobe test.mp4<br> <span class="hljs-literal">-v</span> error <span class="hljs-literal">-select_streams</span> v:<span class="hljs-number">0</span> <span class="hljs-literal">-count_frames</span><br> <span class="hljs-literal">-show_entries</span> stream=nb_read_frames <span class="hljs-literal">-of</span> default=nokey=<span class="hljs-number">1</span>:noprint_wrappers=<span class="hljs-number">1</span> <span class="hljs-literal">-skip_frame</span> nokey<br><br><span class="hljs-comment"># æŸ¥çœ‹key frameæ‰€åœ¨çš„æ—¶é—´(***Windowsä¸‹å¥½åƒæ˜¾ç¤ºä¸å‡ºæ¥ï¼ŒLinuxä¸‹æ­£å¸¸)</span><br>ffprobe test.mp4<br> <span class="hljs-literal">-v</span> error <span class="hljs-literal">-select_streams</span> v:<span class="hljs-number">0</span> <span class="hljs-literal">-skip_frame</span> nokey<br> <span class="hljs-literal">-show_entries</span> frame=pkt_pts_time<br>ffprobe test.mp4<br> <span class="hljs-literal">-v</span> error <span class="hljs-literal">-select_streams</span> v:<span class="hljs-number">0</span> <span class="hljs-literal">-skip_frame</span> nokey<br> <span class="hljs-literal">-show_entries</span> frame=pkt_pts_time <span class="hljs-literal">-of</span> csv=p=<span class="hljs-number">0</span><br>ffprobe test.mp4<br> <span class="hljs-literal">-v</span> error <span class="hljs-literal">-select_streams</span> v:<span class="hljs-number">0</span> <span class="hljs-literal">-skip_frame</span> nokey<br> <span class="hljs-literal">-show_entries</span> frame=pkt_pts_time <span class="hljs-literal">-of</span> csv=print_section=<span class="hljs-number">0</span><br>ffprobe <span class="hljs-literal">-v</span> error <span class="hljs-literal">-select_streams</span> v:<span class="hljs-number">0</span> <span class="hljs-literal">-show_entries</span> frame=pkt_pts_time <span class="hljs-literal">-of</span> csv test.mp4<br><br><span class="hljs-comment"># æŸ¥çœ‹key frameåˆ†å¸ƒçš„æƒ…å†µï¼ŒWindowsä¸Linux</span><br>ffprobe test.mp4 <span class="hljs-literal">-v</span> error <span class="hljs-literal">-show_frames</span> | find <span class="hljs-string">&quot;pict_type&quot;</span><br>ffprobe test.mp4 <span class="hljs-literal">-v</span> error <span class="hljs-literal">-show_frames</span> | grep pict_type<br><br><span class="hljs-comment"># æŸ¥çœ‹key frameæ‰€åœ¨çš„å¸§æ•°ï¼ŒWindowsä¸Linux(***æ˜¾ç¤ºå†…å®¹ä¸ä¸€æ ·)</span><br>ffprobe test.mp4<br> <span class="hljs-literal">-v</span> error <span class="hljs-literal">-select_streams</span> v <span class="hljs-literal">-show_frames</span><br> <span class="hljs-literal">-show_entries</span> frame=pict_type <span class="hljs-literal">-of</span> csv | findstr /n <span class="hljs-string">&quot;I&quot;</span> |<br> <span class="hljs-keyword">for</span> /f <span class="hljs-string">&quot;tokens=1 delims=:&quot;</span> %a <span class="hljs-keyword">in</span> (<span class="hljs-string">&#x27;findstr /n &quot;I&quot;&#x27;</span>) <span class="hljs-keyword">do</span> @<span class="hljs-built_in">echo</span> %a<br>ffprobe test.mp4<br> <span class="hljs-literal">-v</span> error <span class="hljs-literal">-select_streams</span> v <span class="hljs-literal">-show_frames</span><br> <span class="hljs-literal">-show_entries</span> frame=pict_type <span class="hljs-literal">-of</span> csv | grep <span class="hljs-literal">-n</span> I | cut <span class="hljs-literal">-d</span> <span class="hljs-string">&#x27;:&#x27;</span> <span class="hljs-operator">-f</span> <span class="hljs-number">1</span><br><br><span class="hljs-comment"># æŸ¥çœ‹è§†é¢‘ä¸­å…³é”®å¸§æ‰€åœ¨çš„å¸§æ•°(***Windowså’ŒLinuxä¸‹æ˜¾ç¤ºå†…å®¹ä¸ä¸€æ ·)</span><br>ffprobe <span class="hljs-literal">-v</span> error <span class="hljs-literal">-select_streams</span> v:<span class="hljs-number">0</span> <span class="hljs-literal">-show_entries</span> frame=pkt_pts_time,pict_type <span class="hljs-literal">-of</span> csv test.mp4<br></code></pre></td></tr></table></figure><h4 id="2-å†…å®¹è§£æ"><a href="#2-å†…å®¹è§£æ" class="headerlink" title="(2) å†…å®¹è§£æ"></a>(2) å†…å®¹è§£æ</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs Powershell"><span class="hljs-comment"># æŸ¥çœ‹mp4æ–‡ä»¶ä¿¡æ¯</span><br>ffprobe test.mp4<br>...<br>Input <span class="hljs-comment">#0, mov,mp4,m4a,3gp,3g2,mj2, from &#x27;test.mp4&#x27;:</span><br>  Metadata:<br>    major_brand     : isom<br>    minor_version   : <span class="hljs-number">512</span><br>    compatible_brands: isomiso2avc1mp41<br>    creation_time   : <span class="hljs-number">2023</span><span class="hljs-literal">-04-17T08</span>:<span class="hljs-number">50</span>:<span class="hljs-number">27.000000</span>Z<br>    Hw              : <span class="hljs-number">1</span><br>                    :<br>    bitRate         : <span class="hljs-number">16000000</span><br>                    :<br>    maxrate         : <span class="hljs-number">16000000</span><br>                    :<br>    te_is_reencode  : <span class="hljs-number">1</span><br>                    :<br>    encoder         : Lavf58.<span class="hljs-number">76.100</span><br>  <br>  <span class="hljs-comment"># è¯¥è§†é¢‘æ–‡ä»¶çš„æ—¶é•¿æ˜¯31ç§’880æ¯«ç§’ï¼Œå¼€å§‹æ’­æ”¾æ—¶é—´æ˜¯0ï¼Œæ•´ä¸ªæ–‡ä»¶çš„æ¯”ç‰¹ç‡æ˜¯11745Kbit/s</span><br>  Duration: <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">31.88</span>, <span class="hljs-built_in">start</span>: <span class="hljs-number">0.000000</span>, bitrate: <span class="hljs-number">11745</span> kb/s<br><br>  <span class="hljs-comment"># ç¬¬ä¸€ä¸ªæµæ˜¯è§†é¢‘æµï¼Œç¼–ç æ ¼å¼æ˜¯H264æ ¼å¼(å°è£…æ ¼å¼ä¸ºAVC1)</span><br>  <span class="hljs-comment"># æ¯ä¸€å¸§çš„æ•°æ®è¡¨ç¤ºä¸ºyuv420pï¼Œåˆ†è¾¨ç‡ä¸º1920x1080ï¼Œè¿™è·¯æµçš„æ¯”ç‰¹ç‡ä¸º11649Kbit/sï¼Œå¸§ç‡ä¸ºæ¯ç§’é’Ÿ30å¸§</span><br>  Stream <span class="hljs-comment">#0:0[0x1](und): Video: h264(Main)(avc1/0x31637661), yuv420p(tv, bt709, progressive),</span><br>         <span class="hljs-comment">#1920x1080 [SAR 1:1 DAR 16:9], 11649 kb/s, 30 fps, 30 tbr, 15360 tbn (default)</span><br>    Metadata:<br>      creation_time   : <span class="hljs-number">2023</span><span class="hljs-literal">-04-17T08</span>:<span class="hljs-number">50</span>:<span class="hljs-number">27.000000</span>Z<br>      handler_name    : VideoHandler<br>      vendor_id       : [<span class="hljs-number">0</span>][<span class="hljs-number">0</span>][<span class="hljs-number">0</span>][<span class="hljs-number">0</span>]<br>  <br>  <span class="hljs-comment"># ç¬¬äºŒä¸ªæµæ˜¯éŸ³é¢‘æµï¼Œç¼–ç æ–¹å¼æ˜¯ACC(å°è£…æ ¼å¼ä¸ºMP4A)</span><br>  <span class="hljs-comment"># é‡‡ç”¨çš„Profileæ˜¯LCè§„æ ¼ï¼Œé‡‡æ ·ç‡44.1KHzï¼Œå£°é“ç«‹ä½“å£°ï¼Œè¿™è·¯æµçš„æ¯”ç‰¹ç‡95Kbit/s</span><br>  Stream <span class="hljs-comment">#0:1[0x2](und): Audio: aac(LC)(mp4a/0x6134706D),</span><br>         <span class="hljs-comment">#44100 Hz, stereo, fltp, 95 kb/s(default)</span><br>    Metadata:<br>      creation_time   : <span class="hljs-number">2023</span><span class="hljs-literal">-04-17T08</span>:<span class="hljs-number">50</span>:<span class="hljs-number">27.000000</span>Z<br>      handler_name    : SoundHandler<br>      vendor_id       : [<span class="hljs-number">0</span>][<span class="hljs-number">0</span>][<span class="hljs-number">0</span>][<span class="hljs-number">0</span>]<br></code></pre></td></tr></table></figure><h2 id="2-4-å‚æ•°è¯´æ˜"><a href="#2-4-å‚æ•°è¯´æ˜" class="headerlink" title="2-4 å‚æ•°è¯´æ˜"></a>2-4 å‚æ•°è¯´æ˜</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Yaml"><span class="hljs-string">-i</span>                                            <span class="hljs-comment"># æŒ‡å®šè¾“å…¥æµ</span><br><span class="hljs-string">-y</span>                                            <span class="hljs-comment"># è‹¥è¾“å‡ºæµå·²å­˜åœ¨ï¼Œåˆ™è¦†ç›–æµ</span><br><span class="hljs-string">-t</span> <span class="hljs-number">60</span>                                         <span class="hljs-comment"># æŒ‡å®šæ—¶é•¿ä¸º60ç§’</span><br><span class="hljs-comment"># è¾“å‡ºæ ¼å¼å¯ä»¥åŒ…æ‹¬ä½†ä¸é™äºmp4ã€aviã€movã€mkvã€flvã€mpegã€wmvã€webm</span><br><span class="hljs-string">-f</span> <span class="hljs-string">mp4</span>                                        <span class="hljs-comment"># æŒ‡å®šè¾“å‡ºæ ¼å¼ä¸ºmp4</span><br><br><span class="hljs-string">-map</span> <span class="hljs-number">0</span>                                        <span class="hljs-comment"># å°†è¾“å…¥æ–‡ä»¶çš„æ‰€æœ‰æµæ˜ å°„åˆ°è¾“å‡ºæ–‡ä»¶</span><br><span class="hljs-string">-map</span> <span class="hljs-number">0</span><span class="hljs-string">:v</span>                                      <span class="hljs-comment"># æŒ‡å®šç¬¬ä¸€ä¸ªè¾“å…¥æ–‡ä»¶çš„è§†é¢‘æµ</span><br><span class="hljs-string">-map</span> <span class="hljs-number">0</span><span class="hljs-string">:a</span>                                      <span class="hljs-comment"># æŒ‡å®šç¬¬ä¸€ä¸ªè¾“å…¥æ–‡ä»¶çš„éŸ³é¢‘æµ</span><br><span class="hljs-string">-map</span> <span class="hljs-number">0</span><span class="hljs-string">:v:0</span>                                    <span class="hljs-comment"># æŒ‡å®šè§†é¢‘æ–‡ä»¶çš„ç¬¬ä¸€ä¸ªè§†é¢‘æµ</span><br><span class="hljs-string">-map</span> <span class="hljs-number">0</span><span class="hljs-string">:a:0</span>                                    <span class="hljs-comment"># æŒ‡å®šè§†é¢‘æ–‡ä»¶çš„ç¬¬ä¸€ä¸ªéŸ³é¢‘æµ</span><br><span class="hljs-string">-map</span> [<span class="hljs-string">v</span>] <span class="hljs-string">-map</span> [<span class="hljs-string">a</span>]                             <span class="hljs-comment"># å°†è¾“å…¥æ–‡ä»¶ä¸­çš„ç‰¹å®šè§†é¢‘æµå’ŒéŸ³é¢‘æµæ˜ å°„åˆ°è¾“å‡ºæ–‡ä»¶ä¸­</span><br><br><span class="hljs-comment"># ä½œä¸ºæ¨æµå·¥å…·æ—¶ä¸€å®šè¦åŠ ä¸Šè¯¥å‚æ•°ï¼Œå¦åˆ™ffmpegä¼šæŒ‰æœ€é«˜é€Ÿç‡ä¸åœåœ°å‘æµåª’ä½“å‘é€æ•°æ®</span><br><span class="hljs-string">-re</span>                                           <span class="hljs-comment"># ä»¥æºæ–‡ä»¶å›ºæœ‰å¸§ç‡å‘é€æ•°æ®</span><br><span class="hljs-string">-ss</span> <span class="hljs-number">00</span><span class="hljs-string">:01:30</span>                                  <span class="hljs-comment"># æŒ‡å®šä»è¾“å…¥æµçš„00:01:30å¼€å§‹å¤„ç†</span><br></code></pre></td></tr></table></figure><h4 id="1-è§†é¢‘å‚æ•°"><a href="#1-è§†é¢‘å‚æ•°" class="headerlink" title="(1) è§†é¢‘å‚æ•°"></a>(1) è§†é¢‘å‚æ•°</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs Yaml"><span class="hljs-string">-s</span> <span class="hljs-string">320x240</span>                                    <span class="hljs-comment"># æŒ‡å®šåˆ†è¾¨ç‡ä¸º320x240(w*h)</span><br><span class="hljs-string">-r</span> <span class="hljs-number">30</span>                                         <span class="hljs-comment"># æŒ‡å®šå¸§é€Ÿç‡ä¸º30å¸§æ¯ç§’</span><br><span class="hljs-string">-b</span> <span class="hljs-string">200k</span>                                       <span class="hljs-comment"># æŒ‡å®šæ¯”ç‰¹ç‡ä¸º200kbit/s</span><br><br><span class="hljs-string">-an</span>                                           <span class="hljs-comment"># å»é™¤éŸ³é¢‘æµ</span><br><span class="hljs-string">-vn</span>                                           <span class="hljs-comment"># å»é™¤è§†é¢‘æµ</span><br><span class="hljs-string">-vb</span> <span class="hljs-string">200k</span>                                      <span class="hljs-comment"># æŒ‡å®šè§†é¢‘æ¯”ç‰¹ç‡ä¸º200kbit/s</span><br><br><span class="hljs-comment"># ffmpeg -encoders | findstr /i video         # Windowsä¸‹æŸ¥çœ‹ç³»ç»Ÿæ”¯æŒçš„æ‰€æœ‰è§†é¢‘ç¼–ç å™¨</span><br><span class="hljs-comment"># ffmpeg -encoders | grep -i video            # Linuxä¸‹æŸ¥çœ‹ç³»ç»Ÿæ”¯æŒçš„æ‰€æœ‰è§†é¢‘ç¼–ç å™¨</span><br><span class="hljs-comment"># ffmpeg -decoders | findstr /i video         # Windowsä¸‹æŸ¥çœ‹ç³»ç»Ÿæ”¯æŒçš„æ‰€æœ‰è§†é¢‘è§£ç å™¨</span><br><span class="hljs-comment"># ffmpeg -decoders | grep -i video            # Linuxä¸‹æŸ¥çœ‹ç³»ç»Ÿæ”¯æŒçš„æ‰€æœ‰è§†é¢‘è§£ç å™¨</span><br><span class="hljs-string">-c:v</span> <span class="hljs-string">libx264</span>                                  <span class="hljs-comment"># æŒ‡å®šè§†é¢‘ç¼–ç å™¨ä¸ºlibx264ï¼Œè§£ç å™¨åŒç†ï¼Œæ–°ç‰ˆ</span><br><span class="hljs-string">-vcodec</span> <span class="hljs-string">libxvid</span>                               <span class="hljs-comment"># æŒ‡å®šè§†é¢‘ç¼–ç å™¨ä¸ºlibxvidï¼Œè§£ç å™¨åŒç†ï¼Œæ—§ç‰ˆ</span><br><br><span class="hljs-comment"># è´¨é‡æ§åˆ¶çš„å–å€¼èŒƒå›´åœ¨0~51ä¹‹é—´ï¼Œ0ä»£è¡¨æ— æŸï¼Œ18~28ä»£è¡¨åˆç†ï¼Œæ•°å€¼è¶Šå¤§ç”»è´¨ä¼šè¶Šå·®</span><br><span class="hljs-string">-crf</span> <span class="hljs-number">23</span>                                       <span class="hljs-comment"># ç”¨äºè§†é¢‘ç¼–ç ä¸­çš„è´¨é‡æ§åˆ¶</span><br><br><span class="hljs-comment"># è§†é¢‘è´¨é‡åŒ…æ‹¬ï¼šultrafastã€superfastã€veryfastã€fasterã€fastã€mediumã€slowã€slowerã€veryslow</span><br><span class="hljs-comment"># ä¸veryslowç›¸æ¯”ï¼Œplaceboä»¥æé«˜çš„ç¼–ç æ—¶é—´ä¸ºä»£ä»·ï¼Œåªæ¢å–äº†å¤§æ¦‚1%çš„è§†é¢‘è´¨é‡æå‡</span><br><span class="hljs-comment"># é’ˆå¯¹ç‰¹å®šç±»å‹ï¼Œä¾‹å¦‚ç”µå½±ã€åŠ¨ç”»ç­‰ï¼šslowæ¯”mediumæå‡5%~10%ï¼Œsloweræ¯”slowæå‡5%ï¼Œveryslowæ¯”sloweræå‡3%</span><br><span class="hljs-string">-preset</span> <span class="hljs-string">medium</span>                                <span class="hljs-comment"># æŒ‡å®šè¾“å‡ºçš„è§†é¢‘è´¨é‡ä¸ºmediumï¼Œä¼šå½±å“æ–‡ä»¶çš„ç”Ÿæˆé€Ÿåº¦</span><br><br><span class="hljs-comment"># å¸¸è§æ¯”ä¾‹ï¼š4:3(æ ‡å‡†å±å¹•)ã€21:9(è¶…å®½å±)ã€9:16(ç«–å±)ã€2.35:1(ç”µå½±é™¢æ ‡å‡†å®½å±)ã€2.39:1(ç”µå½±é™¢å®½å±)</span><br><span class="hljs-string">-aspect</span> <span class="hljs-number">16</span><span class="hljs-string">:9</span>                                  <span class="hljs-comment"># æŒ‡å®šè§†é¢‘é«˜å®½æ¯”ä¸º16:9(å®½å±é«˜æ¸…)</span><br></code></pre></td></tr></table></figure><h4 id="2-éŸ³é¢‘å‚æ•°"><a href="#2-éŸ³é¢‘å‚æ•°" class="headerlink" title="(2) éŸ³é¢‘å‚æ•°"></a>(2) éŸ³é¢‘å‚æ•°</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Yaml"><span class="hljs-comment"># å¯¹äºMP3æ ¼å¼ï¼Œå¸¸è§çš„æ¯”ç‰¹ç‡æœ‰128kbpsã€192kbpsã€256kbpså’Œ320kbpsç­‰ï¼Œè¾ƒä½æ¯”ç‰¹ç‡ä¼šå¯¼è‡´éŸ³é¢‘è´¨é‡ä¸‹é™</span><br><span class="hljs-string">-ab</span> <span class="hljs-string">128k</span>                                      <span class="hljs-comment"># è®¾ç½®éŸ³é¢‘æ¯”ç‰¹ç‡ä¸º128kbpsï¼Œkbit/sä¸kbpsç­‰ä»·</span><br><span class="hljs-string">-an</span>                                           <span class="hljs-comment"># å»é™¤éŸ³é¢‘æµ</span><br><br><span class="hljs-string">-ar</span> <span class="hljs-number">8000</span>                                      <span class="hljs-comment"># è®¾ç½®éŸ³é¢‘é‡‡æ ·ç‡ä¸º8000Hz</span><br><span class="hljs-string">-ac</span> <span class="hljs-number">1</span>                                         <span class="hljs-comment"># è®¾ç½®ä¸ºå•å£°é“ï¼Œ1æ˜¯å•å£°é“ï¼Œ2æ˜¯ç«‹ä½“å£°</span><br><span class="hljs-string">-aq</span> <span class="hljs-number">0</span>                                         <span class="hljs-comment"># è®¾ç½®éŸ³é¢‘çš„å‹ç¼©è´¨é‡ï¼Œ0ä¸ºæœ€é«˜è´¨é‡ï¼Œ9ä¸ºæœ€ä½è´¨é‡</span><br><br><span class="hljs-comment"># ffmpeg -encoders | findstr /i audio         # Windowsä¸‹æŸ¥çœ‹ç³»ç»Ÿæ”¯æŒçš„æ‰€æœ‰éŸ³é¢‘ç¼–ç å™¨</span><br><span class="hljs-comment"># ffmpeg -encoders | grep -i audio            # Linuxä¸‹æŸ¥çœ‹ç³»ç»Ÿæ”¯æŒçš„æ‰€æœ‰éŸ³é¢‘ç¼–ç å™¨</span><br><span class="hljs-comment"># ffmpeg -decoders | findstr /i audio         # Windowsä¸‹æŸ¥çœ‹ç³»ç»Ÿæ”¯æŒçš„æ‰€æœ‰éŸ³é¢‘è§£ç å™¨</span><br><span class="hljs-comment"># ffmpeg -decoders | grep -i audio            # Linuxä¸‹æŸ¥çœ‹ç³»ç»Ÿæ”¯æŒçš„æ‰€æœ‰éŸ³é¢‘è§£ç å™¨</span><br><span class="hljs-string">-c:a</span> <span class="hljs-string">acc</span>                                      <span class="hljs-comment"># æŒ‡å®šéŸ³é¢‘ç¼–ç å™¨ä¸ºaccï¼Œè§£ç å™¨åŒç†ï¼Œæ–°ç‰ˆ</span><br><span class="hljs-string">-acodec</span> <span class="hljs-string">mp3</span>                                   <span class="hljs-comment"># æŒ‡å®šéŸ³é¢‘ç¼–ç å™¨ä¸ºmp3ï¼Œè§£ç å™¨åŒç†ï¼Œæ—§ç‰ˆ</span><br></code></pre></td></tr></table></figure><h1 id="3-è·å–ä¿¡æ¯"><a href="#3-è·å–ä¿¡æ¯" class="headerlink" title="3 è·å–ä¿¡æ¯"></a>3 è·å–ä¿¡æ¯</h1><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs Powershell"><span class="hljs-comment"># Windowsä¸‹æŸ¥çœ‹æœ¬åœ°è§†é¢‘ä¿¡æ¯ï¼Œè€Œä¸ç”Ÿæˆå®é™…çš„è¾“å‡ºæ–‡ä»¶</span><br>ffmpeg <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-operator">-f</span> null NULL<br><span class="hljs-comment"># Windowsä¸‹æŸ¥çœ‹è¿œç¨‹è§†é¢‘ä¿¡æ¯ï¼Œè€Œä¸ç”Ÿæˆå®é™…çš„è¾“å‡ºæ–‡ä»¶</span><br>ffmpeg <span class="hljs-literal">-i</span> http://<span class="hljs-number">220.161</span>.<span class="hljs-number">87.62</span>:<span class="hljs-number">8800</span>/hls/<span class="hljs-number">0</span>/index.m3u8 <span class="hljs-operator">-f</span> null NULL<br><br><span class="hljs-comment"># Linuxä¸‹æŸ¥çœ‹æœ¬åœ°è§†é¢‘ä¿¡æ¯ï¼Œè€Œä¸ç”Ÿæˆå®é™…çš„è¾“å‡ºæ–‡ä»¶</span><br>ffmpeg <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-operator">-f</span> null /dev/null<br><span class="hljs-comment"># Linuxä¸‹æŸ¥çœ‹è¿œç¨‹è§†é¢‘ä¿¡æ¯ï¼Œè€Œä¸ç”Ÿæˆå®é™…çš„è¾“å‡ºæ–‡ä»¶</span><br>ffmpeg <span class="hljs-literal">-i</span> http://<span class="hljs-number">220.161</span>.<span class="hljs-number">87.62</span>:<span class="hljs-number">8800</span>/hls/<span class="hljs-number">0</span>/index.m3u8 <span class="hljs-operator">-f</span> null /dev/null<br><br><span class="hljs-comment"># ä¸åŠ â€œ-f null Nullâ€ä¼šåœ¨æœ€åæ˜¾ç¤ºâ€œAt least one output file must be specifiedâ€</span><br></code></pre></td></tr></table></figure><h1 id="4-æ‹¼æ¥åˆå¹¶"><a href="#4-æ‹¼æ¥åˆå¹¶" class="headerlink" title="4 æ‹¼æ¥åˆå¹¶"></a>4 æ‹¼æ¥åˆå¹¶</h1><ul><li>æ‹¼æ¥åˆå¹¶<ul><li>æ‹¼æ¥<ul><li>é€šå¸¸æŒ‡çš„æ˜¯å°†å¤šä¸ªè§†é¢‘æ–‡ä»¶æŒ‰é¡ºåºè¿æ¥åœ¨ä¸€èµ·ï¼Œå½¢æˆä¸€ä¸ªé•¿è§†é¢‘ã€‚</li><li>åœ¨FFmpegä¸­ï¼Œå¯ä»¥ä½¿ç”¨concatåè®®ï¼Œæˆ–è€…filteræ¥å®ç°è§†é¢‘çš„æ‹¼æ¥ã€‚</li></ul></li><li>åˆå¹¶<ul><li>æŒ‡çš„æ˜¯å°†å¤šä¸ªè§†é¢‘æ–‡ä»¶åˆå¹¶æˆä¸€ä¸ªç”»ä¸­ç”»æˆ–åˆ†å±çš„æ•ˆæœï¼Œä¹Ÿå¯ä»¥æ˜¯å°†å¤šä¸ªéŸ³é¢‘è½¨é“åˆå¹¶æˆä¸€ä¸ªéŸ³é¢‘æ–‡ä»¶ã€‚</li><li>FFmpegä¸­å¯ä»¥ä½¿ç”¨filterå®ç°è§†é¢‘åˆå¹¶ï¼Œä¾‹å¦‚ï¼šoverlay filterå®ç°ç”»ä¸­ç”»æ•ˆæœï¼Œamix filterå®ç°éŸ³é¢‘æ··åˆã€‚</li></ul></li><li>æ‹¼æ¥æ›´å¤šæŒ‡çš„æ˜¯å°†è§†é¢‘æŒ‰é¡ºåºè¿æ¥åœ¨ä¸€èµ·ï¼Œè€Œåˆå¹¶æ›´å¤šæŒ‡çš„æ˜¯å°†è§†é¢‘è¿›è¡Œå åŠ æˆ–æ··åˆã€‚</li><li>æ‹¼æ¥æˆ–åˆå¹¶å‰ã€æ³¨æ„äº‹é¡¹ã€‘<ul><li>ç¡®ä¿æ‰€æœ‰è§†é¢‘çš„å‚æ•°åŒ¹é…ï¼ŒåŒ…æ‹¬åˆ†è¾¨ç‡ã€å¸§ç‡ã€åƒç´ æ ¼å¼ç­‰ï¼Œä¸åŒ¹é…æ—¶éœ€å…ˆä½¿ç”¨æ»¤é•œå¯¹è§†é¢‘è¿›è¡Œè°ƒæ•´ã€‚</li><li>è¦æ±‚è¾“å…¥è§†é¢‘ä½¿ç”¨ç›¸åŒçš„ç¼–è§£ç æ ¼å¼ï¼Œå¦‚æœä¸åŒï¼Œåˆ™éœ€è¦é‡æ–°ç¼–ç è§†é¢‘ï¼Œä»¥ç¡®ä¿ç¼–è§£ç æ ¼å¼ä¿æŒä¸€è‡´ã€‚</li><li>ç¡®ä¿è§†é¢‘çš„æ—¶é•¿å’Œå¸§ç‡åŒ¹é…ï¼Œä»¥é¿å…æ‹¼æ¥æˆ–åˆå¹¶åå‡ºç°æ’­æ”¾é€Ÿåº¦ä¸ä¸€è‡´çš„é—®é¢˜ã€‚</li><li>ä¸åŒçš„è§†é¢‘æ ¼å¼éœ€ä½¿ç”¨ä¸åŒçš„å¤„ç†æ–¹å¼ï¼Œç¡®ä¿è¾“å…¥è§†é¢‘çš„æ ¼å¼å…¼å®¹å¹¶ç¬¦åˆè¦æ±‚ã€‚</li><li>è‹¥è§†é¢‘ä¸­åŒ…å«éŸ³é¢‘ï¼Œéœ€ç¡®ä¿éŸ³é¢‘çš„å‚æ•°åŒ¹é…ï¼Œå¹¶åœ¨æ‹¼æ¥æˆ–åˆå¹¶æ—¶æ­£ç¡®çš„å¤„ç†éŸ³é¢‘ã€‚</li><li>åœ¨æ‹¼æ¥æˆ–åˆå¹¶æ—¶ï¼Œéœ€è¦æ³¨æ„ä¿æŒè§†é¢‘è´¨é‡ï¼Œé¿å…å‡ºç°ç”»é¢å¤±çœŸæˆ–å‹ç¼©æŸå¤±ç­‰æƒ…å†µã€‚</li></ul></li></ul></li></ul><h2 id="4-1-è§†é¢‘æ‹¼æ¥"><a href="#4-1-è§†é¢‘æ‹¼æ¥" class="headerlink" title="4-1 è§†é¢‘æ‹¼æ¥"></a>4-1 è§†é¢‘æ‹¼æ¥</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs Powershell"><span class="hljs-comment"># -qscale 4ï¼šè®¾ç½®è§†é¢‘è´¨é‡çš„å‚æ•°ï¼Œæ•°å€¼è¶Šå°è´¨é‡è¶Šé«˜</span><br><span class="hljs-comment"># -vbsf h264_mp4toannexbï¼šæŒ‡å®šè§†é¢‘æ¯”ç‰¹æµè¿‡æ»¤å™¨çš„å‚æ•°ï¼Œå°†H.264ç¼–ç çš„è§†é¢‘æµè½¬æ¢ä¸ºAnnex Bæ ¼å¼</span><br><span class="hljs-comment"># -absf aac_adtstoascï¼šæŒ‡å®šéŸ³é¢‘æ¯”ç‰¹æµè¿‡æ»¤å™¨çš„å‚æ•°ï¼Œå°†AACç¼–ç çš„éŸ³é¢‘æµè½¬æ¢ä¸ºADTSæ ¼å¼</span><br><span class="hljs-comment"># -filter_complexï¼šæŒ‡å®šå¤æ‚æ»¤é•œå›¾çš„å‚æ•°ï¼Œå…è®¸ç”¨æˆ·åœ¨ä¸€ä¸ªå‘½ä»¤ä¸­åº”ç”¨å¤šä¸ªæ»¤é•œï¼Œä»¥å®ç°æ›´å¤æ‚çš„è§†é¢‘å¤„ç†</span><br><span class="hljs-comment">#     [0:0][0:1] [1:0][1:1] [2:0][2:1] concat=n=3:v=1:a=1 [v][a]ï¼šå°†3ä¸ªè§†é¢‘æµè¿æ¥åœ¨ä¸€èµ·å¹¶ä¿ç•™éŸ³é¢‘</span><br><span class="hljs-comment">#     [0:0][1:0][2:0][3:0] concat=n=4:v=1 [v]ï¼šä½¿ç”¨concatæ»¤é•œåŠŸèƒ½ï¼Œå°†4ä¸ªè§†é¢‘æµè¿æ¥åœ¨ä¸€èµ·</span><br><br><span class="hljs-comment"># mp4è½¬mpegï¼Œä½¿ç”¨mpegæ‹¼æ¥</span><br>ffmpeg <span class="hljs-literal">-i</span> test1.mp4 <span class="hljs-literal">-qscale</span> <span class="hljs-number">4</span> test1.mpg<br>ffmpeg <span class="hljs-literal">-i</span> test2.mp4 <span class="hljs-literal">-qscale</span> <span class="hljs-number">4</span> test2.mpg<br>ffmpeg <span class="hljs-literal">-i</span> <span class="hljs-string">&quot;concat:test1.mpg|test2.mpg&quot;</span> <span class="hljs-literal">-c</span>:v mpeg4 output.mp4<br><br><span class="hljs-comment"># mp4è½¬tsï¼Œä½¿ç”¨tsæ‹¼æ¥</span><br>ffmpeg <span class="hljs-literal">-i</span> test1.mp4 <span class="hljs-literal">-vcodec</span> <span class="hljs-built_in">copy</span> <span class="hljs-literal">-acodec</span> <span class="hljs-built_in">copy</span> <span class="hljs-literal">-vbsf</span> h264_mp4toannexb test1.ts<br>ffmpeg <span class="hljs-literal">-i</span> test2.mp4 <span class="hljs-literal">-vcodec</span> <span class="hljs-built_in">copy</span> <span class="hljs-literal">-acodec</span> <span class="hljs-built_in">copy</span> <span class="hljs-literal">-vbsf</span> h264_mp4toannexb test2.ts<br>ffmpeg <span class="hljs-literal">-i</span> <span class="hljs-string">&quot;concat:test1.ts|test2.ts&quot;</span> <span class="hljs-literal">-acodec</span> <span class="hljs-built_in">copy</span> <span class="hljs-literal">-vcodec</span> <span class="hljs-built_in">copy</span> <span class="hljs-literal">-absf</span> aac_adtstoasc output.mp4<br><br><span class="hljs-comment"># å°†3ä¸ªè§†é¢‘æ‹¼æ¥æˆä¸€ä¸ªå¾ˆé•¿çš„è§†é¢‘ï¼Œæœ‰å£°éŸ³(æä¾›çš„è§†é¢‘æ–‡ä»¶å¿…é¡»å­˜åœ¨éŸ³é¢‘æµï¼Œå¦åˆ™æŠ¥é”™)</span><br><span class="hljs-comment"># æŠ¥é”™ä¿¡æ¯ï¼šStream specifier &#x27;:a&#x27; in filtergraph description ... [v][a] matches no streams.</span><br>ffmpeg <span class="hljs-literal">-i</span> test1.mp4 <span class="hljs-literal">-i</span> test2.mp4 <span class="hljs-literal">-i</span> test3.mp4<br> <span class="hljs-literal">-filter_complex</span> <span class="hljs-string">&#x27;[0:0][0:1] [1:0][1:1] [2:0][2:1] concat=n=3:v=1:a=1 [v][a]&#x27;</span><br> <span class="hljs-literal">-map</span> [<span class="hljs-type">v</span>] <span class="hljs-literal">-map</span> [<span class="hljs-type">a</span>] output.mp4<br><span class="hljs-comment"># å°†4ä¸ªè§†é¢‘æ‹¼æ¥æˆä¸€ä¸ªå¾ˆé•¿çš„è§†é¢‘ï¼Œæ— å£°éŸ³</span><br>ffmpeg <span class="hljs-literal">-i</span> test1.mp4 <span class="hljs-literal">-i</span> test2.mp4 <span class="hljs-literal">-i</span> test3.mp4 <span class="hljs-literal">-i</span> test4.mp4<br> <span class="hljs-literal">-filter_complex</span> <span class="hljs-string">&#x27;[0:0][1:0][2:0][3:0] concat=n=4:v=1 [v]&#x27;</span> <span class="hljs-literal">-map</span> [<span class="hljs-type">v</span>] output.mp4<br></code></pre></td></tr></table></figure><h2 id="4-2-è§†é¢‘åˆå¹¶"><a href="#4-2-è§†é¢‘åˆå¹¶" class="headerlink" title="4-2 è§†é¢‘åˆå¹¶"></a>4-2 è§†é¢‘åˆå¹¶</h2><ul><li>è§†é¢‘åˆå¹¶<ul><li>å½“ä¸¤ä¸ªè§†é¢‘åˆå¹¶æ—¶ï¼Œå„è‡ªçš„éŸ³é¢‘æµå¤„ç†æ–¹å¼å¯ä»¥åˆ†ä¸‰ç§æƒ…å†µã€‚</li><li>è‹¥ä¸¤ä¸ªè§†é¢‘çš„éŸ³é¢‘æµç›¸åŒï¼Œå¯é€‰æ‹©ä¿ç•™å…¶ä¸­ä¸€ä¸ªè§†é¢‘çš„éŸ³é¢‘æµï¼Œæˆ–å°†ä¸¤ä¸ªéŸ³é¢‘æµæ··åˆåœ¨ä¸€èµ·ã€‚</li><li>è‹¥ä¸¤ä¸ªè§†é¢‘çš„éŸ³é¢‘æµä¸åŒï¼Œå¯é€‰æ‹©ä¿ç•™å…¶ä¸­ä¸€ä¸ªè§†é¢‘çš„éŸ³é¢‘æµï¼Œæˆ–å°†å…¶ä¸­ä¸€è§†é¢‘çš„éŸ³é¢‘é™éŸ³ã€‚</li><li>å¦‚æœæƒ³ä¿ç•™ä¸¤ä¸ªè§†é¢‘çš„éŸ³é¢‘æµï¼Œå¯ä»¥ä½¿ç”¨éŸ³é¢‘æ··åˆçš„æ–¹å¼å°†å…¶åˆå¹¶ï¼Œä»¥ä¿ç•™ä¸¤ä¸ªè§†é¢‘çš„å£°éŸ³ã€‚</li></ul></li></ul><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs Powershell"><span class="hljs-comment"># -lavfi hstackï¼šæ°´å¹³å åŠ è§†é¢‘</span><br><span class="hljs-comment"># -lavfi vstackï¼šå‚ç›´å åŠ è§†é¢‘</span><br><span class="hljs-comment"># [0:a][1:a]amix=inputs=2:duration=longest</span><br><span class="hljs-comment"># ä½¿ç”¨amixæ»¤é•œï¼Œå°†ä¸¤ä¸ªéŸ³é¢‘æµæ··åˆåœ¨ä¸€èµ·ï¼Œå¹¶æŒ‡å®šæ··åˆåéŸ³é¢‘æµçš„æŒç»­æ—¶é—´ä¸ºæœ€é•¿çš„é‚£ä¸ªéŸ³é¢‘æµçš„æŒç»­æ—¶é—´</span><br><span class="hljs-comment"># -strict experimentalï¼šæŸäº›ç¼–ç å™¨å¯èƒ½éœ€è¦æ­¤é€‰é¡¹æ¥å¯ç”¨å®éªŒæ€§åŠŸèƒ½ï¼Œæ–°ç‰ˆä¸å†éœ€è¦æ­¤é€‰é¡¹</span><br><span class="hljs-comment"># -filter_complexï¼šæŒ‡å®šå¤æ‚æ»¤é•œå›¾çš„å‚æ•°ï¼Œå…è®¸ç”¨æˆ·åœ¨ä¸€ä¸ªå‘½ä»¤ä¸­åº”ç”¨å¤šä¸ªæ»¤é•œï¼Œä»¥å®ç°æ›´å¤æ‚çš„è§†é¢‘å¤„ç†</span><br><span class="hljs-comment">#     [0:v]pad=iw*2:ih*1[a];[a][1:v]overlay=wï¼šå¯¹ç¬¬ä¸€ä¸ªè§†é¢‘æµè¿›è¡Œå¡«å……ï¼Œç„¶åå†ä¸ç¬¬äºŒä¸ªè§†é¢‘æµè¿›è¡Œå åŠ </span><br><span class="hljs-comment">#     [0:v]pad=iw*3:ih*1[a];[a][1:v]overlay=w[b];[b][2:v]overlay=2.0*w</span><br><span class="hljs-comment">#     å¯¹ç¬¬ä¸€ä¸ªè§†é¢‘æµè¿›è¡Œå¡«å……ï¼Œç„¶åä¸ç¬¬äºŒä¸ªè§†é¢‘æµå åŠ å¹¶ä¿å­˜åˆ°å˜é‡bä¸­ï¼Œæœ€åbä¸­è§†é¢‘æµå†ä¸ç¬¬ä¸‰ä¸ªè§†é¢‘æµå åŠ </span><br><br><span class="hljs-comment"># 2ä¸ªè§†é¢‘æ°´å¹³åˆå¹¶ï¼Œåªä¿ç•™test1.mp4çš„éŸ³é¢‘(å‚ç›´åˆå¹¶ä½¿ç”¨vstackå‚æ•°)</span><br>ffmpeg <span class="hljs-literal">-i</span> test1.mp4 <span class="hljs-literal">-i</span> test2.mp4 <span class="hljs-literal">-lavfi</span> hstack hstack.mp4<br>ffmpeg <span class="hljs-literal">-i</span> test1.mp4 <span class="hljs-literal">-i</span> test2.mp4 <span class="hljs-literal">-filter_complex</span> hstack hstack.mp4<br><span class="hljs-comment"># ä¿ç•™å¹¶åˆå¹¶å„è‡ªçš„éŸ³é¢‘ï¼Œã€é¦–å…ˆã€‘éœ€è¦å„è‡ªæå–è§†é¢‘ä¸­çš„éŸ³é¢‘</span><br>ffmpeg <span class="hljs-literal">-i</span> test1.mp4 <span class="hljs-literal">-vn</span> <span class="hljs-literal">-y</span> <span class="hljs-literal">-acodec</span> <span class="hljs-built_in">copy</span> audio1.m4a<br>ffmpeg <span class="hljs-literal">-i</span> test2.mp4 <span class="hljs-literal">-vn</span> <span class="hljs-literal">-y</span> <span class="hljs-literal">-acodec</span> <span class="hljs-built_in">copy</span> audio2.m4a<br><span class="hljs-comment"># ã€ç„¶åã€‘åˆå¹¶éŸ³é¢‘</span><br>ffmpeg <span class="hljs-literal">-i</span> audio1.m4a <span class="hljs-literal">-i</span> audio2.m4a<br> <span class="hljs-literal">-filter_complex</span> <span class="hljs-string">&quot;[0:a][1:a]amix=inputs=2:duration=longest&quot;</span> audio3.mp3<br><span class="hljs-comment"># ã€æœ€åã€‘å°†åˆå¹¶éŸ³é¢‘audio3.mp3å†åˆå¹¶å›åŸå…ˆå·²åˆå¹¶çš„è§†é¢‘hstack.mp4ä¸­</span><br>ffmpeg <span class="hljs-literal">-i</span> hstack.mp4 <span class="hljs-literal">-i</span> audio3.mp3 <span class="hljs-literal">-c</span>:v <span class="hljs-built_in">copy</span> <span class="hljs-literal">-c</span>:a aac <span class="hljs-literal">-strict</span> experimental output.mp4<br><br><span class="hljs-comment"># 3ä¸ªè§†é¢‘æ°´å¹³åˆå¹¶ï¼Œåªä¿ç•™test1.mp4çš„éŸ³é¢‘</span><br>ffmpeg <span class="hljs-literal">-i</span> test1.mp4 <span class="hljs-literal">-i</span> test2.mp4 <span class="hljs-literal">-i</span> test3.mp4 <span class="hljs-literal">-lavfi</span> hstack=inputs=<span class="hljs-number">3</span> output.mp4<br><br><span class="hljs-comment"># æ¨ªå‘åˆå¹¶2ä¸ªè§†é¢‘</span><br>ffmpeg <span class="hljs-literal">-i</span> test1.mp4 <span class="hljs-literal">-i</span> test2.mp4<br> <span class="hljs-literal">-filter_complex</span> <span class="hljs-string">&quot;[0:v]pad=iw*2:ih*1[a];[a][1:v]overlay=w&quot;</span> output.mp4<br><span class="hljs-comment"># ç«–å‘åˆå¹¶2ä¸ªè§†é¢‘</span><br>ffmpeg <span class="hljs-literal">-i</span> test1.mp4 <span class="hljs-literal">-i</span> test2.mp4<br> <span class="hljs-literal">-filter_complex</span> <span class="hljs-string">&quot;[0:v]pad=iw:ih*2[a];[a][1:v]overlay=0:h&quot;</span> output.mp4<br><br><span class="hljs-comment"># æ¨ªå‘åˆå¹¶3ä¸ªè§†é¢‘</span><br>ffmpeg <span class="hljs-literal">-i</span> test1.mp4 <span class="hljs-literal">-i</span> test2.mp4 <span class="hljs-literal">-i</span> test3.mp4<br> <span class="hljs-literal">-filter_complex</span> <span class="hljs-string">&quot;[0:v]pad=iw*3:ih*1[a];[a][1:v]overlay=w[b];[b][2:v]overlay=2.0*w&quot;</span> output.mp4<br><span class="hljs-comment"># ç«–å‘åˆå¹¶3ä¸ªè§†é¢‘</span><br>ffmpeg <span class="hljs-literal">-i</span> test1.mp4 <span class="hljs-literal">-i</span> test2.mp4 <span class="hljs-literal">-i</span> test3.mp4<br> <span class="hljs-literal">-filter_complex</span> <span class="hljs-string">&quot;[0:v]pad=iw:ih*3[a];[a][1:v]overlay=0:h[b];[b][2:v]overlay=0:2.0*h&quot;</span> output.mp4<br><br><span class="hljs-comment"># 2x2æ–¹å¼æ’åˆ—åˆå¹¶4ä¸ªè§†é¢‘</span><br>ffmpeg <span class="hljs-literal">-i</span> test1.mp4 <span class="hljs-literal">-i</span> test2.mp4 <span class="hljs-literal">-i</span> test3.mp4 <span class="hljs-literal">-i</span> test4.mp4<br> <span class="hljs-literal">-filter_complex</span> <span class="hljs-string">&quot;[0:v]pad=iw*2:ih*2[a];</span><br><span class="hljs-string"> [a][1:v]overlay=w[b];[b][2:v]overlay=0:h[c];[c][3:v]overlay=w:h&quot;</span> output.mp4<br></code></pre></td></tr></table></figure><h2 id="4-3-æ·»åŠ æ°´å°"><a href="#4-3-æ·»åŠ æ°´å°" class="headerlink" title="4-3 æ·»åŠ æ°´å°"></a>4-3 æ·»åŠ æ°´å°</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs Powershell"><span class="hljs-comment"># movie=test.jpg[logo];[in][logo]overlay=10:10:1[out]</span><br><span class="hljs-comment"># overlay=10:10:1ï¼šlogoä½äºå·¦ä¸Šè§’å¤„ï¼Œå·¦è·10åƒç´ ï¼Œä¸Šè·10åƒç´ ï¼Œ1è¡¨ç¤ºlogoé€æ˜åº¦</span><br><span class="hljs-comment"># [0:v][1:v]overlay=10:10:enable=&#x27;between(t,0,5)&#x27;ï¼š[1:v]å°†test.jpgçœ‹æˆä¸€ä¸ªè§†é¢‘æµ</span><br><span class="hljs-comment"># å°†ç¬¬äºŒä¸ªè§†é¢‘æµå åŠ åˆ°ç¬¬ä¸€ä¸ªè§†é¢‘æµçš„(10,10)ä½ç½®ä¸Šï¼Œå¹¶ä¸”å åŠ æ“ä½œå‘ç”Ÿåœ¨è§†é¢‘çš„0ç§’åˆ°5ç§’ä¹‹é—´</span><br><span class="hljs-comment"># -ignore_loop 0ï¼šæŒ‡å®šå¾ªç¯æ’­æ”¾</span><br><span class="hljs-comment"># -filter_complex overlay=0:H-hï¼šå åŠ åˆ°åº•éƒ¨å¹¶æŒ‡å®šä½ç½®ï¼Œ0å’ŒH-håˆ†åˆ«æŒ‡æ¨ªçºµåæ ‡çš„èµ·å§‹ä½ç½®</span><br><span class="hljs-comment"># drawtext=fontfile=test.ttf:text=&#x27;æ·»åŠ æ–‡å­—æ°´å°&#x27;:x=100:y=10:fontsize=24:fontcolor=yellow:shadowy=2</span><br><span class="hljs-comment"># è®¾ç½®æ°´å°çš„å­—ä½“æ ·å¼ã€æ–‡æœ¬å†…å®¹ã€ä½ç½®ã€å­—ä½“å¤§å°ã€å­—ä½“é¢œè‰²å’Œé˜´å½±æ•ˆæœ</span><br><br><span class="hljs-comment"># æ·»åŠ å›¾ç‰‡æ°´å°ï¼Œéœ€è¦æä¾›test.jpg</span><br>ffmpeg <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-vf</span> <span class="hljs-string">&quot;movie=test.jpg[logo];[in][logo]overlay=10:10:1[out]&quot;</span> output.mp4<br><span class="hljs-comment"># Linuxä¸‹å¯èƒ½è­¦å‘Šï¼šEOF timestamp not reliable</span><br><span class="hljs-comment"># è¿™æ˜¯ç”±äºmovieæ»¤é•œæ— æ³•å‡†ç¡®è·å–test.jpgçš„æ—¶é•¿ä¿¡æ¯è€Œå¼•èµ·çš„</span><br><span class="hljs-comment"># å¯ä»¥ä½¿ç”¨enableé€‰é¡¹æ¥æ‰‹åŠ¨è®¾ç½®overlayæ»¤é•œçš„ç”Ÿæ•ˆæ—¶é—´æ®µ</span><br>ffmpeg <span class="hljs-literal">-i</span> test.mp4<br> <span class="hljs-literal">-i</span> test.jpg <span class="hljs-literal">-filter_complex</span> <span class="hljs-string">&quot;[0:v][1:v]overlay=10:10:enable=&#x27;between(t,0,5)&#x27;&quot;</span> output.mp4<br><span class="hljs-comment"># æ·»åŠ å›¾ç‰‡æ°´å°ï¼Œéœ€è¦æä¾›test.jpg</span><br>ffmpeg <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-i</span> test.jpg <span class="hljs-literal">-filter_complex</span> overlay output.mp4<br><span class="hljs-comment"># æ·»åŠ å›¾ç‰‡æ°´å°ï¼Œéœ€è¦æä¾›test.jpg</span><br>ffmpeg <span class="hljs-literal">-i</span> test.mp4<br> <span class="hljs-literal">-vf</span> <span class="hljs-string">&quot;movie=test.jpg[logo];[in][logo]overlay=10:10:1[out]&quot;</span> <span class="hljs-literal">-acodec</span> <span class="hljs-built_in">copy</span> output.mp4<br><br><span class="hljs-comment"># æ·»åŠ GIFï¼Œéœ€è¦æä¾›test.gif</span><br>ffmpeg <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-ignore_loop</span> <span class="hljs-number">0</span> <span class="hljs-literal">-i</span> test.gif <span class="hljs-literal">-filter_complex</span> overlay=<span class="hljs-number">0</span>:<span class="hljs-built_in">H</span><span class="hljs-literal">-h</span> output.mp4<br><br><span class="hljs-comment"># æ·»åŠ æ–‡å­—æ°´å°ï¼Œéœ€è¦æä¾›test.ttf</span><br>ffmpeg <span class="hljs-literal">-i</span> test.flv<br> <span class="hljs-literal">-vf</span> <span class="hljs-string">&quot;drawtext=fontfile=test.ttf:text=&#x27;æ·»åŠ æ–‡å­—æ°´å°&#x27;:</span><br><span class="hljs-string"> x=100:y=10:fontsize=24:fontcolor=yellow:shadowy=2&quot;</span> output.mp4<br></code></pre></td></tr></table></figure><h1 id="5-ç”»é¢æ—‹è½¬"><a href="#5-ç”»é¢æ—‹è½¬" class="headerlink" title="5 ç”»é¢æ—‹è½¬"></a>5 ç”»é¢æ—‹è½¬</h1><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs Powershell"><span class="hljs-comment"># -metadata:s:v rotate=&quot;90&quot;ï¼šè¡¨ç¤ºå°†è§†é¢‘çš„æ—‹è½¬å±æ€§è®¾ç½®ä¸º90åº¦</span><br><span class="hljs-comment"># -vf &quot;transpose=1&quot;ï¼šè¡¨ç¤ºä½¿ç”¨transposeæ»¤é•œå°†è§†é¢‘é¡ºæ—¶é’ˆæ—‹è½¬90åº¦</span><br><span class="hljs-comment"># -vf hflipï¼šè¡¨ç¤ºä½¿ç”¨FFmpegæ¡†æ¶ä¸­çš„hflipæ»¤é•œå°†è§†é¢‘è¿›è¡Œæ°´å¹³ç¿»è½¬</span><br><br><span class="hljs-comment"># æ—‹è½¬90Â°</span><br>ffmpeg <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-metadata</span>:s:v rotate=<span class="hljs-string">&quot;90&quot;</span> <span class="hljs-literal">-codec</span> <span class="hljs-built_in">copy</span> output.mp4<br><br><span class="hljs-comment"># é¡ºæ—¶é’ˆæ—‹è½¬90Â°</span><br>ffmpeg <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-vf</span> <span class="hljs-string">&quot;transpose=1&quot;</span> output.mp4<br><span class="hljs-comment"># é€†æ—¶é’ˆæ—‹è½¬90Â°</span><br>ffmpeg <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-vf</span> <span class="hljs-string">&quot;transpose=2&quot;</span> output.mp4<br><br><span class="hljs-comment"># æ°´å¹³ç¿»è½¬</span><br>ffmpeg <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-vf</span> hflip output.mp4<br><span class="hljs-comment"># å‚ç›´ç¿»è½¬</span><br>ffmpeg <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-vf</span> vflip output.mp4<br><br><span class="hljs-comment"># é¡ºæ—¶é’ˆæ—‹è½¬90Â°åå†æ°´å¹³ç¿»è½¬</span><br>ffmpeg <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-vf</span> <span class="hljs-string">&quot;transpose=3&quot;</span> output.mp4<br><span class="hljs-comment"># é€†æ—¶é’ˆæ—‹è½¬90Â°åå†æ°´å¹³ç¿»è½¬</span><br>ffmpeg <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-vf</span> <span class="hljs-string">&quot;transpose=0&quot;</span> output.mp4<br></code></pre></td></tr></table></figure><h1 id="6-è§†é¢‘è½¬ç "><a href="#6-è§†é¢‘è½¬ç " class="headerlink" title="6 è§†é¢‘è½¬ç "></a>6 è§†é¢‘è½¬ç </h1><ul><li>è§†é¢‘è½¬ç <ul><li>è½¬æ–‡ä»¶æ ¼å¼<ul><li>é€šå¸¸æŒ‡çš„æ˜¯æ”¹å˜è§†é¢‘æ–‡ä»¶çš„å®¹å™¨æ ¼å¼ï¼Œå³æ”¹å˜è§†é¢‘æ•°æ®çš„å°è£…æ–¹å¼ï¼Œä½†ä¸ä¼šæ”¹å˜è§†é¢‘çš„ç¼–ç æ–¹å¼ã€‚</li><li>å¯èƒ½å½±å“è§†é¢‘å…¼å®¹æ€§å’ŒåŠŸèƒ½ï¼Œä½†ä¸æ”¹å˜è§†é¢‘çš„å‹ç¼©ç®—æ³•ï¼Œå¸¸è§æ ¼å¼åŒ…æ‹¬MP4ã€AVIã€FLVã€MKVç­‰ã€‚</li></ul></li><li>è½¬ç¼–ç æ ¼å¼<ul><li>é€šå¸¸æŒ‡æ”¹å˜è§†é¢‘æ–‡ä»¶çš„ç¼–ç æ–¹å¼ï¼Œå³æ”¹å˜è§†é¢‘æ•°æ®çš„å‹ç¼©æ ¼å¼ä»¥åŠç®—æ³•ï¼Œè€Œä¸æ”¹å˜è§†é¢‘çš„å®¹å™¨æ ¼å¼ã€‚</li><li>å¯èƒ½å½±å“è§†é¢‘è´¨é‡ã€å¤§å°å’Œå…¼å®¹æ€§ï¼Œä½†ä¸æ”¹å˜æ–‡ä»¶ç±»å‹ï¼Œå¸¸è§æ ¼å¼æœ‰H.264ã€H.265ã€MPEG-4ç­‰ã€‚</li></ul></li><li>è½¬ç¼–ç æ ¼å¼ä¸»è¦å…³æ³¨è§†é¢‘æ•°æ®çš„å‹ç¼©å’Œç¼–ç æ–¹å¼ï¼Œè€Œè½¬æ–‡ä»¶æ ¼å¼ä¸»è¦å…³æ³¨è§†é¢‘æ•°æ®çš„å°è£…ä»¥åŠå­˜å‚¨æ–¹å¼ã€‚</li></ul></li></ul><h2 id="6-1-è½¬æ–‡ä»¶æ ¼å¼"><a href="#6-1-è½¬æ–‡ä»¶æ ¼å¼" class="headerlink" title="6-1 è½¬æ–‡ä»¶æ ¼å¼"></a>6-1 è½¬æ–‡ä»¶æ ¼å¼</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs Powershell"><span class="hljs-comment"># ffmpeg -i [input_file] [output_file]ï¼šåŸºæœ¬å‘½ä»¤ï¼Œå»ºè®®å¸¦å…¶ä»–å‚æ•°ï¼Œå¦‚ç¼–è§£ç å™¨ã€è§†é¢‘è´¨é‡ç­‰</span><br><span class="hljs-comment"># -bsf:v h264_mp4toannexbï¼šå®šä¹‰æ¯”ç‰¹æµè¿‡æ»¤å™¨ï¼Œå°†H.264ç¼–ç çš„è§†é¢‘æµè½¬æ¢ä¸ºMP4æ ¼å¼çš„AnnexBæ ¼å¼</span><br><span class="hljs-comment"># -loglevel errorï¼šç”¨äºè®¾ç½®æ—¥å¿—çº§åˆ«ï¼Œæ§åˆ¶è¾“å‡ºçš„è¯¦ç»†ç¨‹åº¦</span><br><span class="hljs-comment">#     quietï¼šæœ€ä½çš„æ—¥å¿—çº§åˆ«ï¼Œä¸è¾“å‡ºä»»ä½•ä¿¡æ¯</span><br><span class="hljs-comment">#     panicï¼šåªè¾“å‡ºè‡´å‘½é”™è¯¯ä¿¡æ¯</span><br><span class="hljs-comment">#     fatalï¼šåªè¾“å‡ºè‡´å‘½é”™è¯¯ä¿¡æ¯å’Œé”™è¯¯ä¿¡æ¯</span><br><span class="hljs-comment">#     errorï¼šåªè¾“å‡ºé”™è¯¯ä¿¡æ¯</span><br><span class="hljs-comment">#     warningï¼šè¾“å‡ºè­¦å‘Šä¿¡æ¯å’Œé”™è¯¯ä¿¡æ¯</span><br><span class="hljs-comment">#     infoï¼šè¾“å‡ºè¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬è­¦å‘Šä¿¡æ¯ã€é”™è¯¯ä¿¡æ¯å’Œä¸€èˆ¬ä¿¡æ¯</span><br><span class="hljs-comment">#     verboseï¼šè¾“å‡ºæ›´å¤šè¯¦ç»†ä¿¡æ¯</span><br><span class="hljs-comment">#     debugï¼šè¾“å‡ºè°ƒè¯•ä¿¡æ¯ï¼Œæœ€è¯¦ç»†çš„æ—¥å¿—çº§åˆ«</span><br><br><span class="hljs-comment"># 3gpè½¬avi</span><br>ffmpeg <span class="hljs-literal">-i</span> test.<span class="hljs-number">3</span><span class="hljs-built_in">gp</span> <span class="hljs-operator">-f</span> avi <span class="hljs-literal">-vcodec</span> libxvid <span class="hljs-literal">-acodec</span> mp3 <span class="hljs-literal">-ar</span> <span class="hljs-number">22050</span> output.avi<br><span class="hljs-comment"># mkvè½¬avi</span><br>ffmpeg <span class="hljs-literal">-i</span> test.mkv <span class="hljs-literal">-vcodec</span> <span class="hljs-built_in">copy</span> <span class="hljs-literal">-acodec</span> <span class="hljs-built_in">copy</span> <span class="hljs-literal">-bsf</span>:v h264_mp4toannexb output.avi<br><br><span class="hljs-comment"># h264è½¬ts</span><br>ffmpeg <span class="hljs-literal">-i</span> test.h264 <span class="hljs-literal">-c</span>:v libx264 <span class="hljs-literal">-c</span>:a aac output.ts<br><span class="hljs-comment"># wmvè½¬flv</span><br>ffmpeg <span class="hljs-literal">-i</span> test.wmv <span class="hljs-literal">-c</span>:v flv <span class="hljs-literal">-c</span>:a libmp3lame output.flv<br><span class="hljs-comment"># aviè½¬mpeg</span><br>ffmpeg <span class="hljs-literal">-i</span> test.avi <span class="hljs-literal">-aspect</span> <span class="hljs-number">16</span>:<span class="hljs-number">9</span> <span class="hljs-literal">-maxrate</span> <span class="hljs-number">2</span>M <span class="hljs-literal">-bufsize</span> <span class="hljs-number">5</span>M output.mpeg<br><br><span class="hljs-comment"># mp3è½¬pcm</span><br><span class="hljs-comment"># Linuxä¸‹å¯èƒ½è­¦å‘Šï¼šEstimating duration from bitrate, this may be inaccurate</span><br><span class="hljs-comment"># è¿™æ˜¯ç”±äºFFmpegåœ¨å¤„ç†MP3è¾“å…¥æ–‡ä»¶æ—¶ï¼Œæ ¹æ®æ¯”ç‰¹ç‡æ¥ä¼°ç®—æŒç»­æ—¶é—´ï¼Œä½†è¿™ç§ä¼°ç®—å¯èƒ½ä¸å‡†ç¡®å¯¼è‡´</span><br>ffmpeg <span class="hljs-literal">-i</span> test.mp3 <span class="hljs-operator">-f</span> s16le <span class="hljs-literal">-acodec</span> pcm_s16le <span class="hljs-literal">-ar</span> <span class="hljs-number">44100</span> output.pcm<br>ffmpeg <span class="hljs-literal">-i</span> test.mp3 <span class="hljs-operator">-f</span> s16le <span class="hljs-literal">-acodec</span> pcm_s16le <span class="hljs-literal">-ar</span> <span class="hljs-number">44100</span> <span class="hljs-literal">-hide_banner</span> <span class="hljs-literal">-loglevel</span> error output.pcm<br><br><span class="hljs-comment"># mp3è½¬wav</span><br><span class="hljs-comment"># Linuxä¸‹å¯èƒ½è­¦å‘Šï¼šEstimating duration from bitrate, this may be inaccurate</span><br>ffmpeg <span class="hljs-literal">-i</span> test.mp3 output.wav<br>ffmpeg <span class="hljs-literal">-i</span> test.mp3 <span class="hljs-literal">-hide_banner</span> <span class="hljs-literal">-loglevel</span> error output.wav<br></code></pre></td></tr></table></figure><h4 id="1-flvè½¬å…¶ä»–"><a href="#1-flvè½¬å…¶ä»–" class="headerlink" title="(1) flvè½¬å…¶ä»–"></a>(1) flvè½¬å…¶ä»–</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Powershell"><span class="hljs-comment"># -b:v 640kï¼šè®¾ç½®è§†é¢‘çš„æ¯”ç‰¹ç‡ä¸º640kbps</span><br><span class="hljs-comment"># -b:a 128kï¼šè®¾ç½®éŸ³é¢‘çš„æ¯”ç‰¹ç‡ä¸º128kbps</span><br><br><span class="hljs-comment"># flvè½¬mp4</span><br>ffmpeg <span class="hljs-literal">-i</span> test.flv <span class="hljs-literal">-b</span>:v <span class="hljs-number">640</span>k output.mp4<br><br><span class="hljs-comment"># flvè½¬mp4</span><br>ffmpeg <span class="hljs-literal">-i</span> test.flv<br> <span class="hljs-literal">-b</span>:v <span class="hljs-number">200</span>k <span class="hljs-literal">-ac</span> <span class="hljs-number">2</span> <span class="hljs-literal">-r</span> <span class="hljs-number">25</span> <span class="hljs-literal">-vcodec</span> h264 <span class="hljs-literal">-acodec</span> mp3 <span class="hljs-literal">-b</span>:a <span class="hljs-number">128</span>k <span class="hljs-literal">-ar</span> <span class="hljs-number">44100</span> output.mp4<br><br><span class="hljs-comment"># flvè½¬3gp</span><br>ffmpeg <span class="hljs-literal">-i</span> test.flv<br> <span class="hljs-literal">-b</span>:v <span class="hljs-number">200</span>k <span class="hljs-literal">-ac</span> <span class="hljs-number">1</span> <span class="hljs-literal">-r</span> <span class="hljs-number">25</span> <span class="hljs-literal">-vcodec</span> h263 <span class="hljs-literal">-acodec</span> aac <span class="hljs-literal">-b</span>:a <span class="hljs-number">128</span>k <span class="hljs-literal">-ar</span> <span class="hljs-number">8000</span> <span class="hljs-literal">-s</span> <span class="hljs-number">176</span>x144 output.<span class="hljs-number">3</span><span class="hljs-built_in">gp</span><br></code></pre></td></tr></table></figure><h4 id="2-å…¶ä»–è½¬3gp"><a href="#2-å…¶ä»–è½¬3gp" class="headerlink" title="(2) å…¶ä»–è½¬3gp"></a>(2) å…¶ä»–è½¬3gp</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Powershell"><span class="hljs-comment"># mpegè½¬3gp</span><br><span class="hljs-comment"># Linuxä¸‹å¯èƒ½è­¦å‘Šï¼šPast duration 0.748665 too large</span><br><span class="hljs-comment"># è¿™æ˜¯ç”±äºè§†é¢‘æ–‡ä»¶æœ¬èº«çš„é—®é¢˜ï¼Œæˆ–æ˜¯åœ¨è§†é¢‘å¤„ç†è¿‡ç¨‹ä¸­å‡ºç°äº†ä¸€äº›æ„å¤–æƒ…å†µ</span><br><span class="hljs-comment"># FFmpegæ£€æµ‹åˆ°æ—¶é—´æˆ³è¿‡å¤§çš„æƒ…å†µï¼Œå¯èƒ½ä¼šå¯¼è‡´è§†é¢‘å¤„ç†è¿‡ç¨‹ä¸­çš„ä¸€äº›ä¸ç¡®å®šæ€§å’Œé”™è¯¯</span><br>ffmpeg <span class="hljs-literal">-i</span> test.mpeg<br> <span class="hljs-literal">-y</span> <span class="hljs-literal">-ar</span> <span class="hljs-number">22500</span> <span class="hljs-literal">-r</span> <span class="hljs-number">15</span> <span class="hljs-literal">-ac</span> <span class="hljs-number">2</span> <span class="hljs-literal">-s</span> <span class="hljs-number">176</span>x144 <span class="hljs-literal">-c</span>:v h263 <span class="hljs-literal">-b</span>:v <span class="hljs-number">128</span>k <span class="hljs-literal">-c</span>:a aac <span class="hljs-literal">-b</span>:a <span class="hljs-number">24</span>k <span class="hljs-operator">-f</span> <span class="hljs-number">3</span><span class="hljs-built_in">gp</span> output.<span class="hljs-number">3</span><span class="hljs-built_in">gp</span><br><br><span class="hljs-comment"># wmvè½¬3gp</span><br>ffmpeg <span class="hljs-literal">-i</span> test.wmv<br> <span class="hljs-literal">-y</span> <span class="hljs-literal">-ar</span> <span class="hljs-number">08000</span> <span class="hljs-literal">-r</span> <span class="hljs-number">15</span> <span class="hljs-literal">-ac</span> <span class="hljs-number">1</span> <span class="hljs-literal">-s</span> <span class="hljs-number">176</span>x144 <span class="hljs-literal">-ab</span> <span class="hljs-number">12200</span> <span class="hljs-literal">-acodec</span> libamr_nb <span class="hljs-literal">-b</span>:v <span class="hljs-number">128</span>k output.<span class="hljs-number">3</span><span class="hljs-built_in">gp</span><br><br><span class="hljs-comment"># aviè½¬3gp</span><br>ffmpeg <span class="hljs-literal">-i</span> test.avi<br> <span class="hljs-literal">-y</span> <span class="hljs-literal">-ar</span> <span class="hljs-number">08000</span> <span class="hljs-literal">-r</span> <span class="hljs-number">25</span> <span class="hljs-literal">-ac</span> <span class="hljs-number">1</span> <span class="hljs-literal">-s</span> <span class="hljs-number">352</span>x288 <span class="hljs-literal">-ab</span> <span class="hljs-number">32</span>k<br> <span class="hljs-literal">-vcodec</span> h263 <span class="hljs-literal">-acodec</span> libopencore_amrnb <span class="hljs-literal">-b</span>:v <span class="hljs-number">128</span>k output.<span class="hljs-number">3</span><span class="hljs-built_in">gp</span><br></code></pre></td></tr></table></figure><h4 id="3-mp4è½¬å…¶ä»–"><a href="#3-mp4è½¬å…¶ä»–" class="headerlink" title="(3) mp4è½¬å…¶ä»–"></a>(3) mp4è½¬å…¶ä»–</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs Powershell"><span class="hljs-comment"># -c copyï¼šæŒ‡å®šå¤åˆ¶åŸå§‹ç¼–è§£ç å™¨è€Œä¸è¿›è¡Œé‡æ–°ç¼–ç ï¼Œä»¥é¿å…è´¨é‡æŸå¤±æˆ–åŠ å¿«è½¬æ¢é€Ÿåº¦</span><br><span class="hljs-comment"># -c:v copy -c:a copyï¼šåœ¨ä¸é‡æ–°ç¼–ç çš„æƒ…å†µä¸‹ï¼Œç›´æ¥ä»æºæ–‡ä»¶ä¸­å¤åˆ¶è§†é¢‘æµå’ŒéŸ³é¢‘æµåˆ°è¾“å‡ºæ–‡ä»¶ä¸­</span><br><span class="hljs-comment"># -acodec copy -vcodec copyï¼šåœ¨ä¸é‡æ–°ç¼–ç çš„æƒ…å†µä¸‹ï¼Œç›´æ¥ä»æºæ–‡ä»¶ä¸­å¤åˆ¶éŸ³é¢‘æµå’Œè§†é¢‘æµåˆ°è¾“å‡ºæ–‡ä»¶ä¸­</span><br><span class="hljs-comment"># -q:v 2ï¼šè®¾ç½®è§†é¢‘çš„è´¨é‡ï¼Œå–å€¼èŒƒå›´æ˜¯0åˆ°31ï¼Œ0è¡¨ç¤ºæœ€é«˜è´¨é‡ï¼Œ31è¡¨ç¤ºæœ€ä½è´¨é‡</span><br><br><span class="hljs-comment"># mp4è½¬avi</span><br>ffmpeg <span class="hljs-literal">-i</span> test.mp4 output.avi<br><span class="hljs-comment"># mp4è½¬mkv</span><br>ffmpeg <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-c</span> <span class="hljs-built_in">copy</span> output.mkv<br><br><span class="hljs-comment"># mp4è½¬flv</span><br>ffmpeg <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-b</span>:v <span class="hljs-number">640</span>k output.flv<br><span class="hljs-comment"># mp4è½¬flv</span><br>ffmpeg <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-c</span>:v libx264 <span class="hljs-literal">-ar</span> <span class="hljs-number">22050</span> <span class="hljs-literal">-crf</span> <span class="hljs-number">28</span> output.flv<br><span class="hljs-comment"># mp4è½¬flv</span><br>ffmpeg <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-acodec</span> <span class="hljs-built_in">copy</span> <span class="hljs-literal">-vcodec</span> <span class="hljs-built_in">copy</span> <span class="hljs-operator">-f</span> flv output.flv<br><br><span class="hljs-comment"># mp4è½¬ts</span><br>ffmpeg <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-c</span>:v <span class="hljs-built_in">copy</span> <span class="hljs-literal">-c</span>:a <span class="hljs-built_in">copy</span> output.ts<br><span class="hljs-comment"># mp4è½¬wmv</span><br>ffmpeg <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-c</span>:v wmv2 <span class="hljs-literal">-b</span>:v <span class="hljs-number">1024</span>k <span class="hljs-literal">-c</span>:a wmav2 <span class="hljs-literal">-b</span>:a <span class="hljs-number">192</span>k output.wmv<br><span class="hljs-comment"># mp4è½¬h264</span><br>ffmpeg <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-c</span>:v libx264 <span class="hljs-literal">-c</span>:a aac <span class="hljs-literal">-crf</span> <span class="hljs-number">23</span> <span class="hljs-literal">-preset</span> medium <span class="hljs-literal">-b</span>:v <span class="hljs-number">1</span>M output.h264<br><span class="hljs-comment"># mp4è½¬3gp</span><br>ffmpeg <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-s</span> <span class="hljs-number">176</span>x144 <span class="hljs-literal">-vcodec</span> h263 <span class="hljs-literal">-r</span> <span class="hljs-number">25</span> <span class="hljs-literal">-b</span>:v <span class="hljs-number">12200</span> <span class="hljs-literal">-ab</span> <span class="hljs-number">12200</span> <span class="hljs-literal">-ac</span> <span class="hljs-number">1</span> <span class="hljs-literal">-ar</span> <span class="hljs-number">8000</span> output.<span class="hljs-number">3</span><span class="hljs-built_in">gp</span><br><br><span class="hljs-comment"># mp4è½¬mpeg</span><br>ffmpeg <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-c</span>:v mpeg2video <span class="hljs-literal">-c</span>:a mp2 <span class="hljs-literal">-q</span>:v <span class="hljs-number">2</span> output.mpg[<span class="hljs-type">mpeg</span>]<br><span class="hljs-comment"># Linuxä¸‹éœ€æ­£ç¡®è®¾ç½®VBVç¼“å†²åŒºå¤§å°ï¼Œå¦åˆ™è­¦å‘Šï¼šVBV buffer size not set, using default size of 130KB.</span><br>ffmpeg <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-c</span>:v mpeg2video <span class="hljs-literal">-c</span>:a mp2 <span class="hljs-literal">-q</span>:v <span class="hljs-number">2</span> <span class="hljs-literal">-maxrate</span> <span class="hljs-number">4000</span>k <span class="hljs-literal">-bufsize</span> <span class="hljs-number">1835</span>k output.mpg<br></code></pre></td></tr></table></figure><h4 id="4-å…¶ä»–è½¬mp4"><a href="#4-å…¶ä»–è½¬mp4" class="headerlink" title="(4) å…¶ä»–è½¬mp4"></a>(4) å…¶ä»–è½¬mp4</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs Powershell"><span class="hljs-comment"># -vf &quot;setpts=PTS-STARTPTS&quot;ï¼šéƒ¨åˆ†ç”¨äºè®¾ç½®æ—¶é—´æˆ³ï¼Œä»¥ç¡®ä¿ä»ç¬¬ä¸€ä¸ªå¸§å¼€å§‹è®¡ç®—æ—¶é—´æˆ³</span><br><span class="hljs-comment"># -bsf:a aac_adtstoascï¼šå°†ACCéŸ³é¢‘æµä»MPEG-2ä¼ è¾“æµè½¬æ¢ä¸ºåŸå§‹çš„MPEG-4æ–‡ä»¶æ ¼å¼</span><br><span class="hljs-comment"># -movflags +faststartï¼šåœ¨è¾“å‡ºçš„MP4æ–‡ä»¶ä¸­å¯ç”¨å¿«é€Ÿå¯åŠ¨ï¼Œä½¿è§†é¢‘åœ¨ç½‘ç»œä¸Šçš„æ’­æ”¾æ›´åŠ æµç•…</span><br><br><span class="hljs-comment"># aviè½¬mp4</span><br>ffmpeg <span class="hljs-literal">-i</span> test.avi <span class="hljs-literal">-c</span> <span class="hljs-built_in">copy</span> <span class="hljs-literal">-map</span> <span class="hljs-number">0</span> output.mp4<br><span class="hljs-comment"># h264è½¬mp4</span><br>ffmpeg <span class="hljs-literal">-i</span> test.h264 <span class="hljs-literal">-c</span>:v libx264 <span class="hljs-literal">-crf</span> <span class="hljs-number">23</span> <span class="hljs-literal">-preset</span> medium <span class="hljs-literal">-vf</span> <span class="hljs-string">&quot;setpts=PTS-STARTPTS&quot;</span> output.mp4<br><span class="hljs-comment"># mkvè½¬mp4</span><br>ffmpeg <span class="hljs-literal">-i</span> test.mkv <span class="hljs-literal">-y</span> <span class="hljs-literal">-vcodec</span> <span class="hljs-built_in">copy</span> <span class="hljs-literal">-acodec</span> <span class="hljs-built_in">copy</span> output.mp4<br><span class="hljs-comment"># wmvè½¬mp4</span><br>ffmpeg <span class="hljs-literal">-i</span> test.wmv <span class="hljs-literal">-c</span>:v libx264 <span class="hljs-literal">-crf</span> <span class="hljs-number">23</span> <span class="hljs-literal">-c</span>:a aac output.mp4<br><br><span class="hljs-comment"># tsè½¬mp4</span><br>ffmpeg <span class="hljs-literal">-i</span> test.ts <span class="hljs-operator">-f</span> mp4 <span class="hljs-literal">-vcodec</span> <span class="hljs-built_in">copy</span> <span class="hljs-literal">-acodec</span> <span class="hljs-built_in">copy</span> output.mp4<br><span class="hljs-comment"># Linuxä¸‹å¯èƒ½å‡ºç°å¦‚ä¸‹è­¦å‘Šä¿¡æ¯ï¼Œè¿™æ˜¯åœ¨å¤„ç†H.264è§†é¢‘æµæ—¶å‡ºç°äº†SPS(åºåˆ—å‚æ•°é›†)å¼•ç”¨é”™è¯¯</span><br><span class="hljs-comment"># é€šå¸¸æ˜¯ç”±äºè¾“å…¥æ–‡ä»¶çš„è§†é¢‘æµä¸­ç¼ºå°‘SPSï¼Œæˆ–SPSæ•°æ®æŸåå¯¼è‡´çš„ï¼Œæ˜¯è¾“å…¥æ–‡ä»¶æœ¬èº«çš„ç¼–ç é—®é¢˜</span><br><span class="hljs-comment"># [h264 @ 0x556d2ecaefc0] non-existing SPS 0 referenced in buffering period</span><br><span class="hljs-comment"># [h264 @ 0x556d2ecaefc0] SPS unavailable in decode_picture_timing</span><br><span class="hljs-comment"># [h264 @ 0x556d2ecaefc0] non-existing SPS 0 referenced in buffering period</span><br><span class="hljs-comment"># [h264 @ 0x556d2ecaefc0] SPS unavailable in decode_picture_timing</span><br><span class="hljs-comment"># å¯ä»¥æ§åˆ¶ä¸è¾“å‡ºä»»ä½•ä¿¡æ¯æ¥è§„é¿ï¼Œä½†è‹¥å¸Œæœ›è§†é¢‘è´¨é‡å¾—ä»¥ä¿è¯ï¼Œæœ€å¥½æƒ³æ³•è®¾æ³•è¿›è¡Œæ›´å¥½åœ°å¤„ç†</span><br>ffmpeg <span class="hljs-literal">-i</span> test.ts <span class="hljs-operator">-f</span> mp4 <span class="hljs-literal">-vcodec</span> <span class="hljs-built_in">copy</span> <span class="hljs-literal">-acodec</span> <span class="hljs-built_in">copy</span> <span class="hljs-literal">-loglevel</span> quiet output.mp4<br><br><span class="hljs-comment"># m3u8è½¬mp4</span><br>ffmpeg <span class="hljs-literal">-i</span> http://<span class="hljs-number">220.161</span>.<span class="hljs-number">87.62</span>:<span class="hljs-number">8800</span>/hls/<span class="hljs-number">0</span>/index.m3u8<br> <span class="hljs-literal">-c</span> <span class="hljs-built_in">copy</span> <span class="hljs-literal">-bsf</span>:a aac_adtstoasc <span class="hljs-literal">-movflags</span> +faststart output.mp4<br><span class="hljs-comment"># Linuxä¸‹å¯èƒ½å‡ºç°å¦‚ä¸‹è­¦å‘Šä¿¡æ¯ï¼Œè¿™æ˜¯ç”±äºHLSè§†é¢‘æµçš„ç¼–ç æ ¼å¼ä¸å…¼å®¹æˆ–å­˜åœ¨é—®é¢˜</span><br><span class="hljs-comment"># [NULL @ 0x556bbcc2f4e0] SPS unavailable in decode_picture_timing</span><br><span class="hljs-comment"># [NULL @ 0x556bbcc2f4e0] non-existing PPS 0 referenced</span><br><span class="hljs-comment"># [h264 @ 0x556bbcc31220] SPS unavailable in decode_picture_timing</span><br><span class="hljs-comment"># [h264 @ 0x556bbcc31220] non-existing PPS 0 referenced</span><br><span class="hljs-comment"># [h264 @ 0x556bbcc31220] decode_slice_header error</span><br><span class="hljs-comment"># [h264 @ 0x556bbcc31220] no frame!</span><br><span class="hljs-comment"># [NULL @ 0x556bbcc2f4e0] ...</span><br><span class="hljs-comment"># [NULL @ 0x556bbcc2f4e0] non-existing SPS 0 referenced in buffering period</span><br><span class="hljs-comment"># [NULL @ 0x556bbcc2f4e0] SPS unavailable in decode_picture_timing</span><br><span class="hljs-comment"># [h264 @ 0x556bbcc31220] non-existing SPS 0 referenced in buffering period</span><br><span class="hljs-comment"># [h264 @ 0x556bbcc31220] SPS unavailable in decode_picture_timing</span><br></code></pre></td></tr></table></figure><h2 id="6-2-è½¬ç¼–ç æ ¼å¼"><a href="#6-2-è½¬ç¼–ç æ ¼å¼" class="headerlink" title="6-2 è½¬ç¼–ç æ ¼å¼"></a>6-2 è½¬ç¼–ç æ ¼å¼</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Powershell"><span class="hljs-comment"># mpeg4ç¼–ç è½¬h264ç¼–ç </span><br>ffmpeg <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-vcodec</span> h264 output.mp4<br><br><span class="hljs-comment"># h264ç¼–ç è½¬mpeg4ç¼–ç </span><br>ffmpeg <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-vcodec</span> mpeg4 output.mp4<br><br><span class="hljs-comment"># å½“å‰çš„ç¼–ç æ ¼å¼è½¬æ¢ä¸ºH.265è§†é¢‘ç¼–ç å’ŒAACéŸ³é¢‘ç¼–ç </span><br>ffmpeg <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-c</span>:v libx265 <span class="hljs-literal">-c</span>:a aac output.mp4<br></code></pre></td></tr></table></figure><h1 id="7-å›¾åƒå¤„ç†"><a href="#7-å›¾åƒå¤„ç†" class="headerlink" title="7 å›¾åƒå¤„ç†"></a>7 å›¾åƒå¤„ç†</h1><ul><li>å›¾åƒå¤„ç†<ul><li>FFmpegæˆªå–è§†é¢‘å¸§çš„ä¸¤ç§seekingæ–¹å¼ã€‚</li><li>åœ¨è¾“å…¥æ–‡ä»¶ä¹‹å‰ä½¿ç”¨-sså‚æ•°ï¼šå½±å“è§†é¢‘è§£ç çš„é€Ÿåº¦ï¼Œå› ä¸ºFFmpegä¼šåœ¨æŒ‡å®šæ—¶é—´ç‚¹ä¹‹å‰è¿›è¡Œè§£ç ã€‚</li><li>åœ¨è¾“å…¥æ–‡ä»¶ä¹‹åä½¿ç”¨-sså‚æ•°ï¼šä¼šåœ¨è§£ç åä¸¢å¼ƒæŒ‡å®šæ—¶é—´ç‚¹ä¹‹å‰çš„å¸§ï¼Œå¯èƒ½å¯¼è‡´ä¸€äº›æ€§èƒ½ä¸Šçš„å·®å¼‚ã€‚</li></ul></li></ul><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs Powershell"><span class="hljs-comment"># å°†è§†é¢‘ç¬¬5ç§’çš„ä¸€å¸§å›¾åƒæˆªå–å‡ºæ¥ï¼Œä½¿ç”¨å…³é”®å¸§ï¼Œé€Ÿåº¦å¿«ï¼ŒLinuxä¸‹å¯èƒ½ä¸è¯†åˆ«</span><br>ffmpeg <span class="hljs-literal">-ss</span> <span class="hljs-number">00</span>:<span class="hljs-number">01</span>:<span class="hljs-number">05</span> <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-frames</span>:v <span class="hljs-number">1</span> output.jpg<br><br><span class="hljs-comment"># å°†è§†é¢‘ç¬¬5ç§’çš„ä¸€å¸§å›¾åƒæˆªå–å‡ºæ¥ï¼Œé€å¸§è§£ç ï¼Œç›´åˆ°05ç§’æ‰æˆªå–ï¼Œé€Ÿåº¦æ…¢</span><br><span class="hljs-comment"># Linuxä¸‹å¯èƒ½è­¦å‘Šï¼šdeprecated pixel format used, make sure you did set range correctly</span><br>ffmpeg <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-ss</span> <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">05</span> <span class="hljs-literal">-frames</span>:v <span class="hljs-number">1</span> output.jpg<br><br><span class="hljs-comment"># ä»è§†é¢‘ç¬¬8ç§’çš„ä½ç½®æˆªå–ä¸€å¼ å¤§å°ä¸º350x240çš„ç¼©ç•¥å›¾</span><br><span class="hljs-comment"># Linuxä¸‹å¯èƒ½è­¦å‘Šï¼šdeprecated pixel format used, make sure you did set range correctly</span><br>ffmpeg <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-y</span> <span class="hljs-operator">-f</span> image2 <span class="hljs-literal">-ss</span> <span class="hljs-number">8</span> <span class="hljs-literal">-t</span> <span class="hljs-number">0.001</span> <span class="hljs-literal">-s</span> <span class="hljs-number">350</span>x240 output.jpg<br><br><span class="hljs-comment"># æå–å›¾ç‰‡ï¼Œæå–çš„å›¾åƒå¸§ç‡ä¸º1å¸§/ç§’ï¼Œè¾“å‡ºæ ¼å¼ä¸ºimage2</span><br><span class="hljs-comment"># Linuxä¸‹å¯èƒ½è­¦å‘Šï¼šdeprecated pixel format used, make sure you did set range correctly</span><br><span class="hljs-comment"># å‡ºç°è¯¥è­¦å‘Šæ˜¯ç”±äºåœ¨è§†é¢‘å¤„ç†è¿‡ç¨‹ä¸­ï¼Œä½¿ç”¨äº†ä¸æ¨èçš„è¿‡æ—¶åƒç´ æ ¼å¼ï¼Œå¯èƒ½ä¼šå¯¼è‡´é¢œè‰²èŒƒå›´è®¾ç½®ä¸æ­£ç¡®</span><br><span class="hljs-comment"># è®¾ç½®åƒç´ æ ¼å¼ã€ä½¿ç”¨æœ€é‚»è¿‘ç®—æ³•è¿›è¡Œç¼©æ”¾ã€ä½¿ç”¨-color_rangeè®¾ç½®é¢œè‰²èŒƒå›´ï¼Œå¯è§£å†³è­¦å‘Š(***å¥½åƒæ— æ•ˆ)</span><br>ffmpeg <span class="hljs-literal">-i</span> test.avi <span class="hljs-literal">-r</span> <span class="hljs-number">1</span> <span class="hljs-operator">-f</span> image2 image-%<span class="hljs-number">3</span>d.jpeg<br>ffmpeg <span class="hljs-literal">-i</span> test.avi <span class="hljs-literal">-r</span> <span class="hljs-number">1</span> <span class="hljs-operator">-f</span> image2 <span class="hljs-literal">-pix_fmt</span> yuvj420p image-%<span class="hljs-number">3</span>d.jpeg<br>ffmpeg <span class="hljs-literal">-i</span> test.avi <span class="hljs-literal">-r</span> <span class="hljs-number">1</span> <span class="hljs-operator">-f</span> image2 <span class="hljs-literal">-sws_flags</span> neighbor image-%<span class="hljs-number">3</span>d.jpeg<br><br><span class="hljs-comment"># æŠŠè§†é¢‘çš„å‰30å¸§æˆªå–è½¬æ¢æˆä¸€ä¸ªgifå›¾ç‰‡</span><br><span class="hljs-comment"># fps=10,scale=320:-1:flags=lanczosï¼šè®¾ç½®è§†é¢‘å¸§ç‡ä¸º10ï¼Œå°ºå¯¸320x240ï¼Œå¹¶ä½¿ç”¨lanczosç®—æ³•è¿›è¡Œç¼©æ”¾</span><br>ffmpeg <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-vf</span> <span class="hljs-string">&quot;fps=10,scale=320:-1:flags=lanczos&quot;</span> <span class="hljs-literal">-t</span> <span class="hljs-number">3</span> output.gif<br></code></pre></td></tr></table></figure><h2 id="7-1-å›¾è½¬è§†é¢‘"><a href="#7-1-å›¾è½¬è§†é¢‘" class="headerlink" title="7-1 å›¾è½¬è§†é¢‘"></a>7-1 å›¾è½¬è§†é¢‘</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs Powershell"><span class="hljs-comment"># -framerate 30ï¼šè®¾ç½®è§†é¢‘çš„å¸§ç‡ä¸º30å¸§æ¯ç§’</span><br><span class="hljs-comment"># test%d.jpgï¼š%dè¡¨ç¤ºä»0å¼€å§‹ä¾æ¬¡é€’å¢çš„æ•°å­—</span><br><span class="hljs-comment"># -vf &quot;scale=500:424&quot;ï¼šå°†è§†é¢‘å°ºå¯¸ç¼©æ”¾ä¸º500x424</span><br><span class="hljs-comment"># -pix_fmt yuv420pï¼šè®¾ç½®è§†é¢‘çš„åƒç´ æ ¼å¼ä¸ºyuv420p</span><br><span class="hljs-comment"># -pattern_type globï¼šä½¿ç”¨globæ¨¡å¼æ¥åŒ¹é…ä¸è§„åˆ™å‘½åçš„å›¾ç‰‡æ–‡ä»¶</span><br><br><span class="hljs-comment"># è§„åˆ™åç§°çš„å›¾ç‰‡è½¬è§†é¢‘ï¼Œä¸è§„åˆ™åç§°å¯ä»¥ä½¿ç”¨*.jpg</span><br>ffmpeg <span class="hljs-literal">-i</span> test%d.jpg <span class="hljs-literal">-vf</span> <span class="hljs-string">&quot;scale=500:424&quot;</span> <span class="hljs-literal">-c</span>:v libx264 output.mp4<br><span class="hljs-comment"># æ¯”ç‰¹ç‡ä¸º200kï¼Œåƒç´ æ ¼å¼ä¸ºyuv420p</span><br>ffmpeg <span class="hljs-literal">-framerate</span> <span class="hljs-number">30</span> <span class="hljs-literal">-i</span> test%d.jpg<br> <span class="hljs-literal">-c</span>:v libx264 <span class="hljs-literal">-r</span> <span class="hljs-number">30</span> <span class="hljs-literal">-b</span>:v <span class="hljs-number">200</span>k <span class="hljs-literal">-pix_fmt</span> yuv420p output.mp4<br><span class="hljs-comment"># å‡è®¾è§†é¢‘æ—¶é•¿ä¸º5ç§’ï¼Œæ€»å¸§æ•°N=30å¸§/ç§’Ã—5ç§’=150å¸§</span><br>ffmpeg <span class="hljs-literal">-framerate</span> <span class="hljs-number">30</span> <span class="hljs-literal">-i</span> test%d.jpg<br> <span class="hljs-literal">-c</span>:v libx264 <span class="hljs-literal">-r</span> <span class="hljs-number">30</span> <span class="hljs-literal">-b</span>:v <span class="hljs-number">200</span>k <span class="hljs-literal">-pix_fmt</span> yuv420p <span class="hljs-literal">-t</span> <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">05</span> output.mp4<br><br><span class="hljs-comment"># ä¸è§„åˆ™åç§°å›¾ç‰‡è½¬è§†é¢‘ï¼ŒLinuxæ–¹æ³•</span><br>ffmpeg <span class="hljs-literal">-framerate</span> <span class="hljs-number">25</span> <span class="hljs-literal">-pattern_type</span> glob <span class="hljs-literal">-i</span> <span class="hljs-string">&quot;*.jpg&quot;</span><br> <span class="hljs-literal">-c</span>:v libx264 <span class="hljs-literal">-r</span> <span class="hljs-number">30</span> <span class="hljs-literal">-pix_fmt</span> yuv420p output.mp4<br>ffmpeg <span class="hljs-literal">-framerate</span> <span class="hljs-number">10</span> <span class="hljs-literal">-pattern_type</span> glob <span class="hljs-literal">-i</span> <span class="hljs-string">&quot;*.jpg&quot;</span> output.mp4<br><span class="hljs-built_in">cat</span> *.jpg | ffmpeg <span class="hljs-operator">-f</span> image2pipe <span class="hljs-literal">-i</span> - output.mp4<br></code></pre></td></tr></table></figure><h2 id="7-2-æ ¼å¼è½¬æ¢"><a href="#7-2-æ ¼å¼è½¬æ¢" class="headerlink" title="7-2 æ ¼å¼è½¬æ¢"></a>7-2 æ ¼å¼è½¬æ¢</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs Powershell"><span class="hljs-comment"># jpgè½¬png</span><br>ffmpeg <span class="hljs-literal">-i</span> test.jpg output.png<br><br><span class="hljs-comment"># jpgè½¬webp</span><br>ffmpeg <span class="hljs-literal">-i</span> test.jpg <span class="hljs-literal">-pix_fmt</span> yuv420p output.webp<br><br><span class="hljs-comment"># pngè½¬jpg</span><br><span class="hljs-comment"># Linuxä¸‹å¯èƒ½è­¦å‘Šï¼šdeprecated pixel format used, make sure you did set range correctly</span><br>ffmpeg <span class="hljs-literal">-i</span> test.png <span class="hljs-literal">-pix_fmt</span> yuvj420p output.jpg<br><br><span class="hljs-comment"># pngè½¬bmp</span><br>ffmpeg <span class="hljs-literal">-i</span> test.png output.bmp<br><br><span class="hljs-comment"># pngè½¬webp</span><br>ffmpeg <span class="hljs-literal">-i</span> test.png <span class="hljs-literal">-pix_fmt</span> yuv420p output.webp<br><br><span class="hljs-comment"># pngè½¬tiff</span><br>ffmpeg <span class="hljs-literal">-i</span> test.png output.tiff<br><br><span class="hljs-comment"># pngè½¬raw</span><br>ffmpeg <span class="hljs-literal">-i</span> test.png <span class="hljs-literal">-vcodec</span> png <span class="hljs-literal">-vcodec</span> rawvideo <span class="hljs-operator">-f</span> rawvideo <span class="hljs-literal">-pix_fmt</span> rgb24 output.raw<br><br><span class="hljs-comment"># webpè½¬jpg</span><br><span class="hljs-comment"># Linuxä¸‹å¯èƒ½è­¦å‘Šï¼šdeprecated pixel format used, make sure you did set range correctly</span><br>ffmpeg <span class="hljs-literal">-i</span> test.webp <span class="hljs-literal">-pix_fmt</span> yuvj420p output.jpg<br><br><span class="hljs-comment"># webpè½¬png</span><br>ffmpeg <span class="hljs-literal">-i</span> test.webp output.png<br></code></pre></td></tr></table></figure><h1 id="8-å…¶ä»–æ“ä½œ"><a href="#8-å…¶ä»–æ“ä½œ" class="headerlink" title="8 å…¶ä»–æ“ä½œ"></a>8 å…¶ä»–æ“ä½œ</h1><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Powershell"><span class="hljs-comment"># éŸ³é¢‘å’Œè§†é¢‘æ··åˆ</span><br><span class="hljs-comment"># Linuxä¸‹å¯èƒ½è­¦å‘Šï¼šGuessed Channel Layout for Input Stream #0.0 : stereo</span><br><span class="hljs-comment"># ç”±äºFFmpegçŒœæµ‹è¾“å…¥éŸ³é¢‘æµçš„é€šé“å¸ƒå±€æ—¶ï¼Œæ— æ³•ç¡®å®šè¾“å…¥éŸ³é¢‘æµçš„é€šé“å¸ƒå±€ï¼Œå› æ­¤ä½¿ç”¨äº†é»˜è®¤çš„ç«‹ä½“å£°å¸ƒå±€</span><br>ffmpeg <span class="hljs-literal">-i</span> test.wav <span class="hljs-literal">-i</span> test.avi output.mpg<br><span class="hljs-comment"># è‹¥èƒ½ç¡®å®šè¾“å…¥éŸ³é¢‘æµçš„é€šé“å¸ƒå±€ï¼Œå¯ä½¿ç”¨-mapé€‰é¡¹æ˜¾å¼åœ°æŒ‡å®šè¾“å…¥æµçš„é€šé“å¸ƒå±€ï¼Œä¾‹å¦‚ç«‹ä½“å£°(å·¦å£°é“å’Œå³å£°é“)</span><br><span class="hljs-comment"># 0:a:0è¡¨ç¤ºè¾“å…¥æ–‡ä»¶0(å³test.wav)çš„ç¬¬ä¸€ä¸ªéŸ³é¢‘æµï¼Œ1:v:0è¡¨ç¤ºè¾“å…¥æ–‡ä»¶1(å³test.avi)çš„ç¬¬ä¸€ä¸ªè§†é¢‘æµ</span><br>ffmpeg <span class="hljs-literal">-i</span> test.wav <span class="hljs-literal">-i</span> test.avi <span class="hljs-literal">-map</span> <span class="hljs-number">0</span>:a:<span class="hljs-number">0</span> <span class="hljs-literal">-map</span> <span class="hljs-number">1</span>:v:<span class="hljs-number">0</span> <span class="hljs-literal">-maxrate</span> <span class="hljs-number">3.5</span>M <span class="hljs-literal">-bufsize</span> <span class="hljs-number">4</span>M output.mpg<br><br><span class="hljs-comment"># è®¾ç½®è§†é¢‘å±å¹•é«˜å®½æ¯”</span><br>ffmpeg <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-aspect</span> <span class="hljs-number">16</span>:<span class="hljs-number">9</span> output.mp4<br><br><span class="hljs-comment"># é‡æ–°è®¾ç½®key frame interval</span><br>ffmpeg <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-vcodec</span> libx264 <span class="hljs-literal">-x264-params</span> keyint=<span class="hljs-number">1</span>:scenecut=<span class="hljs-number">0</span> <span class="hljs-literal">-acodec</span> <span class="hljs-built_in">copy</span> output.mp4<br></code></pre></td></tr></table></figure><h2 id="8-1-è§†é¢‘å‹ç¼©"><a href="#8-1-è§†é¢‘å‹ç¼©" class="headerlink" title="8-1 è§†é¢‘å‹ç¼©"></a>8-1 è§†é¢‘å‹ç¼©</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs Powershell"><span class="hljs-comment"># -threads 4ï¼šä½¿ç”¨4ä¸ªçº¿ç¨‹è¿›è¡Œå¤„ç†ï¼Œæœ‰åŠ©äºåŠ å¿«è§†é¢‘è½¬ç çš„é€Ÿåº¦</span><br><span class="hljs-comment"># -vf scale=640:-2ï¼šå°†è§†é¢‘ç¼©æ”¾åˆ°å®½åº¦ä¸º640åƒç´ ï¼Œé«˜åº¦æŒ‰æ¯”ä¾‹è‡ªåŠ¨è°ƒæ•´</span><br><span class="hljs-comment"># è€ƒè™‘åˆ°libx264è¦æ±‚é«˜åº¦æ˜¯å¶æ•°ï¼Œè®©è½¯ä»¶è‡ªåŠ¨è®¡ç®—å¾—å‡ºä¸€ä¸ªæ¥è¿‘ç­‰æ¯”ä¾‹çš„å¶æ•°é«˜</span><br><br>ffmpeg <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-vcodec</span> h264 output.mp4<br>ffmpeg <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-b</span>:v <span class="hljs-number">1000</span>k <span class="hljs-literal">-b</span>:a <span class="hljs-number">128</span>k output.mp4<br>ffmpeg <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-vcodec</span> h264 <span class="hljs-literal">-vf</span> scale=<span class="hljs-number">640</span>:<span class="hljs-literal">-2</span> <span class="hljs-literal">-threads</span> <span class="hljs-number">4</span> output.mp4<br><br>ffmpeg <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-vcodec</span> libx264 <span class="hljs-literal">-crf</span> <span class="hljs-number">28</span> <span class="hljs-literal">-acodec</span> aac output.mp4<br>ffmpeg <span class="hljs-literal">-i</span> test.flv <span class="hljs-literal">-vcodec</span> libx264 <span class="hljs-literal">-crf</span> <span class="hljs-number">28</span> <span class="hljs-literal">-acodec</span> aac output.flv<br>ffmpeg <span class="hljs-literal">-i</span> test.avi <span class="hljs-literal">-vcodec</span> libx264 <span class="hljs-literal">-crf</span> <span class="hljs-number">28</span> <span class="hljs-literal">-acodec</span> aac output.avi<br>ffmpeg <span class="hljs-literal">-i</span> test.wmv <span class="hljs-literal">-vcodec</span> libx264 <span class="hljs-literal">-crf</span> <span class="hljs-number">28</span> <span class="hljs-literal">-acodec</span> aac output.wmv<br>ffmpeg <span class="hljs-literal">-i</span> test.<span class="hljs-number">3</span><span class="hljs-built_in">gp</span> <span class="hljs-literal">-vcodec</span> libx264 <span class="hljs-literal">-crf</span> <span class="hljs-number">28</span> <span class="hljs-literal">-acodec</span> aac output.<span class="hljs-number">3</span><span class="hljs-built_in">gp</span><br><br>ffmpeg <span class="hljs-literal">-i</span> test.mpeg <span class="hljs-literal">-vcodec</span> libx264 <span class="hljs-literal">-crf</span> <span class="hljs-number">28</span> <span class="hljs-literal">-acodec</span> aac output.mpeg<br><span class="hljs-comment"># Linuxä¸‹å¯èƒ½è­¦å‘Šï¼šVBV buffer size not set, using default size of 130KB</span><br><span class="hljs-comment"># ç”±äºå°†MPEGæ ¼å¼çš„è§†é¢‘æ–‡ä»¶è½¬æ¢ä¸ºH.264æ ¼å¼æ—¶ï¼Œæ£€æµ‹åˆ°æºæ–‡ä»¶ä¸­æ²¡æœ‰è®¾ç½®VBVç¼“å†²åŒºå¤§å°å¯¼è‡´</span><br><span class="hljs-comment"># å°è¯•å¢åŠ VBVç¼“å†²åŒºå¤§å°ï¼Œè®©VBVç¼“å†²åŒºè¶³å¤Ÿå¤§ï¼Œä»è€Œæ¶ˆé™¤æ²¡æœ‰è®¾ç½®VBVç¼“å†²åŒºå¤§å°å¯¼è‡´çš„è­¦å‘Š</span><br>ffmpeg <span class="hljs-literal">-i</span> test.mpeg<br> <span class="hljs-literal">-vcodec</span> libx264 <span class="hljs-literal">-crf</span> <span class="hljs-number">28</span> <span class="hljs-literal">-acodec</span> aac <span class="hljs-literal">-b</span>:v <span class="hljs-number">5000</span>k <span class="hljs-literal">-bufsize</span> <span class="hljs-number">10000</span>k output.mpeg<br><span class="hljs-comment"># Linuxä¸‹å¯èƒ½è­¦å‘Šï¼šVBV bufsize set but maxrate unspecified, ignored</span><br><span class="hljs-comment"># è¿™ä¸ªè­¦å‘Šæ˜¯ç”±äºè®¾ç½®äº†VBVç¼“å†²åŒºå¤§å°ï¼Œä½†æ²¡æœ‰è®¾ç½®æœ€å¤§æ¯”ç‰¹ç‡(maxrate)è€Œå¼•èµ·çš„è­¦å‘Š</span><br><span class="hljs-comment"># VBVç¼“å†²åŒºå¤§å°å’Œæœ€å¤§æ¯”ç‰¹ç‡æ˜¯ä¸€å¯¹ç›¸å…³å‚æ•°ï¼Œä¸€èµ·æ§åˆ¶è§†é¢‘çš„æ¯”ç‰¹ç‡å’Œå¸§ç‡ï¼Œç¡®ä¿è§†é¢‘èƒ½æ­£å¸¸æ’­æ”¾</span><br><span class="hljs-comment"># è®¾ç½®VBVç¼“å†²åŒºå¤§å°ä¸º10000kï¼Œæœ€å¤§æ¯”ç‰¹ç‡ä¸º5000kï¼Œä¿è¯è¾“å‡ºè§†é¢‘æ–‡ä»¶çš„æ¯”ç‰¹ç‡å’Œå¸§ç‡æ§åˆ¶æ­£ç¡®</span><br>ffmpeg <span class="hljs-literal">-i</span> test.mpeg<br> <span class="hljs-literal">-vcodec</span> libx264 <span class="hljs-literal">-crf</span> <span class="hljs-number">28</span> <span class="hljs-literal">-acodec</span> aac <span class="hljs-literal">-b</span>:v <span class="hljs-number">5000</span>k <span class="hljs-literal">-bufsize</span> <span class="hljs-number">10000</span>k <span class="hljs-literal">-maxrate</span> <span class="hljs-number">5000</span>k output.mpeg<br></code></pre></td></tr></table></figure><h2 id="8-2-è§†é¢‘å‰ªåˆ‡"><a href="#8-2-è§†é¢‘å‰ªåˆ‡" class="headerlink" title="8-2 è§†é¢‘å‰ªåˆ‡"></a>8-2 è§†é¢‘å‰ªåˆ‡</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs Powershell"><span class="hljs-comment"># ä»è§†é¢‘ç¬¬3ç§’å¼€å§‹å‰ªåˆ‡ï¼ŒæŒç»­5ç§’</span><br>ffmpeg <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-ss</span> <span class="hljs-number">3</span> <span class="hljs-literal">-t</span> <span class="hljs-number">5</span> <span class="hljs-literal">-codec</span> <span class="hljs-built_in">copy</span> output.mp4<br><span class="hljs-comment"># ä»è§†é¢‘ç¬¬3ç§’å¼€å§‹å‰ªåˆ‡ï¼ŒæŒç»­5ç§’</span><br>ffmpeg <span class="hljs-literal">-i</span> test.avi <span class="hljs-literal">-ss</span> <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">03</span> <span class="hljs-literal">-t</span> <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">05</span> <span class="hljs-literal">-vcodec</span> <span class="hljs-built_in">copy</span> <span class="hljs-literal">-acodec</span> <span class="hljs-built_in">copy</span> output.avi<br><br><span class="hljs-comment"># -ss 00:00:05ï¼šæŒ‡å®šå‰ªåˆ‡è§†é¢‘çš„å¼€å§‹æ—¶é—´ä¸º00:00:05</span><br><span class="hljs-comment"># -to 00:00:10ï¼šæŒ‡å®šå‰ªåˆ‡è§†é¢‘çš„ç»“æŸæ—¶é—´ä¸º00:00:10</span><br>ffmpeg <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-ss</span> <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">05</span> <span class="hljs-literal">-to</span> <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">10</span> <span class="hljs-literal">-c</span>:v <span class="hljs-built_in">copy</span> <span class="hljs-literal">-c</span>:a <span class="hljs-built_in">copy</span> output.mp4<br>ffmpeg <span class="hljs-literal">-i</span> test.flv <span class="hljs-literal">-ss</span> <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">05</span> <span class="hljs-literal">-to</span> <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">10</span> <span class="hljs-literal">-c</span>:v <span class="hljs-built_in">copy</span> <span class="hljs-literal">-c</span>:a <span class="hljs-built_in">copy</span> output.flv<br>ffmpeg <span class="hljs-literal">-i</span> test.avi <span class="hljs-literal">-ss</span> <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">05</span> <span class="hljs-literal">-to</span> <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">10</span> <span class="hljs-literal">-c</span>:v <span class="hljs-built_in">copy</span> <span class="hljs-literal">-c</span>:a <span class="hljs-built_in">copy</span> output.avi<br>ffmpeg <span class="hljs-literal">-i</span> test.wmv <span class="hljs-literal">-ss</span> <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">05</span> <span class="hljs-literal">-to</span> <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">10</span> <span class="hljs-literal">-c</span>:v <span class="hljs-built_in">copy</span> <span class="hljs-literal">-c</span>:a <span class="hljs-built_in">copy</span> output.wmv<br>ffmpeg <span class="hljs-literal">-i</span> test.<span class="hljs-number">3</span><span class="hljs-built_in">gp</span> <span class="hljs-literal">-ss</span> <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">05</span> <span class="hljs-literal">-to</span> <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">10</span> <span class="hljs-literal">-c</span>:v <span class="hljs-built_in">copy</span> <span class="hljs-literal">-c</span>:a <span class="hljs-built_in">copy</span> output.<span class="hljs-number">3</span><span class="hljs-built_in">gp</span><br><br>ffmpeg <span class="hljs-literal">-i</span> test.mpeg <span class="hljs-literal">-ss</span> <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">05</span> <span class="hljs-literal">-to</span> <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">10</span> <span class="hljs-literal">-c</span>:v <span class="hljs-built_in">copy</span> <span class="hljs-literal">-c</span>:a <span class="hljs-built_in">copy</span> output.mpeg<br><span class="hljs-comment"># Linuxä¸‹å¯èƒ½è­¦å‘Šï¼šVBV buffer size not set, using default size of 130KB</span><br><span class="hljs-comment"># ä¸‹è¿°æ–¹æ³•éƒ½è¯•è¿‡äº†ï¼Œå‡æ— æ•ˆï¼Œè²Œä¼¼é‡åˆ°MPEGæ–‡ä»¶é—®é¢˜ï¼ŒFFmpegéƒ½ä¸å¥½å¤„ç†</span><br>ffmpeg <span class="hljs-literal">-i</span> test.mpeg<br> <span class="hljs-literal">-ss</span> <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">05</span> <span class="hljs-literal">-to</span> <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">10</span> <span class="hljs-literal">-c</span>:v libx264 <span class="hljs-literal">-b</span>:v <span class="hljs-number">2000</span>k <span class="hljs-literal">-c</span>:a aac <span class="hljs-literal">-b</span>:a <span class="hljs-number">128</span>k output.mpeg<br>ffmpeg <span class="hljs-literal">-i</span> test.mpeg <span class="hljs-literal">-ss</span> <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">05</span> <span class="hljs-literal">-to</span> <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">10</span> <span class="hljs-literal">-c</span>:v mpeg2video <span class="hljs-literal">-c</span>:a mp2 output.mpeg<br>ffmpeg <span class="hljs-literal">-i</span> test.mpeg <span class="hljs-literal">-ss</span> <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">05</span> <span class="hljs-literal">-to</span> <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">10</span> <span class="hljs-literal">-c</span>:v <span class="hljs-built_in">copy</span> <span class="hljs-literal">-c</span>:a <span class="hljs-built_in">copy</span> <span class="hljs-literal">-bufsize</span> <span class="hljs-number">2000</span>k output.mpeg<br></code></pre></td></tr></table></figure><h2 id="8-3-å€’æ”¾ä¸åŠ å‡é€Ÿ"><a href="#8-3-å€’æ”¾ä¸åŠ å‡é€Ÿ" class="headerlink" title="8-3 å€’æ”¾ä¸åŠ å‡é€Ÿ"></a>8-3 å€’æ”¾ä¸åŠ å‡é€Ÿ</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs Powershell"><span class="hljs-comment"># [0:v]reverse[v]ï¼šå°†è¾“å…¥çš„ç¬¬ä¸€ä¸ªè§†é¢‘æµå€’è½¬ï¼Œç„¶åå°†ç»“æœè¾“å‡ºä¸ºä¸€ä¸ªæ–°çš„è§†é¢‘æµ</span><br><span class="hljs-comment"># -vf reverseï¼šå°†è§†é¢‘é€†åºæ’­æ”¾</span><br><span class="hljs-comment"># -af areverseï¼šå°†éŸ³é¢‘é€†åºæ’­æ”¾</span><br><span class="hljs-comment"># -vf setpts=PTS/2ï¼šå°†è§†é¢‘çš„æ’­æ”¾é€Ÿåº¦å‡åŠ</span><br><span class="hljs-comment"># -af atempo=2ï¼šå°†éŸ³é¢‘çš„æ’­æ”¾é€Ÿåº¦åŠ å€</span><br><span class="hljs-comment"># PTSå³Presentation Time Stampï¼Œæ˜¯è§†é¢‘å¸§çš„æ˜¾ç¤ºæ—¶é—´æˆ³ï¼Œè°ƒæ•´å€é€ŸèŒƒå›´0.25~4å€</span><br><span class="hljs-comment"># -filter:v &quot;setpts=0.5*PTS&quot;ï¼šå°†è§†é¢‘çš„æ’­æ”¾é€Ÿåº¦å‡åŠ</span><br><span class="hljs-comment"># -filter:v &quot;setpts=2.0*PTS&quot;ï¼šå°†è§†é¢‘çš„æ’­æ”¾é€Ÿåº¦åŠ å€</span><br><span class="hljs-comment"># -filter:a &quot;atempo=0.5&quot;ï¼šå°†éŸ³é¢‘çš„æ’­æ”¾é€Ÿåº¦å‡åŠ</span><br><span class="hljs-comment"># -filter:a &quot;atempo=2.0&quot;ï¼šå°†éŸ³é¢‘çš„æ’­æ”¾é€Ÿåº¦åŠ å€</span><br><br><span class="hljs-comment"># è§†é¢‘å€’æ”¾ï¼Œæ— éŸ³é¢‘</span><br>ffmpeg <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-filter_complex</span> [<span class="hljs-number">0</span>:<span class="hljs-type">v</span>]reverse[<span class="hljs-type">v</span>] <span class="hljs-literal">-map</span> [<span class="hljs-type">v</span>] <span class="hljs-literal">-preset</span> superfast output.mp4<br><span class="hljs-comment"># è§†é¢‘å€’æ”¾ï¼ŒéŸ³é¢‘ä¸å˜</span><br>ffmpeg <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-vf</span> reverse output.mp4<br><span class="hljs-comment"># éŸ³é¢‘å€’æ”¾ï¼Œè§†é¢‘ä¸å˜</span><br>ffmpeg <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-af</span> areverse <span class="hljs-literal">-map</span> <span class="hljs-number">0</span> <span class="hljs-literal">-c</span>:v <span class="hljs-built_in">copy</span> output.mp4<br><span class="hljs-comment"># éŸ³é¢‘å’Œè§†é¢‘åŒæ—¶å€’æ”¾</span><br>ffmpeg <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-af</span> areverse <span class="hljs-literal">-vf</span> reverse <span class="hljs-literal">-preset</span> superfast output.mp4<br><br><span class="hljs-comment"># è§†é¢‘åŠ é€Ÿæ’­æ”¾</span><br>ffmpeg <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-af</span> atempo=<span class="hljs-number">2</span> <span class="hljs-literal">-vf</span> setpts=PTS/<span class="hljs-number">2</span> output.mp4<br>ffmpeg <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-filter</span>:v <span class="hljs-string">&quot;setpts=0.5*PTS&quot;</span> <span class="hljs-literal">-filter</span>:a <span class="hljs-string">&quot;atempo=2.0&quot;</span> output.mp4<br><span class="hljs-comment"># è§†é¢‘å‡é€Ÿæ’­æ”¾</span><br>ffmpeg <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-an</span> <span class="hljs-literal">-filter</span>:v setpts=<span class="hljs-number">0.5</span>*PTS output.mp4<br>ffmpeg <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-filter</span>:v <span class="hljs-string">&quot;setpts=2.0*PTS&quot;</span> <span class="hljs-literal">-filter</span>:a <span class="hljs-string">&quot;atempo=0.5&quot;</span> output.mp4<br></code></pre></td></tr></table></figure><h2 id="8-4-åˆ†ç¦»éŸ³è§†é¢‘æµ"><a href="#8-4-åˆ†ç¦»éŸ³è§†é¢‘æµ" class="headerlink" title="8-4 åˆ†ç¦»éŸ³è§†é¢‘æµ"></a>8-4 åˆ†ç¦»éŸ³è§†é¢‘æµ</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Powershell"><span class="hljs-comment"># åˆ†ç¦»è§†é¢‘æµ</span><br>ffmpeg <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-vcodec</span> <span class="hljs-built_in">copy</span> <span class="hljs-literal">-an</span> output.mp4<br><br><span class="hljs-comment"># åˆ†ç¦»éŸ³é¢‘æµ</span><br>ffmpeg <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-acodec</span> <span class="hljs-built_in">copy</span> <span class="hljs-literal">-vn</span> output.mp3<br><span class="hljs-comment"># Linuxä¸‹å¯èƒ½æŠ¥é”™ï¼šInvalid audio stream. Exactly one MP3 audio stream is required.</span><br><span class="hljs-comment"># éœ€è¦ç¡®ä¿åªæœ‰ä¸€ä¸ªæœ‰æ•ˆçš„MP3éŸ³é¢‘æµï¼Œå¦‚æœè¾“å…¥æ–‡ä»¶ä¸åŒ…å«MP3éŸ³é¢‘æµï¼Œåˆ™éœ€è¦å°†å…¶è½¬ç ä¸ºMP3æ ¼å¼</span><br>ffmpeg <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-acodec</span> libmp3lame <span class="hljs-literal">-vn</span> output.mp3<br><br><span class="hljs-comment"># å»æ‰è§†é¢‘ä¸­çš„éŸ³é¢‘</span><br>ffmpeg <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-an</span> output.mp4<br><br><span class="hljs-comment"># å»æ‰è§†é¢‘ä¸­çš„éŸ³é¢‘</span><br>ffmpeg <span class="hljs-literal">-i</span> test.avi <span class="hljs-literal">-an</span> <span class="hljs-literal">-vcodec</span> <span class="hljs-built_in">copy</span> output.avi<br></code></pre></td></tr></table></figure><h1 id="9-æ¨æµæ‹‰æµ"><a href="#9-æ¨æµæ‹‰æµ" class="headerlink" title="9 æ¨æµæ‹‰æµ"></a>9 æ¨æµæ‹‰æµ</h1><ul><li>æ¨æµæ‹‰æµ<ul><li>æ¨æµï¼šå°†ç›´æ’­å†…å®¹æ¨é€è‡³æœåŠ¡å™¨çš„è¿‡ç¨‹ã€‚</li><li>æ‹‰æµï¼šæœåŠ¡å™¨å·²æœ‰ç›´æ’­å†…å®¹ï¼Œç”¨æŒ‡å®šåœ°å€å°†å…¶æ‹‰å–çš„è¿‡ç¨‹ï¼Œ<a href="https://www.videolan.org/">VLCåª’ä½“æ’­æ”¾å™¨å®˜ç½‘</a>ã€‚</li><li>MediaMTXå®æ—¶åª’ä½“æœåŠ¡å™¨ï¼š<a href="https://github.com/bluenviron/mediamtx/releases">https://github.com/bluenviron/mediamtx/releases</a>ã€‚<ul><li>ä¸‹è½½å®‰è£…ç‰ˆæœ¬ï¼ŒWindowsï¼šmediamtx_v1.4.0_windows_amd64.zipã€‚</li><li>è§£å‹åï¼Œåœ¨æœ¬åœ°åŒå‡»è¿è¡Œâ€œmediamtx.exeâ€ï¼Œè¿›è¡Œæœ¬åœ°æ¨æµçš„æ¨¡æ‹Ÿã€‚</li><li>ä¸‹è½½å®‰è£…ç‰ˆæœ¬ï¼ŒUbuntuï¼šmediamtx_v1.4.0_linux_amd64.tar.gzã€‚</li><li>å‘½ä»¤è§£å‹ï¼š<code>tar -zxvf mediamtx_v1.4.0_linux_amd64.tar.gz</code>ã€‚</li><li>åœ¨å½“å‰è§£å‹çš„ç›®å½•ä¸­æ‰§è¡Œå‘½ä»¤å¼€å¯æœ¬åœ°åª’ä½“æœåŠ¡å™¨ï¼š<code>./mediamtx</code>ã€‚</li></ul></li></ul></li></ul><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Powershell"><span class="hljs-comment"># MediaMTXæ”¯æŒçš„æ¨æµåè®®ï¼ŒåŠå¯¹åº”ä½¿ç”¨çš„ç«¯å£</span><br><span class="hljs-number">2024</span>/<span class="hljs-number">01</span>/<span class="hljs-number">18</span> <span class="hljs-number">15</span>:<span class="hljs-number">58</span>:<span class="hljs-number">42</span> INF MediaMTX v1.<span class="hljs-number">4.0</span><br><span class="hljs-number">2024</span>/<span class="hljs-number">01</span>/<span class="hljs-number">18</span> <span class="hljs-number">15</span>:<span class="hljs-number">58</span>:<span class="hljs-number">42</span> INF configuration loaded from C:\Users\Admin\Downloads\mediamtx.yml<br><span class="hljs-number">2024</span>/<span class="hljs-number">01</span>/<span class="hljs-number">18</span> <span class="hljs-number">15</span>:<span class="hljs-number">58</span>:<span class="hljs-number">42</span> INF [<span class="hljs-type">RTSP</span>] listener opened on :<span class="hljs-number">8554</span> (TCP), :<span class="hljs-number">8000</span> (UDP/RTP), :<span class="hljs-number">8001</span> (UDP/RTCP)<br><span class="hljs-number">2024</span>/<span class="hljs-number">01</span>/<span class="hljs-number">18</span> <span class="hljs-number">15</span>:<span class="hljs-number">58</span>:<span class="hljs-number">42</span> INF [<span class="hljs-type">RTMP</span>] listener opened on :<span class="hljs-number">1935</span><br><span class="hljs-number">2024</span>/<span class="hljs-number">01</span>/<span class="hljs-number">18</span> <span class="hljs-number">15</span>:<span class="hljs-number">58</span>:<span class="hljs-number">42</span> INF [<span class="hljs-type">HLS</span>] listener opened on :<span class="hljs-number">8888</span><br><span class="hljs-number">2024</span>/<span class="hljs-number">01</span>/<span class="hljs-number">18</span> <span class="hljs-number">15</span>:<span class="hljs-number">58</span>:<span class="hljs-number">42</span> INF [<span class="hljs-type">WebRTC</span>] listener opened on :<span class="hljs-number">8889</span> (HTTP), :<span class="hljs-number">8189</span> (ICE/UDP)<br><span class="hljs-number">2024</span>/<span class="hljs-number">01</span>/<span class="hljs-number">18</span> <span class="hljs-number">15</span>:<span class="hljs-number">58</span>:<span class="hljs-number">42</span> INF [<span class="hljs-type">SRT</span>] listener opened on :<span class="hljs-number">8890</span> (UDP)<br></code></pre></td></tr></table></figure><h2 id="9-1-æ¨æµ"><a href="#9-1-æ¨æµ" class="headerlink" title="9-1 æ¨æµ"></a>9-1 æ¨æµ</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs Powershell"><span class="hljs-comment"># -rtsp_transport tcpï¼šæŒ‡å®šRTSPä¼ è¾“åè®®ä¸ºTCP</span><br><span class="hljs-comment"># -stream_loop -1ï¼šæ— é™å¾ªç¯æ’­æ”¾è¾“å…¥çš„è§†é¢‘æµï¼Œ-1è¡¨ç¤ºæ— é™å¾ªç¯ï¼Œæ³¨æ„æ”¾åœ¨â€œ-i test.mp4â€ä¹‹å‰</span><br><span class="hljs-comment"># -auto-alt-ref 0ï¼šå‘Šè¯‰FFmpegå¯¹è§†é¢‘è¿›è¡ŒWebMæ ¼å¼ç¼–ç æ—¶ä¸è¦ä½¿ç”¨ç¦æ­¢VP8ç¼–ç ä¸­çš„å¤‡ç”¨å‚è€ƒå¸§ç‰¹æ€§</span><br><br><span class="hljs-comment"># ä½¿ç”¨RTSPè¿›è¡Œæ¨æµ</span><br>ffmpeg <span class="hljs-literal">-re</span> <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-c</span> <span class="hljs-built_in">copy</span> <span class="hljs-operator">-f</span> rtsp rtsp://<span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span>:<span class="hljs-number">8554</span>/stream<br>ffmpeg <span class="hljs-literal">-re</span> <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-c</span> <span class="hljs-built_in">copy</span> <span class="hljs-operator">-f</span> rtsp <span class="hljs-literal">-rtsp_transport</span> tcp rtsp://<span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span>:<span class="hljs-number">8554</span>/stream<br><br><span class="hljs-comment"># ä½¿ç”¨RTMPè¿›è¡Œæ¨æµ</span><br>ffmpeg <span class="hljs-literal">-re</span> <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-c</span> <span class="hljs-built_in">copy</span> <span class="hljs-operator">-f</span> flv rtmp://<span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span>:<span class="hljs-number">1935</span>/stream<br><span class="hljs-comment"># Linuxä¸‹å¯èƒ½è­¦å‘Šï¼šFailed to update header with correct duration ... correct filesize.</span><br><span class="hljs-comment"># æŠ¥å‘Šæ— æ³•æ›´æ–°å¤´éƒ¨ä¿¡æ¯ä»¥åŒ…å«æ­£ç¡®çš„æŒç»­æ—¶é—´å’Œæ–‡ä»¶å¤§å°ï¼Œå¯ä»¥å°è¯•ä½¿ç”¨ç‰¹å®šçš„ç¼–ç å‚æ•°è¿›è¡Œè½¬ç </span><br>ffmpeg <span class="hljs-literal">-re</span> <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-c</span>:v libx264 <span class="hljs-literal">-c</span>:a aac <span class="hljs-operator">-f</span> flv rtmp://<span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span>:<span class="hljs-number">1935</span>/stream<br><br><span class="hljs-comment"># ä½¿ç”¨HLSè¿›è¡Œæ¨æµ</span><br>ffmpeg <span class="hljs-literal">-re</span> <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-c</span> <span class="hljs-built_in">copy</span> <span class="hljs-operator">-f</span> hls http://<span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span>:<span class="hljs-number">8888</span>/stream.m3u8<br><span class="hljs-comment"># Linuxä¸‹å¯èƒ½è­¦å‘Šï¼šNo HTTP method set, hls muxer defaulting to method PUT.</span><br><span class="hljs-comment"># è­¦å‘Šè¯´æ˜åœ¨ä½¿ç”¨HLS(HTTP Live Streaming)å¤ç”¨å™¨æ—¶ï¼Œæœªè®¾ç½®HTTPæ–¹æ³•ï¼Œé»˜è®¤ä½¿ç”¨PUTæ–¹æ³•</span><br>ffmpeg <span class="hljs-literal">-re</span> <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-c</span> <span class="hljs-built_in">copy</span> <span class="hljs-operator">-f</span> hls <span class="hljs-literal">-method</span> POST http://<span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span>:<span class="hljs-number">8888</span>/stream.m3u8<br><span class="hljs-comment"># Linuxä¸‹å¯èƒ½è­¦å‘Šï¼šCannot use rename on non file protocol ... temporary partial files</span><br><br><span class="hljs-comment"># ä½¿ç”¨WebRTCè¿›è¡Œæ¨æµ</span><br>ffmpeg <span class="hljs-literal">-re</span> <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-c</span> <span class="hljs-built_in">copy</span> <span class="hljs-operator">-f</span> webm http://<span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span>:<span class="hljs-number">8889</span>/stream<br><span class="hljs-comment"># Linuxä¸‹å¯èƒ½æŠ¥é”™ï¼šOnly VP8 or VP9 video and Vorbis or Opus ... are supported for WebM.</span><br><span class="hljs-comment"># WebMä»…æ”¯æŒVP8æˆ–VP9è§†é¢‘ç¼–è§£ç å™¨ã€Vorbisæˆ–OpuséŸ³é¢‘ç¼–è§£ç å™¨å’ŒWebVTTå­—å¹•ï¼Œç¡®ä¿ä½¿ç”¨æ”¯æŒçš„ç¼–è§£ç å™¨</span><br>ffmpeg <span class="hljs-literal">-re</span> <span class="hljs-literal">-i</span> test.mp4<br> <span class="hljs-literal">-c</span>:v libvpx <span class="hljs-literal">-c</span>:a libvorbis <span class="hljs-literal">-auto-alt-ref</span> <span class="hljs-number">0</span> <span class="hljs-operator">-f</span> webm http://<span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span>:<span class="hljs-number">8889</span>/stream<br><br><span class="hljs-comment"># ä½¿ç”¨SRTè¿›è¡Œæ¨æµ</span><br>ffmpeg <span class="hljs-literal">-re</span> <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-c</span> <span class="hljs-built_in">copy</span> <span class="hljs-operator">-f</span> mpegts srt://<span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span>:<span class="hljs-number">8890</span><br><span class="hljs-comment"># Linuxä¸‹å¯èƒ½æŠ¥é”™ï¼šsrt://127.0.0.1:8890: Protocol not found</span><br><span class="hljs-comment"># è¿™æ˜¯ç”±äºFFmpegåœ¨Linuxä¸‹å¯¹SRT URLæ–¹æ¡ˆçš„æ”¯æŒä¸å®Œæ•´</span><br><span class="hljs-comment"># å°è¯•ä½¿ç”¨SRTåè®®çš„å¦ä¸€ç§å†™æ³•ï¼Œå³é€šè¿‡UDPæŒ‡å®šç«¯å£è¿›è¡Œä¼ è¾“ï¼Œå¹¶æ·»åŠ å‚æ•°è®¾ç½®æ•°æ®åŒ…å¤§å°</span><br>ffmpeg <span class="hljs-literal">-re</span> <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-c</span> <span class="hljs-built_in">copy</span> <span class="hljs-operator">-f</span> mpegts <span class="hljs-string">&quot;srt://127.0.0.1:8890?pkt_size=1316&quot;</span><br><span class="hljs-comment"># Linuxä¸‹å¯èƒ½æŠ¥é”™ï¼šsrt://127.0.0.1:8890?pkt_size=1316: Protocol not found</span><br><span class="hljs-comment"># å°è¯•ä½¿ç”¨SRTçš„ä¼ ç»Ÿç«¯å£æ¨¡å¼ï¼Œè€ŒéURLå½¢å¼ï¼Œmode=listenerå‚æ•°å‘Šè¯‰FFmpegåœ¨ç›‘å¬æ¨¡å¼ä¸‹ç­‰å¾…ä¼ å…¥è¿æ¥</span><br>ffmpeg <span class="hljs-literal">-re</span> <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-c</span> <span class="hljs-built_in">copy</span> <span class="hljs-operator">-f</span> mpegts <span class="hljs-string">&quot;srt://:8890?pkt_size=1316&amp;mode=listener&quot;</span><br><span class="hljs-comment"># Linuxä¸‹å¯èƒ½æŠ¥é”™ï¼šsrt://:8890?pkt_size=1316&amp;mode=listener: Protocol not found(***æ–¹æ³•éƒ½æ— æ•ˆ)</span><br><br><span class="hljs-comment"># ä½¿ç”¨RTSPè¿›è¡Œå¾ªç¯æ¨æµ</span><br>ffmpeg <span class="hljs-literal">-re</span> <span class="hljs-literal">-stream_loop</span> <span class="hljs-literal">-1</span> <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-c</span> <span class="hljs-built_in">copy</span> <span class="hljs-operator">-f</span> rtsp rtsp://<span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span>:<span class="hljs-number">8554</span>/stream<br></code></pre></td></tr></table></figure><h2 id="9-2-æ‹‰æµ"><a href="#9-2-æ‹‰æµ" class="headerlink" title="9-2 æ‹‰æµ"></a>9-2 æ‹‰æµ</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Powershell"><span class="hljs-comment"># RTSPæ¨æµ</span><br>ffmpeg <span class="hljs-literal">-re</span> <span class="hljs-literal">-stream_loop</span> <span class="hljs-literal">-1</span> <span class="hljs-literal">-i</span> test.mp4 <span class="hljs-literal">-c</span>:v <span class="hljs-built_in">copy</span> <span class="hljs-literal">-c</span>:a aac <span class="hljs-operator">-f</span> rtsp rtsp://<span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span>:<span class="hljs-number">8554</span>/stream<br><br><span class="hljs-comment"># æ¨æµåï¼Œå¯ä»¥ä½¿ç”¨VLCåª’ä½“æ’­æ”¾å™¨è¿›è¡Œæ‹‰æµæ’­æ”¾ï¼Œæˆ–ffplayå‘½ä»¤æ’­æ”¾</span><br>ffplay rtsp://<span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span>:<span class="hljs-number">8554</span>/stream<br><br><span class="hljs-comment"># -timeout 30000000ï¼šè®¾ç½®è¶…æ—¶æ—¶é—´ä¸º30ç§’ï¼Œå•ä½å¾®ç§’(us)ï¼Œè¯¥é€‰é¡¹å¿…é¡»æ”¾åœ¨â€œ-iâ€å‚æ•°ä¹‹å‰</span><br>ffmpeg <span class="hljs-literal">-timeout</span> <span class="hljs-number">30000000</span> <span class="hljs-literal">-i</span> rtsp://<span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span>:<span class="hljs-number">8554</span>/stream <span class="hljs-literal">-c</span> <span class="hljs-built_in">copy</span> output.mp4<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>æµ‹è¯•å·¥å…·</category>
      
      <category>FFmpeg çš„åº”ç”¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æµ‹è¯•å·¥å…·</tag>
      
      <tag>FFmpeg</tag>
      
      <tag>æ¨æ‹‰æµå·¥å…·</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>PlayWright æ¡†æ¶(äºŒ)</title>
    <link href="/2023/11/02/ce-shi-kuang-jia/tf07-playwright-kuang-jia-er/"/>
    <url>/2023/11/02/ce-shi-kuang-jia/tf07-playwright-kuang-jia-er/</url>
    
    <content type="html"><![CDATA[<p>Playwrightç”¨äºè·¨æµè§ˆå™¨æµ‹è¯•ï¼Œæ”¯æŒChromeã€Firefoxã€Edgeç­‰ï¼Œæä¾›ä¸€ä¸ªç®€å•è€Œå¼ºå¤§çš„APIæ¨¡æ‹Ÿç”¨æˆ·åœ¨æµè§ˆå™¨ä¸­çš„äº¤äº’æ“ä½œã€‚</p><span id="more"></span><h1 id="1-æ–¹æ³•æ±‡æ€»"><a href="#1-æ–¹æ³•æ±‡æ€»" class="headerlink" title="1 æ–¹æ³•æ±‡æ€»"></a>1 æ–¹æ³•æ±‡æ€»</h1><ul><li>æ–¹æ³•æ±‡æ€»<ul><li>Playwrightä¸­çš„æµ‹è¯•å±‚çº§ï¼šBrowser &gt; Context &gt; Page &gt; Locator &gt; ElementHandleã€‚</li><li>Pageå¯¹è±¡ï¼šç›´æ¥åœ¨æ•´ä¸ªé¡µé¢èŒƒå›´å†…è¿›è¡Œå…ƒç´ æŸ¥æ‰¾å’Œåˆ¤æ–­ã€‚<ul><li><code>page.is_hidden(selector: str)</code>Â·Â·Â·Â·Â·åˆ¤æ–­æŒ‡å®šé€‰æ‹©å™¨å¯¹åº”çš„å…ƒç´ æ˜¯å¦éšè—</li><li><code>page.is_visible(selector: str)</code>Â·Â·Â·Â·åˆ¤æ–­æŒ‡å®šé€‰æ‹©å™¨å¯¹åº”çš„å…ƒç´ æ˜¯å¦å¯è§</li><li><code>page.is_enabled(selector: str)</code>Â·Â·Â·Â·åˆ¤æ–­æŒ‡å®šé€‰æ‹©å™¨å¯¹åº”çš„å…ƒç´ æ˜¯å¦å¯ç”¨</li><li><code>page.is_editable(selector: str)</code>Â·Â·Â·åˆ¤æ–­æŒ‡å®šé€‰æ‹©å™¨å¯¹åº”çš„å…ƒç´ æ˜¯å¦å¯ç¼–è¾‘</li><li><code>page.is_disabled(selector: str)</code>Â·Â·Â·åˆ¤æ–­æŒ‡å®šé€‰æ‹©å™¨å¯¹åº”çš„å…ƒç´ æ˜¯å¦ä¸å¯ç”¨</li><li><code>page.is_checked(selector: str)</code>Â·Â·Â·Â·åˆ¤æ–­æŒ‡å®šé€‰æ‹©å™¨å¯¹åº”çš„å•é€‰Radioæˆ–å¤é€‰Checkboxï¼Œå…ƒç´ æ˜¯å¦è¢«é€‰ä¸­</li></ul></li><li>Locatorå¯¹è±¡ï¼šé€šè¿‡Pageé¡µé¢å¯¹è±¡çš„å®šä½æ–¹æ³•ï¼Œä¾‹å¦‚ä½¿ç”¨<code>page.locator(selector)</code>æ¥è·å–ElementHandleå…ƒç´ å¥æŸ„ã€‚<ul><li><code>locator.is_hidden()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·åˆ¤æ–­è¯¥å®šä½å™¨å¯¹è±¡å¯¹åº”çš„å…ƒç´ æ˜¯å¦éšè—</li><li><code>locator.is_visible()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·åˆ¤æ–­è¯¥å®šä½å™¨å¯¹è±¡å¯¹åº”çš„å…ƒç´ æ˜¯å¦å¯è§</li><li><code>locator.is_enabled()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·åˆ¤æ–­è¯¥å®šä½å™¨å¯¹è±¡å¯¹åº”çš„å…ƒç´ æ˜¯å¦å¯ç”¨</li><li><code>locator.is_editable()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·åˆ¤æ–­è¯¥å®šä½å™¨å¯¹è±¡å¯¹åº”çš„å…ƒç´ æ˜¯å¦å¯ç¼–è¾‘</li><li><code>locator.is_disabled()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·åˆ¤æ–­è¯¥å®šä½å™¨å¯¹è±¡å¯¹åº”çš„å…ƒç´ æ˜¯å¦ä¸å¯ç”¨</li><li><code>locator.is_checked()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·åˆ¤æ–­è¯¥å®šä½å™¨å¯¹è±¡å¯¹åº”çš„å•é€‰Radioæˆ–å¤é€‰Checkboxï¼Œå…ƒç´ æ˜¯å¦è¢«é€‰ä¸­</li></ul></li><li>ElementHandleå¯¹è±¡ï¼šé€šè¿‡ä½¿ç”¨<code>page.query_selector()</code>æ–¹æ³•ï¼Œæ¥è°ƒç”¨è¿”å›çš„ElementHandleå…ƒç´ å¥æŸ„ï¼Œä¸€èˆ¬ä¸å¸¸ç”¨ã€‚<ul><li><code>element_handle.is_hidden()</code>Â·Â·Â·Â·Â·Â·Â·Â·åˆ¤æ–­è¯¥å…ƒç´ å¥æŸ„å¯¹è±¡å¯¹åº”çš„å…ƒç´ æ˜¯å¦éšè—</li><li><code>element_handle.is_visible()</code>Â·Â·Â·Â·Â·Â·Â·åˆ¤æ–­è¯¥å…ƒç´ å¥æŸ„å¯¹è±¡å¯¹åº”çš„å…ƒç´ æ˜¯å¦å¯è§</li><li><code>element_handle.is_enabled()</code>Â·Â·Â·Â·Â·Â·Â·åˆ¤æ–­è¯¥å…ƒç´ å¥æŸ„å¯¹è±¡å¯¹åº”çš„å…ƒç´ æ˜¯å¦å¯ç”¨</li><li><code>element_handle.is_editable()</code>Â·Â·Â·Â·Â·Â·åˆ¤æ–­è¯¥å…ƒç´ å¥æŸ„å¯¹è±¡å¯¹åº”çš„å…ƒç´ æ˜¯å¦å¯ç¼–è¾‘</li><li><code>element_handle.is_disabled()</code>Â·Â·Â·Â·Â·Â·åˆ¤æ–­è¯¥å…ƒç´ å¥æŸ„å¯¹è±¡å¯¹åº”çš„å…ƒç´ æ˜¯å¦ä¸å¯ç”¨</li><li><code>element_handle.is_checked()</code>Â·Â·Â·Â·Â·Â·Â·åˆ¤æ–­è¯¥å…ƒç´ å¥æŸ„å¯¹è±¡å¯¹åº”çš„å•é€‰Radioæˆ–å¤é€‰Checkboxï¼Œå…ƒç´ æ˜¯å¦è¢«é€‰ä¸­</li></ul></li><li>Expectå¸¸ç”¨çš„æ–­è¨€æ–¹æ³•<ul><li><code>expect(api_response).to_be_ok()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·æ–­è¨€APIå“åº”æ˜¯å¦æˆåŠŸ</li><li>Pageé¡µé¢æ–­è¨€<ul><li><code>expect(page).to_have_url()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·æ–­è¨€é¡µé¢çš„URLæ˜¯å¦ç¬¦åˆé¢„æœŸ</li><li><code>expect(page).not_to_have_url()</code>Â·Â·Â·Â·Â·Â·æ–­è¨€é¡µé¢çš„URLæ˜¯å¦ä¸å­˜åœ¨</li><li><code>expect(page).to_have_title()</code>Â·Â·Â·Â·Â·Â·Â·Â·æ–­è¨€é¡µé¢çš„æ ‡é¢˜æ˜¯å¦ç¬¦åˆé¢„æœŸ</li><li><code>expect(page).not_to_have_title()</code>Â·Â·Â·Â·æ–­è¨€é¡µé¢çš„æ ‡é¢˜æ˜¯å¦ä¸å­˜åœ¨</li></ul></li><li><code>expect(locator).to_be_empty()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·æ–­è¨€locatorå¯¹åº”çš„å…ƒç´ æ˜¯å¦ä¸ºç©º</li><li><code>expect(locator).to_be_hidden()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·æ–­è¨€locatorå¯¹åº”çš„å…ƒç´ æ˜¯å¦éšè—</li><li><code>expect(locator).to_be_visible()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·æ–­è¨€locatorå¯¹åº”çš„å…ƒç´ æ˜¯å¦å¯è§</li><li><code>expect(locator).to_be_enabled()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·æ–­è¨€locatorå¯¹åº”çš„å…ƒç´ æ˜¯å¦å¯ç”¨</li><li><code>expect(locator).to_be_editable()</code>Â·Â·Â·Â·Â·Â·Â·Â·æ–­è¨€locatorå¯¹åº”çš„å…ƒç´ æ˜¯å¦å¯ç¼–è¾‘</li><li><code>expect(locator).to_be_disabled()</code>Â·Â·Â·Â·Â·Â·Â·Â·æ–­è¨€locatorå¯¹åº”çš„å…ƒç´ æ˜¯å¦ä¸å¯ç”¨</li><li><code>expect(locator).to_be_focused()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·æ–­è¨€locatorå¯¹åº”çš„å…ƒç´ æ˜¯å¦å¤„äºç„¦ç‚¹çŠ¶æ€</li><li><code>expect(locator).to_be_checked()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·æ–­è¨€locatorå¯¹åº”çš„å¤é€‰æ¡†æˆ–å•é€‰æ¡†å…ƒç´ æ˜¯å¦è¢«é€‰ä¸­</li><li><code>expect(locator).to_have_id()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·æ–­è¨€locatorå¯¹åº”çš„å…ƒç´ æ˜¯å¦å…·æœ‰ç‰¹å®šçš„id</li><li><code>expect(locator).to_have_count()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·æ–­è¨€locatorå¯¹åº”çš„å…ƒç´ æ•°é‡æ˜¯å¦ç¬¦åˆé¢„æœŸ</li><li><code>expect(locator).to_have_value()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·æ–­è¨€locatorå¯¹åº”çš„å…ƒç´ çš„å€¼æ˜¯å¦ç¬¦åˆé¢„æœŸ</li><li><code>expect(locator).to_have_text()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·æ–­è¨€locatorå¯¹åº”çš„å…ƒç´ æ˜¯å¦å…·æœ‰ç‰¹å®šçš„æ–‡æœ¬</li><li><code>expect(locator).to_have_class()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·æ–­è¨€locatorå¯¹åº”çš„å…ƒç´ æ˜¯å¦å…·æœ‰ç‰¹å®šçš„ç±»å</li><li><code>expect(locator).to_have_css()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·æ–­è¨€locatorå¯¹åº”çš„å…ƒç´ æ˜¯å¦å…·æœ‰ç‰¹å®šçš„CSSæ ·å¼</li><li><code>expect(locator).to_have_values()</code>Â·Â·Â·Â·Â·Â·Â·Â·æ–­è¨€locatorå¯¹åº”çš„å…ƒç´ çš„å€¼é›†åˆæ˜¯å¦ç¬¦åˆé¢„æœŸ</li><li><code>expect(locator).to_have_attribute()</code>Â·Â·Â·Â·Â·æ–­è¨€locatorå¯¹åº”çš„å…ƒç´ æ˜¯å¦å…·æœ‰ç‰¹å®šçš„å±æ€§</li><li><code>expect(locator).to_have_js_property()</code>Â·Â·Â·æ–­è¨€locatorå¯¹åº”çš„å…ƒç´ æ˜¯å¦å…·æœ‰ç‰¹å®šçš„JavaScriptå±æ€§</li><li><code>expect(locator).to_contain_text()</code>Â·Â·Â·Â·Â·Â·Â·æ–­è¨€locatorå¯¹åº”çš„å…ƒç´ æ˜¯å¦åŒ…å«ç‰¹å®šçš„æ–‡æœ¬</li></ul></li></ul></li></ul><h2 id="1-1-é¡µé¢å¯¼èˆª"><a href="#1-1-é¡µé¢å¯¼èˆª" class="headerlink" title="1-1 é¡µé¢å¯¼èˆª*"></a>1-1 é¡µé¢å¯¼èˆª*</h2><ul><li>é¡µé¢å¯¼èˆª<ul><li>å¼‚æ­¥å¯¼èˆª(Async navigation)<ul><li>æŒ‡ç­‰å¾…é¡µé¢å®Œæˆå¯¼èˆªçš„æ“ä½œï¼Œé¡µé¢å®Œæˆå¯¼èˆªåå†æ‰§è¡Œåç»­çš„æ“ä½œã€‚</li><li>å¯ä½¿ç”¨<code>page.goto()</code>æˆ–<code>page.wait_for_navigation()</code>æ–¹æ³•æ¥ç­‰å¾…é¡µé¢å¯¼èˆªå®Œæˆã€‚</li><li>å¼‚æ­¥å¯¼èˆªé€šå¸¸ç”¨äºå•ä¸€çš„é¡µé¢å¯¼èˆªï¼Œç­‰å¾…é¡µé¢è·³è½¬ï¼Œæˆ–åŠ è½½å®Œæ¯•åå†è¿›è¡Œåç»­æ“ä½œã€‚</li><li>è§¦å‘çš„å¯¼èˆªï¼šæŒ‡ä»£å¯¼èˆªåˆ°æ–°çš„URLã€åœ¨åŒä¸€ç½‘é¡µä¸­åˆ·æ–°ã€åé€€æˆ–å‰è¿›ï¼Œè¿™å››ç§æƒ…å†µã€‚</li></ul></li><li>å¤šé‡å¯¼èˆª(Multiple navigations)<ul><li>å¤šé‡å¯¼èˆªæŒ‡è¿ç»­è¿›è¡Œå¤šæ¬¡é¡µé¢å¯¼èˆªçš„æ“ä½œï¼Œæ¯æ¬¡å¯¼èˆªéƒ½éœ€è¦ç­‰å¾…é¡µé¢å®Œæˆè·³è½¬æˆ–åŠ è½½ã€‚</li><li>å¯ä½¿ç”¨<code>page.goto()</code>æˆ–<code>page.expect_navigation()</code>æ–¹æ³•æ¥æ˜ç¡®ç­‰å¾…ç‰¹å®šçš„å¯¼èˆªå®Œæˆã€‚</li><li>é€šå¸¸ç”¨äºéœ€è¿›è¡Œè¿ç»­å¤šæ¬¡é¡µé¢è·³è½¬çš„æƒ…å†µï¼Œå¦‚åº”ç”¨ç¨‹åºä¸­æ‰§è¡Œå¤šæ­¥éª¤æ“ä½œï¼Œæˆ–æµ‹è¯•æœŸé—´æ¨¡æ‹Ÿç”¨æˆ·æµè§ˆã€‚</li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> asyncio<br><span class="hljs-keyword">from</span> playwright.async_api <span class="hljs-keyword">import</span> async_playwright<br><span class="hljs-keyword">from</span> playwright._impl._api_types <span class="hljs-keyword">import</span> TimeoutError<br><br><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">example</span>():<br>    <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> async_playwright() <span class="hljs-keyword">as</span> p:<br>        browser = <span class="hljs-keyword">await</span> p.chromium.launch(headless=<span class="hljs-literal">False</span>)<br>        page = <span class="hljs-keyword">await</span> browser.new_page()<br><br>        <span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">on_navigation</span>(<span class="hljs-params">page, **kwargs</span>):                <span class="hljs-comment"># ç›‘å¬é¡µé¢å¯¼èˆªäº‹ä»¶</span><br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;é¡µé¢å¯¼èˆªå®Œæˆ&quot;</span>)<br>        page.on(<span class="hljs-string">&quot;navigation&quot;</span>, on_navigation)                    <span class="hljs-comment"># æ·»åŠ å¯¼èˆªäº‹ä»¶ç›‘å¬å™¨</span><br>        <span class="hljs-keyword">await</span> page.goto(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)               <span class="hljs-comment"># å¯¼èˆªåˆ°æŒ‡å®šURL</span><br>        <span class="hljs-keyword">try</span>:<br>            <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> page.expect_navigation():                <span class="hljs-comment"># ç­‰å¾…é¡µé¢å¯¼èˆªå®Œæˆ</span><br>                <span class="hljs-keyword">await</span> page.click(<span class="hljs-string">&#x27;//*[@id=&quot;s-top-left&quot;]/a[1]&#x27;</span>)<br>        <span class="hljs-keyword">except</span> TimeoutError:                                    <span class="hljs-comment"># ä¸ºå•¥è¿˜ä¼šå¯¼èˆªè¶…æ—¶ï¼Ÿ</span><br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;é¡µé¢å¯¼èˆªè¶…æ—¶&quot;</span>)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;é¡µé¢å¯¼èˆªå®Œæˆï¼Œæ–°é¡µé¢åŠ è½½æˆåŠŸ&quot;</span>)<br><br>        <span class="hljs-keyword">await</span> browser.close()                                   <span class="hljs-comment"># å…³é—­æµè§ˆå™¨</span><br><br>asyncio.run(example())                                          <span class="hljs-comment"># è¿è¡Œä»£ç </span><br></code></pre></td></tr></table></figure><h2 id="1-2-é«˜çº§æ¨¡å¼"><a href="#1-2-é«˜çº§æ¨¡å¼" class="headerlink" title="1-2 é«˜çº§æ¨¡å¼"></a>1-2 é«˜çº§æ¨¡å¼</h2><ul><li>é«˜çº§æ¨¡å¼<ul><li><code>page.wait_for_function()</code>ï¼šç”¨äºç­‰å¾…æŒ‡å®šçš„JavaScriptå‡½æ•°è¿”å›trueæˆ–éç©ºç»“æœã€‚</li><li>å¯ç”¨äºæ£€æŸ¥é¡µé¢ä¸Šçš„æŸäº›æ¡ä»¶æ˜¯å¦æ»¡è¶³ï¼Œä¾‹å¦‚ï¼šç­‰å¾…ç‰¹å®šå…ƒç´ å‡ºç°æˆ–ç‰¹å®šæ–‡æœ¬è¢«æ›´æ–°ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> asyncio<br><span class="hljs-keyword">from</span> playwright.async_api <span class="hljs-keyword">import</span> async_playwright<br><br><br><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">wait_for_example</span>():<br>    <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> async_playwright() <span class="hljs-keyword">as</span> p:<br>        browser = <span class="hljs-keyword">await</span> p.chromium.launch(headless=<span class="hljs-literal">False</span>)<br>        page = <span class="hljs-keyword">await</span> browser.new_page()<br><br>        <span class="hljs-keyword">await</span> page.goto(<span class="hljs-string">&#x27;https://www.baidu.com/&#x27;</span>)               <span class="hljs-comment"># æ‰“å¼€é¡µé¢</span><br>        <span class="hljs-keyword">await</span> page.wait_for_function(                           <span class="hljs-comment"># ç­‰å¾…é¡µé¢ä¸Šçš„æ ‡é¢˜å…ƒç´ å‡ºç°</span><br>            <span class="hljs-string">&#x27;() =&gt; document.querySelector(&quot;title&quot;) !== null&#x27;</span><br>        )<br>        title_text = <span class="hljs-keyword">await</span> page.evaluate(                       <span class="hljs-comment"># æ£€æŸ¥æ ‡é¢˜æ–‡æœ¬æ˜¯å¦ç¬¦åˆé¢„æœŸ</span><br>            <span class="hljs-string">&#x27;document.querySelector(&quot;title&quot;).textContent&#x27;</span><br>        )<br>        <span class="hljs-keyword">if</span> title_text == <span class="hljs-string">&#x27;ç™¾åº¦ä¸€ä¸‹ï¼Œä½ å°±çŸ¥é“&#x27;</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;æ ‡é¢˜æ–‡æœ¬ç¬¦åˆé¢„æœŸ&#x27;</span>)<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;æ ‡é¢˜æ–‡æœ¬ä¸ç¬¦åˆé¢„æœŸ&#x27;</span>)<br><br>        <span class="hljs-keyword">await</span> browser.close()                                   <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br><br>asyncio.run(wait_for_example())<br></code></pre></td></tr></table></figure><h2 id="1-3-svgå…ƒç´ æ“ä½œ"><a href="#1-3-svgå…ƒç´ æ“ä½œ" class="headerlink" title="1-3 svgå…ƒç´ æ“ä½œ"></a>1-3 svgå…ƒç´ æ“ä½œ</h2><ul><li>svgå…ƒç´ æ“ä½œ<ul><li>SVGå³Scalable Vector Graphicsï¼Œç”±W3Cåˆ¶å®šï¼Œç”¨äºæè¿°äºŒç»´çŸ¢é‡å›¾å½¢çš„XML(å¯æ‰©å±•æ ‡è®°è¯­è¨€)æ–‡ä»¶æ ¼å¼ã€‚</li><li>æ— æ³•ç”¨æ™®é€šçš„æ ‡ç­¾å®šä½åˆ°ï¼Œå¦‚<code>$x(&#39;//svg&#39;)</code>ï¼Œåªèƒ½é€šè¿‡<code>name()</code>å‡½æ•°å®šä½ï¼Œå¦‚<code>$x(&quot;//*[name()=&#39;svg&#39;]&quot;)</code>ã€‚</li><li>å¦‚æœé¡µé¢ä¸Šæœ‰å¤šä¸ªsvgå…ƒç´ ï¼Œ<code>//*[name()=&quot;svg&quot;]</code>å°†å®šä½å‡ºå…¨éƒ¨çš„svgå…ƒç´ ã€‚<ul><li>å¯ä»¥é€šè¿‡çˆ¶å…ƒç´ æ¥è¿›è¡ŒåŒºåˆ†ï¼Œä¾‹å¦‚ï¼š<code>//*[@id=&quot;box1&quot;]//*[name()=&quot;svg&quot;]</code>ã€‚</li><li>å¯ä½¿ç”¨<code>and</code>ç»„åˆå…¶ä»–å±æ€§ï¼Œä¾‹å¦‚ï¼š<code>//*[name()=&quot;svg&quot; and @width=&quot;500&quot;]</code>ã€‚</li></ul></li><li>å®šä½svgä¸Šçš„å­å…ƒç´ ï¼Œä»ç„¶å¯ä»¥é€šè¿‡<code>name()</code>å‡½æ•°å®šä½ï¼Œå¦‚<code>$x(&quot;//*[name()=&#39;svg&#39;]/*[name()=&#39;path&#39;]&quot;)</code>ã€‚</li><li>svgå…ƒç´ ä¸‹çš„circleæ˜¯å¯ä»¥æ‹–åŠ¨çš„ï¼Œä¾‹å¦‚ï¼šå¾€å³æ‹–åŠ¨100ä¸ªåƒç´ ï¼Œé‚£ä¹ˆcxå€¼å°±ç”±åŸå…ˆçš„<code>cx=&quot;100&quot;</code>å˜ä¸º<code>cx=200</code>ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>)<br>    page = browser.new_page()<br>    page.goto(<span class="hljs-string">&#x27;https://www.w3school.com.cn/svg/circle1.svg&#x27;</span>)<br><br>    circle = page.locator(<br>        <span class="hljs-string">&quot;//*[name()=&#x27;svg&#x27;]/*[name()=&#x27;circle&#x27;]&quot;</span><br>    )                                                           <span class="hljs-comment"># svgå…ƒç´ å®šä½</span><br>    <span class="hljs-built_in">print</span>(circle.bounding_box())<br>    box = circle.bounding_box()<br><br>    circle.evaluate(                                            <span class="hljs-comment"># æ·»åŠ äº‹ä»¶ç›‘å¬</span><br>        <span class="hljs-string">&#x27;node =&gt; node.addEventListener(&quot;mousedown&quot;, function()&#x27;</span><br>        <span class="hljs-string">&#x27;&#123;console.log(&quot;ç›®æ ‡å…ƒç´ è¢«é¼ æ ‡downäº†&quot;);&#125;);&#x27;</span><br>    )<br><br>    page.mouse.move(                                            <span class="hljs-comment"># svgå…ƒç´ æ‹–æ‹½</span><br>        x=box[<span class="hljs-string">&#x27;x&#x27;</span>] + box[<span class="hljs-string">&#x27;width&#x27;</span>] / <span class="hljs-number">2</span>,<br>        y=box[<span class="hljs-string">&#x27;y&#x27;</span>] + box[<span class="hljs-string">&#x27;height&#x27;</span>] / <span class="hljs-number">2</span><br>    )<br>    page.mouse.down()<br>    page.mouse.move(<br>        x=box[<span class="hljs-string">&#x27;x&#x27;</span>] + box[<span class="hljs-string">&#x27;width&#x27;</span>] / <span class="hljs-number">2</span> + <span class="hljs-number">100</span>,<br>        y=box[<span class="hljs-string">&#x27;y&#x27;</span>] + box[<span class="hljs-string">&#x27;height&#x27;</span>] / <span class="hljs-number">2</span><br>    )<br>    page.mouse.up(button=<span class="hljs-string">&quot;middle&quot;</span>)<br>    page.pause()                                                <span class="hljs-comment"># F12çš„consoleæŸ¥çœ‹</span><br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h2 id="1-4-æ—¥æœŸæ§ä»¶è¾“å…¥"><a href="#1-4-æ—¥æœŸæ§ä»¶è¾“å…¥" class="headerlink" title="1-4 æ—¥æœŸæ§ä»¶è¾“å…¥"></a>1-4 æ—¥æœŸæ§ä»¶è¾“å…¥</h2><ul><li>æ—¥æœŸæ§ä»¶è¾“å…¥<ul><li>è¾“å…¥æ¡†æ˜¯æ—¥æœŸæ§ä»¶æ—¶ï¼Œå…ˆçœ‹èƒ½å¦ç›´æ¥è¾“å…¥æ—¥æœŸï¼Œå¯ä»¥ç›´æ¥è¾“å…¥çš„æƒ…å†µä¸‹å°±ä¸ç”¨ç‚¹å¼€äº†ã€‚</li><li>è‹¥æœ‰<code>readonly</code>å±æ€§å°±ä¸èƒ½ç›´æ¥è¾“å…¥ï¼Œè¿™ç§æƒ…å†µä¸‹å¯ä»¥ä½¿ç”¨JavaScriptå»æ‰å±æ€§å†è¾“å…¥ã€‚</li></ul></li></ul><h4 id="1-ç›´æ¥è¾“å…¥"><a href="#1-ç›´æ¥è¾“å…¥" class="headerlink" title="(1) ç›´æ¥è¾“å…¥"></a>(1) ç›´æ¥è¾“å…¥</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>)<br>    context = browser.new_context()<br>    page = context.new_page()<br>    page.goto(<br>        <span class="hljs-string">r&#x27;http://wyeditor.com/layui_demo/%E6%97%A5%E6%9C%9F&#x27;</span><br>        <span class="hljs-string">r&#x27;%E5%92%8C%E6%97%B6%E9%97%B4%E7%BB%84%E4%BB%B6.html&#x27;</span><br>    )<br>    page.locator(<br>        <span class="hljs-string">&#x27;//*[@id=&quot;LayEdit_267858&quot;]&#x27;</span><br>    ).fill(<span class="hljs-string">&#x27;2023-09-01&#x27;</span>)                                        <span class="hljs-comment"># æ—¥æœŸæ§ä»¶ç›´æ¥è¾“å…¥</span><br>    page.pause()<br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h4 id="2-readonly"><a href="#2-readonly" class="headerlink" title="(2) readonly"></a>(2) readonly</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>)<br>    context = browser.new_context()<br>    page = context.new_page()<br>    page.goto(<span class="hljs-string">r&#x27;http://www.jemui.com/jedate/#5&#x27;</span>)<br>    page.locator(<span class="hljs-string">&#x27;//*[@id=&quot;ymd01&quot;]&#x27;</span>).hover()                    <span class="hljs-comment"># å®šä½æ‚¬åœåˆ°å…·ä½“ä½ç½®</span><br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)<br>    js1 = <span class="hljs-string">&#x27;document.getElementById(&quot;ymd01&quot;).removeAttribute(&quot;readonly&quot;);&#x27;</span><br>    page.evaluate(js1)                                          <span class="hljs-comment"># å»æ‰readonlyå±æ€§</span><br>    js2 = <span class="hljs-string">&#x27;document.getElementById(&quot;ymd01&quot;).value=&quot;2023-09-01 15:15:15&quot;;&#x27;</span><br>    page.evaluate(js2)<br>    page.pause()<br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h2 id="1-5-Trace-Viewer"><a href="#1-5-Trace-Viewer" class="headerlink" title="1-5 Trace Viewer"></a>1-5 Trace Viewer</h2><ul><li>Trace Viewer<ul><li>æ‰§è¡Œè‡ªåŠ¨åŒ–ç”¨ä¾‹çš„è¿‡ç¨‹ä¸­ï¼Œå‡ºç°ä¸€äº›ä¸ç¨³å®šå¶ç„¶æ€§çš„Bugï¼Œéœ€å¤ç°è¿˜åŸBugå‡ºç°çš„è¿‡ç¨‹ã€‚</li><li>Playwright Trace Viewerå¯æ¢ç´¢è®°å½•Playwrightçš„æµ‹è¯•è·Ÿè¸ªï¼Œç›´è§‚æŸ¥çœ‹æ“ä½œæœŸé—´çš„æƒ…å†µã€‚</li><li>æŸ¥çœ‹<ul><li>ä½¿ç”¨Playwright CLIåœ¨terminalä¸­è¾“å…¥<code>playwright show-trace trace.zip</code>ï¼Œæ‰“å¼€è·Ÿè¸ªã€‚</li><li>é€šè¿‡å•å‡»æ¯ä¸ªæ“ä½œï¼Œæˆ–ä½¿ç”¨æ—¶é—´è½´æ‚¬åœæ¥æŸ¥çœ‹æµ‹è¯•çš„ç—•è¿¹ï¼Œå¹¶æŸ¥çœ‹æ“ä½œå‰åé¡µé¢çš„çŠ¶æ€ã€‚</li><li>åœ¨æ¯ä¸ªæ­¥éª¤ä¸­æ£€æŸ¥æ—¥å¿—ã€æºå’Œç½‘ç»œï¼Œè·Ÿè¸ªæŸ¥çœ‹å™¨åˆ›å»ºä¸€ä¸ªDOMå¿«ç…§ï¼Œå¯ä¸å…¶å®Œå…¨äº¤äº’ï¼Œæ‰“å¼€devtoolsç­‰ã€‚</li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>)<br>    context = browser.new_context()<br><br>    context.tracing.start(                                      <span class="hljs-comment"># è®°å½•è·Ÿè¸ª</span><br>        screenshots=<span class="hljs-literal">True</span>, snapshots=<span class="hljs-literal">True</span>, sources=<span class="hljs-literal">True</span><br>    )<br>    page = context.new_page()<br>    page.goto(<span class="hljs-string">&#x27;https://www.baidu.com/&#x27;</span>)<br>    page.locator(<span class="hljs-string">&#x27;//*[@id=&quot;s-hotsearch-wrapper&quot;]/div/a[1]/div&#x27;</span>).click()<br>    context.tracing.stop(path=<span class="hljs-string">&quot;trace.zip&quot;</span>)                      <span class="hljs-comment"># ä¿å­˜ä¸º.zipæ–‡ä»¶</span><br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h2 id="1-6-tableè¡¨æ ¼æ ‡ç­¾"><a href="#1-6-tableè¡¨æ ¼æ ‡ç­¾" class="headerlink" title="1-6 tableè¡¨æ ¼æ ‡ç­¾"></a>1-6 tableè¡¨æ ¼æ ‡ç­¾</h2><ul><li>tableè¡¨æ ¼æ ‡ç­¾<ul><li>tableè¡¨æ ¼çš„å¸¸ç”¨æ ‡ç­¾ï¼štable(ä¸€ä¸ªè¡¨æ ¼)ã€tr(ä¸€è¡Œ)ã€th(è¡¨å¤´å•å…ƒæ ¼)ã€td(å†…å®¹å•å…ƒæ ¼)ã€‚</li><li>ä½¿ç”¨xpathå®šä½tableè¡¨æ ¼æ•°æ®ï¼Œä¾‹å¦‚<code>/html/body/div[1]/table[1]/tbody/tr[1]/td[2]</code>ã€‚</li></ul></li></ul><h4 id="1-è¡¨æ ¼å®šä½"><a href="#1-è¡¨æ ¼å®šä½" class="headerlink" title="(1) è¡¨æ ¼å®šä½"></a>(1) è¡¨æ ¼å®šä½</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>)<br>    context = browser.new_context()<br>    page = context.new_page()<br>    page.goto(<span class="hljs-string">&#x27;http://www.bootstrapmb.com/item/10229&#x27;</span>)<br>    <span class="hljs-keyword">with</span> context.expect_page() <span class="hljs-keyword">as</span> new_page_info:<br>        page.get_by_text(<span class="hljs-string">&#x27;é¢„ è§ˆ&#x27;</span>).click()<br>        page.wait_for_timeout(<span class="hljs-number">1000</span>)<br>    new_page = new_page_info.value                              <span class="hljs-comment"># åˆ‡æ¢åˆ°é¢„è§ˆtableé¡µ</span><br>    <span class="hljs-built_in">print</span>(new_page.title())<br><br>    new_page.wait_for_load_state(<span class="hljs-string">&#x27;networkidle&#x27;</span>)                 <span class="hljs-comment"># ç­‰å¾…é¡µé¢åŠ è½½å®Œæ¯•</span><br>    iframe = new_page.frame_locator(<span class="hljs-string">&#x27;//*[@id=&quot;iframe&quot;]&#x27;</span>)<br>    n1 = iframe.locator(<span class="hljs-string">&#x27;//table[2]/tbody/tr&#x27;</span>)<br>    <span class="hljs-comment"># n1 = iframe.locator(&#x27;/html/body/div[1]/table[2]/tbody/tr&#x27;)</span><br>    <span class="hljs-comment"># æŠ¥é”™ï¼šplaywright._impl._api_types.Error: Unexpected token &quot;/&quot; while parsing selector</span><br>    <span class="hljs-built_in">print</span>(n1.count())                                           <span class="hljs-comment"># è·å–å†…å®¹å•å…ƒæ ¼æ€»è¡Œæ•°</span><br>    n2 = iframe.locator(<span class="hljs-string">&#x27;//*[@id=&quot;one-part-th&quot;]&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(n2.inner_text())                                      <span class="hljs-comment"># è·å–è¡¨å¤´å•å…ƒæ ¼çš„ç¬¬äºŒè¡Œæ•°æ®</span><br>    n3 = iframe.locator(<span class="hljs-string">&#x27;//table[2]/tbody/tr/td[4]&#x27;</span>)            <span class="hljs-comment"># ä¸åŒtræå–åŒä¸€td[4]</span><br>    <span class="hljs-keyword">for</span> td <span class="hljs-keyword">in</span> n3.<span class="hljs-built_in">all</span>():<br>        <span class="hljs-built_in">print</span>(td.inner_text())                                  <span class="hljs-comment"># è·å–å†…å®¹å•å…ƒæ ¼ç¬¬4åˆ—çš„æ•°æ®</span><br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h4 id="2-æ•°æ®è·å–"><a href="#2-æ•°æ®è·å–" class="headerlink" title="(2) æ•°æ®è·å–"></a>(2) æ•°æ®è·å–</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>)<br>    context = browser.new_context()<br>    page = context.new_page()<br>    page.goto(<span class="hljs-string">&#x27;http://www.bootstrapmb.com/item/14227&#x27;</span>)<br>    <span class="hljs-keyword">with</span> context.expect_page() <span class="hljs-keyword">as</span> new_page_info:<br>        page.get_by_text(<span class="hljs-string">&#x27;é¢„ è§ˆ&#x27;</span>).click()<br>        page.wait_for_timeout(<span class="hljs-number">1000</span>)<br>    new_page = new_page_info.value                              <span class="hljs-comment"># åˆ‡æ¢åˆ°é¢„è§ˆtableé¡µ</span><br>    <span class="hljs-built_in">print</span>(new_page.title())<br><br>    new_page.wait_for_load_state(<span class="hljs-string">&#x27;networkidle&#x27;</span>)                 <span class="hljs-comment"># ç­‰å¾…é¡µé¢åŠ è½½å®Œæ¯•</span><br>    iframe = new_page.frame_locator(<span class="hljs-string">&#x27;//*[@id=&quot;iframe&quot;]&#x27;</span>)<br><br>    col_name = iframe.locator(<span class="hljs-string">&#x27;//*[@id=&quot;table-0&quot;]/div/div[1]&#x27;</span>)<br>    col_text = [item.inner_text() <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> col_name.<span class="hljs-built_in">all</span>()]<br>    <span class="hljs-built_in">print</span>(col_text)                                             <span class="hljs-comment"># åˆ—è¡¨å½¢å¼å•åˆ—è¾“å‡º</span><br><br>    tit_name = iframe.locator(<span class="hljs-string">&#x27;//*[@id=&quot;table-0&quot;]/div[1]&#x27;</span>)<br>    tit_list = [item.inner_text() <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> tit_name.<span class="hljs-built_in">all</span>()]<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ ‡é¢˜ï¼š&quot;</span>, [item.strip() <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> tit_list[<span class="hljs-number">0</span>].split(<span class="hljs-string">&#x27;\n&#x27;</span>)])<br><br>    num = iframe.locator(<span class="hljs-string">&#x27;//*[@id=&quot;table-0&quot;]/div&#x27;</span>).count()      <span class="hljs-comment"># è·å–æ€»è¡Œæ•°</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;è¡Œæ•°ï¼š&quot;</span>, num)<br><br>    <span class="hljs-keyword">for</span> n <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">2</span>, num+<span class="hljs-number">1</span>):<br>        element = <span class="hljs-string">r&#x27;//*[@id=&quot;table-0&quot;]/&#x27;</span> + <span class="hljs-string">&#x27;div[&#x27;</span> + <span class="hljs-string">f&#x27;<span class="hljs-subst">&#123;n&#125;</span>&#x27;</span> + <span class="hljs-string">&#x27;]&#x27;</span><br>        row_name = iframe.locator(element)<br>        row_text = [item.inner_text() <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> row_name.<span class="hljs-built_in">all</span>()]<br>        row_list = [item.strip() <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> row_text[<span class="hljs-number">0</span>].split(<span class="hljs-string">&#x27;\n&#x27;</span>)]<br>        <span class="hljs-keyword">if</span> <span class="hljs-string">&#x27;&#x27;</span> <span class="hljs-keyword">in</span> row_list:                                      <span class="hljs-comment"># å¤„ç†ç¬¬11è¡Œä¹‹åçš„æ•°æ®</span><br>            row_list = [item.strip() <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> row_list <span class="hljs-keyword">if</span> item.strip()]<br>        <span class="hljs-built_in">print</span>(row_list)                                         <span class="hljs-comment"># æ‰“å°æ‰€æœ‰çš„æ•°æ®è¡Œ</span><br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h1 id="2-å›¾ç›¸ä¼¼åº¦å¯¹æ¯”"><a href="#2-å›¾ç›¸ä¼¼åº¦å¯¹æ¯”" class="headerlink" title="2 å›¾ç›¸ä¼¼åº¦å¯¹æ¯”"></a>2 å›¾ç›¸ä¼¼åº¦å¯¹æ¯”</h1><ul><li>å›¾ç›¸ä¼¼åº¦å¯¹æ¯”<ul><li>pipå‘½ä»¤å®‰è£…airtestå’Œaircvï¼š<code>pip install airtest</code>ã€<code>pip install aircv</code>ã€‚</li><li>Pythonå®‰è£…ç›®å½•ä¸­ï¼Œæ‰¾åˆ°Lib\site-packages\airtest\aircv\cal_confidence.pyã€‚</li><li>ç›¸ä¼¼åº¦å¯¹æ¯”æ—¶éœ€ç”¨åˆ°cal_confidence.pyä¸­çš„å‡½æ•°<code>cal_ccoeff_confidence()</code>ã€‚</li><li>å¯¹æ¯”å›¾æ—¶éœ€è¦å°†å›¾ç‰‡çš„å¤§å°è®¾ä¸ºä¸€è‡´ï¼Œå¯ä»¥ä½¿ç”¨<code>cv2.resize()</code>æ–¹æ³•è¿›è¡Œå¤„ç†ã€‚</li><li><code>cv2.resize(src, dsize, dst=None, fx=None, fy=None, interpolation=None)</code><ul><li><code>src</code>æºå›¾åƒã€<code>dsize</code>å›¾åƒçš„å¤§å°ã€<code>fx</code>widthæ–¹å‘çš„ç¼©æ”¾æ¯”ä¾‹ã€‚</li><li><code>fy</code>heightæ–¹å‘çš„ç¼©æ”¾æ¯”ä¾‹ã€<code>interpolation</code>æŒ‡å®šæ’å€¼çš„æ–¹å¼ã€‚</li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> cv2<br><span class="hljs-keyword">from</span> PIL <span class="hljs-keyword">import</span> Image<br><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><span class="hljs-keyword">import</span> airtest.aircv.cal_confidence <span class="hljs-keyword">as</span> cal_confidence           <span class="hljs-comment"># å¼•ç”¨å‡½æ•°</span><br><br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> playwright:<br>    browser = playwright.chromium.launch(headless=<span class="hljs-literal">False</span>)<br>    page = browser.new_page()<br>    page.goto(<br>        <span class="hljs-string">&quot;https://img.zcool.cn/community/012e9a5ecfd&quot;</span><br>        <span class="hljs-string">&quot;26aa80120662183278c.jpg@1280w_1l_2o_100sh.jpg&quot;</span><br>    )<br>    screenshot_path = <span class="hljs-string">&#x27;pictures/image1.png&#x27;</span><br>    page.screenshot(path=screenshot_path)                       <span class="hljs-comment"># æˆªå›¾ä¿å­˜åˆ°æœ¬åœ°</span><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br><br>image = Image.<span class="hljs-built_in">open</span>(screenshot_path)                             <span class="hljs-comment"># å°†ä¿å­˜ä¸‹æ¥çš„å›¾ç‰‡è£å‰ªæˆä¸¤åŠ</span><br>half1 = image.crop((<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, image.width // <span class="hljs-number">2</span>, image.height))<br>half2 = image.crop((image.width // <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, image.width, image.height))<br>half1.save(<span class="hljs-string">&quot;pictures/image2.png&quot;</span>)                               <span class="hljs-comment"># å·¦å›¾</span><br>half2.save(<span class="hljs-string">&quot;pictures/image3.png&quot;</span>)                               <span class="hljs-comment"># å³å›¾</span><br><br>im1 = cv2.resize(cv2.imread(<span class="hljs-string">&quot;pictures/image2.png&quot;</span>), (<span class="hljs-number">100</span>, <span class="hljs-number">100</span>))<br>im2 = cv2.resize(cv2.imread(<span class="hljs-string">&quot;pictures/image3.png&quot;</span>), (<span class="hljs-number">100</span>, <span class="hljs-number">100</span>))<br>res = cal_confidence.cal_ccoeff_confidence(im1, im2)            <span class="hljs-comment"># ç›¸ä¼¼åº¦å¯¹æ¯”</span><br><span class="hljs-built_in">print</span>(res)<br></code></pre></td></tr></table></figure><h1 id="3-æ’ä»¶ç¼–å†™ç”¨ä¾‹"><a href="#3-æ’ä»¶ç¼–å†™ç”¨ä¾‹" class="headerlink" title="3 æ’ä»¶ç¼–å†™ç”¨ä¾‹"></a>3 æ’ä»¶ç¼–å†™ç”¨ä¾‹</h1><ul><li>æ’ä»¶ç¼–å†™ç”¨ä¾‹<ul><li>pytest-playwrightæ’ä»¶å®Œç¾åœ°ç»§æ‰¿äº†pytestæ¡†æ¶å’ŒplaywrightåŸºç¡€ä½¿ç”¨çš„å°è£…ï¼Œæ»¡è¶³åŸºæœ¬å·¥ä½œéœ€æ±‚ã€‚</li><li>pip install pytest-playwright -i <a href="http://pypi.douban.com/simple/">http://pypi.douban.com/simple/</a> â€“trusted-host pypi.douban.com</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> re                                                       <span class="hljs-comment"># test_plugin.py</span><br><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> Page, expect<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_homepage</span>(<span class="hljs-params">page: Page</span>):                                  <span class="hljs-comment"># ç½‘é¡µæµ‹è¯•</span><br>    page.goto(<span class="hljs-string">&quot;https://playwright.dev/&quot;</span>)                        <span class="hljs-comment"># è®¿é—®æŒ‡å®šçš„URL</span><br>    expect(page).to_have_title(re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">&quot;Playwright&quot;</span>))        <span class="hljs-comment"># åˆ¤æ–­é¡µé¢æ ‡é¢˜æ˜¯å¦åŒ…å«&quot;Playwright&quot;</span><br>    get_started = page.get_by_role(<span class="hljs-string">&quot;link&quot;</span>, name=<span class="hljs-string">&quot;Get started&quot;</span>)  <span class="hljs-comment"># è·å–å…ƒç´ roleä¸ºlinkï¼Œnameä¸ºGet started</span><br>    expect(get_started).to_have_attribute(<span class="hljs-string">&quot;href&quot;</span>, <span class="hljs-string">&quot;/docs/intro&quot;</span>)<br>    get_started.click()                                         <span class="hljs-comment"># ç‚¹å‡»è·å–åˆ°çš„å…ƒç´ </span><br>    expect(page).to_have_url(re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">&quot;.*intro&quot;</span>))             <span class="hljs-comment"># æ­£åˆ™åˆ¤æ–­é¡µé¢çš„URLæ˜¯å¦åŒ…å«&quot;intro&quot;</span><br><br><span class="hljs-comment"># pytest test_plugin.py                                         # æ— å¤´æ¨¡å¼è¿è¡Œï¼Œæµ‹è¯•ç»“æœå’Œæ—¥å¿—åœ¨ç»ˆç«¯æ˜¾ç¤º</span><br><span class="hljs-comment"># pytest test_plugin.py --headed                                # æµè§ˆå™¨UIè¿è¡Œ</span><br></code></pre></td></tr></table></figure><h2 id="3-1-CLIå‚æ•°"><a href="#3-1-CLIå‚æ•°" class="headerlink" title="3-1 CLIå‚æ•°"></a>3-1 CLIå‚æ•°</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Powershell">pytest                                                          <span class="hljs-comment"># é»˜è®¤åœ¨chromiumä¸Šè¿è¡Œæµ‹è¯•</span><br>pytest ./test_xxx/                                              <span class="hljs-comment"># è¿è¡Œä¸€ç»„æµ‹è¯•æ–‡ä»¶</span><br>pytest test_plugin.py                                           <span class="hljs-comment"># è¿è¡Œå•ä¸ªæµ‹è¯•æ–‡ä»¶</span><br>pytest test_plugin.py <span class="hljs-literal">-k</span> <span class="hljs-string">&quot;test_homepage&quot;</span>                        <span class="hljs-comment"># ä½¿ç”¨å‡½æ•°åè¿è¡Œæµ‹è¯•</span><br>pytest test_plugin.py <span class="hljs-literal">--headed</span>                                  <span class="hljs-comment"># æœ‰å¤´æ¨¡å¼è¿è¡Œæµ‹è¯•(é»˜è®¤æ— å¤´)</span><br>pytest test_plugin.py <span class="hljs-literal">--browser</span> webkit                          <span class="hljs-comment"># ç‰¹å®šæµè§ˆå™¨è¿è¡Œæµ‹è¯•</span><br>pytest test_plugin.py <span class="hljs-literal">--browser</span> webkit <span class="hljs-literal">--browser</span> firefox        <span class="hljs-comment"># å¤šä¸ªæµè§ˆå™¨è¿è¡Œæµ‹è¯•</span><br>pytest test_plugin.py <span class="hljs-literal">--browser-channel</span> chrome                  <span class="hljs-comment"># æŒ‡å®šæµè§ˆå™¨é€šé“è¿è¡Œæµ‹è¯•</span><br>pytest test_plugin.py <span class="hljs-literal">--slowmo</span> <span class="hljs-number">100</span>                              <span class="hljs-comment"># æŒ‡å®šå»¶è¿Ÿä¸è¶…è¿‡100msæ¥å‡ç¼“æµ‹è¯•æ‰§è¡Œé€Ÿåº¦</span><br>pytest test_plugin.py <span class="hljs-literal">--device</span>=<span class="hljs-string">&quot;iPhone 12&quot;</span>                      <span class="hljs-comment"># æ¨¡æ‹ŸiPhone 12è®¾å¤‡è¿è¡Œæµ‹è¯•</span><br>pytest test_plugin.py <span class="hljs-literal">--output</span>=<span class="hljs-string">&quot;my_results&quot;</span> <span class="hljs-literal">--video</span>=on          <span class="hljs-comment"># æµ‹è¯•ç”Ÿæˆçš„å·¥ä½œç›®å½•(é»˜è®¤test-results)</span><br>pytest test_plugin.py <span class="hljs-literal">--tracing</span>=on                              <span class="hljs-comment"># ä¸ºæ¯ä¸ªæµ‹è¯•è®°å½•è½¨è¿¹</span><br>pytest test_plugin.py <span class="hljs-literal">--video</span>=on                                <span class="hljs-comment"># ä¸ºæ¯æ¬¡æµ‹è¯•å½•åˆ¶è§†é¢‘</span><br>pytest test_plugin.py <span class="hljs-literal">--screenshot</span>=on                           <span class="hljs-comment"># æˆªå›¾(onã€é»˜è®¤offã€retain-on-failure)</span><br><br>pip install py<span class="hljs-built_in">test-xdist</span><br>pytest <span class="hljs-literal">--numprocesses</span> auto                                      <span class="hljs-comment"># å¤šè¿›ç¨‹è¿è¡Œæµ‹è¯•</span><br></code></pre></td></tr></table></figure><h2 id="3-2-ç”¨ä¾‹ç¼–å†™"><a href="#3-2-ç”¨ä¾‹ç¼–å†™" class="headerlink" title="3-2 ç”¨ä¾‹ç¼–å†™"></a>3-2 ç”¨ä¾‹ç¼–å†™</h2><ul><li>ç”¨ä¾‹ç¼–å†™<ul><li>æµè§ˆå™¨ä¸Šä¸‹æ–‡ä½¿å¾—é¡µé¢åœ¨æµ‹è¯•ä¹‹é—´è¢«éš”ç¦»ï¼Œç›¸å½“äºä¸€ä¸ªå…¨æ–°çš„æµè§ˆå™¨é…ç½®æ–‡ä»¶ï¼Œæ¯ä¸ªæµ‹è¯•éƒ½ä¼šè·å¾—ä¸€ä¸ªæ–°ç¯å¢ƒã€‚</li><li>å¯ä»¥ä½¿ç”¨å„ç§fixtureåœ¨æµ‹è¯•ä¹‹å‰æˆ–è€…ä¹‹åæ‰§è¡Œä»£ç ï¼Œå¹¶åœ¨å®ƒä»¬ä¹‹é—´å…±äº«å¯¹è±¡ï¼Œä¾‹å¦‚ï¼šbeforeEachã€afterEachç­‰ã€‚</li><li><a href="https://stitch-top.github.io/2023/03/03/ce-shi-kuang-jia/tf02-pytest-ce-shi-kuang-jia/#5-fixture%E9%A2%84%E7%BD%AE%E6%9D%A1%E4%BB%B6">å†…ç½®fixture</a><ul><li>Function scopeï¼šè¿™äº›å›ºå®šè£…ç½®åœ¨æµ‹è¯•åŠŸèƒ½ä¸­è¯·æ±‚æ—¶åˆ›å»ºï¼Œå¹¶åœ¨æµ‹è¯•ç»“æŸæ—¶é”€æ¯ã€‚<ul><li>pageï¼šç”¨äºæµ‹è¯•çš„æ–°æµè§ˆå™¨é¡µé¢ã€‚</li><li>contextï¼šç”¨äºæµ‹è¯•çš„æ–°æµè§ˆå™¨ä¸Šä¸‹æ–‡ã€‚</li></ul></li><li>Session scopeï¼šè¿™äº›å›ºå®šè£…ç½®åœ¨æµ‹è¯•å‡½æ•°ä¸­è¯·æ±‚æ—¶åˆ›å»ºï¼Œå¹¶åœ¨æ‰€æœ‰æµ‹è¯•ç»“æŸæ—¶é”€æ¯ã€‚<ul><li>browser_nameï¼šæµè§ˆå™¨åç§°ä½œä¸ºå­—ç¬¦ä¸²ã€‚</li><li>browserï¼šç”±Playwrightå¯åŠ¨çš„æµè§ˆå™¨å®ä¾‹ã€‚</li><li>browser_channelï¼šæµè§ˆå™¨é€šé“ä½œä¸ºå­—ç¬¦ä¸²ã€‚</li><li>browser_typeï¼šå½“å‰æµè§ˆå™¨çš„BrowserTypeå®ä¾‹ã€‚</li><li>is_chromiumï¼Œis_webkitï¼Œis_firefoxï¼šç›¸åº”æµè§ˆå™¨ç±»å‹çš„å¸ƒå°”å€¼ã€‚</li></ul></li><li>è‡ªå®šä¹‰fixtureé€‰é¡¹ï¼šå¯¹äºbrowserå’Œcontext ï¼Œä½¿ç”¨ä»¥ä¸‹fixtureæ¥è‡ªå®šä¹‰å¯åŠ¨é€‰é¡¹ã€‚<ul><li>browser_context_argsï¼šè¦†ç›–browser.new_context()çš„é€‰é¡¹ï¼Œè¿”å›ä¸€ä¸ªå­—å…¸ã€‚</li><li>browser_type_launch_argsï¼šè¦†ç›–browser_type.launch()çš„å¯åŠ¨å‚æ•°ï¼Œè¿”å›ä¸€ä¸ªå­—å…¸ã€‚</li></ul></li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> Page                             <span class="hljs-comment"># test_example.py</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_baidu</span>(<span class="hljs-params">page: Page</span>):                                      <span class="hljs-comment"># å……å½“æµ‹è¯•ç”¨ä¾‹</span><br>    page.goto(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)                          <span class="hljs-comment"># ç»“åˆconftest.pyä½¿ç”¨</span><br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)<br><br>    page.close()<br></code></pre></td></tr></table></figure><h4 id="1-è·³è¿‡æµè§ˆå™¨"><a href="#1-è·³è¿‡æµè§ˆå™¨" class="headerlink" title="(1) è·³è¿‡æµè§ˆå™¨"></a>(1) è·³è¿‡æµè§ˆå™¨</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                                    <span class="hljs-comment"># test_skip.py</span><br><br><br><span class="hljs-meta">@pytest.mark.skip_browser(<span class="hljs-params"><span class="hljs-string">&quot;firefox&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_example</span>(<span class="hljs-params">page</span>):<br>    page.goto(<span class="hljs-string">&quot;https://playwright.dev/&quot;</span>)<br><br><span class="hljs-comment"># pytest test_skip.py --browser firefox                          # æ‰§è¡Œç”¨ä¾‹æŸ¥çœ‹æ•ˆæœ</span><br></code></pre></td></tr></table></figure><h4 id="2-æŒ‡å®šæµè§ˆå™¨"><a href="#2-æŒ‡å®šæµè§ˆå™¨" class="headerlink" title="(2) æŒ‡å®šæµè§ˆå™¨"></a>(2) æŒ‡å®šæµè§ˆå™¨</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                                   <span class="hljs-comment"># test_browser.py</span><br><br><br><span class="hljs-meta">@pytest.mark.only_browser(<span class="hljs-params"><span class="hljs-string">&quot;firefox&quot;</span></span>)                            </span><span class="hljs-comment"># ã€æ–¹æ³•ä¸€ã€‘æŒ‡å®šæµè§ˆå™¨</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_example</span>(<span class="hljs-params">page</span>):<br>    page.goto(<span class="hljs-string">&quot;https://playwright.dev/&quot;</span>)<br><br><span class="hljs-comment"># pytest test_browser.py --headed                               # é»˜è®¤chromiumæ‰§è¡Œ</span><br><span class="hljs-comment"># pytest test_browser.py --browser firefox                      # ã€æ–¹æ³•äºŒã€‘</span><br><span class="hljs-comment"># pytest test_browser.py --browser-channel chromium             # å‘½ä»¤è¡Œå‚æ•°æŒ‡å®šæµè§ˆå™¨</span><br></code></pre></td></tr></table></figure><h4 id="3-é…ç½®base-url"><a href="#3-é…ç½®base-url" class="headerlink" title="(3) é…ç½®base-url"></a>(3) é…ç½®base-url</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_example</span>(<span class="hljs-params">page</span>):                                         <span class="hljs-comment"># test_base_url.py</span><br>    page.goto(<span class="hljs-string">&quot;/Login.aspx&quot;</span>)                                    <span class="hljs-comment"># ç”¨åˆ°äº†pytest-base-urlæ’ä»¶</span><br><br><span class="hljs-comment"># pytest test_base_url.py --base-url https://mall.cnki.net      # ã€æ–¹æ³•ä¸€ã€‘å‘½ä»¤è¡Œå‚æ•°è®¿é—®</span><br><span class="hljs-comment"># å¦å¤–ï¼šPlayWrightæ¡†æ¶(ä¸€)çš„ä¸Šä¸‹æ–‡ä»£ç ä¸­ï¼Œbase_urlå‚æ•°æ˜¯åœ¨new_context()æ–°å»ºä¸Šä¸‹æ–‡æ—¶ä½¿ç”¨çš„</span><br>    <span class="hljs-comment"># å³browser.new_context(base_url=&quot;https://www.baidu.com&quot;)   # ã€æ–¹æ³•äºŒã€‘æ–°å»ºä¸Šä¸‹æ–‡ä½¿ç”¨</span><br>    <span class="hljs-comment"># åç»­page.goto(&quot;/&quot;)ä½¿ç”¨æ—¶ï¼Œåªéœ€è¦å¡«å…¥ç›¸å¯¹åœ°å€&quot;/&quot;å°±å¯ä»¥è®¿é—®äº†</span><br><br><span class="hljs-comment">###########################################################################################</span><br>[pytest]                                                        <span class="hljs-comment"># pytest.ini</span><br><br>base_url=https://mall.cnki.net<br><br><span class="hljs-comment"># pytest test_base_url.py --headed                              # ã€æ–¹æ³•ä¸‰ã€‘pytest.iniä¸­é…ç½®</span><br></code></pre></td></tr></table></figure><h4 id="4-è®¾ç½®æ‰‹æœºè®¾å¤‡"><a href="#4-è®¾ç½®æ‰‹æœºè®¾å¤‡" class="headerlink" title="(4) è®¾ç½®æ‰‹æœºè®¾å¤‡"></a>(4) è®¾ç½®æ‰‹æœºè®¾å¤‡</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                                   <span class="hljs-comment"># conftest.py</span><br><br><br><span class="hljs-meta">@pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&quot;session&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">browser_context_args</span>(<span class="hljs-params">browser_context_args, playwright</span>):<br>    iphone_11 = playwright.devices[<span class="hljs-string">&#x27;iPhone 11 Pro&#x27;</span>]             <span class="hljs-comment"># æŒ‡å®šæ‰‹æœºå‹å·è¿è¡Œç”¨ä¾‹</span><br>    <span class="hljs-keyword">return</span> &#123;<br>        **browser_context_args,<br>        **iphone_11,<br>    &#125;<br><br><span class="hljs-comment"># pytest test_example.py --headed                               # æ‰§è¡Œç”¨ä¾‹æŸ¥çœ‹æ•ˆæœ</span><br></code></pre></td></tr></table></figure><h4 id="5-å¿½ç•¥httpsé”™è¯¯"><a href="#5-å¿½ç•¥httpsé”™è¯¯" class="headerlink" title="(5) å¿½ç•¥httpsé”™è¯¯"></a>(5) å¿½ç•¥httpsé”™è¯¯</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                                   <span class="hljs-comment"># conftest.py</span><br><br><br><span class="hljs-meta">@pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&quot;session&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">browser_context_args</span>(<span class="hljs-params">browser_context_args</span>):<br>    <span class="hljs-keyword">return</span> &#123;<br>        **browser_context_args,<br>        <span class="hljs-string">&quot;ignore_https_errors&quot;</span>: <span class="hljs-literal">True</span><br>    &#125;<br><br><span class="hljs-comment"># pytest test_example.py --headed                               # æ‰§è¡Œç”¨ä¾‹æŸ¥çœ‹æ•ˆæœ</span><br></code></pre></td></tr></table></figure><h4 id="6-æŒä¹…çš„context"><a href="#6-æŒä¹…çš„context" class="headerlink" title="(6) æŒä¹…çš„context"></a>(6) æŒä¹…çš„context</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                                   <span class="hljs-comment"># conftest.py</span><br><span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">Dict</span><br><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> BrowserType<br><br><br><span class="hljs-meta">@pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&quot;session&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">context</span>(<span class="hljs-params">                                                    <span class="hljs-comment"># æµ‹è¯•ä¸­çš„æ‰€æœ‰é¡µé¢</span></span><br><span class="hljs-params">        browser_type: BrowserType,                              <span class="hljs-comment"># éƒ½æ˜¯ä»æŒä¹…ä¸Šä¸‹æ–‡åˆ›å»ºçš„</span></span><br><span class="hljs-params">        browser_type_launch_args: <span class="hljs-type">Dict</span>,</span><br><span class="hljs-params">        browser_context_args: <span class="hljs-type">Dict</span></span>):<br>    context = browser_type.launch_persistent_context(<span class="hljs-string">&quot;./foobar&quot;</span>, **&#123;<br>        **browser_type_launch_args,<br>        **browser_context_args,<br>        <span class="hljs-string">&quot;locale&quot;</span>: <span class="hljs-string">&quot;de-DE&quot;</span>,<br>    &#125;)<br>    <span class="hljs-keyword">yield</span> context<br>    context.close()<br><br><span class="hljs-comment"># pytest test_example.py --headed                               # æ‰§è¡Œç”¨ä¾‹æŸ¥çœ‹æ•ˆæœ</span><br></code></pre></td></tr></table></figure><h4 id="7-æµè§ˆå™¨çª—å£å¤§å°"><a href="#7-æµè§ˆå™¨çª—å£å¤§å°" class="headerlink" title="(7) æµè§ˆå™¨çª—å£å¤§å°"></a>(7) æµè§ˆå™¨çª—å£å¤§å°</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                                   <span class="hljs-comment"># conftest.py</span><br><br><br><span class="hljs-meta">@pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&quot;session&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">browser_context_args</span>(<span class="hljs-params">browser_context_args</span>):<br>    <span class="hljs-keyword">return</span> &#123;<br>        **browser_context_args,<br>        <span class="hljs-string">&quot;viewport&quot;</span>: &#123;<br>            <span class="hljs-string">&quot;width&quot;</span>: <span class="hljs-number">1920</span>,<br>            <span class="hljs-string">&quot;height&quot;</span>: <span class="hljs-number">1080</span>,<br>        &#125;<br>    &#125;<br><br><span class="hljs-comment"># pytest test_example.py --headed                               # æ‰§è¡Œç”¨ä¾‹æŸ¥çœ‹æ•ˆæœ</span><br></code></pre></td></tr></table></figure><h2 id="3-3-å¤šè¿›ç¨‹æ‰§è¡Œ"><a href="#3-3-å¤šè¿›ç¨‹æ‰§è¡Œ" class="headerlink" title="3-3 å¤šè¿›ç¨‹æ‰§è¡Œ"></a>3-3 å¤šè¿›ç¨‹æ‰§è¡Œ</h2><ul><li>å¤šè¿›ç¨‹æ‰§è¡Œ<ul><li>åŸåˆ™<ul><li>ç”¨ä¾‹ä¹‹é—´ç›¸äº’ç‹¬ç«‹ï¼Œæ²¡æœ‰ä¾èµ–ï¼Œæ¯ä¸ªç”¨ä¾‹éƒ½å¯ç‹¬ç«‹è¿è¡Œã€‚</li><li>ç”¨ä¾‹æ‰§è¡Œä¹‹é—´æ²¡æœ‰é¡ºåºè¦æ±‚ï¼Œéšæœºé¡ºåºéƒ½å¯ä»¥æ­£å¸¸æ‰§è¡Œã€‚</li><li>æ¯ä¸ªç”¨ä¾‹éƒ½èƒ½é‡å¤æ‰§è¡Œï¼Œè¿è¡Œç»“æœä¸ä¼šå½±å“åˆ°å…¶ä»–ç”¨ä¾‹ã€‚</li></ul></li><li>ä½¿ç”¨PIPåŒ…ç®¡ç†å·¥å…·å®‰è£…pytest-xdistæ’ä»¶ï¼š<code>pip install pytest-xdist</code>ã€‚</li><li>çº¿ç¨‹(Thread)æ˜¯è¿›ç¨‹(Process)å†…çš„å®é™…æ‰§è¡Œå•ä½ï¼Œä¸€è¿›ç¨‹å¯åŒ…å«å¤šä¸ªçº¿ç¨‹ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs Python">url = <span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>                                  <span class="hljs-comment"># test_process.py</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_case1</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;case1------&quot;</span>)<br>    <span class="hljs-keyword">assert</span> url == <span class="hljs-string">&quot;https://www.baidu.com/&quot;</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_case2</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;case2------&quot;</span>)<br>    <span class="hljs-keyword">assert</span> url == <span class="hljs-string">&quot;https://www.baidu.com/&quot;</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_case3</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;case3------&quot;</span>)<br>    <span class="hljs-keyword">assert</span> url == <span class="hljs-string">&quot;https://www.baidu.com/&quot;</span><br><br><span class="hljs-comment"># pytest test_process.py -n 2                                   # å¹¶è¡Œæ‰§è¡Œç”¨ä¾‹</span><br><span class="hljs-comment"># pytest test_process.py -n auto                                # è‡ªåŠ¨è·å–CPUæ ¸æ•°ï¼Œæ‰§è¡Œé€Ÿåº¦æ…¢</span><br></code></pre></td></tr></table></figure><h2 id="3-4-å‘½ä»¤è¡Œé€‰é¡¹"><a href="#3-4-å‘½ä»¤è¡Œé€‰é¡¹" class="headerlink" title="3-4 å‘½ä»¤è¡Œé€‰é¡¹"></a>3-4 å‘½ä»¤è¡Œé€‰é¡¹</h2><ul><li>å‘½ä»¤è¡Œé€‰é¡¹<ul><li>æµ‹è¯•åˆ†å¸ƒç®—æ³•é…ç½®ï¼šæŒ‡åœ¨åˆ†å¸ƒå¼æµ‹è¯•æ‰§è¡ŒæœŸé—´ä½¿ç”¨çš„ç®—æ³•å’Œç›¸å…³è®¾ç½®ã€‚<ul><li>é€šè¿‡æµ‹è¯•åˆ†å¸ƒï¼Œå¯ä»¥å°†æµ‹è¯•ç”¨ä¾‹å¹¶è¡Œåœ¨å¤šä¸ªæµè§ˆå™¨ã€è®¾å¤‡æˆ–ç¯å¢ƒä¸­æ‰§è¡Œï¼Œä»¥åŠ å¿«æµ‹è¯•æ‰§è¡Œé€Ÿåº¦ã€‚</li><li>å¸¸è§çš„æµ‹è¯•åˆ†å¸ƒç®—æ³•é…ç½®é€‰é¡¹<ul><li>è½®è¯¢ï¼šå°†å¾…æ‰§è¡Œçš„æµ‹è¯•ç”¨ä¾‹ä¾æ¬¡è½®æµåˆ†å‘ç»™å¯ç”¨çš„æ‰§è¡Œå™¨ï¼Œä»¥å‡åŒ€åœ°åˆ†é…æµ‹è¯•è´Ÿè½½ã€‚</li><li>éšæœºï¼šéšæœºé€‰æ‹©å¯ç”¨çš„æ‰§è¡Œå™¨æ¥è¿è¡Œæµ‹è¯•ç”¨ä¾‹ï¼Œä»è€Œå¯èƒ½åœ¨æŸäº›æƒ…å†µä¸‹æé«˜æµ‹è¯•æ•ˆç‡ã€‚</li><li>åŸºäºè´Ÿè½½ï¼šæ ¹æ®æ‰§è¡Œå™¨çš„è´Ÿè½½æƒ…å†µåŠ¨æ€åˆ†å‘æµ‹è¯•ç”¨ä¾‹ï¼Œä»¥ç¡®ä¿æ‰§è¡Œå™¨çš„è´Ÿè½½å¤§è‡´ç›¸ç­‰ã€‚</li></ul></li></ul></li><li>åœ¨Playwrightä¸­ï¼Œdistå‘½ä»¤è¡Œé€‰é¡¹ç”¨äºé…ç½®æµ‹è¯•åˆ†å¸ƒç®—æ³•ã€‚<ul><li><code>--repeat-each 3</code>ï¼šæ¯ä¸ªæµ‹è¯•ç”¨ä¾‹å°†è¢«æ‰§è¡Œ3æ¬¡ã€‚</li><li><code>--workers 3</code>ï¼šä½¿ç”¨3ä¸ªå·¥ä½œè¿›ç¨‹æ¥æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹ã€‚</li><li><code>--shard 1/3</code>ï¼šä½¿ç”¨3ä¸ªåˆ†ç‰‡ä¸­çš„ç¬¬1ä¸ªåˆ†ç‰‡æ¥æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹ã€‚</li><li><code>--max-failures 3</code>ï¼šå¦‚æœæµ‹è¯•ç”¨ä¾‹å¤±è´¥çš„æ¬¡æ•°è¾¾åˆ°3æ¬¡ï¼Œåˆ™æµ‹è¯•æ‰§è¡Œå°†åœæ­¢ã€‚</li><li><code>--dist loadfile</code>ï¼šä½¿ç”¨åŸºäºè´Ÿè½½çš„åˆ†å¸ƒç®—æ³•ï¼Œå¹¶æ ¹æ®æµ‹è¯•æ–‡ä»¶æ¥åˆ†å‘æµ‹è¯•ç”¨ä¾‹ã€‚</li><li><code>--dist loadgroup</code>ï¼šä½¿ç”¨åŸºäºè´Ÿè½½çš„åˆ†å¸ƒç®—æ³•ï¼Œå¹¶æ ¹æ®æµ‹è¯•åˆ†ç»„æ¥åˆ†å‘æµ‹è¯•ç”¨ä¾‹ã€‚<ul><li>ä½¿ç”¨<code>@pytest.mark.xdist_group(name=&quot; &quot;)</code>è£…é¥°å™¨ä¸ºæµ‹è¯•ç”¨ä¾‹æŒ‡å®šä¸åŒçš„åˆ†ç»„åç§°ã€‚</li><li>å½“æ‰§è¡Œæµ‹è¯•æ—¶ï¼Œpytest-xdistæ’ä»¶å¯ä»¥å¹¶è¡Œåœ°æ‰§è¡ŒåŒä¸€åˆ†ç»„çš„æµ‹è¯•ç”¨ä¾‹ï¼Œæé«˜æ‰§è¡Œæ•ˆç‡ã€‚</li></ul></li><li><code>--dist loadscope</code>ï¼šä½¿ç”¨åŸºäºè´Ÿè½½çš„åˆ†å¸ƒç®—æ³•ï¼Œå¹¶æŒ‰ä½œç”¨åŸŸæ¥åŠ¨æ€åˆ†é…æµ‹è¯•ç”¨ä¾‹ã€‚</li><li><code>--dist load</code>(é»˜è®¤æ–¹å¼)ï¼šä½¿ç”¨åŸºäºè´Ÿè½½çš„åˆ†å¸ƒç®—æ³•ï¼Œæ ¹æ®æ‰§è¡Œå™¨çš„è´Ÿè½½æƒ…å†µæ¥åŠ¨æ€åœ°åˆ†é…æµ‹è¯•ç”¨ä¾‹ã€‚</li><li><code>--dist no</code>ï¼šç¦ç”¨æµ‹è¯•åˆ†å¸ƒï¼Œå³ä¸è¿›è¡Œåˆ†å¸ƒå¼æµ‹è¯•æ‰§è¡Œï¼Œè€Œæ˜¯åœ¨å•ä¸ªæ‰§è¡Œå™¨ä¸Šä¾æ¬¡æ‰§è¡Œæ‰€æœ‰æµ‹è¯•ç”¨ä¾‹ã€‚</li><li><code>--dist worksteal</code>ï¼šä½¿ç”¨workstealç®—æ³•åˆ†å‘ç”¨ä¾‹ï¼Œç®—æ³•å…è®¸ç©ºé—²çš„æ‰§è¡Œå™¨ä»ç¹å¿™çš„æ‰§è¡Œå™¨é‚£é‡Œçªƒå–ç”¨ä¾‹ä»¥å¹³è¡¡è´Ÿè½½ã€‚</li><li><code>--max-sched-chunk=3</code>ï¼šé™åˆ¶å¹¶å‘æ‰§è¡Œçš„æœ€å¤§æ•°é‡ä¸º3ï¼Œä»è€Œåœ¨å¤šçº¿ç¨‹è¿›è¡Œæµ‹è¯•æ—¶å¯ä»¥é™åˆ¶åŒæ—¶æ‰§è¡Œçš„æµ‹è¯•ç”¨ä¾‹æ•°é‡ã€‚</li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                                   <span class="hljs-comment"># test_xdist_group.py</span><br><br>url = <span class="hljs-string">&quot;https://www.baidu.com/&quot;</span><br><br><br><span class="hljs-meta">@pytest.mark.xdist_group(<span class="hljs-params">name=<span class="hljs-string">&quot;group1&quot;</span></span>)                         </span><span class="hljs-comment"># è£…é¥°å™¨æŒ‡å®šåˆ†ç»„åç§°group1</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_case1</span>():                                               <span class="hljs-comment"># å¹¶è¡Œæ‰§è¡Œgroup1åˆ†ç»„çš„ç”¨ä¾‹</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;case1------&quot;</span>)<br>    <span class="hljs-keyword">assert</span> url == <span class="hljs-string">&quot;https://www.baidu.com/&quot;</span><br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestA</span>:<br><span class="hljs-meta">    @pytest.mark.xdist_group(<span class="hljs-params"><span class="hljs-string">&quot;group1&quot;</span></span>)</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_case2</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;case2------&quot;</span>)<br>        <span class="hljs-keyword">assert</span> url == <span class="hljs-string">&quot;https://www.baidu.com/&quot;</span><br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestB</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_case3</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;case3------&quot;</span>)<br>        <span class="hljs-keyword">assert</span> url == <span class="hljs-string">&quot;https://www.baidu.com/&quot;</span><br><br><span class="hljs-comment"># pytest -n auto test_xdist_group.py</span><br></code></pre></td></tr></table></figure><h2 id="3-5-æ’ä»¶ç»“åˆä½¿ç”¨"><a href="#3-5-æ’ä»¶ç»“åˆä½¿ç”¨" class="headerlink" title="3-5 æ’ä»¶ç»“åˆä½¿ç”¨"></a>3-5 æ’ä»¶ç»“åˆä½¿ç”¨</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_case1</span>(<span class="hljs-params">base_url</span>):                                       <span class="hljs-comment"># test_xdist_url.py</span><br>    <span class="hljs-built_in">print</span>(base_url)                                             <span class="hljs-comment"># pytest-xdistä¸pytest-base-urlç»“åˆä½¿ç”¨</span><br>    <span class="hljs-keyword">assert</span> base_url == <span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>                 <span class="hljs-comment"># ä¼šé‡åˆ°xdistä¸é€‚é…çš„æƒ…å†µï¼Œå¯ä»¥å‚çœ‹è§£å†³æ–¹æ¡ˆ</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_case2</span>(<span class="hljs-params">base_url</span>):<br>    <span class="hljs-built_in">print</span>(base_url)<br>    <span class="hljs-keyword">assert</span> base_url == <span class="hljs-string">&quot;https://www.baidu.com/&quot;</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_case3</span>(<span class="hljs-params">base_url</span>):<br>    <span class="hljs-built_in">print</span>(base_url)<br>    <span class="hljs-keyword">assert</span> base_url == <span class="hljs-string">&quot;https://www.baidu.com/&quot;</span><br></code></pre></td></tr></table></figure><h4 id="1-pytest-ini"><a href="#1-pytest-ini" class="headerlink" title="(1) pytest.ini"></a>(1) pytest.ini</h4><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Ini"><span class="hljs-section">[pytest]</span>                                                         <span class="hljs-comment"># pytest.ini</span><br><br><span class="hljs-attr">base_url</span>=https://www.baidu.com/<br><br><span class="hljs-comment"># pytest test_xdist_url.py                                       # æ‰§è¡Œæ­£å¸¸</span><br><span class="hljs-comment"># pytest test_xdist_url.py -n 2                                  # æ‰§è¡Œä¼šæŠ¥é”™ï¼Œä¼šè·å–ä¸åˆ°base_url</span><br><span class="hljs-comment"># don&#x27;t run configure on xdist worker nodes                      # æºç æ–‡ä»¶æ³¨é‡Šï¼Œè¯´æ˜ä¸é€‚é…xdist</span><br></code></pre></td></tr></table></figure><h4 id="2-è§£å†³æ–¹æ¡ˆä¸€"><a href="#2-è§£å†³æ–¹æ¡ˆä¸€" class="headerlink" title="(2) è§£å†³æ–¹æ¡ˆä¸€"></a>(2) è§£å†³æ–¹æ¡ˆä¸€</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-meta">@pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&quot;session&quot;</span></span>)                                </span><span class="hljs-comment"># PyCharmä¸­ï¼ŒCtrl+å³é”®ç‚¹å‡»base_url</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">base_url</span>(<span class="hljs-params">request</span>):                                          <span class="hljs-comment"># åŠ è½½plugin.pyæ–‡ä»¶ï¼Œæ‰¾åˆ°å·¦ä¾§ä»£ç æ®µ</span><br>    <span class="hljs-string">&quot;&quot;&quot;Return a base URL&quot;&quot;&quot;</span><br>    config = request.config<br>    <span class="hljs-comment"># base_url = config.getoption(&quot;base_url&quot;)                   # ä¿®æ”¹è¯¥è¡Œä»£ç ä¸ºä¸‹ä¸€è¡Œä»£ç å†…å®¹ï¼Œä¿å­˜</span><br>    base_url = config.getoption(<span class="hljs-string">&quot;base_url&quot;</span>) <span class="hljs-keyword">or</span> config.getini(<span class="hljs-string">&quot;base_url&quot;</span>)<br>    <span class="hljs-keyword">if</span> base_url <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:<br>        <span class="hljs-keyword">return</span> base_url<br><br><span class="hljs-comment"># å†æ¬¡æ‰§è¡Œå‘½ä»¤pytest test_xdist_url.py -n 2ï¼Œå°±ä¸ä¼šå†æŠ¥é”™äº†ï¼Œéšåæ‰§è¡Œpytestå‘½ä»¤æ—¶éƒ½å‡ºç°ä»¥ä¸‹é—®é¢˜</span><br><span class="hljs-comment"># UnicodeDecodeError: &#x27;gbk&#x27; codec can&#x27;t decode byte 0xa1 in position 185: illegal multibyte sequence</span><br><span class="hljs-comment"># å°†pytest.iniæ–‡ä»¶çš„ç¼–ç æ ¼å¼ç”±UTF-8æ”¹ä¸ºGBKå³å¯è§£å†³(ä¸æ¸…æ¥šæ˜¯ä¸æ˜¯ç”±äºä¿®æ”¹æºæ–‡ä»¶å†…å®¹å¼•èµ·çš„ï¼Œä¸æ¨èä½¿ç”¨è¯¥è§£å†³æ–¹æ¡ˆ)</span><br></code></pre></td></tr></table></figure><h4 id="3-è§£å†³æ–¹æ¡ˆäºŒ"><a href="#3-è§£å†³æ–¹æ¡ˆäºŒ" class="headerlink" title="(3) è§£å†³æ–¹æ¡ˆäºŒ"></a>(3) è§£å†³æ–¹æ¡ˆäºŒ</h4><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs Ini"><span class="hljs-section">[pytest]</span>                                                         <span class="hljs-comment"># pytest.ini</span><br><br><span class="hljs-attr">addopts</span> = --base-url=https://www.baidu.com/                      <span class="hljs-comment"># ä¸é…ç½®iniå‚æ•°ï¼Œé…ç½®å‘½ä»¤è¡Œå‚æ•°</span><br></code></pre></td></tr></table></figure><h1 id="4-é¡µé¢å¯¹è±¡æ¨¡å‹"><a href="#4-é¡µé¢å¯¹è±¡æ¨¡å‹" class="headerlink" title="4 é¡µé¢å¯¹è±¡æ¨¡å‹"></a>4 é¡µé¢å¯¹è±¡æ¨¡å‹</h1><ul><li>é¡µé¢å¯¹è±¡æ¨¡å‹<ul><li>POMæ˜¯ä¸€ç§è½¯ä»¶æµ‹è¯•è®¾è®¡æ¨¡å¼ï¼Œç”¨äºåœ¨è‡ªåŠ¨åŒ–æµ‹è¯•ä¸­ç»„ç»‡å’Œç®¡ç†ç½‘é¡µçš„å…ƒç´ å’Œæ“ä½œã€‚</li><li>è¯¥æ¨¡å¼å°†æ¯ä¸ªç½‘é¡µè§†ä¸ºä¸€ä¸ªç‹¬ç«‹çš„å¯¹è±¡ï¼Œå¹¶ä¸”ä½¿ç”¨å¯¹è±¡æ¥è¡¨ç¤ºè¯¥é¡µé¢çš„å…ƒç´ å’Œè¡Œä¸ºã€‚</li><li>åŸºæœ¬åŸåˆ™æ˜¯å°†é¡µé¢ç»“æ„å’Œè¡Œä¸ºä¸æµ‹è¯•ä»£ç åˆ†ç¦»å¼€æ¥ï¼Œè‹¥ç»“æ„å‘ç”Ÿå˜åŒ–ï¼Œåªéœ€æ›´æ–°é¡µé¢å¯¹è±¡çš„ä»£ç ã€‚</li><li>ä»¥æµ‹è¯•æ³¨å†Œé¡µé¢ä¸ºä¾‹<ul><li>æ ¹æ®è¾“å…¥æ¡†çš„å†…å®¹ï¼Œå¯ä»¥ç¼–å†™å¤šä¸ªæœ‰æ•ˆç­‰ä»·å’Œæ— æ•ˆç­‰ä»·çš„æµ‹è¯•ç”¨ä¾‹ã€‚</li><li>ç”¨ä¾‹æ“ä½œæ˜¯åœ¨é¡µé¢å…ƒç´ ä¸Šç‚¹ç‚¹ç‚¹ï¼Œå°†å…ƒç´ å®šä½å’Œæ“ä½œå°è£…æˆä¸€ä¸ªç±»ã€‚</li></ul></li><li>æ­å»ºJForumè®ºå›<ul><li><a href="https://nchc.dl.sourceforge.net/project/xampp/XAMPP%20Windows/5.6.40/xampp-windows-x64-5.6.40-1-VC11-installer.exe">xampp-windows-x64-5.6.40-1-VC11-installer.exe</a>ï¼šä¸‹è½½ï¼Œå‚»ç“œå¼å®‰è£…ã€‚<ul><li>MySQLå°†my.iniæ–‡ä»¶ä¸­çš„ç«¯å£3306ä¿®æ”¹ä¸º3311ï¼ŒApacheå°†httpd.confæ–‡ä»¶ä¸­çš„ç«¯å£80ä¿®æ”¹ä¸º81ã€‚</li><li>&#x2F;Xampp&#x2F;phpMyAdmin&#x2F;config.inc.phpæ–‡ä»¶æ·»åŠ å†…å®¹<code>$cfg[&#39;Servers&#39;][$i][&#39;port&#39;] = &#39;3311&#39;;</code>ã€‚</li><li>å¯åŠ¨Apacheã€Tomcatã€MySQLï¼Œä¸‹è½½â€œ<a href="https://master.dl.sourceforge.net/project/jforum2/jforum-2.7.0.war?viasf=1">jforum-2.7.0.war</a>â€å‰ªè´´åˆ°Xampp&#x2F;tomcat&#x2F;webappsç›®å½•ã€‚</li></ul></li><li>è‹¥æµè§ˆå™¨æ­£å¸¸è®¿é—®â€œ<a href="http://localhost:81/phpmyadmin/">http://localhost:81/phpmyadmin/</a>â€ï¼Œè¯´æ˜æ–‡ä»¶é…ç½®æ­£ç¡®ã€‚<ul><li>phpMyAdminä¸­æ–°å»ºä¸€ä¸ªåä¸º<code>jforum</code>ï¼Œç¼–ç ä¸º<code>utf8_general_ci</code>çš„æ•°æ®åº“ã€‚</li><li>phpMyAdminç•Œé¢ï¼Œç‚¹å‡»è´¦æˆ·ï¼Œå°†ç”¨æˆ·åä¸ºrootçš„æƒé™å¯†ç å…¨éƒ¨æ”¹ä¸º123456ã€‚</li><li>&#x2F;Xampp&#x2F;phpMyAdmin&#x2F;config.inc.phpæ–‡ä»¶ï¼Œæ”¹<code>[&#39;password&#39;] = &#39;123456&#39;;</code>ã€‚</li></ul></li><li>æµè§ˆå™¨è®¿é—®â€œ<a href="http://127.0.0.1:8080/jforum-2.7.0/install.jsp">http://127.0.0.1:8080/jforum-2.7.0/install.jsp</a>â€ï¼Œéƒ¨ç½²æœ¬åœ°è®ºå›ã€‚</li><li>æ•°æ®åº“ç«¯å£3311ï¼Œæ•°æ®åº“ç”¨æˆ·è´¦å·ä¸ºrootï¼Œå¯†ç 123456ï¼Œç³»ç»Ÿç®¡ç†å‘˜å¯†ç 123456ã€‚</li><li>éƒ¨ç½²å®Œæˆåè®¿é—®è®ºå›é¦–é¡µï¼š<a href="http://127.0.0.1:8080/jforum-2.7.0/forums/list.page">http://127.0.0.1:8080/jforum-2.7.0/forums/list.page</a>ã€‚</li><li>æ³¨æ„ï¼šè®¿é—®è®ºå›æ—¶åªéœ€å¯åŠ¨Tomcatå’ŒMySQLï¼Œè®¿é—®æ•°æ®åº“åˆ™è¦å¼€å¯Apacheå’ŒMySQLã€‚</li></ul></li></ul></li></ul><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Txt">- cases                                                          # ç”¨äºæ”¾ç½®æµ‹è¯•ç”¨ä¾‹<br>    - test_register.py<br>    - __init__.py<br>- models                                                         # ç”¨äºæ”¾ç½®å°è£…å¥½çš„ç±»æ–‡ä»¶<br>    - register_page.py                                           # conftest.pyçš„é…ç½®ä¼˜å…ˆäºpytest.ini<br>    - __init.py                                                  # ä½†ä»ç„¶å—åˆ°pytest.iniå‘½ä»¤è¡Œé€‰é¡¹çš„å½±å“<br>- conftest.py                                                    # ç”¨äºå®šä¹‰å…±äº«çš„fixtureså’Œé’©å­å‡½æ•°hooks<br>- pytest.ini                                                     # é…ç½®æ–‡ä»¶ï¼Œç”¨äºè®¾ç½®å…¨å±€çš„æµ‹è¯•é€‰é¡¹å’Œæ’ä»¶<br></code></pre></td></tr></table></figure><h2 id="4-1-å°è£…æˆç±»"><a href="#4-1-å°è£…æˆç±»" class="headerlink" title="4-1 å°è£…æˆç±»"></a>4-1 å°è£…æˆç±»</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> Page                            <span class="hljs-comment"># register_page.py</span><br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">RegisterPage</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, page: Page</span>):<br>        self.page = page<br>        self.pop_message = <span class="hljs-literal">None</span><br>        self.locator_username = page.locator(<br>            <span class="hljs-string">&#x27;//*[@id=&quot;formregister&quot;]/table[2]/tbody/tr[3]/td[2]/input&#x27;</span><br>        )                                                       <span class="hljs-comment"># å®šä½ä¼šå‘˜åç§°</span><br>        self.locator_email = page.locator(<br>            <span class="hljs-string">&#x27;//*[@id=&quot;formregister&quot;]/table[2]/tbody/tr[4]/td[2]/input&#x27;</span><br>        )                                                       <span class="hljs-comment"># å®šä½ç”µå­é‚®ç®±</span><br>        self.locator_password = page.locator(<br>            <span class="hljs-string">&#x27;//*[@id=&quot;password&quot;]&#x27;</span><br>        )                                                       <span class="hljs-comment"># å®šä½å¯†ç </span><br>        self.locator_password_confirm = page.locator(<br>            <span class="hljs-string">&#x27;//*[@id=&quot;formregister&quot;]/table[2]/tbody/tr[6]/td[2]/input&#x27;</span><br>        )                                                       <span class="hljs-comment"># å®šä½ç¡®è®¤å¯†ç </span><br>        <span class="hljs-comment"># self.locator_register_btn = page.locator(</span><br>        <span class="hljs-comment">#     &#x27;//*[@id=&quot;formregister&quot;]/table[2]/tbody/tr[7]/td/input[1]&#x27;</span><br>        <span class="hljs-comment"># )                                                     # å®šä½ç¡®å®šæŒ‰é’®</span><br>        self.locator_register_btn = page.get_by_role(<span class="hljs-string">&quot;button&quot;</span>, name=<span class="hljs-string">&quot;ç¡®å®š&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">navigate</span>(<span class="hljs-params">self</span>):                                         <span class="hljs-comment"># å¯¼èˆªåˆ°ä¼šå‘˜æ³¨å†Œé¡µé¢</span><br>        self.page.goto(<span class="hljs-string">&quot;http://127.0.0.1:8080/jforum-2.7.0/user/insert.page&quot;</span>)<br>        <span class="hljs-comment"># self.page.click(</span><br>        <span class="hljs-comment">#     &#x27;/html/body/table/tbody/tr[2]/td/table/tbody/tr[3]/td/input[1]&#x27;</span><br>        <span class="hljs-comment"># )                                                     # åŒæ„åè®®ï¼Œæ²¡å®šä½åˆ°</span><br>        self.page.get_by_role(<span class="hljs-string">&quot;button&quot;</span>, name=<span class="hljs-string">&quot;æˆ‘åŒæ„ä»¥ä¸Šæ¡æ¬¾&quot;</span>).click()<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">handle_dialog</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">on_dialog</span>(<span class="hljs-params">dialog</span>):<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å¼¹çª—æç¤ºå†…å®¹ï¼š&quot;</span>, dialog.message)<br>            self.pop_message = dialog.message<br>            dialog.dismiss()<br>        self.page.on(<span class="hljs-string">&#x27;dialog&#x27;</span>, on_dialog)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">fill_username</span>(<span class="hljs-params">self, username</span>):                          <span class="hljs-comment"># è¾“å…¥ä¼šå‘˜åç§°</span><br>        self.locator_username.fill(username)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">fill_email</span>(<span class="hljs-params">self, email</span>):                                <span class="hljs-comment"># è¾“å…¥ç”µå­é‚®ç®±</span><br>        self.locator_email.fill(email)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">fill_password</span>(<span class="hljs-params">self, password</span>):                          <span class="hljs-comment"># è¾“å…¥å¯†ç </span><br>        self.locator_password.fill(password)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">fill_password_confirm</span>(<span class="hljs-params">self, password_confirm</span>):          <span class="hljs-comment"># è¾“å…¥ç¡®è®¤å¯†ç </span><br>        self.locator_password_confirm.fill(password_confirm)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">click_register_button</span>(<span class="hljs-params">self</span>):                            <span class="hljs-comment"># ç‚¹å‡»ç¡®å®šæŒ‰é’®</span><br>        self.locator_register_btn.wait_for(state=<span class="hljs-string">&quot;visible&quot;</span>)<br>        self.locator_register_btn.click()<br></code></pre></td></tr></table></figure><h2 id="4-2-conftest-py"><a href="#4-2-conftest-py" class="headerlink" title="4-2 conftest.py"></a>4-2 conftest.py</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                                   <span class="hljs-comment"># conftest.py</span><br><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><br><span class="hljs-meta">@pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&quot;session&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">context_chrome</span>():<br>    p = sync_playwright().start()                               <span class="hljs-comment"># å‰ç½®æ“ä½œä»£ç </span><br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)<br>    context = browser.new_context()<br>    <span class="hljs-keyword">yield</span> context<br><br>    context.close()                                             <span class="hljs-comment"># å®ç°ç”¨ä¾‹åç½®</span><br>    browser.close()                                             <span class="hljs-comment"># åç½®æ“ä½œä»£ç </span><br>    p.stop()<br></code></pre></td></tr></table></figure><h2 id="4-3-æµ‹è¯•ç”¨ä¾‹éƒ¨åˆ†"><a href="#4-3-æµ‹è¯•ç”¨ä¾‹éƒ¨åˆ†" class="headerlink" title="4-3 æµ‹è¯•ç”¨ä¾‹éƒ¨åˆ†"></a>4-3 æµ‹è¯•ç”¨ä¾‹éƒ¨åˆ†</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                                   <span class="hljs-comment"># test_register.py</span><br><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> expect<br><span class="hljs-keyword">from</span> models.register_page <span class="hljs-keyword">import</span> RegisterPage<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestRegister</span>:<br><span class="hljs-meta">    @pytest.fixture(<span class="hljs-params">autouse=<span class="hljs-literal">True</span></span>)                               </span><span class="hljs-comment"># Trueä¸ºä½œç”¨åŸŸå†…çš„ç”¨ä¾‹è‡ªåŠ¨è°ƒç”¨</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">start_for_each</span>(<span class="hljs-params">self, context_chrome</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;è®¿é—®æ³¨å†Œé¡µ&quot;</span>)<br>        self.page = context_chrome.new_page()<br>        self.register = RegisterPage(self.page)<br>        self.register.navigate()<br>        <span class="hljs-keyword">yield</span>                                                   <span class="hljs-comment"># å°†ä¸€ä¸ªå‡½æ•°å˜æˆä¸€ä¸ªç”Ÿæˆå™¨</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å…³é—­æ³¨å†Œé¡µ&quot;</span>)<br>        self.page.close()                                       <span class="hljs-comment"># è¿™ä¸ªç”Ÿæˆå™¨ç”¨äºæµ‹è¯•æ³¨å†Œé¡µé¢</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_register_a</span>(<span class="hljs-params">self</span>):                                  <span class="hljs-comment"># ä¼šå‘˜åç§°ä¸ºç©º</span><br>        self.register.fill_username(<span class="hljs-string">&#x27;&#x27;</span>)                         <span class="hljs-comment"># å­—æ®µé•¿åº¦è¶…è¿‡ç›´æ¥æˆªæ–­</span><br>        self.register.fill_email(<span class="hljs-string">&#x27;Alice@qq.com&#x27;</span>)                <span class="hljs-comment"># è¿™é‡Œä¸åšéªŒè¯</span><br>        self.register.fill_password(<span class="hljs-string">&#x27;123456&#x27;</span>)<br>        self.register.fill_password_confirm(<span class="hljs-string">&#x27;123456&#x27;</span>)<br>        self.register.handle_dialog()<br>        self.register.click_register_button()<br>        <span class="hljs-keyword">assert</span> self.register.pop_message == <span class="hljs-string">&quot;è¯·å¡«å†™ä¼šå‘˜åç§°è¾“å…¥æ¡†&quot;</span><br>        <span class="hljs-comment"># expect(                                               # expectæ–­è¨€è·å–ä¸åˆ°å†…å®¹</span><br>        <span class="hljs-comment">#     self.register.pop_message</span><br>        <span class="hljs-comment"># ).to_contain_text(&quot;è¯·å¡«å†™ä¼šå‘˜åç§°è¾“å…¥æ¡†&quot;)</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_register_b</span>(<span class="hljs-params">self</span>):                                  <span class="hljs-comment"># ç”µå­é‚®ç®±ä¸ºç©º</span><br>        self.register.fill_username(<span class="hljs-string">&#x27;Bob&#x27;</span>)<br>        self.register.fill_email(<span class="hljs-string">&#x27;&#x27;</span>)<br>        self.register.fill_password(<span class="hljs-string">&#x27;123456&#x27;</span>)<br>        self.register.fill_password_confirm(<span class="hljs-string">&#x27;123456&#x27;</span>)<br>        self.register.handle_dialog()<br>        self.register.click_register_button()<br>        <span class="hljs-keyword">assert</span> self.register.pop_message == <span class="hljs-string">&quot;è¯·æ­£ç¡®çš„å¡«å†™ç”µå­é‚®ä»¶è¾“å…¥æ¡†&quot;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_register_c</span>(<span class="hljs-params">self</span>):                                  <span class="hljs-comment"># å¯†ç ä¸ºç©º</span><br>        self.register.fill_username(<span class="hljs-string">&#x27;Celine&#x27;</span>)<br>        self.register.fill_email(<span class="hljs-string">&#x27;Celine@qq.com&#x27;</span>)<br>        self.register.fill_password(<span class="hljs-string">&#x27;&#x27;</span>)<br>        self.register.fill_password_confirm(<span class="hljs-string">&#x27;123456&#x27;</span>)<br>        self.register.handle_dialog()<br>        self.register.click_register_button()<br>        <span class="hljs-keyword">assert</span> self.register.pop_message == <span class="hljs-string">&quot;è¯·å¡«å†™å¯†ç è¾“å…¥æ¡†&quot;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_register_d</span>(<span class="hljs-params">self</span>):                                  <span class="hljs-comment"># å¯†ç ä¸ç¡®è®¤å¯†ç ä¸ä¸€è‡´</span><br>        self.register.fill_username(<span class="hljs-string">&#x27;Drayton&#x27;</span>)<br>        self.register.fill_email(<span class="hljs-string">&#x27;Drayton@qq.com&#x27;</span>)<br>        self.register.fill_password(<span class="hljs-string">&#x27;123456&#x27;</span>)<br>        self.register.fill_password_confirm(<span class="hljs-string">&#x27;123&#x27;</span>)<br>        self.register.handle_dialog()<br>        self.register.click_register_button()<br>        <span class="hljs-keyword">assert</span> self.register.pop_message == <span class="hljs-string">&quot;ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸åˆ&quot;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_register_e</span>(<span class="hljs-params">self</span>):                                  <span class="hljs-comment"># æˆåŠŸæ³¨å†Œ</span><br>        self.register.fill_username(<span class="hljs-string">&#x27;Elliott&#x27;</span>)<br>        self.register.fill_email(<span class="hljs-string">&#x27;Elliott@qq.com&#x27;</span>)<br>        self.register.fill_password(<span class="hljs-string">&#x27;123456&#x27;</span>)<br>        self.register.fill_password_confirm(<span class="hljs-string">&#x27;123456&#x27;</span>)<br>        self.register.handle_dialog()<br>        self.register.click_register_button()<br>        expect(self.register.page).to_have_title(<span class="hljs-string">&#x27;My Forum - your board description&#x27;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    pytest.main()<br></code></pre></td></tr></table></figure><h1 id="5-ç™»å½•ç›¸å…³æ“ä½œ"><a href="#5-ç™»å½•ç›¸å…³æ“ä½œ" class="headerlink" title="5 ç™»å½•ç›¸å…³æ“ä½œ"></a>5 ç™»å½•ç›¸å…³æ“ä½œ</h1><ul><li>ç™»å½•ç›¸å…³æ“ä½œ<ul><li>èº«ä»½éªŒè¯æ–¹å¼ã€ç»•è¿‡ç™»å½•éªŒè¯ç ï¼šä»¥â€œé¡µé¢å¯¹è±¡æ¨¡å‹â€ä¸­æ­å»ºçš„â€œJForumè®ºå›â€ä¸ºä¾‹è¿›è¡Œè¯´æ˜ã€‚</li><li>ç™»å½•é¡µæ»‘åŠ¨è§£é”ï¼š<a href="https://www.bootstrapmb.com/item/10579">https://www.bootstrapmb.com/item/10579</a>ã€‚</li><li>æ»‘å—æ‹¼å›¾éªŒè¯ç ï¼š<a href="https://www.bootstrapmb.com/item/2880">https://www.bootstrapmb.com/item/2880</a>ã€‚</li><li>ç™»å½•éªŒè¯ç è¯†åˆ«ï¼š<a href="https://www.bootstrapmb.com/item/8462">https://www.bootstrapmb.com/item/8462</a>ã€‚</li><li>å¤šçº¿ç¨‹ç™»å½•è´¦å·ã€å¤šè´¦å·ç™»å½•é—®é¢˜ï¼šä»¥â€œé¡µé¢å¯¹è±¡æ¨¡å‹â€ä¸­æ­å»ºçš„â€œJForumè®ºå›â€ä¸ºä¾‹è¿›è¡Œè¯´æ˜ã€‚</li></ul></li></ul><h2 id="5-1-èº«ä»½éªŒè¯æ–¹å¼"><a href="#5-1-èº«ä»½éªŒè¯æ–¹å¼" class="headerlink" title="5-1 èº«ä»½éªŒè¯æ–¹å¼"></a>5-1 èº«ä»½éªŒè¯æ–¹å¼</h2><ul><li>èº«ä»½éªŒè¯æ–¹å¼ï¼šä»¥â€œé¡µé¢å¯¹è±¡æ¨¡å‹â€ä¸­æ­å»ºçš„â€œJForumè®ºå›â€ä¸ºä¾‹è¿›è¡Œè¯´æ˜ã€‚<ul><li>ä¿å­˜ç™»å½•cookieï¼šå…ˆç™»å½•ï¼Œå°†cookieä¿å­˜åˆ°æœ¬åœ°ï¼Œé€šè¿‡åŠ è½½cookieçš„æ–¹å¼è§£å†³é‡å¤ç™»å½•çš„é—®é¢˜ã€‚</li><li>Webåº”ç”¨ç¨‹åºä½¿ç”¨åŸºäºcookieæˆ–åŸºäºä»¤ç‰Œçš„èº«ä»½éªŒè¯ï¼Œå…¶ä¸­ç»è¿‡èº«ä»½éªŒè¯çš„çŠ¶æ€å­˜å‚¨ä¸ºcookieæˆ–æœ¬åœ°å­˜å‚¨ã€‚</li><li>Playwrightæä¾›æ–¹æ³•ç”¨äºä»ç»è¿‡èº«ä»½éªŒè¯çš„ä¸Šä¸‹æ–‡ä¸­æ£€ç´¢å­˜å‚¨çŠ¶æ€ï¼Œç„¶ååˆ›å»ºå…·æœ‰é¢„å¡«å……çŠ¶æ€çš„æ–°ä¸Šä¸‹æ–‡ã€‚</li><li>ä¼šè¯å­˜å‚¨ï¼šä¼šè¯å­˜å‚¨å¾ˆå°‘ç”¨äºå­˜å‚¨ä¸ç™»å½•çŠ¶æ€ç›¸å…³çš„ä¿¡æ¯ï¼Œå¸¸ç”¨äºç‰¹å®šåŸŸï¼Œå¹¶ä¸”ä¸ä¼šè·¨é¡µé¢åŠ è½½æŒç»­å­˜åœ¨ã€‚</li><li>ä¿å­˜ç™»å½•çš„cookieæˆ–åŸºäºæœ¬åœ°å­˜å‚¨çŠ¶æ€çš„èº«ä»½éªŒè¯ï¼Œå¯ä»¥è·¨ä¸åŒçš„æµè§ˆå™¨ä½¿ç”¨ï¼Œå–å†³äºåº”ç”¨ç¨‹åºçš„èº«ä»½éªŒè¯æ¨¡å‹ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>)<br>    context = browser.new_context()<br>    page = context.new_page()<br>    page.goto(<span class="hljs-string">&#x27;http://127.0.0.1:8080/jforum-2.7.0/user/login.page&#x27;</span>)<br><br>    page.locator(<br>        <span class="hljs-string">&#x27;//*[@id=&quot;loginform&quot;]/table[2]/tbody/tr[2]/td/table/tbody/tr[2]/td[2]/input&#x27;</span><br>    ).fill(<span class="hljs-string">&#x27;admin&#x27;</span>)<br>    page.locator(<br>        <span class="hljs-string">&#x27;//*[@id=&quot;loginform&quot;]/table[2]/tbody/tr[2]/td/table/tbody/tr[3]/td[2]/input&#x27;</span><br>    ).fill(<span class="hljs-string">&#x27;123456&#x27;</span>)<br>    page.locator(<br>        <span class="hljs-string">&#x27;//*[@id=&quot;loginform&quot;]/table[2]/tbody/tr[2]/td/table/tbody/tr[5]/td/input[2]&#x27;</span><br>    ).click()<br><br>    storage = context.storage_state(path=<span class="hljs-string">&#x27;auth/state.json&#x27;</span>)     <span class="hljs-comment"># ä¿å­˜storageStateåˆ°æŒ‡å®šçš„æ–‡ä»¶</span><br><br>    context.close()                                             <span class="hljs-comment"># å…³é—­ä¸Šä¸‹æ–‡</span><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h4 id="1-ç”Ÿæˆstate-json"><a href="#1-ç”Ÿæˆstate-json" class="headerlink" title="(1) ç”Ÿæˆstate.json"></a>(1) ç”Ÿæˆstate.json</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs Json"><span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;cookies&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>        <span class="hljs-punctuation">&#123;</span><br>            <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;JSESSIONID&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;value&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;B2BAB0E2E765073EA45904A266F0F1C0&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;domain&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;127.0.0.1&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;path&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;/jforum-2.7.0&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;expires&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">-1</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;httpOnly&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">true</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;secure&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">false</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;sameSite&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Lax&quot;</span><br>        <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-punctuation">&#123;</span><br>            <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;jforumUserId&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;value&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;domain&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;127.0.0.1&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;path&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;/jforum-2.7.0&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;expires&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1732842342.156105</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;httpOnly&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">true</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;secure&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">false</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;sameSite&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Lax&quot;</span><br>        <span class="hljs-punctuation">&#125;</span><br>    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;origins&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><h4 id="2-éªŒè¯æ˜¯å¦å…ç™»"><a href="#2-éªŒè¯æ˜¯å¦å…ç™»" class="headerlink" title="(2) éªŒè¯æ˜¯å¦å…ç™»"></a>(2) éªŒè¯æ˜¯å¦å…ç™»</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>)<br>    context = browser.new_context(<br>        storage_state=<span class="hljs-string">&#x27;auth/state.json&#x27;</span><br>    )                                                           <span class="hljs-comment"># åŠ è½½æœ¬åœ°cookiesï¼Œå®ç°å…ç™»</span><br>    page = context.new_page()<br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)<br>    page.goto(<span class="hljs-string">&#x27;http://127.0.0.1:8080/jforum-2.7.0/forums/list.page&#x27;</span>)<br>    page.pause()                                                <span class="hljs-comment"># æ‰“æ–­ç‚¹æŸ¥çœ‹æ˜¯å¦å…ç™»</span><br><br>    context.close()                                             <span class="hljs-comment"># å…³é—­ä¸Šä¸‹æ–‡</span><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h4 id="3-æœ¬åœ°ä¼šè¯å­˜å‚¨"><a href="#3-æœ¬åœ°ä¼šè¯å­˜å‚¨" class="headerlink" title="(3) æœ¬åœ°ä¼šè¯å­˜å‚¨"></a>(3) æœ¬åœ°ä¼šè¯å­˜å‚¨</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>)<br>    context = browser.new_context()<br>    page = context.new_page()                                   <span class="hljs-comment"># å¯¼èˆªåˆ°ç‰¹å®šé¡µé¢</span><br>    page.goto(<span class="hljs-string">&#x27;http://127.0.0.1:8080/jforum-2.7.0/user/login.page&#x27;</span>)<br>    session_storage = page.evaluate(                            <span class="hljs-comment"># è·å–sessionStorage</span><br>        <span class="hljs-string">&quot;() =&gt; JSON.stringify(sessionStorage)&quot;</span><br>    )<br>    os.environ[<span class="hljs-string">&quot;SESSION_STORAGE&quot;</span>] = session_storage             <span class="hljs-comment"># å°†å…¶å­˜å‚¨ä¸ºç¯å¢ƒå˜é‡</span><br>    session_storage = os.environ[<span class="hljs-string">&quot;SESSION_STORAGE&quot;</span>]             <span class="hljs-comment"># åœ¨æ–°çš„ä¸Šä¸‹æ–‡ä¸­è®¾ç½®sessionStorage</span><br>    context.add_init_script(<span class="hljs-string">&quot;&quot;&quot;(storage =&gt; &#123;</span><br><span class="hljs-string">            if (window.location.hostname === &#x27;example.com&#x27;) &#123;</span><br><span class="hljs-string">                const entries = JSON.parse(storage)</span><br><span class="hljs-string">                for (const [key, value] of Object.entries(entries)) &#123;</span><br><span class="hljs-string">                    window.sessionStorage.setItem(key, value)</span><br><span class="hljs-string">                &#125;</span><br><span class="hljs-string">            &#125;</span><br><span class="hljs-string">        &#125;)(&#x27;&quot;&quot;&quot;</span> + session_storage + <span class="hljs-string">&quot;&#x27;)&quot;</span>)<br><br>    session_storage = os.getenv(<span class="hljs-string">&quot;SESSION_STORAGE&quot;</span>)              <span class="hljs-comment"># æ£€æŸ¥ç¯å¢ƒå˜é‡æ˜¯å¦è®¾ç½®äº†SESSION_STORAGE</span><br>    <span class="hljs-keyword">if</span> session_storage:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ç¯å¢ƒå˜é‡SESSION_STORAGEå·²ç»è®¾ç½®&quot;</span>)<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ç¯å¢ƒå˜é‡SESSION_STORAGEå°šæœªè®¾ç½®&quot;</span>)<br><br>    context.close()                                             <span class="hljs-comment"># å…³é—­ä¸Šä¸‹æ–‡</span><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h2 id="5-2-ç»•è¿‡ç™»å½•éªŒè¯ç "><a href="#5-2-ç»•è¿‡ç™»å½•éªŒè¯ç " class="headerlink" title="5-2 ç»•è¿‡ç™»å½•éªŒè¯ç "></a>5-2 ç»•è¿‡ç™»å½•éªŒè¯ç </h2><ul><li>ç»•è¿‡ç™»å½•éªŒè¯ç ï¼šä»¥â€œé¡µé¢å¯¹è±¡æ¨¡å‹â€ä¸­æ­å»ºçš„â€œJForumè®ºå›â€ä¸ºä¾‹è¿›è¡Œè¯´æ˜ã€‚<ul><li>æµè§ˆå™¨æ‰‹å·¥ç™»å½•ï¼Œå†ä½¿ç”¨Playwrightæ¥ç®¡é¡µé¢ï¼Œç»•è¿‡ç™»å½•éªŒè¯ç æ“ä½œã€‚</li><li>æ‰¾åˆ°Chromeå±æ€§ï¼Œå¤åˆ¶Chromeçš„èµ·å§‹ä½ç½®ï¼Œæ·»åŠ åˆ°Pathç¯å¢ƒå˜é‡ä¸‹ã€‚</li><li>å‚æ•°è¯´æ˜<ul><li><code>--start-maximized</code>çª—å£æœ€å¤§åŒ–ã€‚</li><li><code>--incognito</code>éšç§æ¨¡å¼æ‰“å¼€ã€<code>--new-window</code>ç›´æ¥æ‰“å¼€ç½‘å€ã€‚</li><li><code>--remote-debugging-port</code>æŒ‡å®šè¿è¡Œç«¯å£ï¼Œéœ€ç¡®ä¿æ²¡è¢«å ç”¨ã€‚</li><li><code>--user-data-dir</code>æŒ‡å®šè¿è¡Œæµè§ˆå™¨çš„è¿è¡Œæ•°æ®ï¼Œæ–°å»ºç›®å½•ï¼Œä¸å½±å“ç³»ç»ŸåŸæ•°æ®ã€‚</li></ul></li><li><code>chrome.exe --remote-debugging-port=12345 --incognito --start-maximized --user-data-dir=</code></li><li><code>&#39;D:\Project\Python\demo&#39; --new-window http://127.0.0.1:8080/jforum-2.7.0/user/login.page</code></li><li>CMDçª—å£è¾“å…¥å‘½ä»¤å¯åŠ¨æµè§ˆå™¨ï¼Œå¹¶æ‰“å¼€JForumè®ºå›ï¼Œæ‰‹åŠ¨è¾“å…¥è´¦å·å¯†ç ç™»å½•åï¼Œæ‰§è¡Œä»¥ä¸‹Playwrightä»£ç ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.connect_over_cdp(<br>        <span class="hljs-string">&#x27;http://localhost:12345/&#x27;</span><br>    )                                                           <span class="hljs-comment"># è¿æ¥ç°æœ‰çš„Chromiumå®ä¾‹</span><br>    page = browser.contexts[<span class="hljs-number">0</span>].pages[<span class="hljs-number">0</span>]                         <span class="hljs-comment"># è·å–pageå¯¹è±¡</span><br>    <span class="hljs-built_in">print</span>(page.title())<br>    <span class="hljs-built_in">print</span>(page.url)<br>    page.get_by_role(<span class="hljs-string">&quot;link&quot;</span>, name=<span class="hljs-string">&quot;è¿›å…¥åå°ç®¡ç†&quot;</span>).click()<br><br>    <span class="hljs-comment"># connect_over_cdp()æ–¹æ³•å°†ç°æœ‰çš„Chromiumæµè§ˆå™¨å®ä¾‹ä¸Playwrightä»£ç è¿›è¡Œç»‘å®š</span><br>    <span class="hljs-comment"># è€Œéåœ¨Playwrightä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„æµè§ˆå™¨å®ä¾‹ï¼Œä¸éœ€è¦å†æ˜¾ç¤ºåœ°å…³é—­å·²è¿æ¥çš„æµè§ˆå™¨å®ä¾‹</span><br>    <span class="hljs-comment"># browser.close()</span><br></code></pre></td></tr></table></figure><h2 id="5-3-ç™»å½•é¡µæ»‘åŠ¨è§£é”"><a href="#5-3-ç™»å½•é¡µæ»‘åŠ¨è§£é”" class="headerlink" title="5-3 ç™»å½•é¡µæ»‘åŠ¨è§£é”"></a>5-3 ç™»å½•é¡µæ»‘åŠ¨è§£é”</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)<br>    context = browser.new_context()                             <span class="hljs-comment"># åˆ›å»ºä¸Šä¸‹æ–‡</span><br>    page = context.new_page()                                   <span class="hljs-comment"># åˆ›å»ºæ–°é¡µé¢</span><br>    page.goto(<span class="hljs-string">&#x27;https://www.bootstrapmb.com/item/10579&#x27;</span>)         <span class="hljs-comment"># è®¿é—®æ»‘å—æ•ˆæœé¡µ</span><br><br>    <span class="hljs-keyword">with</span> context.expect_page() <span class="hljs-keyword">as</span> new_page_info:                <span class="hljs-comment"># åˆ‡æ¢åˆ°æ»‘å—é¡µé¢</span><br>        page.get_by_role(<span class="hljs-string">&quot;link&quot;</span>, name=<span class="hljs-string">&quot;é¢„ è§ˆ&quot;</span>).click()<br>    new_page = new_page_info.value<br>    new_page.wait_for_load_state()                              <span class="hljs-comment"># ç­‰å¾…é¡µé¢åŠ è½½åˆ°æŒ‡å®šçŠ¶æ€</span><br>    <br>    iframe = new_page.frame_locator(<span class="hljs-string">&#x27;//*[@id=&quot;iframe&quot;]&#x27;</span>)        <span class="hljs-comment"># æ»‘åŠ¨æ¨¡å—åœ¨iframeé‡Œé¢</span><br>    slider = iframe.get_by_text(<span class="hljs-string">&quot;â†’&quot;</span>).bounding_box()<br>    slider_x = slider[<span class="hljs-string">&#x27;x&#x27;</span>] + slider[<span class="hljs-string">&#x27;width&#x27;</span>] // <span class="hljs-number">2</span>               <span class="hljs-comment"># æ»‘å—ä¸­å¿ƒç‚¹çš„xåæ ‡</span><br>    slider_y = slider[<span class="hljs-string">&#x27;y&#x27;</span>] + slider[<span class="hljs-string">&#x27;height&#x27;</span>] // <span class="hljs-number">2</span>              <span class="hljs-comment"># æ»‘å—ä¸­å¿ƒç‚¹çš„yåæ ‡</span><br>    target = iframe.get_by_text(<span class="hljs-string">&quot;â†’ å‘å³æ»‘åŠ¨&quot;</span>).bounding_box()<br>    target_x = target[<span class="hljs-string">&#x27;width&#x27;</span>]                                  <span class="hljs-comment"># æ»‘å—é€šé“æ€»é•¿</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;xåæ ‡ï¼š&quot;</span>, slider_x, <span class="hljs-string">&quot;\nyåæ ‡ï¼š&quot;</span>, slider_y, <span class="hljs-string">&quot;\næœ€å³ä¾§xåæ ‡ï¼š&quot;</span>, slider_x + target_x)<br><br>    new_page.mouse.move(slider_x, slider_y)<br>    new_page.mouse.down()                                       <span class="hljs-comment"># æŒ‰ä½é¼ æ ‡å·¦é”®</span><br>    <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>):                                         <span class="hljs-comment"># å¾ªç¯æ‰§è¡Œä»£ç 10æ¬¡</span><br>        slider_x += <span class="hljs-number">50</span>                                          <span class="hljs-comment"># é€æ­¥ç§»åŠ¨é¼ æ ‡è‡³æ»‘å—å³ä¾§</span><br>        new_page.mouse.move(slider_x, slider_y)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;xåæ ‡+50ï¼š&quot;</span>, slider_x)<br>    new_page.mouse.up()                                         <span class="hljs-comment"># é‡Šæ”¾é¼ æ ‡å·¦é”®</span><br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h2 id="5-4-æ»‘å—æ‹¼å›¾éªŒè¯ç "><a href="#5-4-æ»‘å—æ‹¼å›¾éªŒè¯ç " class="headerlink" title="5-4 æ»‘å—æ‹¼å›¾éªŒè¯ç "></a>5-4 æ»‘å—æ‹¼å›¾éªŒè¯ç </h2><ul><li>æ»‘å—æ‹¼å›¾éªŒè¯ç <ul><li>é¦–å…ˆéœ€è¦å¾—åˆ°æ»‘å—èƒŒæ™¯å›¾ï¼Œç„¶åè®¡ç®—ç¼ºå£ä½ç½®ï¼Œæœ€åå¯èƒ½è¿˜è¦ç»•è¿‡é˜²çˆ¬è™«æœºåˆ¶ï¼Œè®¡ç®—æ»‘åŠ¨è½¨è¿¹ã€‚</li><li>æ»‘å—èƒŒæ™¯å›¾å¯ä»¥è·å–åˆ°ä¸€ä¸ªå›¾ç‰‡åœ°å€ï¼Œç¼ºå£å¯èƒ½è·å–åˆ°å›¾ç‰‡åœ°å€ï¼Œå¯èƒ½ç”±Canvasæ ‡ç­¾ç»˜åˆ¶è€Œæˆã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> re<br><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)<br>    context = browser.new_context()                             <span class="hljs-comment"># åˆ›å»ºä¸Šä¸‹æ–‡</span><br>    page = context.new_page()                                   <span class="hljs-comment"># åˆ›å»ºæ–°é¡µé¢</span><br>    page.goto(<span class="hljs-string">&#x27;https://www.bootstrapmb.com/item/2880&#x27;</span>)          <span class="hljs-comment"># è®¿é—®æ»‘å—æ‹¼å›¾é¡µ</span><br><br>    <span class="hljs-keyword">with</span> context.expect_page() <span class="hljs-keyword">as</span> new_page_info:                <span class="hljs-comment"># åˆ‡æ¢åˆ°æ»‘å—æ‹¼å›¾é¡µ</span><br>        page.get_by_role(<span class="hljs-string">&quot;link&quot;</span>, name=<span class="hljs-string">&quot;é¢„ è§ˆ&quot;</span>).click()<br>    new_page = new_page_info.value<br>    new_page.wait_for_load_state()                              <span class="hljs-comment"># ç­‰å¾…é¡µé¢åŠ è½½åˆ°æŒ‡å®šçŠ¶æ€</span><br><br>    iframe = new_page.frame_locator(<span class="hljs-string">&#x27;//*[@id=&quot;iframe&quot;]&#x27;</span>)        <span class="hljs-comment"># æ»‘åŠ¨æ¨¡å—åœ¨iframeé‡Œé¢</span><br>    iframe.get_by_placeholder(<span class="hljs-string">&quot;ç”¨æˆ·å&quot;</span>).fill(<span class="hljs-string">&#x27;admin&#x27;</span>)<br>    iframe.get_by_placeholder(<span class="hljs-string">&quot;å¯†ç &quot;</span>).fill(<span class="hljs-string">&#x27;123456&#x27;</span>)<br>    iframe.get_by_role(<span class="hljs-string">&quot;button&quot;</span>, name=<span class="hljs-string">&quot;ç™»å½•&quot;</span>).click()<br>    src = iframe.locator(<span class="hljs-string">&#x27;//*[@id=&quot;scream&quot;]&#x27;</span>).get_attribute(<span class="hljs-string">&#x27;src&#x27;</span>)<br>    pic = <span class="hljs-string">&#x27;https://v.bootstrapmb.com/2018/11/hxge32880/&#x27;</span> + src<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;èƒŒæ™¯å›¾åœ°å€ï¼š<span class="hljs-subst">&#123;pic&#125;</span>&#x27;</span>)<br><br>    canvas_style = iframe.locator(<br>        <span class="hljs-string">&#x27;//*[@id=&quot;imgVer&quot;]/div[1]/div[1]/div[2]&#x27;</span><br>    ).get_attribute(<span class="hljs-string">&#x27;style&#x27;</span>)<br>    left_value = re.search(<span class="hljs-string">r&#x27;left:\s*(-?\d+)px&#x27;</span>, canvas_style).group(<span class="hljs-number">1</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;ç¼ºå£éœ€ç§»åŠ¨çš„è·ç¦»ï¼š<span class="hljs-subst">&#123;left_value&#125;</span>&#x27;</span>)<br><br>    canvas = iframe.locator(<span class="hljs-string">&quot;#puzzleBox&quot;</span>).bounding_box()<br>    canvas_x = canvas[<span class="hljs-string">&#x27;x&#x27;</span>]                                      <span class="hljs-comment"># å·¦è¾¹è·</span><br>    canvas_y = canvas[<span class="hljs-string">&#x27;y&#x27;</span>]                                      <span class="hljs-comment"># ä¸Šè¾¹è·</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;canvasä½ç½®ï¼šå·¦è¾¹è·=<span class="hljs-subst">&#123;canvas_x&#125;</span>, ä¸Šè¾¹è·=<span class="hljs-subst">&#123;canvas_y&#125;</span>&#x27;</span>)<br><br>    slider = iframe.locator(<span class="hljs-string">&quot;.slider-btn&quot;</span>).bounding_box()<br>    <span class="hljs-built_in">print</span>(slider)                                               <span class="hljs-comment"># è¿”å›æ»‘å—çš„xï¼Œyï¼Œæ»‘å—å¤§å°</span><br><br>    new_page.mouse.move(x=<span class="hljs-built_in">int</span>(slider[<span class="hljs-string">&#x27;x&#x27;</span>]), y=slider[<span class="hljs-string">&#x27;y&#x27;</span>] + slider[<span class="hljs-string">&#x27;height&#x27;</span>]/<span class="hljs-number">2</span>)<br>    new_page.mouse.down(button=<span class="hljs-string">&#x27;middle&#x27;</span>)<br>    new_page.wait_for_timeout(<span class="hljs-number">1000</span>)<br>    new_page.mouse.move(<br>        x=<span class="hljs-built_in">int</span>(slider[<span class="hljs-string">&#x27;x&#x27;</span>])-<span class="hljs-built_in">int</span>(left_value), y=slider[<span class="hljs-string">&#x27;y&#x27;</span>] + slider[<span class="hljs-string">&#x27;height&#x27;</span>]/<span class="hljs-number">2</span><br>    )<br>    new_page.mouse.up()<br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h2 id="5-5-ç™»å½•éªŒè¯ç è¯†åˆ«"><a href="#5-5-ç™»å½•éªŒè¯ç è¯†åˆ«" class="headerlink" title="5-5 ç™»å½•éªŒè¯ç è¯†åˆ«"></a>5-5 ç™»å½•éªŒè¯ç è¯†åˆ«</h2><ul><li>ç™»å½•éªŒè¯ç è¯†åˆ«<ul><li>æ€è·¯ï¼šå…ˆè·å–åˆ°éªŒè¯ç å›¾ç‰‡ï¼Œå®šä½å…ƒç´ ï¼Œå¯¹å…ƒç´ æˆªå›¾å³å¯ï¼Œå†ä½¿ç”¨ddddocråº“å¿«é€Ÿè¯†åˆ«ã€‚</li><li>å‘½ä»¤å®‰è£…ddddocråº“ï¼š<code>pip install ddddocr -i https://pypi.douban.com/simple</code>ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> ddddocr<br><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">handle_dialog</span>(<span class="hljs-params">dialog</span>):                                      <span class="hljs-comment"># è§¦å‘å¼¹å‡ºçª—å£çš„æ“ä½œæœªçŸ¥æ—¶ä½¿ç”¨</span><br>    <span class="hljs-built_in">print</span>(dialog.message)                                       <span class="hljs-comment"># è·å–å¯¹è¯æ¡†ä¸­æ˜¾ç¤ºçš„æ¶ˆæ¯</span><br>    <span class="hljs-keyword">assert</span> dialog.message == <span class="hljs-string">&#x27;æäº¤æˆåŠŸï¼&#x27;</span><br>    dialog.dismiss()                                            <span class="hljs-comment"># å…³é—­å¯¹è¯æ¡†</span><br><br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)<br>    context = browser.new_context()                             <span class="hljs-comment"># åˆ›å»ºä¸Šä¸‹æ–‡</span><br>    page = context.new_page()                                   <span class="hljs-comment"># åˆ›å»ºæ–°é¡µé¢</span><br>    page.goto(<span class="hljs-string">&#x27;https://www.bootstrapmb.com/item/8462&#x27;</span>)          <span class="hljs-comment"># è®¿é—®éªŒè¯ç é¡µ</span><br><br>    <span class="hljs-keyword">with</span> context.expect_page() <span class="hljs-keyword">as</span> new_page_info:                <span class="hljs-comment"># åˆ‡æ¢åˆ°éªŒè¯ç é¡µ</span><br>        page.get_by_role(<span class="hljs-string">&quot;link&quot;</span>, name=<span class="hljs-string">&quot;é¢„ è§ˆ&quot;</span>).click()<br>    new_page = new_page_info.value<br>    new_page.wait_for_load_state()                              <span class="hljs-comment"># ç­‰å¾…é¡µé¢åŠ è½½åˆ°æŒ‡å®šçŠ¶æ€</span><br><br>    iframe = new_page.frame_locator(<span class="hljs-string">&#x27;//*[@id=&quot;iframe&quot;]&#x27;</span>)        <span class="hljs-comment"># æ»‘åŠ¨æ¨¡å—åœ¨iframeé‡Œé¢</span><br>    iframe.locator(<br>        <span class="hljs-string">&quot;#canvas&quot;</span><br>    ).screenshot(path=<span class="hljs-string">&#x27;pictures/code.png&#x27;</span>)                      <span class="hljs-comment"># ä¿å­˜éªŒè¯ç </span><br><br>    ocr = ddddocr.DdddOcr(show_ad=<span class="hljs-literal">False</span>)                        <span class="hljs-comment"># è¯†åˆ«éªŒè¯ç ï¼Œå®ä¾‹åŒ–</span><br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;pictures/code.png&#x27;</span>, <span class="hljs-string">&#x27;rb&#x27;</span>) <span class="hljs-keyword">as</span> f:                  <span class="hljs-comment"># æ‰“å¼€å›¾ç‰‡</span><br>        img_bytes = f.read()                                    <span class="hljs-comment"># è¯»å–å›¾ç‰‡</span><br>    code = ocr.classification(img_bytes)                        <span class="hljs-comment"># è¯†åˆ«éªŒè¯ç </span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;éªŒè¯ç ï¼š<span class="hljs-subst">&#123;code&#125;</span>&#x27;</span>)<br><br>    iframe.get_by_placeholder(<span class="hljs-string">&quot;è¯·è¾“å…¥éªŒè¯ç ï¼ˆä¸åŒºåˆ†å¤§å°å†™ï¼‰&quot;</span>).fill(code)<br>    iframe.get_by_role(<span class="hljs-string">&quot;button&quot;</span>, name=<span class="hljs-string">&quot;æäº¤&quot;</span>).click()<br>    new_page.on(<span class="hljs-string">&quot;dialog&quot;</span>, handle_dialog)<br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h2 id="5-6-å¤šçº¿ç¨‹ç™»å½•è´¦å·"><a href="#5-6-å¤šçº¿ç¨‹ç™»å½•è´¦å·" class="headerlink" title="5-6 å¤šçº¿ç¨‹ç™»å½•è´¦å·"></a>5-6 å¤šçº¿ç¨‹ç™»å½•è´¦å·</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> threading <span class="hljs-keyword">import</span> Thread<br><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">do_some_thing</span>(<span class="hljs-params">username, password</span>):<br>    p = sync_playwright().start()<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)<br>    context = browser.new_context()<br>    page = context.new_page()<br>    page.goto(<span class="hljs-string">&quot;http://127.0.0.1:8080/jforum-2.7.0/user/login.page&quot;</span>)<br><br>    page.locator(<span class="hljs-string">&quot;input[name=\&quot;username\&quot;]&quot;</span>).fill(username)<br>    page.locator(<span class="hljs-string">&quot;input[name=\&quot;password\&quot;]&quot;</span>).fill(password)<br>    page.get_by_role(<span class="hljs-string">&quot;button&quot;</span>, name=<span class="hljs-string">&quot;ç™»å…¥&quot;</span>).click()<br><br>    page.pause()                                                <span class="hljs-comment"># æš‚åœæŸ¥çœ‹æ•ˆæœ</span><br>    context.close()<br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br><br><br>users = [[<span class="hljs-string">&quot;Admin&quot;</span>, <span class="hljs-string">&quot;123456&quot;</span>], [<span class="hljs-string">&quot;Mickey&quot;</span>, <span class="hljs-string">&quot;123456&quot;</span>], [<span class="hljs-string">&quot;Elliott&quot;</span>, <span class="hljs-string">&quot;123456&quot;</span>]]<br><span class="hljs-keyword">for</span> user <span class="hljs-keyword">in</span> users:                                              <span class="hljs-comment"># å¤šçº¿ç¨‹ï¼Œ3ä¸ªè´¦å·åŒæ—¶æ“ä½œ</span><br>    thread = Thread(target=do_some_thing, args=user)<br>    thread.start()<br></code></pre></td></tr></table></figure><h2 id="5-7-å¤šè´¦å·ç™»å½•é—®é¢˜"><a href="#5-7-å¤šè´¦å·ç™»å½•é—®é¢˜" class="headerlink" title="5-7 å¤šè´¦å·ç™»å½•é—®é¢˜*"></a>5-7 å¤šè´¦å·ç™»å½•é—®é¢˜*</h2><ul><li>å¤šè´¦å·ç™»å½•é—®é¢˜ï¼šä»¥â€œé¡µé¢å¯¹è±¡æ¨¡å‹â€ä¸­æ­å»ºçš„â€œJForumè®ºå›â€ä¸ºä¾‹è¿›è¡Œè¯´æ˜ã€‚<ul><li>Adminè´¦å·åˆ é™¤ç‰ˆå—ä¸­çš„æµ‹è¯•å¸–ï¼Œè¿›å…¥åå°ç®¡ç†ï¼Œä¿®æ”¹ç‰ˆå—åç§°ä¸ºâ€œæ¯æ—¥ä¸€è¨€â€ã€‚</li><li>ç”¨æˆ·çš„å‘å¸–ä¸å›å¸–åŠŸèƒ½ï¼Œéœ€è¦ä½¿ç”¨Adminç®¡ç†å‘˜è´¦å·åœ¨åå°ç®¡ç†ä¸­å°†éªŒè¯ç å…³é—­ã€‚</li><li>åŒè´¦å·åˆ‡æ¢æ“ä½œï¼šä»£ç å®ç°Adminè´¦å·ç™»å½•è¿›è¡Œå‘å¸–ï¼ŒMickeyè´¦å·ç™»å½•è¿›è¡Œå›å¸–ã€‚</li></ul></li></ul><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Txt">- cases                                                          # ç”¨äºæ”¾ç½®æµ‹è¯•ç”¨ä¾‹<br>    - test_login.py<br>    - __init__.py                                                # ç©º<br>- models                                                         # ç”¨äºæ”¾ç½®å°è£…å¥½çš„ç±»æ–‡ä»¶<br>    - post_page.py<br>    - login_page.py<br>    - __init.py                                                  # ç©º<br>- conftest.py                                                    # ç”¨äºå®šä¹‰å…±äº«çš„fixtureså’Œé’©å­å‡½æ•°hooks<br></code></pre></td></tr></table></figure><h4 id="1-conftest-py"><a href="#1-conftest-py" class="headerlink" title="(1) conftest.py"></a>(1) conftest.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                                   <span class="hljs-comment"># conftest.py</span><br><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><br><span class="hljs-meta">@pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&quot;session&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">context_chrome</span>():<br>    p = sync_playwright().start()                               <span class="hljs-comment"># å‰ç½®æ“ä½œä»£ç </span><br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)<br>    <span class="hljs-keyword">yield</span> browser<br><br>    browser.close()                                             <span class="hljs-comment"># åç½®æ“ä½œä»£ç </span><br>    p.stop()<br></code></pre></td></tr></table></figure><h4 id="2-post-page-py"><a href="#2-post-page-py" class="headerlink" title="(2) post_page.py"></a>(2) post_page.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> Page                            <span class="hljs-comment"># post_page.py</span><br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">PostPage</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, page: Page</span>):<br>        self.page = page<br><br>        self.locator_section = page.get_by_role(<span class="hljs-string">&quot;link&quot;</span>, name=<span class="hljs-string">&quot;æ¯æ—¥ä¸€è¨€&quot;</span>)<br>        self.locator_topic = page.get_by_role(<br>            <span class="hljs-string">&quot;row&quot;</span>, name=<span class="hljs-string">&quot;æœç´¢&quot;</span>, exact=<span class="hljs-literal">True</span><br>        ).get_by_role(<span class="hljs-string">&quot;cell&quot;</span>).first<br><br>        self.locator_post = page.get_by_role(<span class="hljs-string">&quot;link&quot;</span>, name=<span class="hljs-string">&quot;æ¯æ—¥è‹±è¯­&quot;</span>)<br>        self.locator_english = page.locator(<br>            <span class="hljs-string">&quot;.bodyline &gt; table:nth-child(2) &gt; tbody &gt; tr &gt; td&quot;</span><br>        ).first<br><br>        self.locator_subject = page.locator(<span class="hljs-string">&quot;input[name=\&quot;subject\&quot;]&quot;</span>)<br>        self.locator_message = page.locator(<span class="hljs-string">&quot;textarea[name=\&quot;message\&quot;]&quot;</span>)<br>        self.locator_sending = page.get_by_role(<span class="hljs-string">&quot;button&quot;</span>, name=<span class="hljs-string">&quot;å‘é€&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">navigate_daily_word</span>(<span class="hljs-params">self</span>):<br>        self.locator_section.click()<br>        self.locator_topic.click()<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">posted</span>(<span class="hljs-params">self, subject, message</span>):                         <span class="hljs-comment"># å‘å¸–</span><br>        self.locator_subject.fill(subject)<br>        self.locator_message.fill(message)<br>        self.locator_sending.click()<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">navigate_daily_english</span>(<span class="hljs-params">self</span>):<br>        self.locator_section.click()<br>        self.locator_post.click()<br>        self.locator_english.click()<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">reply</span>(<span class="hljs-params">self, message</span>):                                   <span class="hljs-comment"># å›å¸–</span><br>        self.locator_message.fill(message)<br>        self.locator_sending.click()<br></code></pre></td></tr></table></figure><h4 id="3-login-page-py"><a href="#3-login-page-py" class="headerlink" title="(3) login_page.py"></a>(3) login_page.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> Page                            <span class="hljs-comment"># login_page.py</span><br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">LoginPage</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, page: Page</span>):<br>        self.page = page<br>        self.locator_username = page.locator(<span class="hljs-string">&quot;input[name=\&quot;username\&quot;]&quot;</span>)<br>        self.locator_password = page.locator(<span class="hljs-string">&quot;input[name=\&quot;password\&quot;]&quot;</span>)<br>        self.locator_login_btn = page.get_by_role(<span class="hljs-string">&quot;button&quot;</span>, name=<span class="hljs-string">&quot;ç™»å…¥&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">navigate</span>(<span class="hljs-params">self</span>):                                         <span class="hljs-comment"># å¯¼èˆªåˆ°ç™»å½•é¡µé¢</span><br>        self.page.goto(<span class="hljs-string">&quot;http://127.0.0.1:8080/jforum-2.7.0/user/login.page&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">login</span>(<span class="hljs-params">self, username, password</span>):                        <span class="hljs-comment"># ç™»å½•</span><br>        self.locator_username.fill(username)<br>        self.locator_password.fill(password)<br>        self.locator_login_btn.click()<br></code></pre></td></tr></table></figure><h4 id="4-test-login-py"><a href="#4-test-login-py" class="headerlink" title="(4) test_login.py"></a>(4) test_login.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                                   <span class="hljs-comment"># test_login.py</span><br><span class="hljs-keyword">import</span> requests<br><span class="hljs-keyword">from</span> models.post_page <span class="hljs-keyword">import</span> PostPage<br><span class="hljs-keyword">from</span> models.login_page <span class="hljs-keyword">import</span> LoginPage<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">message_content</span>():<br>    response = requests.get(<span class="hljs-string">&#x27;https://api.vvhan.com/api/en?type=sj&#x27;</span>)<br>    <span class="hljs-keyword">if</span> response.status_code == <span class="hljs-number">200</span>:<br>        data = response.json()                                  <span class="hljs-comment"># è§£æJSONå“åº”</span><br>        zh_content = data[<span class="hljs-string">&#x27;data&#x27;</span>][<span class="hljs-string">&#x27;zh&#x27;</span>]                         <span class="hljs-comment"># è·å–zhå’Œenå†…å®¹</span><br>        en_content = data[<span class="hljs-string">&#x27;data&#x27;</span>][<span class="hljs-string">&#x27;en&#x27;</span>]<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;<span class="hljs-subst">&#123;en_content&#125;</span>&#x27;</span>)                                  <span class="hljs-comment"># æ‰“å°å†…å®¹</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;<span class="hljs-subst">&#123;zh_content&#125;</span>&#x27;</span>)<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">f&#x27;<span class="hljs-subst">&#123;en_content&#125;</span>&#x27;</span> + <span class="hljs-string">&#x27;/n&#x27;</span> + <span class="hljs-string">f&#x27;<span class="hljs-subst">&#123;zh_content&#125;</span>&#x27;</span><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;APIè·å–æ¯æ—¥è‹±è¯­å¤±è´¥ã€‚&quot;</span>)<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;APIè·å–æ¯æ—¥è‹±è¯­å¤±è´¥ã€‚&quot;</span><br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestMoreAccounts</span>:                                         <span class="hljs-comment"># å¤šè´¦å·åˆ‡æ¢æ“ä½œ</span><br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        æµ‹è¯•æµç¨‹ï¼š</span><br><span class="hljs-string">            step--Adminç™»å½•ï¼Œå‘å¸–</span><br><span class="hljs-string">            step--Mickeyç™»å½•ï¼Œå›å¸–</span><br><span class="hljs-string">        :return:</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br><span class="hljs-meta">    @pytest.fixture(<span class="hljs-params">autouse=<span class="hljs-literal">True</span></span>)                               </span><span class="hljs-comment"># Trueä¸ºä½œç”¨åŸŸå†…çš„ç”¨ä¾‹è‡ªåŠ¨è°ƒç”¨</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">start_for_each</span>(<span class="hljs-params">self, context_chrome</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;è®¿é—®ç™»å½•é¡µ&quot;</span>)<br><br>        admin_context = context_chrome.new_context()            <span class="hljs-comment"># ç®¡ç†å‘˜ç™»å½•</span><br>        admin_page = admin_context.new_page()<br>        self.user_admin_login = LoginPage(admin_page)<br>        self.user_admin_login.navigate()                        <span class="hljs-comment"># æ¯ä¸ªè´¦æˆ·æ“ä½œ</span><br>        self.user_admin_post = PostPage(admin_page)             <span class="hljs-comment"># éƒ½å°†äº§ç”Ÿä¸¤ä¸ªæµè§ˆå™¨ï¼Ÿï¼Ÿï¼Ÿ</span><br><br>        general_context = context_chrome.new_context()          <span class="hljs-comment"># æ™®é€šç”¨æˆ·ç™»å½•</span><br>        general_page = general_context.new_page()<br>        self.uesr_general_login = LoginPage(general_page)<br>        self.uesr_general_login.navigate()<br>        self.user_general_reply = PostPage(general_page)<br><br>        <span class="hljs-keyword">yield</span>                                                   <span class="hljs-comment"># å°†ä¸€ä¸ªå‡½æ•°å˜æˆä¸€ä¸ªç”Ÿæˆå™¨</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å…³é—­ç™»å½•é¡µ&quot;</span>)<br>        admin_context.close()<br>        general_context.close()                                 <span class="hljs-comment"># å…³é—­ä¸Šä¸‹æ–‡</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_admin</span>(<span class="hljs-params">self</span>):<br>        self.user_admin_login.login(<span class="hljs-string">&quot;Admin&quot;</span>, <span class="hljs-string">&quot;123456&quot;</span>)<br>        self.user_admin_post.navigate_daily_word()<br>        self.user_admin_post.posted(<span class="hljs-string">&quot;æ¯æ—¥è‹±è¯­&quot;</span>, message_content())<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_general</span>(<span class="hljs-params">self</span>):<br>        self.uesr_general_login.login(<span class="hljs-string">&quot;Mickey&quot;</span>, <span class="hljs-string">&quot;123456&quot;</span>)<br>        self.user_general_reply.navigate_daily_english()<br>        self.user_general_reply.reply(message_content())<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    pytest.main()<br></code></pre></td></tr></table></figure><h1 id="6-Mockæ¥å£è¿”å›"><a href="#6-Mockæ¥å£è¿”å›" class="headerlink" title="6 Mockæ¥å£è¿”å›"></a>6 Mockæ¥å£è¿”å›</h1><ul><li>Mockæ¥å£è¿”å›<ul><li>Playwrightæä¾›APIï¼Œç”¨æ¥æ¨¡æ‹Ÿå’Œä¿®æ”¹ç½‘ç»œè¯·æ±‚ï¼ŒåŒ…æ‹¬HTTPå’ŒHTTPSã€‚</li><li>é¡µé¢æ‰§è¡Œçš„ä»»ä½•è¯·æ±‚åŒ…æ‹¬XHRå’Œè·å–è¯·æ±‚ï¼Œéƒ½å¯ä»¥è¢«è·Ÿè¸ªã€ä¿®æ”¹å’Œæ¨¡æ‹Ÿã€‚</li><li>ä½¿ç”¨<code>page.route()</code>æ–¹æ³•åˆ›å»ºRouteå¯¹è±¡ï¼ŒæŒ‡å®šè¦æ‹¦æˆªçš„è¯·æ±‚URLï¼Œæˆ–ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼è¿›è¡ŒåŒ¹é…ã€‚</li><li>åˆ›å»ºRouteå¯¹è±¡åï¼Œé€šè¿‡è°ƒç”¨<code>route.abort()</code>ã€<code>route.fulfill()</code>ç­‰æ¥æ§åˆ¶è¯·æ±‚çš„è¿›ä¸€æ­¥å¤„ç†ã€‚</li></ul></li></ul><h2 id="6-1-æ–¹æ³•"><a href="#6-1-æ–¹æ³•" class="headerlink" title="6-1 æ–¹æ³•"></a>6-1 æ–¹æ³•</h2><ul><li>æ–¹æ³•<ul><li><code>route.abort()</code>ï¼Œä¸­æ­¢è¯·æ±‚ï¼Œå¯ä»¥é€‰æ‹©æŒ‡å®šçš„é”™è¯¯ä»£ç ã€‚</li><li><code>route.fetch()</code>ï¼Œæ‰§è¡Œè¯·æ±‚å¹¶åœ¨ä¸æ»¡è¶³çš„æƒ…å†µä¸‹è·å–ç»“æœï¼Œä»¥ä¿®æ”¹å®Œæˆå“åº”ã€‚</li><li><code>route.fulfill()</code>ï¼Œç”¨äºæ¨¡æ‹Ÿå®Œæˆè¯·æ±‚ï¼Œå³æ‰‹åŠ¨æä¾›å“åº”æ•°æ®ï¼Œå¹¶ç»“æŸè¯·æ±‚ã€‚</li><li><code>route.fallback()</code>ï¼Œç”¨äºæŒ‡å®šå½“è¯·æ±‚æœªåŒ¹é…åˆ°ä»»ä½•æ‹¦æˆªè§„åˆ™æ—¶å€™çš„å›é€€è¡Œä¸ºã€‚</li><li><code>route.continue_()</code>ï¼Œç»§ç»­è¯·æ±‚ï¼Œä½¿å…¶æŒ‰ç…§æ­£å¸¸çš„æµç¨‹ç»§ç»­å‘é€ï¼Œå¹¶æ¥æ”¶å“åº”ã€‚</li></ul></li></ul><h4 id="1-abort"><a href="#1-abort" class="headerlink" title="(1) abort()*"></a>(1) abort()*</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">intercept_request</span>(<span class="hljs-params">route, request</span>):<br>    <span class="hljs-keyword">if</span> request.url.startswith(<span class="hljs-string">&quot;https://www.amap.com&quot;</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Intercepted request to: <span class="hljs-subst">&#123;request.url&#125;</span>&quot;</span>)<br>        route.abort()                                           <span class="hljs-comment"># ä¸­æ­¢è¯·æ±‚</span><br><br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)<br>    page = browser.new_page()<br>    page.route(                                                 <span class="hljs-comment"># ç›‘å¬è¯·æ±‚å¹¶æ‹¦æˆª</span><br>        <span class="hljs-string">&quot;**/*&quot;</span>, <span class="hljs-keyword">lambda</span> route, request: intercept_request(route, request)<br>    )<br>    page.goto(<span class="hljs-string">&quot;https://www.amap.com/smog&quot;</span>)                      <span class="hljs-comment"># æŠ¥é”™ï¼Œæ— æ³•è®¿é—®ç½‘ç«™ï¼Ÿï¼Ÿï¼Ÿ</span><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h4 id="2-fetch"><a href="#2-fetch" class="headerlink" title="(2) fetch()"></a>(2) fetch()</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">handle</span>(<span class="hljs-params">route</span>):<br>    response = route.fetch()                                    <span class="hljs-comment"># è·å–ç½‘ç»œè¯·æ±‚çš„å“åº”</span><br>    json = response.json()                                      <span class="hljs-comment"># å°†å“åº”è½¬æ¢æˆJsonæ ¼å¼</span><br>    json[<span class="hljs-string">&quot;message&quot;</span>][<span class="hljs-string">&quot;big_red_dog&quot;</span>] = []                         <span class="hljs-comment"># æ·»åŠ å“åº”æ•°æ®big_red_dogï¼Œå±æ€§å€¼è®¾ä¸ºç©º</span><br>    route.fulfill(response=response, json=json)<br><br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)<br>    page = browser.new_page()<br>    page.route(<span class="hljs-string">&quot;https://dog.ceo/api/breeds/list/all&quot;</span>, handle)   <span class="hljs-comment"># æš‚åœåï¼Œåœ¨å½“å‰é¡µé¢è®¿é—®æ¥å£åœ°å€</span><br>    page.pause()                                                <span class="hljs-comment"># F12æŸ¥çœ‹å“åº”æ•°æ®çš„æ·»åŠ æƒ…å†µ</span><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h4 id="3-fulfill"><a href="#3-fulfill" class="headerlink" title="(3) fulfill()"></a>(3) fulfill()</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">intercept_request</span>(<span class="hljs-params">route, request</span>):<br>    <span class="hljs-keyword">if</span> request.url.startswith(<span class="hljs-string">&quot;https://dog.ceo/api/breeds/list/all&quot;</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Intercepted request to: <span class="hljs-subst">&#123;request.url&#125;</span>&quot;</span>)<br>        route.fulfill(<br>            status=<span class="hljs-number">200</span>,                                         <span class="hljs-comment"># çŠ¶æ€ç </span><br>            body=<span class="hljs-string">&#x27;&#123;&quot;message&quot;: &quot;Hello, World!&quot;&#125;&#x27;</span>,                <span class="hljs-comment"># å“åº”ä½“</span><br>            headers=&#123;<span class="hljs-string">&#x27;Content-Type&#x27;</span>: <span class="hljs-string">&#x27;application/json&#x27;</span>&#125;        <span class="hljs-comment"># å“åº”å¤´</span><br>        )                                                       <span class="hljs-comment"># æ¨¡æ‹Ÿå®Œæˆè¯·æ±‚</span><br>    <span class="hljs-keyword">else</span>:<br>        route.continue_()                                       <span class="hljs-comment"># æ¡ä»¶ä¸ç¬¦åˆ™å…è®¸è¯·æ±‚æ­£å¸¸è¿›è¡Œ</span><br><br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)<br>    page = browser.new_page()<br>    page.route(<br>        <span class="hljs-string">&quot;**/*&quot;</span>, <span class="hljs-keyword">lambda</span> route, request: intercept_request(route, request)<br>    )                                                           <span class="hljs-comment"># ç›‘å¬è¯·æ±‚å¹¶æ‹¦æˆª</span><br>    page.goto(<span class="hljs-string">&quot;https://dog.ceo/api/breeds/list/all&quot;</span>)<br>    page.pause()<br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h4 id="4-fallback"><a href="#4-fallback" class="headerlink" title="(4) fallback()"></a>(4) fallback()</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">intercept_request</span>(<span class="hljs-params">route, request</span>):<br>    <span class="hljs-keyword">if</span> request.url.startswith(<span class="hljs-string">&quot;https://www.amap.com/smog&quot;</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Intercepted request to: <span class="hljs-subst">&#123;request.url&#125;</span>&quot;</span>)<br>        route.abort()                                           <span class="hljs-comment"># ä¸­æ­¢è¯·æ±‚</span><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Fallback: <span class="hljs-subst">&#123;request.url&#125;</span>&quot;</span>)                       <span class="hljs-comment"># æ‰“å°å›é€€æ¶ˆæ¯</span><br>        route.fallback()                                        <span class="hljs-comment"># è§¦å‘å›é€€è¡Œä¸ºï¼Œå…è®¸è¯·æ±‚æ­£å¸¸ç»§ç»­</span><br><br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)<br>    page = browser.new_page()<br>    page.route(                                                 <span class="hljs-comment"># ç›‘å¬è¯·æ±‚å¹¶æ‹¦æˆª</span><br>        <span class="hljs-string">&quot;**/*&quot;</span>, <span class="hljs-keyword">lambda</span> route, request: intercept_request(route, request)<br>    )<br>    page.goto(<span class="hljs-string">&quot;https://www.amap.com&quot;</span>)<br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h4 id="5-continue"><a href="#5-continue" class="headerlink" title="(5) continue_()*"></a>(5) continue_()*</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">intercept_request</span>(<span class="hljs-params">route, request</span>):<br>    <span class="hljs-keyword">if</span> request.url.startswith(<span class="hljs-string">&quot;https://www.amap.com&quot;</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Intercepted request to: <span class="hljs-subst">&#123;request.url&#125;</span>&quot;</span>)<br>        route.continue_()                                       <span class="hljs-comment"># ç»§ç»­è¯·æ±‚ï¼ŒæŠ¥é”™ï¼Ÿï¼Ÿï¼Ÿ</span><br><br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)<br>    page = browser.new_page()<br>    page.route(                                                 <span class="hljs-comment"># ç›‘å¬è¯·æ±‚å¹¶æ‹¦æˆª</span><br>        <span class="hljs-string">&quot;**/*&quot;</span>, <span class="hljs-keyword">lambda</span> route, request: intercept_request(route, request)<br>    )<br>    page.goto(<span class="hljs-string">&quot;https://www.amap.com/smog&quot;</span>)<br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h2 id="6-2-å±æ€§"><a href="#6-2-å±æ€§" class="headerlink" title="6-2 å±æ€§"></a>6-2 å±æ€§</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">intercept_request</span>(<span class="hljs-params">route, request</span>):<br>    <span class="hljs-keyword">if</span> request.url.startswith(<span class="hljs-string">&quot;https://dog.ceo/api/breeds/list/all&quot;</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Intercepted request to: <span class="hljs-subst">&#123;request.url&#125;</span>&quot;</span>)<br>        route.fulfill(<br>            status=<span class="hljs-number">200</span>,                                         <span class="hljs-comment"># çŠ¶æ€ç </span><br>            body=<span class="hljs-string">&#x27;&#123;&quot;message&quot;: &quot;Hello, World!&quot;&#125;&#x27;</span>,                <span class="hljs-comment"># å“åº”ä½“</span><br>            headers=&#123;<span class="hljs-string">&#x27;Content-Type&#x27;</span>: <span class="hljs-string">&#x27;application/json&#x27;</span>&#125;        <span class="hljs-comment"># å“åº”å¤´</span><br>        )                                                       <span class="hljs-comment"># æ¨¡æ‹Ÿå®Œæˆè¯·æ±‚</span><br>        <span class="hljs-built_in">print</span>(route.request)                                    <span class="hljs-comment"># è·å–å½“å‰è¯·æ±‚çš„ç›¸å…³ä¿¡æ¯æˆ–å±æ€§</span><br>    <span class="hljs-keyword">else</span>:<br>        route.continue_()                                       <span class="hljs-comment"># æ¡ä»¶ä¸ç¬¦åˆ™å…è®¸è¯·æ±‚æ­£å¸¸è¿›è¡Œ</span><br><br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)<br>    page = browser.new_page()<br>    page.route(<br>        <span class="hljs-string">&quot;**/*&quot;</span>, <span class="hljs-keyword">lambda</span> route, request: intercept_request(route, request)<br>    )                                                           <span class="hljs-comment"># ç›‘å¬è¯·æ±‚å¹¶æ‹¦æˆª</span><br>    page.goto(<span class="hljs-string">&quot;https://dog.ceo/api/breeds/list/all&quot;</span>)<br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h1 id="7-JavaScriptè„šæœ¬"><a href="#7-JavaScriptè„šæœ¬" class="headerlink" title="7 JavaScriptè„šæœ¬"></a>7 JavaScriptè„šæœ¬</h1><ul><li>JavaScriptè„šæœ¬<ul><li>é¡µé¢å¯¹è±¡æ‰§è¡ŒJavaScriptè„šæœ¬<ul><li>Playwrightä½¿ç”¨<code>page.evaluate()</code>æ‰§è¡ŒJavaScriptä»£ç å¹¶è¿”å›è°ƒç”¨æ‰§è¡Œçš„ç»“æœã€‚</li><li>ä½¿ç”¨<code>page.evaluate_handle()</code>æ‰§è¡ŒJavaScriptä»£ç ï¼Œå¹¶è¿”å›æ‰§è¡Œç»“æœçš„å¥æŸ„ã€‚</li></ul></li><li>å®šä½å…ƒç´ æ‰§è¡ŒJavaScriptè„šæœ¬<ul><li>é€šè¿‡<code>locator.evaluate()</code>æ–¹æ³•ï¼Œå¯¹å®šä½åˆ°çš„å…ƒç´ æ‰§è¡ŒJavaScriptä»£ç ã€‚</li><li>ä½¿ç”¨<code>locator.evaluate_all()</code>å¯¹å®šä½çš„æ‰€æœ‰å…ƒç´ æ‰§è¡ŒJavaScriptä»£ç ã€‚</li></ul></li></ul></li></ul><h2 id="7-1-é¡µé¢Js"><a href="#7-1-é¡µé¢Js" class="headerlink" title="7-1 é¡µé¢Js"></a>7-1 é¡µé¢Js</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)<br>    page = browser.new_page()<br><br>    <span class="hljs-built_in">print</span>(page.evaluate(<span class="hljs-string">&quot;1 + 2&quot;</span>))                               <span class="hljs-comment"># 3</span><br>    x = <span class="hljs-number">10</span><br>    <span class="hljs-built_in">print</span>(page.evaluate(<span class="hljs-string">f&quot;1 + <span class="hljs-subst">&#123;x&#125;</span>&quot;</span>))                            <span class="hljs-comment"># 11</span><br><br>    res = page.evaluate(<span class="hljs-string">&quot;() =&gt; &#x27;Hello World!&#x27;&quot;</span>, )               <span class="hljs-comment"># æ‰§è¡Œä¸€ä¸ªå‡½æ•°</span><br>    <span class="hljs-built_in">print</span>(res)                                                  <span class="hljs-comment"># Hello World!</span><br>    res = page.evaluate(<br>        <span class="hljs-string">&quot;([a, b]) =&gt; a+b+&#x27;World!&#x27;&quot;</span>, [<span class="hljs-string">&quot;Hello&quot;</span>, <span class="hljs-string">&#x27; &#x27;</span>]              <span class="hljs-comment"># æ‰§è¡Œçš„å‡½æ•°å¯ä»¥å¸¦å‚æ•°</span><br>    )<br>    <span class="hljs-built_in">print</span>(res)                                                  <span class="hljs-comment"># hello world</span><br><br>    page.goto(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br>    title = page.evaluate(<span class="hljs-string">&#x27;document.title&#x27;</span>)                     <span class="hljs-comment"># è·å–é¡µé¢çš„title</span><br>    <span class="hljs-built_in">print</span>(title)<br><br>    page = browser.new_page()                                   <span class="hljs-comment"># éœ€è¦å¼€å¯JForumè®ºå›æœåŠ¡</span><br>    page.goto(<span class="hljs-string">&quot;http://127.0.0.1:8080/jforum-2.7.0/user/login.page&quot;</span>)<br>    js = <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        document.querySelector(&#x27;input[name=&quot;username&quot;]&#x27;).value=&#x27;admin&#x27;;</span><br><span class="hljs-string">        document.querySelector(&#x27;input[name=&quot;password&quot;]&#x27;).value=&#x27;123456&#x27;;</span><br><span class="hljs-string">        document.querySelector(&#x27;input[name=&quot;login&quot;]&#x27;).click();</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>    page.evaluate(js)<br><br>    a_handle = page.evaluate_handle(<span class="hljs-string">&quot;document.body&quot;</span>)            <span class="hljs-comment"># è¿”å›å¥æŸ„JSHandle</span><br>    result_handle = page.evaluate_handle(<span class="hljs-string">&quot;body =&gt; body.innerHTML&quot;</span>, a_handle)<br>    <span class="hljs-built_in">print</span>(result_handle.json_value())<br>    result_handle.dispose()                                     <span class="hljs-comment"># é‡Šæ”¾result_handleå¯¹è±¡ï¼Œé¿å…å†…å­˜æ³„æ¼</span><br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h2 id="7-2-å…ƒç´ Js"><a href="#7-2-å…ƒç´ Js" class="headerlink" title="7-2 å…ƒç´ Js"></a>7-2 å…ƒç´ Js</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)<br>    page = browser.new_page()<br>    page.goto(<span class="hljs-string">&quot;http://127.0.0.1:8080/jforum-2.7.0/user/login.page&quot;</span>)<br>    username = page.locator(<br>        <span class="hljs-string">&#x27;//*[@id=&quot;loginform&quot;]/table[2]/tbody/tr[2]/td/table/tbody/tr[2]/td[2]/input&#x27;</span><br>    )<br>    username.evaluate(<span class="hljs-string">&#x27;node =&gt; node.value=&quot;admin&quot;&#x27;</span>)             <span class="hljs-comment"># è¾“å…¥æ¡†è¾“å…¥å†…å®¹</span><br>    input_value = username.evaluate(<span class="hljs-string">&#x27;node =&gt; node.value&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(input_value)                                          <span class="hljs-comment"># è·å–è¾“å…¥æ¡†å†…å®¹</span><br><br>    page.goto(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br>    links = page.locator(<span class="hljs-string">&#x27;#s-top-left&gt;a&#x27;</span>)<br>    res = links.evaluate_all(<span class="hljs-string">&#x27;nodes =&gt; nodes.length&#x27;</span>)           <span class="hljs-comment"># å®šä½å…¨éƒ¨å…ƒç´ </span><br>    <span class="hljs-built_in">print</span>(res)                                                  <span class="hljs-comment"># nodes.lengthè·å–å…ƒç´ ä¸ªæ•°</span><br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h1 id="8-Pyinstalleræ‰“åŒ…"><a href="#8-Pyinstalleræ‰“åŒ…" class="headerlink" title="8 Pyinstalleræ‰“åŒ…"></a>8 Pyinstalleræ‰“åŒ…</h1><ul><li>Pyinstalleræ‰“åŒ…<ul><li>Playwrightä¸Pyinstallerä¸‰æ–¹æ’ä»¶ç»“åˆä½¿ç”¨ï¼Œå¯ç”¨æ¥åˆ›å»ºç‹¬ç«‹çš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚</li><li>ä¾‹å¦‚ï¼šè¦æ‰“åŒ…ä¸€ä¸ªfiles_pack.pyæ–‡ä»¶ã€‚<ul><li>å…ˆåœ¨å½“å‰æ–‡ä»¶å¤¹ä¸­è®¾ç½®ç¯å¢ƒå˜é‡ï¼š<code>set PLAYWRIGHT_BROWSERS_PATH=0</code>ã€‚</li><li>ç„¶åå‘½ä»¤å®‰è£…æ–‡ä»¶ä¸­ä½¿ç”¨åˆ°çš„æµè§ˆå™¨ï¼š<code>playwright install chromium</code>ã€‚</li><li>æœ€åä½¿ç”¨å‘½ä»¤æŸ¥çœ‹æµè§ˆå™¨çš„å®‰è£…è·¯å¾„ï¼š<code>playwright install --dry-run</code>ã€‚</li><li>å¯ä»¥çœ‹åˆ°chromium-1048å’Œffmpeg-1008è¿™ä¸¤ä¸ªæ–‡ä»¶ï¼Œåç¼€æ•°å­—æ˜¯ç‰ˆæœ¬å·ã€‚</li></ul></li><li>æ‰“åŒ…files_pack.pyæ–‡ä»¶å‘½ä»¤å¦‚ä¸‹ï¼Œæ‰“åŒ…åçš„å¯æ‰§è¡Œæ–‡ä»¶å¯åœ¨å½“å‰ç›®å½•çš„distæ–‡ä»¶å¤¹ä¸­æ‰¾åˆ°ã€‚<ul><li>ä¾èµ–æ–‡ä»¶è¾ƒå¤šï¼Œé¦–æ¬¡æ‰“åŒ…éœ€åŠ è½½å¥½ä¸€ä¼šï¼š<code>pyinstaller -F files_pack.py</code>ã€‚</li><li>æ‰“åŒ…æ—¶è‡ªå®šä¹‰icoå›¾æ ‡ï¼š<code>pyinstaller -F files_pack.py -i favicon.ico</code>ã€‚</li><li>icoå›¾æ ‡åˆ¶ä½œå¯ä»¥ä½¿ç”¨åœ°å€â€œ<a href="https://www.bitbug.net/">åœ¨çº¿åˆ¶ä½œicoå›¾æ ‡</a>â€ï¼Œæä¾›å›¾ç‰‡çº¿ä¸Šè½¬æ¢å³å¯ã€‚</li></ul></li></ul></li></ul><h2 id="8-1-files-pack-py"><a href="#8-1-files-pack-py" class="headerlink" title="8-1 files_pack.py"></a>8-1 files_pack.py</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright                  <span class="hljs-comment"># files_pack.py</span><br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)<br>    page = browser.new_page()<br>    page.goto(<span class="hljs-string">&quot;http://whatsmyuseragent.org/&quot;</span>)<br>    page.screenshot(path=<span class="hljs-string">&quot;pictures/example.png&quot;</span>)<br>    browser.close()                                              <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h2 id="8-2-ä¾èµ–ç¯å¢ƒé…ç½®"><a href="#8-2-ä¾èµ–ç¯å¢ƒé…ç½®" class="headerlink" title="8-2 ä¾èµ–ç¯å¢ƒé…ç½®"></a>8-2 ä¾èµ–ç¯å¢ƒé…ç½®</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs Powershell">(base) D:\Program\Project\Python&gt; <span class="hljs-built_in">set</span> PLAYWRIGHT_BROWSERS_PATH=<span class="hljs-number">0</span><br>(base) D:\Program\Project\Python&gt; playwright install chromium<br>(base) D:\Program\Project\Python&gt; playwright install <span class="hljs-literal">--dry-run</span><br>browser: chromium version <span class="hljs-number">111.0</span>.<span class="hljs-number">5563.19</span><br>  Install location:    C:\Users\Admin\AppData\Roaming\Python\Python39\site<span class="hljs-literal">-packages</span>\...\chromium<span class="hljs-literal">-1048</span><br>  Download url:        https://playwright.azureedge.net/builds/chromium/<span class="hljs-number">1048</span>/chromium<span class="hljs-literal">-win64</span>.zip<br>  Download fallback <span class="hljs-number">1</span>: https://playwright<span class="hljs-literal">-akamai</span>.azureedge.net/builds/chromium/<span class="hljs-number">1048</span>/chromium<span class="hljs-literal">-win64</span>.zip<br>  Download fallback <span class="hljs-number">2</span>: https://playwright<span class="hljs-literal">-verizon</span>.azureedge.net/builds/chromium/<span class="hljs-number">1048</span>/chromium<span class="hljs-literal">-win64</span>.zip<br><br>browser: firefox version <span class="hljs-number">109.0</span><br>  Install location:    C:\Users\Admin\AppData\Roaming\Python\Python39\site<span class="hljs-literal">-packages</span>\...\firefox<span class="hljs-literal">-1378</span><br>  Download url:        https://playwright.azureedge.net/builds/firefox/<span class="hljs-number">1378</span>/firefox<span class="hljs-literal">-win64</span>.zip<br>  Download fallback <span class="hljs-number">1</span>: https://playwright<span class="hljs-literal">-akamai</span>.azureedge.net/builds/firefox/<span class="hljs-number">1378</span>/firefox<span class="hljs-literal">-win64</span>.zip<br>  Download fallback <span class="hljs-number">2</span>: https://playwright<span class="hljs-literal">-verizon</span>.azureedge.net/builds/firefox/<span class="hljs-number">1378</span>/firefox<span class="hljs-literal">-win64</span>.zip<br><br>browser: webkit version <span class="hljs-number">16.4</span><br>  Install location:    C:\Users\Admin\AppData\Roaming\Python\Python39\site<span class="hljs-literal">-packages</span>\...\webkit<span class="hljs-literal">-1792</span><br>  Download url:        https://playwright.azureedge.net/builds/webkit/<span class="hljs-number">1792</span>/webkit<span class="hljs-literal">-win64</span>.zip<br>  Download fallback <span class="hljs-number">1</span>: https://playwright<span class="hljs-literal">-akamai</span>.azureedge.net/builds/webkit/<span class="hljs-number">1792</span>/webkit<span class="hljs-literal">-win64</span>.zip<br>  Download fallback <span class="hljs-number">2</span>: https://playwright<span class="hljs-literal">-verizon</span>.azureedge.net/builds/webkit/<span class="hljs-number">1792</span>/webkit<span class="hljs-literal">-win64</span>.zip<br><br>browser: ffmpeg<br>  Install location:    C:\Users\Admin\AppData\Roaming\Python\Python39\site<span class="hljs-literal">-packages</span>\...\ffmpeg<span class="hljs-literal">-1008</span><br>  Download url:        https://playwright.azureedge.net/builds/ffmpeg/<span class="hljs-number">1008</span>/ffmpeg<span class="hljs-literal">-win64</span>.zip<br>  Download fallback <span class="hljs-number">1</span>: https://playwright<span class="hljs-literal">-akamai</span>.azureedge.net/builds/ffmpeg/<span class="hljs-number">1008</span>/ffmpeg<span class="hljs-literal">-win64</span>.zip<br>  Download fallback <span class="hljs-number">2</span>: https://playwright<span class="hljs-literal">-verizon</span>.azureedge.net/builds/ffmpeg/<span class="hljs-number">1008</span>/ffmpeg<span class="hljs-literal">-win64</span>.zip<br><br>(base) D:\Program\Project\Python&gt; pyinstaller <span class="hljs-operator">-F</span> files_pack.py<br>(base) D:\Program\Project\Python&gt; pyinstaller <span class="hljs-operator">-F</span> files_pack.py <span class="hljs-literal">-i</span> pictures/favicon.ico<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>æµ‹è¯•æ¡†æ¶</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>PlayWright</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>PlayWright æ¡†æ¶(ä¸€)</title>
    <link href="/2023/09/09/ce-shi-kuang-jia/tf06-playwright-kuang-jia-yi/"/>
    <url>/2023/09/09/ce-shi-kuang-jia/tf06-playwright-kuang-jia-yi/</url>
    
    <content type="html"><![CDATA[<p>2020å¹´å¾®è½¯å¼€æºçš„UIè‡ªåŠ¨åŒ–æµ‹è¯•å·¥å…·ï¼Œ æ”¯æŒNode.jsã€Pythonã€Javaç­‰ï¼Œä¸ºæ»¡è¶³ç«¯åˆ°ç«¯æµ‹è¯•åˆ›å»ºï¼Œæ”¯æŒæ‰€æœ‰ç°ä»£æ¸²æŸ“å¼•æ“ã€‚</p><span id="more"></span><h1 id="1-æµè§ˆå™¨æ“ä½œ"><a href="#1-æµè§ˆå™¨æ“ä½œ" class="headerlink" title="1 æµè§ˆå™¨æ“ä½œ"></a>1 æµè§ˆå™¨æ“ä½œ</h1><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs Powershell">pip install playwright                                           <span class="hljs-comment"># å®‰è£…Playwrightï¼ŒPythonç‰ˆæœ¬è¦æ±‚3.7+</span><br>playwright install                                               <span class="hljs-comment"># å®‰è£…æµè§ˆå™¨chromiumã€webkitå’Œfirefox</span><br>playwright install chromium                                      <span class="hljs-comment"># å®‰è£…æŒ‡å®šçš„chromiumæµè§ˆå™¨</span><br></code></pre></td></tr></table></figure><h2 id="1-1-API"><a href="#1-1-API" class="headerlink" title="1-1 API"></a>1-1 API</h2><ul><li>API<ul><li>Playwrightæ”¯æŒä¸¤ç§è¿è¡Œæ–¹å¼ï¼šåŒæ­¥å’Œå¼‚æ­¥ã€‚<ul><li>åŒæ­¥è¿è¡ŒæŒ‡çš„æ˜¯ç¨‹åºæŒ‰ç…§é¡ºåºæ‰§è¡Œï¼Œæ¯ä¸ªä»»åŠ¡å¿…é¡»ç­‰å¾…ä¸Šä¸€ä¸ªä»»åŠ¡å®Œæˆåï¼Œæ‰èƒ½è¿›è¡Œä¸‹ä¸€ä¸ªä»»åŠ¡ã€‚</li><li>å¼‚æ­¥è¿è¡ŒæŒ‡çš„æ˜¯ç¨‹åºå¯ä»¥åŒæ—¶æ‰§è¡Œå¤šä¸ªä»»åŠ¡ï¼Œä¸éœ€è¦ç­‰å¾…ä¸Šä¸€ä¸ªä»»åŠ¡å®Œæˆï¼Œå°±èƒ½è¿›è¡Œä¸‹ä¸€ä¸ªä»»åŠ¡ã€‚</li></ul></li><li>å®˜ç½‘åœ°å€ï¼š<a href="https://playwright.dev/python/">https://playwright.dev/python/</a>ã€‚</li></ul></li></ul><h4 id="1-åŒæ­¥è¿è¡Œ"><a href="#1-åŒæ­¥è¿è¡Œ" class="headerlink" title="(1) åŒæ­¥è¿è¡Œ"></a>(1) åŒæ­¥è¿è¡Œ</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright                 <span class="hljs-comment"># syncåŒæ­¥(é¡ºåº)è¿è¡Œ</span><br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>)                 <span class="hljs-comment"># å¯åŠ¨chromiumæµè§ˆå™¨</span><br>    <span class="hljs-comment"># browser = p.firefox.launch(headless=False)                # å¯åŠ¨firefoxæµè§ˆå™¨</span><br>    <span class="hljs-comment"># browser = p.webkit.launch(headless=False)                 # å¯åŠ¨webkitæµè§ˆå™¨</span><br>    page = browser.new_page()                                   <span class="hljs-comment"># æ‰“å¼€ä¸€ä¸ªæ ‡ç­¾é¡µ</span><br>    page.goto(<span class="hljs-string">&#x27;https://www.baidu.com&#x27;</span>)                          <span class="hljs-comment"># æ‰“å¼€ç™¾åº¦åœ°å€</span><br>    <span class="hljs-built_in">print</span>(page.title())                                         <span class="hljs-comment"># æ‰“å°å½“å‰é¡µé¢title</span><br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h4 id="2-å¼‚æ­¥è¿è¡Œ"><a href="#2-å¼‚æ­¥è¿è¡Œ" class="headerlink" title="(2) å¼‚æ­¥è¿è¡Œ"></a>(2) å¼‚æ­¥è¿è¡Œ</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> asyncio<br><span class="hljs-keyword">from</span> playwright.async_api <span class="hljs-keyword">import</span> async_playwright               <span class="hljs-comment"># asyncå¼‚æ­¥(åŒæ—¶)è¿è¡Œ</span><br><br><br><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():<br>    <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> async_playwright() <span class="hljs-keyword">as</span> p:<br>        browser = <span class="hljs-keyword">await</span> p.chromium.launch(headless=<span class="hljs-literal">False</span>)       <span class="hljs-comment"># å¯åŠ¨chromiumæµè§ˆå™¨</span><br>        <span class="hljs-comment"># browser = await p.firefox.launch(headless=False)      # å¯åŠ¨firefoxæµè§ˆå™¨</span><br>        <span class="hljs-comment"># browser = await p.webkit.launch(headless=False)       # å¯åŠ¨webkitæµè§ˆå™¨</span><br>        page = <span class="hljs-keyword">await</span> browser.new_page()                         <span class="hljs-comment"># æ‰“å¼€ä¸€ä¸ªæ ‡ç­¾é¡µ</span><br>        <span class="hljs-keyword">await</span> page.goto(<span class="hljs-string">&#x27;https://www.baidu.com&#x27;</span>)                <span class="hljs-comment"># æ‰“å¼€ç™¾åº¦åœ°å€</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-keyword">await</span> page.title())                               <span class="hljs-comment"># æ‰“å°å½“å‰é¡µé¢title</span><br><br>        <span class="hljs-keyword">await</span> browser.close()                                   <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br><br>asyncio.run(main())<br></code></pre></td></tr></table></figure><h2 id="1-2-ä¸Šä¸‹æ–‡"><a href="#1-2-ä¸Šä¸‹æ–‡" class="headerlink" title="1-2 ä¸Šä¸‹æ–‡"></a>1-2 ä¸Šä¸‹æ–‡</h2><ul><li>ä¸Šä¸‹æ–‡<ul><li>Playwrightçš„æµ‹è¯•å±‚çº§å…³ç³»ï¼š<code>Broswer &gt; Context &gt; Page</code>ã€‚</li><li><code>browser = playwright.chromium.launch()</code>ï¼šå¯åŠ¨æµè§ˆå™¨ã€‚</li><li><code>context = browser.new_context()</code>ï¼šåˆ›å»ºcontextå¯¹è±¡ï¼Œå³å¯åŠ¨ä¸Šä¸‹æ–‡ã€‚<ul><li>contextä¹‹é—´ç›¸äº’éš”ç¦»ï¼Œå³ä¸ºè½»é‡çº§çš„æµè§ˆå™¨å®ä¾‹ï¼Œä¸ä¸å…¶ä»–æµè§ˆå™¨ä¸Šä¸‹æ–‡å…±äº«cookieæˆ–ç¼“å­˜ã€‚</li><li>å¦‚æœéœ€è¦ä¸åŒç”¨æˆ·ç™»å½•åŒä¸€ä¸ªç½‘é¡µï¼Œä¸ç”¨åˆ›å»ºå¤šä¸ªæµè§ˆå™¨å®ä¾‹ï¼Œåªéœ€è¦åˆ›å»ºå¤šä¸ªcontextå³å¯ã€‚</li></ul></li><li><code>context.add_cookies([cookie_object1, cookie_object2])</code>ï¼šæ·»åŠ cookieã€‚</li><li>é…ç½®é€‰é¡¹ï¼šæ— ç—•æ¨¡å¼å¯åŠ¨æµè§ˆå™¨é€‚åˆè‡ªåŠ¨åŒ–æµ‹è¯•ã€éæ— ç—•æ¨¡å¼å¯åŠ¨é€‚åˆçˆ¬æ•°æ®ã€‚</li><li>launch_persistent_contextå‚æ•°<ul><li>user_data_dirï¼šç”¨æˆ·æ•°æ®ç›®å½•ï¼Œæ­¤å‚æ•°å¿…é¡»ï¼Œå¯è‡ªå®šä¹‰ç›®å½•ï¼Œä¸æ¨èå†™Chromeå®‰è£…ç›®å½•ã€‚<ul><li>ç½‘ç«™æ˜¯å¦å¯ä»¥ä¿æŒç™»å½•ï¼Œä¸»è¦çœ‹cookiesæœ‰æ•ˆæœŸï¼Œæœ‰äº›ç½‘ç«™å…³é—­æµè§ˆå™¨ç™»å½•çŠ¶æ€å°±å¤±æ•ˆã€‚</li><li>ä¾‹å¦‚é“¶è¡Œç½‘ç«™ï¼Œæœ‰äº›åšå®¢ç«™ï¼Œç™»å½•åcookiesä¸€ç›´ç”Ÿæ•ˆï¼Œå³åˆ©ç”¨ç¼“å­˜çš„cookiesä¿æŒç™»å½•ã€‚</li></ul></li><li>channelï¼šæŒ‡å®šæµè§ˆå™¨çš„ç±»å‹ï¼Œé»˜è®¤chromiumï¼Œæ”¯æŒchromiumã€chromeã€msedgeã€‚</li><li>è‹¥åŒæ—¶æ‰“å¼€å¤šä¸ªæµè§ˆå™¨ï¼Œæ¯ä¸ªæµè§ˆå™¨ç™»å½•ä¸åŒçš„è´¦å·è¿›è¡Œæ“ä½œï¼Œåˆ™è¦ç”¨åˆ°å¤šçº¿ç¨‹ã€‚</li></ul></li><li>æµ‹è¯•åœ¨æµè§ˆå™¨ä¸Šä¸‹æ–‡çš„éš”ç¦»å…¨æ–°ç¯å¢ƒä¸­æ‰§è¡Œï¼Œéš”ç¦»æ¨¡å‹æé«˜äº†å¯é‡å¤æ€§ï¼Œå¹¶é˜²æ­¢çº§è”æµ‹è¯•å¤±è´¥ã€‚<ul><li>Playwrightä½¿ç”¨BrowserContextå®ç°æµ‹è¯•éš”ç¦»ï¼Œç›¸å½“äºéšèº«å¼é…ç½®æ–‡ä»¶ã€‚</li><li>æµ‹è¯•éš”ç¦»æœ‰ä¸¤ç§ä¸åŒçš„ç­–ç•¥ï¼Œä»å¤´å¼€å§‹æ¸…ç†ï¼Œä»¥åŠåœ¨ä¸¤è€…ä¹‹é—´è¿›è¡Œæ¸…ç†ã€‚</li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime, timedelta<br><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>)                 <span class="hljs-comment"># å¯åŠ¨æµè§ˆå™¨</span><br>    <span class="hljs-comment"># context = browser.new_context()                           # å¯åŠ¨ä¸Šä¸‹æ–‡</span><br>    context = browser.new_context(base_url=<span class="hljs-string">&quot;https://www.baidu.com&quot;</span>)<br>    current_time = datetime.now()                               <span class="hljs-comment"># è·å–å½“å‰æ—¥æœŸæ—¶é—´</span><br>    expires_time = current_time + timedelta(days=<span class="hljs-number">7</span>)             <span class="hljs-comment"># è®¡ç®—è¿‡æœŸæ—¶é—´</span><br>    expires_time = <span class="hljs-built_in">int</span>(expires_time.timestamp())                <span class="hljs-comment"># è½¬æ¢ä¸ºæ—¶é—´æˆ³</span><br>    context.add_cookies([                                       <span class="hljs-comment"># æ·»åŠ cookie</span><br>        &#123;<br>            <span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;BIDUPSID&#x27;</span>,                                 <span class="hljs-comment"># å‚æ•°ä¸ºå­—å…¸åˆ—è¡¨ï¼Œurlå¯é€‰</span><br>            <span class="hljs-string">&#x27;value&#x27;</span>: <span class="hljs-string">&#x27;BFBAD64EE3482122786F502E5D073773&#x27;</span>,<br>            <span class="hljs-string">&#x27;path&#x27;</span>: <span class="hljs-string">&#x27;/&#x27;</span>,<br>            <span class="hljs-string">&#x27;domain&#x27;</span>: <span class="hljs-string">&#x27;.baidu.com&#x27;</span>,<br>            <span class="hljs-string">&#x27;expires&#x27;</span>: expires_time,                            <span class="hljs-comment"># è¿™é‡Œä½¿ç”¨çš„æ˜¯æ—¶é—´æˆ³ï¼Œå¯é€‰</span><br>            <span class="hljs-string">&#x27;httpOnly&#x27;</span>: <span class="hljs-literal">False</span>,                                  <span class="hljs-comment"># æ˜¯å¦ä¸ºhttpOnlyï¼Œå¯é€‰</span><br>            <span class="hljs-string">&#x27;secure&#x27;</span>: <span class="hljs-literal">False</span>,                                    <span class="hljs-comment"># å®‰å…¨æ¨¡å¼ï¼Œå¯é€‰</span><br>            <span class="hljs-string">&#x27;sameSite&#x27;</span>: <span class="hljs-string">&#x27;Lax&#x27;</span>                                   <span class="hljs-comment"># Strict|Lax|Noneï¼ŒåŒç«™ç­–ç•¥ï¼Œå¯é€‰</span><br>        &#125;,<br>        &#123;<br>            <span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;session_token&#x27;</span>,<br>            <span class="hljs-string">&#x27;value&#x27;</span>: <span class="hljs-string">&#x27;BFBAD64EE3482122786F502E5D073774&#x27;</span>,<br>            <span class="hljs-string">&#x27;path&#x27;</span>: <span class="hljs-string">&#x27;/&#x27;</span>,<br>            <span class="hljs-string">&#x27;domain&#x27;</span>: <span class="hljs-string">&#x27;baidu.com&#x27;</span>,<br>            <span class="hljs-string">&#x27;expires&#x27;</span>: expires_time,<br>            <span class="hljs-string">&#x27;httpOnly&#x27;</span>: <span class="hljs-literal">False</span>,<br>            <span class="hljs-string">&#x27;secure&#x27;</span>: <span class="hljs-literal">False</span>,<br>            <span class="hljs-string">&#x27;sameSite&#x27;</span>: <span class="hljs-string">&#x27;Lax&#x27;</span><br>        &#125;<br>    ])<br>    page = context.new_page()                                   <span class="hljs-comment"># contextä¸Šæ–°å»ºä¸€ä¸ªé¡µé¢å¯¹è±¡</span><br>    <span class="hljs-comment"># page.goto(&#x27;https://www.baidu.com&#x27;)                        # æ‰“å¼€ç™¾åº¦åœ°å€</span><br>    page.goto(<span class="hljs-string">&quot;/&quot;</span>)                                              <span class="hljs-comment"># base_urlå‚æ•°åœ¨æ–°å»ºä¸Šä¸‹æ–‡æ—¶ä½¿ç”¨</span><br>    <span class="hljs-built_in">print</span>(page.title())                                         <span class="hljs-comment"># æ‰“å°å½“å‰é¡µé¢title</span><br><br>    cookies = context.cookies()                                 <span class="hljs-comment"># æ£€æŸ¥æ˜¯å¦æˆåŠŸæ·»åŠ cookie</span><br>    <span class="hljs-built_in">print</span>(cookies)<br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h4 id="1-æ— ç—•æ¨¡å¼"><a href="#1-æ— ç—•æ¨¡å¼" class="headerlink" title="(1) æ— ç—•æ¨¡å¼"></a>(1) æ— ç—•æ¨¡å¼</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>)<br>    context = browser.new_context()                             <span class="hljs-comment"># launché»˜è®¤æ— ç—•æ¨¡å¼å¯åŠ¨</span><br>    page = context.new_page()                                   <span class="hljs-comment"># æ‰“å¼€æ ‡ç­¾é¡µ</span><br><br>    page.goto(<span class="hljs-string">&#x27;https://www.baidu.com&#x27;</span>)<br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)<br><br>    context.close()                                             <span class="hljs-comment"># å…³é—­ä¸Šä¸‹æ–‡</span><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h4 id="2-éæ— ç—•æ¨¡å¼"><a href="#2-éæ— ç—•æ¨¡å¼" class="headerlink" title="(2) éæ— ç—•æ¨¡å¼"></a>(2) éæ— ç—•æ¨¡å¼</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br>p = sync_playwright().start()<br>browser = p.chromium.launch_persistent_context(                 <span class="hljs-comment"># åˆ›å»ºä¸Šä¸‹æ–‡å¯¹è±¡</span><br>    user_data_dir=<span class="hljs-string">f&quot;...\cache&quot;</span>,                                 <span class="hljs-comment"># è‡ªå®šä¹‰ç”¨æˆ·ç¼“å­˜åœ°å€</span><br>    accept_downloads=<span class="hljs-literal">True</span>,                                      <span class="hljs-comment"># æ¥æ”¶ä¸‹è½½äº‹ä»¶</span><br>    headless=<span class="hljs-literal">False</span>,                                             <span class="hljs-comment"># è®¾ç½®æ— å¤´æ¨¡å¼</span><br>    bypass_csp=<span class="hljs-literal">True</span>,<br>    slow_mo=<span class="hljs-number">1000</span>,<br>    channel=<span class="hljs-string">&quot;chromium&quot;</span>,                                         <span class="hljs-comment"># æŒ‡å®šæµè§ˆå™¨ç±»å‹ï¼Œé»˜è®¤chromium</span><br>    args=[<span class="hljs-string">&#x27;--start-maximized&#x27;</span>],                                 <span class="hljs-comment"># argsç»“åˆno_viewportçª—å£æœ€å¤§åŒ–</span><br>    no_viewport=<span class="hljs-literal">True</span>,                                           <span class="hljs-comment"># å…¨å±è¦†ç›–</span><br>    <span class="hljs-comment"># viewport=&#123;&#x27;width&#x27;: 1920, &#x27;height&#x27;: 1080&#125;,                 # è®¾ç½®å±å¹•åˆ†è¾¨ç‡ï¼Œå…¨å±ç§»ä½</span><br>)<br><span class="hljs-comment"># page = browser.new_page()                                     # è¯¥æ–¹æ³•ä¼šæ‰“å¼€ä¸€ä¸ªç©ºç™½çš„tabé¡µ</span><br>page = browser.pages[<span class="hljs-number">0</span>]                                         <span class="hljs-comment"># é»˜è®¤æ‰“å¼€tabæ ‡ç­¾é¡µå¯¹è±¡</span><br><br>page.goto(<span class="hljs-string">&#x27;https://www.baidu.com&#x27;</span>)<br>page.wait_for_timeout(<span class="hljs-number">3000</span>)<br><br>browser.close()                                                 <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h4 id="3-åŒæµä¸åŒæ ‡ç­¾"><a href="#3-åŒæµä¸åŒæ ‡ç­¾" class="headerlink" title="(3) åŒæµä¸åŒæ ‡ç­¾"></a>(3) åŒæµä¸åŒæ ‡ç­¾</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)   <span class="hljs-comment"># å¯åŠ¨æµè§ˆå™¨</span><br>    context = browser.new_context()                             <span class="hljs-comment"># å¯åŠ¨ä¸Šä¸‹æ–‡</span><br><br>    page1 = context.new_page()                                  <span class="hljs-comment"># æ‰“å¼€æ ‡ç­¾é¡µ1</span><br>    page1.goto(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br>    page1.fill(<span class="hljs-string">&#x27;#kw&#x27;</span>, <span class="hljs-string">&quot;Playwright&quot;</span>)<br>    page1.wait_for_timeout(<span class="hljs-number">3000</span>)<br><br>    page2 = context.new_page()                                  <span class="hljs-comment"># æ‰“å¼€æ ‡ç­¾é¡µ2</span><br>    page2.goto(<span class="hljs-string">&quot;https://fanyi.baidu.com/&quot;</span>)<br>    page2.fill(<span class="hljs-string">&#x27;#baidu_translate_input&#x27;</span>, <span class="hljs-string">&quot;English&quot;</span>)<br>    page2.wait_for_timeout(<span class="hljs-number">3000</span>)<br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h4 id="4-ä¸åŒæµåŒæ ‡ç­¾"><a href="#4-ä¸åŒæµåŒæ ‡ç­¾" class="headerlink" title="(4) ä¸åŒæµåŒæ ‡ç­¾"></a>(4) ä¸åŒæµåŒæ ‡ç­¾</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)   <span class="hljs-comment"># å¯åŠ¨æµè§ˆå™¨</span><br>    context1 = browser.new_context()                            <span class="hljs-comment"># åˆ›å»ºä¸Šä¸‹æ–‡1ï¼Œæµè§ˆå™¨å®ä¾‹1</span><br>    context2 = browser.new_context()                            <span class="hljs-comment"># åˆ›å»ºä¸Šä¸‹æ–‡2ï¼Œæµè§ˆå™¨å®ä¾‹2</span><br>    page1 = context1.new_page()                                 <span class="hljs-comment"># æ‰“å¼€æ ‡ç­¾é¡µ1</span><br>    page1.goto(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br><br>    page2 = context2.new_page()                                 <span class="hljs-comment"># æ‰“å¼€æ ‡ç­¾é¡µ1</span><br>    page2.goto(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br><br>    context1.close()<br>    context2.close()                                            <span class="hljs-comment"># å…³é—­ä¸Šä¸‹æ–‡æ—¶ï¼Œæ‰€å±é¡µé¢ä¹Ÿä¼šä¸€èµ·å…³é—­</span><br>    browser.close()                                             <span class="hljs-comment"># å…ˆå…³é—­ä¸Šä¸‹æ–‡ï¼Œå†é€€å‡ºæµè§ˆå™¨</span><br></code></pre></td></tr></table></figure><h2 id="1-3-æ— å¤´æ¨¡å¼"><a href="#1-3-æ— å¤´æ¨¡å¼" class="headerlink" title="1-3 æ— å¤´æ¨¡å¼"></a>1-3 æ— å¤´æ¨¡å¼</h2><ul><li>æ— å¤´æ¨¡å¼<ul><li>é»˜è®¤æƒ…å†µä¸‹ï¼ŒPlaywrightæ˜¯ä»¥headlessæ— å¤´æ¨¡å¼è¿è¡Œæµè§ˆå™¨çš„ã€‚</li><li><code>headless=False</code>åœ¨å¯åŠ¨æµè§ˆå™¨æ—¶ä¼ é€’æ ‡å¿—ï¼Œå¯æŸ¥çœ‹æµè§ˆå™¨UIã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(slow_mo=<span class="hljs-number">1000</span>)                    <span class="hljs-comment"># æ— å¤´æ¨¡å¼å¯åŠ¨chromiumæµè§ˆå™¨</span><br>    page = browser.new_page()                                    <span class="hljs-comment"># æ‰“å¼€ä¸€ä¸ªæ ‡ç­¾é¡µ</span><br>    page.goto(<span class="hljs-string">&#x27;https://www.baidu.com&#x27;</span>)                           <span class="hljs-comment"># æ‰“å¼€ç™¾åº¦åœ°å€</span><br>    <span class="hljs-built_in">print</span>(page.title())                                          <span class="hljs-comment"># æ‰“å°å½“å‰é¡µé¢title</span><br><br>    browser.close()                                              <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h2 id="1-4-æˆªå›¾ä½¿ç”¨"><a href="#1-4-æˆªå›¾ä½¿ç”¨" class="headerlink" title="1-4 æˆªå›¾ä½¿ç”¨"></a>1-4 æˆªå›¾ä½¿ç”¨</h2><ul><li>æˆªå›¾ä½¿ç”¨<ul><li>é™¤æˆªå–å½“å‰å±å¹•å¤–ï¼Œè¿˜æ”¯æŒæˆªå–é•¿å›¾ï¼Œä¹Ÿå¯å¯¹æŸä¸ªå…ƒç´ æˆªå›¾ã€‚</li><li>å¿«é€Ÿæˆªå›¾æ–¹æ³•ï¼š<code>page.screenshot(path=&quot;screenshot.png&quot;)</code>ã€‚</li><li>æˆªå–å•å…ƒç´ æ–¹æ³•ï¼š<code>page.locator().screenshot(path=&quot;screenshot.png&quot;)</code>ã€‚</li><li>æ•è·å›¾ç‰‡æ•°æ®æµï¼š<code>print(base64.b64encode(page.screenshot()).decode())</code>ã€‚</li><li>æˆªå–é•¿å›¾æ–¹æ³•ï¼š<code>page.screenshot(path=&quot;screenshot.png&quot;, full_page=True)</code>ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> base64<br><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>)                 <span class="hljs-comment"># å¯åŠ¨chromiumæµè§ˆå™¨</span><br>    page = browser.new_page()                                   <span class="hljs-comment"># æ‰“å¼€ä¸€ä¸ªæ ‡ç­¾é¡µ</span><br>    page.goto(<span class="hljs-string">&#x27;https://www.baidu.com&#x27;</span>)                          <span class="hljs-comment"># æ‰“å¼€ç™¾åº¦åœ°å€</span><br>    <span class="hljs-built_in">print</span>(page.title())                                         <span class="hljs-comment"># æ‰“å°å½“å‰é¡µé¢title</span><br><br>    page.screenshot(path=<span class="hljs-string">&quot;pictures/baidu_com.png&quot;</span>)              <span class="hljs-comment"># å¿«é€Ÿæˆªå›¾</span><br>    screenshot_bytes = page.locator(<span class="hljs-string">&quot;#s_lg_img&quot;</span>).screenshot(path=<span class="hljs-string">&quot;pictures/single_element.png&quot;</span>)<br>    <span class="hljs-built_in">print</span>(base64.b64encode(screenshot_bytes).decode())          <span class="hljs-comment"># æ•è·å•å…ƒç´ å›¾ç‰‡æ•°æ®æµ</span><br><br>    page.goto(<span class="hljs-string">&#x27;https://news.baidu.com/&#x27;</span>)                        <span class="hljs-comment"># æ‰“å¼€ç™¾åº¦æ–°é—»</span><br>    <span class="hljs-built_in">print</span>(page.title())                                         <span class="hljs-comment"># æ‰“å°å½“å‰é¡µé¢title</span><br>    page.screenshot(path=<span class="hljs-string">&quot;pictures/baidu_news.png&quot;</span>, full_page=<span class="hljs-literal">True</span>)<br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h2 id="1-5-è§†é¢‘å½•åˆ¶"><a href="#1-5-è§†é¢‘å½•åˆ¶" class="headerlink" title="1-5 è§†é¢‘å½•åˆ¶"></a>1-5 è§†é¢‘å½•åˆ¶</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">100</span>)<br>    context = browser.new_context(<br>        record_video_dir=<span class="hljs-string">&quot;videos/&quot;</span>,<br>        record_video_size=&#123;<span class="hljs-string">&quot;width&quot;</span>: <span class="hljs-number">640</span>, <span class="hljs-string">&quot;height&quot;</span>: <span class="hljs-number">480</span>&#125;         <span class="hljs-comment"># æŒ‡å®šè§†é¢‘å¤§å°ï¼Œé»˜è®¤800x800</span><br>    )<br>    page = context.new_page()                                   <span class="hljs-comment"># æ‰“å¼€æ ‡ç­¾é¡µ</span><br>    page.goto(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)<br><br>    path = page.video.path()<br>    <span class="hljs-built_in">print</span>(path)                                                 <span class="hljs-comment"># è·å–ä¿å­˜è§†é¢‘è·¯å¾„</span><br><br>    context.close()                                             <span class="hljs-comment"># ç¡®ä¿è°ƒç”¨closeï¼Œè§†é¢‘æ‰ä¼šä¿å­˜</span><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h2 id="1-6-å¼¹å‡ºçª—å£"><a href="#1-6-å¼¹å‡ºçª—å£" class="headerlink" title="1-6 å¼¹å‡ºçª—å£"></a>1-6 å¼¹å‡ºçª—å£</h2><ul><li>å¼¹å‡ºçª—å£<ul><li>é¡µé¢ä¸­ï¼Œé€šè¿‡é“¾æ¥æ‰“å¼€ä¸€ä¸ªå¼¹å‡ºçª—å£ï¼Œå¯ä»¥é€šè¿‡ç›‘å¬é¡µé¢ä¸Šçš„äº‹ä»¶<code>target=&quot;_blank&quot;</code>æ¥è·å–å¼•ç”¨ã€‚</li><li>å¤„ç†å¼¹å‡ºçª—å£æ—¶ï¼Œå¯ä»¥é€‰æ‹©ç›‘å¬æ­¤ç‰¹å®šäº‹ä»¶ï¼Œä»¥ä¾¿æ›´ç²¾ç¡®åœ°æ•è·ä¸å½“å‰é¡µé¢å…³è”çš„å¼¹å‡ºçª—å£ä¿¡æ¯ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">handle_popup</span>(<span class="hljs-params">popup</span>):                                        <span class="hljs-comment"># è§¦å‘å¼¹å‡ºçª—å£çš„æ“ä½œæœªçŸ¥æ—¶ä½¿ç”¨</span><br>    popup.wait_for_load_state()<br>    <span class="hljs-built_in">print</span>(popup.title())<br><br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)   <span class="hljs-comment"># å¯åŠ¨chromiumæµè§ˆå™¨</span><br>    page = browser.new_page()                                   <span class="hljs-comment"># æ‰“å¼€ä¸€ä¸ªæ ‡ç­¾é¡µ</span><br>    page.goto(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br>    <span class="hljs-built_in">print</span>(page.title())<br><br>    <span class="hljs-comment"># with page.expect_popup() as popup_info:</span><br>    <span class="hljs-comment">#     page.locator(&quot;#s-top-left &gt; a:nth-child(1)&quot;).click()</span><br>    <span class="hljs-comment"># popup = popup_info.value</span><br>    <span class="hljs-comment"># popup.wait_for_load_state()                               # ç­‰å¾…å¼¹å‡ºçª—å£åŠ è½½å®Œæ¯•</span><br>    <span class="hljs-comment"># print(popup.title())</span><br>    <br>    page.on(<span class="hljs-string">&quot;popup&quot;</span>, handle_popup)<br>    page.locator(<span class="hljs-string">&quot;#s-top-left &gt; a:nth-child(1)&quot;</span>).click()<br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)                                 <span class="hljs-comment"># æ“ä½œæœªçŸ¥ï¼Œæœ€å¥½åŠ ä¸€ä¸ªç­‰å¾…</span><br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h2 id="1-7-åˆ‡æ¢æ ‡ç­¾é¡µ"><a href="#1-7-åˆ‡æ¢æ ‡ç­¾é¡µ" class="headerlink" title="1-7 åˆ‡æ¢æ ‡ç­¾é¡µ"></a>1-7 åˆ‡æ¢æ ‡ç­¾é¡µ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)   <span class="hljs-comment"># å¯åŠ¨æµè§ˆå™¨</span><br>    context = browser.new_context()                             <span class="hljs-comment"># å¯åŠ¨ä¸Šä¸‹æ–‡</span><br>    page = context.new_page()                                   <span class="hljs-comment"># æ‰“å¼€æ ‡ç­¾é¡µ</span><br>    page.goto(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br>    <span class="hljs-built_in">print</span>(page.title())<br><br>    <span class="hljs-keyword">with</span> context.expect_page() <span class="hljs-keyword">as</span> new_page_info:<br>        page.click(<span class="hljs-string">&quot;text=æ–°é—»&quot;</span>)<br>    new_page = new_page_info.value<br>    new_page.wait_for_load_state()                              <span class="hljs-comment"># ç­‰å¾…é¡µé¢åŠ è½½åˆ°æŒ‡å®šçŠ¶æ€</span><br>    <span class="hljs-built_in">print</span>(new_page.title())<br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h4 id="1-éå†pageå¯¹è±¡"><a href="#1-éå†pageå¯¹è±¡" class="headerlink" title="(1) éå†pageå¯¹è±¡"></a>(1) éå†pageå¯¹è±¡</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)   <span class="hljs-comment"># å¯åŠ¨æµè§ˆå™¨</span><br>    context = browser.new_context()                             <span class="hljs-comment"># å¯åŠ¨ä¸Šä¸‹æ–‡</span><br>    page = context.new_page()                                   <span class="hljs-comment"># æ‰“å¼€æ ‡ç­¾é¡µ</span><br>    page.goto(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br><br>    <span class="hljs-keyword">for</span> link <span class="hljs-keyword">in</span> page.locator(<span class="hljs-string">&#x27;#s-top-left&gt;a&#x27;</span>).<span class="hljs-built_in">all</span>():            <span class="hljs-comment"># ç‚¹å¼€å¤šä¸ªæ ‡ç­¾é¡µ</span><br>        link.click()<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> context.pages:                                     <span class="hljs-comment"># éå†pageå¯¹è±¡</span><br>        <span class="hljs-built_in">print</span>(i.title())<br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h4 id="2-titleå’Œurlåˆ¤æ–­"><a href="#2-titleå’Œurlåˆ¤æ–­" class="headerlink" title="(2) titleå’Œurlåˆ¤æ–­"></a>(2) titleå’Œurlåˆ¤æ–­</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">switch_to_page</span>(<span class="hljs-params">context, title=<span class="hljs-literal">None</span>, url=<span class="hljs-literal">None</span></span>):<br>    <span class="hljs-keyword">for</span> item_page <span class="hljs-keyword">in</span> context.pages:<br>        <span class="hljs-keyword">if</span> title:<br>            <span class="hljs-keyword">if</span> title <span class="hljs-keyword">in</span> item_page.title():<br>                item_page.bring_to_front()                      <span class="hljs-comment"># æ¿€æ´»å½“å‰é€‰é¡¹å¡</span><br>                <span class="hljs-comment"># print(item_page.title())                      # æ‰“å°é¡µé¢æ ‡é¢˜</span><br>                <span class="hljs-keyword">return</span> item_page<br>        <span class="hljs-keyword">elif</span> url:<br>            <span class="hljs-keyword">if</span> url <span class="hljs-keyword">in</span> item_page.url:<br>                item_page.bring_to_front()                      <span class="hljs-comment"># æ¿€æ´»å½“å‰é€‰é¡¹å¡</span><br>                <span class="hljs-keyword">return</span> item_page<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ‰¾ä¸åˆ°æ ‡é¢˜æˆ–URLï¼&quot;</span>)<br>    <span class="hljs-keyword">return</span> context.pages[<span class="hljs-number">0</span>]<br><br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>)<br>    context = browser.new_context()                             <span class="hljs-comment"># å¯åŠ¨ä¸Šä¸‹æ–‡</span><br>    page = context.new_page()                                   <span class="hljs-comment"># æ‰“å¼€æ ‡ç­¾é¡µ</span><br>    page.goto(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br><br>    <span class="hljs-keyword">for</span> link <span class="hljs-keyword">in</span> page.locator(<span class="hljs-string">&#x27;#s-top-left&gt;a&#x27;</span>).<span class="hljs-built_in">all</span>():            <span class="hljs-comment"># ç‚¹å¼€å¤šä¸ªæ ‡ç­¾é¡µ</span><br>        link.click()<br>        page.wait_for_timeout(<span class="hljs-number">1000</span>)<br>    page_switch = switch_to_page(context, title=<span class="hljs-string">&#x27;hao&#x27;</span>)          <span class="hljs-comment"># åˆ‡æ¢åˆ°åŒ…å«haoçš„æ ‡ç­¾é¡µ</span><br>    <span class="hljs-built_in">print</span>(page_switch.title())<br><br>    <span class="hljs-keyword">for</span> item_page <span class="hljs-keyword">in</span> context.pages:                             <span class="hljs-comment"># åˆ‡æ¢å¹¶æ‰“å°æ‰€æœ‰æ ‡ç­¾é¡µçš„æ ‡é¢˜</span><br>        switch_to_page(context, title=item_page.title())<br>        <span class="hljs-built_in">print</span>(item_page.title())<br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h2 id="1-8-æµè§ˆå™¨çª—å£"><a href="#1-8-æµè§ˆå™¨çª—å£" class="headerlink" title="1-8 æµè§ˆå™¨çª—å£"></a>1-8 æµè§ˆå™¨çª—å£</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>)<br>    context = browser.new_context(<br>        viewport=&#123;<span class="hljs-string">&#x27;width&#x27;</span>: <span class="hljs-number">1200</span>, <span class="hljs-string">&#x27;height&#x27;</span>: <span class="hljs-number">600</span>&#125;,                <span class="hljs-comment"># viewportå‚æ•°æŒ‡å®šçª—å£å¤§å°</span><br>    )<br>    page = context.new_page()<br>    page.goto(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br>    page.fill(<span class="hljs-string">&#x27;#kw&#x27;</span>, <span class="hljs-string">&#x27;Playwrightæ•™ç¨‹&#x27;</span>)<br>    page.click(<span class="hljs-string">&#x27;#su&#x27;</span>)<br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)<br><br>    page.go_back()                                              <span class="hljs-comment"># åé€€ &lt;â€”</span><br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)<br>    page.reload()                                               <span class="hljs-comment"># åˆ·æ–°</span><br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)<br>    page.go_forward()                                           <span class="hljs-comment"># å‰è¿› â€”&gt;</span><br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)<br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><ul><li>çª—å£æœ€å¤§åŒ–<ul><li>å¯åŠ¨æµè§ˆå™¨æ—¶ï¼Œé€šè¿‡å‚æ•°<code>args=[&#39;--start-maximized&#39;]</code>å¼€å¯æœ€å¤§åŒ–ã€‚</li><li>å¹¶è®¾ç½®<code>no_viewport</code>å‚æ•°ä¸ºTrueï¼Œå¦åˆ™é»˜è®¤æŒ‰800*600åƒç´ åˆ›å»ºçª—å£ã€‚</li><li>è‹¥ä¸æ˜¯é€šè¿‡contextä¸Šä¸‹æ–‡åˆ›å»ºçš„pageå¯¹è±¡ï¼Œå¯ä»¥ç›´æ¥å°†viewportå‚æ•°å†™åˆ°<code>new_page()</code>é‡Œã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(<br>        headless=<span class="hljs-literal">False</span>,<br>        args=[<span class="hljs-string">&#x27;--start-maximized&#x27;</span>]                              <span class="hljs-comment"># å¯åŠ¨æµè§ˆå™¨æ—¶ï¼Œå¼€å¯æœ€å¤§åŒ–</span><br>    )<br>    context = browser.new_context(no_viewport=<span class="hljs-literal">True</span>)             <span class="hljs-comment"># no_viewportç¦æ­¢é™åˆ¶çª—å£å¤§å°</span><br>    page = context.new_page()<br>    page.goto(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br><br>    page.pause()                                                <span class="hljs-comment"># è°ƒè¯•æ–¹æ³•ï¼Œåœ¨å½“å‰é¡µé¢æš‚åœæ‰§è¡Œï¼Œç­‰å¾…æ“ä½œ</span><br></code></pre></td></tr></table></figure><h2 id="1-9-ç‰¹å®šè®¾å¤‡æ‰“å¼€"><a href="#1-9-ç‰¹å®šè®¾å¤‡æ‰“å¼€" class="headerlink" title="1-9 ç‰¹å®šè®¾å¤‡æ‰“å¼€"></a>1-9 ç‰¹å®šè®¾å¤‡æ‰“å¼€</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    iphone_13 = p.devices[<span class="hljs-string">&#x27;iPhone 13&#x27;</span>]                          <span class="hljs-comment"># ä»¥iPhone 13å½¢å¼æ‰“å¼€</span><br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>)<br>    context = browser.new_context(**iphone_13)<br>    page = context.new_page()<br>    page.goto(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)<br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h1 id="2-é¡µé¢å…ƒç´ å®šä½"><a href="#2-é¡µé¢å…ƒç´ å®šä½" class="headerlink" title="2 é¡µé¢å…ƒç´ å®šä½"></a>2 é¡µé¢å…ƒç´ å®šä½</h1><ul><li>é¡µé¢å…ƒç´ å®šä½<ul><li>é€‰æ‹©å™¨(Selector)ï¼šç”¨äºåˆ›å»ºå®šä½å™¨çš„å­—ç¬¦ä¸²ã€‚<ul><li>CSSå’ŒXPath<ul><li>é€šè¿‡CSSé€‰æ‹©å™¨ã€XPathé€‰æ‹©å™¨ï¼Œä¾æ®å…ƒç´ å±æ€§ã€æ ‡ç­¾åã€æ–‡æœ¬å†…å®¹ç­‰ç‰¹å¾æ¥å®šä½å…ƒç´ ã€‚</li><li>æ“ä½œå…ƒç´ å¯ä½¿ç”¨å®šä½å™¨(Locator)å…ˆå®šä½å†æ“ä½œï¼Œä¹Ÿå¯ç›´æ¥å®šä½æ–¹æ³•åå†ä¼ é€‰æ‹©å™¨(æ¨è)ã€‚</li></ul></li><li>æ–‡æœ¬å†…å®¹ï¼šæŒ‡å®šå…ƒç´ æ‰€åŒ…å«çš„æ–‡æœ¬å†…å®¹ï¼Œå¯ä»¥æ‰¾åˆ°å¯¹åº”çš„å…ƒç´ ã€‚</li><li>å±æ€§ï¼šæŒ‡å®šå…ƒç´ çš„æŸä¸ªå±æ€§åŠå…¶å¯¹åº”çš„å€¼ï¼Œå¯ä»¥å”¯ä¸€åœ°å®šä½åˆ°å…ƒç´ ã€‚</li><li>åæ ‡ï¼šé€šè¿‡æŒ‡å®šå…ƒç´ åœ¨é¡µé¢ä¸­çš„xå’Œyåæ ‡ï¼Œå¯ä»¥ç²¾ç¡®åœ°å®šä½åˆ°å…ƒç´ ã€‚</li><li>å…ƒç´ å±‚çº§å…³ç³»ï¼šé€šè¿‡å…ƒç´ çš„çˆ¶å…ƒç´ ã€å­å…ƒç´ ã€ç›¸é‚»å…ƒç´ ç­‰å…³ç³»æ¥ç¡®å®šå…ƒç´ çš„ä½ç½®ã€‚</li></ul></li><li>å®šä½å™¨(Locator)ï¼šPlaywrightè‡ªåŠ¨ç­‰å¾…å’Œé‡è¯•èƒ½åŠ›çš„æ ¸å¿ƒéƒ¨åˆ†ã€‚</li><li>è¾“å…¥æ–‡å­—ï¼šfill()æ˜¯å¡«å†™è¡¨å•å­—æ®µçš„æœ€ç®€æ–¹æ³•ã€type()é”®å…¥å­—ç¬¦ã€‚</li><li>é¼ æ ‡ç‚¹å‡»click()ã€æ‹–æ”¾drag_to()ã€ä¸‹æ‹‰æ¡†é€‰æ‹©select_option()ã€‚</li><li>iframeå®šä½ã€å•é€‰ä¸å¤é€‰set_checked()ã€èšç„¦ç»™å®šå…ƒç´ focus()ã€‚</li></ul></li></ul><h2 id="2-1-é€‰æ‹©å™¨"><a href="#2-1-é€‰æ‹©å™¨" class="headerlink" title="2-1 é€‰æ‹©å™¨"></a>2-1 é€‰æ‹©å™¨</h2><ul><li>é€‰æ‹©å™¨<ul><li>CSSå’ŒXPath<ul><li>æµè§ˆå™¨F12å¼€å‘è€…å·¥å…·ï¼ŒElementsä¸­é¼ æ ‡é€‰ä¸­å…ƒç´ å³é”®å¯ä»¥Copyé€‰æ‹©å™¨æˆ–XPathå†…å®¹ã€‚</li><li><code>page.fill(&#39;css=#kw&#39;, &#39;Playwright&#39;)</code>ã€<code>page.click(&#39;xpath=//*[@id=&quot;su&quot;]&#39;)</code>ã€‚</li><li><code>page.fill(&#39;#kw&#39;, &#39;Playwright&#39;)</code>ã€<code>page.click(&#39;//*[@id=&quot;su&quot;]&#39;)</code>(å‰ç¼€å¯ä¸å†™)ã€‚</li><li>é•¿CSSæˆ–XPathé“¾å®¹æ˜“ä¸ç¨³å®šï¼Œé€‰æ‹©å™¨ç»‘å®šåˆ°DOMï¼Œç»“æ„å‘ç”Ÿå˜åŒ–æ—¶é€‰æ‹©å™¨å¯èƒ½ä¼šä¸­æ–­ã€‚</li></ul></li><li>æ–‡æœ¬å†…å®¹<ul><li>Playwrightå°è£…äº†ä¸¤ç§textæ–‡æœ¬å®šä½çš„æ–¹å¼ã€‚<ul><li><code>page.click(&quot;text=xxx&quot;)</code>ï¼šæ— å¼•å·ï¼Œæ¨¡ç³ŠåŒ¹é…ï¼Œå¯¹å¤§å°å†™ä¸æ•æ„Ÿã€‚</li><li><code>page.click(&quot;text=&#39;xxx&#39;&quot;)</code>ï¼šæœ‰å¼•å·ï¼Œç²¾ç¡®åŒ¹é…ï¼Œå¯¹å¤§å°å†™æ•æ„Ÿã€‚</li></ul></li><li>é™¤äº†æ”¯æŒå®šä½aæ ‡ç­¾ï¼Œè¿˜å¯ä»¥å®šä½buttonæŒ‰é’®ã€inputæ ‡ç­¾çš„buttonæŒ‰é’®ã€‚</li></ul></li></ul></li></ul><h4 id="1-CSSå’ŒXPath"><a href="#1-CSSå’ŒXPath" class="headerlink" title="(1) CSSå’ŒXPath"></a>(1) CSSå’ŒXPath</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)   <span class="hljs-comment"># å¯åŠ¨æµè§ˆå™¨</span><br>    page = browser.new_page()<br>    page.goto(<span class="hljs-string">&#x27;https://www.baidu.com&#x27;</span>)                          <span class="hljs-comment"># æ‰“å¼€ç™¾åº¦åœ°å€</span><br>    <span class="hljs-built_in">print</span>(page.title())                                         <span class="hljs-comment"># æ‰“å°å½“å‰é¡µé¢title</span><br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)<br><br>    page.fill(<span class="hljs-string">&#x27;//*[@id=&quot;kw&quot;]&#x27;</span>, <span class="hljs-string">&#x27;Playwright&#x27;</span>)                    <span class="hljs-comment"># XPath</span><br>    page.click(<span class="hljs-string">&#x27;#su&#x27;</span>)                                           <span class="hljs-comment"># CSS</span><br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h4 id="2-æ–‡æœ¬å®šä½aæ ‡ç­¾"><a href="#2-æ–‡æœ¬å®šä½aæ ‡ç­¾" class="headerlink" title="(2) æ–‡æœ¬å®šä½aæ ‡ç­¾"></a>(2) æ–‡æœ¬å®šä½aæ ‡ç­¾</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)   <span class="hljs-comment"># å¯åŠ¨æµè§ˆå™¨</span><br>    page = browser.new_page()<br>    page.goto(<span class="hljs-string">&#x27;https://www.baidu.com&#x27;</span>)                          <span class="hljs-comment"># æ‰“å¼€ç™¾åº¦åœ°å€</span><br>    <span class="hljs-built_in">print</span>(page.title())                                         <span class="hljs-comment"># æ‰“å°å½“å‰é¡µé¢title</span><br><br>    page.click(<span class="hljs-string">&#x27;text=æ–°é—»&#x27;</span>)<br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)                                 <span class="hljs-comment"># ç­‰å¾…3ç§’</span><br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h4 id="3-æ–‡æœ¬å®šä½button"><a href="#3-æ–‡æœ¬å®šä½button" class="headerlink" title="(3) æ–‡æœ¬å®šä½button"></a>(3) æ–‡æœ¬å®šä½button</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)   <span class="hljs-comment"># å¯åŠ¨æµè§ˆå™¨</span><br>    page = browser.new_page()<br>    page.goto(<span class="hljs-string">&#x27;https://www.baidu.com&#x27;</span>)                          <span class="hljs-comment"># æ‰“å¼€ç™¾åº¦åœ°å€</span><br>    <span class="hljs-built_in">print</span>(page.title())                                         <span class="hljs-comment"># æ‰“å°å½“å‰é¡µé¢title</span><br><br>    page.fill(<span class="hljs-string">&quot;#kw&quot;</span>, <span class="hljs-string">&quot;Playwright&quot;</span>)<br>    page.click(<span class="hljs-string">&#x27;text=ç™¾åº¦ä¸€ä¸‹&#x27;</span>)<br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)                                 <span class="hljs-comment"># ç­‰å¾…3ç§’</span><br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h4 id="4-è·å–å†…å®¹ä¸æ–‡æœ¬"><a href="#4-è·å–å†…å®¹ä¸æ–‡æœ¬" class="headerlink" title="(4) è·å–å†…å®¹ä¸æ–‡æœ¬"></a>(4) è·å–å†…å®¹ä¸æ–‡æœ¬</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">100</span>)<br>    context = browser.new_context()                             <span class="hljs-comment"># åˆ›å»ºä¸Šä¸‹æ–‡</span><br>    page = context.new_page()                                   <span class="hljs-comment"># æ‰“å¼€æ ‡ç­¾é¡µ</span><br>    page.goto(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br><br>    <span class="hljs-built_in">print</span>(page.content())                                       <span class="hljs-comment"># è·å–æ•´ä¸ªé¡µé¢çš„htmlå†…å®¹</span><br>    page.wait_for_load_state(<span class="hljs-string">&quot;networkidle&quot;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-----------------åˆ†å‰²çº¿-----------------&quot;</span>)<br><br>    a = page.locator(<span class="hljs-string">&#x27;#s-top-left&gt;a&#x27;</span>).first<br>    <span class="hljs-built_in">print</span>(a.get_attribute(<span class="hljs-string">&#x27;href&#x27;</span>))                              <span class="hljs-comment"># è·å–å…ƒç´ å±æ€§</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-----------------åˆ†å‰²çº¿-----------------&quot;</span>)<br><br>    b = page.locator(<span class="hljs-string">&#x27;//*[@id=&quot;s-top-left&quot;]&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(b.inner_html())                                       <span class="hljs-comment"># è·å–å…ƒç´ ä¸‹çš„htmlå†…å®¹</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-----------------åˆ†å‰²çº¿-----------------&quot;</span>)<br>    <span class="hljs-built_in">print</span>(b.inner_text())                                       <span class="hljs-comment"># è·å–å…ƒç´ çš„æ–‡æœ¬å†…å®¹</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-----------------åˆ†å‰²çº¿-----------------&quot;</span>)<br>    <span class="hljs-built_in">print</span>(b.all_inner_texts())                                  <span class="hljs-comment"># åˆ—è¡¨æ˜¾ç¤ºè·å–åˆ°çš„é¡µé¢å†…å®¹</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-----------------åˆ†å‰²çº¿-----------------&quot;</span>)<br>    <span class="hljs-built_in">print</span>(b.all_text_contents())                                <span class="hljs-comment"># åˆ—è¡¨æ˜¾ç¤ºè·å–åˆ°çš„å…ƒç´ ä¸‹æ‰€æœ‰å†…å®¹</span><br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h4 id="5-è·å–è¾“å…¥æ¡†çš„å€¼"><a href="#5-è·å–è¾“å…¥æ¡†çš„å€¼" class="headerlink" title="(5) è·å–è¾“å…¥æ¡†çš„å€¼"></a>(5) è·å–è¾“å…¥æ¡†çš„å€¼</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">100</span>)<br>    context = browser.new_context()                             <span class="hljs-comment"># åˆ›å»ºä¸Šä¸‹æ–‡</span><br>    page = context.new_page()                                   <span class="hljs-comment"># æ‰“å¼€æ ‡ç­¾é¡µ</span><br>    page.goto(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br>    page.wait_for_load_state(<span class="hljs-string">&quot;networkidle&quot;</span>)<br><br>    input1 = page.locator(<span class="hljs-string">&#x27;#kw&#x27;</span>)<br>    input1.fill(<span class="hljs-string">&#x27;Playwright&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(input1.input_value())                                 <span class="hljs-comment"># è·å–è¾“å…¥æ¡†çš„å€¼</span><br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h4 id="6-é€‰æ‹©å™¨ç»„åˆå®šä½"><a href="#6-é€‰æ‹©å™¨ç»„åˆå®šä½" class="headerlink" title="(6) é€‰æ‹©å™¨ç»„åˆå®šä½"></a>(6) é€‰æ‹©å™¨ç»„åˆå®šä½</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)   <span class="hljs-comment"># å¯åŠ¨æµè§ˆå™¨</span><br>    page = browser.new_page()<br>    page.goto(<span class="hljs-string">&#x27;https://passport.baidu.com/v2/?login&#x27;</span>)           <span class="hljs-comment"># æ‰“å¼€ç™¾åº¦ç™»å½•é¡µé¢</span><br>    <span class="hljs-built_in">print</span>(page.title())                                         <span class="hljs-comment"># æ‰“å°å½“å‰é¡µé¢title</span><br><br>    page.wait_for_selector(<span class="hljs-string">&#x27;text=ç”¨æˆ·åç™»å½•&#x27;</span>).click()<br>    page.fill(<span class="hljs-string">&#x27;form &gt;&gt; [name=&quot;userName&quot;]&#x27;</span>, <span class="hljs-string">&#x27;Test&#x27;</span>)              <span class="hljs-comment"># ä¸åŒçš„é€‰æ‹©å™¨ç»„åˆä½¿ç”¨ï¼Œç”¨&gt;&gt;è¿æ¥</span><br>    <span class="hljs-comment"># page.locator(&quot;form&quot;).locator(&#x27;[name=&quot;userName&quot;]&#x27;).fill(&quot;Test&quot;)</span><br>    page.fill(<span class="hljs-string">&#x27;form &gt;&gt; [name=&quot;password&quot;]&#x27;</span>, <span class="hljs-string">&quot;A.123456&quot;</span>)<br>    <span class="hljs-comment"># page.locator(&quot;form&quot;).locator(&#x27;[name=&quot;password&quot;]&#x27;).fill(&quot;A.123456&quot;)</span><br>    <span class="hljs-comment"># page.click(&#x27;//*[@id=&quot;TANGRAM__PSP_3__submit&quot;]&#x27;)</span><br>    page.click(<span class="hljs-string">&quot;text=&#x27;ç™»å½•&#x27;&quot;</span>)<br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)                                 <span class="hljs-comment"># ç­‰å¾…3ç§’</span><br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h2 id="2-2-å®šä½å™¨"><a href="#2-2-å®šä½å™¨" class="headerlink" title="2-2 å®šä½å™¨"></a>2-2 å®šä½å™¨</h2><ul><li>å®šä½å™¨<ul><li>è¿‡æ»¤å®šä½å™¨ï¼š<code>locator.filter()</code>å¯ä»¥å¯¹locatorå®šä½åˆ°çš„å…ƒç´ è¿›è¡Œç­›é€‰è¿‡æ»¤ã€‚<ul><li><code>count()</code>ï¼šç»Ÿè®¡å…ƒç´ çš„ä¸ªæ•°ã€‚</li><li><code>first</code>ï¼šå®šä½å¤šä¸ªæ—¶ï¼ŒåŒ¹é…ç¬¬ä¸€ä¸ªã€‚</li><li><code>last</code>ï¼šå®šä½å¤šä¸ªæ—¶ï¼ŒåŒ¹é…æœ€åä¸€ä¸ªã€‚</li><li><code>nth()</code>ï¼šå®šä½å¤šä¸ªæ—¶ï¼Œæ ¹æ®ç´¢å¼•å®šä½å…ƒç´ ã€‚</li></ul></li><li>Locatorå®šä½æœºåˆ¶ä¸å…ƒç´ å¥æŸ„ElementHandle<ul><li><code>locator()</code>æ˜¯å®šä½å½“å‰é¡µé¢å…ƒç´ ï¼Œä¸ä¼šè‡ªåŠ¨ç­‰å¾…ï¼Œè‹¥ç»“åˆclickç­‰æ–¹æ³•ï¼Œä¼šè‡ªåŠ¨ç­‰å¾…å¤„äºå¯æ“ä½œçŠ¶æ€ã€‚</li><li>JavaScriptä¸­ElementHandleå³é¡µå†…DOMå…ƒç´ ï¼ŒElementHandlesä½¿ç”¨page.query_selector()æ–¹æ³•åˆ›å»ºã€‚</li><li>Locatorå’ŒElementHandleä¹‹é—´çš„åŒºåˆ«åœ¨äºåè€…æŒ‡å‘ç‰¹å®šå…ƒç´ ï¼Œè€ŒLocatoræ•è·å…ƒç´ ï¼Œæ£€ç´¢å…ƒç´ çš„é€»è¾‘ã€‚</li><li>ä¸é¼“åŠ±ä½¿ç”¨ElementHandleï¼Œè€Œæ˜¯ä½¿ç”¨Locatorå¯¹è±¡å’Œç½‘ç»œä¼˜å…ˆæ–­è¨€ã€‚<ul><li>Seleniumé‡‡ç”¨çš„æ˜¯HTTPåè®®ï¼Œè·å–çš„å…ƒç´ å¥æŸ„æ˜¯å›ºå®šçš„ï¼Œä¸èƒ½å®æ—¶å»è·å–é¡µé¢ä¸Šçš„å…ƒç´ ã€‚</li><li>Playwrighté‡‡ç”¨Websocketåè®®ï¼Œå¯å®æ—¶è·å–é¡µé¢å…ƒç´ ï¼ŒDOMç»“æ„å˜åŒ–æ—¶ä¹Ÿèƒ½é‡æ–°è·å–åˆ°ã€‚</li></ul></li></ul></li><li><code>page.get_by_role()</code><ul><li>ä¼˜å…ˆè€ƒè™‘é€šè¿‡æ˜¾å¼å’Œéšå¼å¯è®¿é—®æ€§å±æ€§è¿›è¡Œå®šä½å…·æœ‰å¯è®¿é—®æ€§ç‰¹å¾çš„å…ƒç´ ã€‚<ul><li>æ˜¾å¼å¯è®¿é—®æ€§å±æ€§ï¼ŒæŒ‡å¼€å‘äººå‘˜æ˜ç¡®åœ°ä¸ºå…ƒç´ è®¾ç½®çš„å±æ€§ï¼Œå…·æœ‰æè¿°å…ƒç´ åŠå…¶åŠŸèƒ½çš„å¯è®¿é—®æ€§ä¿¡æ¯ã€‚</li><li>éšå¼å¯è®¿é—®æ€§å±æ€§ï¼Œæ ¹æ®å…ƒç´ çš„å…¶ä»–å±æ€§å’Œå†…å®¹æ¨æ–­å¯è®¿é—®æ€§ä¿¡æ¯ï¼Œè€Œéç‰¹å®šè®¾ç½®ä¸ºå¯è®¿é—®æ€§å±æ€§ã€‚</li></ul></li><li>å¯ä»¥è€ƒè™‘å°†é¼ æ ‡æ‚¬åœåœ¨å®šä½å™¨æŒ‡å‘çš„å…ƒç´ ä¸Šï¼Œå†ç‚¹å‡»å®šä½å™¨æ‰€æŒ‡å‘çš„å…ƒç´ ï¼Œåº•å±‚DOMå…ƒç´ å°†è¢«å®šä½ä¸¤æ¬¡ã€‚</li><li>åˆ›å»ºå®šä½å™¨çš„æ–¹æ³•ä¹Ÿå¯ç”¨äºLocatorç±»å’ŒFrameLocatorç±»ï¼Œæ”¯æŒå°†å…¶é“¾æ¥èµ·æ¥å¹¶è¿­ä»£åœ°ç¼©å°å®šä½å™¨çš„èŒƒå›´ã€‚<ul><li>Locatorç±»å®šä½é¡µé¢ä¸Šçš„å…ƒç´ ï¼Œ<code>page.locator()</code>ã€ <code>ElementHandle.locator()</code>ã€<code>locator.nth()</code>ã€‚</li><li>FrameLocatorç±»å®šä½é¡µé¢ä¸Šçš„æ¡†æ¶(iframe)ï¼Œæ–¹æ³•æœ‰<code>page.frame_locator()</code>ã€ <code>locator.frame()</code>ã€‚</li></ul></li><li>è€ƒè™‘DOMç»“æ„ï¼Œä¹Ÿå¯ä»¥é€šè¿‡éšå«è§’è‰²å®šä½å…ƒç´ ã€‚<ul><li>è§’è‰²å®šä½å™¨åŒ…æ‹¬æŒ‰é’®ã€å¤é€‰æ¡†ã€æ ‡é¢˜ã€é“¾æ¥ã€åˆ—è¡¨ã€è¡¨æ ¼ç­‰ã€‚</li><li>ä¸”å®šä½éµå¾ªARIAè§’è‰²ã€ARIAå±æ€§å’Œå¯è®¿é—®åç§°çš„W3Cè§„èŒƒã€‚</li></ul></li></ul></li><li><code>page.get_by_text()</code>ï¼šæ–‡æœ¬å†…å®¹å®šä½ï¼Œéäº¤äº’å¼å…ƒç´ å¦‚divã€spanã€pç­‰ã€‚</li><li><code>page.get_by_title()</code>ï¼šé€šè¿‡æ ‡é¢˜titleçš„å±æ€§å®šä½å…ƒç´ ã€‚</li><li><code>page.get_by_label()</code>ï¼šé€šè¿‡å…³è”æ ‡ç­¾çš„æ–‡æœ¬å®šä½å…ƒç´ ã€‚</li><li><code>page.get_by_test_id()</code>ï¼šä¾æ®data-testidå±æ€§å®šä½å…ƒç´ ã€‚</li><li><code>page.get_by_alt_text()</code>ï¼šä¾æ®æ›¿ä»£æ–‡æœ¬æ¥è¿›è¡Œå›¾åƒå®šä½ï¼Œä¾‹å¦‚imgã€areaå…ƒç´ ã€‚</li><li><code>page.get_by_placeholder()</code>ï¼šå®šä½æ— æ ‡ç­¾ä½†å…·æœ‰å ä½ç¬¦æ–‡æœ¬çš„è¡¨å•å…ƒç´ æ—¶ä½¿ç”¨ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">100</span>)<br>    page = browser.new_page()                                   <span class="hljs-comment"># æ‰“å¼€æ ‡ç­¾é¡µ</span><br>    page.goto(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br><br>    lacate = page.locator(<span class="hljs-string">&#x27;#s-top-left&gt;a&#x27;</span>)<br>    lacate.first.click()                                        <span class="hljs-comment"># ç‚¹å‡»ç¬¬ä¸€ä¸ª</span><br>    lacate.last.click()                                         <span class="hljs-comment"># ç‚¹å‡»æœ€åä¸€ä¸ª</span><br>    lacate.nth(<span class="hljs-number">2</span>).click()                                       <span class="hljs-comment"># ç´¢å¼•ç¬¬ä¸‰ä¸ªå…ƒç´ </span><br>    <span class="hljs-built_in">print</span>(lacate.count())                                       <span class="hljs-comment"># ç»Ÿè®¡å…ƒç´ çš„ä¸ªæ•°</span><br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)<br><br>    loc1 = page.locator(<span class="hljs-string">&quot;id=kw&quot;</span>)<br>    <span class="hljs-built_in">print</span>(loc1)<br>    <span class="hljs-built_in">print</span>(loc1.count())                                         <span class="hljs-comment"># 1è¡¨ç¤ºå…ƒç´ å­˜åœ¨</span><br>    loc1 = page.query_selector(<span class="hljs-string">&#x27;#kw&#x27;</span>)                           <span class="hljs-comment"># ElementHandles</span><br>    <span class="hljs-built_in">print</span>(loc1)<br>    loc1 = page.query_selector_all(<span class="hljs-string">&#x27;#kw&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(loc1)                                                 <span class="hljs-comment"># å¤æ•°å®šä½æ–¹å¼è¿”å›list</span><br><br>    loc2 = page.locator(<span class="hljs-string">&#x27;id=test&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(loc2)<br>    <span class="hljs-built_in">print</span>(loc2.count())                                         <span class="hljs-comment"># 0è¡¨ç¤ºå…ƒç´ ä¸å­˜åœ¨</span><br>    loc2 = page.query_selector(<span class="hljs-string">&#x27;#test&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(loc2)<br>    loc2 = page.query_selector_all(<span class="hljs-string">&#x27;#test&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(loc2)<br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h4 id="1-è¿‡æ»¤é“¾å¼å®šä½"><a href="#1-è¿‡æ»¤é“¾å¼å®šä½" class="headerlink" title="(1) è¿‡æ»¤é“¾å¼å®šä½"></a>(1) è¿‡æ»¤é“¾å¼å®šä½</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> re<br><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright, expect<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> pw:<br>    browser = pw.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)<br>    page = browser.new_page()<br>    page.goto(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br><br>    page.locator(<span class="hljs-string">&#x27;//*[@id=&quot;s-top-left&quot;]/a[1]&#x27;</span>).<span class="hljs-built_in">filter</span>(has_text=<span class="hljs-string">&quot;æ–°é—»&quot;</span>).click()<br>    <span class="hljs-comment"># æ ¹æ®divå…ƒç´ å®šä½åˆ°å¤šä¸ªaæ ‡ç­¾ï¼Œç»§ç»­ç¼©å°èŒƒå›´ï¼ŒæŒ‰æ–‡æœ¬è¿‡æ»¤</span><br>    page.locator(<span class="hljs-string">&#x27;#s-top-left&gt;a&#x27;</span>).<span class="hljs-built_in">filter</span>(has_text=<span class="hljs-string">&quot;æ–°é—»&quot;</span>).click()<br>    page.locator(<span class="hljs-string">&#x27;#s-top-left&gt;a&#x27;</span>, has_text=<span class="hljs-string">&quot;æ–°é—»&quot;</span>).click()<br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)<br><br>    page.get_by_role(<span class="hljs-string">&quot;listitem&quot;</span>).<span class="hljs-built_in">filter</span>(has_text=re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">&#x27;1&#x27;</span>)).click()<br>    expect(<br>        page.get_by_role(<span class="hljs-string">&quot;listitem&quot;</span>).<span class="hljs-built_in">filter</span>(has_text=<span class="hljs-string">&quot;1&quot;</span>)<br>    ).to_have_count(<span class="hljs-number">1</span>)                                          <span class="hljs-comment"># æ–­è¨€æ˜¯å¦èƒ½å®šä½åˆ°å…ƒç´ </span><br>    page.get_by_role(<span class="hljs-string">&quot;listitem&quot;</span>).<span class="hljs-built_in">filter</span>(has_text=<span class="hljs-string">&quot;1&quot;</span>).click()   <span class="hljs-comment"># å¯¹äºul-liå…ƒç´ </span><br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)                                 <span class="hljs-comment"># å¯ç”¨listitemè§’è‰²å®šä½æ–¹å¼</span><br><br>    locate = page.get_by_role(<span class="hljs-string">&quot;listitem&quot;</span>).<span class="hljs-built_in">filter</span>(has_text=<span class="hljs-string">&quot;1&quot;</span>)<br>    locate.click()                                              <span class="hljs-comment"># é“¾å¼å®šä½</span><br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)<br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h4 id="2-get-by-role"><a href="#2-get-by-role" class="headerlink" title="(2) get_by_role()"></a>(2) get_by_role()</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-comment">&lt;!-- get_by_role.html --&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>get_by_role<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">myFunction</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">var</span> x;</span><br><span class="language-javascript">            <span class="hljs-keyword">var</span> person = <span class="hljs-title function_">prompt</span>(<span class="hljs-string">&quot;è¯·è¾“å…¥ä½ çš„åå­—ï¼š&quot;</span>, <span class="hljs-string">&quot;&quot;</span>);</span><br><span class="language-javascript">            <span class="hljs-keyword">if</span> (person != <span class="hljs-literal">null</span> &amp;&amp; person != <span class="hljs-string">&quot;&quot;</span>) &#123;</span><br><span class="language-javascript">                x = <span class="hljs-string">&quot;ä½ å¥½ï¼Œ&quot;</span> + person + <span class="hljs-string">&quot;ï¼ä»Šå¤©æ„Ÿè§‰å¦‚ä½•ï¼Ÿ&quot;</span>;</span><br><span class="language-javascript">                <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;demo&quot;</span>).<span class="hljs-property">innerHTML</span> = x;</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align: center;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ç‚¹å‡»æŒ‰é’®æŸ¥çœ‹è¾“å…¥çš„å¯¹è¯æ¡†ã€‚<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;myFunction()&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 195px; height: 40px;&quot;</span>&gt;</span>ç‚¹æˆ‘<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;demo&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- page.get_by_role(&quot;button&quot;, name=&quot;ç‚¹æˆ‘&quot;).click() --&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- # ä¸¤æ¬¡å®šä½ä¹‹é—´å‘ç”Ÿäº†DOMçš„é‡æ–°æ¸²æŸ“ï¼Œå®šä½å™¨å°†ä½¿ç”¨æœ€æ–°åŒ¹é…å…ƒç´ ï¼Œå¯é¿å…ä½¿ç”¨è¿‡æ—¶çš„å…ƒç´  --&gt;</span><br>    <span class="hljs-comment">&lt;!-- locator = page.get_by_role(&quot;button&quot;, name=&quot;ç‚¹æˆ‘&quot;) --&gt;</span><br>    <span class="hljs-comment">&lt;!-- # hoveræ‚¬åœåœ¨å®šä½å™¨æŒ‡å‘çš„å…ƒç´ ä¸Šï¼Œclickç‚¹å‡»å®šä½å™¨æ‰€æŒ‡å‘çš„å…ƒç´  --&gt;</span><br>    <span class="hljs-comment">&lt;!-- locator.hover() --&gt;</span><br>    <span class="hljs-comment">&lt;!-- locator.click() --&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- locator = page.locator(&quot;body&quot;).get_by_role(&quot;button&quot;, name=&quot;ç‚¹æˆ‘&quot;) --&gt;</span><br>    <span class="hljs-comment">&lt;!-- locator.click() --&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>ç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> /&gt;</span>ç”¨æˆ·<br>        <span class="hljs-comment">&lt;!-- &lt;input type=&quot;checkbox&quot; /&gt;æ¸¸å®¢ --&gt;</span><span class="hljs-comment">&lt;!-- è‹¥å¤šä¸ªinputå†™ä¸€èµ·ï¼Œåˆ™åªè¿”å›ç¬¬ä¸€ä¸ª --&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> /&gt;</span>æ¸¸å®¢<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>æäº¤<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- # éªŒè¯é¡µé¢æ˜¯å¦æ­£ç¡®page.check(&#x27;input[name=&quot;æ¸¸å®¢&quot;]&#x27;)æ˜¾ç¤º&quot;ç™»å½•&quot;æ ‡é¢˜çš„æ–­è¨€è¯­å¥ --&gt;</span><br>    <span class="hljs-comment">&lt;!-- expect(page.get_by_role(&quot;heading&quot;, name=&quot;ç™»å½•&quot;)).to_be_visible() --&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- # æ¨¡æ‹Ÿé€‰æ‹©è®¢é˜…é€‰é¡¹ï¼ˆåªè¿”å›åŒ¹é…çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼‰ --&gt;</span><br>    <span class="hljs-comment">&lt;!-- page.get_by_role(&quot;checkbox&quot;, name=&quot;æ¸¸å®¢&quot;).check() --&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- # æ¨¡æ‹Ÿç‚¹å‡»æäº¤æŒ‰é’®ï¼Œç»“åˆæ­£åˆ™è¡¨è¾¾å¼å®šä½è§’è‰²ä¸ºbuttonä¸”åç§°åŒ…å«&quot;æäº¤&quot;çš„å…ƒç´ ï¼Œç„¶åç‚¹å‡»è¯¥æŒ‰é’® --&gt;</span><br>    <span class="hljs-comment">&lt;!-- page.get_by_role(&quot;button&quot;, name=re.compile(&quot;æäº¤&quot;, re.IGNORECASE)).click() --&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="3-get-by-text"><a href="#3-get-by-text" class="headerlink" title="(3) get_by_text()"></a>(3) get_by_text()</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-comment">&lt;!-- get_by_text.html --&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>get_by_text<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align: center;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>æ¬¢è¿è®¿é—®ï¼Œå¼ ä¸‰ï¼<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>This is a <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;color: blue;&quot;</span>&gt;</span>blue<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span> text.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- # é€šè¿‡å­—ç¬¦ä¸²åŒ¹é… --&gt;</span><br>    <span class="hljs-comment">&lt;!-- expect(page.get_by_text(&quot;æ¬¢è¿è®¿é—®ï¼Œå¼ ä¸‰ï¼&quot;)).to_be_visible() --&gt;</span><br>    <br>    <span class="hljs-comment">&lt;!-- # ç²¾ç¡®åŒ¹é… --&gt;</span><br>    <span class="hljs-comment">&lt;!-- expect(page.get_by_text(&quot;æ¬¢è¿è®¿é—®ï¼Œå¼ ä¸‰ï¼&quot;, exact=True)).to_be_visible() --&gt;</span><br>    <br>    <span class="hljs-comment">&lt;!-- # æ­£åˆ™è¡¨è¾¾å¼åŒ¹é… --&gt;</span><br>    <span class="hljs-comment">&lt;!-- expect(page.get_by_text(re.compile(&quot;æ¬¢è¿è®¿é—®ï¼Œå¼ ä¸‰ï¼&quot;, re.IGNORECASE))).to_be_visible() --&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="4-get-by-title"><a href="#4-get-by-title" class="headerlink" title="(4) get_by_title()"></a>(4) get_by_title()</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-comment">&lt;!-- get_by_title.html --&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>get_by_title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align: center;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>æ¬¢è¿è®¿é—®ï¼Œå¼ ä¸‰ï¼<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">title</span>=<span class="hljs-string">&quot;è¯é¢˜æ•°&quot;</span>&gt;</span>27ä¸ªè¯é¢˜<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- # æ‰¾åˆ°å…·æœ‰åŒ¹é…titleå±æ€§çš„å…ƒç´  --&gt;</span><br>    <span class="hljs-comment">&lt;!-- expect(page.get_by_title(&quot;è¯é¢˜æ•°&quot;)).to_have_text(&quot;27ä¸ªè¯é¢˜&quot;) --&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="5-get-by-label"><a href="#5-get-by-label" class="headerlink" title="(5) get_by_label()"></a>(5) get_by_label()</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-comment">&lt;!-- get_by_label.html --&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>get_by_label<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align: center;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>ç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>ç”¨æˆ· <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;username&quot;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>å¯†ç  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;password&quot;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>    <br>    <span class="hljs-comment">&lt;!-- # é€šè¿‡æ ‡ç­¾æ–‡æœ¬å®šä½åå¡«å†™è¾“å…¥ --&gt;</span><br>    <span class="hljs-comment">&lt;!-- page.get_by_label(&quot;ç”¨æˆ·&quot;).fill(&quot;zhangs&quot;) --&gt;</span><br>    <span class="hljs-comment">&lt;!-- page.get_by_label(&quot;å¯†ç &quot;).fill(&quot;secret&quot;) --&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="6-get-by-test-id"><a href="#6-get-by-test-id" class="headerlink" title="(6) get_by_test_id()"></a>(6) get_by_test_id()</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-comment">&lt;!-- get_by_test_id.html --&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>get_by_test_id<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">    <span class="hljs-selector-tag">table</span> &#123;</span><br><span class="language-css">        <span class="hljs-attribute">display</span>: flex; <span class="hljs-attribute">justify-content</span>: center;</span><br><span class="language-css">        <span class="hljs-attribute">align-items</span>: center; <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">    &#125;</span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align: center;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">data-testid</span>=<span class="hljs-string">&quot;test_id&quot;</span>&gt;</span>è¡Œç¨‹è¡¨<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>    <br>    <span class="hljs-comment">&lt;!-- # é€šè¿‡æµ‹è¯•IDæ‰¾åˆ°è¯¥å…ƒç´  --&gt;</span><br>    <span class="hljs-comment">&lt;!-- page.get_by_test_id(&quot;test_id&quot;).click() --&gt;</span><br>    <br>    <span class="hljs-tag">&lt;<span class="hljs-name">table</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>æ—¶é—´<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span><span class="hljs-symbol">&amp;emsp;</span>è¡Œç¨‹<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>04ï¼š00<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-symbol">&amp;emsp;</span>çˆ¬å±±çœ‹æ—¥å‡º<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>17ï¼š30<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-symbol">&amp;emsp;</span>æµ·æ»©è¾¹çƒ§çƒ¤<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="7-get-by-alt-text"><a href="#7-get-by-alt-text" class="headerlink" title="(7) get_by_alt_text()"></a>(7) get_by_alt_text()</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-comment">&lt;!-- get_by_alt_text.html --&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>get_by_alt_text<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align: center;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å›¾ç‰‡<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;http://mtw.so/5NabrQ&quot;</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;baidu_logo&quot;</span>&gt;</span><br>    <br>    <span class="hljs-comment">&lt;!-- # é€šè¿‡æ–‡æœ¬é€‰é¡¹æ‰¾åˆ°å›¾åƒåå•å‡» --&gt;</span><br>    <span class="hljs-comment">&lt;!-- page.get_by_alt_text(&quot;baidu_logo&quot;).click() --&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="8-get-by-placeholder"><a href="#8-get-by-placeholder" class="headerlink" title="(8) get_by_placeholder()"></a>(8) get_by_placeholder()</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-comment">&lt;!-- get_by_placeholder.html --&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>get_by_placeholder<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align: center;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>é‚®ç®±<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;email&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;name@example.com&quot;</span> <span class="hljs-attr">required</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- # é€šè¿‡å ä½ç¬¦æ–‡æœ¬å®šä½åå¡«å……è¾“å…¥ --&gt;</span><br>    <span class="hljs-comment">&lt;!-- page.get_by_placeholder(&quot;name@example.com&quot;).fill(&quot;playwright@microsoft.com&quot;) --&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="2-3-è¾“å…¥æ–‡å­—"><a href="#2-3-è¾“å…¥æ–‡å­—" class="headerlink" title="2-3 è¾“å…¥æ–‡å­—"></a>2-3 è¾“å…¥æ–‡å­—</h2><ul><li>è¾“å…¥æ–‡å­—<ul><li><code>locator.fill()</code>æ˜¯å¡«å†™è¡¨å•å­—æ®µçš„æœ€ç®€å•æ–¹æ³•ï¼Œé€‚ç”¨äº<code>&lt;input&gt;</code>ã€<code>&lt;textarea&gt;</code>ã€<code>[contenteditable]</code>ã€‚</li><li>å¤§å¤šæ—¶å€™ï¼Œ<code>locator.fill()</code>ä¼šæ­£å¸¸å·¥ä½œï¼Œå¦‚æœé¡µé¢ä¸Šæœ‰ç‰¹æ®Šçš„é”®ç›˜å¤„ç†ï¼Œåªéœ€è¦ä½¿ç”¨<code>locator.type()</code>ã€‚</li></ul></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-comment">&lt;!-- input_text.html --&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>input_text<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align: center;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>è¾“å…¥æ–‡æœ¬<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;dateInput&quot;</span>&gt;</span>æ—¥<span class="hljs-symbol">&amp;emsp;</span><span class="hljs-symbol">&amp;emsp;</span>æœŸ<span class="hljs-symbol">&amp;emsp;</span><span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;date&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;dateInput&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;dateInput&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 180px;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;timeInput&quot;</span>&gt;</span>æ—¶<span class="hljs-symbol">&amp;emsp;</span><span class="hljs-symbol">&amp;emsp;</span>é—´<span class="hljs-symbol">&amp;emsp;</span><span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;time&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;timeInput&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;timeInput&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 180px;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;datetimeInput&quot;</span>&gt;</span>æ—¥æœŸæ—¶é—´<span class="hljs-symbol">&amp;emsp;</span><span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;datetime-local&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;datetimeInput&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;datetimeInput&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 180px;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>å›ºå®šæ–‡æœ¬<span class="hljs-symbol">&amp;emsp;</span><span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;textbox&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 180px;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;textareaElement&quot;</span>&gt;</span>ä¼¸ç¼©æ–‡æœ¬<span class="hljs-symbol">&amp;emsp;</span><span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">textarea</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;textareaElement&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;textareaElement&quot;</span> <span class="hljs-attr">rows</span>=<span class="hljs-string">&quot;3&quot;</span> <span class="hljs-attr">cols</span>=<span class="hljs-string">&quot;26&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">textarea</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;contenteditableElement&quot;</span>&gt;</span>å¯ç¼–è¾‘å…ƒç´ <span class="hljs-symbol">&amp;emsp;</span><span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;contenteditableElement&quot;</span> <span class="hljs-attr">contenteditable</span>=<span class="hljs-string">&quot;true&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="1-åŒæ­¥è¾“å…¥"><a href="#1-åŒæ­¥è¾“å…¥" class="headerlink" title="(1) åŒæ­¥è¾“å…¥"></a>(1) åŒæ­¥è¾“å…¥</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)   <span class="hljs-comment"># å¯åŠ¨chromiumæµè§ˆå™¨</span><br>    page = browser.new_page()                                   <span class="hljs-comment"># æ‰“å¼€ä¸€ä¸ªæ ‡ç­¾é¡µ</span><br>    page.goto(<span class="hljs-string">r&#x27;.../input_text.html&#x27;</span>)                           <span class="hljs-comment"># input_text.htmlæ–‡ä»¶è·¯å¾„</span><br>    <span class="hljs-built_in">print</span>(page.title())                                         <span class="hljs-comment"># æ‰“å°å½“å‰é¡µé¢title</span><br><br>    page.fill(<span class="hljs-string">&quot;#dateInput&quot;</span>, <span class="hljs-string">&quot;2023-02-03&quot;</span>)<br>    page.fill(<span class="hljs-string">&quot;#timeInput&quot;</span>, <span class="hljs-string">&quot;21:21&quot;</span>)<br>    page.fill(<span class="hljs-string">&quot;#datetimeInput&quot;</span>, <span class="hljs-string">&quot;2023-02-03T21:21&quot;</span>)<br>    page.fill(<span class="hljs-string">&quot;input[type=&#x27;textbox&#x27;]&quot;</span>, <span class="hljs-string">&quot;å›ºå®šæ–‡æœ¬è¾“å…¥å†…å®¹&quot;</span>)<br>    page.fill(<span class="hljs-string">&quot;#textareaElement&quot;</span>, <span class="hljs-string">&quot;ä¼¸ç¼©æ–‡æœ¬è¾“å…¥å†…å®¹&quot;</span>)<br>    page.<span class="hljs-built_in">type</span>(<span class="hljs-string">&quot;#contenteditableElement&quot;</span>, <span class="hljs-string">&quot;å¯ç¼–è¾‘å…ƒç´ è¾“å…¥å†…å®¹&quot;</span>)<br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)<br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h4 id="2-å¼‚æ­¥è¾“å…¥"><a href="#2-å¼‚æ­¥è¾“å…¥" class="headerlink" title="(2) å¼‚æ­¥è¾“å…¥"></a>(2) å¼‚æ­¥è¾“å…¥</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> asyncio<br><span class="hljs-keyword">from</span> playwright.async_api <span class="hljs-keyword">import</span> async_playwright<br><br><br><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():<br>    <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> async_playwright() <span class="hljs-keyword">as</span> p:<br>        browser = <span class="hljs-keyword">await</span> p.chromium.launch(headless=<span class="hljs-literal">False</span>)<br>        page = <span class="hljs-keyword">await</span> browser.new_page()                         <span class="hljs-comment"># æ‰“å¼€ä¸€ä¸ªæ ‡ç­¾é¡µ</span><br>        <span class="hljs-keyword">await</span> page.goto(<span class="hljs-string">r&#x27;.../input_text.html&#x27;</span>)                 <span class="hljs-comment"># input_text.htmlæ–‡ä»¶è·¯å¾„</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-keyword">await</span> page.title())                               <span class="hljs-comment"># æ‰“å°å½“å‰é¡µé¢title</span><br>        <span class="hljs-keyword">await</span> page.wait_for_timeout(<span class="hljs-number">3000</span>)<br><br>        <span class="hljs-keyword">await</span> page.fill(<span class="hljs-string">&quot;#dateInput&quot;</span>, <span class="hljs-string">&quot;2023-02-03&quot;</span>)<br>        <span class="hljs-keyword">await</span> page.fill(<span class="hljs-string">&quot;#timeInput&quot;</span>, <span class="hljs-string">&quot;21:21&quot;</span>)<br>        <span class="hljs-keyword">await</span> page.fill(<span class="hljs-string">&quot;#datetimeInput&quot;</span>, <span class="hljs-string">&quot;2023-02-03T21:21&quot;</span>)<br>        <span class="hljs-keyword">await</span> page.fill(<span class="hljs-string">&quot;input[type=&#x27;textbox&#x27;]&quot;</span>, <span class="hljs-string">&quot;å›ºå®šæ–‡æœ¬è¾“å…¥å†…å®¹&quot;</span>)<br>        <span class="hljs-keyword">await</span> page.fill(<span class="hljs-string">&quot;#textareaElement&quot;</span>, <span class="hljs-string">&quot;ä¼¸ç¼©æ–‡æœ¬è¾“å…¥å†…å®¹&quot;</span>)<br>        <span class="hljs-keyword">await</span> page.<span class="hljs-built_in">type</span>(<span class="hljs-string">&quot;#contenteditableElement&quot;</span>, <span class="hljs-string">&quot;å¯ç¼–è¾‘å…ƒç´ è¾“å…¥å†…å®¹&quot;</span>)<br>        <span class="hljs-keyword">await</span> page.wait_for_timeout(<span class="hljs-number">3000</span>)<br><br>        <span class="hljs-keyword">await</span> browser.close()                                   <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br><br>asyncio.run(main())<br></code></pre></td></tr></table></figure><h2 id="2-4-é¼ æ ‡ç‚¹å‡»"><a href="#2-4-é¼ æ ‡ç‚¹å‡»" class="headerlink" title="2-4 é¼ æ ‡ç‚¹å‡»*"></a>2-4 é¼ æ ‡ç‚¹å‡»*</h2><ul><li>é¼ æ ‡ç‚¹å‡»<ul><li><code>locator.click()</code>(å•å‡»)ã€<code>locator.dbclick()</code>(åŒå‡»)ã€<code>locator.click(button=&quot;right&quot;)</code>(å³å‡»)ã€‚</li><li><code>locator.click(modifiers=[&quot;Shift&quot;])</code>(Shift+é¼ æ ‡å·¦é”®å•å‡»æ“ä½œ)ã€<code>locator.hover()</code>(é¼ æ ‡æ‚¬åœ)ã€‚</li><li><code>locator.click(position=&#123; &quot;x&quot;: 0, &quot;y&quot;: 0&#125;)</code>(æ¨¡æ‹Ÿåœ¨æŒ‡å®šåæ ‡ä½ç½®å¤„ï¼Œè¿›è¡Œé¼ æ ‡å·¦é”®ç‚¹å‡»çš„æ“ä½œ)ã€‚</li><li>ç›¸æ¯”Seleniumï¼Œä¸ç”¨è‡ªå®šä¹‰è½®è¯¢ç­‰å¾…ï¼Œä¸ç”¨åˆ¤æ–­å…ƒç´ æ˜¯å¦éšè—ï¼Œå…ƒç´ åœ¨è§†å›¾ä¸­ä¹Ÿä¸éœ€è¦æ‰‹åŠ¨è®¾ç½®æ»šåŠ¨ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright                 <span class="hljs-comment"># syncåŒæ­¥è¿è¡Œ</span><br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>)                 <span class="hljs-comment"># å¯åŠ¨chromiumæµè§ˆå™¨</span><br>    page = browser.new_page()                                   <span class="hljs-comment"># æ‰“å¼€ä¸€ä¸ªæ ‡ç­¾é¡µ</span><br>    page.goto(<span class="hljs-string">&#x27;https://www.baidu.com&#x27;</span>)                          <span class="hljs-comment"># æ‰“å¼€ç™¾åº¦åœ°å€</span><br>    <span class="hljs-built_in">print</span>(page.title())                                         <span class="hljs-comment"># æ‰“å°å½“å‰é¡µé¢title</span><br>    page.get_by_text(<span class="hljs-string">&quot;æ¢ä¸€æ¢&quot;</span>).click()<br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)                                 <span class="hljs-comment"># å•å‡»</span><br>    page.get_by_text(<span class="hljs-string">&quot;æ¢ä¸€æ¢&quot;</span>).dblclick()<br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)                                 <span class="hljs-comment"># åŒå‡»</span><br>    page.get_by_text(<span class="hljs-string">&quot;æ¢ä¸€æ¢&quot;</span>).click(button=<span class="hljs-string">&quot;right&quot;</span>)<br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)                                 <span class="hljs-comment"># å³å‡»</span><br><br>    page.locator(<span class="hljs-string">&#x27;//*[@id=&quot;s-top-left&quot;]/div/a&#x27;</span>).hover()         <span class="hljs-comment"># é¼ æ ‡æ‚¬åœåœ¨â€œæ›´å¤šâ€ä¸Š</span><br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)<br>    element = page.wait_for_selector(<span class="hljs-string">&#x27;//*[@id=&quot;s-usersetting-top&quot;]&#x27;</span>)<br>    bounding_box = element.bounding_box()                       <span class="hljs-comment"># è·å–å…ƒç´ çš„è¾¹ç•Œæ¡†ä¿¡æ¯</span><br>    x = bounding_box[<span class="hljs-string">&#x27;x&#x27;</span>] + bounding_box[<span class="hljs-string">&#x27;width&#x27;</span>] // <span class="hljs-number">2</span>          <span class="hljs-comment"># è®¡ç®—é¼ æ ‡ç‚¹å‡»çš„xå’Œyåæ ‡</span><br>    y = bounding_box[<span class="hljs-string">&#x27;y&#x27;</span>] + bounding_box[<span class="hljs-string">&#x27;height&#x27;</span>] // <span class="hljs-number">2</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;xåæ ‡ï¼š&quot;</span>, x, <span class="hljs-string">&quot;\nyåæ ‡ï¼š&quot;</span>, y)<br>    <span class="hljs-comment"># element.click(position=&#123;&quot;x&quot;: x, &quot;y&quot;: y&#125;)                  # é¼ æ ‡ç‚¹å‡»å…ƒç´ çš„æŒ‡å®šä½ç½®ï¼ŒæŠ¥é”™</span><br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)<br>    page.click(<span class="hljs-string">&#x27;text=æ›´å¤š&#x27;</span>, modifiers=[<span class="hljs-string">&quot;Shift&quot;</span>])<br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)                                 <span class="hljs-comment"># Shift+é¼ æ ‡å·¦é”®å•å‡»</span><br><br>    <span class="hljs-comment"># ã€æ»šåŠ¨åˆ°å…ƒç´ ä½ç½®ã€‘ä»¥ä¸‹æ“ä½œæ²¡è¿›è¡Œé¡µé¢åˆ‡æ¢ï¼Œéœ€ç”¨æˆ·æ‰‹åŠ¨åˆ‡æ¢æ‰èƒ½çœ‹åˆ°æ•ˆæœ(ç‚¹å‡»ç™¾åº¦æ›´å¤šè·³åˆ°æ–°æ ‡ç­¾é¡µäº†)</span><br>    page.goto(<span class="hljs-string">&quot;https://www.runoob.com/&quot;</span>)<br>    page.get_by_text(<span class="hljs-string">&#x27;ã€å­¦ä¹  W3Cã€‘&#x27;</span>).click()<br>    page.wait_for_timeout(<span class="hljs-number">5000</span>)                                 <span class="hljs-comment"># click()ç‚¹å‡»æ—¶è‡ªåŠ¨æ»šåŠ¨</span><br>    page.goto(<span class="hljs-string">&quot;https://www.runoob.com/&quot;</span>)<br>    page.get_by_text(<span class="hljs-string">&#x27;ã€å­¦ä¹  Dockerã€‘&#x27;</span>).scroll_into_view_if_needed()<br>    page.wait_for_timeout(<span class="hljs-number">5000</span>)                                 <span class="hljs-comment"># æ»šåŠ¨å…ƒç´ åˆ°å±å¹•å¯è§†çª—å£</span><br>    page.goto(<span class="hljs-string">&quot;https://www.runoob.com/&quot;</span>)<br>    page.get_by_text(<span class="hljs-string">&#x27;ã€å­¦ä¹  JavaScriptã€‘&#x27;</span>).hover()<br>    page.wait_for_timeout(<span class="hljs-number">5000</span>)                                 <span class="hljs-comment"># hover()æ–¹æ³•å°†é¼ æ ‡æ”¾åˆ°å…ƒç´ ä¸Š</span><br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h2 id="2-5-æ‹–æ”¾æ“ä½œ"><a href="#2-5-æ‹–æ”¾æ“ä½œ" class="headerlink" title="2-5 æ‹–æ”¾æ“ä½œ"></a>2-5 æ‹–æ”¾æ“ä½œ</h2><ul><li>æ‹–æ”¾æ“ä½œ<ul><li>ä½¿ç”¨<code>locator.drag_to()</code>æ‰§è¡Œæ‹–æ”¾æ“ä½œï¼Œéœ€è¦è¿›è¡Œå¦‚ä¸‹æ­¥éª¤ã€‚<ul><li>å°†é¼ æ ‡æ‚¬åœåœ¨è¦æ‹–åŠ¨çš„å…ƒç´ ä¸Šï¼ŒæŒ‰ä½é¼ æ ‡å·¦é”®ä¸æ”¾ã€‚</li><li>å°†é¼ æ ‡ç§»åŠ¨åˆ°å°†æ¥æ”¶æ”¾ç½®çš„å…ƒç´ ä¸Šï¼Œæ¾å¼€é¼ æ ‡å·¦é”®ã€‚</li></ul></li><li>å¦‚æœæƒ³è¦ç²¾ç¡®åœ°æ§åˆ¶æ‹–æ”¾æ“ä½œï¼Œéœ€ä½¿ç”¨å¦‚ä¸‹è¾ƒä½çº§åˆ«çš„æ–¹æ³•ã€‚<ul><li><code>page.locator(selector).hover()</code>ï¼šæ‚¬åœåœ¨é¡µé¢å…ƒç´ ä¸Šã€‚</li><li><code>page.mouse.down()</code>æŒ‰ä¸‹é¼ æ ‡ï¼Œ<code>button=&quot;middle&quot;</code>æŒ‰ä½é¼ æ ‡çš„ä¸­é—´ä½ç½®ï¼Œ<code>page.mouse.up()</code>é‡Šæ”¾é¼ æ ‡ã€‚</li><li><code>page.mouse.move()</code>æŠŠé¼ æ ‡æ”¾åˆ°æŒ‡å®šçš„xå’Œyåæ ‡ä½ç½®(å³ç»å¯¹åæ ‡ä½ç½®ï¼Œseleniumä½¿ç”¨ç›¸å¯¹åç§»ä½ç½®)ã€‚</li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)   <span class="hljs-comment"># å¯åŠ¨chromiumæµè§ˆå™¨</span><br>    page = browser.new_page()                                   <span class="hljs-comment"># æ‰“å¼€ä¸€ä¸ªæ ‡ç­¾é¡µ</span><br>    page.goto(<span class="hljs-string">&#x27;https://www.baidu.com/&#x27;</span>)                         <span class="hljs-comment"># æ‰“å¼€ç™¾åº¦é¦–é¡µ</span><br>    <span class="hljs-built_in">print</span>(page.title())                                         <span class="hljs-comment"># æ‰“å°å½“å‰é¡µé¢title</span><br><br>    <span class="hljs-comment"># page.locator(&quot;#u1 &gt; div.ai-entry-right.ai-entry-right-nologin &gt; img&quot;).drag_to(</span><br>    <span class="hljs-comment">#     page.locator(&quot;#kw&quot;)</span><br>    <span class="hljs-comment"># )</span><br>    page.locator(<span class="hljs-string">&#x27;//*[@id=&quot;s-hotsearch-wrapper&quot;]/div/a[1]/div/i[1]&#x27;</span>).hover()<br>    page.mouse.down()                                           <span class="hljs-comment"># æŒ‰ä¸‹é¼ æ ‡</span><br>    <span class="hljs-comment"># page.mouse.down(button=&quot;middle&quot;)</span><br>    page.locator(<span class="hljs-string">&quot;#kw&quot;</span>).hover()<br>    page.mouse.up()                                             <span class="hljs-comment"># é‡Šæ”¾é¼ æ ‡</span><br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)<br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h2 id="2-6-iframeå®šä½"><a href="#2-6-iframeå®šä½" class="headerlink" title="2-6 iframeå®šä½"></a>2-6 iframeå®šä½</h2><ul><li>iframeå®šä½<ul><li>iframeå³ä¸€ä¸ªhtmlåµŒå¥—äº†å¦ä¸€ä¸ªhtmlï¼Œæœ€ç®€å•çš„è¯†åˆ«æ–¹æ³•å°±æ˜¯çœ‹å®šä½å…ƒç´ å¤–å±‚æœ‰æ²¡iframeæ ‡ç­¾åã€‚</li><li>frameä¸iframeéƒ½ç”¨äºè¡¨ç¤ºé¡µé¢æ¡†æ¶ï¼Œiframeç‰¹æŒ‡åµŒå…¥å¼æ¡†æ¶ï¼Œè€Œframeå¯ä»¥è¡¨ç¤ºä¸»æ¡†æ¶æˆ–å­æ¡†æ¶ã€‚<ul><li><code>page.main_frame</code>ï¼šè·å–pageå¯¹è±¡æœ¬èº«çš„frameå¯¹è±¡ã€‚</li><li><code>frame.child_frames</code>ï¼šè·å–frameä¸‹çš„å­frameå¯¹è±¡ã€‚</li><li><code>page.frames</code>ï¼šè·å–pageå¯¹è±¡å…¨éƒ¨iframesï¼ŒåŒ…å«pageæœ¬èº«çš„frameå¯¹è±¡ã€‚</li></ul></li><li><code>page.frame_locator(selector)</code>ï¼šä»…æŸ¥æ‰¾é¡µé¢ä¸­ï¼Œç¬¬ä¸€ä¸ªåŒ¹é…çš„frameå¯¹è±¡ã€‚<ul><li><code>frame_locator().first</code>ï¼šå®šä½å¤šä¸ªæ—¶ï¼ŒåŒ¹é…ç¬¬ä¸€ä¸ªã€‚</li><li><code>frame_locator().last</code>ï¼šå®šä½å¤šä¸ªæ—¶ï¼Œè¿”å›æœ€åä¸€ä¸ªã€‚</li><li><code>frame_locator().nth(index)</code>ï¼šå®šä½å¤šä¸ªæ—¶è¿›è¡Œç´¢å¼•ã€‚</li></ul></li><li><code>page.locator(selector).frame_locator(selector)</code>ï¼šå…è®¸åœ¨æŒ‡å®šframeå†…æŸ¥æ‰¾å…ƒç´ ï¼Œå¯æ“ä½œå¤šä¸ªframeã€‚</li><li><code>page.frame(name, url)</code>ï¼šé€šè¿‡pageå¯¹è±¡ç›´æ¥å®šä½iframeå¯¹è±¡ï¼Œä¼ å…¥nameå‚æ•°æˆ–ä¼ å…¥urlå‚æ•°ï¼Œè¯´æ˜å¦‚ä¸‹ã€‚<ul><li>nameå±æ€§ä¸èƒ½æ¨¡ç³ŠåŒ¹é…ï¼Œåªèƒ½ç²¾ç¡®åŒ¹é…å­—ç¬¦ä¸²ã€‚</li><li>iframeæ²¡æœ‰nameå±æ€§æ—¶ï¼Œå¯ä»¥ä½¿ç”¨idå±æ€§æ¥å®šä½ã€‚</li><li>urlå±æ€§å€¼ï¼Œå³é¡µé¢ä¸Šçœ‹åˆ°çš„srcå±æ€§ï¼Œæ”¯æŒæ¨¡ç³ŠåŒ¹é…ã€‚</li><li>iframeä¸Šçš„åŠ¨æ€idéå›ºå®šï¼Œå¯ä½¿ç”¨cssçš„æ­£åˆ™åŒ¹é…å…ƒç´ å±æ€§ï¼Œä¹Ÿå¯ä½¿ç”¨xpathçš„containsåŒ…å«å…ƒç´ å±æ€§ã€‚<ul><li><code>$(&#39;[name^=&quot;value&quot;]&#39;)</code>ï¼šåŒ¹é…nameä»¥valueå¼€å¤´çš„å…ƒç´ ã€‚</li><li><code>$(&#39;[name$=&quot;value&quot;]&#39;)</code>ï¼šåŒ¹é…nameä»¥valueç»“å°¾çš„å…ƒç´ ã€‚</li><li><code>$(&#39;[class*=&quot;value&quot;]&#39;)</code>ï¼šåŒ¹é…classå±æ€§åŒ…å«valueçš„å…ƒç´ ã€‚</li></ul></li><li><code>page.frame()</code>ï¼šè¿”å›çš„å¯¹è±¡èƒ½ç›´æ¥ä½¿ç”¨<code>fill()</code>å’Œ<code>click</code>æ–¹æ³•ã€‚</li><li><code>page.frame_locator(selector)</code>ï¼šè¿”å›çš„å¯¹è±¡åªèƒ½ç”¨<code>locator()</code>æ–¹æ³•å®šä½å…ƒç´ ï¼Œç„¶å<code>click()</code>ç­‰æ“ä½œã€‚</li></ul></li><li><code>page.query_selector(selector).content_frame()</code>ï¼šé€šè¿‡query_selectorå®šä½å…ƒç´ ï¼Œå†åˆ‡æ¢åˆ°iframeå¯¹è±¡ä¸Šã€‚</li><li>å¤šå±‚iframeéœ€ä¸€å±‚ä¸€å±‚å®šä½ï¼Œè‹¥éœ€è¦åœ¨iframeä¸Šæ‰§è¡Œjsä»£ç ï¼Œå¿…é¡»ä½¿ç”¨<code>page.frame()</code>æ–¹æ³•å®šä½åˆ°iframeå¯¹è±¡ã€‚</li><li>æ‰æœ‰<code>iframe.evaluate(js)</code>æ–¹æ³•æ‰§è¡Œjsï¼Œè€Œ<code>page.frame_locator()</code>æ–¹æ³•åªèƒ½å®šä½æ“ä½œå…ƒç´ ï¼Œæ²¡æœ‰æ‰§è¡Œjsçš„æ–¹æ³•ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">dump_frame_tree</span>(<span class="hljs-params">frame, indent</span>):                             <span class="hljs-comment"># æ‰“å°æµè§ˆå™¨ä¸­çš„å¸§æ ‘ç»“æ„</span><br>    <span class="hljs-built_in">print</span>(indent + frame.name + <span class="hljs-string">&#x27;@&#x27;</span> + frame.url)                <span class="hljs-comment"># æ‰“å°å½“å‰å¸§çš„åç§°å’ŒURL</span><br>    <span class="hljs-keyword">for</span> child <span class="hljs-keyword">in</span> frame.child_frames:                            <span class="hljs-comment"># indentç”¨æ¥ç¡®å®šç¼©è¿›çº§åˆ«</span><br>        dump_frame_tree(child, indent + <span class="hljs-string">&quot;    &quot;</span>)<br><br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)   <span class="hljs-comment"># å¯åŠ¨chromiumæµè§ˆå™¨</span><br>    page = browser.new_page()                                   <span class="hljs-comment"># æ‰“å¼€ä¸€ä¸ªæ ‡ç­¾é¡µ</span><br>    page.goto(<span class="hljs-string">&quot;https://account.cnblogs.com/signin&quot;</span>)<br><br>    dump_frame_tree(page.main_frame, <span class="hljs-string">&quot;&quot;</span>)                        <span class="hljs-comment"># çœ‹å±‚çº§ç»“æ„ï¼Œè¿™é‡Œæœ‰ä¸‰å±‚</span><br>    <span class="hljs-built_in">print</span>(page.main_frame)                                      <span class="hljs-comment"># è·å–pageå¯¹è±¡æœ¬èº«çš„frameå¯¹è±¡</span><br>    <span class="hljs-built_in">print</span>(page.frames)                                          <span class="hljs-comment"># è·å–pageå¯¹è±¡å…¨éƒ¨çš„frames</span><br>    <span class="hljs-built_in">print</span>(page.main_frame.child_frames)                         <span class="hljs-comment"># è·å–pageå¯¹è±¡çš„å­frameå¯¹è±¡</span><br><br>    page.goto(<span class="hljs-string">&quot;https://mail.163.com/&quot;</span>)<br>    <span class="hljs-built_in">print</span>(page.frames)<br>    <span class="hljs-keyword">for</span> f <span class="hljs-keyword">in</span> page.frames:<br>        <span class="hljs-built_in">print</span>(f)                                                <span class="hljs-comment"># è·å–å…¨éƒ¨çš„iframes</span><br>        <span class="hljs-built_in">print</span>(f.name)<br>        <span class="hljs-built_in">print</span>(f.url)<br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)<br><br>    <span class="hljs-comment"># iframe = page.frame_locator(&quot;iframe[id^=x-URS-iframe]&quot;)</span><br>    iframe = page.frame_locator(<span class="hljs-string">&#x27;//iframe[contains(@id, &quot;x-URS-iframe&quot;)]&#x27;</span>)<br>    iframe.locator(<span class="hljs-string">&#x27;[name=&quot;email&quot;]&#x27;</span>).fill(<span class="hljs-string">&#x27;Tester&#x27;</span>)             <span class="hljs-comment"># xpathæ¨¡ç³ŠåŒ¹é…</span><br>    iframe.locator(<span class="hljs-string">&#x27;[name=&quot;password&quot;]&#x27;</span>).fill(<span class="hljs-string">&quot;123456&quot;</span>)<br>    iframe.locator(<span class="hljs-string">&#x27;#dologin&#x27;</span>).click()<br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)<br><br>    <span class="hljs-built_in">print</span>(iframe.first)                                         <span class="hljs-comment"># åŒ¹é…ç¬¬ä¸€ä¸ª</span><br>    <span class="hljs-built_in">print</span>(iframe.last)                                          <span class="hljs-comment"># è¿”å›æœ€åä¸€ä¸ª</span><br>    <span class="hljs-built_in">print</span>(iframe.nth(<span class="hljs-number">1</span>))                                        <span class="hljs-comment"># ç´¢å¼•ç¬¬äºŒä¸ª</span><br><br>    page.goto(<span class="hljs-string">&quot;https://mail.qq.com/&quot;</span>)<br>    frame = page.frame(name=<span class="hljs-string">&quot;ptlogin_iframe&quot;</span>)                   <span class="hljs-comment"># è¿”å›çš„å¯¹è±¡èƒ½ç›´æ¥fill()æˆ–click()</span><br>    frame.click(<span class="hljs-string">&#x27;#switcher_plogin&#x27;</span>)<br>    frame.fill(<span class="hljs-string">&#x27;#u&#x27;</span>, <span class="hljs-string">&#x27;Tester&#x27;</span>)<br>    frame.fill(<span class="hljs-string">&#x27;#p&#x27;</span>, <span class="hljs-string">&#x27;12345&#x27;</span>)<br>    frame.click(<span class="hljs-string">&#x27;#login_button&#x27;</span>)<br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)<br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h2 id="2-7-ä¸‹æ‹‰æ¡†é€‰æ‹©"><a href="#2-7-ä¸‹æ‹‰æ¡†é€‰æ‹©" class="headerlink" title="2-7 ä¸‹æ‹‰æ¡†é€‰æ‹©"></a>2-7 ä¸‹æ‹‰æ¡†é€‰æ‹©</h2><ul><li>ä¸‹æ‹‰æ¡†é€‰æ‹©<ul><li>ä½¿ç”¨<code>locator.select_option()</code>é€‰æ‹©å…ƒç´ ä¸­çš„ä¸€ä¸ªé€‰é¡¹æˆ–è€…å¤šä¸ªé€‰é¡¹ï¼Œå¯ä»¥æŒ‡å®švalueæˆ–labelæ¥é€‰æ‹©ã€‚</li><li>å…ˆå®šä½selectå…ƒç´ å†å®šä½é€‰é¡¹(æ ¹æ®é€‰é¡¹åç§°ã€indexç´¢å¼•ã€labelæ ‡ç­¾å®šä½)ã€é€šè¿‡pageå¯¹è±¡ç›´æ¥è°ƒç”¨ã€‚</li></ul></li></ul><h4 id="1-select-option-py"><a href="#1-select-option-py" class="headerlink" title="(1) select_option.py"></a>(1) select_option.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)   <span class="hljs-comment"># å¯åŠ¨chromiumæµè§ˆå™¨</span><br>    page = browser.new_page()                                   <span class="hljs-comment"># æ‰“å¼€ä¸€ä¸ªæ ‡ç­¾é¡µ</span><br>    page.goto(<span class="hljs-string">r&quot;.../select_option.html&quot;</span>)                        <span class="hljs-comment"># select_option.htmlæ–‡ä»¶è·¯å¾„</span><br>    <span class="hljs-built_in">print</span>(page.title())<br><br>    page.locator(<span class="hljs-string">&quot;#sid&quot;</span>).select_option(<span class="hljs-string">&#x27;ç™¾åº¦&#x27;</span>)<br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)                                 <span class="hljs-comment"># æ ¹æ®é€‰é¡¹åç§°å®šä½</span><br>    page.locator(<span class="hljs-string">&quot;#sid&quot;</span>).select_option(label=<span class="hljs-string">&#x27;æœç‹—&#x27;</span>)<br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)                                 <span class="hljs-comment"># æ ¹æ®labelæ ‡ç­¾å®šä½</span><br>    page.select_option(<span class="hljs-string">&quot;select#city&quot;</span>, <span class="hljs-string">&quot;å¦é—¨&quot;</span>)<br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)                                 <span class="hljs-comment"># é€šè¿‡pageå¯¹è±¡ç›´æ¥è°ƒç”¨</span><br>    page.locator(<span class="hljs-string">&quot;#color&quot;</span>).select_option(value=[<span class="hljs-string">&#x27;3&#x27;</span>, <span class="hljs-string">&#x27;5&#x27;</span>, <span class="hljs-string">&#x27;7&#x27;</span>])<br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)                                 <span class="hljs-comment"># æ ¹æ®valueæ ‡ç­¾å®šä½</span><br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h4 id="2-select-option-html"><a href="#2-select-option-html" class="headerlink" title="(2) select_option.html"></a>(2) select_option.html</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-comment">&lt;!-- select_option.html --&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>select_option<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// æœç´¢å¼•æ“ï¼šselectå•é€‰</span></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">oc</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-title function_">alert</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-property">f1</span>.<span class="hljs-property">t1</span>.<span class="hljs-title function_">value</span>());</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        <span class="hljs-comment">// æ°´æœæ‹¼ç›˜ã€é€‰æ‹©åŸå¸‚ï¼šmultipleå¯å¤šé€‰</span></span><br><span class="language-javascript">        (<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            selectMultip = &#123;</span><br><span class="language-javascript">                <span class="hljs-attr">register</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">id</span>) &#123;</span><br><span class="language-javascript">                    <span class="hljs-comment">// æ€è·¯ï¼šä¸ºä¸‹æ‹‰é€‰åˆ›å»ºä¸€ä¸ªéšè—çš„å­é€‰é¡¹</span></span><br><span class="language-javascript">                    <span class="hljs-comment">// æ¯æ¬¡å•é€‰ä¹‹åå°†å•é€‰çš„å€¼è¿½åŠ åˆ°éšè—çš„å­é€‰é¡¹ä¸­ï¼Œå¹¶å°†å­é€‰é¡¹é€‰ä¸­æ˜¾ç¤º</span></span><br><span class="language-javascript">                    <span class="hljs-comment">// å…¨å±€æŸ¥æ‰¾æ‰€æœ‰æ ‡è®°multipçš„select</span></span><br><span class="language-javascript">                    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">&quot;[multip]&quot;</span>).<span class="hljs-title function_">forEach</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) &#123;</span><br><span class="language-javascript">                        <span class="hljs-title function_">render</span>(e);</span><br><span class="language-javascript">                    &#125;)</span><br><span class="language-javascript">                &#125;,</span><br><span class="language-javascript">                <span class="hljs-attr">reload</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">id, data, setData</span>) &#123;</span><br><span class="language-javascript">                    <span class="hljs-keyword">var</span> htm = <span class="hljs-string">&quot;&quot;</span>;</span><br><span class="language-javascript">                    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; data.<span class="hljs-property">length</span>; i++) &#123;</span><br><span class="language-javascript">                        htm += <span class="hljs-string">&#x27;&lt;option value=&quot;&#x27;</span> + data[i].<span class="hljs-property">value</span> + <span class="hljs-string">&#x27;&quot;&gt;&#x27;</span> + data[i].<span class="hljs-property">text</span> + <span class="hljs-string">&#x27;&lt;/option&gt;&#x27;</span></span><br><span class="language-javascript">                    &#125;</span><br><span class="language-javascript">                    <span class="hljs-keyword">var</span> e = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(id);</span><br><span class="language-javascript">                    e.<span class="hljs-property">innerHTML</span> = htm;</span><br><span class="language-javascript">                    <span class="hljs-title function_">render</span>(e);</span><br><span class="language-javascript">                    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setVal</span>(id, setData);</span><br><span class="language-javascript">                &#125;,</span><br><span class="language-javascript">                <span class="hljs-attr">setVal</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">id, str</span>) &#123;</span><br><span class="language-javascript">                    <span class="hljs-keyword">var</span> type = <span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>(str);</span><br><span class="language-javascript">                    <span class="hljs-keyword">switch</span> (type) &#123;</span><br><span class="language-javascript">                        <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;[object String]&quot;</span>:</span><br><span class="language-javascript">                            <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(id).<span class="hljs-property">val</span> = str;</span><br><span class="language-javascript">                            <span class="hljs-keyword">break</span>;</span><br><span class="language-javascript">                        <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;[object Array]&quot;</span>:</span><br><span class="language-javascript">                            <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(id).<span class="hljs-property">val</span> = str.<span class="hljs-title function_">toString</span>();</span><br><span class="language-javascript">                            <span class="hljs-keyword">break</span>;</span><br><span class="language-javascript">                        <span class="hljs-attr">default</span>:</span><br><span class="language-javascript">                            <span class="hljs-keyword">break</span>;</span><br><span class="language-javascript">                    &#125;</span><br><span class="language-javascript">                &#125;,</span><br><span class="language-javascript">                <span class="hljs-attr">getVal</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">id</span>) &#123;</span><br><span class="language-javascript">                    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(id).<span class="hljs-property">val</span>;</span><br><span class="language-javascript">                &#125;,</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">            <span class="hljs-keyword">function</span> <span class="hljs-title function_">render</span>(<span class="hljs-params">e</span>) &#123;</span><br><span class="language-javascript">                e.<span class="hljs-property">param</span> = &#123;</span><br><span class="language-javascript">                    <span class="hljs-attr">arr</span>: [],</span><br><span class="language-javascript">                    <span class="hljs-attr">valarr</span>: [],</span><br><span class="language-javascript">                    <span class="hljs-attr">opts</span>: []</span><br><span class="language-javascript">                &#125;;</span><br><span class="language-javascript">                <span class="hljs-keyword">var</span> choosevalue = <span class="hljs-string">&quot;&quot;</span>,</span><br><span class="language-javascript">                    op;</span><br><span class="language-javascript">                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; e.<span class="hljs-property">length</span>; i++) &#123;</span><br><span class="language-javascript">                    op = e.<span class="hljs-title function_">item</span>(i);</span><br><span class="language-javascript">                    e.<span class="hljs-property">param</span>.<span class="hljs-property">opts</span>.<span class="hljs-title function_">push</span>(op);</span><br><span class="language-javascript">                    <span class="hljs-keyword">if</span> (op.<span class="hljs-title function_">hasAttribute</span>(<span class="hljs-string">&quot;choose&quot;</span>)) &#123;</span><br><span class="language-javascript">                        <span class="hljs-keyword">if</span> (choosevalue == <span class="hljs-string">&quot;&quot;</span>) &#123;</span><br><span class="language-javascript">                            choosevalue = op.<span class="hljs-property">value</span></span><br><span class="language-javascript">                        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="language-javascript">                            choosevalue += <span class="hljs-string">&quot;,&quot;</span> + op.<span class="hljs-property">value</span>;</span><br><span class="language-javascript">                        &#125;</span><br><span class="language-javascript">                    &#125;</span><br><span class="language-javascript">                &#125;</span><br><span class="language-javascript">                <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªéšè—çš„optionæ ‡ç­¾ç”¨æ¥å­˜å‚¨å¤šé€‰çš„å€¼ï¼Œå…¶ä¸­çš„å€¼ä¸ºä¸€ä¸ªæ•°ç»„</span></span><br><span class="language-javascript">                <span class="hljs-keyword">var</span> option = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&quot;option&quot;</span>);</span><br><span class="language-javascript">                option.<span class="hljs-property">hidden</span> = <span class="hljs-literal">true</span>;</span><br><span class="language-javascript">                e.<span class="hljs-title function_">appendChild</span>(option);</span><br><span class="language-javascript">                e.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">&quot;input&quot;</span>, selchange);</span><br><span class="language-javascript">                e.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;input&quot;</span>, selchange);</span><br><span class="language-javascript">                <span class="hljs-comment">// é‡æ–°å®šä¹‰æ ‡ç­¾åŸºç¡€å±æ€§çš„getå’Œsetæ–¹æ³•ï¼Œå®ç°å–å€¼å’Œèµ‹å€¼çš„åŠŸèƒ½</span></span><br><span class="language-javascript">                <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(e, <span class="hljs-string">&quot;val&quot;</span>, &#123;</span><br><span class="language-javascript">                        <span class="hljs-attr">get</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">                            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;[hidden]&quot;</span>).<span class="hljs-property">value</span>;</span><br><span class="language-javascript">                        &#125;,</span><br><span class="language-javascript">                        <span class="hljs-attr">set</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) &#123;</span><br><span class="language-javascript">                            e.<span class="hljs-property">param</span>.<span class="hljs-property">valarr</span> = [];</span><br><span class="language-javascript">                            <span class="hljs-keyword">var</span> valrealarr = value == <span class="hljs-string">&quot;&quot;</span> ? [] : value.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot;,&quot;</span>);</span><br><span class="language-javascript">                            e.<span class="hljs-property">param</span>.<span class="hljs-property">arr</span> = [];</span><br><span class="language-javascript">                            e.<span class="hljs-property">param</span>.<span class="hljs-property">opts</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">o</span>) &#123;</span><br><span class="language-javascript">                                o.<span class="hljs-property">style</span> = <span class="hljs-string">&quot;&quot;</span>;</span><br><span class="language-javascript">                            &#125;);</span><br><span class="language-javascript">                            <span class="hljs-keyword">if</span> (valrealarr.<span class="hljs-title function_">toString</span>()) &#123;</span><br><span class="language-javascript">                                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; valrealarr.<span class="hljs-property">length</span>; i++) &#123;</span><br><span class="language-javascript">                                    e.<span class="hljs-property">param</span>.<span class="hljs-property">opts</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">o</span>) &#123;</span><br><span class="language-javascript">                                        <span class="hljs-keyword">if</span> (o.<span class="hljs-property">value</span> == valrealarr[i]) &#123;</span><br><span class="language-javascript">                                            o.<span class="hljs-property">style</span> = <span class="hljs-string">&quot;color: blue;&quot;</span>;</span><br><span class="language-javascript">                                            e.<span class="hljs-property">param</span>.<span class="hljs-property">arr</span>.<span class="hljs-title function_">push</span>(o.<span class="hljs-property">text</span>);</span><br><span class="language-javascript">                                            e.<span class="hljs-property">param</span>.<span class="hljs-property">valarr</span>.<span class="hljs-title function_">push</span>(o.<span class="hljs-property">value</span>)</span><br><span class="language-javascript">                                        &#125;</span><br><span class="language-javascript">                                    &#125;);</span><br><span class="language-javascript">                                &#125;</span><br><span class="language-javascript">                                <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>[e.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>].<span class="hljs-property">text</span> = e.<span class="hljs-property">param</span>.<span class="hljs-property">arr</span>.<span class="hljs-title function_">toString</span>();</span><br><span class="language-javascript">                                <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>[e.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>].<span class="hljs-property">value</span> = e.<span class="hljs-property">param</span>.<span class="hljs-property">valarr</span>.<span class="hljs-title function_">toString</span>();</span><br><span class="language-javascript">                                <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>[e.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>].<span class="hljs-property">selected</span> = <span class="hljs-literal">true</span>;</span><br><span class="language-javascript">                            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="language-javascript">                                <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>[<span class="hljs-number">0</span>].<span class="hljs-property">selected</span> = <span class="hljs-literal">true</span>;</span><br><span class="language-javascript">                            &#125;</span><br><span class="language-javascript">                        &#125;,</span><br><span class="language-javascript">                        <span class="hljs-attr">configurable</span>: <span class="hljs-literal">true</span></span><br><span class="language-javascript">                    &#125;)</span><br><span class="language-javascript">                    <span class="hljs-comment">// æ·»åŠ å±æ€§chooseï¼Œæ­¤å±æ€§æ·»åŠ åˆ°optionä¸­ç”¨æ¥æŒ‡å®šé»˜è®¤å€¼</span></span><br><span class="language-javascript">                e.<span class="hljs-property">val</span> = choosevalue;</span><br><span class="language-javascript">                <span class="hljs-comment">// æ·»åŠ å±æ€§tipï¼Œæ­¤å±æ€§æ·»åŠ åˆ°selectæ ‡ç­¾ä¸Š</span></span><br><span class="language-javascript">                <span class="hljs-keyword">if</span> (e.<span class="hljs-title function_">hasAttribute</span>(<span class="hljs-string">&quot;tip&quot;</span>) &amp;&amp; !e.<span class="hljs-property">tiped</span>) &#123;</span><br><span class="language-javascript">                    e.<span class="hljs-property">tiped</span> = <span class="hljs-literal">true</span>;</span><br><span class="language-javascript">                    e.<span class="hljs-title function_">insertAdjacentHTML</span>(<span class="hljs-string">&#x27;afterend&#x27;</span>, <span class="hljs-string">&#x27;&lt;i style=&quot;color: red; \</span></span><br><span class="hljs-string"><span class="language-javascript">                                          font-size: 12px&quot;&gt;*å¯å¤šé€‰*\&lt;/i&gt;&#x27;</span>);</span><br><span class="language-javascript">                &#125;</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">            <span class="hljs-keyword">function</span> <span class="hljs-title function_">selchange</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">                <span class="hljs-keyword">var</span> text = <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>[<span class="hljs-variable language_">this</span>.<span class="hljs-property">selectedIndex</span>].<span class="hljs-property">text</span>;</span><br><span class="language-javascript">                <span class="hljs-keyword">var</span> value = <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>[<span class="hljs-variable language_">this</span>.<span class="hljs-property">selectedIndex</span>].<span class="hljs-property">value</span>;</span><br><span class="language-javascript">                <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>[<span class="hljs-variable language_">this</span>.<span class="hljs-property">selectedIndex</span>].<span class="hljs-property">style</span> = <span class="hljs-string">&quot;color: blue;&quot;</span>;</span><br><span class="language-javascript">                <span class="hljs-keyword">var</span> ind = <span class="hljs-variable language_">this</span>.<span class="hljs-property">param</span>.<span class="hljs-property">arr</span>.<span class="hljs-title function_">indexOf</span>(text);</span><br><span class="language-javascript">                <span class="hljs-keyword">if</span> (ind &gt; -<span class="hljs-number">1</span>) &#123;</span><br><span class="language-javascript">                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">param</span>.<span class="hljs-property">arr</span>.<span class="hljs-title function_">splice</span>(ind, <span class="hljs-number">1</span>);</span><br><span class="language-javascript">                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">param</span>.<span class="hljs-property">valarr</span>.<span class="hljs-title function_">splice</span>(ind, <span class="hljs-number">1</span>);</span><br><span class="language-javascript">                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">param</span>.<span class="hljs-property">opts</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">o</span>) &#123;</span><br><span class="language-javascript">                        <span class="hljs-keyword">if</span> (o.<span class="hljs-property">value</span> == value) &#123;</span><br><span class="language-javascript">                            o.<span class="hljs-property">style</span> = <span class="hljs-string">&quot;&quot;</span>;</span><br><span class="language-javascript">                        &#125;</span><br><span class="language-javascript">                    &#125;);</span><br><span class="language-javascript">                &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="language-javascript">                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">param</span>.<span class="hljs-property">arr</span>.<span class="hljs-title function_">push</span>(text);</span><br><span class="language-javascript">                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">param</span>.<span class="hljs-property">valarr</span>.<span class="hljs-title function_">push</span>(value);</span><br><span class="language-javascript">                &#125;</span><br><span class="language-javascript">                <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>[<span class="hljs-variable language_">this</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>].<span class="hljs-property">text</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">param</span>.<span class="hljs-property">arr</span>.<span class="hljs-title function_">toString</span>();</span><br><span class="language-javascript">                <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>[<span class="hljs-variable language_">this</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>].<span class="hljs-property">value</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">param</span>.<span class="hljs-property">valarr</span>.<span class="hljs-title function_">toString</span>();</span><br><span class="language-javascript">                <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">param</span>.<span class="hljs-property">arr</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) &#123;</span><br><span class="language-javascript">                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>[<span class="hljs-variable language_">this</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>].<span class="hljs-property">selected</span> = <span class="hljs-literal">true</span>;</span><br><span class="language-javascript">                &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="language-javascript">                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>[<span class="hljs-number">0</span>].<span class="hljs-property">selected</span> = <span class="hljs-literal">true</span>;</span><br><span class="language-javascript">                &#125;</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">        &#125;)();</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">form</span>&gt;</span><br>        æœç´¢å¼•æ“ï¼š<br>        <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;sid&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 300px; height: 30px;&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>è¯·é€‰æ‹©<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;o1&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;id1&quot;</span>&gt;</span>è°·æ­Œ<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;o2&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;id2&quot;</span>&gt;</span>å¿…åº”<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;o3&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;id3&quot;</span>&gt;</span>æœç‹—<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;o4&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;id4&quot;</span>&gt;</span>ç™¾åº¦<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;o4&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;id5&quot;</span>&gt;</span>ç«ç‹<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">form</span>&gt;</span><br>        æ°´æœæ‹¼ç›˜ï¼š<br>        <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">multip</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;fruits&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 300px; height: 30px;&quot;</span> <span class="hljs-attr">tip</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>è¯·é€‰æ‹©<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;1&quot;</span>&gt;</span>æ¡ƒå­<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;2&quot;</span>&gt;</span>è‹¹æœ<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;3&quot;</span>&gt;</span>é¦™è•‰<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;4&quot;</span>&gt;</span>æ¨±æ¡ƒ<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;5&quot;</span>&gt;</span>è‰è“<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;6&quot;</span>&gt;</span>æ¨æ¡ƒ<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;7&quot;</span>&gt;</span>èœœæŸš<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><br>            selectMultip.register();<br>        <span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">form</span>&gt;</span><br>        é€‰æ‹©åŸå¸‚ï¼š<br>        <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">multip</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;city&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 300px; height: 30px;&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>è¯·é€‰æ‹©<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;gz&quot;</span>&gt;</span>å¹¿å·<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;wh&quot;</span>&gt;</span>æ­¦æ±‰<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;bj&quot;</span>&gt;</span>åŒ—äº¬<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;xm&quot;</span>&gt;</span>å¦é—¨<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;hz&quot;</span>&gt;</span>æ­å·<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;sz&quot;</span>&gt;</span>æ·±åœ³<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;sz&quot;</span>&gt;</span>è‹å·<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;nj&quot;</span>&gt;</span>å—äº¬<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;cq&quot;</span>&gt;</span>é‡åº†<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">form</span>&gt;</span><br>        é¢œè‰²é€‰æ‹©ï¼š<br>        <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">multiple</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;color&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 300px; height: 132px;&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;1&quot;</span>&gt;</span>çº¢è‰²<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;2&quot;</span>&gt;</span>æ©™è‰²<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;3&quot;</span>&gt;</span>é»„è‰²<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;4&quot;</span>&gt;</span>ç»¿è‰²<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;5&quot;</span>&gt;</span>é’è‰²<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;6&quot;</span>&gt;</span>è“è‰²<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;7&quot;</span>&gt;</span>ç´«è‰²<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="2-8-å•é€‰ä¸å¤é€‰"><a href="#2-8-å•é€‰ä¸å¤é€‰" class="headerlink" title="2-8 å•é€‰ä¸å¤é€‰"></a>2-8 å•é€‰ä¸å¤é€‰</h2><ul><li>å•é€‰ä¸å¤é€‰<ul><li><code>locator.set_checked()</code>é€‰ä¸­å’Œå–æ¶ˆé€‰ä¸­å•å¤é€‰æ¡†çš„æœ€ç®€å•æ–¹æ³•ã€‚</li><li><code>locator.check()</code>é€‰ä¸­ï¼Œ<code>locator.uncheck()</code>ä¸é€‰ã€‚</li><li><code>locator.click()</code>ç‚¹å‡»ï¼Œ<code>locator.is_checked()</code>æ–­è¨€æ˜¯å¦è¢«é€‰ä¸­ã€‚</li><li>ä¸Šè¿°æ–¹æ³•éƒ½é€‚ç”¨äº<code>input[type=checkbox]</code>å’Œ<code>input[type=radio]</code>ã€‚</li></ul></li></ul><h4 id="1-set-checked-py"><a href="#1-set-checked-py" class="headerlink" title="(1) set_checked.py"></a>(1) set_checked.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)   <span class="hljs-comment"># å¯åŠ¨chromiumæµè§ˆå™¨</span><br>    page = browser.new_page()                                   <span class="hljs-comment"># æ‰“å¼€ä¸€ä¸ªæ ‡ç­¾é¡µ</span><br>    page.goto(<span class="hljs-string">r&quot;.../set_checked.html&quot;</span>)                          <span class="hljs-comment"># set_checked.htmlæ–‡ä»¶è·¯å¾„</span><br>    <span class="hljs-built_in">print</span>(page.title())<br><br>    page.get_by_label(<span class="hljs-string">&quot;è‘¡è„&quot;</span>).click()<br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)                                 <span class="hljs-comment"># ç‚¹å‡»</span><br>    page.get_by_label(<span class="hljs-string">&quot;æ©˜å­&quot;</span>).check()<br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)                                 <span class="hljs-comment"># é€‰ä¸­</span><br>    <span class="hljs-keyword">assert</span> page.get_by_label(<span class="hljs-string">&quot;æ±½è½¦&quot;</span>).is_checked() <span class="hljs-keyword">is</span> <span class="hljs-literal">False</span><br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)                                 <span class="hljs-comment"># æ–­è¨€æ˜¯å¦è¢«å‹¾é€‰</span><br>    page.locator(<span class="hljs-string">&quot;#qc&quot;</span>).set_checked(<span class="hljs-literal">True</span>)                       <span class="hljs-comment"># å•é€‰</span><br>    page.locator(<span class="hljs-string">&quot;#gw&quot;</span>).check()                                 <span class="hljs-comment"># é€‰ä¸­</span><br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)<br>    page.locator(<span class="hljs-string">&quot;#gw&quot;</span>).uncheck()                               <span class="hljs-comment"># ä¸é€‰</span><br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)<br>    box = page.locator(<span class="hljs-string">&#x27;[type=&quot;checkbox&quot;]&#x27;</span>)<br>    <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> box.<span class="hljs-built_in">all</span>():<br>        item.check()                                            <span class="hljs-comment"># å®šä½å…¨éƒ¨CheckBoxæ‰¹é‡é€‰ä¸­</span><br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)<br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h4 id="2-set-checked-html"><a href="#2-set-checked-html" class="headerlink" title="(2) set_checked.html"></a>(2) set_checked.html</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-comment">&lt;!-- set_checked.html --&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>set_checked<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">fieldset</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 355px; height: 45px;&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">legend</span>&gt;</span>å•é€‰æŒ‰é’®Radio<span class="hljs-tag">&lt;/<span class="hljs-name">legend</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;fruit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;pg&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;pg&quot;</span>&gt;</span>è‹¹æœ<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;fruit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;jz&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;jz&quot;</span>&gt;</span>æ©˜å­<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;fruit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;xj&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;xj&quot;</span>&gt;</span>é¦™è•‰<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;fruit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;pt&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;li&quot;</span> <span class="hljs-attr">checked</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>è‘¡è„<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;fruit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;xg&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;xg&quot;</span> <span class="hljs-attr">checked</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>è¥¿ç“œ<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">fieldset</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">fieldset</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 355px; height: 130px;&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">legend</span>&gt;</span>å¤šé€‰æŒ‰é’®Checkbox<span class="hljs-tag">&lt;/<span class="hljs-name">legend</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;æ±½è½¦&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;qc&quot;</span>&gt;</span>æ±½è½¦<br>            <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;è´­ç‰©&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;gw&quot;</span>&gt;</span>è´­ç‰©<br>            <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;è´­ç‰©&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;ms&quot;</span>&gt;</span>ç¾é£Ÿ<br>            <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;æ—…æ¸¸&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;ly&quot;</span> <span class="hljs-attr">readonly</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>æ—…æ¸¸<br>            <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;éŸ³ä¹&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;yy&quot;</span> <span class="hljs-attr">readonly</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>éŸ³ä¹<br>            <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">fieldset</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="2-9-èšç„¦ç»™å®šå…ƒç´ "><a href="#2-9-èšç„¦ç»™å®šå…ƒç´ " class="headerlink" title="2-9 èšç„¦ç»™å®šå…ƒç´ "></a>2-9 èšç„¦ç»™å®šå…ƒç´ </h2><ul><li>èšç„¦ç»™å®šå…ƒç´ <ul><li>focus()ä¸»è¦ç”¨äºæ¨¡æ‹Ÿç”¨æˆ·ä¸ç½‘é¡µå…ƒç´ çš„äº¤äº’ã€‚</li><li>ç¡®ä¿æ­£ç¡®çš„å…ƒç´ å¤„äºæ´»åŠ¨çŠ¶æ€ï¼Œä»¥ä¾¿æ‰§è¡Œç›¸åº”æ“ä½œã€‚</li><li>é€šå¸¸ç”¨äºäº¤äº’æ€§æµ‹è¯•ã€è¡¨å•è¾“å…¥ï¼Œæˆ–è€…é”®ç›˜äº‹ä»¶ä¸Šã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)   <span class="hljs-comment"># å¯åŠ¨chromiumæµè§ˆå™¨</span><br>    page = browser.new_page()                                   <span class="hljs-comment"># æ‰“å¼€ä¸€ä¸ªæ ‡ç­¾é¡µ</span><br>    page.goto(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br>    <span class="hljs-built_in">print</span>(page.title())<br><br>    input_element = page.locator(<span class="hljs-string">&quot;#kw&quot;</span>)<br>    input_element.focus()                                       <span class="hljs-comment"># å°†ç„¦ç‚¹è®¾ç½®åˆ°è¾“å…¥æ¡†ä¸Š</span><br>    input_element.<span class="hljs-built_in">type</span>(<span class="hljs-string">&#x27;Playwright&#x27;</span>)                            <span class="hljs-comment"># æ¨¡æ‹Ÿé”®ç›˜è¾“å…¥</span><br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)<br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h1 id="3-ç­‰å¾…å’Œå®šæ—¶å™¨"><a href="#3-ç­‰å¾…å’Œå®šæ—¶å™¨" class="headerlink" title="3 ç­‰å¾…å’Œå®šæ—¶å™¨"></a>3 ç­‰å¾…å’Œå®šæ—¶å™¨</h1><ul><li>ç­‰å¾…å’Œå®šæ—¶å™¨<ul><li>ç­‰å¾…<ul><li><code>locator.wait_for()</code>ï¼šåœ¨å»¶è¿ŸåŠ è½½çš„é¡µé¢ä¸­ç­‰å¾…å…ƒç´ å¯è§ï¼Œå¯ç­‰å¾…é¡µé¢åŠ è½½å®Œæˆåå†æ‰§è¡Œæ“ä½œã€‚</li><li><code>chromium.launch(headless=False, slow_mo=50)</code>ï¼šå¯èƒ½ä¼šå¢åŠ æ‰§è¡Œæ—¶é—´ã€‚<ul><li>å°†å‡æ…¢æµè§ˆå™¨çš„æ‰§è¡Œé€Ÿåº¦ï¼Œslow_moçš„å•ä½ä¸ºæ¯«ç§’ï¼Œä½œç”¨èŒƒå›´æ˜¯å…¨å±€çš„ã€‚</li><li>ä»å¯åŠ¨æµè§ˆå™¨åˆ°æ“ä½œå…ƒç´ æ¯ä¸ªåŠ¨ä½œéƒ½ä¼šæœ‰ç­‰å¾…é—´éš”ï¼Œæ–¹ä¾¿æŸ¥çœ‹æ“ä½œæƒ…å†µã€‚</li></ul></li><li><code>locator.click()</code>å’Œ<code>locator.fill()</code>ï¼šè‡ªåŠ¨ç­‰å¾…å…ƒç´ å¯è§ï¼Œå¯ç®€åŒ–ä»£ç ï¼Œä½†å¯èƒ½å¯¼è‡´è¶…æ—¶å¼‚å¸¸ã€‚</li><li><code>page.wait_for_timeout(5000)</code>ï¼šç­‰å¾…ä¸€å®šæ—¶é—´åå†æ‰§è¡Œæ“ä½œï¼Œè®¾ç½®æ—¶é—´è¿‡é•¿å¯èƒ½å½±å“æ‰§è¡Œæ•ˆç‡ã€‚</li></ul></li><li>å®šæ—¶å™¨ï¼šä½¿ç”¨Pythonçš„asyncioåº“æ¥åˆ›å»ºå¼‚æ­¥å®šæ—¶ä»»åŠ¡ã€‚</li><li>timeoutç­‰å¾…è¶…æ—¶ï¼Œé»˜è®¤30ç§’ï¼Œä¼ é€’0å°†è¶…æ—¶æ—¶é—´è®¾ä¸ºæ— é™å¤§ï¼ŒæŒ‡ä¸ä¼šä¸»åŠ¨è¶…æ—¶ï¼Œä¼šä¸€ç›´ç­‰å¾…ç›´åˆ°æ¡ä»¶æ»¡è¶³ã€‚<ul><li><code>page.set_fault_navigation_timeout</code>ã€<code>browser_context.set_fault_timeout()</code>ã€‚</li><li><code>page.set_fault_timeout()</code>ã€<code>browser_context.set_fault_navigation_timeout()</code>ã€‚</li></ul></li></ul></li></ul><h2 id="3-1-ç­‰å¾…å…ƒç´ "><a href="#3-1-ç­‰å¾…å…ƒç´ " class="headerlink" title="3-1 ç­‰å¾…å…ƒç´ "></a>3-1 ç­‰å¾…å…ƒç´ </h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)   <span class="hljs-comment"># å¯åŠ¨chromiumæµè§ˆå™¨</span><br>    page = browser.new_page()                                   <span class="hljs-comment"># æ‰“å¼€ä¸€ä¸ªæ ‡ç­¾é¡µ</span><br>    page.goto(<span class="hljs-string">&#x27;https://www.baidu.com&#x27;</span>)                          <span class="hljs-comment"># æ‰“å¼€ç™¾åº¦åœ°å€</span><br><br>    page.locator(<br>        <span class="hljs-string">&#x27;//*[@id=&quot;s-hotsearch-wrapper&quot;]/div/a[1]/div&#x27;</span><br>    ).wait_for()                                                <span class="hljs-comment"># ç­‰å¾…å…ƒç´ </span><br>    page.locator(<br>        <span class="hljs-string">&#x27;//*[@id=&quot;s-hotsearch-wrapper&quot;]/div/a[1]/div&#x27;</span><br>    ).click()                                                   <span class="hljs-comment"># è‡ªåŠ¨ç­‰å¾…å…ƒç´ ï¼Œå†ç‚¹å‡»</span><br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)                                 <span class="hljs-comment"># ç‚¹å‡»åç­‰å¾…1ç§’</span><br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h2 id="3-2-è‡ªå®šä¹‰ç­‰å¾…"><a href="#3-2-è‡ªå®šä¹‰ç­‰å¾…" class="headerlink" title="3-2 è‡ªå®šä¹‰ç­‰å¾…"></a>3-2 è‡ªå®šä¹‰ç­‰å¾…</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)   <span class="hljs-comment"># å¯åŠ¨chromiumæµè§ˆå™¨</span><br>    page = browser.new_page()                                   <span class="hljs-comment"># æ‰“å¼€ä¸€ä¸ªæ ‡ç­¾é¡µ</span><br>    page.goto(<span class="hljs-string">&#x27;https://www.baidu.com&#x27;</span>)                          <span class="hljs-comment"># æ‰“å¼€ç™¾åº¦åœ°å€</span><br><br>    page.fill(<span class="hljs-string">&#x27;#kw&#x27;</span>, <span class="hljs-string">&#x27;Playwright&#x27;</span>)<br>    page.click(<span class="hljs-string">&#x27;#su&#x27;</span>)<br>    page.wait_for_load_state(<span class="hljs-string">&quot;networkidle&quot;</span>)                     <span class="hljs-comment"># è‡ªå®šä¹‰ç­‰å¾…</span><br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h2 id="3-3-å®šæ—¶å™¨æ“ä½œ"><a href="#3-3-å®šæ—¶å™¨æ“ä½œ" class="headerlink" title="3-3 å®šæ—¶å™¨æ“ä½œ"></a>3-3 å®šæ—¶å™¨æ“ä½œ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> asyncio<br><span class="hljs-keyword">from</span> playwright.async_api <span class="hljs-keyword">import</span> async_playwright<br><br><br><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():                                               <span class="hljs-comment"># æŒ‡å®šæ—¶é—´é—´éš”å†…è®¿é—®æŒ‡å®šçš„ç½‘é¡µ</span><br>    <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> async_playwright() <span class="hljs-keyword">as</span> p:<br>        browser = <span class="hljs-keyword">await</span> p.chromium.launch(headless=<span class="hljs-literal">False</span>)<br>        page = <span class="hljs-keyword">await</span> browser.new_page()<br>        url = <span class="hljs-string">&#x27;https://www.baidu.com/&#x27;</span>                          <span class="hljs-comment"># è¦è®¿é—®çš„ç½‘é¡µURL</span><br><br>        interval_seconds = <span class="hljs-number">10</span>                                   <span class="hljs-comment"># è®¾ç½®å®šæ—¶å™¨çš„é—´éš”æ—¶é—´ï¼ˆä»¥ç§’ä¸ºå•ä½ï¼‰</span><br>        <span class="hljs-keyword">try</span>:<br>            <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>                <span class="hljs-keyword">await</span> page.goto(url)                            <span class="hljs-comment"># æ‰§è¡Œè‡ªå®šä¹‰æ“ä½œï¼Œä¾‹å¦‚è®¿é—®ç½‘é¡µ</span><br>                <span class="hljs-keyword">await</span> asyncio.sleep(interval_seconds)           <span class="hljs-comment"># è®¾ç½®å®šæ—¶å™¨çš„é—´éš”æ—¶é—´</span><br><br>        <span class="hljs-keyword">except</span> KeyboardInterrupt:<br>            <span class="hljs-keyword">pass</span><br><br>        <span class="hljs-keyword">finally</span>:<br>            <span class="hljs-keyword">await</span> browser.close()                               <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br><br>asyncio.run(main())                                             <span class="hljs-comment"># è¿è¡Œä¸»å‡½æ•°</span><br></code></pre></td></tr></table></figure><h2 id="3-4-timeoutç­‰å¾…è¶…æ—¶"><a href="#3-4-timeoutç­‰å¾…è¶…æ—¶" class="headerlink" title="3-4 timeoutç­‰å¾…è¶…æ—¶"></a>3-4 timeoutç­‰å¾…è¶…æ—¶</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)   <span class="hljs-comment"># å¯åŠ¨chromiumæµè§ˆå™¨</span><br>    page = browser.new_page()                                   <span class="hljs-comment"># æ‰“å¼€ä¸€ä¸ªæ ‡ç­¾é¡µ</span><br>    page.goto(<span class="hljs-string">&#x27;https://www.baidu.com&#x27;</span>)                          <span class="hljs-comment"># æ‰“å¼€ç™¾åº¦åœ°å€</span><br><br>    page.fill(<span class="hljs-string">&#x27;#kw&#x27;</span>, <span class="hljs-string">&#x27;Playwright&#x27;</span>)<br>    page.click(<span class="hljs-string">&#x27;#su&#x27;</span>)<br>    page.set_default_timeout(<span class="hljs-number">0</span>)                                 <span class="hljs-comment"># ä¸ä¼šä¸»åŠ¨è¶…æ—¶</span><br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h1 id="4-å¼¹çª—æˆ–å¯¹è¯æ¡†"><a href="#4-å¼¹çª—æˆ–å¯¹è¯æ¡†" class="headerlink" title="4 å¼¹çª—æˆ–å¯¹è¯æ¡†"></a>4 å¼¹çª—æˆ–å¯¹è¯æ¡†</h1><ul><li>å¼¹çª—æˆ–å¯¹è¯æ¡†<ul><li>Playwrightæ”¯æŒç›‘å¬dialogäº‹ä»¶ï¼ŒJavaScriptå¯¹è¯æ¡†åŒ…æ‹¬alertã€beforeunloadã€confirmã€promptã€‚<ul><li>ä¾¦å¬å™¨å¿…é¡»ä½¿ç”¨<code>dialog.accept()</code>æˆ–<code>dialog.dismiss()</code>æ“ä½œå¯¹è¯æ¡†ã€‚</li><li>å¦åˆ™é¡µé¢å°†å†»ç»“ç­‰å¾…å¯¹è¯æ¡†ï¼Œå¹¶ä¸”æ— æ³•è¿›è¡Œå•å‡»ã€æœç´¢ç­‰ä¸‹ä¸€æ­¥æ“ä½œã€‚</li></ul></li><li>éƒ¨åˆ†åœºæ™¯åº”ç”¨æ—¶ï¼Œå¯èƒ½å¼¹å‡ºä¸€äº›éº¦å…‹é£æˆ–æ‘„åƒå¤´çš„æƒé™æ¡†ï¼Œé€šè¿‡ç›‘å¬alertæ²¡æ³•æ•è·åˆ°ã€‚<ul><li>å¯ä»¥ç»™æµè§ˆå™¨é…ç½®é»˜è®¤å…è®¸éº¦å…‹é£å’Œæ‘„åƒå¤´ç­‰æƒé™ï¼Œä¸è®©å¼¹çª—å‡ºæ¥ã€‚</li><li>ä½¿ç”¨contextçš„<code>grant_permissions()</code>æ–¹æ³•æ·»åŠ éº¦å…‹é£æˆ–æ‘„åƒå¤´æƒé™ã€‚</li></ul></li></ul></li></ul><h2 id="4-1-alert-box-py"><a href="#4-1-alert-box-py" class="headerlink" title="4-1 alert_box.py"></a>4-1 alert_box.py</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">handle_dialog</span>(<span class="hljs-params">dialog</span>):                                      <span class="hljs-comment"># ç›‘å¬åçš„å¤„ç†</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Type: &quot;</span> + dialog.<span class="hljs-built_in">type</span>)                               <span class="hljs-comment"># è¿”å›å¯¹è¯æ¡†çš„ç±»å‹</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Mess: &quot;</span> + dialog.message)                            <span class="hljs-comment"># è·å–å¯¹è¯æ¡†ä¸­æ˜¾ç¤ºçš„æ¶ˆæ¯</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Return: &quot;</span> + dialog.default_value)                    <span class="hljs-comment"># è¿”å›é»˜è®¤æç¤ºå€¼ï¼Œå¦åˆ™è¿”å›ç©ºå­—ç¬¦ä¸²</span><br>    dialog.dismiss()                                            <span class="hljs-comment"># å…³é—­å¯¹è¯æ¡†</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">run</span>(<span class="hljs-params">playwright</span>):<br>    chromium = playwright.chromium<br>    browser = chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">3000</span>)<br>    page = browser.new_page()<br>    page.goto(<span class="hljs-string">r&quot;.../alert_box.html&quot;</span>)                            <span class="hljs-comment"># alert_box.htmlæ–‡ä»¶è·¯å¾„</span><br><br>    page.on(<span class="hljs-string">&quot;dialog&quot;</span>, handle_dialog)<br>    page.locator(<span class="hljs-string">&quot;body &gt; button:nth-child(5)&quot;</span>).click()<br>    page.evaluate(<span class="hljs-string">&quot;alert(&#x27;Test&#x27;)&quot;</span>)                              <span class="hljs-comment"># æ²¡ç›‘å¬æ—¶ï¼Œå®ƒè‡ªåŠ¨ä¼šå…³é—­</span><br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)<br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br><br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> playwright:<br>    run(playwright)<br></code></pre></td></tr></table></figure><h2 id="4-2-alert-box-html"><a href="#4-2-alert-box-html" class="headerlink" title="4-2 alert_box.html"></a>4-2 alert_box.html</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-comment">&lt;!-- alert_box.html --&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>alert_box<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align: center;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ç‚¹å‡»æŒ‰é’®æŸ¥çœ‹å¯¹è¯æ¡†<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;myFunction()&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 195px; height: 40px;&quot;</span>&gt;</span>ç‚¹æˆ‘<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;demo&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;showAlert()&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 195px; height: 40px;&quot;</span>&gt;</span>Alert<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;showPrompt()&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 195px; height: 40px;&quot;</span>&gt;</span>Prompt<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;showConfirm()&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 195px; height: 40px;&quot;</span>&gt;</span>Confirm<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">myFunction</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">var</span> x;</span><br><span class="language-javascript">            <span class="hljs-keyword">var</span> person = <span class="hljs-title function_">prompt</span>(<span class="hljs-string">&quot;è¯·è¾“å…¥ä½ çš„åå­—ï¼š&quot;</span>, <span class="hljs-string">&quot;&quot;</span>);</span><br><span class="language-javascript">            <span class="hljs-keyword">if</span> (person != <span class="hljs-literal">null</span> &amp;&amp; person != <span class="hljs-string">&quot;&quot;</span>) &#123;</span><br><span class="language-javascript">                x = <span class="hljs-string">&quot;ä½ å¥½ï¼Œ&quot;</span> + person + <span class="hljs-string">&quot;ï¼ä»Šå¤©æ„Ÿè§‰å¦‚ä½•ï¼Ÿ&quot;</span>;</span><br><span class="language-javascript">                <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;demo&quot;</span>).<span class="hljs-property">innerHTML</span> = x;</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// æ˜¾ç¤ºAlertå¼¹çª—</span></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">showAlert</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;è¿™æ˜¯ä¸€ä¸ªAlertå¼¹çª—ï¼&quot;</span>);</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// æ˜¾ç¤ºPromptå¼¹çª—</span></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">showPrompt</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">const</span> result = <span class="hljs-title function_">prompt</span>(<span class="hljs-string">&quot;è¯·è¾“å…¥æ‚¨çš„å§“å:&quot;</span>, <span class="hljs-string">&quot;é»˜è®¤å€¼&quot;</span>);</span><br><span class="language-javascript">            <span class="hljs-keyword">if</span> (result !== <span class="hljs-literal">null</span>) &#123;</span><br><span class="language-javascript">                <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;æ‚¨è¾“å…¥çš„å§“åæ˜¯: &quot;</span> + result);</span><br><span class="language-javascript">            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="language-javascript">                <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;æ‚¨å–æ¶ˆäº†è¾“å…¥ã€‚&quot;</span>);</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// æ˜¾ç¤ºConfirmå¼¹çª—</span></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">showConfirm</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">const</span> result = <span class="hljs-title function_">confirm</span>(<span class="hljs-string">&quot;æ‚¨ç¡®å®šè¦æ‰§è¡Œæ­¤æ“ä½œå—ï¼Ÿ&quot;</span>);</span><br><span class="language-javascript">            <span class="hljs-keyword">if</span> (result) &#123;</span><br><span class="language-javascript">                <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;æ‚¨ç‚¹å‡»äº†ç¡®è®¤æŒ‰é’®ã€‚&quot;</span>);</span><br><span class="language-javascript">            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="language-javascript">                <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;æ‚¨ç‚¹å‡»äº†å–æ¶ˆæŒ‰é’®ã€‚&quot;</span>);</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="4-3-æµè§ˆå™¨æ·»åŠ æƒé™"><a href="#4-3-æµè§ˆå™¨æ·»åŠ æƒé™" class="headerlink" title="4-3 æµè§ˆå™¨æ·»åŠ æƒé™"></a>4-3 æµè§ˆå™¨æ·»åŠ æƒé™</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>)                 <span class="hljs-comment"># å¯åŠ¨æµè§ˆå™¨</span><br>    context = browser.new_context()                             <span class="hljs-comment"># å¯åŠ¨ä¸Šä¸‹æ–‡</span><br>    <br>    context.grant_permissions([<span class="hljs-string">&#x27;camera&#x27;</span>, <span class="hljs-string">&#x27;microphone&#x27;</span>])         <span class="hljs-comment"># è®¾ç½®å…è®¸å¼€å¯æƒé™</span><br>    page = context.new_page()                                   <span class="hljs-comment"># æ‰“å¼€æ ‡ç­¾é¡µ</span><br>    page.goto(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h1 id="5-æ¨¡æ‹Ÿé”®ç›˜æ“ä½œ"><a href="#5-æ¨¡æ‹Ÿé”®ç›˜æ“ä½œ" class="headerlink" title="5 æ¨¡æ‹Ÿé”®ç›˜æ“ä½œ"></a>5 æ¨¡æ‹Ÿé”®ç›˜æ“ä½œ</h1><ul><li>æ¨¡æ‹Ÿé”®ç›˜æ“ä½œ<ul><li><code>locator.press()</code>æ–¹æ³•ï¼šå¯ä»¥èšç„¦æ‰€é€‰å…ƒç´ ï¼Œå¹¶äº§ç”Ÿå•ä¸ªå‡»é”®ã€‚</li><li>æ¥å—åœ¨é”®ç›˜äº‹ä»¶çš„keyboardEvent.keyå±æ€§ä¸­å‘å‡ºçš„é€»è¾‘é”®åç§°ã€‚<ul><li>Backquoteã€Minusã€Equalã€Backslashã€Backspaceã€Tabã€Deleteã€Escapeã€ArrowDownã€Endã€Enterã€‚</li><li>Homeã€Insertã€PageDownã€PageUpã€ArrowRightã€ArrowUpã€F1-F12ã€Digit 0-9ã€Key A-Zã€Key a-zã€‚</li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>)                 <span class="hljs-comment"># å¯åŠ¨æµè§ˆå™¨</span><br>    context = browser.new_context()                             <span class="hljs-comment"># å¯åŠ¨ä¸Šä¸‹æ–‡</span><br>    page = context.new_page()                                   <span class="hljs-comment"># æ‰“å¼€æ ‡ç­¾é¡µ</span><br>    page.goto(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br><br>    page.locator(<span class="hljs-string">&#x27;//*[@id=&quot;kw&quot;]&#x27;</span>).press(<span class="hljs-string">&quot;$&quot;</span>)                    <span class="hljs-comment"># æŒ‰é”®$</span><br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)<br>    page.locator(<span class="hljs-string">&#x27;//*[@id=&quot;kw&quot;]&#x27;</span>).press(<span class="hljs-string">&quot;Shift+A&quot;</span>)              <span class="hljs-comment"># æŒ‰é”®A</span><br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)<br>    page.locator(<span class="hljs-string">&#x27;//*[@id=&quot;kw&quot;]&#x27;</span>).press(<span class="hljs-string">&quot;Shift+a&quot;</span>)              <span class="hljs-comment"># æŒ‰é”®a</span><br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)<br>    page.locator(<span class="hljs-string">&#x27;//*[@id=&quot;kw&quot;]&#x27;</span>).press(<span class="hljs-string">&quot;Shift+ArrowLeft&quot;</span>)      <span class="hljs-comment"># å…‰æ ‡å·¦é€‰ä¸€ä½</span><br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)<br>    page.locator(<span class="hljs-string">&#x27;//*[@id=&quot;kw&quot;]&#x27;</span>).press(<span class="hljs-string">&quot;Control+V&quot;</span>)            <span class="hljs-comment"># ç²˜è´´å‰ªåˆ‡æ¿çš„å†…å®¹</span><br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)<br>    page.locator(<span class="hljs-string">&#x27;//*[@id=&quot;su&quot;]&#x27;</span>).press(<span class="hljs-string">&quot;Enter&quot;</span>)                <span class="hljs-comment"># å›è½¦</span><br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)<br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h1 id="6-æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½"><a href="#6-æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½" class="headerlink" title="6 æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½"></a>6 æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½</h1><ul><li>æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½<ul><li>æ–‡ä»¶ä¸Šä¼ <ul><li>æ–‡ä»¶ä¸Šä¼ æ˜¯inputè¾“å…¥æ¡†ï¼Œå¹¶ä¸”ç±»å‹æ˜¯<code>type=&quot;file&quot;</code>æƒ…å†µæ—¶ï¼Œä½¿ç”¨<code>locator.set_input_files()</code>ã€‚</li><li>å¦‚æœä¸æ˜¯inputè¾“å…¥æ¡†ä¸”å¿…é¡»ç‚¹å¼€æ–‡ä»¶æ¡†çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨<code>page.expect_file_chooser()</code>è¿›è¡Œç›‘å¬ã€‚</li><li>ç‚¹å‡»é€‰æ‹©æ–‡ä»¶æŒ‰é’®æ—¶ï¼Œè‡ªåŠ¨è§¦å‘æ“ä½œï¼Œåˆ™ä½¿ç”¨<code>page.on(&quot;filechooser&quot;, )</code>ç›‘å¬filechooseräº‹ä»¶ã€‚</li></ul></li><li>æ–‡ä»¶ä¸‹è½½ï¼šå½“æµè§ˆå™¨ä¸Šä¸‹æ–‡å…³é—­æ—¶ï¼Œæ‰€æœ‰å±äºæµè§ˆå™¨ä¸Šä¸‹æ–‡çš„ä¸‹è½½æ–‡ä»¶éƒ½ä¼šè¢«åˆ é™¤ã€‚</li></ul></li></ul><h2 id="6-1-æ–‡ä»¶ä¸Šä¼ "><a href="#6-1-æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="6-1 æ–‡ä»¶ä¸Šä¼ "></a>6-1 æ–‡ä»¶ä¸Šä¼ </h2><ul><li>æ–‡ä»¶ä¸Šä¼ <ul><li><code>locator.set_input_files()</code>ï¼šç”¨äºè®¾ç½®æ–‡ä»¶è¾“å…¥æ¡†çš„æ–‡ä»¶è·¯å¾„ã€‚</li><li>æ¨¡æ‹Ÿå‘æ–‡ä»¶è¾“å…¥æ¡†ä¸­å¡«å……æ–‡ä»¶è·¯å¾„ï¼Œä»¥å®ç°æ–‡ä»¶ä¸Šä¼ çš„è‡ªåŠ¨åŒ–æ“ä½œã€‚</li><li>è¯¥æ–¹æ³•æ¥å—ä¸€ä¸ªæ–‡ä»¶è·¯å¾„å‚æ•°ï¼ŒæŒ‡å®šä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶è·¯å¾„è¿›è¡Œä¸Šä¼ ã€‚</li><li>æ“ä½œæ–¹æ³•<ul><li><code>file_chooser.page</code>ï¼šè¿”å›æ­¤æ–‡ä»¶é€‰æ‹©å™¨æ‰€å±çš„é¡µé¢ã€‚</li><li><code>file_chooser.element</code>ï¼šè¿”å›ä¸æ­¤æ–‡ä»¶é€‰æ‹©å™¨å…³è”çš„è¾“å…¥å…ƒç´ ã€‚</li><li><code>file_chooser.is_multiple()</code>ï¼šåˆ¤æ–­æ­¤æ–‡ä»¶é€‰æ‹©å™¨æ˜¯å¦æ¥å—å¤šä¸ªæ–‡ä»¶ã€‚</li></ul></li></ul></li></ul><h4 id="1-upload-file-py"><a href="#1-upload-file-py" class="headerlink" title="(1) upload_file.py"></a>(1) upload_file.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>)                 <span class="hljs-comment"># å¯åŠ¨chromiumæµè§ˆå™¨</span><br>    page = browser.new_page()                                   <span class="hljs-comment"># æ‰“å¼€ä¸€ä¸ªæ ‡ç­¾é¡µ</span><br>    page.goto(<span class="hljs-string">r&#x27;.../upload_file.html&#x27;</span>)                          <span class="hljs-comment"># upload_file.htmlæ–‡ä»¶è·¯å¾„</span><br>    <span class="hljs-built_in">print</span>(page.title())<br><br>    page.locator(<br>        <span class="hljs-string">&#x27;body &gt; fieldset &gt; form:nth-child(2) &gt; input[type=file]&#x27;</span><br>    ).set_input_files(<span class="hljs-string">&#x27;aaa.py&#x27;</span>)                                 <span class="hljs-comment"># ä¸Šä¼ ä¸€ä¸ªæ–‡ä»¶</span><br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)<br>    page.locator(<br>        <span class="hljs-string">&#x27;body &gt; fieldset &gt; form:nth-child(3) &gt; input[type=file]&#x27;</span><br>    ).set_input_files([<span class="hljs-string">&#x27;xxx.py&#x27;</span>, <span class="hljs-string">&#x27;yyy.py&#x27;</span>, <span class="hljs-string">&#x27;zzz.py&#x27;</span>])<br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)                                 <span class="hljs-comment"># ä¸Šä¼ ä¸‰ä¸ªæ–‡ä»¶</span><br>    page.locator(<br>        <span class="hljs-string">&#x27;body &gt; fieldset &gt; form:nth-child(2) &gt; input[type=file]&#x27;</span><br>    ).set_input_files([])                                       <span class="hljs-comment"># ç©ºæ•°ç»„æ¸…é™¤æ‰€é€‰æ–‡ä»¶</span><br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)<br><br>    <span class="hljs-keyword">with</span> page.expect_file_chooser() <span class="hljs-keyword">as</span> fc_info:                 <span class="hljs-comment"># ç›‘å¬åˆ°å¼¹å‡ºæ¡†</span><br>        page.locator(<span class="hljs-string">&quot;body &gt; fieldset &gt; form:nth-child(2) &gt; input[type=file]&quot;</span>).click()<br>    page.pause()<br>    file_chooser = fc_info.value<br><br>    <span class="hljs-built_in">print</span>(file_chooser.page)                                    <span class="hljs-comment"># è¿”å›æ­¤æ–‡ä»¶é€‰æ‹©å™¨æ‰€å±çš„é¡µé¢</span><br>    <span class="hljs-built_in">print</span>(file_chooser.element)                                 <span class="hljs-comment"># è¿”å›ä¸æ­¤æ–‡ä»¶é€‰æ‹©å™¨å…³è”çš„è¾“å…¥å…ƒç´ </span><br>    <span class="hljs-built_in">print</span>(file_chooser.is_multiple())                           <span class="hljs-comment"># åˆ¤æ–­æ­¤æ–‡ä»¶é€‰æ‹©å™¨æ˜¯å¦æ¥å—å¤šä¸ªæ–‡ä»¶</span><br><br>    file_chooser.set_files(<span class="hljs-string">r&#x27;bbb.py&#x27;</span>)                           <span class="hljs-comment"># å¼¹å‡ºæ–‡ä»¶æ¡†æ‰‹åŠ¨ç‚¹å‡»ç»§ç»­æ“ä½œ</span><br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)<br><br>    page.on(<span class="hljs-string">&quot;filechooser&quot;</span>, <span class="hljs-keyword">lambda</span> file_chooser: file_chooser.set_files(<br>        <span class="hljs-string">r&#x27;ccc.py&#x27;</span><br>    ))                                                          <span class="hljs-comment"># äº‹ä»¶ç›‘å¬filechooser</span><br>    page.locator(<span class="hljs-string">&quot;body &gt; fieldset &gt; form:nth-child(2) &gt; input[type=file]&quot;</span>).click()<br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)<br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h4 id="2-upload-file-html"><a href="#2-upload-file-html" class="headerlink" title="(2) upload_file.html"></a>(2) upload_file.html</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-comment">&lt;!-- upload_file.html --&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;zh-cn&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>upload_file<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align: center;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">fieldset</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">legend</span>&gt;</span>ä¸Šä¼ æ–‡ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">legend</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">form</span>&gt;</span>å•ä¸ªæ–‡ä»¶<br>            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;file&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;one_file&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">form</span>&gt;</span>å¤šä¸ªæ–‡ä»¶<br>            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;file&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;more_file&quot;</span> <span class="hljs-attr">multiple</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">fieldset</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="6-2-æ–‡ä»¶ä¸‹è½½"><a href="#6-2-æ–‡ä»¶ä¸‹è½½" class="headerlink" title="6-2 æ–‡ä»¶ä¸‹è½½"></a>6-2 æ–‡ä»¶ä¸‹è½½</h2><ul><li>æ–‡ä»¶ä¸‹è½½<ul><li><code>download.cancel()</code>ï¼šå–æ¶ˆä¸‹è½½ã€‚</li><li><code>download.delete()</code>ï¼šåˆ é™¤ä¸‹è½½æ–‡ä»¶ï¼Œå¦‚æœ‰å¿…è¦ï¼Œå°†ç­‰å¾…ä¸‹è½½å®Œæˆã€‚</li><li><code>download.failure()</code>ï¼šè¿”å›ä¸‹è½½é”™è¯¯ï¼Œå¦‚æœ‰å¿…è¦ï¼Œå°†ç­‰å¾…ä¸‹è½½å®Œæˆã€‚</li><li><code>download.path()</code>ï¼šä¸‹è½½æˆåŠŸå°†è¿”å›æ–‡ä»¶çš„è·¯å¾„ï¼Œå¦‚æœ‰å¿…è¦ï¼Œå°†ç­‰å¾…ä¸‹è½½å®Œæˆã€‚</li><li><code>download.suggested_filename</code>ï¼šè·å–å»ºè®®æ–‡ä»¶åï¼Œä¸‹è½½çš„æ–‡ä»¶åæ˜¯éšæœºGUIDã€‚</li></ul></li></ul><h4 id="1-download-file-py"><a href="#1-download-file-py" class="headerlink" title="(1) download_file.py"></a>(1) download_file.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">run</span>(<span class="hljs-params">playwright</span>):<br>    browser = playwright.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">3000</span>)<br>    page = browser.new_page()<br>    page.goto(<span class="hljs-string">r&#x27;.../download_file.html&#x27;</span>)                        <span class="hljs-comment"># download_file.htmlæ–‡ä»¶è·¯å¾„</span><br><br>    <span class="hljs-keyword">with</span> page.expect_download() <span class="hljs-keyword">as</span> download_info:<br>        page.get_by_text(<span class="hljs-string">&quot;Pycharmä¸‹è½½&quot;</span>).click()<br>    download = download_info.value<br>    <span class="hljs-built_in">print</span>(download.url)                                         <span class="hljs-comment"># è·å–ä¸‹è½½çš„urlåœ°å€</span><br>    <span class="hljs-built_in">print</span>(download.page)                                        <span class="hljs-comment"># è·å–ä¸‹è½½æ‰€å±çš„é¡µé¢</span><br>    <span class="hljs-built_in">print</span>(download.path())                                      <span class="hljs-comment"># ç”Ÿæˆä¸€ä¸ªéšæœºuuidå€¼ä¿å­˜</span><br>    download.save_as(download.suggested_filename)               <span class="hljs-comment"># æœ€ç»ˆç”¨save_asä¿å­˜åˆ°æœ¬åœ°</span><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br><br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> playwright:<br>    run(playwright)<br></code></pre></td></tr></table></figure><h4 id="2-download-file-html"><a href="#2-download-file-html" class="headerlink" title="(2) download_file.html"></a>(2) download_file.html</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-comment">&lt;!-- download_file.html --&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;zh-cn&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>download_file<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align: center;&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;https://download.jetbrains.com.cn/python/pycharm-professional-2023.2.1.exe&quot;</span>&gt;</span><br>        Pycharmä¸‹è½½<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h1 id="7-é”™è¯¯å¤„ç†å’Œè°ƒè¯•"><a href="#7-é”™è¯¯å¤„ç†å’Œè°ƒè¯•" class="headerlink" title="7 é”™è¯¯å¤„ç†å’Œè°ƒè¯•"></a>7 é”™è¯¯å¤„ç†å’Œè°ƒè¯•</h1><ul><li>é”™è¯¯å¤„ç†å’Œè°ƒè¯•<ul><li>å¼‚å¸¸å¤„ç†ï¼šä¸€ç§å¸¸è§çš„é”™è¯¯å¤„ç†æœºåˆ¶ï¼Œä½¿ç”¨try-exceptä»£ç å—æ•è·å’Œå¤„ç†å¯èƒ½å‡ºç°çš„å¼‚å¸¸ã€‚</li><li>æ§åˆ¶å°è°ƒè¯•å®šä½<ul><li>ä½¿ç”¨<code>page.pause()</code>è¿›å…¥æ–­ç‚¹çŠ¶æ€ï¼Œæµè§ˆå™¨F12å¼€å‘è€…å·¥å…·æ‰“å¼€Consoleé¡µé¢è°ƒè¯•å®šä½ã€‚</li><li>è¿˜å¯ä»¥ä½¿ç”¨Playwright Inspectorå·¥å…·ï¼Œæ¥å¼€å¯å½•åˆ¶ï¼Œé¡µé¢æ“ä½œç”Ÿæˆå¯¹åº”çš„å…ƒç´ å’Œæ­¥éª¤ã€‚</li><li>Playwright Inspectorå¯ä½¿ç”¨å‘½ä»¤è¡Œå¯åŠ¨ï¼Œå¦‚ï¼š<code>playwright codegen http://xxx.com/</code>ã€‚</li><li>Playwright Inspectorçš„Pick locatorå¯åœ¨æµè§ˆå™¨ä¸Šé€‰éœ€å®šä½çš„å…ƒç´ ï¼Œç”Ÿæˆå¯¹åº”çš„locatorã€‚</li><li>å½•åˆ¶ç›¸å…³å‘½ä»¤<ul><li><code>playwright codegen --viewport-size=800,600 http://xxx.com/</code>ã€‚</li><li><code>playwright codegen --lang=&quot;it-IT&quot; http://xxx.com/</code>ï¼šæ¨¡æ‹Ÿè¯­è¨€ã€‚</li><li><code>playwright codegen --color-scheme=dark http://xxx.com/</code>ï¼šæ¨¡æ‹Ÿé…è‰²ã€‚</li><li><code>playwright codegen --timezone=&quot;Europe/Rome&quot; http://xxx.com/</code>ï¼šæ¨¡æ‹Ÿæ—¶åŒºã€‚</li><li><code>playwright codegen --geolocation=&quot;41.890221,12.492348&quot; http://xxx.com/</code>ï¼šæ¨¡æ‹Ÿåœ°ç†ä½ç½®ã€‚</li><li><code>playwright codegen --device=&quot;iPhone 11&quot;</code>ï¼šæ¨¡æ‹Ÿç§»åŠ¨è®¾å¤‡iPhone11ï¼Œdeviceå€¼å¿…é¡»åŒå¼•å·ä¸”åŒºåˆ†å¤§å°å†™ã€‚</li><li><code>playwright open --load-storage=auth.json</code>ï¼šæ‰“å¼€Playwrightä¸Šä¸‹æ–‡å¹¶åŠ è½½å­˜å‚¨æ•°æ®æ–‡ä»¶ä»¥ä¿ç•™ä¼šè¯çŠ¶æ€ã€‚</li><li><code>playwright codegen --load-storage=auth.json</code>ï¼šåœ¨ç”Ÿæˆä»£ç æ—¶åŠ è½½å­˜å‚¨æ•°æ®ï¼Œä»¥ä¿æŒä¸ä¹‹å‰ä¼šè¯çš„è¿ç»­æ€§ã€‚</li><li><code>playwright codegen --save-storage=auth.json http://xxx.com/</code>ï¼šç”¨äºç”Ÿæˆä»£ç æ—¶å°†å­˜å‚¨æ•°æ®ä¿å­˜åˆ°æ–‡ä»¶ä¸­ã€‚</li></ul></li><li>consoleé¡µé¢è¯­æ³•<ul><li><code>playwright.selector(element)</code>ï¼šä¸ºç»™å®šå…ƒç´ ç”Ÿæˆé€‰æ‹©å™¨ã€‚</li><li><code>playwright.$$(selector)</code>ï¼šç±»ä¼¼äº<code>playwright.$</code>ï¼Œä½†æ˜¯ä¼šè¿”å›å…¨éƒ¨çš„åŒ¹é…å…ƒç´ ã€‚</li><li><code>playwright.$(selector)</code>ï¼šä½¿ç”¨å®é™…çš„PlaywrightæŸ¥è¯¢å¼•æ“æŸ¥è¯¢Playwrighté€‰æ‹©å™¨ã€‚</li><li><code>playwright.locator(selector)</code>ï¼šä½¿ç”¨å®é™…çš„PlaywrightæŸ¥è¯¢å¼•æ“æŸ¥è¯¢Playwrightå…ƒç´ ã€‚</li><li><code>playwright.inspect(selector)</code>ï¼šå…ƒç´ é¢æ¿ä¸­æ˜¾ç¤ºå…ƒç´ (éœ€ç›¸åº”æµè§ˆå™¨çš„DevToolsæ”¯æŒ)ã€‚</li></ul></li></ul></li><li>é«˜äº®å®šä½ä¸è°ƒè¯•ï¼šä¸ºæ¸…æ¥šå½“å‰å®šä½æ–¹å¼åœ¨é¡µé¢ä¸Šæ‰¾åˆ°å“ªäº›å…ƒç´ ï¼Œå¯ä»¥ä½¿ç”¨highlight()é«˜äº®å®šä½å…ƒç´ ã€‚</li></ul></li></ul><h2 id="7-1-å¼‚å¸¸å¤„ç†"><a href="#7-1-å¼‚å¸¸å¤„ç†" class="headerlink" title="7-1 å¼‚å¸¸å¤„ç†"></a>7-1 å¼‚å¸¸å¤„ç†</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)<br>    page = browser.new_page()<br>    page.goto(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br><br>    <span class="hljs-keyword">try</span>:<br>        element = page.locator(<span class="hljs-string">&#x27;#myElement&#x27;</span>)                    <span class="hljs-comment"># å°è¯•æŸ¥æ‰¾IDä¸ºmyElementçš„å…ƒç´ </span><br>        <span class="hljs-keyword">if</span> element:<br>            element.click()                                     <span class="hljs-comment"># æ‰¾åˆ°åˆ™ç‚¹å‡»</span><br>        <span class="hljs-keyword">else</span>:                                                   <span class="hljs-comment"># å¦åˆ™æŠ›å‡ºå¼‚å¸¸</span><br>            <span class="hljs-keyword">raise</span> Exception(<span class="hljs-string">&quot;æ²¡æ‰¾åˆ°å¯¹åº”å…ƒç´ &quot;</span>)<br>    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:                                      <span class="hljs-comment"># æŠ›å‡ºå¼‚å¸¸åæ‰“å°å¼‚å¸¸ä¿¡æ¯</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;äº§ç”Ÿäº†ä¸€ä¸ªé”™è¯¯: <span class="hljs-subst">&#123;<span class="hljs-built_in">str</span>(e)&#125;</span>&quot;</span>)<br>    <span class="hljs-keyword">finally</span>:<br>        browser.close()                                         <span class="hljs-comment"># æœ€åæ— è®ºæ˜¯å¦å¼‚å¸¸ï¼Œéƒ½å…³é—­æµè§ˆå™¨</span><br></code></pre></td></tr></table></figure><h2 id="7-2-æ§åˆ¶å°è°ƒè¯•å®šä½"><a href="#7-2-æ§åˆ¶å°è°ƒè¯•å®šä½" class="headerlink" title="7-2 æ§åˆ¶å°è°ƒè¯•å®šä½"></a>7-2 æ§åˆ¶å°è°ƒè¯•å®šä½</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>)   <span class="hljs-comment"># å¯åŠ¨chromiumæµè§ˆå™¨</span><br>    page = browser.new_page()                                   <span class="hljs-comment"># æ‰“å¼€ä¸€ä¸ªæ ‡ç­¾é¡µ</span><br>    page.goto(<span class="hljs-string">&quot;https://mail.163.com/&quot;</span>)<br>    <span class="hljs-built_in">print</span>(page.frames)<br><br>    iframe = page.frame_locator(<span class="hljs-string">&#x27;//iframe[contains(@id, &quot;x-URS-iframe&quot;)]&#x27;</span>)<br>    iframe.locator(<span class="hljs-string">&#x27;[name=&quot;email&quot;]&#x27;</span>).fill(<span class="hljs-string">&#x27;Tester&#x27;</span>)             <span class="hljs-comment"># xpathæ¨¡ç³ŠåŒ¹é…</span><br>    iframe.locator(<span class="hljs-string">&#x27;[name=&quot;password&quot;]&#x27;</span>).fill(<span class="hljs-string">&quot;123456&quot;</span>)<br>    page.pause()<br>    iframe.locator(<span class="hljs-string">&quot;#dologin&quot;</span>).click()<br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)<br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h2 id="7-3-é«˜äº®å®šä½ä¸è°ƒè¯•"><a href="#7-3-é«˜äº®å®šä½ä¸è°ƒè¯•" class="headerlink" title="7-3 é«˜äº®å®šä½ä¸è°ƒè¯•"></a>7-3 é«˜äº®å®šä½ä¸è°ƒè¯•</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">2000</span>)<br>    context = browser.new_context()                             <span class="hljs-comment"># åˆ›å»ºä¸Šä¸‹æ–‡</span><br>    page = context.new_page()                                   <span class="hljs-comment"># æ‰“å¼€æ ‡ç­¾é¡µ</span><br><br>    page.goto(<span class="hljs-string">&#x27;https://www.baidu.com&#x27;</span>)<br>    page.get_by_text(<span class="hljs-string">&quot;æ–°é—»&quot;</span>).highlight()<br>    page.wait_for_timeout(<span class="hljs-number">20000</span>)                                <span class="hljs-comment"># é«˜äº®å®šä½</span><br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h1 id="8-consoleäº‹ä»¶ç›‘å¬"><a href="#8-consoleäº‹ä»¶ç›‘å¬" class="headerlink" title="8 consoleäº‹ä»¶ç›‘å¬"></a>8 consoleäº‹ä»¶ç›‘å¬</h1><ul><li>consoleäº‹ä»¶ç›‘å¬<ul><li><code>page.on(&quot;console&quot;, handler)</code>ï¼šç›‘å¬ç‰¹å®šé¡µé¢çš„Consoleäº‹ä»¶ï¼Œä¼ å…¥å¤„ç†å‡½æ•°handlerã€‚</li><li><code>cdpSession.on(&quot;Console.messageAdded&quot;, handler)</code>ï¼šç›‘å¬CDPä¼šè¯ä¸Šçš„Consoleäº‹ä»¶ã€‚</li><li>åè€…å¯åœ¨ä¸åŒé¡µé¢é—´å…±äº«åŒä¸€ä¸ªChrome DevTools Protocol(CDP)ä¼šè¯ï¼Œå¹¶ç›‘å¬è¯¥ä¼šè¯ä¸‹çš„Consoleäº‹ä»¶ã€‚</li><li>ç›‘å¬Consoleäº‹ä»¶åï¼Œå¯æ‰§è¡Œä»¥ä¸‹æ“ä½œã€‚<ul><li><code>page.on(&quot;console&quot;, handler)</code>æˆ–<code>cdpSession.on(&quot;Console.messageAdded&quot;, handler)</code>æ·»åŠ ç›¸åº”çš„äº‹ä»¶ç›‘å¬å™¨ã€‚</li><li><code>page.remove_listener(&quot;event&quot;, print_request_finished)</code>å¯ç”¨æ¥åˆ é™¤å·²æ·»åŠ çš„ç‰¹å®šé¡µé¢Consoleäº‹ä»¶ç›‘å¬å™¨ã€‚</li><li>ç›®å‰æ²¡æœ‰åˆ é™¤CDPä¼šè¯çš„ç‰¹å®šäº‹ä»¶ç›‘å¬å™¨æ–¹æ³•ï¼Œä½¿ç”¨åˆ›å»ºæ–°çš„CDPä¼šè¯äº‹ä»¶ç›‘å¬å™¨æ¥æ›¿ä»£æ—§çš„ï¼Œä»¥è¾¾åˆ é™¤ç›®çš„ã€‚</li></ul></li><li>è‹¥æŸä¸ªäº‹ä»¶éœ€è¦å¤„ç†ä¸€æ¬¡ï¼Œå¯ä½¿ç”¨<code>page.once(&quot;console&quot;, handler)</code>æ·»åŠ ä¸€æ¬¡æ€§äº‹ä»¶ï¼Œè¯¥æ–¹æ³•æ˜¯é’ˆå¯¹pageé¡µé¢å¯¹è±¡çš„ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">console_msg</span>(<span class="hljs-params">msg</span>):<br>    values = []<br>    <span class="hljs-keyword">for</span> arg <span class="hljs-keyword">in</span> msg.args:<br>        <span class="hljs-built_in">print</span>(msg)<br>        values.append(<span class="hljs-string">f&#x27;<span class="hljs-subst">&#123;arg.json_value()&#125;</span>&#x27;</span>)<br><br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;console.log&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>) <span class="hljs-keyword">as</span> fp:<br>        fp.write(<span class="hljs-string">&#x27;&#x27;</span>.join(values) + <span class="hljs-string">&#x27;\n&#x27;</span>)<br><br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">100</span>)<br>    context = browser.new_context()                             <span class="hljs-comment"># åˆ›å»ºä¸Šä¸‹æ–‡</span><br>    page = context.new_page()                                   <span class="hljs-comment"># æ‰“å¼€æ ‡ç­¾é¡µ</span><br>    <span class="hljs-keyword">with</span> page.expect_request(<span class="hljs-string">&quot;**/*logo*.png&quot;</span>) <span class="hljs-keyword">as</span> first:         <span class="hljs-comment"># ç­‰å¾…å…·æœ‰æŒ‡å®šurlçš„è¯·æ±‚</span><br>        page.goto(<span class="hljs-string">&quot;https://www.hao123.com/&quot;</span>)<br>    <span class="hljs-built_in">print</span>(first.value.url)<br><br>    <span class="hljs-keyword">with</span> page.expect_popup() <span class="hljs-keyword">as</span> popup:                          <span class="hljs-comment"># ç­‰å¾…å¼¹å‡ºçª—å£</span><br>        page.locator(<span class="hljs-string">&#x27;//*[@id=&quot;footer&quot;]/div/div[1]/a[3]&#x27;</span>).click()<br>        page.wait_for_timeout(<span class="hljs-number">1000</span>)                             <span class="hljs-comment"># å¼¹å‡ºå…¨ç«™åœ°å›¾çª—å£é¡µ</span><br>    popup.value.goto(<span class="hljs-string">&quot;https://www.hao123.com/&quot;</span>)                 <span class="hljs-comment"># çª—å£é¡µæ‰“å¼€hao123é¡µé¢</span><br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)                                 <span class="hljs-comment"># åœ¨æŒ‡å®šçš„æ—¶é—´é—´éš”åç»§ç»­æ‰§è¡Œåç»­ä»£ç </span><br><br>    page.on(<span class="hljs-string">&quot;console&quot;</span>, console_msg)                             <span class="hljs-comment"># ç›‘å¬consoleå†…å®¹</span><br>    page.goto(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br>    page.wait_for_load_state(<span class="hljs-string">&quot;networkidle&quot;</span>)                     <span class="hljs-comment"># ç­‰å¾…é¡µé¢åœ¨ç½‘ç»œç©ºé—²çŠ¶æ€æ—¶åœæ­¢åŠ è½½</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">print_request_sent</span>(<span class="hljs-params">request</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Request sent: &quot;</span> + request.url)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">print_request_finished</span>(<span class="hljs-params">request</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Request finished: &quot;</span> + request.url)<br><br>    page.on(<span class="hljs-string">&quot;request&quot;</span>, print_request_sent)<br>    page.on(<span class="hljs-string">&quot;requestfinished&quot;</span>, print_request_finished)<br>    page.goto(<span class="hljs-string">&quot;https://www.sogou.com/&quot;</span>)<br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)<br><br>    page.remove_listener(<span class="hljs-string">&quot;requestfinished&quot;</span>, print_request_finished)<br>    page.goto(<span class="hljs-string">&quot;https://www.sogou.com/&quot;</span>)<br>    page.wait_for_timeout(<span class="hljs-number">1000</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">handle_dialog</span>(<span class="hljs-params">dialog</span>):<br>        dialog.accept(<span class="hljs-string">&quot;2021&quot;</span>)<br>    page.goto(<span class="hljs-string">&quot;https://www.runoob.com/try/try.php?filename=ionic_ionicpopup&quot;</span>)<br>    iframe = page.frame_locator(<span class="hljs-string">&#x27;//*[@id=&quot;iframeResult&quot;]&#x27;</span>)<br>    iframe.get_by_role(<span class="hljs-string">&quot;button&quot;</span>, name=<span class="hljs-string">&quot;å¼¹çª—æ˜¾ç¤º&quot;</span>).click()<br>    <span class="hljs-comment"># page.once(&quot;dialog&quot;, lambda dialog: dialog.accept(&quot;2021&quot;))</span><br>    page.once(<span class="hljs-string">&quot;dialog&quot;</span>, handle_dialog)                          <span class="hljs-comment"># æ³¨å†Œå¯¹è¯æ¡†å¤„ç†ç¨‹åº</span><br>    page.evaluate(<span class="hljs-string">&quot;prompt(&#x27;Enter a number:&#x27;)&quot;</span>)                  <span class="hljs-comment"># è§¦å‘æç¤ºæ¡†</span><br>    page.wait_for_timeout(<span class="hljs-number">3000</span>)<br><br>    browser.close()                                             <span class="hljs-comment"># å…³é—­æµè§ˆå™¨å¯¹è±¡</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>æµ‹è¯•æ¡†æ¶</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>PlayWright</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>UnitTest æµ‹è¯•æ¡†æ¶</title>
    <link href="/2023/07/23/ce-shi-kuang-jia/tf04-unittest-ce-shi-kuang-jia/"/>
    <url>/2023/07/23/ce-shi-kuang-jia/tf04-unittest-ce-shi-kuang-jia/</url>
    
    <content type="html"><![CDATA[<p>UnitTestæ˜¯Pythonè‡ªå¸¦çš„å•å…ƒæµ‹è¯•æ¡†æ¶ï¼Œé€‚ç”¨äºå•å…ƒæµ‹è¯•ï¼Œè¿˜å¯ç”¨äºWebã€Appiumã€æ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹çš„å¼€å‘ä¸æ‰§è¡Œç­‰ã€‚</p><span id="more"></span><h1 id="1-æ¡†æ¶æ ¸å¿ƒ"><a href="#1-æ¡†æ¶æ ¸å¿ƒ" class="headerlink" title="1 æ¡†æ¶æ ¸å¿ƒ"></a>1 æ¡†æ¶æ ¸å¿ƒ</h1><ul><li>æ¡†æ¶æ ¸å¿ƒ<ul><li>TestCaseï¼šæµ‹è¯•ç”¨ä¾‹ã€‚<ul><li>ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹å°±æ˜¯ä¸€ä¸ªå®Œæ•´çš„æµ‹è¯•å•å…ƒï¼Œé€šè¿‡è¿è¡Œè¿™ä¸ªæµ‹è¯•å•å…ƒï¼Œå¯ä»¥å¯¹æŸä¸€ä¸ªé—®é¢˜è¿›è¡ŒéªŒè¯ã€‚</li><li>åŒ…æ‹¬æµ‹è¯•å‰å‡†å¤‡ç¯å¢ƒçš„æ­å»º(setUp)ï¼Œæ‰§è¡Œæµ‹è¯•ä»£ç (run)ï¼Œä»¥åŠæµ‹è¯•åç¯å¢ƒçš„é”€æ¯(tearDown)ã€‚</li></ul></li><li>TestSuiteï¼šæµ‹è¯•å¥—ä»¶ï¼Œå³å¤šä¸ªæµ‹è¯•ç”¨ä¾‹é›†åˆåœ¨ä¸€èµ·ï¼ŒTestSuiteå¯ä»¥åµŒå¥—TestSuiteã€‚</li><li>TextTestRunnerï¼šæ‰§è¡Œæµ‹è¯•ç”¨ä¾‹ï¼ŒåŒ…æ‹¬æ‰§è¡ŒTestSuiteæˆ–TestCaseä¸­çš„æ–¹æ³•ã€‚</li><li>TestLoaderï¼šæ‰¹é‡æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹(å¯æœç´¢æŒ‡å®šæ–‡ä»¶å¤¹å†…æŒ‡å®šå­—æ¯å¼€å¤´çš„æ¨¡å—)ã€‚</li><li>Fixtureï¼šå›ºå®šè£…ç½®(ä¸¤ä¸ªå›ºå®šå‡½æ•°ï¼Œä¸€ä¸ªåˆå§‹åŒ–æ—¶ä½¿ç”¨ï¼Œä¸€ä¸ªç»“æŸæ—¶ä½¿ç”¨ï¼Œå³æµ‹è¯•ç¯å¢ƒçš„æ­å»ºå’Œé”€æ¯)ã€‚</li></ul></li></ul><h2 id="1-1-TestCase"><a href="#1-1-TestCase" class="headerlink" title="1-1 TestCase"></a>1-1 TestCase</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># 1ã€å¯¼åŒ…ï¼Œtest_case_01.py</span><br><span class="hljs-keyword">import</span> unittest<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_method0</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æµ‹è¯•æ–¹æ³•1-0&quot;</span>)<br><br><br><span class="hljs-comment"># 2ã€è‡ªå®šä¹‰æµ‹è¯•ç±»ï¼Œç»§æ‰¿unittest.TestCase</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestCase01</span>(unittest.TestCase):<br>    <span class="hljs-comment"># 3ã€æµ‹è¯•æ–¹æ³•ä»¥test_å¼€å¤´ï¼Œtest_method1å³ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_method1</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æµ‹è¯•æ–¹æ³•1-1&quot;</span>)<br><br>    <span class="hljs-comment"># 4ã€æµ‹è¯•ç”¨ä¾‹çš„æ‰§è¡Œé¡ºåºæ˜¯æŒ‰æ–¹æ³•åçš„ASCIIå€¼è¿›è¡Œæ’åºçš„</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_method2</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æµ‹è¯•æ–¹æ³•1-2&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    <span class="hljs-comment"># 5ã€æ‰§è¡Œç”¨ä¾‹</span><br>    <span class="hljs-comment"># â‘ è‹¥å…‰æ ‡(é¼ æ ‡)æ”¾åœ¨ç±»åé¢æ‰§è¡Œï¼Œåˆ™æ‰§è¡Œå½“å‰ç±»ä¸‹çš„æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹</span><br>    <span class="hljs-comment"># â‘¡è‹¥å…‰æ ‡(é¼ æ ‡)æ”¾åœ¨æ–¹æ³•åæ‰§è¡Œï¼Œåˆ™æ‰§è¡Œçš„æ˜¯å½“å‰æ–¹æ³•çš„æµ‹è¯•ç”¨ä¾‹</span><br>    <span class="hljs-comment"># â‘¢å‘½ä»¤è¡Œæ¨¡å¼æ‰§è¡Œï¼šverbosityå‚æ•°æ§åˆ¶æµ‹è¯•æ‰§è¡Œçš„è¯¦ç»†ç¨‹åº¦</span><br>    <span class="hljs-comment">#       0(å®‰é™æ¨¡å¼)ï¼šåªæ˜¾ç¤ºæ‰§è¡Œçš„æµ‹è¯•æ€»æ•°å’Œå…¨å±€ç»“æœ</span><br>    <span class="hljs-comment">#       1(é»˜è®¤æ¨¡å¼)ï¼šæ˜¾ç¤ºæ‰§è¡Œçš„æµ‹è¯•æ€»æ•°ï¼ŒæˆåŠŸç‚¹ï¼Œå¤±è´¥Fï¼Œå‡ºé”™Eï¼Œè·³è¿‡S</span><br>    <span class="hljs-comment">#       2(è¯¦ç»†æ¨¡å¼)ï¼šæ˜¾ç¤ºæ¯ä¸ªæµ‹è¯•ç”¨ä¾‹çš„å¸®åŠ©å­—ç¬¦ä¸²å’Œç»“æœ</span><br>    unittest.main(verbosity=<span class="hljs-number">1</span>)<br></code></pre></td></tr></table></figure><h2 id="1-2-TestSuite"><a href="#1-2-TestSuite" class="headerlink" title="1-2 TestSuite"></a>1-2 TestSuite</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># 1ã€å¯¼åŒ…ï¼ŒtestSuite.pyï¼Œtest_case_02.pyã€test_case_03.pyåŒtest_case_01.py</span><br><span class="hljs-keyword">import</span> unittest<br><span class="hljs-keyword">from</span> test_case_01 <span class="hljs-keyword">import</span> TestCase01<br><span class="hljs-keyword">from</span> test_case_02 <span class="hljs-keyword">import</span> TestCase02<br><span class="hljs-keyword">from</span> test_case_03 <span class="hljs-keyword">import</span> TestCase03<br><br><span class="hljs-comment"># 2ã€å®ä¾‹åŒ–å¥—ä»¶å¯¹è±¡</span><br>suite = unittest.TestSuite()<br><br><span class="hljs-comment"># 3ã€ä½¿ç”¨å¥—ä»¶å¯¹è±¡æ·»åŠ æµ‹è¯•ç”¨ä¾‹çš„æ–¹æ³•ï¼šå¥—ä»¶å¯¹è±¡.addTest(unittest.makeSuite(æµ‹è¯•ç±»å))</span><br>suite.addTest(unittest.makeSuite(TestCase01))<br>suite.addTest(unittest.makeSuite(TestCase02))<br>suite.addTest(unittest.makeSuite(TestCase03))<br><br><span class="hljs-comment"># 4ã€å®ä¾‹åŒ–è¿è¡Œå¯¹è±¡</span><br>runner = unittest.TextTestRunner()<br><br><span class="hljs-comment"># 5ã€ä½¿ç”¨è¿è¡Œå¯¹è±¡æ‰§è¡Œå¥—ä»¶å¯¹è±¡ï¼šè¿è¡Œå¯¹è±¡.run(å¥—ä»¶å¯¹è±¡)</span><br>runner.run(suite)<br></code></pre></td></tr></table></figure><h2 id="1-3-TestLoader"><a href="#1-3-TestLoader" class="headerlink" title="1-3 TestLoader"></a>1-3 TestLoader</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># 1ã€å¯¼åŒ…ï¼ŒtestLoader.py</span><br><span class="hljs-keyword">import</span> unittest<br><br><span class="hljs-comment"># 2ã€å®ä¾‹åŒ–TestLoaderç±»ï¼Œå¹¶ä½¿ç”¨discoveræ–¹æ³•åŠ è½½æµ‹è¯•ç”¨ä¾‹</span><br>suite = unittest.TestLoader().discover(<span class="hljs-string">&quot;./&quot;</span>, <span class="hljs-string">&quot;test_c*.py&quot;</span>)<br><span class="hljs-comment"># ç­‰æ•ˆå†™æ³•ï¼šä½¿ç”¨defaultTestLoaderå±æ€§åŠ è½½æµ‹è¯•ç”¨ä¾‹</span><br><span class="hljs-comment"># suite = unittest.defaultTestLoader.discover(&quot;./&quot;, &quot;test_c*.py&quot;)</span><br><br><span class="hljs-comment"># 3ã€å®ä¾‹åŒ–è¿è¡Œå¯¹è±¡</span><br>runner = unittest.TextTestRunner()<br><br><span class="hljs-comment"># 4ã€ä½¿ç”¨è¿è¡Œå¯¹è±¡æ‰§è¡Œå¥—ä»¶å¯¹è±¡ï¼šè¿è¡Œå¯¹è±¡.run(å¥—ä»¶å¯¹è±¡)</span><br>runner.run(suite)<br></code></pre></td></tr></table></figure><h2 id="1-4-åŠ è½½ä¸å¥—ä»¶"><a href="#1-4-åŠ è½½ä¸å¥—ä»¶" class="headerlink" title="1-4 åŠ è½½ä¸å¥—ä»¶"></a>1-4 åŠ è½½ä¸å¥—ä»¶</h2><ul><li>åŠ è½½ä¸å¥—ä»¶<ul><li>TestLoaderç”¨äºåŠ è½½æµ‹è¯•ç”¨ä¾‹ï¼Œè€ŒTestSuiteç”¨äºç»„ç»‡å’Œç®¡ç†æµ‹è¯•ç”¨ä¾‹ã€‚</li><li>åŠ è½½ç”¨ä¾‹æ–¹æ³•<ul><li><code>discover(&quot;file_path&quot;, pattern)</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·ä»æŒ‡å®šç›®å½•ä¸­åŠ è½½ç”¨ä¾‹</li><li><code>loadTestsFromModule(test_module)</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·æ¨¡å—åŠ è½½å•ä¸ªæµ‹è¯•ç”¨ä¾‹</li><li><code>loadTestsFromTestCase(TestCaseClass)</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·TestCaseç±»åŠ è½½å•ä¸ªæµ‹è¯•ç”¨ä¾‹</li><li><code>loadTestsFromName(&#39;test_module.TestCaseClass&#39;)</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·ä»å®Œæ•´è·¯å¾„åŠ è½½å•ä¸ªæµ‹è¯•ç”¨ä¾‹</li><li><code>loadTestsFromNames([&#39;test_module.TestCaseClass1&#39;, &#39;test_module.TestCaseClass2&#39;])</code>Â·Â·Â·åŠ è½½å¤šä¸ªç”¨ä¾‹</li></ul></li><li>æ·»åŠ ç”¨ä¾‹æ–¹æ³•ï¼šæ·»åŠ å•ä¸ªç”¨ä¾‹å¯ä»¥ä½¿ç”¨<code>suite.addTest()</code>ï¼Œæ·»åŠ å¤šä¸ªç”¨ä¾‹å¯ä»¥ä½¿ç”¨<code>suite.addTests()</code>ã€‚</li><li><code>discover()</code>ä¼šè‡ªåŠ¨æ‰«ææŒ‡å®šç›®å½•åŠå…¶å­ç›®å½•ä¸­çš„æµ‹è¯•æ–‡ä»¶ï¼Œé€’å½’åœ°å‘ç°å¹¶åŠ è½½æµ‹è¯•ç”¨ä¾‹ï¼Œæ— éœ€é€ä¸ªæŒ‡å®šã€‚</li><li><code>loadTestsFromXXX()</code>éœ€è¦æ˜¾å¼åœ°æŒ‡å®šè¦åŠ è½½çš„æµ‹è¯•ç”¨ä¾‹æˆ–æ¨¡å—ï¼Œé€‚åˆäºæ‰‹åŠ¨æŒ‡å®šåŠ è½½ç‰¹å®šçš„ç”¨ä¾‹æˆ–æ¨¡å—ã€‚</li><li><code>makeSuite()</code>é€‚ç”¨äºå·²ç»å®šä¹‰å¥½çš„æµ‹è¯•ç±»ï¼Œè€Œ<code>loadTestsFromXXX()</code>é€‚ç”¨äºéœ€è¦åŠ¨æ€åŠ è½½æµ‹è¯•ç”¨ä¾‹çš„æƒ…å†µã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># 1ã€å¯¼åŒ…ï¼ŒtestDifference.py</span><br><span class="hljs-keyword">import</span> unittest<br><br><span class="hljs-comment"># 2ã€åˆ›å»ºä¸€ä¸ªTestSuiteå®ä¾‹</span><br>suite = unittest.TestSuite()<br><br><span class="hljs-comment"># 3ã€åˆ›å»ºä¸€ä¸ªTestLoaderå®ä¾‹</span><br>loader = unittest.TestLoader()<br><br><span class="hljs-comment"># from test_case_01 import TestCase01</span><br><span class="hljs-comment"># from test_case_02 import TestCase02</span><br><span class="hljs-comment"># from test_case_03 import TestCase03</span><br><span class="hljs-comment"># suite.addTest(unittest.makeSuite(TestCase01))</span><br><span class="hljs-comment"># suite.addTest(unittest.makeSuite(TestCase02))</span><br><span class="hljs-comment"># suite.addTest(unittest.makeSuite(TestCase03))</span><br><br><span class="hljs-comment"># 4ã€å°†åŠ è½½çš„æµ‹è¯•ç”¨ä¾‹æ·»åŠ åˆ°TestSuiteä¸­</span><br>suite.addTests(loader.discover(<span class="hljs-string">&quot;./&quot;</span>, pattern=<span class="hljs-string">&quot;test_c*.py&quot;</span>))<br><br><span class="hljs-comment"># import test_case_01</span><br><span class="hljs-comment"># import test_case_02</span><br><span class="hljs-comment"># import test_case_03</span><br><span class="hljs-comment"># suite.addTest(loader.loadTestsFromModule(test_case_01))</span><br><span class="hljs-comment"># suite.addTest(loader.loadTestsFromModule(test_case_02))</span><br><span class="hljs-comment"># suite.addTest(loader.loadTestsFromModule(test_case_03))</span><br><br><span class="hljs-comment"># from test_case_01 import TestCase01</span><br><span class="hljs-comment"># from test_case_02 import TestCase02</span><br><span class="hljs-comment"># from test_case_03 import TestCase03</span><br><span class="hljs-comment"># suite.addTest(loader.loadTestsFromTestCase(TestCase01))</span><br><span class="hljs-comment"># suite.addTest(loader.loadTestsFromTestCase(TestCase02))</span><br><span class="hljs-comment"># suite.addTest(loader.loadTestsFromTestCase(TestCase03))</span><br><br><span class="hljs-comment"># suite.addTest(loader.loadTestsFromName(&#x27;test_case_01.TestCase01&#x27;))</span><br><span class="hljs-comment"># suite.addTest(loader.loadTestsFromName(&#x27;test_case_02.TestCase02&#x27;))</span><br><span class="hljs-comment"># suite.addTest(loader.loadTestsFromName(&#x27;test_case_03.TestCase03&#x27;))</span><br><br><span class="hljs-comment"># suite.addTests(loader.loadTestsFromNames([</span><br><span class="hljs-comment">#     &#x27;test_case_01.TestCase01&#x27;,</span><br><span class="hljs-comment">#     &#x27;test_case_02.TestCase02&#x27;,</span><br><span class="hljs-comment">#     &#x27;test_case_03.TestCase03&#x27;</span><br><span class="hljs-comment"># ]))</span><br><br><span class="hljs-comment"># 5ã€è¿è¡ŒTestSuiteä¸­çš„æµ‹è¯•ç”¨ä¾‹</span><br>unittest.TextTestRunner().run(suite)<br></code></pre></td></tr></table></figure><h2 id="1-5-æµ‹è¯•è„šæ‰‹æ¶"><a href="#1-5-æµ‹è¯•è„šæ‰‹æ¶" class="headerlink" title="1-5 æµ‹è¯•è„šæ‰‹æ¶"></a>1-5 æµ‹è¯•è„šæ‰‹æ¶</h2><ul><li>æµ‹è¯•è„šæ‰‹æ¶<ul><li>æµ‹è¯•è„šæ‰‹æ¶å³Fixtureï¼Œä¸€ç§ä»£ç ç»“æ„ï¼Œå¯ä»¥åœ¨æµ‹è¯•ç”¨ä¾‹æ‰§è¡Œå‰åè‡ªåŠ¨è°ƒç”¨æŒ‡å®šçš„å‡½æ•°ã€‚</li><li>æ–¹æ³•çº§åˆ«ï¼šæ¯ä¸ªæµ‹è¯•æ–¹æ³•æ‰§è¡Œå‰éƒ½ä¼šæ‰§è¡Œ<code>setUp()</code>ï¼Œæ‰§è¡Œä¹‹åéƒ½ä¼šæ‰§è¡Œ<code>tearDown()</code>ã€‚</li><li>ç±»çº§åˆ«ï¼šæ¯ä¸ªç±»æ‰§è¡Œå‰æ‰§è¡Œä¸€æ¬¡<code>setUpClass()</code>ï¼Œæ‰§è¡Œåæ‰§è¡Œä¸€æ¬¡<code>tearDownClass()</code>ã€‚</li><li>æ¨¡å—çº§åˆ«ï¼šæ¨¡å—æ‰§è¡Œå‰æ‰§è¡Œä¸€æ¬¡<code>setUpModule()</code>ï¼Œæ¨¡å—æ‰§è¡Œåæ‰§è¡Œä¸€æ¬¡<code>tearDownModule()</code>ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># testFixture.py</span><br><span class="hljs-keyword">import</span> unittest<br><span class="hljs-keyword">import</span> requests<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">setUpModule</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æµ‹è¯•æ¨¡å—å‰ç½®æ‰§è¡Œ-åˆå§‹æ“ä½œ&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">tearDownModule</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æµ‹è¯•æ¨¡å—åç½®æ‰§è¡Œ-æ¸…ç†ç¯å¢ƒ&quot;</span>)<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestWeatherAPI</span>(unittest.TestCase):<br>    <span class="hljs-comment"># ç±»æ–¹æ³•å¿…é¡»ä½¿ç”¨@classmethodè£…é¥°</span><br><span class="hljs-meta">    @classmethod</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">setUpClass</span>(<span class="hljs-params">cls</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ç±»æ–¹æ³•çš„å‰ç½®æ‰§è¡Œ-åˆå§‹æ“ä½œ&quot;</span>)<br><br><span class="hljs-meta">    @classmethod</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">tearDownClass</span>(<span class="hljs-params">cls</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ç±»æ–¹æ³•çš„åç½®æ‰§è¡Œ-æ¸…ç†ç¯å¢ƒ&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">setUp</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ¯ä¸ªç”¨ä¾‹å‰ç½®æ‰§è¡Œ-åˆå§‹æ“ä½œ&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">tearDown</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ¯ä¸ªç”¨ä¾‹åç½®æ‰§è¡Œ-æ¸…ç†ç¯å¢ƒ&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_weather_api</span>(<span class="hljs-params">self</span>):<br>        url = <span class="hljs-string">&quot;http://t.weather.sojson.com/api/weather/city/101230201&quot;</span><br>        response = requests.get(url)<br>        self.assertEqual(response.status_code, <span class="hljs-number">200</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_history_api</span>(<span class="hljs-params">self</span>):<br>        url = <span class="hljs-string">&quot;https://api.oick.cn/lishi/api.php&quot;</span><br>        response = requests.get(url)<br>        self.assertEqual(response.status_code, <span class="hljs-number">200</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    unittest.main()<br></code></pre></td></tr></table></figure><h1 id="2-ç»“æœæ–­è¨€"><a href="#2-ç»“æœæ–­è¨€" class="headerlink" title="2 ç»“æœæ–­è¨€"></a>2 ç»“æœæ–­è¨€</h1><ul><li>ç»“æœæ–­è¨€<ul><li><code>assertIsNone(obj, msg=None)</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·éªŒè¯objæ˜¯Noneï¼Œä¸æ˜¯åˆ™fail</li><li><code>assertIsNotNone(obj, msg=None)</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·éªŒè¯objä¸æ˜¯Noneï¼Œæ˜¯åˆ™fail</li><li><code>assertIn(member, container, msg=None)</code>Â·Â·Â·Â·Â·Â·éªŒè¯containeræ˜¯å¦åŒ…å«member</li><li><code>assertNotIn(member, container, msg=None)</code>Â·Â·Â·éªŒè¯containeræ˜¯å¦ä¸åŒ…å«member</li><li><code>assertTrue(expr, msg=None)</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·éªŒè¯expræ˜¯trueï¼Œå¦‚æœä¸ºfalseåˆ™fail</li><li><code>assertFalse(expr, msg=None)</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·éªŒè¯expræ˜¯falseï¼Œå¦‚æœä¸ºtrueåˆ™fail</li><li><code>assertEqual(expected, actual, msg=None)</code>Â·Â·Â·Â·éªŒè¯<code>expected==actual</code>ï¼Œä¸ç­‰åˆ™fail</li><li><code>assertNotEqual(first, second, msg=None)</code>Â·Â·Â·Â·éªŒè¯<code>first!=second</code>ï¼Œå¦‚æœç›¸ç­‰åˆ™fail</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># testAssert.py</span><br><span class="hljs-keyword">import</span> unittest<br><span class="hljs-keyword">import</span> requests<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestAPIResponses</span>(unittest.TestCase):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_weather_api</span>(<span class="hljs-params">self</span>):<br>        url = <span class="hljs-string">&quot;http://t.weather.sojson.com/api/weather/city/101230201&quot;</span><br>        response = requests.get(url)<br>        self.assertIsNotNone(response.json(), <span class="hljs-string">&quot;å“åº”éç©º&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_history_api</span>(<span class="hljs-params">self</span>):<br>        url = <span class="hljs-string">&quot;https://api.oick.cn/lishi/api.php&quot;</span><br>        response = requests.get(url)<br>        self.assertIsNotNone(response.json(), <span class="hljs-string">&quot;å“åº”éç©º&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_assertIn</span>(<span class="hljs-params">self</span>):<br>        container = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br>        self.assertIn(<span class="hljs-number">3</span>, container, <span class="hljs-string">&quot;containeråŒ…å«3&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_assertNotIn</span>(<span class="hljs-params">self</span>):<br>        container = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br>        self.assertNotIn(<span class="hljs-number">6</span>, container, <span class="hljs-string">&quot;containerä¸åŒ…å«6&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_assertTrue</span>(<span class="hljs-params">self</span>):<br>        self.assertTrue(<span class="hljs-number">5</span> &gt; <span class="hljs-number">3</span>, <span class="hljs-string">&quot;5å¤§äº3&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_assertFalse</span>(<span class="hljs-params">self</span>):<br>        self.assertFalse(<span class="hljs-number">3</span> &gt; <span class="hljs-number">5</span>, <span class="hljs-string">&quot;3ä¸å¤§äº5&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_assertEqual</span>(<span class="hljs-params">self</span>):<br>        self.assertEqual(<span class="hljs-number">5</span>, <span class="hljs-number">5</span>, <span class="hljs-string">&quot;5ç­‰äº5&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_assertNotEqual</span>(<span class="hljs-params">self</span>):<br>        self.assertNotEqual(<span class="hljs-number">5</span>, <span class="hljs-number">3</span>, <span class="hljs-string">&quot;5ä¸ç­‰äº3&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    <span class="hljs-comment"># æ‰§è¡Œé¡ºåºæŒ‰æ–¹æ³•åçš„ASCIIå€¼æ’åº</span><br>    unittest.main()<br></code></pre></td></tr></table></figure><h1 id="3-è·³è¿‡ç”¨ä¾‹"><a href="#3-è·³è¿‡ç”¨ä¾‹" class="headerlink" title="3 è·³è¿‡ç”¨ä¾‹"></a>3 è·³è¿‡ç”¨ä¾‹</h1><ul><li>è·³è¿‡ç”¨ä¾‹<ul><li><code>@unittest.skip(reason)</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·æ— æ¡ä»¶è·³è¿‡</li><li><code>@unittest.skipIf(condition, reason)</code>Â·Â·Â·Â·Â·Â·Â·å½“conditionä¸ºTrueæ—¶è·³è¿‡</li><li><code>@unittest.skipUnless(condition, reason)</code>Â·Â·Â·å½“conditionä¸ºFalseæ—¶è·³è¿‡</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># testSkip.py</span><br><span class="hljs-keyword">import</span> unittest<br><span class="hljs-keyword">import</span> requests<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestAPIResponses</span>(unittest.TestCase):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_weather_api</span>(<span class="hljs-params">self</span>):<br>        url = <span class="hljs-string">&quot;http://t.weather.sojson.com/api/weather/city/101230201&quot;</span><br>        response = requests.get(url)<br>        self.assertIsNotNone(response.json(), <span class="hljs-string">&quot;å“åº”éç©º&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_history_api</span>(<span class="hljs-params">self</span>):<br>        url = <span class="hljs-string">&quot;https://api.oick.cn/lishi/api.php&quot;</span><br>        response = requests.get(url)<br>        self.assertIsNotNone(response.json(), <span class="hljs-string">&quot;å“åº”éç©º&quot;</span>)<br><br><span class="hljs-meta">    @unittest.skip(<span class="hljs-params"><span class="hljs-string">&quot;ç›´æ¥è·³è¿‡&quot;</span></span>)</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_assertIn</span>(<span class="hljs-params">self</span>):<br>        container = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br>        self.assertIn(<span class="hljs-number">3</span>, container, <span class="hljs-string">&quot;containeråŒ…å«3&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_assertNotIn</span>(<span class="hljs-params">self</span>):<br>        container = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br>        self.assertNotIn(<span class="hljs-number">6</span>, container, <span class="hljs-string">&quot;containerä¸åŒ…å«6&quot;</span>)<br><br><span class="hljs-meta">    @unittest.skipIf(<span class="hljs-params"><span class="hljs-number">5</span> &gt; <span class="hljs-number">3</span>, <span class="hljs-string">&quot;è·³è¿‡ç”¨ä¾‹&quot;</span></span>)</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_assertTrue</span>(<span class="hljs-params">self</span>):<br>        self.assertTrue(<span class="hljs-number">5</span> &gt; <span class="hljs-number">3</span>, <span class="hljs-string">&quot;5å¤§äº3&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_assertFalse</span>(<span class="hljs-params">self</span>):<br>        self.assertFalse(<span class="hljs-number">3</span> &gt; <span class="hljs-number">5</span>, <span class="hljs-string">&quot;3ä¸å¤§äº5&quot;</span>)<br><br><span class="hljs-meta">    @unittest.skipUnless(<span class="hljs-params"><span class="hljs-number">5</span> != <span class="hljs-number">3</span>, <span class="hljs-string">&quot;è·³è¿‡ç”¨ä¾‹&quot;</span></span>)</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_assertEqual</span>(<span class="hljs-params">self</span>):<br>        self.assertEqual(<span class="hljs-number">5</span>, <span class="hljs-number">5</span>, <span class="hljs-string">&quot;5ç­‰äº5&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_assertNotEqual</span>(<span class="hljs-params">self</span>):<br>        self.assertNotEqual(<span class="hljs-number">5</span>, <span class="hljs-number">3</span>, <span class="hljs-string">&quot;5ä¸ç­‰äº3&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    unittest.main()<br></code></pre></td></tr></table></figure><h1 id="4-æ•°æ®é©±åŠ¨"><a href="#4-æ•°æ®é©±åŠ¨" class="headerlink" title="4 æ•°æ®é©±åŠ¨"></a>4 æ•°æ®é©±åŠ¨</h1><ul><li>æ•°æ®é©±åŠ¨<ul><li>æŒ‡æ•°æ®å‚æ•°åŒ–ï¼Œå³ddt(data-driver tests)ï¼Œä»¥æ•°æ®æ¥é©±åŠ¨æ•´ä¸ªæµ‹è¯•ç”¨ä¾‹çš„æ‰§è¡Œã€‚</li><li>ä»£ç å’Œæ•°æ®åˆ†ç¦»ï¼Œé¿å…å†—ä½™ï¼Œä¸å†™é‡å¤çš„ä»£ç é€»è¾‘ï¼Œå®‰è£…ï¼š<code>pip install ddt</code>ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># testDDT.py</span><br><span class="hljs-keyword">import</span> unittest<br><span class="hljs-keyword">from</span> ddt <span class="hljs-keyword">import</span> ddt, data, unpack<br><br><br><span class="hljs-comment"># ä½¿ç”¨æ•°æ®é©±åŠ¨ï¼Œè¦åœ¨classå‰åŠ ä¸Š@ddtä¿®é¥°å™¨</span><br><span class="hljs-meta">@ddt</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestPhone</span>(unittest.TestCase):<br>    <span class="hljs-comment"># å¤šå‚æ•°æ•°æ®é©±åŠ¨è¦ç”¨åˆ—è¡¨å½¢å¼</span><br><span class="hljs-meta">    @data(<span class="hljs-params">[<span class="hljs-string">&#x27;admin&#x27;</span>, <span class="hljs-string">&#x27;18850000000&#x27;</span>]</span>)</span><br>    <span class="hljs-comment"># @unpackè£…é¥°å™¨è¿›è¡Œæ‹†åŒ…ï¼Œå¦åˆ™ä¼šå°†æ•°æ®å…¨éƒ¨ä¼ å…¥ä¸€ä¸ªå‚æ•°ä¸­</span><br>    <span class="hljs-comment"># è‹¥å­˜åœ¨nä¸ªå¤šå‚æ•°çš„æ•°æ®ï¼Œå…¨éƒ¨å†™å…¥@dataä¼šå¾ˆéº»çƒ¦ï¼Œäºæ˜¯å¼•å‡ºddt</span><br>    <span class="hljs-comment"># å°†æ•°æ®æ”¾å…¥ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶(txtã€csvã€jsonã€yamlã€excel)ä¸­ï¼Œä»æ–‡ä»¶ä¸­è¯»å–</span><br><span class="hljs-meta">    @unpack</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_phone_identify</span>(<span class="hljs-params">self, username, phone</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;æµ‹è¯•ï¼š&#x27;</span>, username, phone)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    unittest.main()<br></code></pre></td></tr></table></figure><h2 id="4-1-txt"><a href="#4-1-txt" class="headerlink" title="4-1 txt"></a>4-1 txt</h2><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs Txt">&lt;!-- ./file/phone.txt --&gt;<br>admin, 18850000000<br>tester, 18851000000<br>devops, 18852000000<br>leader, 18853000000<br>pm, 18854000000<br></code></pre></td></tr></table></figure><ul><li>Txtæ–‡ä»¶é©±åŠ¨ï¼šä¸€è¡Œè¡¨ç¤ºä¸€ç»„æ•°æ®ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># testTXT.py</span><br><span class="hljs-keyword">import</span> unittest<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">read_txt</span>():<br>    phone_list = []<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;./file/phone.txt&#x27;</span>, <span class="hljs-string">&#x27;r&#x27;</span>, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> f.readlines():<br>            phone_list.append(line.strip(<span class="hljs-string">&#x27;\n&#x27;</span>).split(<span class="hljs-string">&#x27;,&#x27;</span>))<br>    <span class="hljs-keyword">return</span> phone_list<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestPhone</span>(unittest.TestCase):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_phone_identify</span>(<span class="hljs-params">self</span>):<br>        phone = read_txt()<br>        <span class="hljs-built_in">print</span>(phone)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    unittest.main()<br></code></pre></td></tr></table></figure><h2 id="4-2-csv"><a href="#4-2-csv" class="headerlink" title="4-2 csv"></a>4-2 csv</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs Csv">&lt;!-- ./file/phone.csv --&gt;<br>admin, 18850000000<br>tester, 18851000000<br>devops, 18852000000<br>leader, 18853000000<br>pm, 18854000000<br></code></pre></td></tr></table></figure><h4 id="1-testCSV1-py"><a href="#1-testCSV1-py" class="headerlink" title="(1) testCSV1.py"></a>(1) testCSV1.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># testCSV1.py</span><br><span class="hljs-keyword">import</span> csv<br><span class="hljs-keyword">import</span> unittest<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">read_csv</span>():<br>    phone_list = []<br>    <span class="hljs-comment"># ä½¿ç”¨csv APIçš„readeræ–¹æ³•</span><br>    data = csv.reader(<span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;./file/phone.csv&#x27;</span>, <span class="hljs-string">&#x27;r&#x27;</span>))<br>    <span class="hljs-built_in">next</span>(data, <span class="hljs-literal">None</span>)<br>    <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> data:<br>        phone_list.append(line)<br>    <span class="hljs-keyword">return</span> phone_list<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestPhone</span>(unittest.TestCase):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_phone_identify</span>(<span class="hljs-params">self</span>):<br>        phone = read_csv()<br>        <span class="hljs-built_in">print</span>(phone)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    unittest.main()<br></code></pre></td></tr></table></figure><h4 id="2-testCSV2-py"><a href="#2-testCSV2-py" class="headerlink" title="(2) testCSV2.py"></a>(2) testCSV2.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># testCSV2.py</span><br><span class="hljs-keyword">import</span> csv<br><span class="hljs-keyword">import</span> unittest<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">read_csv</span>():<br>    phone_list = []<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;./file/phone.csv&#x27;</span>, <span class="hljs-string">&#x27;r&#x27;</span>, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>        filename = csv.reader(f)<br>        <span class="hljs-built_in">next</span>(filename, <span class="hljs-literal">None</span>)<br>        <span class="hljs-keyword">for</span> r <span class="hljs-keyword">in</span> filename:<br>            phone_list.append(r)<br>        <span class="hljs-keyword">return</span> phone_list<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestPhone</span>(unittest.TestCase):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_phone_identify</span>(<span class="hljs-params">self</span>):<br>        phone = read_csv()<br>        <span class="hljs-built_in">print</span>(phone)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    unittest.main()<br></code></pre></td></tr></table></figure><h2 id="4-3-json"><a href="#4-3-json" class="headerlink" title="4-3 json"></a>4-3 json</h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs Json"><span class="hljs-comment">// ./file/phone.json</span><br><span class="hljs-punctuation">[</span><br>    <span class="hljs-punctuation">&#123;</span><br>        <span class="hljs-attr">&quot;username&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;admin&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;phone&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;18850000000&quot;</span><br>    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-punctuation">&#123;</span><br>        <span class="hljs-attr">&quot;username&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;tester&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;phone&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;18851000000&quot;</span><br>    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-punctuation">&#123;</span><br>        <span class="hljs-attr">&quot;username&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;devops&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;phone&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;18852000000&quot;</span><br>    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-punctuation">&#123;</span><br>        <span class="hljs-attr">&quot;username&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;leader&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;phone&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;18853000000&quot;</span><br>    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-punctuation">&#123;</span><br>        <span class="hljs-attr">&quot;username&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;pm&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;phone&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;18854000000&quot;</span><br>    <span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">]</span><br></code></pre></td></tr></table></figure><ul><li><code>@data()</code>ä¸­çš„<code>*</code>æ˜¯ä¼ å…¥å…ƒç»„ï¼Œå¦‚æœæ˜¯<code>**</code>ï¼Œåˆ™ä¼ å…¥å­—å…¸ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># testJSON.py</span><br><span class="hljs-keyword">import</span> json<br><span class="hljs-keyword">import</span> unittest<br><span class="hljs-keyword">from</span> ddt <span class="hljs-keyword">import</span> ddt, data, unpack<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">read_json</span>():<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;./file/phone.json&#x27;</span>, <span class="hljs-string">&#x27;r&#x27;</span>, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>        result = json.load(f)<br>        <span class="hljs-keyword">return</span> result<br><br><br><span class="hljs-meta">@ddt</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestPhone</span>(unittest.TestCase):<br>    <span class="hljs-comment"># å¤šå‚æ•°æ•°æ®é©±åŠ¨</span><br><span class="hljs-meta">    @data(<span class="hljs-params">*read_json(<span class="hljs-params"></span>)</span>)</span><br><span class="hljs-meta">    @unpack</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_phone_identify</span>(<span class="hljs-params">self, username, phone</span>):<br>        <span class="hljs-built_in">print</span>(username, phone)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    unittest.main()<br></code></pre></td></tr></table></figure><h2 id="4-4-yaml"><a href="#4-4-yaml" class="headerlink" title="4-4 yaml"></a>4-4 yaml</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Yaml"><span class="hljs-comment"># ./file/phone.yaml</span><br><span class="hljs-bullet">-</span><br>    <span class="hljs-attr">username:</span> <span class="hljs-string">admin</span><br>    <span class="hljs-attr">phone:</span> <span class="hljs-number">18850000000</span><br><span class="hljs-bullet">-</span><br>    <span class="hljs-attr">username:</span> <span class="hljs-string">tester</span><br>    <span class="hljs-attr">phone:</span> <span class="hljs-number">18851000000</span><br><span class="hljs-bullet">-</span><br>    <span class="hljs-attr">username:</span> <span class="hljs-string">devops</span><br>    <span class="hljs-attr">phone:</span> <span class="hljs-number">18852000000</span><br><span class="hljs-bullet">-</span><br>    <span class="hljs-attr">username:</span> <span class="hljs-string">leader</span><br>    <span class="hljs-attr">phone:</span> <span class="hljs-number">18853000000</span><br><span class="hljs-bullet">-</span><br>    <span class="hljs-attr">username:</span> <span class="hljs-string">pm</span><br>    <span class="hljs-attr">phone:</span> <span class="hljs-number">18854000000</span><br></code></pre></td></tr></table></figure><ul><li><code>file_data()</code>è£…é¥°å™¨ï¼šå¯ä»¥ç›´æ¥è¯»å–yamlå’Œjsonæ–‡ä»¶ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># testYAML.py</span><br><span class="hljs-keyword">import</span> unittest<br><span class="hljs-keyword">from</span> ddt <span class="hljs-keyword">import</span> ddt, unpack, file_data<br><br><br><span class="hljs-meta">@ddt</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestPhone</span>(unittest.TestCase):<br>    <span class="hljs-comment"># file_data()è£…é¥°å™¨å¯ç›´æ¥è¯»å–yamlå’Œjsonæ–‡ä»¶</span><br><span class="hljs-meta">    @file_data(<span class="hljs-params"><span class="hljs-string">&quot;./file/phone.yaml&quot;</span></span>)</span><br><span class="hljs-meta">    @unpack</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_phone_identify</span>(<span class="hljs-params">self, username, phone</span>):<br>        <span class="hljs-built_in">print</span>(username, phone)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    unittest.main()<br></code></pre></td></tr></table></figure><h2 id="4-5-excel"><a href="#4-5-excel" class="headerlink" title="4-5 excel"></a>4-5 excel</h2><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs Excel">&lt;!-- phone.xlsx --&gt;<br>admin, <span class="hljs-number">18850000000</span><br>tester, <span class="hljs-number">18851000000</span><br>devops, <span class="hljs-number">18852000000</span><br>leader, <span class="hljs-number">18853000000</span><br>pm, <span class="hljs-number">18854000000</span><br></code></pre></td></tr></table></figure><ul><li>Excelæ–‡ä»¶é©±åŠ¨ï¼šéœ€è¦ä½¿ç”¨åˆ°openpyxlåº“ï¼Œå®‰è£…åº“<code>pip install openpyxl</code>ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># testEXCEL.py</span><br><span class="hljs-keyword">import</span> unittest<br><span class="hljs-keyword">import</span> openpyxl<br><span class="hljs-keyword">from</span> ddt <span class="hljs-keyword">import</span> ddt, unpack, data<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">read_excel</span>():<br>    xlsx = openpyxl.load_workbook(<span class="hljs-string">&quot;./file/phone.xlsx&quot;</span>)<br>    sheet1 = xlsx[<span class="hljs-string">&#x27;phone&#x27;</span>]<br>    <span class="hljs-built_in">print</span>(sheet1.max_row)<br>    <span class="hljs-built_in">print</span>(sheet1.max_column)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;***********&#x27;</span>)<br>    phone_list = []<br>    <span class="hljs-keyword">for</span> row <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">2</span>, sheet1.max_row + <span class="hljs-number">1</span>):<br>        row_list = []<br>        <span class="hljs-keyword">for</span> column <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, sheet1.max_column + <span class="hljs-number">1</span>):<br>            row_list.append(sheet1.cell(row, column).value)<br>        phone_list.append(row_list)<br>    <span class="hljs-keyword">return</span> phone_list<br><br><br><span class="hljs-meta">@ddt</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestPhone</span>(unittest.TestCase):<br><span class="hljs-meta">    @data(<span class="hljs-params">*read_excel(<span class="hljs-params"></span>)</span>)</span><br><span class="hljs-meta">    @unpack</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_phone_identify</span>(<span class="hljs-params">self, username, phone</span>):<br>        <span class="hljs-built_in">print</span>(username, phone)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    unittest.main()<br></code></pre></td></tr></table></figure><h1 id="5-æ—¥å¿—æ“ä½œ"><a href="#5-æ—¥å¿—æ“ä½œ" class="headerlink" title="5 æ—¥å¿—æ“ä½œ"></a>5 æ—¥å¿—æ“ä½œ</h1><ul><li>æ—¥å¿—æ“ä½œ<ul><li>è®°å½•æµ‹è¯•ç”¨ä¾‹çš„æ‰§è¡Œæƒ…å†µï¼Œæ’æŸ¥é”™è¯¯ï¼Œä½¿ç”¨Pythonè‡ªå¸¦çš„loggingæ¨¡å—ã€‚</li><li><code>logging.debug()</code>Â·Â·Â·Â·Â·Â·Â·Â·è°ƒè¯•æ—¥å¿—ï¼Œè¯Šæ–­é—®é¢˜æ—¶ä½¿ç”¨ï¼Œæœ€è¯¦ç»†çš„æ—¥å¿—</li><li><code>logging.info()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·æ™®é€šæ—¥å¿—ï¼Œç¡®å®šç¨‹åºæ˜¯å¦æŒ‰ç…§é¢„æœŸçš„æµç¨‹æ‰§è¡Œ</li><li><code>logging.warning()</code>Â·Â·Â·Â·Â·Â·è­¦å‘Šæ—¥å¿—ï¼Œå¯èƒ½ä¼šå‡ºç°çš„é—®é¢˜ï¼Œç¨‹åºä»å¯æ‰§è¡Œ</li><li><code>logging.error()</code>Â·Â·Â·Â·Â·Â·Â·Â·é”™è¯¯æ—¥å¿—ï¼ŒæŸäº›åŠŸèƒ½è½¯ä»¶å¯èƒ½æ— æ³•æ­£ç¡®åœ°æ‰§è¡Œ</li><li><code>logging.critical()</code>Â·Â·Â·Â·Â·ä¸¥é‡é”™è¯¯ï¼Œè¡¨æ˜ç¨‹åºæœ¬èº«å¯èƒ½æ— æ³•ç»§ç»­æ‰§è¡Œ</li></ul></li></ul><h2 id="5-1-å¯¼å‡ºæ—¥å¿—"><a href="#5-1-å¯¼å‡ºæ—¥å¿—" class="headerlink" title="5-1 å¯¼å‡ºæ—¥å¿—"></a>5-1 å¯¼å‡ºæ—¥å¿—</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># 1ã€å¯¼å…¥æ¨¡å—ï¼ŒtestLogBasic.py</span><br><span class="hljs-keyword">import</span> logging<br><br><span class="hljs-comment"># 2ã€è®¾ç½®æ—¥å¿—è¿‡æ»¤é˜ˆå€¼ã€æ—¥å¿—æ ¼å¼</span><br><span class="hljs-comment">#   â‘ æ—¥å¿—æ˜¯å¦ä¼šè¢«å¤„ç†ï¼Œé€šè¿‡é˜ˆå€¼è¿›è¡Œè¿‡æ»¤ï¼Œé»˜è®¤è¿‡æ»¤é˜ˆå€¼æ˜¯warning=30</span><br><span class="hljs-comment">#   â‘¡å½“å°äºwarningçš„30æ—¶ï¼Œæ—¥å¿—ä¸å¤„ç†</span><br><span class="hljs-comment">#   â‘¢debug=10ã€info=20ã€warning=30ã€error=40ã€critical=50</span><br>logging.basicConfig(<br>    level=logging.DEBUG,<br>    <span class="hljs-built_in">format</span>=<span class="hljs-string">&#x27;%(asctime)s - %(message)s [%(name)s] &#x27;</span><br>           <span class="hljs-string">&#x27;[%(filename)s (%(funcName)s:%(lineno)d)] %(levelname)s&#x27;</span>,<br>    <span class="hljs-comment"># 3ã€å¯¼å‡ºåˆ°æ—¥å¿—æ–‡ä»¶ä¸­</span><br>    filename=<span class="hljs-string">&#x27;./file/log.log&#x27;</span><br>)<br><br>logging.debug(<span class="hljs-string">&#x27;è°ƒè¯•æ—¥å¿—&#x27;</span>)<br>logging.info(<span class="hljs-string">&#x27;æ™®é€šæ—¥å¿—&#x27;</span>)<br>logging.warning(<span class="hljs-string">&#x27;è­¦å‘Šæ—¥å¿—&#x27;</span>)<br>logging.error(<span class="hljs-string">&#x27;é”™è¯¯æ—¥å¿—&#x27;</span>)<br>logging.critical(<span class="hljs-string">&#x27;ä¸¥é‡é”™è¯¯&#x27;</span>)<br></code></pre></td></tr></table></figure><h2 id="5-2-æ—¥å¿—å¤„ç†"><a href="#5-2-æ—¥å¿—å¤„ç†" class="headerlink" title="5-2 æ—¥å¿—å¤„ç†"></a>5-2 æ—¥å¿—å¤„ç†</h2><ul><li>æ—¥å¿—å¤„ç†<ul><li>åº”ç”¨ç¨‹åºä¸­çš„ä¸åŒéƒ¨åˆ†é€šè¿‡è·å–ç›¸åŒçš„æ—¥å¿—è®°å½•å™¨å®ä¾‹æ¥è®°å½•æ—¥å¿—ã€‚</li><li>æ—¥å¿—è®°å½•å™¨(Logger)åˆ›å»ºæ—¥å¿—æ¶ˆæ¯ï¼Œå¹¶å°†æ—¥å¿—æ¶ˆæ¯ä¼ é€’ç»™å·²é…ç½®çš„æ—¥å¿—å¤„ç†å™¨(Handler)ã€‚</li><li>æ—¥å¿—å¤„ç†å™¨å°†æ—¥å¿—è¾“å‡ºåˆ°æŒ‡å®šçš„ç»ˆç«¯ï¼ŒåŒæ—¶åº”ç”¨æ ¼å¼åŒ–å™¨(Formatter)å¯¹æ—¥å¿—è¿›è¡Œæ ¼å¼åŒ–ã€‚</li><li>æ ¼å¼åŒ–åçš„æ—¥å¿—æ¶ˆæ¯ä»¥ç»Ÿä¸€æ ¼å¼è¾“å‡ºåˆ°æŒ‡å®šçš„ç»ˆç«¯ï¼Œä»¥ä¾¿è¿›è¡Œè·Ÿè¸ªå’Œè¯Šæ–­åº”ç”¨ç¨‹åºçš„è¡Œä¸ºã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># 1ã€å¯¼å…¥æ¨¡å—ï¼ŒtestLogSenior.py</span><br><span class="hljs-keyword">import</span> logging<br><br><span class="hljs-comment"># 2ã€åˆ›å»ºæ—¥å¿—è®°å½•å™¨ï¼ŒæŒ‡å®šæ—¥å¿—è®°å½•å™¨çš„åç§°ï¼Œæ—¥å¿—è®°å½•å™¨å¯ä»¥è®¾ç½®ç­‰çº§ï¼Œåˆ›å»ºæ—¥å¿—æ—¶å³ç”Ÿæ•ˆ</span><br>logger = logging.getLogger(<span class="hljs-string">&#x27;Log&#x27;</span>)<br>logger.setLevel(logging.DEBUG)<br><br><span class="hljs-comment"># 3ã€åˆ›å»ºæ—¥å¿—å¤„ç†å™¨ï¼Œå†™å…¥æ–‡ä»¶ä¸­ï¼Œæ—¥å¿—å¤„ç†å™¨ä¹Ÿå¯ä»¥è®¾ç½®ç­‰çº§ï¼Œåªè¾“å‡ºWARNINGä»¥ä¸Šçº§åˆ«æ—¥å¿—</span><br>file_handler = logging.FileHandler(filename=<span class="hljs-string">&#x27;./file/log.log&#x27;</span>, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br>file_handler.setLevel(logging.WARNING)<br><br><span class="hljs-comment"># 4ã€åˆ›å»ºæ§åˆ¶å°å¤„ç†å™¨ï¼Œæ‰“å°æ—¥å¿—</span><br>console_handler = logging.StreamHandler()<br>console_handler.setLevel(logging.DEBUG)<br><br><span class="hljs-comment"># 5ã€åˆ›å»ºæ ¼å¼åŒ–å™¨</span><br>formater = logging.Formatter(<br>    fmt=<span class="hljs-string">&#x27;%(asctime)s - %(message)s [%(name)s] &#x27;</span><br>        <span class="hljs-string">&#x27;[%(filename)s (%(funcName)s:%(lineno)d)] %(levelname)s&#x27;</span><br>)<br><br><span class="hljs-comment"># 6ã€å°†æ ¼å¼åŒ–å™¨æ·»åŠ åˆ°æ—¥å¿—å¤„ç†å™¨ä¸Š</span><br>file_handler.setFormatter(formater)<br>console_handler.setFormatter(formater)<br><br><span class="hljs-comment"># 7ã€å°†æ—¥å¿—å¤„ç†å™¨æ·»åŠ åˆ°æ—¥å¿—è®°å½•å™¨ä¸Š</span><br>logger.addHandler(file_handler)<br>logger.addHandler(console_handler)<br><br>logger.debug(<span class="hljs-string">&#x27;è°ƒè¯•æ—¥å¿—&#x27;</span>)<br>logger.info(<span class="hljs-string">&#x27;æ™®é€šæ—¥å¿—&#x27;</span>)<br>logger.warning(<span class="hljs-string">&#x27;è­¦å‘Šæ—¥å¿—&#x27;</span>)<br>logger.error(<span class="hljs-string">&#x27;é”™è¯¯æ—¥å¿—&#x27;</span>)<br>logger.critical(<span class="hljs-string">&#x27;ä¸¥é‡é”™è¯¯&#x27;</span>)<br></code></pre></td></tr></table></figure><h1 id="6-æµ‹è¯•æŠ¥å‘Š"><a href="#6-æµ‹è¯•æŠ¥å‘Š" class="headerlink" title="6 æµ‹è¯•æŠ¥å‘Š"></a>6 æµ‹è¯•æŠ¥å‘Š</h1><ul><li>æµ‹è¯•æŠ¥å‘Š<ul><li>Textæµ‹è¯•æŠ¥å‘Šï¼šä½¿ç”¨<code>unittest.TextTestRunner()</code>æ–¹æ³•ç”ŸæˆTextç±»å‹çš„æµ‹è¯•æŠ¥å‘Šã€‚</li><li>è‡ªå¸¦çš„æµ‹è¯•æŠ¥å‘Šï¼šPycharmæ‰§è¡Œç»“æœRunä¸­çš„<code>Export Test Results</code>è¿›è¡Œè®¾ç½®ç”Ÿæˆã€‚</li><li>XTestRunneræµ‹è¯•æŠ¥å‘Šï¼Œä½¿ç”¨å‘½ä»¤å®‰è£…XTestRunnerç¬¬ä¸‰æ–¹åº“ï¼š<code>pip install XTestRunner</code>ã€‚</li><li>BeautifulReportæµ‹è¯•æŠ¥å‘Šï¼Œéœ€å‘½ä»¤å®‰è£…BeautifulReportåº“ï¼š<code>pip install BeautifulReport</code>ã€‚</li><li>HTMLTestRunneræµ‹è¯•æŠ¥å‘Šï¼Œéœ€è¦æ‰‹åŠ¨ä¸‹è½½å¹¶ä¿®æ”¹HTMLTestRunner.pyæ–‡ä»¶å†…å®¹ï¼Œå†æ”¾å…¥Libä¸­ã€‚</li></ul></li></ul><h2 id="6-1-Textæµ‹è¯•æŠ¥å‘Š"><a href="#6-1-Textæµ‹è¯•æŠ¥å‘Š" class="headerlink" title="6-1 Textæµ‹è¯•æŠ¥å‘Š"></a>6-1 Textæµ‹è¯•æŠ¥å‘Š</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># testTextReport.py</span><br><span class="hljs-keyword">import</span> unittest<br><span class="hljs-keyword">import</span> requests<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestAPIResponses</span>(unittest.TestCase):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_weather_api</span>(<span class="hljs-params">self</span>):<br>        url = <span class="hljs-string">&quot;http://t.weather.sojson.com/api/weather/city/101230201&quot;</span><br>        response = requests.get(url)<br>        self.assertIsNotNone(response.json(), <span class="hljs-string">&quot;å“åº”éç©º&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_history_api</span>(<span class="hljs-params">self</span>):<br>        url = <span class="hljs-string">&quot;https://api.oick.cn/lishi/api.php&quot;</span><br>        response = requests.get(url)<br>        self.assertIsNotNone(response.json(), <span class="hljs-string">&quot;å“åº”éç©º&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_assertIn</span>(<span class="hljs-params">self</span>):<br>        container = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br>        self.assertIn(<span class="hljs-number">3</span>, container, <span class="hljs-string">&quot;containeråŒ…å«3&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_assertNotIn</span>(<span class="hljs-params">self</span>):<br>        container = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br>        self.assertNotIn(<span class="hljs-number">6</span>, container, <span class="hljs-string">&quot;containerä¸åŒ…å«6&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_assertTrue</span>(<span class="hljs-params">self</span>):<br>        self.assertTrue(<span class="hljs-number">5</span> &gt; <span class="hljs-number">3</span>, <span class="hljs-string">&quot;5å¤§äº3&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_assertFalse</span>(<span class="hljs-params">self</span>):<br>        self.assertFalse(<span class="hljs-number">3</span> &gt; <span class="hljs-number">5</span>, <span class="hljs-string">&quot;3ä¸å¤§äº5&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_assertEqual</span>(<span class="hljs-params">self</span>):<br>        self.assertEqual(<span class="hljs-number">5</span>, <span class="hljs-number">5</span>, <span class="hljs-string">&quot;5ç­‰äº5&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_assertNotEqual</span>(<span class="hljs-params">self</span>):<br>        self.assertNotEqual(<span class="hljs-number">5</span>, <span class="hljs-number">3</span>, <span class="hljs-string">&quot;5ä¸ç­‰äº3&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    <span class="hljs-comment"># åˆ›å»ºæµ‹è¯•å¥—ä»¶</span><br>    suite = unittest.TestLoader().loadTestsFromTestCase(TestAPIResponses)<br>    <span class="hljs-comment"># éœ€è¦ä½¿ç”¨å‘½ä»¤â€œpython testTextReport.pyâ€æ‰§è¡Œæµ‹è¯•ï¼Œæ‰èƒ½ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š</span><br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;./reports/TextReport.txt&#x27;</span>, <span class="hljs-string">&#x27;w&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>        runner = unittest.TextTestRunner(f)<br>        runner.run(suite)<br></code></pre></td></tr></table></figure><h2 id="6-2-XTestRunner"><a href="#6-2-XTestRunner" class="headerlink" title="6-2 XTestRunner"></a>6-2 XTestRunner</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># testXTestRunner.py</span><br><span class="hljs-keyword">import</span> unittest<br><span class="hljs-keyword">import</span> requests<br><span class="hljs-keyword">from</span> XTestRunner <span class="hljs-keyword">import</span> HTMLTestRunner<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestAPIResponses</span>(unittest.TestCase):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_weather_api</span>(<span class="hljs-params">self</span>):<br>        url = <span class="hljs-string">&quot;http://t.weather.sojson.com/api/weather/city/101230201&quot;</span><br>        response = requests.get(url)<br>        self.assertIsNotNone(response.json(), <span class="hljs-string">&quot;å“åº”éç©º&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_history_api</span>(<span class="hljs-params">self</span>):<br>        url = <span class="hljs-string">&quot;https://api.oick.cn/lishi/api.php&quot;</span><br>        response = requests.get(url)<br>        self.assertIsNotNone(response.json(), <span class="hljs-string">&quot;å“åº”éç©º&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_assertIn</span>(<span class="hljs-params">self</span>):<br>        container = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br>        self.assertIn(<span class="hljs-number">3</span>, container, <span class="hljs-string">&quot;containeråŒ…å«3&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_assertNotIn</span>(<span class="hljs-params">self</span>):<br>        container = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br>        self.assertNotIn(<span class="hljs-number">6</span>, container, <span class="hljs-string">&quot;containerä¸åŒ…å«6&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_assertTrue</span>(<span class="hljs-params">self</span>):<br>        self.assertTrue(<span class="hljs-number">5</span> &gt; <span class="hljs-number">3</span>, <span class="hljs-string">&quot;5å¤§äº3&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_assertFalse</span>(<span class="hljs-params">self</span>):<br>        self.assertFalse(<span class="hljs-number">3</span> &gt; <span class="hljs-number">5</span>, <span class="hljs-string">&quot;3ä¸å¤§äº5&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_assertEqual</span>(<span class="hljs-params">self</span>):<br>        self.assertEqual(<span class="hljs-number">5</span>, <span class="hljs-number">5</span>, <span class="hljs-string">&quot;5ç­‰äº5&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_assertNotEqual</span>(<span class="hljs-params">self</span>):<br>        self.assertNotEqual(<span class="hljs-number">5</span>, <span class="hljs-number">3</span>, <span class="hljs-string">&quot;5ä¸ç­‰äº3&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    <span class="hljs-comment"># åˆ›å»ºæµ‹è¯•å¥—ä»¶</span><br>    suite = unittest.TestLoader().loadTestsFromTestCase(TestAPIResponses)<br>    <span class="hljs-comment"># éœ€è¦ä½¿ç”¨å‘½ä»¤â€œpython testXTestRunner.pyâ€æ‰§è¡Œæµ‹è¯•ï¼Œæ‰èƒ½ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š</span><br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;./reports/XTestRunner.html&#x27;</span>, <span class="hljs-string">&#x27;wb&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>        runner = HTMLTestRunner(<br>            <span class="hljs-comment"># verbosityå‚æ•°ï¼š0æ˜¯ç®€å•æŠ¥å‘Šï¼Œ1æ˜¯ä¸€èˆ¬æŠ¥å‘Šï¼Œ2æ˜¯è¯¦ç»†æŠ¥å‘Š</span><br>            stream=f, verbosity=<span class="hljs-number">2</span>, title=<span class="hljs-string">&quot;UnitTestæµ‹è¯•æŠ¥å‘Š&quot;</span>,<br>            description=<span class="hljs-string">&quot;UnitTestæµ‹è¯•æŠ¥å‘Šï¼šå†…å®¹æè¿°...&quot;</span><br>        )<br>        result = runner.run(suite)<br><br>    <span class="hljs-comment"># with open(&quot;./reports/XTestRunner.html&quot;, &#x27;wb&#x27;) as f:</span><br>    <span class="hljs-comment">#     unittest.main(testRunner=HTMLTestRunner(</span><br>    <span class="hljs-comment">#         stream=f,</span><br>    <span class="hljs-comment">#         title=&quot;UnitTestæµ‹è¯•æŠ¥å‘Š&quot;,</span><br>    <span class="hljs-comment">#         description=&quot;UnitTestæµ‹è¯•æŠ¥å‘Šï¼šå†…å®¹æè¿°...&quot;</span><br>    <span class="hljs-comment">#     ))</span><br></code></pre></td></tr></table></figure><h2 id="6-3-BeautifulReport"><a href="#6-3-BeautifulReport" class="headerlink" title="6-3 BeautifulReport"></a>6-3 BeautifulReport</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># testBeautifulReport.py</span><br><span class="hljs-keyword">import</span> unittest<br><span class="hljs-keyword">import</span> requests<br><span class="hljs-keyword">from</span> BeautifulReport <span class="hljs-keyword">import</span> BeautifulReport<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestAPIResponses</span>(unittest.TestCase):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_weather_api</span>(<span class="hljs-params">self</span>):<br>        url = <span class="hljs-string">&quot;http://t.weather.sojson.com/api/weather/city/101230201&quot;</span><br>        response = requests.get(url)<br>        self.assertIsNotNone(response.json(), <span class="hljs-string">&quot;å“åº”éç©º&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_history_api</span>(<span class="hljs-params">self</span>):<br>        url = <span class="hljs-string">&quot;https://api.oick.cn/lishi/api.php&quot;</span><br>        response = requests.get(url)<br>        self.assertIsNotNone(response.json(), <span class="hljs-string">&quot;å“åº”éç©º&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_assertIn</span>(<span class="hljs-params">self</span>):<br>        container = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br>        self.assertIn(<span class="hljs-number">3</span>, container, <span class="hljs-string">&quot;containeråŒ…å«3&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_assertNotIn</span>(<span class="hljs-params">self</span>):<br>        container = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br>        self.assertNotIn(<span class="hljs-number">6</span>, container, <span class="hljs-string">&quot;containerä¸åŒ…å«6&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_assertTrue</span>(<span class="hljs-params">self</span>):<br>        self.assertTrue(<span class="hljs-number">5</span> &gt; <span class="hljs-number">3</span>, <span class="hljs-string">&quot;5å¤§äº3&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_assertFalse</span>(<span class="hljs-params">self</span>):<br>        self.assertFalse(<span class="hljs-number">3</span> &gt; <span class="hljs-number">5</span>, <span class="hljs-string">&quot;3ä¸å¤§äº5&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_assertEqual</span>(<span class="hljs-params">self</span>):<br>        self.assertEqual(<span class="hljs-number">5</span>, <span class="hljs-number">5</span>, <span class="hljs-string">&quot;5ç­‰äº5&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_assertNotEqual</span>(<span class="hljs-params">self</span>):<br>        self.assertNotEqual(<span class="hljs-number">5</span>, <span class="hljs-number">3</span>, <span class="hljs-string">&quot;5ä¸ç­‰äº3&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    <span class="hljs-comment"># åˆ›å»ºæµ‹è¯•å¥—ä»¶</span><br>    suite = unittest.TestLoader().loadTestsFromTestCase(TestAPIResponses)<br>    <span class="hljs-comment"># éœ€è¦ä½¿ç”¨å‘½ä»¤â€œpython testBeautifulReport.pyâ€æ‰§è¡Œæµ‹è¯•ï¼Œæ‰èƒ½ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š</span><br>    BeautifulReport(suite).report(<br>        <span class="hljs-comment"># descriptionåœ¨BeautifulReportæŠ¥å‘Šä¸­æ˜¯ç”¨ä¾‹åç§°</span><br>        description=<span class="hljs-string">&quot;UnitTestæ¥å£æµ‹è¯•&quot;</span>,<br>        filename=<span class="hljs-string">&quot;./reports/BeautifulReport.html&quot;</span><br>    )<br></code></pre></td></tr></table></figure><h2 id="6-4-HTMLTestRunner"><a href="#6-4-HTMLTestRunner" class="headerlink" title="6-4 HTMLTestRunner"></a>6-4 HTMLTestRunner</h2><ul><li>å‘½ä»¤å®‰è£…HTMLTestRunnerç¬¬ä¸‰æ–¹åº“ä¼šæŠ¥é”™ï¼Œè¯¥åº“ç”±Python2ç¼–å†™ï¼Œæ²¡æœ‰ç‰ˆæœ¬æ›´æ–°ã€‚</li></ul><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs Powershell">pip install HTMLTestRunner<br>Defaulting to user installation because normal site<span class="hljs-literal">-packages</span> is not writeable<br>ERROR: Could not find a version that satisfies the requirement HTMLTestRunner (from versions: none)<br>ERROR: No matching distribution found <span class="hljs-keyword">for</span> HTMLTestRunner<br></code></pre></td></tr></table></figure><ul><li>ä¸‹è½½â€œ<a href="http://tungwaiyip.info/software/HTMLTestRunner_0_8_2/HTMLTestRunner.py">HTMLTestRunner.py (0.8.2)</a>â€åï¼Œå°†æ–‡ä»¶æ”¾å…¥Pythonå®‰è£…è·¯å¾„çš„Libç›®å½•ä¸‹ã€‚</li><li>ä¿®æ”¹HTMLTestRunner.pyæ–‡ä»¶å†…å®¹ï¼Œå¯å‚è€ƒæ–‡ç« â€œ<a href="https://blog.csdn.net/qq_37417220/article/details/135948513">Python3ä½¿ç”¨HTMLTestRunner</a>â€ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># testHTMLTestRunner.py</span><br><span class="hljs-keyword">import</span> unittest<br><span class="hljs-keyword">import</span> requests<br><span class="hljs-keyword">from</span> HTMLTestRunner <span class="hljs-keyword">import</span> HTMLTestRunner<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestAPIResponses</span>(unittest.TestCase):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_weather_api</span>(<span class="hljs-params">self</span>):<br>        url = <span class="hljs-string">&quot;http://t.weather.sojson.com/api/weather/city/101230201&quot;</span><br>        response = requests.get(url)<br>        self.assertIsNotNone(response.json(), <span class="hljs-string">&quot;å“åº”éç©º&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_history_api</span>(<span class="hljs-params">self</span>):<br>        url = <span class="hljs-string">&quot;https://api.oick.cn/lishi/api.php&quot;</span><br>        response = requests.get(url)<br>        self.assertIsNotNone(response.json(), <span class="hljs-string">&quot;å“åº”éç©º&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_assertIn</span>(<span class="hljs-params">self</span>):<br>        container = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br>        self.assertIn(<span class="hljs-number">3</span>, container, <span class="hljs-string">&quot;containeråŒ…å«3&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_assertNotIn</span>(<span class="hljs-params">self</span>):<br>        container = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br>        self.assertNotIn(<span class="hljs-number">6</span>, container, <span class="hljs-string">&quot;containerä¸åŒ…å«6&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_assertTrue</span>(<span class="hljs-params">self</span>):<br>        self.assertTrue(<span class="hljs-number">5</span> &gt; <span class="hljs-number">3</span>, <span class="hljs-string">&quot;5å¤§äº3&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_assertFalse</span>(<span class="hljs-params">self</span>):<br>        self.assertFalse(<span class="hljs-number">3</span> &gt; <span class="hljs-number">5</span>, <span class="hljs-string">&quot;3ä¸å¤§äº5&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_assertEqual</span>(<span class="hljs-params">self</span>):<br>        self.assertEqual(<span class="hljs-number">5</span>, <span class="hljs-number">5</span>, <span class="hljs-string">&quot;5ç­‰äº5&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_assertNotEqual</span>(<span class="hljs-params">self</span>):<br>        self.assertNotEqual(<span class="hljs-number">5</span>, <span class="hljs-number">3</span>, <span class="hljs-string">&quot;5ä¸ç­‰äº3&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    <span class="hljs-comment"># åˆ›å»ºæµ‹è¯•å¥—ä»¶</span><br>    suite = unittest.TestLoader().loadTestsFromTestCase(TestAPIResponses)<br>    <span class="hljs-comment"># éœ€è¦ä½¿ç”¨å‘½ä»¤â€œpython testHTMLTestRunner.pyâ€æ‰§è¡Œæµ‹è¯•ï¼Œæ‰èƒ½ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š</span><br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;./reports/HTMLTestRunner.html&#x27;</span>, <span class="hljs-string">&#x27;wb&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>        runner = HTMLTestRunner(<br>            stream=f, verbosity=<span class="hljs-number">2</span>, title=<span class="hljs-string">u&quot;UnitTestæµ‹è¯•æŠ¥å‘Š&quot;</span>,<br>            description=<span class="hljs-string">u&quot;UnitTestæµ‹è¯•æŠ¥å‘Šï¼šå†…å®¹æè¿°...&quot;</span><br>        )<br>        result = runner.run(suite)<br><br>    <span class="hljs-comment"># with open(&quot;./reports/HTMLTestRunner.html&quot;, &#x27;wb&#x27;) as f:</span><br>    <span class="hljs-comment">#     unittest.main(testRunner=HTMLTestRunner(</span><br>    <span class="hljs-comment">#         stream=f,</span><br>    <span class="hljs-comment">#         title=&quot;UnitTestæµ‹è¯•æŠ¥å‘Š&quot;,</span><br>    <span class="hljs-comment">#         description=&quot;UnitTestæµ‹è¯•æŠ¥å‘Šï¼šå†…å®¹æè¿°...&quot;</span><br>    <span class="hljs-comment">#     ))</span><br></code></pre></td></tr></table></figure><h1 id="7-é…ç½®è§£æ"><a href="#7-é…ç½®è§£æ" class="headerlink" title="7 é…ç½®è§£æ"></a>7 é…ç½®è§£æ</h1><ul><li>é…ç½®è§£æ<ul><li>iniï¼šInitializationï¼Œæ˜¯Windowsç³»ç»Ÿå¸¸è§çš„é…ç½®æ–‡ä»¶æ ¼å¼ï¼Œä½¿ç”¨ç®€å•çš„é”®å€¼å¯¹ç»“æ„æ¥å­˜å‚¨é…ç½®ä¿¡æ¯ã€‚</li><li>confï¼šConfigurationï¼Œé€šå¸¸ç”¨äºUnixæˆ–Linuxç³»ç»Ÿä¸­ï¼Œä¹Ÿæ˜¯æ–‡æœ¬æ–‡ä»¶ï¼Œç”¨äºå­˜å‚¨åº”ç”¨ç¨‹åºçš„é…ç½®ä¿¡æ¯ã€‚</li><li>cnfï¼šConfigurationï¼Œé€šå¸¸ç”¨äºMySQLæ•°æ®åº“ä¸­ï¼Œä¹Ÿæ˜¯æ–‡æœ¬æ–‡ä»¶ï¼Œç”¨äºå­˜å‚¨æ•°æ®åº“æœåŠ¡å™¨çš„é…ç½®ä¿¡æ¯ã€‚</li><li>cfgï¼šConfigurationï¼Œé€šç”¨çš„é…ç½®æ–‡ä»¶æ ¼å¼ï¼Œé‡‡ç”¨äº†ä¸åŒçš„ç»“æ„å’Œè¯­æ³•ï¼Œå­˜å‚¨å„ç§åº”ç”¨ç¨‹åºçš„é…ç½®ä¿¡æ¯ã€‚</li><li>yamlï¼šä¸ymlåŒç§æ ¼å¼ï¼Œæ‰©å±•åä¸åŒï¼Œæ˜¯ä¸€ç§å¯è¯»çš„æ•°æ®åºåˆ—åŒ–æ ‡å‡†ï¼Œä½¿ç”¨ç¼©è¿›å’Œæ¢è¡Œæ¥è¡¨ç¤ºæ•°æ®ç»“æ„ã€‚</li></ul></li></ul><h2 id="7-1-iniæ ¼å¼"><a href="#7-1-iniæ ¼å¼" class="headerlink" title="7-1 iniæ ¼å¼"></a>7-1 iniæ ¼å¼</h2><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Ini"><span class="hljs-comment">; ./file/conf.ini</span><br><span class="hljs-section">[project]</span><br><span class="hljs-attr">base_url</span> = http://<span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span>:<span class="hljs-number">5000</span>/<br><br><span class="hljs-section">[log]</span><br><span class="hljs-attr">name</span> = pylog<br><span class="hljs-attr">filename</span> = logs/test_log.log<br><span class="hljs-attr">debug</span> = <span class="hljs-literal">false</span><br></code></pre></td></tr></table></figure><h2 id="7-2-iniè§£æ"><a href="#7-2-iniè§£æ" class="headerlink" title="7-2 iniè§£æ"></a>7-2 iniè§£æ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># testINI.py</span><br><span class="hljs-comment"># confã€cnfã€cfgæ ¼å¼çš„é…ç½®æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨configparseråº“è¿›è¡Œè§£æ</span><br><span class="hljs-comment"># æ–‡ä»¶è§£æä¹‹å‰ï¼Œéœ€è¦å°†å¯¹åº”æ–‡ä»¶çš„æ‰©å±•åæ”¹ä¸º.iniï¼Œç„¶åæŒ‰ä»¥ä¸‹æ“ä½œè¿›è¡Œ</span><br><span class="hljs-keyword">import</span> configparser<br><br><span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªConfigParserå¯¹è±¡</span><br>config = configparser.ConfigParser()<br><span class="hljs-comment"># è¯»å–é…ç½®æ–‡ä»¶</span><br>config.read(<span class="hljs-string">&#x27;./file/conf.ini&#x27;</span>, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br><br><span class="hljs-comment"># è·å–æ‰€æœ‰çš„æ®µåï¼Œå¹¶æ‰“å°è¾“å‡º</span><br>section = config.sections()<br><span class="hljs-built_in">print</span>(section)<br><br><span class="hljs-comment"># è·å–æŒ‡å®šæ®µåä¸‹çš„nameé…ç½®ï¼Œå¹¶æ‰“å°è¾“å‡º</span><br>filename = config.get(<span class="hljs-string">&#x27;log&#x27;</span>, <span class="hljs-string">&#x27;filename&#x27;</span>)<br><span class="hljs-built_in">print</span>(filename)<br><br><span class="hljs-comment"># å­—å…¸æ¨¡å¼å–å€¼</span><br><span class="hljs-built_in">print</span>(config[<span class="hljs-string">&#x27;project&#x27;</span>][<span class="hljs-string">&#x27;base_url&#x27;</span>])<br><br><span class="hljs-comment"># è·å–æŒ‡å®šæ®µåä¸‹çš„é…ç½®åï¼Œå¹¶æ‰“å°è¾“å‡º</span><br>options = config.options(<span class="hljs-string">&#x27;log&#x27;</span>)<br><span class="hljs-built_in">print</span>(options)<br><br><span class="hljs-comment"># è·å–æŒ‡å®šæ®µåä¸‹çš„é…ç½®äºŒå…ƒå…ƒç»„ï¼Œå¹¶æ‰“å°è¾“å‡º</span><br>options_tuple = config.items(<span class="hljs-string">&#x27;log&#x27;</span>)<br><span class="hljs-built_in">print</span>(options_tuple)<br><br><span class="hljs-comment"># è½¬æ¢å€¼çš„ç±»å‹ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œé…ç½®çš„å€¼å…¨éƒ¨ä¼šè¢«è½¬æ¢æˆå­—ç¬¦ä¸²</span><br><span class="hljs-built_in">print</span>(config.getboolean(<span class="hljs-string">&#x27;log&#x27;</span>, <span class="hljs-string">&#x27;debug&#x27;</span>))<br><br><span class="hljs-comment"># ä¿®æ”¹é…ç½®é¡¹çš„å€¼</span><br>config.<span class="hljs-built_in">set</span>(<span class="hljs-string">&#x27;log&#x27;</span>, <span class="hljs-string">&#x27;name&#x27;</span>, <span class="hljs-string">&#x27;test_log&#x27;</span>)<br><br><span class="hljs-comment"># å†™å…¥é…ç½®æ–‡ä»¶</span><br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;./file/conf.ini&#x27;</span>, <span class="hljs-string">&#x27;w&#x27;</span>) <span class="hljs-keyword">as</span> configfile:<br>    config.write(configfile)<br></code></pre></td></tr></table></figure><h2 id="7-3-ymlè§£æ"><a href="#7-3-ymlè§£æ" class="headerlink" title="7-3 ymlè§£æ"></a>7-3 ymlè§£æ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># testYML.py</span><br><span class="hljs-keyword">import</span> yaml<br><br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;./file/conf.yml&#x27;</span>, <span class="hljs-string">&#x27;r&#x27;</span>, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>    config = yaml.load(f, Loader=yaml.FullLoader)<br><br><span class="hljs-built_in">print</span>(config)<br></code></pre></td></tr></table></figure><h4 id="1-æ•°ç»„æ ¼å¼"><a href="#1-æ•°ç»„æ ¼å¼" class="headerlink" title="(1) æ•°ç»„æ ¼å¼"></a>(1) æ•°ç»„æ ¼å¼</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Yaml"><span class="hljs-comment"># conf.yml</span><br><span class="hljs-attr">logs:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">pylog</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">filename:</span> <span class="hljs-string">logs/test_log.log</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">debug:</span> <span class="hljs-literal">True</span><br><br><span class="hljs-comment"># ç­‰ä»·äº</span><br><span class="hljs-comment"># &#123;</span><br><span class="hljs-comment">#     &#x27;logs&#x27;: [&#123;</span><br><span class="hljs-comment">#         &#x27;name&#x27;: &#x27;pylog&#x27;,</span><br><span class="hljs-comment">#         &#x27;filename&#x27;: &#x27;logs/test_log.log&#x27;,</span><br><span class="hljs-comment">#         &#x27;debug&#x27;: True</span><br><span class="hljs-comment">#     &#125;]</span><br><span class="hljs-comment"># &#125;</span><br></code></pre></td></tr></table></figure><h4 id="2-Mapå¯¹è±¡"><a href="#2-Mapå¯¹è±¡" class="headerlink" title="(2) Mapå¯¹è±¡"></a>(2) Mapå¯¹è±¡</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Yaml"><span class="hljs-comment"># conf.yaml</span><br><span class="hljs-attr">log:</span><br>    <span class="hljs-attr">name:</span> <span class="hljs-string">pylog</span><br>    <span class="hljs-attr">filename:</span> <span class="hljs-string">logs/test_log.log</span><br>    <span class="hljs-attr">debug:</span> <span class="hljs-literal">True</span><br><br><span class="hljs-comment"># ç­‰ä»·äº</span><br><span class="hljs-comment"># &#123;</span><br><span class="hljs-comment">#     &#x27;log&#x27;:</span><br><span class="hljs-comment">#     &#123;</span><br><span class="hljs-comment">#         &#x27;name&#x27;: &#x27;pylog&#x27;,</span><br><span class="hljs-comment">#         &#x27;filename&#x27;: &#x27;logs/test_log.log&#x27;,</span><br><span class="hljs-comment">#         &#x27;debug&#x27;: True</span><br><span class="hljs-comment">#     &#125;</span><br><span class="hljs-comment"># &#125;</span><br></code></pre></td></tr></table></figure><h1 id="8-é¡¹ç›®æ¡†æ¶"><a href="#8-é¡¹ç›®æ¡†æ¶" class="headerlink" title="8 é¡¹ç›®æ¡†æ¶"></a>8 é¡¹ç›®æ¡†æ¶</h1><ul><li>é¡¹ç›®æ¡†æ¶<ul><li>å•ä¾‹æ¨¡å¼ï¼šå¯¼å…¥æ¨¡å—æ—¶ä¼šæ‰§è¡Œæ¨¡å—æ‰€åœ¨çš„<code>__init__.py</code>æ–‡ä»¶ï¼Œå°†å…¬ç”¨æ¨¡å—æ”¾å…¥æ–‡ä»¶ä»£ç ä¸­ï¼Œä»¥å®ç°å•ä¾‹æ¨¡å¼ã€‚</li><li>é…ç½®æ–‡ä»¶å°è£…ï¼šèƒ½å¤„ç†å¤šç§ç±»å‹çš„é…ç½®æ–‡ä»¶ï¼Œè¿”å›å€¼æ•°æ®ç»“æ„ä¸€è‡´ï¼Œç®€å•åŠŸèƒ½å°è£…æˆå‡½æ•°ï¼Œå¤æ‚åŠŸèƒ½å°è£…æˆç±»ã€‚</li><li>å˜é‡é…ç½®ï¼šé¡¹ç›®æ ¹ç›®å½•ä¸‹å•ç‹¬ä½¿ç”¨ä¸€ä¸ªPythonæ–‡ä»¶ï¼Œåœ¨å…¶ä¸­å®šä¹‰é…ç½®ä¿¡æ¯ï¼Œå…¶ä»–æ¨¡å—ç›´æ¥å¼•ç”¨æ•ˆç‡æ›´é«˜æ›´ç›´è§‚ã€‚</li></ul></li></ul><h2 id="8-1-åŸºæœ¬æ¡†æ¶"><a href="#8-1-åŸºæœ¬æ¡†æ¶" class="headerlink" title="8-1 åŸºæœ¬æ¡†æ¶"></a>8-1 åŸºæœ¬æ¡†æ¶</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Yaml"><span class="hljs-string">/:</span>                                  <span class="hljs-comment"># é¡¹ç›®æ ¹ç›®å½•</span><br>    <span class="hljs-attr">logs:</span>                           <span class="hljs-comment"># å­˜å‚¨é¡¹ç›®æ—¥å¿—</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">test_log.log</span>              <span class="hljs-comment"># æµ‹è¯•è¾“å‡ºæ—¥å¿—</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">test_api.log</span><br>    <span class="hljs-attr">common:</span>                         <span class="hljs-comment"># å­˜å‚¨å…¬ç”¨æ–¹æ³•</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">log_output.py</span>             <span class="hljs-comment"># æ—¥å¿—åŠŸèƒ½å°è£…</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">http_request.py</span>           <span class="hljs-comment"># è¯·æ±‚åŠŸèƒ½å°è£…</span><br>    <span class="hljs-attr">reports:</span>                        <span class="hljs-comment"># å­˜å‚¨é¡¹ç›®æŠ¥å‘Š</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">XTestRunner.html</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">HTMLTestRunner.html</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">BeautifulReport.html</span><br>    <span class="hljs-attr">test_data:</span>                      <span class="hljs-comment"># å­˜å‚¨ç”¨ä¾‹æ•°æ®</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">test_api.csv</span><br>    <span class="hljs-attr">test_cases:</span>                     <span class="hljs-comment"># å­˜å‚¨æµ‹è¯•ç”¨ä¾‹</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">test_api.py</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">main.py</span>                       <span class="hljs-comment"># ä½œä¸ºå…¥å£å‡½æ•°ï¼Œæ–¹ä¾¿é¡¹ç›®è°ƒè¯•</span><br></code></pre></td></tr></table></figure><h4 id="1-main-py"><a href="#1-main-py" class="headerlink" title="(1) main.py"></a>(1) main.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># main.pyï¼Œé¡¹ç›®å…¥å£</span><br><span class="hljs-keyword">import</span> unittest<br><span class="hljs-keyword">from</span> XTestRunner <span class="hljs-keyword">import</span> HTMLTestRunner<br><span class="hljs-comment"># from HTMLTestRunner import HTMLTestRunner</span><br><span class="hljs-comment"># from BeautifulReport import BeautifulReport</span><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    <span class="hljs-comment"># æ”¶é›†æ‰€æœ‰çš„ç”¨ä¾‹ï¼Œå¹¶è¿”å›æµ‹è¯•å¥—ä»¶</span><br>    suite = unittest.TestLoader().discover(<span class="hljs-string">&#x27;test_cases&#x27;</span>)<br><br>    <span class="hljs-comment"># æ‰§è¡Œæ‰€æœ‰çš„ç”¨ä¾‹ï¼Œå¹¶ç”ŸæˆæŠ¥å‘Š</span><br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;./reports/XTestRunner.html&#x27;</span>, <span class="hljs-string">&#x27;wb&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>        runner = HTMLTestRunner(<br>            <span class="hljs-comment"># verbosityå‚æ•°ï¼š0æ˜¯ç®€å•æŠ¥å‘Šï¼Œ1æ˜¯ä¸€èˆ¬æŠ¥å‘Šï¼Œ2æ˜¯è¯¦ç»†æŠ¥å‘Š</span><br>            stream=f, verbosity=<span class="hljs-number">2</span>, title=<span class="hljs-string">&quot;UnitTestæµ‹è¯•æŠ¥å‘Š&quot;</span>,<br>            description=<span class="hljs-string">&quot;UnitTestæµ‹è¯•æŠ¥å‘Šï¼šå†…å®¹æè¿°...&quot;</span><br>        )<br>        result = runner.run(suite)<br><br>    <span class="hljs-comment"># with open(&#x27;./reports/HTMLTestRunner.html&#x27;, &#x27;wb&#x27;) as f:</span><br>    <span class="hljs-comment">#     runner = HTMLTestRunner(</span><br>    <span class="hljs-comment">#         stream=f, verbosity=2, title=u&quot;UnitTestæµ‹è¯•æŠ¥å‘Š&quot;,</span><br>    <span class="hljs-comment">#         description=u&quot;UnitTestæµ‹è¯•æŠ¥å‘Šï¼šå†…å®¹æè¿°...&quot;</span><br>    <span class="hljs-comment">#     )</span><br>    <span class="hljs-comment">#     result = runner.run(suite)</span><br><br>    <span class="hljs-comment"># BeautifulReport(suite).report(</span><br>    <span class="hljs-comment">#     # descriptionåœ¨BeautifulReportæŠ¥å‘Šä¸­æ˜¯ç”¨ä¾‹åç§°</span><br>    <span class="hljs-comment">#     description=&quot;UnitTestæ¥å£æµ‹è¯•&quot;,</span><br>    <span class="hljs-comment">#     filename=&quot;./reports/BeautifulReport.html&quot;</span><br>    <span class="hljs-comment"># )</span><br></code></pre></td></tr></table></figure><h4 id="2-test-api-py"><a href="#2-test-api-py" class="headerlink" title="(2) test_api.py"></a>(2) test_api.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># test_api.py</span><br><span class="hljs-keyword">import</span> csv<br><span class="hljs-keyword">import</span> unittest<br><span class="hljs-keyword">from</span> common.log_output <span class="hljs-keyword">import</span> get_logger<br><span class="hljs-keyword">from</span> common.http_request <span class="hljs-keyword">import</span> send_http_request<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">read_csv</span>():<br>    phone_list = []<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;./test_data/test_api.csv&#x27;</span>, <span class="hljs-string">&#x27;r&#x27;</span>, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>        filename = csv.reader(f)<br>        <span class="hljs-built_in">next</span>(filename, <span class="hljs-literal">None</span>)<br>        <span class="hljs-keyword">for</span> r <span class="hljs-keyword">in</span> filename:<br>            <span class="hljs-comment"># ä½¿ç”¨strip()æ–¹æ³•å»é™¤é¢å¤–çš„ç©ºæ ¼</span><br>            cleaned_data = [item.strip() <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> r]<br>            phone_list.append(cleaned_data)<br>        <span class="hljs-keyword">return</span> phone_list<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestAPI</span>(unittest.TestCase):<br>    <span class="hljs-comment"># å°†æ—¥å¿—ç›¸å…³å†…å®¹å®šä¹‰ä¸ºç±»å±æ€§</span><br>    logger = get_logger(<span class="hljs-string">&#x27;test_api&#x27;</span>, <span class="hljs-string">&#x27;logs/test_api.log&#x27;</span>, debug=<span class="hljs-literal">True</span>)<br><br><span class="hljs-meta">    @classmethod</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">setUpClass</span>(<span class="hljs-params">cls</span>) -&gt; <span class="hljs-literal">None</span>:<br>        cls.logger.info(<span class="hljs-string">&#x27;æ¥å£æµ‹è¯•å¼€å§‹&#x27;</span>)<br><br><span class="hljs-meta">    @classmethod</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">tearDownClass</span>(<span class="hljs-params">cls</span>) -&gt; <span class="hljs-literal">None</span>:<br>        cls.logger.info(<span class="hljs-string">&#x27;æ¥å£æµ‹è¯•ç»“æŸ&#x27;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_api_response</span>(<span class="hljs-params">self</span>):<br>        self.logger.info(<span class="hljs-string">&#x27;ç”¨ä¾‹å¼€å§‹æµ‹è¯•&#x27;</span>)<br>        <span class="hljs-comment"># 1ã€æµ‹è¯•æ•°æ®</span><br>        <span class="hljs-keyword">for</span> url, method <span class="hljs-keyword">in</span> read_csv():<br>            <span class="hljs-comment"># 2ã€æµ‹è¯•æ­¥éª¤</span><br>            result = send_http_request(url=url, method=method)<br>            self.logger.debug(<span class="hljs-string">&#x27;method: &#123;&#125;, url: &#123;&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(method, url))<br>            <span class="hljs-comment"># 3ã€çŠ¶æ€ç æ–­è¨€</span><br>            self.assertEqual(result.status_code, <span class="hljs-number">200</span>)<br>        self.logger.info(<span class="hljs-string">&#x27;ç”¨ä¾‹ç»“æŸæµ‹è¯•&#x27;</span>)<br></code></pre></td></tr></table></figure><h4 id="3-test-api-csv"><a href="#3-test-api-csv" class="headerlink" title="(3) test_api.csv"></a>(3) test_api.csv</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs Csv">&lt;!-- test_api.csvï¼Œéœ€ç©ºä¸€è¡Œï¼Œå¦åˆ™æ— æ³•è·å–åˆ°ç¬¬ä¸€è¡Œæ•°æ® --&gt;<br>&lt;!-- æ‰§è¡Œé¡¹ç›®æ—¶ï¼Œå¿…é¡»æŠŠæ³¨é‡Šè¯´æ˜åˆ é™¤ï¼Œå¦åˆ™ç”¨ä¾‹å°†æ‰§è¡Œå¤±è´¥ --&gt;<br><br>https://api.oick.cn/yulu/api.php, GET<br>https://api.oick.cn/lishi/api.php, GET<br>https://api.oick.cn/dutang/api.php, GET<br>http://is.snssdk.com/api/news/feed/v51/, GET<br>https://dog.ceo/api/breeds/image/random, GET<br>https://v.api.aa1.cn/api/yiyan/index.php, GET<br>https://api.thecatapi.com/v1/images/search, GET<br></code></pre></td></tr></table></figure><h4 id="4-log-output-py"><a href="#4-log-output-py" class="headerlink" title="(4) log_output.py"></a>(4) log_output.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># log_output.py</span><br><span class="hljs-keyword">import</span> logging<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_logger</span>(<span class="hljs-params">name, filename, mode=<span class="hljs-string">&#x27;a&#x27;</span>, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>, fmt=<span class="hljs-literal">None</span>, debug=<span class="hljs-literal">False</span></span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    :param name: æ—¥å¿—è®°å½•å™¨çš„åç§°</span><br><span class="hljs-string">    :param filename: æ—¥å¿—æ–‡ä»¶å</span><br><span class="hljs-string">    :param mode: æ–‡ä»¶æ¨¡å¼</span><br><span class="hljs-string">    :param encoding: å­—ç¬¦ç¼–ç </span><br><span class="hljs-string">    :param fmt: æ—¥å¿—æ ¼å¼</span><br><span class="hljs-string">    :param debug: è°ƒè¯•æ¨¡å¼</span><br><span class="hljs-string">    :return:</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªæ—¥å¿—è®°å½•å™¨å¹¶è®¾ç½®æ—¥å¿—ç­‰çº§</span><br>    logger = logging.getLogger(name)<br>    logger.setLevel(logging.DEBUG)<br><br>    <span class="hljs-comment"># ç¡®å®šæ—¥å¿—æ–‡ä»¶å’Œæ§åˆ¶å°è¾“å‡ºçš„æ—¥å¿—çº§åˆ«ï¼Œæ–‡ä»¶å¤„ç†å™¨çš„ç­‰çº§ä¸€èˆ¬æƒ…å†µä¸‹æ¯”æ§åˆ¶å°è¦é«˜</span><br>    <span class="hljs-keyword">if</span> debug:<br>        file_level = logging.DEBUG<br>        console_level = logging.DEBUG<br>    <span class="hljs-keyword">else</span>:<br>        file_level = logging.WARNING<br>        console_level = logging.INFO<br><br>    <span class="hljs-comment"># å®šä¹‰æ—¥å¿—çš„è¾“å‡ºæ ¼å¼</span><br>    <span class="hljs-keyword">if</span> fmt <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br>        fmt = <span class="hljs-string">&#x27;%(asctime)s [%(name)s] [%(filename)s (%(funcName)s:%(lineno)d)] &#x27;</span> \<br>              <span class="hljs-string">&#x27;%(levelname)s - %(message)s&#x27;</span><br><br>    <span class="hljs-comment"># åˆ›å»ºæ—¥å¿—å¤„ç†å™¨ï¼Œå†™å…¥æ–‡ä»¶ä¸­å¹¶è®¾ç½®æ—¥å¿—ç­‰çº§</span><br>    file_handler = logging.FileHandler(filename=filename, mode=mode, encoding=encoding)<br>    file_handler.setLevel(file_level)<br><br>    <span class="hljs-comment"># å†™å…¥æ§åˆ¶å°çš„æ—¥å¿—å¤„ç†å™¨</span><br>    console_handler = logging.StreamHandler()<br>    console_handler.setLevel(console_level)<br><br>    <span class="hljs-comment"># åˆ›å»ºæ ¼å¼åŒ–å™¨å¹¶æ·»åŠ åˆ°æ—¥å¿—å¤„ç†å™¨</span><br>    formatter = logging.Formatter(fmt=fmt)<br>    file_handler.setFormatter(formatter)<br>    console_handler.setFormatter(formatter)<br><br>    <span class="hljs-comment"># å°†æ—¥å¿—å¤„ç†å™¨æ·»åŠ åˆ°æ—¥å¿—å™¨ä¸Š</span><br>    logger.addHandler(file_handler)<br>    logger.addHandler(console_handler)<br><br>    <span class="hljs-comment"># è¿”å›æ—¥å¿—</span><br>    <span class="hljs-keyword">return</span> logger<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    logger = get_logger(name=<span class="hljs-string">&#x27;test&#x27;</span>, filename=<span class="hljs-string">&#x27;../logs/test_log.log&#x27;</span>, debug=<span class="hljs-literal">True</span>)<br>    logger.debug(<span class="hljs-string">&#x27;è°ƒè¯•æ—¥å¿—&#x27;</span>)<br>    logger.info(<span class="hljs-string">&#x27;æ™®é€šæ—¥å¿—&#x27;</span>)<br>    logger.warning(<span class="hljs-string">&#x27;è­¦å‘Šæ—¥å¿—&#x27;</span>)<br>    logger.error(<span class="hljs-string">&#x27;é”™è¯¯æ—¥å¿—&#x27;</span>)<br>    logger.critical(<span class="hljs-string">&#x27;ä¸¥é‡é”™è¯¯&#x27;</span>)<br></code></pre></td></tr></table></figure><h4 id="5-http-request-py"><a href="#5-http-request-py" class="headerlink" title="(5) http_request.py"></a>(5) http_request.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># http_request.py</span><br><span class="hljs-keyword">import</span> requests<br><br><br><span class="hljs-comment"># -&gt;requests.Responseè¡¨ç¤ºè¿”å›çš„ç±»å‹ï¼Œå…¶ä»–æ¨¡å—è°ƒç”¨æ—¶ï¼ŒPycharmä¼šæç¤º</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">send_http_request</span>(<span class="hljs-params">url, method</span>) -&gt; requests.Response:<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    å‘é€httpè¯·æ±‚</span><br><span class="hljs-string">    :param url: è¯·æ±‚è·¯å¾„</span><br><span class="hljs-string">    :param method: è¯·æ±‚æ–¹å¼</span><br><span class="hljs-string">    :return: response</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-keyword">try</span>:<br>        <span class="hljs-keyword">if</span> method.upper() == <span class="hljs-string">&#x27;GET&#x27;</span>:<br>            response = requests.get(url)<br>            <span class="hljs-keyword">return</span> response<br>        <span class="hljs-keyword">elif</span> method.upper() == <span class="hljs-string">&#x27;POST&#x27;</span>:<br>            response = requests.post(url)<br>            <span class="hljs-keyword">return</span> response<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">&quot;ä¸æ”¯æŒçš„HTTPæ–¹æ³•ï¼&quot;</span>)<br>    <span class="hljs-keyword">except</span> requests.RequestException <span class="hljs-keyword">as</span> e:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;é”™è¯¯å‘ç”Ÿ: <span class="hljs-subst">&#123;e&#125;</span>&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    <span class="hljs-comment"># æ–¹æ³•çš„è°ƒç”¨</span><br>    result = send_http_request(url=<span class="hljs-string">&#x27;https://www.baidu.com&#x27;</span>, method=<span class="hljs-string">&#x27;GET&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(result.status_code)<br></code></pre></td></tr></table></figure><h2 id="8-2-å•ä¾‹æ¨¡å¼"><a href="#8-2-å•ä¾‹æ¨¡å¼" class="headerlink" title="8-2 å•ä¾‹æ¨¡å¼"></a>8-2 å•ä¾‹æ¨¡å¼</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Yaml"><span class="hljs-string">/:</span>                                  <span class="hljs-comment"># é¡¹ç›®æ ¹ç›®å½•</span><br>    <span class="hljs-attr">logs:</span>                           <span class="hljs-comment"># å­˜å‚¨é¡¹ç›®æ—¥å¿—</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">test_log.log</span>              <span class="hljs-comment"># æµ‹è¯•è¾“å‡ºæ—¥å¿—</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">test_api.log</span><br>    <span class="hljs-attr">common:</span>                         <span class="hljs-comment"># å­˜å‚¨å…¬ç”¨æ–¹æ³•</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">__init__.py</span>               <span class="hljs-comment"># ã€âœ”ã€‘å®ç°å•ä¾‹æ¨¡å¼ï¼Œå°†æ—¥å¿—è¾“å‡ºåŠŸèƒ½æ”¾å…¥å…¶ä¸­</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">log_output.py</span>             <span class="hljs-comment"># æ—¥å¿—åŠŸèƒ½å°è£…</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">http_request.py</span>           <span class="hljs-comment"># è¯·æ±‚åŠŸèƒ½å°è£…</span><br>    <span class="hljs-attr">reports:</span>                        <span class="hljs-comment"># å­˜å‚¨é¡¹ç›®æŠ¥å‘Š</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">XTestRunner.html</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">HTMLTestRunner.html</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">BeautifulReport.html</span><br>    <span class="hljs-attr">test_data:</span>                      <span class="hljs-comment"># å­˜å‚¨ç”¨ä¾‹æ•°æ®</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">test_api.csv</span><br>    <span class="hljs-attr">test_cases:</span>                     <span class="hljs-comment"># å­˜å‚¨æµ‹è¯•ç”¨ä¾‹</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">test_api.py</span>               <span class="hljs-comment"># ã€âœ”ã€‘ä¿®æ”¹å¯¼å…¥æ¨¡å—ã€ç±»å±æ€§å®šä¹‰æ–¹æ³•</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">main.py</span>                       <span class="hljs-comment"># ä½œä¸ºå…¥å£å‡½æ•°ï¼Œæ–¹ä¾¿é¡¹ç›®è°ƒè¯•</span><br></code></pre></td></tr></table></figure><h4 id="1-init-py"><a href="#1-init-py" class="headerlink" title="(1) __init__.py"></a>(1) __init__.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># __init__.py</span><br><span class="hljs-keyword">from</span> .log_output <span class="hljs-keyword">import</span> get_logger<br><br><span class="hljs-comment"># å•ä¾‹æ¨¡å¼ï¼Œé¿å…ç”¨ä¾‹ä¸­è°ƒç”¨çš„æ—¥å¿—æ–¹æ³•æˆ–æ–‡ä»¶ï¼ŒåŒåæ—¶å¯¼è‡´é‡å¤æ·»åŠ å¤šä¸ªæ—¥å¿—å¤„ç†å™¨</span><br>logger = get_logger(<span class="hljs-string">&#x27;test_api&#x27;</span>, <span class="hljs-string">&#x27;logs/test_api.log&#x27;</span>, debug=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><h4 id="2-test-api-py-1"><a href="#2-test-api-py-1" class="headerlink" title="(2) test_api.py"></a>(2) test_api.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># test_api.py</span><br><span class="hljs-keyword">import</span> csv<br><span class="hljs-keyword">import</span> unittest<br><span class="hljs-keyword">from</span> common <span class="hljs-keyword">import</span> logger<br><span class="hljs-comment"># from common.log_output import get_logger</span><br><span class="hljs-keyword">from</span> common.http_request <span class="hljs-keyword">import</span> send_http_request<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">read_csv</span>():<br>    phone_list = []<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;./test_data/test_api.csv&#x27;</span>, <span class="hljs-string">&#x27;r&#x27;</span>, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>        filename = csv.reader(f)<br>        <span class="hljs-built_in">next</span>(filename, <span class="hljs-literal">None</span>)<br>        <span class="hljs-keyword">for</span> r <span class="hljs-keyword">in</span> filename:<br>            <span class="hljs-comment"># ä½¿ç”¨strip()æ–¹æ³•å»é™¤é¢å¤–çš„ç©ºæ ¼</span><br>            cleaned_data = [item.strip() <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> r]<br>            phone_list.append(cleaned_data)<br>        <span class="hljs-keyword">return</span> phone_list<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestAPI</span>(unittest.TestCase):<br>    <span class="hljs-comment"># å°†æ—¥å¿—ç›¸å…³å†…å®¹å®šä¹‰ä¸ºç±»å±æ€§</span><br>    <span class="hljs-comment"># logger = get_logger(&#x27;test_api&#x27;, &#x27;logs/test_api.log&#x27;, debug=True)</span><br>    logger = logger<br><br><span class="hljs-meta">    @classmethod</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">setUpClass</span>(<span class="hljs-params">cls</span>) -&gt; <span class="hljs-literal">None</span>:<br>        cls.logger.info(<span class="hljs-string">&#x27;æ¥å£æµ‹è¯•å¼€å§‹&#x27;</span>)<br><br><span class="hljs-meta">    @classmethod</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">tearDownClass</span>(<span class="hljs-params">cls</span>) -&gt; <span class="hljs-literal">None</span>:<br>        cls.logger.info(<span class="hljs-string">&#x27;æ¥å£æµ‹è¯•ç»“æŸ&#x27;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_api_response</span>(<span class="hljs-params">self</span>):<br>        self.logger.info(<span class="hljs-string">&#x27;ç”¨ä¾‹å¼€å§‹æµ‹è¯•&#x27;</span>)<br>        <span class="hljs-comment"># 1ã€æµ‹è¯•æ•°æ®</span><br>        <span class="hljs-keyword">for</span> url, method <span class="hljs-keyword">in</span> read_csv():<br>            <span class="hljs-comment"># 2ã€æµ‹è¯•æ­¥éª¤</span><br>            result = send_http_request(url=url, method=method)<br>            self.logger.debug(<span class="hljs-string">&#x27;method: &#123;&#125;, url: &#123;&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(method, url))<br>            <span class="hljs-comment"># 3ã€çŠ¶æ€ç æ–­è¨€</span><br>            self.assertEqual(result.status_code, <span class="hljs-number">200</span>)<br>        self.logger.info(<span class="hljs-string">&#x27;ç”¨ä¾‹ç»“æŸæµ‹è¯•&#x27;</span>)<br></code></pre></td></tr></table></figure><h2 id="8-3-é…ç½®å°è£…"><a href="#8-3-é…ç½®å°è£…" class="headerlink" title="8-3 é…ç½®å°è£…"></a>8-3 é…ç½®å°è£…</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs Yaml"><span class="hljs-string">/:</span>                                  <span class="hljs-comment"># é¡¹ç›®æ ¹ç›®å½•</span><br>    <span class="hljs-attr">logs:</span>                           <span class="hljs-comment"># å­˜å‚¨é¡¹ç›®æ—¥å¿—</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">test_log.log</span>              <span class="hljs-comment"># æµ‹è¯•è¾“å‡ºæ—¥å¿—</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">test_api.log</span><br>    <span class="hljs-attr">common:</span>                         <span class="hljs-comment"># å­˜å‚¨å…¬ç”¨æ–¹æ³•</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">__init__.py</span>               <span class="hljs-comment"># ã€âœ”ã€‘å®ç°å•ä¾‹æ¨¡å¼ï¼Œå¼•å…¥é…ç½®æ–‡ä»¶å°è£…åçš„åŠŸèƒ½</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">log_output.py</span>             <span class="hljs-comment"># æ—¥å¿—åŠŸèƒ½å°è£…</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">http_request.py</span>           <span class="hljs-comment"># è¯·æ±‚åŠŸèƒ½å°è£…</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">config_func.py</span>            <span class="hljs-comment"># ã€âœ”ã€‘é…ç½®æ–‡ä»¶å°è£…ï¼Œå‡½æ•°å°è£…ï¼Œä½¿ç”¨conf.yaml</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">config_class.py</span>           <span class="hljs-comment"># ã€âœ”ã€‘é…ç½®æ–‡ä»¶å°è£…ï¼Œç±»å°è£…ï¼Œä½¿ç”¨conf.iniï¼Œä¸å‡½æ•°å°è£…äºŒé€‰ä¸€å³å¯</span><br>    <span class="hljs-attr">reports:</span>                        <span class="hljs-comment"># å­˜å‚¨é¡¹ç›®æŠ¥å‘Š</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">XTestRunner.html</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">HTMLTestRunner.html</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">BeautifulReport.html</span><br>    <span class="hljs-attr">test_data:</span>                      <span class="hljs-comment"># å­˜å‚¨ç”¨ä¾‹æ•°æ®</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">test_api.csv</span><br>    <span class="hljs-attr">test_cases:</span>                     <span class="hljs-comment"># å­˜å‚¨æµ‹è¯•ç”¨ä¾‹</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">test_api.py</span>               <span class="hljs-comment"># ã€âœ”ã€‘å¢åŠ å¯¼å…¥æ¨¡å—ã€ä¿®æ”¹ç”¨ä¾‹æ•°æ®è·¯å¾„</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">main.py</span>                       <span class="hljs-comment"># ã€âœ”ã€‘ä½œä¸ºå…¥å£å‡½æ•°ï¼Œä¿®æ”¹ç”ŸæˆæŠ¥å‘Šè·¯å¾„</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">conf.ini</span>                      <span class="hljs-comment"># ã€âœ”ã€‘æ–°å»ºé…ç½®æ–‡ä»¶ini</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">conf.yaml</span>                     <span class="hljs-comment"># ã€âœ”ã€‘æ–°å»ºé…ç½®æ–‡ä»¶yaml</span><br></code></pre></td></tr></table></figure><h4 id="1-main-py-1"><a href="#1-main-py-1" class="headerlink" title="(1) main.py"></a>(1) main.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># main.pyï¼Œé¡¹ç›®å…¥å£</span><br><span class="hljs-keyword">import</span> unittest<br><span class="hljs-keyword">from</span> common <span class="hljs-keyword">import</span> config<br><span class="hljs-comment"># from XTestRunner import HTMLTestRunner</span><br><span class="hljs-comment"># from HTMLTestRunner import HTMLTestRunner</span><br><span class="hljs-keyword">from</span> BeautifulReport <span class="hljs-keyword">import</span> BeautifulReport<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    <span class="hljs-comment"># æ”¶é›†æ‰€æœ‰çš„ç”¨ä¾‹ï¼Œå¹¶è¿”å›æµ‹è¯•å¥—ä»¶</span><br>    suite = unittest.TestLoader().discover(<span class="hljs-string">&#x27;test_cases&#x27;</span>)<br><br>    <span class="hljs-comment"># æ‰§è¡Œæ‰€æœ‰çš„ç”¨ä¾‹ï¼Œå¹¶ç”ŸæˆæŠ¥å‘Š</span><br>    <span class="hljs-comment"># with open(&#x27;./reports/XTestRunner.html&#x27;, &#x27;wb&#x27;) as f:</span><br>    <span class="hljs-comment">#     runner = HTMLTestRunner(</span><br>    <span class="hljs-comment">#         # verbosityå‚æ•°ï¼š0æ˜¯ç®€å•æŠ¥å‘Šï¼Œ1æ˜¯ä¸€èˆ¬æŠ¥å‘Šï¼Œ2æ˜¯è¯¦ç»†æŠ¥å‘Š</span><br>    <span class="hljs-comment">#         stream=f, verbosity=2, title=&quot;UnitTestæµ‹è¯•æŠ¥å‘Š&quot;,</span><br>    <span class="hljs-comment">#         description=&quot;UnitTestæµ‹è¯•æŠ¥å‘Šï¼šå†…å®¹æè¿°...&quot;</span><br>    <span class="hljs-comment">#     )</span><br>    <span class="hljs-comment">#     result = runner.run(suite)</span><br><br>    <span class="hljs-comment"># with open(&#x27;./reports/HTMLTestRunner.html&#x27;, &#x27;wb&#x27;) as f:</span><br>    <span class="hljs-comment">#     runner = HTMLTestRunner(</span><br>    <span class="hljs-comment">#         stream=f, verbosity=2, title=u&quot;UnitTestæµ‹è¯•æŠ¥å‘Š&quot;,</span><br>    <span class="hljs-comment">#         description=u&quot;UnitTestæµ‹è¯•æŠ¥å‘Šï¼šå†…å®¹æè¿°...&quot;</span><br>    <span class="hljs-comment">#     )</span><br>    <span class="hljs-comment">#     result = runner.run(suite)</span><br><br>    <span class="hljs-comment"># BeautifulReport(suite).report(</span><br>    <span class="hljs-comment">#     # descriptionåœ¨BeautifulReportæŠ¥å‘Šä¸­æ˜¯ç”¨ä¾‹åç§°</span><br>    <span class="hljs-comment">#     description=&quot;UnitTestæ¥å£æµ‹è¯•&quot;,</span><br>    <span class="hljs-comment">#     filename=&quot;./reports/BeautifulReport.html&quot;</span><br>    <span class="hljs-comment"># )</span><br><br>    BeautifulReport(suite).report(**config[<span class="hljs-string">&#x27;report&#x27;</span>])<br></code></pre></td></tr></table></figure><h4 id="2-conf-ini"><a href="#2-conf-ini" class="headerlink" title="(2) conf.ini"></a>(2) conf.ini</h4><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Ini"><span class="hljs-comment">; conf.ini</span><br><span class="hljs-section">[log]</span><br><span class="hljs-attr">name</span> = pylog<br><span class="hljs-attr">filename</span> = logs/test_api.log<br><span class="hljs-attr">debug</span> = <span class="hljs-literal">True</span><br><br><span class="hljs-section">[testdata]</span><br><span class="hljs-attr">file</span> = test_data/test_api.csv<br><br><span class="hljs-section">[report]</span><br><span class="hljs-attr">filename</span> = reports/XTestRunner.html<br><span class="hljs-attr">description</span> = UnitTestæ¥å£æµ‹è¯•<br></code></pre></td></tr></table></figure><h4 id="3-conf-yaml"><a href="#3-conf-yaml" class="headerlink" title="(3) conf.yaml"></a>(3) conf.yaml</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs Yaml"><span class="hljs-comment"># conf.yaml</span><br><span class="hljs-attr">log:</span><br>    <span class="hljs-attr">name:</span> <span class="hljs-string">pylog</span><br>    <span class="hljs-attr">filename:</span> <span class="hljs-string">logs/test_api.log</span><br>    <span class="hljs-attr">debug:</span> <span class="hljs-literal">True</span><br><span class="hljs-attr">testdata:</span><br>    <span class="hljs-attr">file:</span> <span class="hljs-string">test_data/test_api.csv</span><br><span class="hljs-attr">report:</span><br>    <span class="hljs-attr">filename:</span> <span class="hljs-string">reports/XTestRunner.html</span><br>    <span class="hljs-attr">description:</span> <span class="hljs-string">UnitTestæ¥å£æµ‹è¯•</span><br></code></pre></td></tr></table></figure><h4 id="4-test-api-py"><a href="#4-test-api-py" class="headerlink" title="(4) test_api.py"></a>(4) test_api.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># test_api.py</span><br><span class="hljs-keyword">import</span> csv<br><span class="hljs-keyword">import</span> unittest<br><span class="hljs-keyword">from</span> common <span class="hljs-keyword">import</span> logger, config<br><span class="hljs-comment"># from common.log_output import get_logger</span><br><span class="hljs-keyword">from</span> common.http_request <span class="hljs-keyword">import</span> send_http_request<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">read_csv</span>():<br>    phone_list = []<br>    <span class="hljs-comment"># with open(&#x27;./test_data/test_api.csv&#x27;, &#x27;r&#x27;, encoding=&#x27;utf-8&#x27;) as f:</span><br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(config[<span class="hljs-string">&#x27;testdata&#x27;</span>][<span class="hljs-string">&#x27;file&#x27;</span>], <span class="hljs-string">&#x27;r&#x27;</span>, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>        filename = csv.reader(f)<br>        <span class="hljs-built_in">next</span>(filename, <span class="hljs-literal">None</span>)<br>        <span class="hljs-keyword">for</span> r <span class="hljs-keyword">in</span> filename:<br>            <span class="hljs-comment"># ä½¿ç”¨strip()æ–¹æ³•å»é™¤é¢å¤–çš„ç©ºæ ¼</span><br>            cleaned_data = [item.strip() <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> r]<br>            phone_list.append(cleaned_data)<br>        <span class="hljs-keyword">return</span> phone_list<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestAPI</span>(unittest.TestCase):<br>    <span class="hljs-comment"># å°†æ—¥å¿—ç›¸å…³å†…å®¹å®šä¹‰ä¸ºç±»å±æ€§</span><br>    <span class="hljs-comment"># logger = get_logger(&#x27;test_api&#x27;, &#x27;logs/test_api.log&#x27;, debug=True)</span><br>    logger = logger<br><br><span class="hljs-meta">    @classmethod</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">setUpClass</span>(<span class="hljs-params">cls</span>) -&gt; <span class="hljs-literal">None</span>:<br>        cls.logger.info(<span class="hljs-string">&#x27;æ¥å£æµ‹è¯•å¼€å§‹&#x27;</span>)<br><br><span class="hljs-meta">    @classmethod</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">tearDownClass</span>(<span class="hljs-params">cls</span>) -&gt; <span class="hljs-literal">None</span>:<br>        cls.logger.info(<span class="hljs-string">&#x27;æ¥å£æµ‹è¯•ç»“æŸ&#x27;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_api_response</span>(<span class="hljs-params">self</span>):<br>        self.logger.info(<span class="hljs-string">&#x27;ç”¨ä¾‹å¼€å§‹æµ‹è¯•&#x27;</span>)<br>        <span class="hljs-comment"># 1ã€æµ‹è¯•æ•°æ®</span><br>        <span class="hljs-keyword">for</span> url, method <span class="hljs-keyword">in</span> read_csv():<br>            <span class="hljs-comment"># 2ã€æµ‹è¯•æ­¥éª¤</span><br>            result = send_http_request(url=url, method=method)<br>            self.logger.debug(<span class="hljs-string">&#x27;method: &#123;&#125;, url: &#123;&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(method, url))<br>            <span class="hljs-comment"># 3ã€çŠ¶æ€ç æ–­è¨€</span><br>            self.assertEqual(result.status_code, <span class="hljs-number">200</span>)<br>        self.logger.info(<span class="hljs-string">&#x27;ç”¨ä¾‹ç»“æŸæµ‹è¯•&#x27;</span>)<br></code></pre></td></tr></table></figure><h4 id="5-init-py"><a href="#5-init-py" class="headerlink" title="(5) __init__.py"></a>(5) __init__.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># __init__.py</span><br><span class="hljs-comment"># from .config_class import Config</span><br><span class="hljs-keyword">from</span> .log_output <span class="hljs-keyword">import</span> get_logger<br><span class="hljs-keyword">from</span> .config_func <span class="hljs-keyword">import</span> get_config<br><br><span class="hljs-comment"># # å•ä¾‹æ¨¡å¼ï¼Œé¿å…ç”¨ä¾‹ä¸­è°ƒç”¨çš„æ—¥å¿—æ–¹æ³•æˆ–æ–‡ä»¶ï¼ŒåŒåæ—¶å¯¼è‡´é‡å¤æ·»åŠ å¤šä¸ªæ—¥å¿—å¤„ç†å™¨</span><br><span class="hljs-comment"># logger = get_logger(&#x27;test_api&#x27;, &#x27;logs/test_api.log&#x27;, debug=True)</span><br><br><span class="hljs-comment"># ä½¿ç”¨config_funcè·å–è§£æå‡ºæ¥çš„é…ç½®æ•°æ®å­—å…¸</span><br>config = get_config(<span class="hljs-string">&#x27;conf.yaml&#x27;</span>)<br><span class="hljs-comment"># å°†å­—å…¸ä¸­logçš„æ•°æ®è§£åŒ…ä¼ å…¥</span><br>logger = get_logger(**config[<span class="hljs-string">&#x27;log&#x27;</span>])<br><span class="hljs-built_in">print</span>(logger)<br><br><span class="hljs-comment"># # ä½¿ç”¨config_classè·å–è§£æå‡ºæ¥çš„é…ç½®æ•°æ®å­—å…¸</span><br><span class="hljs-comment"># config = Config(&#x27;conf.ini&#x27;).parse()</span><br><span class="hljs-comment"># logger = get_logger(**config[&#x27;log&#x27;])</span><br><span class="hljs-comment"># print(logger)</span><br></code></pre></td></tr></table></figure><h4 id="6-config-func-py"><a href="#6-config-func-py" class="headerlink" title="(6) config_func.py"></a>(6) config_func.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># config_func.py</span><br><span class="hljs-keyword">import</span> yaml<br><span class="hljs-keyword">from</span> configparser <span class="hljs-keyword">import</span> ConfigParser<br><br><br><span class="hljs-comment"># å‡½æ•°å°è£…ï¼Œå®šä¹‰è¿”å›ç±»å‹ä¸ºå­—å…¸</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_config</span>(<span class="hljs-params">filename, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span></span>) -&gt; <span class="hljs-built_in">dict</span>:<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    è·å–é…ç½®æ–‡ä»¶</span><br><span class="hljs-string">    :param filename: æ–‡ä»¶å</span><br><span class="hljs-string">    :param encoding: æ–‡ä»¶ç¼–ç </span><br><span class="hljs-string">    :return: data</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-comment"># è·å–æ–‡ä»¶ååç¼€</span><br>    suffix = filename.split(<span class="hljs-string">&#x27;.&#x27;</span>)[-<span class="hljs-number">1</span>]<br>    <span class="hljs-comment"># åˆ¤æ–­è¿™ä¸ªé…ç½®æ–‡ä»¶çš„ç±»å‹</span><br>    <span class="hljs-keyword">if</span> suffix <span class="hljs-keyword">in</span> [<span class="hljs-string">&#x27;ini&#x27;</span>, <span class="hljs-string">&#x27;cfg&#x27;</span>, <span class="hljs-string">&#x27;cnf&#x27;</span>]:<br>        <span class="hljs-comment"># inié…ç½®</span><br>        conf = ConfigParser()<br>        conf.read(filename, encoding=encoding)<br>        <span class="hljs-comment"># å°†inié…ç½®ä¿¡æ¯è§£ææˆä¸€ä¸ªå­—å…¸</span><br>        data = &#123;&#125;<br>        <span class="hljs-keyword">for</span> section <span class="hljs-keyword">in</span> conf.sections():<br>            data[section] = <span class="hljs-built_in">dict</span>(conf.items(section))<br>    <span class="hljs-keyword">elif</span> suffix <span class="hljs-keyword">in</span> [<span class="hljs-string">&#x27;yaml&#x27;</span>, <span class="hljs-string">&#x27;yml&#x27;</span>]:<br>        <span class="hljs-comment"># yamlé…ç½®</span><br>        <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(filename, <span class="hljs-string">&#x27;r&#x27;</span>, encoding=encoding) <span class="hljs-keyword">as</span> f:<br>            data = yaml.load(f, Loader=yaml.FullLoader)<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">&#x27;ä¸èƒ½è¯†åˆ«çš„é…ç½®æ–‡ä»¶åç¼€åï¼&#x27;</span>)<br>    <span class="hljs-keyword">return</span> data<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    result = get_config(<span class="hljs-string">&#x27;../conf.yaml&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(result)<br></code></pre></td></tr></table></figure><h4 id="7-config-class-py"><a href="#7-config-class-py" class="headerlink" title="(7) config_class.py"></a>(7) config_class.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># config_class.py</span><br><span class="hljs-keyword">import</span> yaml<br><span class="hljs-keyword">from</span> configparser <span class="hljs-keyword">import</span> ConfigParser<br><br><br><span class="hljs-comment"># ç±»å°è£…</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Config</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, filename, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span></span>):<br>        <span class="hljs-comment"># åˆå§‹åŒ–å·¥ä½œ</span><br>        self.filename = filename<br>        self.encoding = encoding<br>        self.suffix = filename.split(<span class="hljs-string">&#x27;.&#x27;</span>)[-<span class="hljs-number">1</span>]<br>        <span class="hljs-keyword">if</span> self.suffix <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> [<span class="hljs-string">&#x27;ini&#x27;</span>, <span class="hljs-string">&#x27;conf&#x27;</span>, <span class="hljs-string">&#x27;cnf&#x27;</span>, <span class="hljs-string">&#x27;cfg&#x27;</span>, <span class="hljs-string">&#x27;yml&#x27;</span>, <span class="hljs-string">&#x27;yaml&#x27;</span>]:<br>            <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">&#x27;ä¸èƒ½è¯†åˆ«çš„é…ç½®æ–‡ä»¶åç¼€åï¼&#x27;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__parse_ini</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        è§£æiniã€confã€cnfã€cfgæ–‡ä»¶</span><br><span class="hljs-string">        :return:</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        conf = ConfigParser()<br>        conf.read(self.filename, encoding=self.encoding)<br>        <span class="hljs-comment"># å°†inié…ç½®ä¿¡æ¯è§£ææˆä¸€ä¸ªå¤§å­—å…¸</span><br>        data = &#123;&#125;<br>        <span class="hljs-keyword">for</span> section <span class="hljs-keyword">in</span> conf.sections():<br>            data[section] = <span class="hljs-built_in">dict</span>(conf.items(section))<br>        <span class="hljs-keyword">return</span> data<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__parse_yaml</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        è§£æyamlã€ymlæ–‡ä»¶</span><br><span class="hljs-string">        :return:</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(self.filename, <span class="hljs-string">&#x27;r&#x27;</span>, encoding=self.encoding) <span class="hljs-keyword">as</span> f:<br>            data = yaml.load(f, Loader=yaml.FullLoader)<br>        <span class="hljs-keyword">return</span> data<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">parse</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        è§£æé…ç½®æ–‡ä»¶</span><br><span class="hljs-string">        :return:</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        <span class="hljs-keyword">if</span> self.suffix <span class="hljs-keyword">in</span> [<span class="hljs-string">&#x27;yaml&#x27;</span>, <span class="hljs-string">&#x27;yml&#x27;</span>]:<br>            <span class="hljs-keyword">return</span> self.__parse_yaml()<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">return</span> self.__parse_ini()<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    result = Config(<span class="hljs-string">&#x27;../conf.yaml&#x27;</span>)<br>    result = result.parse()<br>    <span class="hljs-built_in">print</span>(result)<br>    result = Config(<span class="hljs-string">&#x27;../conf.ini&#x27;</span>)<br>    result = result.parse()<br>    <span class="hljs-built_in">print</span>(result)<br></code></pre></td></tr></table></figure><h2 id="8-4-å˜é‡é…ç½®"><a href="#8-4-å˜é‡é…ç½®" class="headerlink" title="8-4 å˜é‡é…ç½®"></a>8-4 å˜é‡é…ç½®</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Yaml"><span class="hljs-string">/:</span>                                  <span class="hljs-comment"># é¡¹ç›®æ ¹ç›®å½•</span><br>    <span class="hljs-attr">logs:</span>                           <span class="hljs-comment"># å­˜å‚¨é¡¹ç›®æ—¥å¿—</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">test_log.log</span>              <span class="hljs-comment"># æµ‹è¯•è¾“å‡ºæ—¥å¿—</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">test_api.log</span><br>    <span class="hljs-attr">common:</span>                         <span class="hljs-comment"># å­˜å‚¨å…¬ç”¨æ–¹æ³•</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">__init__.py</span>               <span class="hljs-comment"># ã€âœ”ã€‘å®ç°å•ä¾‹æ¨¡å¼ï¼Œå°†settings.LOG_CONFIGçš„å€¼è§£åŒ…ä¼ å…¥</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">log_output.py</span>             <span class="hljs-comment"># æ—¥å¿—åŠŸèƒ½å°è£…</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">http_request.py</span>           <span class="hljs-comment"># è¯·æ±‚åŠŸèƒ½å°è£…</span><br>    <span class="hljs-attr">reports:</span>                        <span class="hljs-comment"># å­˜å‚¨é¡¹ç›®æŠ¥å‘Š</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">XTestRunner.html</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">HTMLTestRunner.html</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">BeautifulReport.html</span><br>    <span class="hljs-attr">test_data:</span>                      <span class="hljs-comment"># å­˜å‚¨ç”¨ä¾‹æ•°æ®</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">test_api.csv</span><br>    <span class="hljs-attr">test_cases:</span>                     <span class="hljs-comment"># å­˜å‚¨æµ‹è¯•ç”¨ä¾‹</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">test_api.py</span>               <span class="hljs-comment"># ã€âœ”ã€‘å¢åŠ å¯¼å…¥æ¨¡å—ã€ä¿®æ”¹ç”¨ä¾‹æ•°æ®è·¯å¾„</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">main.py</span>                       <span class="hljs-comment"># ã€âœ”ã€‘ä½œä¸ºå…¥å£å‡½æ•°ï¼Œä¿®æ”¹ç”ŸæˆæŠ¥å‘Šè·¯å¾„</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">settings.py</span>                   <span class="hljs-comment"># ã€âœ”ã€‘æ–°å»ºé…ç½®æ–‡ä»¶</span><br></code></pre></td></tr></table></figure><h4 id="1-main-py-2"><a href="#1-main-py-2" class="headerlink" title="(1) main.py"></a>(1) main.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># main.pyï¼Œé¡¹ç›®å…¥å£</span><br><span class="hljs-keyword">import</span> unittest<br><span class="hljs-keyword">import</span> settings<br><span class="hljs-comment"># from XTestRunner import HTMLTestRunner</span><br><span class="hljs-comment"># from HTMLTestRunner import HTMLTestRunner</span><br><span class="hljs-keyword">from</span> BeautifulReport <span class="hljs-keyword">import</span> BeautifulReport<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    <span class="hljs-comment"># æ”¶é›†æ‰€æœ‰çš„ç”¨ä¾‹ï¼Œå¹¶è¿”å›æµ‹è¯•å¥—ä»¶</span><br>    suite = unittest.TestLoader().discover(<span class="hljs-string">&#x27;test_cases&#x27;</span>)<br><br>    <span class="hljs-comment"># æ‰§è¡Œæ‰€æœ‰çš„ç”¨ä¾‹ï¼Œå¹¶ç”ŸæˆæŠ¥å‘Š</span><br>    <span class="hljs-comment"># with open(&#x27;./reports/XTestRunner.html&#x27;, &#x27;wb&#x27;) as f:</span><br>    <span class="hljs-comment">#     runner = HTMLTestRunner(</span><br>    <span class="hljs-comment">#         # verbosityå‚æ•°ï¼š0æ˜¯ç®€å•æŠ¥å‘Šï¼Œ1æ˜¯ä¸€èˆ¬æŠ¥å‘Šï¼Œ2æ˜¯è¯¦ç»†æŠ¥å‘Š</span><br>    <span class="hljs-comment">#         stream=f, verbosity=2, title=&quot;UnitTestæµ‹è¯•æŠ¥å‘Š&quot;,</span><br>    <span class="hljs-comment">#         description=&quot;UnitTestæµ‹è¯•æŠ¥å‘Šï¼šå†…å®¹æè¿°...&quot;</span><br>    <span class="hljs-comment">#     )</span><br>    <span class="hljs-comment">#     result = runner.run(suite)</span><br><br>    <span class="hljs-comment"># with open(&#x27;./reports/HTMLTestRunner.html&#x27;, &#x27;wb&#x27;) as f:</span><br>    <span class="hljs-comment">#     runner = HTMLTestRunner(</span><br>    <span class="hljs-comment">#         stream=f, verbosity=2, title=u&quot;UnitTestæµ‹è¯•æŠ¥å‘Š&quot;,</span><br>    <span class="hljs-comment">#         description=u&quot;UnitTestæµ‹è¯•æŠ¥å‘Šï¼šå†…å®¹æè¿°...&quot;</span><br>    <span class="hljs-comment">#     )</span><br>    <span class="hljs-comment">#     result = runner.run(suite)</span><br><br>    <span class="hljs-comment"># BeautifulReport(suite).report(</span><br>    <span class="hljs-comment">#     # descriptionåœ¨BeautifulReportæŠ¥å‘Šä¸­æ˜¯ç”¨ä¾‹åç§°</span><br>    <span class="hljs-comment">#     description=&quot;UnitTestæµ‹è¯•æŠ¥å‘Š&quot;,</span><br>    <span class="hljs-comment">#     filename=&quot;./reports/BeautifulReport.html&quot;</span><br>    <span class="hljs-comment"># )</span><br><br>    <span class="hljs-comment"># BeautifulReport(suite).report(**config[&#x27;report&#x27;])</span><br>    BeautifulReport(suite).report(**settings.REPORT_CONFIG)<br></code></pre></td></tr></table></figure><h4 id="2-settings-py"><a href="#2-settings-py" class="headerlink" title="(2) settings.py"></a>(2) settings.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># æ—¥å¿—é…ç½®</span><br>LOG_CONFIG = &#123;<br>    <span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;pylog&#x27;</span>,<br>    <span class="hljs-string">&#x27;filename&#x27;</span>: <span class="hljs-string">&#x27;logs/test_api.log&#x27;</span>,<br>    <span class="hljs-string">&#x27;debug&#x27;</span>: <span class="hljs-literal">True</span><br>&#125;<br><br><span class="hljs-comment"># æµ‹è¯•æ•°æ®é…ç½®</span><br>TEST_DATA_FILE = <span class="hljs-string">&#x27;test_data/test_api.csv&#x27;</span><br><br><span class="hljs-comment"># æµ‹è¯•æŠ¥å‘Š</span><br>REPORT_CONFIG = &#123;<br>    <span class="hljs-string">&#x27;filename&#x27;</span>: <span class="hljs-string">&#x27;reports/XTestRunner.html&#x27;</span>,<br>    <span class="hljs-string">&#x27;description&#x27;</span>: <span class="hljs-string">&#x27;UnitTestæ¥å£æµ‹è¯•&#x27;</span><br>&#125;<br></code></pre></td></tr></table></figure><h4 id="3-test-api-py"><a href="#3-test-api-py" class="headerlink" title="(3) test_api.py"></a>(3) test_api.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># test_api.py</span><br><span class="hljs-keyword">import</span> csv<br><span class="hljs-keyword">import</span> unittest<br><span class="hljs-keyword">import</span> settings<br><span class="hljs-keyword">from</span> common <span class="hljs-keyword">import</span> logger<br><span class="hljs-comment"># from common.log_output import get_logger</span><br><span class="hljs-keyword">from</span> common.http_request <span class="hljs-keyword">import</span> send_http_request<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">read_csv</span>():<br>    phone_list = []<br>    <span class="hljs-comment"># with open(&#x27;./test_data/test_api.csv&#x27;, &#x27;r&#x27;, encoding=&#x27;utf-8&#x27;) as f:</span><br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(settings.TEST_DATA_FILE, <span class="hljs-string">&#x27;r&#x27;</span>, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>        filename = csv.reader(f)<br>        <span class="hljs-built_in">next</span>(filename, <span class="hljs-literal">None</span>)<br>        <span class="hljs-keyword">for</span> r <span class="hljs-keyword">in</span> filename:<br>            <span class="hljs-comment"># ä½¿ç”¨strip()æ–¹æ³•å»é™¤é¢å¤–çš„ç©ºæ ¼</span><br>            cleaned_data = [item.strip() <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> r]<br>            phone_list.append(cleaned_data)<br>        <span class="hljs-keyword">return</span> phone_list<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestAPI</span>(unittest.TestCase):<br>    <span class="hljs-comment"># å°†æ—¥å¿—ç›¸å…³å†…å®¹å®šä¹‰ä¸ºç±»å±æ€§</span><br>    <span class="hljs-comment"># logger = get_logger(&#x27;test_api&#x27;, &#x27;logs/test_api.log&#x27;, debug=True)</span><br>    logger = logger<br><br><span class="hljs-meta">    @classmethod</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">setUpClass</span>(<span class="hljs-params">cls</span>) -&gt; <span class="hljs-literal">None</span>:<br>        cls.logger.info(<span class="hljs-string">&#x27;æ¥å£æµ‹è¯•å¼€å§‹&#x27;</span>)<br><br><span class="hljs-meta">    @classmethod</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">tearDownClass</span>(<span class="hljs-params">cls</span>) -&gt; <span class="hljs-literal">None</span>:<br>        cls.logger.info(<span class="hljs-string">&#x27;æ¥å£æµ‹è¯•ç»“æŸ&#x27;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_api_response</span>(<span class="hljs-params">self</span>):<br>        self.logger.info(<span class="hljs-string">&#x27;ç”¨ä¾‹å¼€å§‹æµ‹è¯•&#x27;</span>)<br>        <span class="hljs-comment"># 1ã€æµ‹è¯•æ•°æ®</span><br>        <span class="hljs-keyword">for</span> url, method <span class="hljs-keyword">in</span> read_csv():<br>            <span class="hljs-comment"># 2ã€æµ‹è¯•æ­¥éª¤</span><br>            result = send_http_request(url=url, method=method)<br>            self.logger.debug(<span class="hljs-string">&#x27;method: &#123;&#125;, url: &#123;&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(method, url))<br>            <span class="hljs-comment"># 3ã€çŠ¶æ€ç æ–­è¨€</span><br>            self.assertEqual(result.status_code, <span class="hljs-number">200</span>)<br>        self.logger.info(<span class="hljs-string">&#x27;ç”¨ä¾‹ç»“æŸæµ‹è¯•&#x27;</span>)<br></code></pre></td></tr></table></figure><h4 id="4-init-py"><a href="#4-init-py" class="headerlink" title="(4) __init__.py"></a>(4) __init__.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># __init__.py</span><br><span class="hljs-keyword">import</span> settings<br><span class="hljs-keyword">from</span> .log_output <span class="hljs-keyword">import</span> get_logger<br><br><span class="hljs-comment"># # å•ä¾‹æ¨¡å¼ï¼Œé¿å…ç”¨ä¾‹ä¸­è°ƒç”¨çš„æ—¥å¿—æ–¹æ³•æˆ–æ–‡ä»¶ï¼ŒåŒåæ—¶å¯¼è‡´é‡å¤æ·»åŠ å¤šä¸ªæ—¥å¿—å¤„ç†å™¨</span><br><span class="hljs-comment"># logger = get_logger(&#x27;test_api&#x27;, &#x27;logs/test_api.log&#x27;, debug=True)</span><br><br><span class="hljs-comment"># å°†settings.LOG_CONFIGçš„å€¼è§£åŒ…ä¼ å…¥</span><br>logger = get_logger(**settings.LOG_CONFIG)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>æµ‹è¯•æ¡†æ¶</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>UnitTest</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Allure æµ‹è¯•æŠ¥å‘Š</title>
    <link href="/2023/05/01/ce-shi-kuang-jia/tf03-allure-ce-shi-bao-gao/"/>
    <url>/2023/05/01/ce-shi-kuang-jia/tf03-allure-ce-shi-bao-gao/</url>
    
    <content type="html"><![CDATA[<p>Allureæ˜¯ä¸€æ¬¾è½»é‡çº§çš„å¼€æºè‡ªåŠ¨åŒ–æµ‹è¯•æŠ¥å‘Šç”Ÿæˆæ¡†æ¶ï¼Œæ”¯æŒç»å¤§éƒ¨åˆ†æµ‹è¯•æ¡†æ¶ï¼Œä¾‹å¦‚TestNGã€JUnitã€PyTestã€UnitTestç­‰ã€‚</p><span id="more"></span><h1 id="1-allureæ¡†æ¶"><a href="#1-allureæ¡†æ¶" class="headerlink" title="1 allureæ¡†æ¶"></a>1 allureæ¡†æ¶</h1><ul><li>allureæ¡†æ¶<ul><li><a href="https://github.com/allure-framework/allure2/releases">allure2ä¸‹è½½</a>ï¼š<a href="https://github.com/allure-framework/allure2/releases/download/2.20.1/allure-2.20.1.zip">allure-2.20.1.zip</a>ï¼ŒJDK1.8ç‰ˆæœ¬ï¼Œ<code>pip install allure-pytest</code>å®‰è£…Pythonä¾èµ–ã€‚</li><li>æ·»åŠ å˜é‡ï¼šæ§åˆ¶é¢æ¿â€”&gt;ç”¨æˆ·è´¦æˆ·â€”&gt;æ›´æ”¹ç¯å¢ƒå˜é‡â€”&gt;Pathâ€”&gt;æ·»åŠ <code>...\allure-2.20.1\bin</code>ã€‚</li><li>Pythonä¾èµ–åŒ…å«allure-pytestå’Œallure-python-commonsä¸¤ä¸ªåŒ…ï¼Œç”Ÿæˆä¸allure2å…¼å®¹çš„æŠ¥å‘Šæ•°æ®ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                                   <span class="hljs-comment"># test_case.py</span><br><br><br><span class="hljs-meta">@pytest.mark.skip()</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;---use case a---&#x27;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;---use case b---&#x27;</span>)<br><br><span class="hljs-comment"># pytest -vs --alluredir=./report/xml --clean-alluredir         # ç”Ÿæˆxmlæ ¼å¼çš„æŠ¥å‘Šæ•°æ®</span><br><span class="hljs-comment"># allure serve report\xml                                       # ç›´æ¥åœ¨æœ¬åœ°æµè§ˆå™¨ä¸­æ‰“å¼€æŠ¥å‘Š</span><br></code></pre></td></tr></table></figure><ul><li>æŠ¥å‘Šç»“æ„ä»‹ç»<ul><li>Overviewï¼šæ€»è§ˆã€‚</li><li>Categoriesï¼šç”¨ä¾‹ç±»åˆ«ï¼Œé»˜è®¤failedå’Œerrorï¼Œå¯å¿«é€ŸæŸ¥çœ‹å“ªäº›ç”¨ä¾‹æ‰§è¡Œæ˜¯failedå’Œerrorçš„ã€‚</li><li>Suitesï¼šå³æ‰€æœ‰ç”¨ä¾‹çš„å±‚çº§å…³ç³»ï¼Œå¯ä»¥ä¾æ®packageã€moduleã€classå’Œmethodæ¥æŸ¥æ‰¾ç”¨ä¾‹ã€‚</li><li>Graphsï¼šæµ‹è¯•ç»“æœçš„å›¾å½¢åŒ–å±•ç¤ºï¼ŒåŒ…æ‹¬åˆ†å¸ƒå›¾ç­‰ã€‚</li><li>Timelineï¼šæµ‹è¯•ç”¨ä¾‹çš„æ‰§è¡Œé¡ºåºï¼ŒåŒ…æ‹¬æ‰§è¡Œæ—¶é—´ã€‚</li><li>Behaviorsï¼šä¾æ®epicã€featureã€storyè¿›è¡Œç”¨ä¾‹åˆ†ç»„ã€‚</li><li>Packagesï¼šæŒ‰packageã€moduleè¿›è¡Œæµ‹è¯•ç”¨ä¾‹çš„åˆ†ç»„ã€‚</li></ul></li></ul><h2 id="1-1-æ·»åŠ ç¯å¢ƒå˜é‡"><a href="#1-1-æ·»åŠ ç¯å¢ƒå˜é‡" class="headerlink" title="1-1 æ·»åŠ ç¯å¢ƒå˜é‡"></a>1-1 æ·»åŠ ç¯å¢ƒå˜é‡</h2><ul><li>æ·»åŠ ç¯å¢ƒå˜é‡<ul><li>Overviewçš„ENVIRONMENT<ul><li>åœ¨ç”Ÿæˆxmlæ ¼å¼çš„æŠ¥å‘Šæ•°æ®æ–‡ä»¶å¤¹ä¸­ï¼Œåˆ›å»ºä¸€ä¸ª<code>environment.properties</code>æ–‡ä»¶ã€‚</li><li>åŒç†ä¹Ÿå¯ä»¥åœ¨ç”Ÿæˆxmlæ ¼å¼çš„æŠ¥å‘Šæ•°æ®æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ª<code>environment.xml</code>æ–‡ä»¶ã€‚</li></ul></li><li>ç¯å¢ƒå˜é‡æ·»åŠ å®Œæˆåï¼Œéœ€è¦é‡æ–°æ‰§è¡Œå‘½ä»¤<code>allure serve report\xml</code>ï¼Œåœ¨æœ¬åœ°æµè§ˆå™¨ä¸­é‡æ–°æ‰“å¼€æŠ¥å‘Šæ‰èƒ½ç”Ÿæ•ˆã€‚</li></ul></li></ul><h4 id="1-environment-xml"><a href="#1-environment-xml" class="headerlink" title="(1) environment.xml"></a>(1) environment.xml</h4><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Txt">&lt;environment&gt;                                                   &lt;!-- environment.xmlæ–‡ä»¶ --&gt;<br>    &lt;parameter&gt;                                                 &lt;!-- .xmlé…ç½®ä¼˜å…ˆäº.properties --&gt;<br>        &lt;key&gt;Browser&lt;/key&gt;<br>        &lt;value&gt;Chrome&lt;/value&gt;<br>    &lt;/parameter&gt;<br>    &lt;parameter&gt;<br>        &lt;key&gt;Browser.Version&lt;/key&gt;<br>        &lt;value&gt;100.0&lt;/value&gt;<br>    &lt;/parameter&gt;<br>    &lt;parameter&gt;<br>        &lt;key&gt;Stand&lt;/key&gt;<br>        &lt;value&gt;Production&lt;/value&gt;<br>    &lt;/parameter&gt;<br>    &lt;parameter&gt;<br>        &lt;key&gt;Type&lt;/key&gt;<br>        &lt;value&gt;xml&lt;/value&gt;<br>    &lt;/parameter&gt;<br>&lt;/environment&gt;<br></code></pre></td></tr></table></figure><h4 id="2-environment-properties"><a href="#2-environment-properties" class="headerlink" title="(2) environment.properties"></a>(2) environment.properties</h4><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs Txt">Browser=Chrome                                                   # environment.propertiesæ–‡ä»¶<br>Browser.Version=107.0                                            # æœ€å¥½ä¸å¸¦æ³¨é‡Šä¿¡æ¯ï¼Œå¯èƒ½ä¹±ç æ˜¾ç¤º<br>Stand=Production<br>Type=Properties<br></code></pre></td></tr></table></figure><h2 id="1-2-è‡ªå®šä¹‰ç¼ºé™·åˆ†ç±»"><a href="#1-2-è‡ªå®šä¹‰ç¼ºé™·åˆ†ç±»" class="headerlink" title="1-2 è‡ªå®šä¹‰ç¼ºé™·åˆ†ç±»"></a>1-2 è‡ªå®šä¹‰ç¼ºé™·åˆ†ç±»</h2><ul><li>è‡ªå®šä¹‰ç¼ºé™·åˆ†ç±»<ul><li>Categoriesï¼šåœ¨ç”Ÿæˆxmlæ ¼å¼çš„æŠ¥å‘Šæ•°æ®æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ª<code>categories.json</code>æ–‡ä»¶ã€‚</li><li>Jsonæ–‡ä»¶å‚æ•°è¯´æ˜<ul><li>nameï¼šå¿…å¡«ï¼Œç±»åˆ«åç§°ï¼Œå¯ä»¥æ˜¯ä¸­æ–‡ã€‚</li><li>messageRegexï¼šå¯é€‰ï¼Œç”¨ä¾‹è¿è¡Œçš„é”™è¯¯æ¶ˆæ¯ï¼Œé»˜è®¤<code>&quot;.*&quot;</code>ï¼Œå¯ä»¥é€šè¿‡æ­£åˆ™è¡¨è¾¾å¼è¿›è¡ŒåŒ¹é…ã€‚</li><li>traceRegexï¼šå¯é€‰ï¼Œç”¨ä¾‹è¿è¡Œé”™è¯¯æ¶ˆæ¯çš„å †æ ˆè·Ÿè¸ªï¼Œé»˜è®¤<code>&quot;.*&quot;</code>ï¼Œå¯ä»¥é€šè¿‡æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ã€‚</li><li>matchedStatusesï¼šå¯é€‰ï¼Œç”¨ä¾‹è¿è¡ŒçŠ¶æ€ï¼Œé»˜è®¤<code>[&quot;failed&quot;,&quot;broken&quot;,&quot;passed&quot;,&quot;skipped&quot;,&quot;unknown&quot;]</code>ã€‚</li><li>å¦‚æœç”¨ä¾‹è¿è¡Œç»“æœçš„çŠ¶æ€åœ¨åˆ—è¡¨ä¸­ï¼Œå¹¶ä¸”é”™è¯¯æ¶ˆæ¯å’Œå †æ ˆè·Ÿè¸ªéƒ½ä¸ä¹‹æ¨¡å¼ç›¸åŒ¹é…ï¼Œåˆ™æµ‹è¯•ç»“æœå±äºè¯¥ç±»åˆ«ã€‚</li></ul></li></ul></li></ul><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs Json"><span class="hljs-punctuation">[</span>                                                               <span class="hljs-comment">// categories.jsonæ–‡ä»¶</span><br>  <span class="hljs-punctuation">&#123;</span>                                                             <span class="hljs-comment">// æ–‡ä»¶ä¸­æœ€å¥½ä¸è¦å¸¦æ³¨é‡Šä¿¡æ¯ï¼Œå¦åˆ™æ— æ•ˆ</span><br>    <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Ignored tests&quot;</span><span class="hljs-punctuation">,</span> <br>    <span class="hljs-attr">&quot;matchedStatuses&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;skipped&quot;</span><span class="hljs-punctuation">]</span> <br>  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Infrastructure problems&quot;</span><span class="hljs-punctuation">,</span> <br>    <span class="hljs-attr">&quot;matchedStatuses&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;broken&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;failed&quot;</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> <br>    <span class="hljs-attr">&quot;messageRegex&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;.*bye-bye.*&quot;</span> <br>  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Outdated tests&quot;</span><span class="hljs-punctuation">,</span> <br>    <span class="hljs-attr">&quot;matchedStatuses&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;broken&quot;</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> <br>    <span class="hljs-attr">&quot;traceRegex&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;.*FileNotFoundException.*&quot;</span> <br>  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Execution failed&quot;</span><span class="hljs-punctuation">,</span> <br>    <span class="hljs-attr">&quot;matchedStatuses&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;failed&quot;</span><span class="hljs-punctuation">]</span> <br>  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Test defects&quot;</span><span class="hljs-punctuation">,</span> <br>    <span class="hljs-attr">&quot;matchedStatuses&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;broken&quot;</span><span class="hljs-punctuation">]</span> <br>  <span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">]</span><br></code></pre></td></tr></table></figure><h1 id="2-allureæ³¨é‡Šè¯´æ˜"><a href="#2-allureæ³¨é‡Šè¯´æ˜" class="headerlink" title="2 allureæ³¨é‡Šè¯´æ˜"></a>2 allureæ³¨é‡Šè¯´æ˜</h1><ul><li>allureæ³¨é‡Šè¯´æ˜<ul><li><code>@allure.step()</code>ï¼šæµ‹è¯•ç”¨ä¾‹çš„æ­¥éª¤ï¼Œå‚æ•°ä¼ ä»€ä¹ˆï¼Œåœ¨allureä¸­æ­¥éª¤åå°±æ˜¾ç¤ºä»€ä¹ˆã€‚</li><li><code>@allure.attach()</code>ï¼šæ˜¾ç¤ºä¸åŒç±»å‹çš„é™„ä»¶ï¼Œè¡¥å……æµ‹è¯•ç»“æœï¼Œå¯ä¾æ®è‡ªèº«æƒ…å†µè°ƒæ•´ã€‚</li><li><code>@allure.title()</code>ï¼šè‡ªå®šä¹‰ç”¨ä¾‹æ ‡é¢˜ï¼Œæ”¯æŒå ä½ç¬¦ä¼ é€’å…³é”®å­—å‚æ•°ï¼Œæ ‡é¢˜æ›´å…·å¯è¯»æ€§ã€‚</li><li><code>@allure.description()</code>ï¼šä¸ºæµ‹è¯•ç”¨ä¾‹æ·»åŠ è¯¦ç»†çš„æè¿°ï¼Œå¹¶ä¸”å°†å…¶å±•ç¤ºåˆ°æµ‹è¯•æŠ¥å‘Šä¸­ã€‚</li><li>è®¿é—®é“¾æ¥ï¼šå°†æµ‹è¯•æŠ¥å‘Šä¸bugç®¡ç†å·¥å…·æˆ–æµ‹è¯•ç®¡ç†ç³»ç»Ÿè¿›è¡Œå…³è”ã€‚<ul><li><code>@allure.link()</code>ï¼šè®¿é—®ç½‘å€çš„é“¾æ¥ã€‚</li><li><code>@allure.issue()</code>ï¼šè®¿é—®ç¼ºé™·çš„é“¾æ¥ã€‚</li><li><code>@allure.testcase()</code>ï¼šè®¿é—®ç”¨ä¾‹é“¾æ¥ã€‚</li></ul></li><li>BDDé£æ ¼çš„æ ‡è®°ï¼šè¡Œä¸ºé©±åŠ¨å¼€å‘(BDD)ï¼Œåœ¨æµ‹è¯•é©±åŠ¨å¼€å‘(TDD)åŸºç¡€ä¸Šå‘å±•è€Œæ¥çš„ä¸€ç§è½¯ä»¶å¼€å‘æ–¹æ³•ã€‚<ul><li><code>@allure.epic()</code>ï¼šç›¸å½“äºmoduleçº§çš„æ ‡ç­¾ï¼Œæ•æ·é‡Œé¢çš„æ¦‚å¿µã€‚</li><li><code>@allure.feature()</code>ï¼šç›¸å½“äºclassçº§çš„æ ‡ç­¾ï¼Œepicæ˜¯featureçš„çˆ¶çº§ã€‚</li><li><code>@allure.story()</code>ï¼šç›¸å½“äºmethodçº§çš„æ ‡ç­¾ï¼Œfeatureæ˜¯storyçš„çˆ¶çº§ã€‚</li></ul></li><li><code>@allure.severity()</code>ï¼šåˆ’åˆ†æµ‹è¯•ç”¨ä¾‹çš„ç­‰çº§ï¼Œå¹¶å±•ç¤ºåˆ°æµ‹è¯•æŠ¥å‘Šå†…ã€‚</li><li>æµ‹è¯•å¥—ä»¶ï¼šå·²æœ‰BDDé£æ ¼çš„æ ‡è®°ï¼Œæµ‹è¯•å¥—ä»¶ä¸å¸¸ç”¨ï¼Œå¯ä»¥åšç®€å•äº†è§£ã€‚<ul><li><code>@allure.suite()</code>ï¼šæ˜¯ä¸å½“å‰æµ‹è¯•å¥—ä»¶åŒçº§çš„æµ‹è¯•å¥—ä»¶ã€‚</li><li><code>@allure.sub_suite()</code>ï¼šå½“å‰æµ‹è¯•å¥—ä»¶çš„å­çº§æµ‹è¯•å¥—ä»¶ã€‚</li><li><code>@allure.parent_suite()</code>ï¼šå½“å‰æµ‹è¯•å¥—ä»¶çš„çˆ¶çº§æµ‹è¯•å¥—ä»¶ã€‚</li></ul></li></ul></li></ul><h2 id="2-1-ç”¨ä¾‹æ­¥éª¤"><a href="#2-1-ç”¨ä¾‹æ­¥éª¤" class="headerlink" title="2-1 ç”¨ä¾‹æ­¥éª¤"></a>2-1 ç”¨ä¾‹æ­¥éª¤</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> allure                                                   <span class="hljs-comment"># test_step.py</span><br><br><br><span class="hljs-meta">@allure.step(<span class="hljs-params"><span class="hljs-string">&quot;Open the login site.&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">open</span>():<br>    <span class="hljs-keyword">pass</span><br><br><br><span class="hljs-meta">@allure.step(<span class="hljs-params"><span class="hljs-string">&quot;Enter your account and password.&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">input_username_password</span>():<br>    input_username_password_and_login(<span class="hljs-string">&quot;admin&quot;</span>, <span class="hljs-string">&quot;123456&quot;</span>)<br><br><br><span class="hljs-meta">@allure.step(<span class="hljs-params"><span class="hljs-string">&quot;Enter account, password &#123;arg1&#125;, &#123;arg2&#125;, and click login.&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">input_username_password_and_login</span>(<span class="hljs-params">arg1, arg2</span>):<br>    <span class="hljs-keyword">pass</span><br><br><br><span class="hljs-meta">@allure.step(<span class="hljs-params"><span class="hljs-string">&quot;Verify the login process.&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_login</span>():<br>    <span class="hljs-built_in">open</span>()<br>    input_username_password()<br><br><span class="hljs-comment"># pytest -vs test_step.py --alluredir=./report/xml --clean-alluredir</span><br><span class="hljs-comment"># allure serve report\xml</span><br></code></pre></td></tr></table></figure><h2 id="2-2-ç”¨ä¾‹è¡¥å……"><a href="#2-2-ç”¨ä¾‹è¡¥å……" class="headerlink" title="2-2 ç”¨ä¾‹è¡¥å……"></a>2-2 ç”¨ä¾‹è¡¥å……</h2><ul><li>ç”¨ä¾‹è¡¥å……<ul><li><code>allure.attach(body, name, attachment_type, extension)</code>ï¼šç”¨äºæœªæƒ³è¦å¯¼å…¥ç°æˆçš„é™„ä»¶æƒ…å†µã€‚</li><li><code>allure.attach.file(source, name, attachment_type, extension)</code>ï¼šç”¨äºå·²æœ‰å¯¹åº”çš„é™„ä»¶æƒ…å†µã€‚<ul><li>bodyï¼šæ˜¾ç¤ºå†…å®¹ã€‚</li><li>nameï¼šé™„ä»¶åç§°ã€‚</li><li>sourceï¼šé™„ä»¶è·¯å¾„ã€‚</li><li>extensionï¼šé™„ä»¶æ‰©å±•åã€‚</li><li>attachment_typeï¼šé™„ä»¶ç±»å‹ã€‚</li></ul></li><li>é™„ä»¶ç±»å‹<ul><li>text<ul><li><code>CSV = (&quot;text/csv&quot;, &quot;csv&quot;)</code></li><li><code>TEXT = (&quot;text/plain&quot;, &quot;txt&quot;)</code></li><li><code>HTML = (&quot;text/html&quot;, &quot;html&quot;)</code></li><li><code>URI_LIST = (&quot;text/uri-list&quot;, &quot;uri&quot;)</code></li><li><code>TSV = (&quot;text/tab-separated-values&quot;, &quot;tsv&quot;)</code></li></ul></li><li>image<ul><li><code>PNG = (&quot;image/png&quot;, &quot;png&quot;)</code></li><li><code>JPG = (&quot;image/jpg&quot;, &quot;jpg&quot;)</code></li><li><code>BMP = (&quot;image/bmp&quot;, &quot;bmp&quot;)</code></li><li><code>GIF = (&quot;image/gif&quot;, &quot;gif&quot;)</code></li><li><code>TIFF = (&quot;image/tiff&quot;, &quot;tiff&quot;)</code></li><li><code>SVG = (&quot;image/svg-xml&quot;, &quot;svg&quot;)</code></li></ul></li><li>video<ul><li><code>MP4 = (&quot;video/mp4&quot;, &quot;mp4&quot;)</code></li><li><code>OGG = (&quot;video/ogg&quot;, &quot;ogg&quot;)</code></li><li><code>WEBM = (&quot;video/webm&quot;, &quot;webm&quot;)</code></li></ul></li><li>application<ul><li><code>XML = (&quot;application/xml&quot;, &quot;xml&quot;)</code></li><li><code>PDF = (&quot;application/pdf&quot;, &quot;pdf&quot;)</code></li><li><code>JSON = (&quot;application/json&quot;, &quot;json&quot;)</code></li><li><code>YAML = (&quot;application/yaml&quot;, &quot;yaml&quot;)</code></li><li><code>PCAP = (&quot;application/vnd.tcpdump.pcap&quot;, &quot;pcap&quot;)</code></li></ul></li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> allure                                                   <span class="hljs-comment"># test_attach.py</span><br><br><br><span class="hljs-meta">@allure.step(<span class="hljs-params"><span class="hljs-string">&quot;Open the login site.&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">open</span>():<br>    <span class="hljs-keyword">pass</span><br><br><br><span class="hljs-meta">@allure.step(<span class="hljs-params"><span class="hljs-string">&quot;Enter your account and password.&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">input_username_password</span>():<br>    input_username_password_and_login(<span class="hljs-string">&quot;admin&quot;</span>, <span class="hljs-string">&quot;123456&quot;</span>)<br><br><br><span class="hljs-meta">@allure.step(<span class="hljs-params"><span class="hljs-string">&quot;Enter account, password &#123;arg1&#125;, &#123;arg2&#125;, and click login.&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">input_username_password_and_login</span>(<span class="hljs-params">arg1, arg2</span>):<br>    <span class="hljs-keyword">pass</span><br><br><br><span class="hljs-meta">@allure.step(<span class="hljs-params"><span class="hljs-string">&quot;Verify the login process.&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_login</span>():<br>    <span class="hljs-built_in">open</span>()<br>    input_username_password()<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_attach</span>():<br>    allure.attach(<span class="hljs-string">&#x27;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;strong&gt;Add an html page.&lt;/strong&gt;&lt;/body&gt;&#x27;</span>,<br>                  <span class="hljs-string">&#x27;Attach with HTML type&#x27;</span>, allure.attachment_type.HTML)<br>    <span class="hljs-comment"># æ³¨æ„ï¼šéœ€è¦åœ¨å½“å‰test_attach.pyæ–‡ä»¶çš„ç›®å½•ä¸‹æ”¾ç½®report.htmlå’Œreport.jpgï¼Œå¦åˆ™æŠ¥é”™</span><br>    allure.attach.file(<span class="hljs-string">&#x27;./report.html&#x27;</span>, attachment_type=allure.attachment_type.HTML)<br>    allure.attach.file(<span class="hljs-string">&#x27;./report.jpg&#x27;</span>, attachment_type=allure.attachment_type.JPG)<br><br><span class="hljs-comment"># pytest test_attach.py --alluredir=./report/annex</span><br><span class="hljs-comment"># allure serve ./report/annex</span><br></code></pre></td></tr></table></figure><h2 id="2-3-ç”¨ä¾‹æ ‡é¢˜"><a href="#2-3-ç”¨ä¾‹æ ‡é¢˜" class="headerlink" title="2-3 ç”¨ä¾‹æ ‡é¢˜"></a>2-3 ç”¨ä¾‹æ ‡é¢˜</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                                   <span class="hljs-comment"># test_title.py</span><br><span class="hljs-keyword">import</span> allure<br><br><br><span class="hljs-meta">@allure.title(<span class="hljs-params"><span class="hljs-string">&quot;Pre-operation: Get username.&quot;</span></span>)</span><br><span class="hljs-meta">@pytest.fixture()</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_use</span>(<span class="hljs-params">request</span>):<br>    use = request.param<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Username: <span class="hljs-subst">&#123;use&#125;</span>&quot;</span>)<br>    <span class="hljs-keyword">return</span> use<br><br><br><span class="hljs-meta">@allure.title(<span class="hljs-params"><span class="hljs-string">&quot;Pre-operation: Get password.&quot;</span></span>)</span><br><span class="hljs-meta">@pytest.fixture()</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_pwd</span>(<span class="hljs-params">request</span>):<br>    pwd = request.param<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Password: <span class="hljs-subst">&#123;pwd&#125;</span>&quot;</span>)<br>    <span class="hljs-keyword">return</span> pwd<br><br><br>use_data = [<span class="hljs-string">&quot;Holy&quot;</span>, <span class="hljs-string">&quot;Lucy&quot;</span>]<br>pwd_data = [<span class="hljs-string">&quot;1235&quot;</span>, <span class="hljs-string">&quot;1236&quot;</span>]<br><br><br><span class="hljs-meta">@allure.title(<span class="hljs-params"><span class="hljs-string">&quot;Username: &#123;get_use&#125; --- Password: &#123;get_pwd&#125;.&quot;</span></span>)   </span><span class="hljs-comment"># å ä½ç¬¦ä¼ é€’å…³é”®å­—å‚æ•°</span><br><span class="hljs-meta">@pytest.mark.parametrize(<span class="hljs-params"><span class="hljs-string">&quot;get_use&quot;</span>, use_data, indirect=<span class="hljs-literal">True</span></span>)    </span><span class="hljs-comment"># åŠ¨æ€æ ‡é¢˜ï¼Œç»“åˆparametrizeä½¿ç”¨</span><br><span class="hljs-meta">@pytest.mark.parametrize(<span class="hljs-params"><span class="hljs-string">&quot;get_pwd&quot;</span>, pwd_data, indirect=<span class="hljs-literal">True</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_get_userinfo</span>(<span class="hljs-params">get_use, get_pwd</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Username: <span class="hljs-subst">&#123;get_use&#125;</span> --- Password: <span class="hljs-subst">&#123;get_pwd&#125;</span>.&quot;</span>)<br><br><span class="hljs-comment"># pytest -vs test_title.py --alluredir=./report/xml --clean-alluredir</span><br><span class="hljs-comment"># allure serve report\xml</span><br></code></pre></td></tr></table></figure><h2 id="2-4-ç”¨ä¾‹æè¿°"><a href="#2-4-ç”¨ä¾‹æè¿°" class="headerlink" title="2-4 ç”¨ä¾‹æè¿°"></a>2-4 ç”¨ä¾‹æè¿°</h2><ul><li>ç”¨ä¾‹æè¿°<ul><li>åœ¨ç”¨ä¾‹å‡½æ•°å£°æ˜çš„ä¸‹æ–¹ä½¿ç”¨<code>&quot;&quot;&quot; &quot;&quot;&quot;</code>ï¼Œä½¿ç”¨<code>@allure.description()</code>è£…é¥°å™¨ã€‚</li><li>ä½¿ç”¨<code>@allure.description_html()</code>è£…é¥°å™¨æ·»åŠ htmlæè¿°ï¼Œç±»ä¼¼attachä¼ htmlã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> allure                                                   <span class="hljs-comment"># test_description.py</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_description1</span>():<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    Verify 1=1</span><br><span class="hljs-string">    :return:</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-keyword">assert</span> <span class="hljs-number">1</span> == <span class="hljs-number">1</span><br><br><br><span class="hljs-meta">@allure.description(<span class="hljs-params"><span class="hljs-string">&quot;Verify 1=1&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_description2</span>():<br>    <span class="hljs-keyword">assert</span> <span class="hljs-number">1</span> == <span class="hljs-number">1</span><br><br><br><span class="hljs-meta">@allure.description_html(<span class="hljs-params"><span class="hljs-string">&quot;&quot;&quot;&lt;h1&gt;Verify 1=1&lt;/h1&gt;&quot;&quot;&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_description3</span>():<br>    <span class="hljs-keyword">assert</span> <span class="hljs-number">1</span> == <span class="hljs-number">1</span><br><br><span class="hljs-comment"># pytest -vs test_description.py --alluredir=./report/xml --clean-alluredir</span><br><span class="hljs-comment"># allure serve report\xml</span><br></code></pre></td></tr></table></figure><h2 id="2-5-è®¿é—®é“¾æ¥"><a href="#2-5-è®¿é—®é“¾æ¥" class="headerlink" title="2-5 è®¿é—®é“¾æ¥"></a>2-5 è®¿é—®é“¾æ¥</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> allure                                                   <span class="hljs-comment"># test_access.py</span><br><br>test_case_link = <span class="hljs-string">&quot;https://docs.qq.com/mind/DSnRoQU9kRlNTRm1v&quot;</span><br><br><br><span class="hljs-meta">@allure.link(<span class="hljs-params"><span class="hljs-string">&quot;https://stitch-top.github.io&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_link</span>():<br>    <span class="hljs-keyword">pass</span><br><br><br><span class="hljs-meta">@allure.link(<span class="hljs-params"><span class="hljs-string">&quot;https://stitch-top.github.io&quot;</span>, name=<span class="hljs-string">&quot;Click on the title to view the content.&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_name_link</span>():<br>    <span class="hljs-keyword">pass</span><br><br><br><span class="hljs-meta">@allure.issue(<span class="hljs-params"><span class="hljs-string">&quot;https://docs.qq.com/mind/DSkNVTGVwVUhzYnBt&quot;</span>, <span class="hljs-string">&quot;Defect link&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_issue_link</span>():<br>    <span class="hljs-keyword">pass</span><br><br><br><span class="hljs-meta">@allure.testcase(<span class="hljs-params">test_case_link, <span class="hljs-string">&quot;Test case link&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_testcase_link</span>():<br>    <span class="hljs-keyword">pass</span><br><br><span class="hljs-comment"># pytest -vs test_access.py --alluredir=./report/xml --clean-alluredir</span><br><span class="hljs-comment"># allure serve report\xml</span><br></code></pre></td></tr></table></figure><h2 id="2-6-BDDé£æ ¼çš„æ ‡è®°"><a href="#2-6-BDDé£æ ¼çš„æ ‡è®°" class="headerlink" title="2-6 BDDé£æ ¼çš„æ ‡è®°"></a>2-6 BDDé£æ ¼çš„æ ‡è®°</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> allure                                                   <span class="hljs-comment"># test_style.py</span><br><br><br><span class="hljs-meta">@allure.story(<span class="hljs-params"><span class="hljs-string">&quot;epic_a&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>():<br>    <span class="hljs-keyword">pass</span><br><br><br><span class="hljs-meta">@allure.story(<span class="hljs-params"><span class="hljs-string">&quot;story_a&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>():<br>    <span class="hljs-keyword">pass</span><br><br><br><span class="hljs-meta">@allure.story(<span class="hljs-params"><span class="hljs-string">&quot;story_b&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_c</span>():<br>    <span class="hljs-keyword">pass</span><br><br><br><span class="hljs-meta">@allure.feature(<span class="hljs-params"><span class="hljs-string">&quot;feature_b&quot;</span></span>)</span><br><span class="hljs-meta">@allure.story(<span class="hljs-params"><span class="hljs-string">&quot;story_b&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_d</span>():<br>    <span class="hljs-keyword">pass</span><br><br><br><span class="hljs-meta">@allure.epic(<span class="hljs-params"><span class="hljs-string">&quot;epic_b&quot;</span></span>)</span><br><span class="hljs-meta">@allure.feature(<span class="hljs-params"><span class="hljs-string">&quot;feature_b&quot;</span></span>)</span><br><span class="hljs-meta">@allure.story(<span class="hljs-params"><span class="hljs-string">&quot;story_b&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_e</span>():<br>    <span class="hljs-keyword">pass</span><br><br><span class="hljs-comment"># pytest -vs test_style.py --alluredir=./report/xml --clean-alluredir</span><br><span class="hljs-comment"># allure serve report\xml</span><br><br><span class="hljs-comment"># åªè¿è¡Œepicä¸­åä¸ºepic_bçš„ç”¨ä¾‹</span><br><span class="hljs-comment"># pytest --alluredir ./report/allure --allure-epics=epic_b</span><br><br><span class="hljs-comment"># åªè¿è¡Œfeatureä¸­åä¸ºfeature_bçš„ç”¨ä¾‹</span><br><span class="hljs-comment"># pytest --alluredir ./report/allure --allure-features=feature_b</span><br><br><span class="hljs-comment"># åªè¿è¡Œstory_a,story_bçš„ç”¨ä¾‹</span><br><span class="hljs-comment"># pytest test_style.py --allure-stories story_a,story_b</span><br><br><span class="hljs-comment"># pytest test_style.py --allure-features feature_b --allure-stories story_a</span><br></code></pre></td></tr></table></figure><h2 id="2-7-ç”¨ä¾‹ç­‰çº§çš„åˆ’åˆ†"><a href="#2-7-ç”¨ä¾‹ç­‰çº§çš„åˆ’åˆ†" class="headerlink" title="2-7 ç”¨ä¾‹ç­‰çº§çš„åˆ’åˆ†"></a>2-7 ç”¨ä¾‹ç­‰çº§çš„åˆ’åˆ†</h2><ul><li>ç”¨ä¾‹ç­‰çº§çš„åˆ’åˆ†<ul><li>blockerï¼šé˜»å¡ç¼ºé™·ï¼ŒåŠŸèƒ½æœªå®ç°ã€‚</li><li>criticalï¼šä¸¥é‡ç¼ºé™·ï¼ŒåŠŸèƒ½ç‚¹ç¼ºå¤±ã€‚</li><li>normalï¼šä¸€èˆ¬ç¼ºé™·ï¼Œè¾¹ç•Œæƒ…å†µï¼Œæ ¼å¼é”™è¯¯ã€‚</li><li>minorï¼šæ¬¡è¦ç¼ºé™·ï¼Œç•Œé¢é”™è¯¯åŠUIéœ€æ±‚ä¸ç¬¦ã€‚</li><li>trivialï¼šè½»å¾®ç¼ºé™·ï¼Œå¿…é¡»é¡¹æ— æç¤ºï¼Œæˆ–æç¤ºä¸è§„èŒƒã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> allure                                                   <span class="hljs-comment"># test_severity.py</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>():                                                   <span class="hljs-comment"># æ²¡æ ‡è®°severityçš„æ–¹æ³•é»˜è®¤ä¼˜å…ˆçº§ä¸ºnormal</span><br>    <span class="hljs-keyword">pass</span><br><br><br><span class="hljs-meta">@allure.severity(<span class="hljs-params">allure.severity_level.BLOCKER</span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>():                                                   <span class="hljs-comment"># ä¼˜å…ˆçº§ä¸ºblocker</span><br>    <span class="hljs-keyword">pass</span><br><br><br><span class="hljs-meta">@allure.severity(<span class="hljs-params">allure.severity_level.CRITICAL</span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_c</span>():                                                   <span class="hljs-comment"># ä¼˜å…ˆçº§ä¸ºcritical</span><br>    <span class="hljs-keyword">pass</span><br><br><br><span class="hljs-meta">@allure.severity(<span class="hljs-params">allure.severity_level.NORMAL</span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_d</span>():                                                   <span class="hljs-comment"># ä¼˜å…ˆçº§ä¸ºnormal</span><br>    <span class="hljs-keyword">pass</span><br><br><br><span class="hljs-meta">@allure.severity(<span class="hljs-params">allure.severity_level.MINOR</span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_e</span>():                                                   <span class="hljs-comment"># ä¼˜å…ˆçº§ä¸ºminor</span><br>    <span class="hljs-keyword">pass</span><br><br><br><span class="hljs-meta">@allure.severity(<span class="hljs-params">allure.severity_level.TRIVIAL</span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_f</span>():                                                   <span class="hljs-comment"># ä¼˜å…ˆçº§ä¸ºtrivial</span><br>    <span class="hljs-keyword">pass</span><br><br><br><span class="hljs-meta">@allure.severity(<span class="hljs-params">allure.severity_level.NORMAL</span>)</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestCase</span>(<span class="hljs-title class_ inherited__">object</span>):                                         <span class="hljs-comment"># ç±»ä¼˜å…ˆçº§normal</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_g</span>(<span class="hljs-params">self</span>):                                           <span class="hljs-comment"># é»˜è®¤ç»§æ‰¿ç±»ä¼˜å…ˆçº§normal</span><br>        <span class="hljs-keyword">pass</span><br><br><span class="hljs-meta">    @allure.severity(<span class="hljs-params">allure.severity_level.CRITICAL</span>)</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_h</span>(<span class="hljs-params">self</span>):                                           <span class="hljs-comment"># ç±»ä¼˜å…ˆçº§normalï¼Œå‡½æ•°ä¼˜å…ˆçº§critical</span><br>        <span class="hljs-keyword">pass</span><br><br><span class="hljs-comment"># pytest -vs test_severity.py --alluredir=./report/xml --clean-alluredir</span><br><span class="hljs-comment"># allure serve report\xml</span><br><span class="hljs-comment"># pytest test_severity.py --allure-severities=normal,critical   # åªè¿è¡Œä¼˜å…ˆçº§ä¸ºnormalå’Œcriticalçš„ç”¨ä¾‹</span><br><span class="hljs-comment"># pytest test_severity.py --allure-severities blocker,critical  # åªè¿è¡Œä¼˜å…ˆçº§ä¸ºblockerå’Œcriticalçš„ç”¨ä¾‹</span><br></code></pre></td></tr></table></figure><h2 id="2-8-æµ‹è¯•å¥—ä»¶çš„ä½¿ç”¨"><a href="#2-8-æµ‹è¯•å¥—ä»¶çš„ä½¿ç”¨" class="headerlink" title="2-8 æµ‹è¯•å¥—ä»¶çš„ä½¿ç”¨"></a>2-8 æµ‹è¯•å¥—ä»¶çš„ä½¿ç”¨</h2><ul><li>æµ‹è¯•å¥—ä»¶çš„ä½¿ç”¨<ul><li>æœªè¢«suiteä¿®é¥°æ—¶ï¼Œä¸€ä¸ªpyæ–‡ä»¶å’Œä¸€ä¸ªclassé»˜è®¤å°±æ˜¯ä¸€ä¸ªæµ‹è¯•å¥—ä»¶ã€‚</li><li>å…³ç³»ä¸ºpyåŒ…å«classå¥—ä»¶ï¼Œpyå’Œclassä¸‹éƒ½å¯æœ‰å®ƒä»¬å„è‡ªçš„æµ‹è¯•ç”¨ä¾‹ã€‚</li><li>è¢«suiteä¿®é¥°çš„ç±»å’Œæ–¹æ³•ï¼Œä¼šè¢«è®¤ä¸ºæ˜¯å’Œå½“å‰æ–‡ä»¶åŒçº§çš„æµ‹è¯•å¥—ä»¶ã€‚</li><li>å¦‚æœç±»å’Œç±»å†…æ–¹æ³•åŒæ—¶è¢«ä¿®é¥°ï¼Œç±»ä¿®é¥°ä¼šè¢«ç±»å†…æ–¹æ³•çš„ä¿®é¥°æ›¿ä»£ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> allure                                                   <span class="hljs-comment"># test_suite.py</span><br><br><br><span class="hljs-meta">@allure.suite(<span class="hljs-params"><span class="hljs-string">&quot;test kit: suite&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>():<br>    <span class="hljs-keyword">pass</span><br><br><br><span class="hljs-meta">@allure.suite(<span class="hljs-params"><span class="hljs-string">&quot;test kit: sub_suite&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>():<br>    <span class="hljs-keyword">pass</span><br><br><br><span class="hljs-meta">@allure.suite(<span class="hljs-params"><span class="hljs-string">&quot;test kit: parent_suite&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_c</span>():<br>    <span class="hljs-keyword">pass</span><br><br><br><span class="hljs-meta">@allure.suite(<span class="hljs-params"><span class="hljs-string">&quot;test suites&quot;</span></span>)</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestSuiteX</span>:<br><span class="hljs-meta">    @allure.suite(<span class="hljs-params"><span class="hljs-string">&quot;class internal test kit d&quot;</span></span>)</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_d</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">pass</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_e</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">pass</span><br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestSuiteY</span>:                                               <span class="hljs-comment"># æ— suiteä¿®é¥°çš„æµ‹è¯•ç±»</span><br><span class="hljs-meta">    @allure.suite(<span class="hljs-params"><span class="hljs-string">&quot;class internal test kit f&quot;</span></span>)</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_f</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">pass</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_g</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">pass</span><br><br><span class="hljs-comment"># pytest -vs test_suite.py --alluredir=./report/xml --clean-alluredir</span><br><span class="hljs-comment"># allure serve report\xml</span><br></code></pre></td></tr></table></figure><h1 id="3-å‘½ä»¤è¡Œå‚æ•°ä»‹ç»"><a href="#3-å‘½ä»¤è¡Œå‚æ•°ä»‹ç»" class="headerlink" title="3 å‘½ä»¤è¡Œå‚æ•°ä»‹ç»"></a>3 å‘½ä»¤è¡Œå‚æ•°ä»‹ç»</h1><ul><li>å‘½ä»¤è¡Œå‚æ•°ä»‹ç»<ul><li><code>pytest --alluredir=./report/xml test_file.py</code>ï¼šæ‰§è¡Œtest_file.pyæ–‡ä»¶ç”¨ä¾‹ã€‚<ul><li>å½“å¤šæ¬¡æ‰§è¡Œä¸åŒæ–‡ä»¶ç”¨ä¾‹æ—¶ï¼ŒæŠ¥å‘Šå­˜æ”¾çš„è·¯å¾„ä¿æŒä¸€è‡´ï¼Œé‚£ä¹ˆæŠ¥å‘Šæ•°æ®å°†ç´¯åŠ ã€‚</li><li>ä½¿ç”¨<code>--clean-alluredir</code>å‘½ä»¤è¡Œå‚æ•°ç”Ÿæˆçš„æŠ¥å‘Šï¼Œå¯ä»¥æ¸…ç©ºæŠ¥å‘Šçš„å†å²æ‰§è¡Œè®°å½•ã€‚</li><li>å‘½ä»¤ï¼š<code>pytest --alluredir=./report/xml test_file.py --clean-alluredir</code>ã€‚</li></ul></li><li><code>allure -h</code>ï¼šæŸ¥çœ‹å‚æ•°å¸®åŠ©æ–‡æ¡£ã€‚<ul><li>generateï¼šç”Ÿæˆallureçš„htmlæŠ¥å‘Šã€‚</li><li>serveï¼šå¯åŠ¨allureæœåŠ¡ï¼Œæ‰“å¼€æŠ¥å‘Šã€‚</li><li>openï¼šæ‰“å¼€ç”¨generateç”Ÿæˆçš„æŠ¥å‘Šã€‚</li></ul></li><li>æµè§ˆå™¨æ‰“å¼€allureæŠ¥å‘Šçš„ä¸¤ç§æ–¹å¼<ul><li><code>pytest -sq --alluredir=./report/xml</code>ï¼šæ‰§è¡Œæµ‹è¯•ç”¨ä¾‹æ–‡ä»¶ï¼Œå¹¶æŒ‡å®šç»“æœç›®å½•ã€‚</li><li><code>allure serve ./report/xml</code>ï¼šæ‰“å¼€allureæµ‹è¯•æŠ¥å‘Šã€‚</li><li><code>allure generate -c -o ./report/xml ./report/html</code>ï¼šç”Ÿæˆallureçš„htmlæŠ¥å‘Šã€‚</li><li><code>allure open ./report/html</code>ï¼šæ‰“å¼€allureæµ‹è¯•æŠ¥å‘Šã€‚</li></ul></li></ul></li></ul><h1 id="4-ç”¨ä¾‹æ ‡é¢˜åŠ¨æ€åŒ–"><a href="#4-ç”¨ä¾‹æ ‡é¢˜åŠ¨æ€åŒ–" class="headerlink" title="4 ç”¨ä¾‹æ ‡é¢˜åŠ¨æ€åŒ–"></a>4 ç”¨ä¾‹æ ‡é¢˜åŠ¨æ€åŒ–</h1><ul><li>ç”¨ä¾‹æ ‡é¢˜åŠ¨æ€åŒ–<ul><li>ä½¿ç”¨å‚æ•°åŒ–ï¼ŒæŠ¥å‘Šé»˜è®¤çš„ç”¨ä¾‹æ ‡é¢˜ä¸ºç”¨ä¾‹åç§°ï¼Œå¯è¯»æ€§å·®ã€‚</li><li>å‚æ•°åŒ–ä½¿ç”¨idsï¼Œä¼šä¿ç•™ç”¨ä¾‹åç§°ï¼Œä¹Ÿæ— æ³•å®Œå…¨è§£å†³å¯è¯»æ€§å·®çš„é—®é¢˜ã€‚</li><li>è‹¥ä½¿ç”¨<code>@allure.title()</code>è£…é¥°å™¨å†™æ­»ç”¨ä¾‹æ ‡é¢˜ï¼ŒåæœŸç»´æŠ¤æˆæœ¬è¾ƒé«˜ã€‚</li><li>å°†parametrizeå‚æ•°åŒ–æ•°æ®é©±åŠ¨ä¸<code>@allure.title()</code>è£…é¥°å™¨ç»“åˆä½¿ç”¨ï¼Œæ›´åŠ é«˜æ•ˆä¾¿æ·ã€‚</li></ul></li></ul><h2 id="4-1-å‚æ•°åŒ–"><a href="#4-1-å‚æ•°åŒ–" class="headerlink" title="4-1 å‚æ•°åŒ–"></a>4-1 å‚æ•°åŒ–</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                                   <span class="hljs-comment"># test_param1.py</span><br><br>info = [<br>    &#123;<span class="hljs-string">&quot;username&quot;</span>: <span class="hljs-string">&quot;admin1&quot;</span>, <span class="hljs-string">&quot;pwd&quot;</span>: <span class="hljs-string">&quot;12345&quot;</span>&#125;,<br>    &#123;<span class="hljs-string">&quot;username&quot;</span>: <span class="hljs-string">&quot;admin2&quot;</span>, <span class="hljs-string">&quot;pwd&quot;</span>: <span class="hljs-string">&quot;12346&quot;</span>&#125;,<br>    &#123;<span class="hljs-string">&quot;username&quot;</span>: <span class="hljs-string">&quot;admin3&quot;</span>, <span class="hljs-string">&quot;pwd&quot;</span>: <span class="hljs-string">&quot;12347&quot;</span>&#125;<br>]<br><br><br><span class="hljs-meta">@pytest.fixture()</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">login</span>(<span class="hljs-params">request</span>):<br>    param = request.param<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;The account number is: <span class="hljs-subst">&#123;param[<span class="hljs-string">&#x27;username&#x27;</span>]&#125;</span> and the password is: <span class="hljs-subst">&#123;param[<span class="hljs-string">&#x27;pwd&#x27;</span>]&#125;</span>.&quot;</span>)<br>    <span class="hljs-keyword">return</span> &#123;<span class="hljs-string">&quot;code&quot;</span>: <span class="hljs-number">0</span>, <span class="hljs-string">&quot;msg&quot;</span>: <span class="hljs-string">&quot;success!&quot;</span>&#125;<br><br><br><span class="hljs-meta">@pytest.mark.parametrize(<span class="hljs-params"><span class="hljs-string">&quot;login&quot;</span>, info, indirect=<span class="hljs-literal">True</span></span>)          </span><span class="hljs-comment"># å‚æ•°åŒ–é»˜è®¤çš„æ ‡é¢˜</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_login</span>(<span class="hljs-params">login</span>):<br>    <span class="hljs-keyword">assert</span> login[<span class="hljs-string">&#x27;code&#x27;</span>] == <span class="hljs-number">0</span><br><br><span class="hljs-comment"># pytest -vs test_param1.py --alluredir=./report/xml --clean-alluredir</span><br><span class="hljs-comment"># allure serve report\xml</span><br></code></pre></td></tr></table></figure><h2 id="4-2-å‚æ•°åŒ–id"><a href="#4-2-å‚æ•°åŒ–id" class="headerlink" title="4-2 å‚æ•°åŒ–id"></a>4-2 å‚æ•°åŒ–id</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                                   <span class="hljs-comment"># test_param2.py</span><br><br>info = [<br>    pytest.param(&#123;<span class="hljs-string">&quot;username&quot;</span>: <span class="hljs-string">&quot;admin1&quot;</span>, <span class="hljs-string">&quot;pwd&quot;</span>: <span class="hljs-string">&quot;12345&quot;</span>&#125;, <span class="hljs-built_in">id</span>=<span class="hljs-string">&quot;admin1 login success&quot;</span>),<br>    pytest.param(&#123;<span class="hljs-string">&quot;username&quot;</span>: <span class="hljs-string">&quot;admin2&quot;</span>, <span class="hljs-string">&quot;pwd&quot;</span>: <span class="hljs-string">&quot;12346&quot;</span>&#125;, <span class="hljs-built_in">id</span>=<span class="hljs-string">&quot;admin2 failed to log in&quot;</span>),<br>    pytest.param(&#123;<span class="hljs-string">&quot;username&quot;</span>: <span class="hljs-string">&quot;admin3&quot;</span>, <span class="hljs-string">&quot;pwd&quot;</span>: <span class="hljs-string">&quot;12347&quot;</span>&#125;, <span class="hljs-built_in">id</span>=<span class="hljs-string">&quot;admin3 username does not exist&quot;</span>)<br>]<br><br><br><span class="hljs-meta">@pytest.fixture()</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">login</span>(<span class="hljs-params">request</span>):<br>    param = request.param<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;The account number is: <span class="hljs-subst">&#123;param[<span class="hljs-string">&#x27;username&#x27;</span>]&#125;</span> and the password is: <span class="hljs-subst">&#123;param[<span class="hljs-string">&#x27;pwd&#x27;</span>]&#125;</span>.&quot;</span>)<br>    <span class="hljs-keyword">return</span> &#123;<span class="hljs-string">&quot;code&quot;</span>: <span class="hljs-number">0</span>, <span class="hljs-string">&quot;msg&quot;</span>: <span class="hljs-string">&quot;success!&quot;</span>&#125;<br><br><br><span class="hljs-meta">@pytest.mark.parametrize(<span class="hljs-params"><span class="hljs-string">&quot;login&quot;</span>, info, indirect=<span class="hljs-literal">True</span></span>)          </span><span class="hljs-comment"># å‚æ•°åŒ–ids</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_login</span>(<span class="hljs-params">login</span>):<br>    <span class="hljs-keyword">assert</span> login[<span class="hljs-string">&#x27;code&#x27;</span>] == <span class="hljs-number">0</span><br><br><span class="hljs-comment"># pytest -vs test_param2.py --alluredir=./report/xml --clean-alluredir</span><br><span class="hljs-comment"># allure serve report\xml</span><br></code></pre></td></tr></table></figure><h2 id="4-3-å‚æ•°åŒ–ids"><a href="#4-3-å‚æ•°åŒ–ids" class="headerlink" title="4-3 å‚æ•°åŒ–ids"></a>4-3 å‚æ•°åŒ–ids</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                                   <span class="hljs-comment"># test_param3.py</span><br><br>info = [<br>    &#123;<span class="hljs-string">&quot;username&quot;</span>: <span class="hljs-string">&quot;admin1&quot;</span>, <span class="hljs-string">&quot;pwd&quot;</span>: <span class="hljs-string">&quot;12345&quot;</span>&#125;,<br>    &#123;<span class="hljs-string">&quot;username&quot;</span>: <span class="hljs-string">&quot;admin2&quot;</span>, <span class="hljs-string">&quot;pwd&quot;</span>: <span class="hljs-string">&quot;12346&quot;</span>&#125;,<br>    &#123;<span class="hljs-string">&quot;username&quot;</span>: <span class="hljs-string">&quot;admin3&quot;</span>, <span class="hljs-string">&quot;pwd&quot;</span>: <span class="hljs-string">&quot;12347&quot;</span>&#125;<br>]<br><br>ids = [<span class="hljs-string">&quot;admin1 login success&quot;</span>, <span class="hljs-string">&quot;admin2 failed to log in&quot;</span>, <span class="hljs-string">&quot;admin3 username does not exist&quot;</span>]<br><br><br><span class="hljs-meta">@pytest.fixture()</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">login</span>(<span class="hljs-params">request</span>):<br>    param = request.param<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;The account number is: <span class="hljs-subst">&#123;param[<span class="hljs-string">&#x27;username&#x27;</span>]&#125;</span> and the password is: <span class="hljs-subst">&#123;param[<span class="hljs-string">&#x27;pwd&#x27;</span>]&#125;</span>.&quot;</span>)<br>    <span class="hljs-keyword">return</span> &#123;<span class="hljs-string">&quot;code&quot;</span>: <span class="hljs-number">0</span>, <span class="hljs-string">&quot;msg&quot;</span>: <span class="hljs-string">&quot;success!&quot;</span>&#125;<br><br><br><span class="hljs-meta">@pytest.mark.parametrize(<span class="hljs-params"><span class="hljs-string">&quot;login&quot;</span>, info, ids=ids, indirect=<span class="hljs-literal">True</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_login</span>(<span class="hljs-params">login</span>):                                          <span class="hljs-comment"># å‚æ•°åŒ–ids</span><br>    <span class="hljs-keyword">assert</span> login[<span class="hljs-string">&#x27;code&#x27;</span>] == <span class="hljs-number">0</span><br><br><span class="hljs-comment"># pytest -vs test_param3.py --alluredir=./report/xml --clean-alluredir</span><br><span class="hljs-comment"># allure serve report\xml</span><br></code></pre></td></tr></table></figure><h2 id="4-4-allure-title"><a href="#4-4-allure-title" class="headerlink" title="4-4 @allure.title()"></a>4-4 @allure.title()</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                                   <span class="hljs-comment"># test_param4.py</span><br><span class="hljs-keyword">import</span> allure<br><br>info = [<br>    &#123;<span class="hljs-string">&quot;username&quot;</span>: <span class="hljs-string">&quot;admin1&quot;</span>, <span class="hljs-string">&quot;pwd&quot;</span>: <span class="hljs-string">&quot;12345&quot;</span>&#125;,<br>    &#123;<span class="hljs-string">&quot;username&quot;</span>: <span class="hljs-string">&quot;admin2&quot;</span>, <span class="hljs-string">&quot;pwd&quot;</span>: <span class="hljs-string">&quot;12346&quot;</span>&#125;,<br>    &#123;<span class="hljs-string">&quot;username&quot;</span>: <span class="hljs-string">&quot;admin3&quot;</span>, <span class="hljs-string">&quot;pwd&quot;</span>: <span class="hljs-string">&quot;12347&quot;</span>&#125;<br>]<br><br><br><span class="hljs-meta">@pytest.fixture()</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">login</span>(<span class="hljs-params">request</span>):<br>    param = request.param<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;The account number is: <span class="hljs-subst">&#123;param[<span class="hljs-string">&#x27;username&#x27;</span>]&#125;</span> and the password is: <span class="hljs-subst">&#123;param[<span class="hljs-string">&#x27;pwd&#x27;</span>]&#125;</span>.&quot;</span>)<br>    <span class="hljs-keyword">return</span> &#123;<span class="hljs-string">&quot;code&quot;</span>: <span class="hljs-number">0</span>, <span class="hljs-string">&quot;msg&quot;</span>: <span class="hljs-string">&quot;success!&quot;</span>&#125;<br><br><br><span class="hljs-meta">@allure.title(<span class="hljs-params"><span class="hljs-string">&quot;Login use case: admin1 success, admin2 failure, admin3 user name does not exist.&quot;</span></span>)</span><br><span class="hljs-meta">@pytest.mark.parametrize(<span class="hljs-params"><span class="hljs-string">&quot;login&quot;</span>, info, indirect=<span class="hljs-literal">True</span></span>)          </span><span class="hljs-comment"># @allure.title()å†™æ­»æ ‡é¢˜</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_login</span>(<span class="hljs-params">login</span>):<br>    <span class="hljs-keyword">assert</span> login[<span class="hljs-string">&#x27;code&#x27;</span>] == <span class="hljs-number">0</span><br><br><span class="hljs-comment"># pytest -vs test_param4.py --alluredir=./report/xml --clean-alluredir</span><br><span class="hljs-comment"># allure serve report\xml</span><br></code></pre></td></tr></table></figure><h2 id="4-5-å‚æ•°åŒ–ä¸è£…é¥°å™¨ç»“åˆ"><a href="#4-5-å‚æ•°åŒ–ä¸è£…é¥°å™¨ç»“åˆ" class="headerlink" title="4-5 å‚æ•°åŒ–ä¸è£…é¥°å™¨ç»“åˆ"></a>4-5 å‚æ•°åŒ–ä¸è£…é¥°å™¨ç»“åˆ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                                   <span class="hljs-comment"># test_param5.py</span><br><span class="hljs-keyword">import</span> allure<br><br>info = [<br>    &#123;<span class="hljs-string">&quot;username&quot;</span>: <span class="hljs-string">&quot;admin1&quot;</span>, <span class="hljs-string">&quot;pwd&quot;</span>: <span class="hljs-string">&quot;12345&quot;</span>&#125;,<br>    &#123;<span class="hljs-string">&quot;username&quot;</span>: <span class="hljs-string">&quot;admin2&quot;</span>, <span class="hljs-string">&quot;pwd&quot;</span>: <span class="hljs-string">&quot;12346&quot;</span>&#125;,<br>    &#123;<span class="hljs-string">&quot;username&quot;</span>: <span class="hljs-string">&quot;admin3&quot;</span>, <span class="hljs-string">&quot;pwd&quot;</span>: <span class="hljs-string">&quot;12347&quot;</span>&#125;<br>]<br><br><br><span class="hljs-meta">@pytest.fixture()</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">login</span>(<span class="hljs-params">request</span>):<br>    param = request.param<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;The account number is: <span class="hljs-subst">&#123;param[<span class="hljs-string">&#x27;username&#x27;</span>]&#125;</span> and the password is: <span class="hljs-subst">&#123;param[<span class="hljs-string">&#x27;pwd&#x27;</span>]&#125;</span>.&quot;</span>)<br>    <span class="hljs-keyword">return</span> &#123;<span class="hljs-string">&quot;code&quot;</span>: <span class="hljs-number">0</span>, <span class="hljs-string">&quot;msg&quot;</span>: <span class="hljs-string">&quot;success!&quot;</span>&#125;<br><br><br><span class="hljs-meta">@allure.title(<span class="hljs-params"><span class="hljs-string">&quot;Login use case: &#123;login&#125;.&quot;</span></span>)                       </span><span class="hljs-comment"># å‚æ•°åŒ–ä¸titleåŠ¨æ€ç”Ÿæˆæ ‡é¢˜ï¼Œç»“åˆfixture</span><br><span class="hljs-meta">@pytest.mark.parametrize(<span class="hljs-params"><span class="hljs-string">&quot;login&quot;</span>, info, indirect=<span class="hljs-literal">True</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_login</span>(<span class="hljs-params">login</span>):<br>    <span class="hljs-keyword">assert</span> login[<span class="hljs-string">&#x27;code&#x27;</span>] == <span class="hljs-number">0</span><br><br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">info = [</span><br><span class="hljs-string">    (&quot;admin1&quot;, &quot;12345&quot;, &quot;admin1 login success&quot;),</span><br><span class="hljs-string">    (&quot;admin2&quot;, &quot;12346&quot;, &quot;admin2 failed to log in&quot;),</span><br><span class="hljs-string">    (&quot;admin3&quot;, &quot;12347&quot;, &quot;admin3 username does not exist&quot;)</span><br><span class="hljs-string">]</span><br><span class="hljs-string"></span><br><span class="hljs-string"></span><br><span class="hljs-string">@allure.title(&quot;Login use case: &#123;title&#125;.&quot;)                       # å‚æ•°åŒ–ä¸titleåŠ¨æ€ç”Ÿæˆæ ‡é¢˜ï¼Œä¸ç»“åˆfixture</span><br><span class="hljs-string">@pytest.mark.parametrize(&quot;username, pwd, title&quot;, info)</span><br><span class="hljs-string">def test_login(username, pwd, title):</span><br><span class="hljs-string">    pass</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><br><span class="hljs-comment"># pytest -vs test_param5.py --alluredir=./report/xml --clean-alluredir</span><br><span class="hljs-comment"># allure serve report\xml</span><br></code></pre></td></tr></table></figure><h1 id="5-dynamicåŠ¨æ€æ ‡è®°"><a href="#5-dynamicåŠ¨æ€æ ‡è®°" class="headerlink" title="5 dynamicåŠ¨æ€æ ‡è®°"></a>5 dynamicåŠ¨æ€æ ‡è®°</h1><ul><li>dynamicåŠ¨æ€æ ‡è®°<ul><li><code>allure.dynamic.issue</code>ã€<code>allure.dynamic.link</code>ã€<code>allure.dynamic.testcase</code>ã€‚</li><li><code>allure.dynamic.story</code>ã€<code>allure.dynamic.feature</code>ã€<code>allure.dynamic.description</code>ã€‚</li><li><code>allure.dynamic.title</code>ã€<code>allure.dynamic.severity</code>ã€<code>allure.dynamic.description_html</code>ã€‚</li></ul></li></ul><h2 id="5-1-title"><a href="#5-1-title" class="headerlink" title="5-1 title"></a>5-1 title</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> allure                                                   <span class="hljs-comment"># test_dynamic1.py</span><br><br><br><span class="hljs-meta">@allure.title(<span class="hljs-params"><span class="hljs-string">&quot;Title: Use case will be replaced after successful execution.&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_with_dynamic_title_success</span>():<br>    <span class="hljs-keyword">assert</span> <span class="hljs-number">1</span> + <span class="hljs-number">1</span> == <span class="hljs-number">2</span><br>    allure.dynamic.title(<span class="hljs-string">&quot;Success: updated title.&quot;</span>)<br><br><br><span class="hljs-meta">@allure.title(<span class="hljs-params"><span class="hljs-string">&quot;Title: Use case execution will not be replaced after failure.&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_with_dynamic_title_failed</span>():<br>    <span class="hljs-keyword">assert</span> <span class="hljs-number">1</span> + <span class="hljs-number">1</span> == <span class="hljs-number">3</span><br>    allure.dynamic.title(<span class="hljs-string">&quot;Failure: Invalid title.&quot;</span>)             <span class="hljs-comment"># Pythonæ‰§è¡Œæœºåˆ¶å½±å“ï¼Œè¯¥è¡Œä»£ç ä¸ä¼šæ‰§è¡Œ</span><br><br><span class="hljs-comment"># pytest -vs test_dynamic1.py --alluredir=./report/xml --clean-alluredir</span><br><span class="hljs-comment"># allure serve report\xml</span><br></code></pre></td></tr></table></figure><h2 id="5-2-description"><a href="#5-2-description" class="headerlink" title="5-2 description"></a>5-2 description</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> allure                                                   <span class="hljs-comment"># test_dynamic2.py</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>():<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    Description: The use case will be replaced after successful execution.</span><br><span class="hljs-string">    :return:</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-keyword">assert</span> <span class="hljs-number">1</span> + <span class="hljs-number">1</span> == <span class="hljs-number">2</span><br>    allure.dynamic.description(<span class="hljs-string">&quot;Success: updated description.&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>():<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    Description: The use case will not be replaced after a failed execution.</span><br><span class="hljs-string">    :return:</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-keyword">assert</span> <span class="hljs-number">1</span> + <span class="hljs-number">1</span> == <span class="hljs-number">3</span><br>    allure.dynamic.description(<span class="hljs-string">&quot;Failure: Invalid description.&quot;</span>)<br><br><span class="hljs-comment"># pytest -vs test_dynamic2.py --alluredir=./report/xml --clean-alluredir</span><br><span class="hljs-comment"># allure serve report\xml</span><br></code></pre></td></tr></table></figure><h2 id="5-3-ç»“åˆå‚æ•°åŒ–"><a href="#5-3-ç»“åˆå‚æ•°åŒ–" class="headerlink" title="5-3 ç»“åˆå‚æ•°åŒ–"></a>5-3 ç»“åˆå‚æ•°åŒ–</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> allure                                                   <span class="hljs-comment"># test_dynamic3.py</span><br><span class="hljs-keyword">import</span> pytest<br><br>info = [<br>    [<span class="hljs-string">&quot;admin1&quot;</span>, <span class="hljs-string">&quot;12345&quot;</span>, <span class="hljs-string">&quot;Use case login success.&quot;</span>],             <span class="hljs-comment"># è¿™é‡Œå¿…é¡»æ˜¯åˆ—è¡¨ï¼Œå­—å…¸é¡ºåºä¼šä¹±</span><br>    [<span class="hljs-string">&quot;admin2&quot;</span>, <span class="hljs-string">&quot;12346&quot;</span>, <span class="hljs-string">&quot;Use case login failed.&quot;</span>],<br>    [<span class="hljs-string">&quot;admin3&quot;</span>, <span class="hljs-string">&quot;12347&quot;</span>, <span class="hljs-string">&quot;Account does not exist.&quot;</span>]<br>]<br><br><br><span class="hljs-meta">@pytest.mark.parametrize(<span class="hljs-params"><span class="hljs-string">&quot;username, pwd, title&quot;</span>, info</span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_login</span>(<span class="hljs-params">username, pwd, title</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    :param username:</span><br><span class="hljs-string">    :param pwd:</span><br><span class="hljs-string">    :param title:</span><br><span class="hljs-string">    :return:</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    allure.dynamic.title(title)<br>    allure.dynamic.description(<span class="hljs-string">f&quot;Username: <span class="hljs-subst">&#123;username&#125;</span>, Password: <span class="hljs-subst">&#123;pwd&#125;</span>&quot;</span>)<br><br><span class="hljs-comment"># pytest -vs test_dynamic3.py --alluredir=./report/xml --clean-alluredir</span><br><span class="hljs-comment"># allure serve report\xml</span><br></code></pre></td></tr></table></figure><h2 id="5-4-ç»“åˆå…¶ä»–ç‰¹æ€§"><a href="#5-4-ç»“åˆå…¶ä»–ç‰¹æ€§" class="headerlink" title="5-4 ç»“åˆå…¶ä»–ç‰¹æ€§"></a>5-4 ç»“åˆå…¶ä»–ç‰¹æ€§</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> allure                                                   <span class="hljs-comment"># test_dynamic4.py</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_case</span>():<br>    <span class="hljs-keyword">assert</span> <span class="hljs-number">1</span> == <span class="hljs-number">1</span><br>    allure.dynamic.feature(<span class="hljs-string">&quot;Dynamic feature&quot;</span>)<br>    allure.dynamic.story(<span class="hljs-string">&quot;Dynamic story&quot;</span>)<br>    allure.dynamic.severity(allure.severity_level.BLOCKER)<br>    allure.dynamic.link(<span class="hljs-string">&quot;Dynamic link: https://stitch-top.github.io&quot;</span>)<br>    allure.dynamic.issue(<span class="hljs-string">&quot;Dynamic issue: https://docs.qq.com/mind/DSkNVTGVwVUhzYnBt&quot;</span>)<br>    allure.dynamic.testcase(<span class="hljs-string">&quot;Dynamic testcase: https://docs.qq.com/mind/DSnRoQU9kRlNTRm1v&quot;</span>)<br><br><span class="hljs-comment"># pytest -vs test_dynamic4.py --alluredir=./report/xml --clean-alluredir</span><br><span class="hljs-comment"># allure serve report\xml</span><br></code></pre></td></tr></table></figure><h1 id="6-pytest-xdistæ’ä»¶"><a href="#6-pytest-xdistæ’ä»¶" class="headerlink" title="6 pytest-xdistæ’ä»¶"></a>6 pytest-xdistæ’ä»¶</h1><ul><li>pytest-xdistæ’ä»¶<ul><li>ä¸ºäº†è®©è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹å¯åˆ†å¸ƒå¼æ‰§è¡Œï¼ŒèŠ‚çœæ—¶é—´ï¼Œå¼•å…¥pytest-xdistæ’ä»¶ã€‚</li><li>pytest-xdistå±äºè¿›ç¨‹çº§åˆ«çš„å¹¶å‘ï¼Œåˆ†å¸ƒå¼æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹çš„è®¾è®¡åŸåˆ™å¦‚ä¸‹ã€‚<ul><li>ç”¨ä¾‹ä¹‹é—´ç›¸äº’ç‹¬ç«‹ï¼šä¿è¯ç”¨ä¾‹ä¹‹é—´æ²¡æœ‰ä¾èµ–å…³ç³»ï¼Œå¯ä»¥å®Œå…¨ç‹¬ç«‹è¿è¡Œã€‚</li><li>ç”¨ä¾‹æ²¡æœ‰æ‰§è¡Œé¡ºåºï¼šä¿è¯éšæœºé¡ºåºçš„æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹ï¼Œéƒ½å¯ä»¥æ­£å¸¸æ‰§è¡Œã€‚</li><li>ç”¨ä¾‹ä¹‹é—´äº’ä¸å½±å“ï¼šä¿è¯ç”¨ä¾‹çš„è¿è¡Œç»“æœä¸ä¼šå½±å“åˆ°å…¶ä»–çš„æµ‹è¯•ç”¨ä¾‹ã€‚</li></ul></li><li>å‘½ä»¤çª—å£ä¸‹å®‰è£…pytest-xdistæ’ä»¶ï¼š<code>pip install pytest-xdist</code>ã€‚</li><li>åŸç†<ul><li>xdisté€šè¿‡äº§ç”Ÿä¸€ä¸ªæˆ–å¤šä¸ªç”±masteræ§åˆ¶çš„workersæ¥å·¥ä½œï¼Œå†æŒ‰masterçš„æŒ‡ç¤ºè¿è¡Œç”¨ä¾‹ã€‚</li><li>æ¯ä¸ªworkersè´Ÿè´£æ‰§è¡Œæ”¶é›†åˆ°çš„å®Œæ•´æµ‹è¯•ç”¨ä¾‹é›†ï¼Œmasteræœ¬èº«æ˜¯ä¸æ‰§è¡Œä»»ä½•æµ‹è¯•ç”¨ä¾‹çš„ã€‚</li></ul></li><li>å‘½ä»¤<ul><li>æŒ‡å®šCPUçš„å…·ä½“ä¸ªæ•°ï¼š<code>pytest -s -n num</code>ï¼Œ<code>-n</code>å¯ä»¥ç”¨<code>--numprocesses</code>ä»£æ›¿ã€‚</li><li>ä½¿ç”¨ä¸å½“å‰è®¡ç®—æœºCPUå†…æ ¸ä¸€æ ·å¤šçš„è¿›ç¨‹ï¼Œé€Ÿåº¦æå‡å¤§ï¼š<code>pytest -s -n auto</code>ã€‚</li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># ..\conftest.py                                                # é¡¹ç›®ç»“æ„</span><br><span class="hljs-comment"># ..\test_case.py</span><br><span class="hljs-comment"># ..\test_module1\test_case1.py</span><br><span class="hljs-comment"># ..\test_module2\test_case2.py</span><br><span class="hljs-comment"># ..\test_module3\test_case3.py</span><br><br><span class="hljs-comment">###########################################################################################</span><br><span class="hljs-keyword">import</span> pytest                                                   <span class="hljs-comment"># conftest.py</span><br><br><br><span class="hljs-meta">@pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&quot;session&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">login</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---start use case---&quot;</span>)<br>    name, pwd = <span class="hljs-string">&quot;admin&quot;</span>, <span class="hljs-string">&quot;12345&quot;</span><br><br>    <span class="hljs-keyword">yield</span> name, pwd<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---exit use case---&quot;</span>)<br><br><span class="hljs-comment">###########################################################################################</span><br><span class="hljs-keyword">import</span> pytest                                                   <span class="hljs-comment"># test_case.py</span><br><span class="hljs-keyword">from</span> time <span class="hljs-keyword">import</span> sleep<br><br><br><span class="hljs-meta">@pytest.mark.parametrize(<span class="hljs-params"><span class="hljs-string">&quot;x&quot;</span>, <span class="hljs-built_in">list</span>(<span class="hljs-params"><span class="hljs-built_in">range</span>(<span class="hljs-params"><span class="hljs-number">10</span></span>)</span>)</span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_index</span>(<span class="hljs-params">login, x</span>):<br>    sleep(<span class="hljs-number">1</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---home use case---&quot;</span>, x)<br><br><span class="hljs-comment">###########################################################################################</span><br><span class="hljs-keyword">import</span> pytest                                                   <span class="hljs-comment"># test_case1.py</span><br><span class="hljs-keyword">from</span> time <span class="hljs-keyword">import</span> sleep<br><br><br><span class="hljs-meta">@pytest.mark.parametrize(<span class="hljs-params"><span class="hljs-string">&quot;x&quot;</span>, <span class="hljs-built_in">list</span>(<span class="hljs-params"><span class="hljs-built_in">range</span>(<span class="hljs-params"><span class="hljs-number">10</span></span>)</span>)</span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_case1</span>(<span class="hljs-params">x</span>):<br>    sleep(<span class="hljs-number">1</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;module1: test case 1&quot;</span>, x)<br><br><span class="hljs-comment">###########################################################################################</span><br><span class="hljs-keyword">import</span> pytest                                                   <span class="hljs-comment"># test_case2.py</span><br><span class="hljs-keyword">from</span> time <span class="hljs-keyword">import</span> sleep<br><br><br><span class="hljs-meta">@pytest.mark.parametrize(<span class="hljs-params"><span class="hljs-string">&quot;x&quot;</span>, <span class="hljs-built_in">list</span>(<span class="hljs-params"><span class="hljs-built_in">range</span>(<span class="hljs-params"><span class="hljs-number">10</span></span>)</span>)</span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_case2</span>(<span class="hljs-params">x</span>):<br>    sleep(<span class="hljs-number">1</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;module2: test case 2&quot;</span>, x)<br><br><span class="hljs-comment">###########################################################################################</span><br><span class="hljs-keyword">from</span> time <span class="hljs-keyword">import</span> sleep                                          <span class="hljs-comment"># test_case3.py</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_case3</span>():<br>    sleep(<span class="hljs-number">1</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;module3: test case 3&quot;</span>)<br><br><br><span class="hljs-string">&quot;&quot;&quot;                  ï¼ï¼ï¼æ‰§è¡Œæ—¶å¯åœ¨ä»»åŠ¡ç®¡ç†å™¨ä¸­æŸ¥çœ‹ç›¸åº”çš„IDEæ‰§è¡Œæƒ…å†µã€‚</span><br><span class="hljs-string"># pytest                                                        # ä¸ä½¿ç”¨åˆ†å¸ƒå¼æ‰§è¡Œ</span><br><span class="hljs-string">=================================== test session starts ===================================</span><br><span class="hljs-string">...</span><br><span class="hljs-string">collected 31 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_case.py ..........                                         [ 32%]</span><br><span class="hljs-string">test_module1\test_case1.py ..........                           [ 64%]</span><br><span class="hljs-string">test_module2\test_case2.py ..........                           [ 96%]</span><br><span class="hljs-string">test_module3\test_case3.py ..........                           [100%]</span><br><span class="hljs-string">=================================== 31 passed in 31.43s ===================================</span><br><span class="hljs-string"></span><br><span class="hljs-string"># pytest -s -n auto                                             # ä½¿ç”¨åˆ†å¸ƒå¼æ‰§è¡Œ</span><br><span class="hljs-string">=================================== test session starts ===================================</span><br><span class="hljs-string">...</span><br><span class="hljs-string">gw0 [31] / gw1 [31] / gw2 [31] / gw3 [31] / gw4 [31] / gw5 [31]</span><br><span class="hljs-string">...............................</span><br><span class="hljs-string">=================================== 31 passed in 7.45s ====================================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h2 id="6-1-æ’ä»¶é—®é¢˜"><a href="#6-1-æ’ä»¶é—®é¢˜" class="headerlink" title="6-1 æ’ä»¶é—®é¢˜"></a>6-1 æ’ä»¶é—®é¢˜</h2><ul><li>æ’ä»¶é—®é¢˜<ul><li>ä¼˜ç‚¹<ul><li>xdistæ’ä»¶å……åˆ†åˆ©ç”¨æœºå™¨å¤šæ ¸CPUçš„ä¼˜åŠ¿ï¼Œæé«˜äº†èµ„æºåˆ©ç”¨ç‡ã€‚</li><li>å°†å¸¸ç”¨çš„åŠŸèƒ½æ”¾åˆ°fixtureï¼Œæ›´æ˜¯æé«˜äº†ä»£ç çš„å¤ç”¨æ€§å’Œç»´æŠ¤æ€§ã€‚</li></ul></li><li>ç¼ºç‚¹<ul><li>æ¥å£è‡ªåŠ¨åŒ–æ—¶ï¼Œé€šå¸¸ä¼šå°†æ¥å£æ”¾åˆ°fixtureä¸­ï¼Œå¹¶è®¾ç½®<code>scope=session</code>ï¼Œå…¨å±€åªè¿è¡Œä¸€æ¬¡ã€‚</li><li>æ­¤æ—¶è‹¥ä½¿ç”¨xdistæ’ä»¶è¿›è¡Œåˆ†å¸ƒå¼æ‰§è¡Œï¼Œ<code>scope=session</code>çš„fixtureå°†æ— æ³•ä¿è¯åªè¿è¡Œä¸€æ¬¡ã€‚</li></ul></li><li>å°½ç®¡æ²¡æœ‰å†…ç½®æ”¯æŒç¡®ä¿<code>scope=session</code>çš„fixtureåªæ‰§è¡Œä¸€æ¬¡ï¼Œä½†å¯é€šè¿‡æ–‡ä»¶é”è¿›è¡Œè¿›ç¨‹é—´çš„é€šä¿¡æ¥å®ç°ã€‚<ul><li>ä½¿ç”¨xdistæŒ‡å®šnä¸ªçº¿ç¨‹æ‰§è¡Œç”¨ä¾‹æ—¶ï¼Œä½¿ç”¨æ–‡ä»¶é”ï¼Œfixtureå®é™…åªæ‰§è¡Œä¸€æ¬¡ã€‚</li><li>å…¶ä»–n-1ä¸ªè¿›ç¨‹é€šè¿‡è¿›ç¨‹é—´è¯»å–å…±äº«ç¼“å­˜æ–‡ä»¶çš„æ–¹å¼ï¼Œå¤ç”¨fixtureçš„æ•°æ®ã€‚</li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># ..\conftest.py                                                # é¡¹ç›®ç»“æ„</span><br><span class="hljs-comment"># ..\test_case1.py</span><br><span class="hljs-comment"># ..\test_case2.py</span><br><span class="hljs-comment"># ..\test_case3.py</span><br><br><span class="hljs-comment">###########################################################################################</span><br><span class="hljs-keyword">import</span> pytest                                                   <span class="hljs-comment"># contest.py</span><br><span class="hljs-keyword">import</span> random<br><br><br><span class="hljs-meta">@pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&quot;session&quot;</span></span>)                                </span><span class="hljs-comment"># æœªç”¨æ–‡ä»¶é”</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">xdist_fixture</span>():<br>    data = <span class="hljs-built_in">str</span>(random.random())<br>    <span class="hljs-keyword">return</span> data<br><br><span class="hljs-comment">###########################################################################################</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_case1</span>(<span class="hljs-params">xdist_fixture</span>):                                  <span class="hljs-comment"># test_case1.py</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Data1ï¼š<span class="hljs-subst">&#123;xdist_fixture&#125;</span>&quot;</span>)<br><br><span class="hljs-comment">###########################################################################################</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_case2</span>(<span class="hljs-params">xdist_fixture</span>):                                  <span class="hljs-comment"># test_case2.py</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Data2ï¼š<span class="hljs-subst">&#123;xdist_fixture&#125;</span>&quot;</span>)<br><br><span class="hljs-comment">###########################################################################################</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_case3</span>(<span class="hljs-params">xdist_fixture</span>):                                  <span class="hljs-comment"># test_case3.py</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Data3ï¼š<span class="hljs-subst">&#123;xdist_fixture&#125;</span>&quot;</span>)<br><br><br><span class="hljs-comment"># pytest -n 3 --alluredir=./report/xml --clean-alluredir</span><br><span class="hljs-comment"># allure serve report\xml</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">test_case1---Data1ï¼š0.8613196731229967                          # sessionçš„fixtureæ‰§è¡Œäº†3æ¬¡</span><br><span class="hljs-string">test_case2---Data2ï¼š0.2953396024322359</span><br><span class="hljs-string">test_case3---Data3ï¼š0.5252796017515756</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h2 id="6-2-ä½¿ç”¨æ–‡ä»¶é”"><a href="#6-2-ä½¿ç”¨æ–‡ä»¶é”" class="headerlink" title="6-2 ä½¿ç”¨æ–‡ä»¶é”"></a>6-2 ä½¿ç”¨æ–‡ä»¶é”</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> os                                                       <span class="hljs-comment"># contest.py</span><br><span class="hljs-keyword">import</span> json<br><span class="hljs-keyword">import</span> pytest<br><span class="hljs-keyword">import</span> random<br><span class="hljs-keyword">from</span> filelock <span class="hljs-keyword">import</span> FileLock<br><br><br><span class="hljs-meta">@pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&quot;session&quot;</span></span>)                                </span><span class="hljs-comment"># ä½¿ç”¨æ–‡ä»¶é”</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">xdist_fixture</span>(<span class="hljs-params">tmp_path_factory, worker_id</span>):<br>    <span class="hljs-comment"># å¦‚æœæ˜¯å•æœºè¿è¡Œï¼Œåˆ™è¿è¡Œè¿™é‡Œçš„ä»£ç å—ã€ä¸å¯åˆ é™¤ã€ä¿®æ”¹ã€‘</span><br>    <span class="hljs-keyword">if</span> worker_id == <span class="hljs-string">&quot;master&quot;</span>:<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        ã€è‡ªå®šä¹‰ä»£ç å—ã€‘</span><br><span class="hljs-string">        è¿™é‡Œå†™æœ¬èº«è¦åšçš„æ“ä½œï¼Œä¾‹å¦‚ï¼šç™»å½•è¯·æ±‚ã€æ–°å¢æ•°æ®ã€æ¸…ç©ºæ•°æ®åº“å†å²æ•°æ®ç­‰</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        data = <span class="hljs-built_in">str</span>(random.random())<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Master is executed for the first time, the data is <span class="hljs-subst">&#123;data&#125;</span>.&quot;</span>)<br>        os.environ[<span class="hljs-string">&#x27;data&#x27;</span>] = data<br>        <span class="hljs-comment"># å¦‚æœæµ‹è¯•ç”¨ä¾‹æœ‰éœ€è¦ï¼Œå¯ä»¥è¿”å›å¯¹åº”çš„æ•°æ®ï¼Œæ¯”å¦‚data</span><br>        <span class="hljs-keyword">return</span> data<br><br>    <span class="hljs-comment"># å¦‚æœæ˜¯åˆ†å¸ƒå¼è¿è¡Œï¼Œè·å–æ‰€æœ‰å­èŠ‚ç‚¹å…±äº«çš„ä¸´æ—¶ç›®å½•ï¼Œæ— éœ€ä¿®æ”¹ã€ä¸å¯åˆ é™¤ã€ä¿®æ”¹ã€‘</span><br>    root_tmp_dir = tmp_path_factory.getbasetemp().parent<br>    fn = root_tmp_dir / <span class="hljs-string">&quot;data.json&quot;</span>                             <span class="hljs-comment"># ã€ä¸å¯åˆ é™¤ã€ä¿®æ”¹ã€‘</span><br>    <br>    <span class="hljs-keyword">with</span> FileLock(<span class="hljs-built_in">str</span>(fn) + <span class="hljs-string">&quot;.lock&quot;</span>):                           <span class="hljs-comment"># ã€ä¸å¯åˆ é™¤ã€ä¿®æ”¹ã€‘</span><br>        <span class="hljs-keyword">if</span> fn.is_file():                                        <span class="hljs-comment"># ã€ä¸å¯åˆ é™¤ã€ä¿®æ”¹ã€‘</span><br>            <span class="hljs-comment"># ç¼“å­˜æ–‡ä»¶ä¸­è¯»å–æ•°æ®ï¼Œåƒç™»å½•æ“ä½œçš„è¯å°±æ˜¯dataã€ä¸å¯åˆ é™¤ã€ä¿®æ”¹ã€‘</span><br>            data = json.loads(fn.read_text())<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;The worker reads the cache file and the data is <span class="hljs-subst">&#123;data&#125;</span>.&quot;</span>)<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">            ã€è‡ªå®šä¹‰ä»£ç å—ã€‘</span><br><span class="hljs-string">            è¿™é‡Œå†™æœ¬èº«è¦åšçš„æ“ä½œï¼Œä¾‹å¦‚ï¼šç™»å½•è¯·æ±‚ã€æ–°å¢æ•°æ®ã€æ¸…ç©ºæ•°æ®åº“å†å²æ•°æ®ç­‰</span><br><span class="hljs-string">            &quot;&quot;&quot;</span><br>            data = <span class="hljs-built_in">str</span>(random.random())<br>            fn.write_text(json.dumps(data))                     <span class="hljs-comment"># ã€ä¸å¯åˆ é™¤ã€ä¿®æ”¹ã€‘</span><br>            <span class="hljs-comment"># If required by the test case, the corresponding data, such as token, can be returned.</span><br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;The worker reads the cache file and the data is <span class="hljs-subst">&#123;data&#125;</span>.&quot;</span>)<br><br>        <span class="hljs-comment"># æœ€å¥½å°†åç»­éœ€è¦ä¿ç•™çš„æ•°æ®å­˜åœ¨æŸä¸ªä½ç½®ï¼Œæ¯”å¦‚osçš„ç¯å¢ƒå˜é‡ä¸­</span><br>        os.environ[<span class="hljs-string">&#x27;data&#x27;</span>] = data<br><br>    <span class="hljs-keyword">return</span> data<br><br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string"># pytest -n 3 --alluredir=./report/xml --clean-alluredir        # xdiståˆ†å¸ƒå¼æ‰§è¡Œ</span><br><span class="hljs-string"># allure serve report\xml</span><br><span class="hljs-string">The worker reads the cache file and the data is 0.14799648172518787.</span><br><span class="hljs-string">Data1ï¼š0.14799648172518787</span><br><span class="hljs-string">The worker reads the cache file and the data is 0.14799648172518787.</span><br><span class="hljs-string">Data2ï¼š0.14799648172518787</span><br><span class="hljs-string">The worker reads the cache file and the data is 0.14799648172518787.</span><br><span class="hljs-string">Data3ï¼š0.14799648172518787</span><br><span class="hljs-string"></span><br><span class="hljs-string"># pytest --alluredir=./report/xml --clean-alluredir             # ä¸ä½¿ç”¨xdiståˆ†å¸ƒå¼æ‰§è¡Œ</span><br><span class="hljs-string"># allure serve report\xml</span><br><span class="hljs-string">Master is executed for the first time, the data is 0.5299300518971257.</span><br><span class="hljs-string">Data1ï¼š0.5299300518971257</span><br><span class="hljs-string">Data2ï¼š0.5299300518971257</span><br><span class="hljs-string">Data3ï¼š0.5299300518971257</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h1 id="7-é‡å¤æ‰§è¡Œç”¨ä¾‹æ’ä»¶"><a href="#7-é‡å¤æ‰§è¡Œç”¨ä¾‹æ’ä»¶" class="headerlink" title="7 é‡å¤æ‰§è¡Œç”¨ä¾‹æ’ä»¶"></a>7 é‡å¤æ‰§è¡Œç”¨ä¾‹æ’ä»¶</h1><ul><li>é‡å¤æ‰§è¡Œç”¨ä¾‹æ’ä»¶<ul><li>pytest-repeatæ˜¯ä¸€ä¸ªpytestæ’ä»¶ï¼Œå®‰è£…å‘½ä»¤ï¼š<code>pip install pytest-repeat</code>ã€‚</li><li>å¯ä»¥é‡å¤æ‰§è¡Œå•ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œæˆ–å¤šä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œä¹Ÿå¯ä»¥è‡ªå®šä¹‰é‡å¤æ‰§è¡Œçš„æ¬¡æ•°ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>():                                                   <span class="hljs-comment"># test_repeat1.py</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case a---&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case b---&quot;</span>)<br><br><br><span class="hljs-comment"># pytest -vs --count 3 test_repeat1.py                          # æŒ‡å®šé‡å¤è¿è¡Œ3æ¬¡</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">=================================== test session starts ===================================</span><br><span class="hljs-string">...</span><br><span class="hljs-string">collected 6 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_repeat1.py::test_a[1-3] ---use case a---</span><br><span class="hljs-string">PASSED</span><br><span class="hljs-string">test_repeat1.py::test_a[2-3] ---use case a---</span><br><span class="hljs-string">PASSED</span><br><span class="hljs-string">test_repeat1.py::test_a[3-3] ---use case a---</span><br><span class="hljs-string">PASSED</span><br><span class="hljs-string">test_repeat1.py::test_b[1-3] ---use case b---</span><br><span class="hljs-string">PASSED</span><br><span class="hljs-string">test_repeat1.py::test_b[2-3] ---use case b---</span><br><span class="hljs-string">PASSED</span><br><span class="hljs-string">test_repeat1.py::test_b[3-3] ---use case b---</span><br><span class="hljs-string">PASSED</span><br><span class="hljs-string">==================================== warnings summary =====================================</span><br><span class="hljs-string">...DeprecationWarning: Using or importing the ABCs from &#x27;collections&#x27; instead of from </span><br><span class="hljs-string">&#x27;collections.abc&#x27; is deprecated since Python 3.3, and in 3.10 it will stop working</span><br><span class="hljs-string">    return isinstance(x, collections.Callable)</span><br><span class="hljs-string"></span><br><span class="hljs-string">-- Docs: https://docs.pytest.org/en/stable/warnings.html</span><br><span class="hljs-string">=============================== 6 passed, 1 warning in 0.04s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h2 id="7-1-é‡å¤ç›´åˆ°å¤±è´¥"><a href="#7-1-é‡å¤ç›´åˆ°å¤±è´¥" class="headerlink" title="7-1 é‡å¤ç›´åˆ°å¤±è´¥"></a>7-1 é‡å¤ç›´åˆ°å¤±è´¥</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> random                                                   <span class="hljs-comment"># test_repeat2.py</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_case</span>():                                                <br>    num = random.randint(<span class="hljs-number">1</span>, <span class="hljs-number">11</span>)<br>    <span class="hljs-keyword">assert</span> num != <span class="hljs-number">10</span><br><br><br><span class="hljs-comment"># pytest --count 11 -x test_repeat2.py                          # é‡å¤æ‰§è¡Œ11æ¬¡ç›´åˆ°å¤±è´¥åœæ­¢</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">=================================== test session starts ===================================</span><br><span class="hljs-string">...</span><br><span class="hljs-string">collected 11 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_repeat2.py ......F</span><br><span class="hljs-string">======================================== FAILURES =========================================</span><br><span class="hljs-string">_____________________________________ test_case[7-11] _____________________________________</span><br><span class="hljs-string"></span><br><span class="hljs-string">    def test_case():</span><br><span class="hljs-string">        num = random.randint(1, 11)</span><br><span class="hljs-string">&gt;       assert num != 10</span><br><span class="hljs-string">E       assert 10 != 10</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_repeat2.py:6: AssertionError</span><br><span class="hljs-string">==================================== warnings summary =====================================</span><br><span class="hljs-string">...DeprecationWarning: Using or importing the ABCs from &#x27;collections&#x27; instead of from </span><br><span class="hljs-string">&#x27;collections.abc&#x27; is deprecated since Python 3.3, and in 3.10 it will stop working</span><br><span class="hljs-string">    return isinstance(x, collections.Callable)</span><br><span class="hljs-string"></span><br><span class="hljs-string">-- Docs: https://docs.pytest.org/en/stable/warnings.html</span><br><span class="hljs-string">================================== short test summary info ================================</span><br><span class="hljs-string">FAILED test_repeat2.py::test_case[7-11] - assert 10 != 10</span><br><span class="hljs-string">!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! stopping after 1 failures !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!</span><br><span class="hljs-string">=========================== 1 failed, 6 passed, 1 warning in 0.57s ========================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h2 id="7-2-repeatè£…é¥°å™¨"><a href="#7-2-repeatè£…é¥°å™¨" class="headerlink" title="7-2 repeatè£…é¥°å™¨"></a>7-2 repeatè£…é¥°å™¨</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                                   <span class="hljs-comment"># test_repeat3.py</span><br><br><br><span class="hljs-meta">@pytest.mark.repeat(<span class="hljs-params"><span class="hljs-number">3</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_case</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case---&quot;</span>)<br><br><br><span class="hljs-comment"># pytest test_repeat3.py</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">=================================== test session starts ===================================</span><br><span class="hljs-string">...</span><br><span class="hljs-string">collected 3 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_repeat3.py ...                                             [100%]</span><br><span class="hljs-string">==================================== warnings summary =====================================</span><br><span class="hljs-string">...DeprecationWarning: Using or importing the ABCs from &#x27;collections&#x27; instead of from </span><br><span class="hljs-string">&#x27;collections.abc&#x27; is deprecated since Python 3.3, and in 3.10 it will stop working</span><br><span class="hljs-string">    return isinstance(x, collections.Callable)</span><br><span class="hljs-string"></span><br><span class="hljs-string">-- Docs: https://docs.pytest.org/en/stable/warnings.html</span><br><span class="hljs-string">=============================== 3 passed, 1 warning in 0.12s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h2 id="7-3-å‘½ä»¤å‚æ•°è¯´æ˜"><a href="#7-3-å‘½ä»¤å‚æ•°è¯´æ˜" class="headerlink" title="7-3 å‘½ä»¤å‚æ•°è¯´æ˜"></a>7-3 å‘½ä»¤å‚æ•°è¯´æ˜</h2><ul><li>å‘½ä»¤å‚æ•°è¯´æ˜<ul><li><code>--repeat-scope</code>ï¼šè¦†ç›–é»˜è®¤çš„ç”¨ä¾‹æ‰§è¡Œé¡ºåºï¼Œç±»ä¼¼äºfixtureçš„scopeã€‚</li><li>functionï¼šé»˜è®¤ï¼ŒèŒƒå›´é’ˆå¯¹æ¯ä¸ªç”¨ä¾‹é‡å¤æ‰§è¡Œï¼Œç„¶åå†æ‰§è¡Œä¸‹ä¸€ä¸ªç”¨ä¾‹ã€‚</li><li>classï¼šä»¥ç±»ä¸ºç”¨ä¾‹çš„é›†åˆå•ä½ï¼Œé‡å¤æ‰§è¡Œç±»é‡Œé¢çš„ç”¨ä¾‹ï¼Œå†æ‰§è¡Œä¸‹ä¸€ä¸ªç”¨ä¾‹ã€‚</li><li>moduleï¼šä»¥æ¨¡å—ä¸ºé›†åˆå•ä½ï¼Œé‡å¤æ‰§è¡Œæ¨¡å—é‡Œé¢çš„ç”¨ä¾‹ï¼Œå†æ‰§è¡Œä¸‹ä¸€ä¸ªç”¨ä¾‹ã€‚</li><li>sessionï¼šé‡å¤æ•´ä¸ªæµ‹è¯•ä¼šè¯ï¼Œå³æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹éƒ½æ‰§è¡Œä¸€æ¬¡ï¼Œç„¶åå†æ‰§è¡Œç¬¬äºŒæ¬¡ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>():                                                   <span class="hljs-comment"># test_repeat4.py</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case a---&quot;</span>)<br>    <br>    <br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case b---&quot;</span>)<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestCase1</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_c</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case c---&quot;</span>)<br>        <br>        <br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestCase2</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_d</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case d---&quot;</span>)<br><br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string"># pytest -s --count=2 --repeat-scope=class test_repeat4.py      # é‡å¤æ‰§è¡Œclassçº§åˆ«ç”¨ä¾‹</span><br><span class="hljs-string">.---use case a---</span><br><span class="hljs-string">.---use case b---</span><br><span class="hljs-string">.---use case a---</span><br><span class="hljs-string">.---use case b---</span><br><span class="hljs-string">.---use case c---</span><br><span class="hljs-string">.---use case c---</span><br><span class="hljs-string">.---use case d---</span><br><span class="hljs-string">.---use case d---</span><br><span class="hljs-string"></span><br><span class="hljs-string"># pytest -s --count=2 --repeat-scope=module test_repeat4.py     # é‡å¤æ‰§è¡Œmoduleçº§åˆ«ç”¨ä¾‹</span><br><span class="hljs-string">.---use case a---</span><br><span class="hljs-string">.---use case b---</span><br><span class="hljs-string">.---use case c---</span><br><span class="hljs-string">.---use case d---</span><br><span class="hljs-string">.---use case a---</span><br><span class="hljs-string">.---use case b---</span><br><span class="hljs-string">.---use case c---</span><br><span class="hljs-string">.---use case d---</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>æµ‹è¯•æ¡†æ¶</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Allure</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Pytest æµ‹è¯•æ¡†æ¶</title>
    <link href="/2023/03/03/ce-shi-kuang-jia/tf02-pytest-ce-shi-kuang-jia/"/>
    <url>/2023/03/03/ce-shi-kuang-jia/tf02-pytest-ce-shi-kuang-jia/</url>
    
    <content type="html"><![CDATA[<p>PyTestæ˜¯Pythonçš„ä¸€ç§å•å…ƒæµ‹è¯•æ¡†æ¶ï¼Œä¸Pythonè‡ªå¸¦çš„UnitTestæµ‹è¯•æ¡†æ¶ç±»ä¼¼ï¼Œä½†ä½¿ç”¨æ¯”UnitTestæ¡†æ¶æ›´ç®€æ´ï¼Œæ•ˆç‡æ›´é«˜ã€‚</p><span id="more"></span><h1 id="1-è§„åˆ™è¯´æ˜"><a href="#1-è§„åˆ™è¯´æ˜" class="headerlink" title="1 è§„åˆ™è¯´æ˜"></a>1 è§„åˆ™è¯´æ˜</h1><ul><li>è§„åˆ™è¯´æ˜<ul><li>PyTestæ˜¯Python2é»˜è®¤è‡ªå¸¦çš„ï¼Œåœ¨Python3ä¸­åˆ™æ˜¯ç‹¬ç«‹çš„ï¼Œéœ€ä½¿ç”¨<code>pip install pytest</code>è¿›è¡Œå®‰è£…ã€‚</li><li>è¿è¡Œè§„åˆ™<ul><li>æŸ¥æ‰¾å½“å‰ç›®å½•åŠå­ç›®å½•ä¸­<code>test_*.py</code>æˆ–<code>*_test.py</code>æ–‡ä»¶ã€‚</li><li>æ‰¾åˆ°æ‰€æœ‰çš„æ–‡ä»¶åï¼Œæ‰§è¡Œæ–‡ä»¶ä¸­ä»¥<code>test</code>å¼€å¤´çš„æ‰€æœ‰å‡½æ•°ã€‚</li></ul></li><li>ç”¨ä¾‹è®¾è®¡è§„åˆ™<ul><li>æµ‹è¯•æ–‡ä»¶ä»¥<code>test_</code>å¼€å¤´ï¼Œæˆ–ä»¥<code>_test</code>ç»“å°¾ï¼Œæµ‹è¯•ç±»ä»¥<code>Test</code>å¼€å¤´ï¼Œå¹¶ä¸”ä¸èƒ½å¸¦æœ‰<code>init</code>æ–¹æ³•ã€‚</li><li>æµ‹è¯•å‡½æ•°å’Œæ–¹æ³•ä»¥<code>test_</code>å¼€å¤´ï¼Œæ–­è¨€ç”¨<code>assert</code>ï¼Œæ‰€æœ‰çš„packageåŒ…å¿…é¡»å¸¦<code>__init__.py</code>æ–‡ä»¶ã€‚</li></ul></li></ul></li></ul><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs Powershell">pip install pytest                                       <span class="hljs-comment"># å®‰è£…PyTest</span><br>pip show pytest                                          <span class="hljs-comment"># æŸ¥çœ‹PyTestç‰ˆæœ¬çš„è¯¦ç»†ä¿¡æ¯</span><br>pytest <span class="hljs-literal">--version</span>                                         <span class="hljs-comment"># ç®€å•æŸ¥çœ‹PyTestçš„å®‰è£…ç‰ˆæœ¬</span><br>pytest <span class="hljs-literal">-h</span>                                                <span class="hljs-comment"># PyTestæŸ¥çœ‹å¸®åŠ©</span><br>pytest <span class="hljs-literal">--help</span>                                            <span class="hljs-comment"># PyTestæŸ¥çœ‹å¸®åŠ©</span><br></code></pre></td></tr></table></figure><h2 id="1-1-ç”¨ä¾‹æ‰§è¡Œè§„åˆ™"><a href="#1-1-ç”¨ä¾‹æ‰§è¡Œè§„åˆ™" class="headerlink" title="1-1 ç”¨ä¾‹æ‰§è¡Œè§„åˆ™"></a>1-1 ç”¨ä¾‹æ‰§è¡Œè§„åˆ™</h2><ul><li>ç”¨ä¾‹æ‰§è¡Œè§„åˆ™<ul><li>æ‰§è¡ŒæŸä¸ªç›®å½•ä¸‹æ‰€æœ‰çš„ç”¨ä¾‹ï¼š<code>pytest FolderName/</code>ã€‚</li><li>æ‰§è¡ŒæŸä¸ªæ–‡ä»¶ä¸­çš„æ‰€æœ‰ç”¨ä¾‹ï¼š<code>pytest FileName.py</code>ã€‚</li><li>é‡åˆ°é”™è¯¯æ—¶ï¼Œåœæ­¢æ­£åœ¨æ‰§è¡Œçš„æµ‹è¯•ç”¨ä¾‹ï¼š<code>pytest -x FileName.py</code>ã€‚</li><li>ç”¨ä¾‹é”™è¯¯ä¸ªæ•°è¾¾åˆ°æŒ‡å®šæ•°é‡æ—¶ï¼Œåœæ­¢æµ‹è¯•ï¼š<code>pytest --maxfail=num</code>ã€‚</li><li>æŒ‰ç…§å…³é”®å­—è¿›è¡Œæ¨¡ç³ŠåŒ¹é…ï¼ŒåŒ¹é…åç§°ä¸åŒºåˆ†å¤§å°å†™ï¼š<code>pytest -k &quot;xxx&quot;</code>ã€‚</li><li>ç®€å•ç»“æœï¼š<code>pytest -q FileName.py</code>ï¼Œ<code>--quiet decrease verbosity</code>ã€‚</li><li>æŒ‰èŠ‚ç‚¹è¿è¡Œ<ul><li>æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹éƒ½åˆ†é…äº†å”¯ä¸€çš„nodeidï¼Œnodeidç”±æ¨¡å—åå’Œè¯´æ˜ç¬¦ç»„æˆã€‚</li><li>æ¨¡å—åå’Œè¯´æ˜ç¬¦ä»¥<code>::</code>é—´éš”ï¼Œè¯´æ˜ç¬¦å¯ä»¥åŒ…å«ç±»åã€å‡½æ•°åå’Œæ ‡è®°å‚æ•°ã€‚</li></ul></li><li>æ ‡è®°è¡¨è¾¾å¼è¿è¡Œç”¨<code>@pytest.mark.slow</code>ä¿®é¥°å™¨ä¿®é¥°çš„æ‰€æœ‰ç”¨ä¾‹ï¼š<code>pytest -m slow</code>ã€‚</li></ul></li></ul><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Powershell">pytest                                                  <span class="hljs-comment"># æ‰§è¡ŒPyTestç”¨ä¾‹çš„å‘½ä»¤ï¼Œæ¨èä½¿ç”¨</span><br>py.test                                                 <span class="hljs-comment"># æ‰§è¡Œè¯¥æ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„ç”¨ä¾‹</span><br>python <span class="hljs-literal">-m</span> pytest<br><br>pytest <span class="hljs-literal">-k</span> <span class="hljs-string">&quot;ClassName&quot;</span>                                   <span class="hljs-comment"># è¿è¡ŒClassNameç±»ä¸‹çš„æ‰€æœ‰æ–¹æ³•</span><br>pytest <span class="hljs-literal">-k</span> <span class="hljs-string">&quot;MethodName&quot;</span>                                  <span class="hljs-comment"># è¿è¡Œæ‰€æœ‰åä¸ºMethodNameçš„æ–¹æ³•</span><br>pytest <span class="hljs-literal">-k</span> <span class="hljs-string">&quot;ClassName and not MethodName&quot;</span>                <span class="hljs-comment"># è¿è¡ŒClassNameç±»ä¸‹çš„é™¤MethodNameå¤–çš„æ‰€æœ‰æ–¹æ³•</span><br><br>pytest FileName.py::FunctionName                        <span class="hljs-comment"># å‡½æ•°å</span><br>pytest FileName.py::ClassName::FunctionName             <span class="hljs-comment"># ç±»å+å‡½æ•°å</span><br>pytest FileName.py::ClassName::FunctionName[<span class="hljs-type">num1</span>-<span class="hljs-type">num2</span>]  <span class="hljs-comment"># ç±»å+å‡½æ•°å+æ ‡è®°å‚æ•°</span><br>pytest FileName.py <span class="hljs-literal">-vv</span>                                  <span class="hljs-comment"># FileName.pyæ–‡ä»¶ä¸‹çš„æ‰€æœ‰ç”¨ä¾‹èŠ‚ç‚¹æ‰§è¡Œç»“æœ</span><br></code></pre></td></tr></table></figure><h2 id="1-2-PyCharmè¿è¡Œæ–¹å¼"><a href="#1-2-PyCharmè¿è¡Œæ–¹å¼" class="headerlink" title="1-2 PyCharmè¿è¡Œæ–¹å¼"></a>1-2 PyCharmè¿è¡Œæ–¹å¼</h2><ul><li>PyCharmè¿è¡Œæ–¹å¼<ul><li>é»˜è®¤ä»¥Autodetectå½¢å¼è¿è¡Œï¼Œå¯ä»¥é€šè¿‡ä¿®æ”¹PyCharmè®¾ç½®æ¥æ”¹å˜è¿è¡Œæ–¹å¼ã€‚</li><li>Fileâ€”&gt;Settingâ€”&gt;Toolsâ€”&gt;Python Integrated Toolsâ€”&gt;Default test runnerã€‚</li><li>PyTestå…¼å®¹UnitTestï¼Œç”¨UnitTestæ¡†æ¶ç¼–å†™çš„æµ‹è¯•ç”¨ä¾‹ä¹Ÿèƒ½ç”¨PyTestæ¡†æ¶è¿è¡Œã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_node.py</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_one</span>():<br>    <span class="hljs-keyword">pass</span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestNode</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_one</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">pass</span><br>    <br><span class="hljs-meta">    @pytest.mark.parametrize(<span class="hljs-params"><span class="hljs-string">&quot;x, y&quot;</span>,[(<span class="hljs-params"><span class="hljs-number">1</span>, <span class="hljs-number">3</span></span>), (<span class="hljs-params"><span class="hljs-number">3</span>, <span class="hljs-number">5</span></span>)]</span>)</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_two</span>(<span class="hljs-params">self, x, y</span>):<br>        <span class="hljs-keyword">assert</span> x + <span class="hljs-number">2</span> == y<br><br><span class="hljs-comment"># pytest test_node.py::test_one                         # å‡½æ•°å</span><br><span class="hljs-comment"># pytest test_node.py::TestNode::test_one               # ç±»å+å‡½æ•°å</span><br><span class="hljs-comment"># pytest test_node.py::TestNode::test_two[1-3]          # ç±»å+å‡½æ•°å+æ ‡è®°å‚æ•°</span><br><span class="hljs-comment"># pytest test_node.py::TestNode::test_two[3-5]          # ç±»å+å‡½æ•°å+æ ‡è®°å‚æ•°</span><br><span class="hljs-comment"># pytest test_node.py -vv                               # è¯¥æ–‡ä»¶ä¸‹çš„æ‰€æœ‰ç”¨ä¾‹èŠ‚ç‚¹æ‰§è¡Œç»“æœ</span><br></code></pre></td></tr></table></figure><h1 id="2-è·³è¿‡ç”¨ä¾‹"><a href="#2-è·³è¿‡ç”¨ä¾‹" class="headerlink" title="2 è·³è¿‡ç”¨ä¾‹"></a>2 è·³è¿‡ç”¨ä¾‹</h1><ul><li>è·³è¿‡ç”¨ä¾‹<ul><li>è£…é¥°å™¨<code>@pytest.mark.skip()</code>ï¼šæ ‡è®°æµ‹è¯•ç”¨ä¾‹ä¸ºè·³è¿‡çŠ¶æ€ï¼Œå¹¶æä¾›è·³è¿‡åŸå› ã€‚</li><li>è£…é¥°å™¨<code>@pytest.mark.skipif()</code>ï¼šå½“æŒ‡å®šçš„æ¡ä»¶æ»¡è¶³æ—¶ï¼Œå³ä¸ºTrueï¼Œè·³è¿‡æµ‹è¯•ç”¨ä¾‹å¹¶æä¾›è·³è¿‡åŸå› ã€‚</li><li>è£…é¥°å™¨<code>@pytest.mark.xfail()</code>ï¼šæ ‡è®°æµ‹è¯•ç”¨ä¾‹ä¸ºé¢„è®¡å¤±è´¥ï¼Œå®é™…è¿è¡Œæ—¶ä¼šè¢«å¿½ç•¥ï¼Œä¸å½±å“æµ‹è¯•ç»“æœã€‚</li><li>å‡½æ•°<code>pytest.skip()</code>ï¼šåœ¨æµ‹è¯•ç”¨ä¾‹æ‰§è¡ŒæœŸé—´ï¼Œå¼ºåˆ¶è·³è¿‡å½“å‰æµ‹è¯•ç”¨ä¾‹å¹¶æä¾›è·³è¿‡åŸå› ï¼Œç±»ä¼¼äºbreakè·³å‡ºå¾ªç¯ã€‚</li><li>å‡½æ•°<code>pytest.xfail()</code>ï¼šæ ‡è®°å·²çŸ¥å­˜åœ¨é—®é¢˜ä½†å°šæœªä¿®å¤çš„ç”¨ä¾‹ï¼Œä¾èµ–äºè¢«æ ‡è®°æˆxfailç”¨ä¾‹çš„å…¶ä»–ç”¨ä¾‹ä¹Ÿä¼šè·³è¿‡ã€‚</li><li>è‡ªå®šä¹‰è·³è¿‡æ ‡è¯†<ul><li>å°†<code>pytest.mark.skip()</code>æˆ–<code>pytest.mark.skipif()</code>èµ‹å€¼ç»™ä¸€ä¸ªè‡ªå®šä¹‰æ ‡è¯†å˜é‡ï¼Œä¸åŒæ¨¡å—ä¹‹é—´è¿›è¡Œå…±äº«ã€‚</li><li>è‹¥æœ‰å¤šä¸ªæ¨¡å—çš„ç”¨ä¾‹éœ€è¦ç”¨åˆ°åŒä¸ªæ ‡è¯†å˜é‡ï¼Œå¯å•ç‹¬æ–‡ä»¶ç®¡ç†é€šç”¨çš„æ ‡è¯†å˜é‡ï¼Œé€‚ç”¨äºæ•´ä¸ªæµ‹è¯•ç”¨ä¾‹é›†ã€‚</li></ul></li><li>å‡½æ•°<code>pytest.importorskip()</code>ï¼šæŸç”¨ä¾‹ä¾èµ–äºç‰¹å®šæ¨¡å—ï¼Œä½†å½“å‰ç¯å¢ƒä¸­è¯¥æ¨¡å—ä¸å¯å¯¼å…¥æ—¶ä½¿ç”¨è¯¥å‡½æ•°è·³è¿‡ç”¨ä¾‹ã€‚</li></ul></li></ul><h2 id="2-1-pytest-mark-skip"><a href="#2-1-pytest-mark-skip" class="headerlink" title="2-1 @pytest.mark.skip()"></a>2-1 @pytest.mark.skip()</h2><ul><li>@pytest.mark.skip()<ul><li>ç”¨åœ¨è·³è¿‡å•ä¸ªç”¨ä¾‹(å‡½æ•°ç”¨ä¾‹)ã€ç±»ç”¨ä¾‹ã€ç±»æ–¹æ³•ç”¨ä¾‹ä¸Šï¼Œå¦‚æœåŠ åœ¨ç±»ç”¨ä¾‹ä¸Šï¼Œç±»é‡Œé¢çš„æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹éƒ½ä¸ä¼šè¢«æ‰§è¡Œã€‚</li><li>å¯é€‰å‚æ•°reasonï¼Œä»£è¡¨è·³è¿‡åŸå› ï¼Œä¼šåœ¨æ‰§è¡Œç»“æœä¸­æ‰“å°ï¼Œå¯é€‰å‚æ•°conditionï¼Œç”¨äºå®šä¹‰åœ¨ç‰¹å®šæ¡ä»¶ä¸‹è·³è¿‡æµ‹è¯•ç”¨ä¾‹ã€‚</li><li><code>pytestmark=pytest.mark.skip()</code>ï¼Œpytestmarkæ˜¯pytestä¸­ä¸€ä¸ªç‰¹æ®Šçš„ä¸å¯æ›´æ”¹å˜é‡åï¼Œç”¨äºè®¾ç½®æ¨¡å—çº§åˆ«çš„æ ‡è®°ã€‚</li><li>å¦‚æœæƒ³åœ¨æ¨¡å—çº§åˆ«è·³è¿‡æµ‹è¯•ç”¨ä¾‹ï¼Œä½†ä¸ä½¿ç”¨pytestmarkï¼Œåˆ™å¯ä»¥ä½¿ç”¨å…¶ä»–å˜é‡åï¼Œæ³¨æ„éœ€è¦ä½¿ç”¨è£…é¥°å™¨æ¥è¿›è¡Œæ ‡è®°ã€‚</li></ul></li></ul><h4 id="1-test-mark-skip-py"><a href="#1-test-mark-skip-py" class="headerlink" title="(1) test_mark_skip.py"></a>(1) test_mark_skip.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_mark_skip.py</span><br><br><br><span class="hljs-meta">@pytest.mark.skip(<span class="hljs-params">reason=<span class="hljs-string">&#x27;è·³è¿‡å•ä¸ªæµ‹è¯•ç”¨ä¾‹&#x27;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---test case a---&quot;</span>)<br><br><br><span class="hljs-meta">@pytest.mark.skip(<span class="hljs-params">reason=<span class="hljs-string">&#x27;è·³è¿‡å•ä¸ªç±»çš„ç”¨ä¾‹&#x27;</span></span>)</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestCaseA</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---test case b---&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_c</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---test case c---&quot;</span>)<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestCaseB</span>:<br><span class="hljs-meta">    @pytest.mark.skip(<span class="hljs-params">reason=<span class="hljs-string">&#x27;è·³è¿‡ç±»çš„æ–¹æ³•ç”¨ä¾‹&#x27;</span></span>)</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_d</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---test case d---&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_e</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---test case e---&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    pytest.main([<span class="hljs-string">&#x27;-s&#x27;</span>, <span class="hljs-string">&#x27;test_mark_skip.py&#x27;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">pytest test_mark_skip.py                                # test_mark_skip.py ssss.</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 5 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_mark_skip.py::test_a                               [ 20%]</span><br><span class="hljs-string">SKIPPED (è·³è¿‡å•ä¸ªæµ‹è¯•ç”¨ä¾‹)</span><br><span class="hljs-string">Skipped: è·³è¿‡å•ä¸ªæµ‹è¯•ç”¨ä¾‹</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_mark_skip.py::TestCaseA::test_b                    [ 40%]</span><br><span class="hljs-string">SKIPPED (è·³è¿‡å•ä¸ªç±»çš„ç”¨ä¾‹)</span><br><span class="hljs-string">Skipped: è·³è¿‡å•ä¸ªç±»çš„ç”¨ä¾‹</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_mark_skip.py::TestCaseA::test_c                    [ 60%]</span><br><span class="hljs-string">SKIPPED (è·³è¿‡å•ä¸ªç±»çš„ç”¨ä¾‹)</span><br><span class="hljs-string">Skipped: è·³è¿‡å•ä¸ªç±»çš„ç”¨ä¾‹</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_mark_skip.py::TestCaseB::test_d                    [ 80%]</span><br><span class="hljs-string">SKIPPED (è·³è¿‡ç±»çš„æ–¹æ³•ç”¨ä¾‹)</span><br><span class="hljs-string">Skipped: è·³è¿‡ç±»çš„æ–¹æ³•ç”¨ä¾‹</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_mark_skip.py::TestCaseB::test_e </span><br><span class="hljs-string">PASSED                                                  [100%]---test case e---</span><br><span class="hljs-string">======================== 1 passed, 4 skipped in 0.16s =========================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h4 id="2-test-skip-module-py"><a href="#2-test-skip-module-py" class="headerlink" title="(2) test_skip_module.py*"></a>(2) test_skip_module.py*</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_skip_module.py</span><br><br>pytestmark = pytest.mark.skip(reason=<span class="hljs-string">&quot;è·³è¿‡å½“å‰æ¨¡å—&quot;</span>)<br><span class="hljs-comment"># skip_module = pytest.mark.skip(reason=&quot;è·³è¿‡å½“å‰æ¨¡å—&quot;)</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>():                                           <span class="hljs-comment"># å¥‡æ€ªï¼Œpytestmarkè¿™é‡Œä¹Ÿè·³è¿‡äº†</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case a---&quot;</span>)                           <span class="hljs-comment"># skip_moduleåªè·³è¿‡TestCase</span><br><br><br><span class="hljs-comment"># @skip_module</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestCase</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case b---&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_c</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case c---&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    pytest.main([<span class="hljs-string">&#x27;-s&#x27;</span>, <span class="hljs-string">&#x27;test_skip_module.py&#x27;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">pytest test_skip_module.py                              # test_skip_module.py sss</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 3 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_skip_module.py::test_a                             [ 33%]</span><br><span class="hljs-string">SKIPPED (è·³è¿‡å½“å‰æ¨¡å—)</span><br><span class="hljs-string">Skipped: è·³è¿‡å½“å‰æ¨¡å—</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_skip_module.py::TestCase::test_b                   [ 66%]</span><br><span class="hljs-string">SKIPPED (è·³è¿‡å½“å‰æ¨¡å—)</span><br><span class="hljs-string">Skipped: è·³è¿‡å½“å‰æ¨¡å—</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_skip_module.py::TestCase::test_c                   [100%]</span><br><span class="hljs-string">SKIPPED (è·³è¿‡å½“å‰æ¨¡å—)</span><br><span class="hljs-string">Skipped: è·³è¿‡å½“å‰æ¨¡å—</span><br><span class="hljs-string">============================= 3 skipped in 0.05s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h2 id="2-2-pytest-mark-skipif"><a href="#2-2-pytest-mark-skipif" class="headerlink" title="2-2 @pytest.mark.skipif()"></a>2-2 @pytest.mark.skipif()</h2><ul><li>@pytest.mark.skipif()<ul><li>å¯é€‰å‚æ•°reasonï¼Œç”¨äºæ·»åŠ å…³äºè·³è¿‡æµ‹è¯•ç”¨ä¾‹çš„åŸå› è¯´æ˜ã€‚</li><li>å¯é€‰å‚æ•°conditionï¼Œå®šä¹‰ç‰¹å®šæ¡ä»¶ä¸‹æ˜¯å¦è·³è¿‡ç”¨ä¾‹çš„è¡¨è¾¾å¼ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> sys<br><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_mark_skipif.py</span><br><br><br><span class="hljs-meta">@pytest.mark.skipif(<span class="hljs-params">sys.version_info &lt; (<span class="hljs-params"><span class="hljs-number">3</span>, <span class="hljs-number">10</span></span>), reason=<span class="hljs-string">&quot;pythonç‰ˆæœ¬å°äº3.10&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case a---&quot;</span>)<br><br><br><span class="hljs-meta">@pytest.mark.skipif(<span class="hljs-params">condition=sys.version_info &lt; (<span class="hljs-params"><span class="hljs-number">3</span>, <span class="hljs-number">10</span></span>), reason=<span class="hljs-string">&quot;pythonç‰ˆæœ¬å°äº3.10&quot;</span></span>)</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestCaseA</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case b---&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_c</span>(<span class="hljs-params">self, </span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case c---&quot;</span>)<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestCaseB</span>:<br><span class="hljs-meta">    @pytest.mark.skipif(<span class="hljs-params">condition=sys.version_info &lt; (<span class="hljs-params"><span class="hljs-number">3</span>, <span class="hljs-number">10</span></span>), reason=<span class="hljs-string">&quot;pythonç‰ˆæœ¬å°äº3.10&quot;</span></span>)</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_d</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case d---&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_e</span>(<span class="hljs-params">self, </span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case e---&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    pytest.main([<span class="hljs-string">&#x27;-s&#x27;</span>, <span class="hljs-string">&#x27;test_mark_skipif.py&#x27;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;                         ï¼ï¼ï¼è¿™é‡Œç”¨çš„Python3.9ç‰ˆæœ¬</span><br><span class="hljs-string">pytest test_mark_skipif.py                              # test_mark_skipif.py ssss.</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 5 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_mark_skipif.py::test_a                             [ 20%]</span><br><span class="hljs-string">SKIPPED (pythonç‰ˆæœ¬å°äº3.10)</span><br><span class="hljs-string">Skipped: pythonç‰ˆæœ¬å°äº3.10</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_mark_skipif.py::TestCaseA::test_b                  [ 40%]</span><br><span class="hljs-string">SKIPPED (pythonç‰ˆæœ¬å°äº3.10)</span><br><span class="hljs-string">Skipped: pythonç‰ˆæœ¬å°äº3.10</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_mark_skipif.py::TestCaseA::test_c                  [ 60%]</span><br><span class="hljs-string">SKIPPED (pythonç‰ˆæœ¬å°äº3.10)</span><br><span class="hljs-string">Skipped: pythonç‰ˆæœ¬å°äº3.10</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_mark_skipif.py::TestCaseB::test_d                  [ 80%]</span><br><span class="hljs-string">SKIPPED (pythonç‰ˆæœ¬å°äº3.10)</span><br><span class="hljs-string">Skipped: pythonç‰ˆæœ¬å°äº3.10</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_mark_skipif.py::TestCaseB::test_e </span><br><span class="hljs-string">PASSED                                                  [100%]---use case e---</span><br><span class="hljs-string">======================== 1 passed, 4 skipped in 0.06s =========================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h2 id="2-3-pytest-mark-xfail"><a href="#2-3-pytest-mark-xfail" class="headerlink" title="2-3 @pytest.mark.xfail()"></a>2-3 @pytest.mark.xfail()</h2><ul><li>@pytest.mark.xfail()<ul><li>æ ‡è®°æµ‹è¯•ç”¨ä¾‹ä¸ºé¢„æœŸå¤±è´¥çŠ¶æ€ï¼Œé¢„æœŸå¤±è´¥å³è¯¥ç”¨ä¾‹çš„ç›®æ ‡æ˜¯å¤±è´¥çš„ã€‚</li><li>å‚æ•°runç”¨äºæ§åˆ¶åœ¨ç‰¹å®šçš„æ¡ä»¶ä¸‹ï¼Œæ˜¯å¦æ‰§è¡Œæ ‡è®°ä¸ºxfailçš„æµ‹è¯•ç”¨ä¾‹ã€‚</li><li>å‚æ•°reasonç”¨äºæä¾›é¢„æœŸå¤±è´¥çš„åŸå› è¯´æ˜ï¼Œå‚æ•°raisesåˆ™æŒ‡å®šé¢„æœŸæŠ›å‡ºçš„å¼‚å¸¸ç±»å‹ã€‚</li><li>å‚æ•°strictç”¨äºæ§åˆ¶æµ‹è¯•ç”¨ä¾‹åœ¨é¢„æœŸå¤±è´¥æ—¶ï¼Œæ˜¯å¦ä»¥å¤±è´¥çš„æ ‡è®°æ˜¾ç¤ºåœ¨æµ‹è¯•æŠ¥å‘Šä¸­ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                          <span class="hljs-comment"># test_mark_xfail.py</span><br><br><br><span class="hljs-meta">@pytest.mark.xfail(<span class="hljs-params">reason=<span class="hljs-string">&quot;æµ‹è¯•ç”¨ä¾‹é¢„æœŸå¤±è´¥&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>():<br>    <span class="hljs-keyword">assert</span> <span class="hljs-number">2</span> + <span class="hljs-number">2</span> == <span class="hljs-number">5</span><br><br><br><span class="hljs-meta">@pytest.mark.xfail(<span class="hljs-params">raises=ZeroDivisionError</span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>():<br>    <span class="hljs-keyword">assert</span> <span class="hljs-number">10</span> / <span class="hljs-number">0</span> == <span class="hljs-number">5</span><br><br><br><span class="hljs-meta">@pytest.mark.xfail(<span class="hljs-params">run=<span class="hljs-literal">False</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_c</span>():<br>    <span class="hljs-keyword">assert</span> <span class="hljs-number">2</span> + <span class="hljs-number">1</span> == <span class="hljs-number">5</span><br><br><br><span class="hljs-meta">@pytest.mark.xfail(<span class="hljs-params">strict=<span class="hljs-literal">True</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_d</span>():<br>    <span class="hljs-keyword">assert</span> <span class="hljs-literal">False</span><br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    pytest.main([<span class="hljs-string">&#x27;-s&#x27;</span>, <span class="hljs-string">&#x27;test_mark_xfail.py&#x27;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">pytest test_mark_xfail.py                              # test_mark_xfail.py xxxx</span><br><span class="hljs-string">============================= test session starts ============================</span><br><span class="hljs-string">collecting ... collected 4 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_mark_xfail.py::test_a                             [ 25%]</span><br><span class="hljs-string">XFAIL (æµ‹è¯•ç”¨ä¾‹é¢„æœŸå¤±è´¥)</span><br><span class="hljs-string">@pytest.mark.xfail(reason=&quot;æµ‹è¯•ç”¨ä¾‹é¢„æœŸå¤±è´¥&quot;)</span><br><span class="hljs-string">    def test_a():</span><br><span class="hljs-string">&gt;       assert 2 + 2 == 5</span><br><span class="hljs-string">E       assert 4 == 5</span><br><span class="hljs-string">E         +4</span><br><span class="hljs-string">E         -5</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_mark_xfail.py:6: AssertionError</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_mark_xfail.py::test_b </span><br><span class="hljs-string">XFAIL                                                  [ 50%]</span><br><span class="hljs-string">@pytest.mark.xfail(raises=ZeroDivisionError)</span><br><span class="hljs-string">    def test_b():</span><br><span class="hljs-string">&gt;       assert 10 / 0 == 5</span><br><span class="hljs-string">E       ZeroDivisionError: division by zero</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_mark_xfail.py:11: ZeroDivisionError</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_mark_xfail.py::test_c </span><br><span class="hljs-string">XFAIL ([NOTRUN] )                                      [ 75%]</span><br><span class="hljs-string">cls = &lt;class &#x27;_pytest.runner.CallInfo&#x27;&gt;</span><br><span class="hljs-string">func = &lt;function call_runtest_hook.&lt;locals&gt;.&lt;lambda&gt; at 0x0000015C2E6DA5E0&gt;</span><br><span class="hljs-string">when = &#x27;setup&#x27;</span><br><span class="hljs-string">reraise = (&lt;class &#x27;_pytest.outcomes.Exit&#x27;&gt;, &lt;class &#x27;KeyboardInterrupt&#x27;&gt;)</span><br><span class="hljs-string"></span><br><span class="hljs-string">    @classmethod</span><br><span class="hljs-string">    def from_call(</span><br><span class="hljs-string">        cls,</span><br><span class="hljs-string">        func: &quot;Callable[[], TResult]&quot;,</span><br><span class="hljs-string">        when: &quot;Literal[&#x27;collect&#x27;, &#x27;setup&#x27;, &#x27;call&#x27;, &#x27;teardown&#x27;]&quot;,</span><br><span class="hljs-string">        reraise: Optional[</span><br><span class="hljs-string">            Union[Type[BaseException], Tuple[Type[BaseException], ...]]</span><br><span class="hljs-string">        ] = None,</span><br><span class="hljs-string">    ) -&gt; &quot;CallInfo[TResult]&quot;:</span><br><span class="hljs-string">        excinfo = None</span><br><span class="hljs-string">        start = timing.time()</span><br><span class="hljs-string">        precise_start = timing.perf_counter()</span><br><span class="hljs-string">        try:</span><br><span class="hljs-string">&gt;           result: Optional[TResult] = func()</span><br><span class="hljs-string"></span><br><span class="hljs-string">D:\A3\lib\site-packages\_pytest\runner.py:311: </span><br><span class="hljs-string">_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ </span><br><span class="hljs-string">D:\A3\lib\site-packages\_pytest\runner.py:255: in &lt;lambda&gt;</span><br><span class="hljs-string">    lambda: ihook(item=item, **kwds), when=when, reraise=reraise</span><br><span class="hljs-string">D:\A3\lib\site-packages\pluggy\hooks.py:286: in __call__</span><br><span class="hljs-string">    return self._hookexec(self, self.get_hookimpls(), kwargs)</span><br><span class="hljs-string">D:\A3\lib\site-packages\pluggy\manager.py:93: in _hookexec</span><br><span class="hljs-string">    return self._inner_hookexec(hook, methods, kwargs)</span><br><span class="hljs-string">D:\A3\lib\site-packages\pluggy\manager.py:84: in &lt;lambda&gt;</span><br><span class="hljs-string">    self._inner_hookexec = lambda hook, methods, kwargs: hook.multicall(</span><br><span class="hljs-string">_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ </span><br><span class="hljs-string"></span><br><span class="hljs-string">item = &lt;Function test_c&gt;</span><br><span class="hljs-string"></span><br><span class="hljs-string">    @hookimpl(tryfirst=True)</span><br><span class="hljs-string">    def pytest_runtest_setup(item: Item) -&gt; None:</span><br><span class="hljs-string">        skipped = evaluate_skip_marks(item)</span><br><span class="hljs-string">        item._store[skipped_by_mark_key] = skipped is not None</span><br><span class="hljs-string">        if skipped:</span><br><span class="hljs-string">            skip(skipped.reason)</span><br><span class="hljs-string">    </span><br><span class="hljs-string">        item._store[xfailed_key] = xfailed = evaluate_xfail_marks(item)</span><br><span class="hljs-string">        if xfailed and not item.config.option.runxfail and not xfailed.run:</span><br><span class="hljs-string">&gt;           xfail(&quot;[NOTRUN] &quot; + xfailed.reason)</span><br><span class="hljs-string">E           _pytest.outcomes.XFailed: [NOTRUN]</span><br><span class="hljs-string"></span><br><span class="hljs-string">D:\A3\lib\site-packages\_pytest\skipping.py:249: XFailed</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_mark_xfail.py::test_d </span><br><span class="hljs-string">XFAIL                                                  [100%]</span><br><span class="hljs-string">@pytest.mark.xfail(strict=True)</span><br><span class="hljs-string">    def test_d():</span><br><span class="hljs-string">&gt;       assert False</span><br><span class="hljs-string">E       assert False</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_mark_xfail.py:21: AssertionError</span><br><span class="hljs-string">============================= 4 xfailed in 0.47s =============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h2 id="2-4-pytest-skip"><a href="#2-4-pytest-skip" class="headerlink" title="2-4 pytest.skip()"></a>2-4 pytest.skip()</h2><ul><li>pytest.skip()<ul><li>ç”¨äºè·³è¿‡ç‰¹å®šæµ‹è¯•ç”¨ä¾‹çš„æ‰§è¡Œï¼Œå¯ä»¥åœ¨æµ‹è¯•å‡½æ•°ã€æ–¹æ³•æˆ–ç±»ä¸Šä½¿ç”¨ã€‚</li><li>é€šå¸¸ç”¨äºæŸåŠŸèƒ½å°šæœªå®ç°ï¼Œä½†å·²ç¼–å†™äº†æµ‹è¯•ç”¨ä¾‹ï¼Œæš‚æ—¶è·³è¿‡è¿™äº›ç”¨ä¾‹çš„æƒ…å†µã€‚</li><li>æˆ–è€…æµ‹è¯•ç”¨ä¾‹ä¾èµ–äºæŸäº›æ¡ä»¶ï¼Œä½†è¿™äº›æ¡ä»¶å½“å‰ä¸æ»¡è¶³ï¼Œå› æ­¤è·³è¿‡è¿™äº›ç”¨ä¾‹ã€‚</li></ul></li></ul><h4 id="1-test-skip-msg-py"><a href="#1-test-skip-msg-py" class="headerlink" title="(1) test_skip_msg.py"></a>(1) test_skip_msg.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_skip_msg.py</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_case</span>():<br>    n = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;---use case <span class="hljs-subst">&#123;n&#125;</span> execution---&quot;</span>)<br>        n += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">if</span> n == <span class="hljs-number">5</span>:                                      <span class="hljs-comment"># pytest.skip(msg=&quot;&quot;)</span><br>            pytest.skip(<span class="hljs-string">&quot;---use case 5 exit---&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    pytest.main([<span class="hljs-string">&#x27;-s&#x27;</span>, <span class="hljs-string">&#x27;test_skip_msg.py&#x27;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">pytest test_skip_msg.py                                 # test_skip_msg.py s</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 1 item</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_skip_msg.py::test_case </span><br><span class="hljs-string">SKIPPED (---use case 5 exit---)                         [100%]---use case 0 execution---</span><br><span class="hljs-string">---use case 1 execution---</span><br><span class="hljs-string">---use case 2 execution---</span><br><span class="hljs-string">---use case 3 execution---</span><br><span class="hljs-string">---use case 4 execution---</span><br><span class="hljs-string"></span><br><span class="hljs-string">Skipped: ---use case 5 exit---</span><br><span class="hljs-string">============================= 1 skipped in 0.15s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h4 id="2-test-skip-allow-py"><a href="#2-test-skip-allow-py" class="headerlink" title="(2) test_skip_allow.py"></a>(2) test_skip_allow.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> sys<br><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_skip_allow.py</span><br><br><span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> sys.platform.startswith(<span class="hljs-string">&quot;darwin&quot;</span>):               <span class="hljs-comment"># allow_module_level=Trueï¼Œè®¾ç½®è·³è¿‡æ•´ä¸ªæ¨¡å—</span><br>    pytest.skip(<span class="hljs-string">&quot;æµ‹è¯•ç”¨ä¾‹åªåœ¨Macå¹³å°ä¸Šæ‰§è¡Œ&quot;</span>, allow_module_level=<span class="hljs-literal">True</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case a---&quot;</span>)<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestCase</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case b---&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_c</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case c---&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    pytest.main([<span class="hljs-string">&#x27;-s&#x27;</span>, <span class="hljs-string">&#x27;test_skip_allow.py&#x27;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;            ï¼ï¼ï¼winæ˜¯Windowså¹³å°ï¼Œdarwinæ˜¯Macå¹³å°ï¼ŒLinuxæ˜¯Linuxå¹³å°            </span><br><span class="hljs-string">pytest test_skip_allow.py                               # collected 0 items / 1 skipped</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... </span><br><span class="hljs-string">Skipped: æµ‹è¯•ç”¨ä¾‹åªåœ¨Macå¹³å°ä¸Šæ‰§è¡Œ</span><br><span class="hljs-string">collected 0 items / 1 skipped</span><br><span class="hljs-string">============================= 1 skipped in 0.04s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h2 id="2-5-pytest-xfail"><a href="#2-5-pytest-xfail" class="headerlink" title="2-5 pytest.xfail()"></a>2-5 pytest.xfail()</h2><ul><li>pytest.xfail()<ul><li>ç”¨äºæ ‡è®°æµ‹è¯•ç”¨ä¾‹ä¸ºé¢„æœŸå¤±è´¥çŠ¶æ€ï¼Œé¢„æœŸå¤±è´¥å³è¯¥æµ‹è¯•ç”¨ä¾‹çš„ç›®æ ‡æ˜¯å¤±è´¥çš„ã€‚</li><li>å‚æ•°reasonæä¾›é¢„æœŸå¤±è´¥çš„åŸå› è¯´æ˜ï¼Œå‚æ•°raisesåˆ™æŒ‡å®šé¢„æœŸæŠ›å‡ºçš„å¼‚å¸¸ç±»å‹ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_xfail.py</span><br><br><br><span class="hljs-meta">@pytest.xfail(<span class="hljs-params">reason=<span class="hljs-string">&quot;æµ‹è¯•ç”¨ä¾‹é¢„æœŸå¤±è´¥&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>():<br>    <span class="hljs-keyword">assert</span> <span class="hljs-number">2</span> + <span class="hljs-number">2</span> == <span class="hljs-number">5</span><br><br><br><span class="hljs-meta">@pytest.xfail(<span class="hljs-params">raises=ZeroDivisionError</span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>():<br>    <span class="hljs-keyword">assert</span> <span class="hljs-number">10</span> / <span class="hljs-number">0</span> == <span class="hljs-number">5</span><br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    pytest.main([<span class="hljs-string">&#x27;-s&#x27;</span>, <span class="hljs-string">&#x27;test_xfail.py&#x27;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">pytest test_xfail.py                                    # collected 0 items / 1 error</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... </span><br><span class="hljs-string">test_xfail.py:None (test_xfail.py)</span><br><span class="hljs-string">test_xfail.py:4: in &lt;module&gt;</span><br><span class="hljs-string">    @pytest.xfail(reason=&quot;æµ‹è¯•ç”¨ä¾‹é¢„æœŸå¤±è´¥&quot;)</span><br><span class="hljs-string">E   _pytest.outcomes.XFailed: æµ‹è¯•ç”¨ä¾‹é¢„æœŸå¤±è´¥</span><br><span class="hljs-string">collected 0 items / 1 error</span><br><span class="hljs-string"></span><br><span class="hljs-string">!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!</span><br><span class="hljs-string">============================== 1 error in 0.34s ===============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h2 id="2-6-è‡ªå®šä¹‰è·³è¿‡æ ‡è¯†"><a href="#2-6-è‡ªå®šä¹‰è·³è¿‡æ ‡è¯†" class="headerlink" title="2-6 è‡ªå®šä¹‰è·³è¿‡æ ‡è¯†"></a>2-6 è‡ªå®šä¹‰è·³è¿‡æ ‡è¯†</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> sys<br><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_skip_tag.py</span><br><br><span class="hljs-comment"># mark_version = pytest.mark.skip(reason=&quot;ä¸åœ¨Winä¸‹æ‰§è¡Œ&quot;)</span><br>mark_version = pytest.mark.skipif(sys.platform != <span class="hljs-string">&#x27;win&#x27;</span>, reason=<span class="hljs-string">&quot;ä¸åœ¨Winä¸‹æ‰§è¡Œ&quot;</span>)<br><br><br><span class="hljs-meta">@mark_version</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case a---&quot;</span>)<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestCase</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case b---&quot;</span>)<br><br><span class="hljs-meta">    @mark_version</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_c</span>(<span class="hljs-params">self, </span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case c---&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    pytest.main([<span class="hljs-string">&#x27;-s&#x27;</span>, <span class="hljs-string">&#x27;test_skip_tag.py&#x27;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">pytest test_skip_tag.py                                 # test_skip_tag.py s.s</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 3 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_skip_tag.py::test_a                                [ 33%]</span><br><span class="hljs-string">SKIPPED (ä¸åœ¨Winä¸‹æ‰§è¡Œ)</span><br><span class="hljs-string">Skipped: ä¸åœ¨Winä¸‹æ‰§è¡Œ</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_skip_tag.py::TestCase::test_b                      [ 66%]---use case b---</span><br><span class="hljs-string">PASSED</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_skip_tag.py::TestCase::test_c                      [100%]</span><br><span class="hljs-string">SKIPPED (ä¸åœ¨Winä¸‹æ‰§è¡Œ)</span><br><span class="hljs-string">Skipped: ä¸åœ¨Winä¸‹æ‰§è¡Œ</span><br><span class="hljs-string">======================== 1 passed, 2 skipped in 0.05s =========================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h2 id="2-7-pytest-importorskip"><a href="#2-7-pytest-importorskip" class="headerlink" title="2-7 pytest.importorskip()"></a>2-7 pytest.importorskip()</h2><ul><li>pytest.importorskip()<ul><li><code>pytest.importorskip(modname: str, minversion: Optional[str] = None, reason: Optional[str] = None)</code></li><li>å‚æ•°åˆ—è¡¨ï¼šmodname-æ¨¡å—åã€minversion-ç‰ˆæœ¬å·ã€reason-è·³è¿‡åŸå› ï¼Œæ¨¡å—åå¿…é€‰ï¼Œç‰ˆæœ¬å·å’Œè·³è¿‡åŸå› éƒ½æ˜¯å¯é€‰çš„ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_importorskip.py</span><br><br>sys = pytest.importorskip(<span class="hljs-string">&quot;sys&quot;</span>, minversion=<span class="hljs-string">&quot;1.0&quot;</span>)<br><br><br><span class="hljs-meta">@sys</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_case</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---test cases---&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    pytest.main([<span class="hljs-string">&#x27;-s&#x27;</span>, <span class="hljs-string">&#x27;test_importorskip.py&#x27;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">pytest test_importorskip.py                             # collected 0 items / 1 skipped</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... </span><br><span class="hljs-string">Skipped: module &#x27;sys&#x27; has __version__ None, required is: &#x27;1.0&#x27;</span><br><span class="hljs-string">collected 0 items / 1 skipped</span><br><span class="hljs-string">============================= 1 skipped in 0.27s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h1 id="3-assertæ–­è¨€"><a href="#3-assertæ–­è¨€" class="headerlink" title="3 assertæ–­è¨€"></a>3 assertæ–­è¨€</h1><ul><li>assertæ–­è¨€<ul><li>å³å®é™…ç»“æœå’ŒæœŸæœ›ç»“æœçš„æ¯”å¯¹ï¼Œç¬¦åˆé¢„æœŸå°±passï¼Œä¸ç¬¦åˆåˆ™failedã€‚</li><li>PyTestå…è®¸ä½¿ç”¨æ ‡å‡†çš„Pythonæ–­è¨€assertæ¥éªŒè¯æµ‹è¯•ä¸­çš„æœŸæœ›å’Œå€¼ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">f</span>():                                                <span class="hljs-comment"># test_assert.py</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">3</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_function</span>():<br>    <span class="hljs-keyword">assert</span> f() == <span class="hljs-number">5</span><br><br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 1 item</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_assert.py::test_function FAILED                    [100%]</span><br><span class="hljs-string">test_assert.py:4 (test_function)</span><br><span class="hljs-string">3 != 5</span><br><span class="hljs-string"></span><br><span class="hljs-string">Expected :5</span><br><span class="hljs-string">Actual   :3</span><br><span class="hljs-string">&lt;Click to see difference&gt;</span><br><span class="hljs-string"></span><br><span class="hljs-string">def test_function():</span><br><span class="hljs-string">&gt;       assert f() == 5</span><br><span class="hljs-string">E       assert 3 == 5</span><br><span class="hljs-string">E         +3</span><br><span class="hljs-string">E         -5</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_assert.py:6: AssertionError</span><br><span class="hljs-string">============================== 1 failed in 0.33s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h2 id="3-1-å¼‚å¸¸ä¿¡æ¯"><a href="#3-1-å¼‚å¸¸ä¿¡æ¯" class="headerlink" title="3-1 å¼‚å¸¸ä¿¡æ¯"></a>3-1 å¼‚å¸¸ä¿¡æ¯</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">f</span>():                                                <span class="hljs-comment"># test_exception_message.py</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">3</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_function</span>():<br>    x = f()<br>    <span class="hljs-keyword">assert</span> x % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>, <span class="hljs-string">&quot;ç¡®å®šæ˜¯å¦ä¸ºå¶æ•°ï¼Œå¹¶ä¸”å½“å‰å€¼ä¸º%s&quot;</span> % x<br><br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 1 item</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_exception_message.py::test_function FAILED         [100%]</span><br><span class="hljs-string">test_exception_message.py:4 (test_function)</span><br><span class="hljs-string">1 != 0</span><br><span class="hljs-string"></span><br><span class="hljs-string">Expected :0</span><br><span class="hljs-string">Actual   :1</span><br><span class="hljs-string">&lt;Click to see difference&gt;</span><br><span class="hljs-string"></span><br><span class="hljs-string">def test_function():</span><br><span class="hljs-string">        x = f()</span><br><span class="hljs-string">&gt;       assert x % 2 == 0, &quot;ç¡®å®šæ˜¯å¦ä¸ºå¶æ•°ï¼Œå¹¶ä¸”å½“å‰å€¼ä¸º%s&quot; % x</span><br><span class="hljs-string">E       AssertionError: ç¡®å®šæ˜¯å¦ä¸ºå¶æ•°ï¼Œå¹¶ä¸”å½“å‰å€¼ä¸º3</span><br><span class="hljs-string">E       assert 1 == 0</span><br><span class="hljs-string">E         +1</span><br><span class="hljs-string">E         -0</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_exception_message.py:7: AssertionError</span><br><span class="hljs-string">============================== 1 failed in 0.45s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h2 id="3-2-å¼‚å¸¸æ–­è¨€"><a href="#3-2-å¼‚å¸¸æ–­è¨€" class="headerlink" title="3-2 å¼‚å¸¸æ–­è¨€"></a>3-2 å¼‚å¸¸æ–­è¨€</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_anomaly_assertion.py</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_zero_division</span>():<br>    <span class="hljs-keyword">with</span> pytest.raises(ZeroDivisionError):              <span class="hljs-comment"># ä½¿ç”¨pytest.raisesä½œä¸ºä¸Šä¸‹æ–‡ç®¡ç†å™¨</span><br>        <span class="hljs-number">1</span> / <span class="hljs-number">0</span><br><br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 1 item</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_anomaly_assertion.py::test_zero_division PASSED    [100%]</span><br><span class="hljs-string">============================== 1 passed in 0.14s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><ul><li>å¼‚å¸¸ç±»å‹<ul><li>è¦åˆ¤æ–­æŠ›å‡ºçš„å¼‚å¸¸æ˜¯å¦é¢„æœŸï¼Œä¾‹å¦‚<code>1/0</code>æŠ›å‡ºçš„å¼‚å¸¸ä¸ºï¼š<code>ZeroDivisionError: division by zero</code>ã€‚</li><li>æ–­è¨€è¯¥å¼‚å¸¸ï¼Œé€šå¸¸æ˜¯æ–­è¨€å¼‚å¸¸çš„typeå’Œvalueå€¼ï¼Œtypeæ˜¯ZeroDivisionErrorï¼Œvalueæ˜¯division by zeroã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_exception_type.py</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_zero_division</span>():                               <span class="hljs-comment"># æ–­è¨€å¼‚å¸¸</span><br>    <span class="hljs-keyword">with</span> pytest.raises(ZeroDivisionError) <span class="hljs-keyword">as</span> excinfo:   <span class="hljs-comment"># ä½¿ç”¨pytest.raisesä½œä¸ºä¸Šä¸‹æ–‡ç®¡ç†å™¨</span><br>        <span class="hljs-number">1</span> / <span class="hljs-number">0</span><br><br>    <span class="hljs-keyword">assert</span> excinfo.<span class="hljs-built_in">type</span> == ZeroDivisionError            <span class="hljs-comment"># æ–­è¨€å¼‚å¸¸typeå€¼</span><br>    <span class="hljs-keyword">assert</span> <span class="hljs-string">&#x27;division by zero&#x27;</span> <span class="hljs-keyword">in</span> <span class="hljs-built_in">str</span>(excinfo.value)     <span class="hljs-comment"># æ–­è¨€å¼‚å¸¸valueå€¼</span><br><br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 1 item</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_exception_type.py::test_zero_division PASSED       [100%]</span><br><span class="hljs-string">============================== 1 passed in 0.12s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h2 id="3-3-å¸¸ç”¨æ–­è¨€"><a href="#3-3-å¸¸ç”¨æ–­è¨€" class="headerlink" title="3-3 å¸¸ç”¨æ–­è¨€"></a>3-3 å¸¸ç”¨æ–­è¨€</h2><ul><li>å¸¸ç”¨æ–­è¨€<ul><li><code>assert xx</code>ï¼šåˆ¤æ–­xxä¸ºçœŸã€‚</li><li><code>assert not xx</code>ï¼šåˆ¤æ–­xxä¸ä¸ºçœŸã€‚</li><li><code>assert a in b</code>ï¼šåˆ¤æ–­båŒ…å«aã€‚</li><li><code>assert a == b</code>ï¼šåˆ¤æ–­aç­‰äºbã€‚</li><li><code>assert a != b</code>ï¼šåˆ¤æ–­aä¸ç­‰äºbã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_common_asserts.py</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">is_true</span>(<span class="hljs-params">a</span>):<br>    <span class="hljs-keyword">if</span> a &gt; <span class="hljs-number">0</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_01</span>():<br>    a = <span class="hljs-number">5</span><br>    b = -<span class="hljs-number">1</span><br>    <span class="hljs-keyword">assert</span> is_true(a)                                   <span class="hljs-comment"># æ–­è¨€aä¸ºçœŸ</span><br>    <span class="hljs-keyword">assert</span> <span class="hljs-keyword">not</span> is_true(b)                               <span class="hljs-comment"># æ–­è¨€bä¸ä¸ºçœŸ</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_02</span>():<br>    a = <span class="hljs-string">&#x27;hello&#x27;</span><br>    b = <span class="hljs-string">&#x27;hello world&#x27;</span><br>    <span class="hljs-keyword">assert</span> a <span class="hljs-keyword">in</span> b                                       <span class="hljs-comment"># æ–­è¨€båŒ…å«a</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_03</span>():<br>    a = <span class="hljs-string">&#x27;Yoyo&#x27;</span><br>    b = <span class="hljs-string">&#x27;Yoyo&#x27;</span><br>    <span class="hljs-keyword">assert</span> a == b                                       <span class="hljs-comment"># æ–­è¨€ç›¸ç­‰</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_04</span>():<br>    a = <span class="hljs-number">5</span><br>    b = <span class="hljs-number">6</span><br>    <span class="hljs-keyword">assert</span> a != b                                       <span class="hljs-comment"># æ–­è¨€ä¸ç›¸ç­‰</span><br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    pytest.main([<span class="hljs-string">&#x27;-s&#x27;</span>, <span class="hljs-string">&#x27;test_common_asserts.py&#x27;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 4 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_common_asserts.py::test_01 PASSED                  [ 25%]</span><br><span class="hljs-string">test_common_asserts.py::test_02 PASSED                  [ 50%]</span><br><span class="hljs-string">test_common_asserts.py::test_03 PASSED                  [ 75%]</span><br><span class="hljs-string">test_common_asserts.py::test_04 PASSED                  [100%]</span><br><span class="hljs-string">============================== 4 passed in 0.14s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h1 id="4-ç”¨ä¾‹è¿è¡Œçº§åˆ«"><a href="#4-ç”¨ä¾‹è¿è¡Œçº§åˆ«" class="headerlink" title="4 ç”¨ä¾‹è¿è¡Œçº§åˆ«"></a>4 ç”¨ä¾‹è¿è¡Œçº§åˆ«</h1><ul><li>ç”¨ä¾‹è¿è¡Œçº§åˆ«<ul><li>æ¨¡å—çº§ï¼šsetup_moduleã€teardown_moduleï¼Œåœ¨æ‰€æœ‰ç”¨ä¾‹å‰ååªæ‰§è¡Œä¸€æ¬¡ã€‚</li><li>å‡½æ•°çº§ï¼šsetup_functionã€teardown_functionï¼Œåœ¨æ‰€æœ‰ç”¨ä¾‹å‰åéƒ½æ‰§è¡Œä¸€æ¬¡ã€‚</li><li>ç±»çº§åˆ«ï¼šsetup_classã€teardown_classï¼Œåœ¨ç±»ä¸­çš„æ‰€æœ‰ç”¨ä¾‹å‰ååªæ‰§è¡Œä¸€æ¬¡ã€‚</li><li>ç±»æ–¹æ³•çº§ï¼šsetup_methodã€teardown_methodï¼Œåœ¨ç±»ä¸­çš„æ‰€æœ‰ç”¨ä¾‹å‰åéƒ½æ‰§è¡Œä¸€æ¬¡ã€‚</li><li>ç±»æ–¹æ³•ç»†åŒ–çº§ï¼šsetupã€teardownï¼Œè¿è¡Œè§„åˆ™ä¸ç±»æ–¹æ³•çº§ç›¸åŒï¼Œåœ¨æ¯ä¸ªç”¨ä¾‹å‰åéƒ½æ‰§è¡Œä¸€æ¬¡ã€‚</li></ul></li></ul><h2 id="4-1-æ¨¡å—çº§"><a href="#4-1-æ¨¡å—çº§" class="headerlink" title="4-1 æ¨¡å—çº§"></a>4-1 æ¨¡å—çº§</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_module.py</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">setup_module</span>():                                     <span class="hljs-comment"># æ¨¡å—çº§</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---setup_module: åœ¨æ‰€æœ‰ç”¨ä¾‹å‰ååªæ‰§è¡Œä¸€æ¬¡---&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">teardown_module</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---teardown_module: åœ¨æ‰€æœ‰ç”¨ä¾‹å‰ååªæ‰§è¡Œä¸€æ¬¡---&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_one</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---æ‰§è¡Œä¸­---test_one()&quot;</span>)<br>    x = <span class="hljs-string">&#x27;this&#x27;</span><br>    <span class="hljs-keyword">assert</span> <span class="hljs-string">&#x27;h&#x27;</span> <span class="hljs-keyword">in</span> x<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_two</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---æ‰§è¡Œä¸­---test_two()&quot;</span>)<br>    x = <span class="hljs-string">&#x27;hello&#x27;</span><br>    <span class="hljs-keyword">assert</span> <span class="hljs-string">&#x27;o&#x27;</span> <span class="hljs-keyword">in</span> x<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    pytest.main([<span class="hljs-string">&#x27;-s&#x27;</span>, <span class="hljs-string">&#x27;test_module.py&#x27;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 2 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">---setup_module: åœ¨æ‰€æœ‰ç”¨ä¾‹å‰ååªæ‰§è¡Œä¸€æ¬¡---</span><br><span class="hljs-string">test_module.py::test_one PASSED                         [ 50%]---æ‰§è¡Œä¸­---test_one()</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_module.py::test_two PASSED                         [100%]---æ‰§è¡Œä¸­---test_two()</span><br><span class="hljs-string">---teardown_module: åœ¨æ‰€æœ‰ç”¨ä¾‹å‰ååªæ‰§è¡Œä¸€æ¬¡---</span><br><span class="hljs-string">============================== 2 passed in 0.14s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h2 id="4-2-å‡½æ•°çº§"><a href="#4-2-å‡½æ•°çº§" class="headerlink" title="4-2 å‡½æ•°çº§"></a>4-2 å‡½æ•°çº§</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_function.py</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">setup_function</span>():                                   <span class="hljs-comment"># å‡½æ•°çº§</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---setup_function: åœ¨æ‰€æœ‰ç”¨ä¾‹å‰åéƒ½æ‰§è¡Œä¸€æ¬¡---&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">teardown_function</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---teardown_function: åœ¨æ‰€æœ‰ç”¨ä¾‹å‰åéƒ½æ‰§è¡Œä¸€æ¬¡---&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_one</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---æ‰§è¡Œä¸­---test_one()&quot;</span>)<br>    x = <span class="hljs-string">&#x27;this&#x27;</span><br>    <span class="hljs-keyword">assert</span> <span class="hljs-string">&#x27;h&#x27;</span> <span class="hljs-keyword">in</span> x<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_two</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---æ‰§è¡Œä¸­---test_two()&quot;</span>)<br>    x = <span class="hljs-string">&#x27;hello&#x27;</span><br>    <span class="hljs-keyword">assert</span> <span class="hljs-string">&#x27;o&#x27;</span> <span class="hljs-keyword">in</span> x<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    pytest.main([<span class="hljs-string">&#x27;-s&#x27;</span>, <span class="hljs-string">&#x27;test_function.py&#x27;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 2 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">---setup_function: åœ¨æ‰€æœ‰ç”¨ä¾‹å‰åéƒ½æ‰§è¡Œä¸€æ¬¡---</span><br><span class="hljs-string">test_function.py::test_one PASSED                       [ 50%]---æ‰§è¡Œä¸­---test_one()</span><br><span class="hljs-string">---teardown_function: åœ¨æ‰€æœ‰ç”¨ä¾‹å‰åéƒ½æ‰§è¡Œä¸€æ¬¡---</span><br><span class="hljs-string"></span><br><span class="hljs-string">---setup_function: åœ¨æ‰€æœ‰ç”¨ä¾‹å‰åéƒ½æ‰§è¡Œä¸€æ¬¡---</span><br><span class="hljs-string">test_function.py::test_two PASSED                       [100%]---æ‰§è¡Œä¸­---test_two()</span><br><span class="hljs-string">---teardown_function: åœ¨æ‰€æœ‰ç”¨ä¾‹å‰åéƒ½æ‰§è¡Œä¸€æ¬¡---</span><br><span class="hljs-string">============================== 2 passed in 0.04s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h2 id="4-3-ç±»çº§åˆ«"><a href="#4-3-ç±»çº§åˆ«" class="headerlink" title="4-3 ç±»çº§åˆ«"></a>4-3 ç±»çº§åˆ«</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_class.py</span><br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestCase</span>:                                         <span class="hljs-comment"># ç±»çº§åˆ«</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">setup_class</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---setup_class: åœ¨ç±»ä¸­çš„æ‰€æœ‰ç”¨ä¾‹å‰ååªæ‰§è¡Œä¸€æ¬¡---&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">teardown_class</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---teardown_class: åœ¨ç±»ä¸­çš„æ‰€æœ‰ç”¨ä¾‹å‰ååªæ‰§è¡Œä¸€æ¬¡---&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_one</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---æ‰§è¡Œä¸­---test_one()&quot;</span>)<br>        x = <span class="hljs-string">&#x27;this&#x27;</span><br>        <span class="hljs-keyword">assert</span> <span class="hljs-string">&#x27;h&#x27;</span> <span class="hljs-keyword">in</span> x<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_two</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---æ‰§è¡Œä¸­---test_two()&quot;</span>)<br>        x = <span class="hljs-string">&#x27;hello&#x27;</span><br>        <span class="hljs-keyword">assert</span> <span class="hljs-string">&#x27;o&#x27;</span> <span class="hljs-keyword">in</span> x<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    pytest.main([<span class="hljs-string">&#x27;-s&#x27;</span>, <span class="hljs-string">&#x27;test_class.py&#x27;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 2 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">---setup_class: åœ¨ç±»ä¸­çš„æ‰€æœ‰ç”¨ä¾‹å‰ååªæ‰§è¡Œä¸€æ¬¡---</span><br><span class="hljs-string">test_class.py::TestCase::test_one PASSED                [ 50%]---æ‰§è¡Œä¸­---test_one()</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_class.py::TestCase::test_two PASSED                [100%]---æ‰§è¡Œä¸­---test_two()</span><br><span class="hljs-string">---teardown_class: åœ¨ç±»ä¸­çš„æ‰€æœ‰ç”¨ä¾‹å‰ååªæ‰§è¡Œä¸€æ¬¡---</span><br><span class="hljs-string">============================== 2 passed in 0.02s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h2 id="4-4-ç±»æ–¹æ³•çº§"><a href="#4-4-ç±»æ–¹æ³•çº§" class="headerlink" title="4-4 ç±»æ–¹æ³•çº§"></a>4-4 ç±»æ–¹æ³•çº§</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_method.py</span><br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestCase</span>:                                         <span class="hljs-comment"># ç±»æ–¹æ³•çº§</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">setup_method</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---setup_method: åœ¨ç±»ä¸­çš„æ‰€æœ‰ç”¨ä¾‹å‰åéƒ½æ‰§è¡Œä¸€æ¬¡---&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">teardown_method</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---teardown_method: åœ¨ç±»ä¸­çš„æ‰€æœ‰ç”¨ä¾‹å‰åéƒ½æ‰§è¡Œä¸€æ¬¡---&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_one</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---æ‰§è¡Œä¸­---test_one()&quot;</span>)<br>        x = <span class="hljs-string">&#x27;this&#x27;</span><br>        <span class="hljs-keyword">assert</span> <span class="hljs-string">&#x27;h&#x27;</span> <span class="hljs-keyword">in</span> x<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_two</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---æ‰§è¡Œä¸­---test_two()&quot;</span>)<br>        x = <span class="hljs-string">&#x27;hello&#x27;</span><br>        <span class="hljs-keyword">assert</span> <span class="hljs-string">&#x27;o&#x27;</span> <span class="hljs-keyword">in</span> x<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    pytest.main([<span class="hljs-string">&#x27;-s&#x27;</span>, <span class="hljs-string">&#x27;test_method.py&#x27;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 2 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">---setup_method: åœ¨ç±»ä¸­çš„æ‰€æœ‰ç”¨ä¾‹å‰åéƒ½æ‰§è¡Œä¸€æ¬¡---</span><br><span class="hljs-string">test_method.py::TestCase::test_one PASSED               [ 50%]---æ‰§è¡Œä¸­---test_one()</span><br><span class="hljs-string">---teardown_method: åœ¨ç±»ä¸­çš„æ‰€æœ‰ç”¨ä¾‹å‰åéƒ½æ‰§è¡Œä¸€æ¬¡---</span><br><span class="hljs-string"></span><br><span class="hljs-string">---setup_method: åœ¨ç±»ä¸­çš„æ‰€æœ‰ç”¨ä¾‹å‰åéƒ½æ‰§è¡Œä¸€æ¬¡---</span><br><span class="hljs-string">test_method.py::TestCase::test_two PASSED               [100%]---æ‰§è¡Œä¸­---test_two()</span><br><span class="hljs-string">---teardown_method: åœ¨ç±»ä¸­çš„æ‰€æœ‰ç”¨ä¾‹å‰åéƒ½æ‰§è¡Œä¸€æ¬¡---</span><br><span class="hljs-string">============================== 2 passed in 0.12s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h2 id="4-5-ç±»æ–¹æ³•ç»†åŒ–çº§"><a href="#4-5-ç±»æ–¹æ³•ç»†åŒ–çº§" class="headerlink" title="4-5 ç±»æ–¹æ³•ç»†åŒ–çº§"></a>4-5 ç±»æ–¹æ³•ç»†åŒ–çº§</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_fixclass.py</span><br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestCase</span>:                                         <span class="hljs-comment"># ç±»æ–¹æ³•ç»†åŒ–çº§</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">setup</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---setup: åœ¨æ¯ä¸ªç”¨ä¾‹å‰åéƒ½æ‰§è¡Œä¸€æ¬¡---&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">teardown</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---teardown: åœ¨æ¯ä¸ªç”¨ä¾‹å‰åéƒ½æ‰§è¡Œä¸€æ¬¡---&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_one</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---æ‰§è¡Œä¸­---test_one()&quot;</span>)<br>        x = <span class="hljs-string">&#x27;this&#x27;</span><br>        <span class="hljs-keyword">assert</span> <span class="hljs-string">&#x27;h&#x27;</span> <span class="hljs-keyword">in</span> x<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_two</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---æ‰§è¡Œä¸­---test_two()&quot;</span>)<br>        x = <span class="hljs-string">&#x27;hello&#x27;</span><br>        <span class="hljs-keyword">assert</span> <span class="hljs-string">&#x27;o&#x27;</span> <span class="hljs-keyword">in</span> x<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    pytest.main([<span class="hljs-string">&#x27;-s&#x27;</span>, <span class="hljs-string">&#x27;test_fixclass.py&#x27;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 2 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">---setup: åœ¨æ¯ä¸ªç”¨ä¾‹å‰åéƒ½æ‰§è¡Œä¸€æ¬¡---</span><br><span class="hljs-string">test_fixclass.py::TestCase::test_one PASSED             [ 50%]---æ‰§è¡Œä¸­---test_one()</span><br><span class="hljs-string">---teardown: åœ¨æ¯ä¸ªç”¨ä¾‹å‰åéƒ½æ‰§è¡Œä¸€æ¬¡---</span><br><span class="hljs-string"></span><br><span class="hljs-string">---setup: åœ¨æ¯ä¸ªç”¨ä¾‹å‰åéƒ½æ‰§è¡Œä¸€æ¬¡---</span><br><span class="hljs-string">test_fixclass.py::TestCase::test_two PASSED             [100%]---æ‰§è¡Œä¸­---test_two()</span><br><span class="hljs-string">---teardown: åœ¨æ¯ä¸ªç”¨ä¾‹å‰åéƒ½æ‰§è¡Œä¸€æ¬¡---</span><br><span class="hljs-string">============================== 2 passed in 0.14s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h2 id="4-6-ç±»å’Œæ–¹æ³•æ··åˆ"><a href="#4-6-ç±»å’Œæ–¹æ³•æ··åˆ" class="headerlink" title="4-6 ç±»å’Œæ–¹æ³•æ··åˆ"></a>4-6 ç±»å’Œæ–¹æ³•æ··åˆ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_mixclass.py</span><br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestCase</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">setup_class</span>(<span class="hljs-params">self</span>):                              <span class="hljs-comment"># ç±»çº§</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---setup_class: åœ¨ç±»ä¸­çš„æ‰€æœ‰ç”¨ä¾‹å‰ååªæ‰§è¡Œä¸€æ¬¡---&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">teardown_class</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---teardown_class: åœ¨ç±»ä¸­çš„æ‰€æœ‰ç”¨ä¾‹å‰ååªæ‰§è¡Œä¸€æ¬¡---&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">setup_method</span>(<span class="hljs-params">self</span>):                             <span class="hljs-comment"># æ–¹æ³•çº§</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---setup_method: åœ¨ç±»ä¸­çš„æ‰€æœ‰ç”¨ä¾‹å‰åéƒ½æ‰§è¡Œä¸€æ¬¡---&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">teardown_method</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---teardown_method: åœ¨ç±»ä¸­çš„æ‰€æœ‰ç”¨ä¾‹å‰åéƒ½æ‰§è¡Œä¸€æ¬¡---&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">setup</span>(<span class="hljs-params">self</span>):                                    <span class="hljs-comment"># ç±»æ–¹æ³•ç»†åŒ–çº§</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---setup: åœ¨æ¯ä¸ªç”¨ä¾‹å‰åéƒ½æ‰§è¡Œä¸€æ¬¡---&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">teardown</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---teardown: åœ¨æ¯ä¸ªç”¨ä¾‹å‰åéƒ½æ‰§è¡Œä¸€æ¬¡---&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_one</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---æ‰§è¡Œä¸­---test_one()&quot;</span>)<br>        x = <span class="hljs-string">&#x27;this&#x27;</span><br>        <span class="hljs-keyword">assert</span> <span class="hljs-string">&#x27;h&#x27;</span> <span class="hljs-keyword">in</span> x<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_two</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---æ‰§è¡Œä¸­---test_two()&quot;</span>)<br>        x = <span class="hljs-string">&#x27;hello&#x27;</span><br>        <span class="hljs-keyword">assert</span> <span class="hljs-string">&#x27;o&#x27;</span> <span class="hljs-keyword">in</span> x<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    pytest.main([<span class="hljs-string">&#x27;-s&#x27;</span>, <span class="hljs-string">&#x27;test_mixclass.py&#x27;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 2 items</span><br><span class="hljs-string">---setup_class: åœ¨ç±»ä¸­çš„æ‰€æœ‰ç”¨ä¾‹å‰ååªæ‰§è¡Œä¸€æ¬¡---</span><br><span class="hljs-string">---setup_method: åœ¨ç±»ä¸­çš„æ‰€æœ‰ç”¨ä¾‹å‰åéƒ½æ‰§è¡Œä¸€æ¬¡---</span><br><span class="hljs-string">---setup: åœ¨æ¯ä¸ªç”¨ä¾‹å‰åéƒ½æ‰§è¡Œä¸€æ¬¡---</span><br><span class="hljs-string">test_mixclass.py::TestCase::test_one PASSED             [ 50%]---æ‰§è¡Œä¸­---test_one()</span><br><span class="hljs-string">---teardown: åœ¨æ¯ä¸ªç”¨ä¾‹å‰åéƒ½æ‰§è¡Œä¸€æ¬¡---</span><br><span class="hljs-string">---teardown_method: åœ¨ç±»ä¸­çš„æ‰€æœ‰ç”¨ä¾‹å‰åéƒ½æ‰§è¡Œä¸€æ¬¡---</span><br><span class="hljs-string"></span><br><span class="hljs-string">---setup_method: åœ¨ç±»ä¸­çš„æ‰€æœ‰ç”¨ä¾‹å‰åéƒ½æ‰§è¡Œä¸€æ¬¡---</span><br><span class="hljs-string">---setup: åœ¨æ¯ä¸ªç”¨ä¾‹å‰åéƒ½æ‰§è¡Œä¸€æ¬¡---</span><br><span class="hljs-string">test_mixclass.py::TestCase::test_two PASSED             [100%]---æ‰§è¡Œä¸­---test_two()</span><br><span class="hljs-string">---teardown: åœ¨æ¯ä¸ªç”¨ä¾‹å‰åéƒ½æ‰§è¡Œä¸€æ¬¡---</span><br><span class="hljs-string">---teardown_method: åœ¨ç±»ä¸­çš„æ‰€æœ‰ç”¨ä¾‹å‰åéƒ½æ‰§è¡Œä¸€æ¬¡---</span><br><span class="hljs-string">---teardown_class: åœ¨ç±»ä¸­çš„æ‰€æœ‰ç”¨ä¾‹å‰ååªæ‰§è¡Œä¸€æ¬¡---</span><br><span class="hljs-string">============================== 2 passed in 0.05s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h2 id="4-7-æ¨¡å—å’Œç±»æ··åˆ"><a href="#4-7-æ¨¡å—å’Œç±»æ··åˆ" class="headerlink" title="4-7 æ¨¡å—å’Œç±»æ··åˆ"></a>4-7 æ¨¡å—å’Œç±»æ··åˆ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_mixmodule.py</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">setup_module</span>():                                     <span class="hljs-comment"># æ¨¡å—çº§</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---setup_module: åœ¨æ‰€æœ‰ç”¨ä¾‹å‰ååªæ‰§è¡Œä¸€æ¬¡---&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">teardown_module</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---teardown_module: åœ¨æ‰€æœ‰ç”¨ä¾‹å‰ååªæ‰§è¡Œä¸€æ¬¡---&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">setup_function</span>():                                   <span class="hljs-comment"># å‡½æ•°çº§</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---setup_function: åœ¨æ‰€æœ‰ç”¨ä¾‹å‰åéƒ½æ‰§è¡Œä¸€æ¬¡---&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">teardown_function</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---teardown_function: åœ¨æ‰€æœ‰ç”¨ä¾‹å‰åéƒ½æ‰§è¡Œä¸€æ¬¡---&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---æ‰§è¡Œä¸­---test_a()&quot;</span>)<br>    x = <span class="hljs-string">&#x27;this&#x27;</span><br>    <span class="hljs-keyword">assert</span> <span class="hljs-string">&#x27;h&#x27;</span> <span class="hljs-keyword">in</span> x<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---æ‰§è¡Œä¸­---test_b()&quot;</span>)<br>    x = <span class="hljs-string">&#x27;hello&#x27;</span><br>    <span class="hljs-keyword">assert</span> <span class="hljs-string">&#x27;o&#x27;</span> <span class="hljs-keyword">in</span> x<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestCase</span>:                                         <span class="hljs-comment"># ç±»çº§åˆ«</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">setup_class</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---setup_class: åœ¨ç±»ä¸­çš„æ‰€æœ‰ç”¨ä¾‹å‰ååªæ‰§è¡Œä¸€æ¬¡---&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">teardown_class</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---teardown_class: åœ¨ç±»ä¸­çš„æ‰€æœ‰ç”¨ä¾‹å‰ååªæ‰§è¡Œä¸€æ¬¡---&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_c</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---æ‰§è¡Œä¸­---test_c()&quot;</span>)<br>        x = <span class="hljs-string">&#x27;class&#x27;</span><br>        <span class="hljs-keyword">assert</span> <span class="hljs-string">&#x27;c&#x27;</span> <span class="hljs-keyword">in</span> x<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_d</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---æ‰§è¡Œä¸­---test_d()&quot;</span>)<br>        x = <span class="hljs-string">&#x27;module&#x27;</span><br>        <span class="hljs-keyword">assert</span> <span class="hljs-string">&#x27;m&#x27;</span> <span class="hljs-keyword">in</span> x<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    pytest.main([<span class="hljs-string">&#x27;-s&#x27;</span>, <span class="hljs-string">&#x27;test_mixmodule.py&#x27;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;               ï¼ï¼ï¼æ³¨æ„ï¼šæ¨¡å—çº§ä¼˜å…ˆæƒæœ€å¤§ï¼Œå‡½æ•°çº§å’Œç±»çº§åˆ«äº’ä¸å¹²æ¶‰ã€‚               </span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 4 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">---setup_module: åœ¨æ‰€æœ‰ç”¨ä¾‹å‰ååªæ‰§è¡Œä¸€æ¬¡---</span><br><span class="hljs-string">---setup_function: åœ¨æ‰€æœ‰ç”¨ä¾‹å‰åéƒ½æ‰§è¡Œä¸€æ¬¡---</span><br><span class="hljs-string">test_mixmodule.py::test_a PASSED                        [ 25%]---æ‰§è¡Œä¸­---test_a()</span><br><span class="hljs-string">---teardown_function: åœ¨æ‰€æœ‰ç”¨ä¾‹å‰åéƒ½æ‰§è¡Œä¸€æ¬¡---</span><br><span class="hljs-string"></span><br><span class="hljs-string">---setup_function: åœ¨æ‰€æœ‰ç”¨ä¾‹å‰åéƒ½æ‰§è¡Œä¸€æ¬¡---</span><br><span class="hljs-string">test_mixmodule.py::test_b PASSED                        [ 50%]---æ‰§è¡Œä¸­---test_b()</span><br><span class="hljs-string">---teardown_function: åœ¨æ‰€æœ‰ç”¨ä¾‹å‰åéƒ½æ‰§è¡Œä¸€æ¬¡---</span><br><span class="hljs-string"></span><br><span class="hljs-string">---setup_class: åœ¨ç±»ä¸­çš„æ‰€æœ‰ç”¨ä¾‹å‰ååªæ‰§è¡Œä¸€æ¬¡---</span><br><span class="hljs-string">test_mixmodule.py::TestCase::test_c PASSED              [ 75%]---æ‰§è¡Œä¸­---test_c()</span><br><span class="hljs-string">test_mixmodule.py::TestCase::test_d PASSED              [100%]---æ‰§è¡Œä¸­---test_d()</span><br><span class="hljs-string">---teardown_class: åœ¨ç±»ä¸­çš„æ‰€æœ‰ç”¨ä¾‹å‰ååªæ‰§è¡Œä¸€æ¬¡---</span><br><span class="hljs-string"></span><br><span class="hljs-string">---teardown_module: åœ¨æ‰€æœ‰ç”¨ä¾‹å‰ååªæ‰§è¡Œä¸€æ¬¡---</span><br><span class="hljs-string">============================== 4 passed in 0.14s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h1 id="5-fixtureé¢„ç½®æ¡ä»¶"><a href="#5-fixtureé¢„ç½®æ¡ä»¶" class="headerlink" title="5 fixtureé¢„ç½®æ¡ä»¶"></a>5 fixtureé¢„ç½®æ¡ä»¶</h1><ul><li>fixtureé¢„ç½®æ¡ä»¶<ul><li>ç›¸æ¯”ç”¨ä¾‹è¿è¡Œçº§åˆ«çš„setupå’Œteardownï¼Œfixtureçš„å‘½åæ–¹å¼æ›´ä¸ºçµæ´»ã€‚</li><li><code>@pytest.fixture(scope=&quot;function&quot;, params=&quot;None&quot;, autouse=False, ids=None, name=None)</code><ul><li>scopeï¼šç±»ä¼¼äºä½œç”¨åŸŸï¼Œé»˜è®¤functionï¼Œè¿˜å¯ä»¥æ˜¯classã€moduleã€sessionã€packageã€‚</li><li>autouseï¼šé»˜è®¤ä¸ºFalseï¼Œç”¨ä¾‹æ‰‹åŠ¨è°ƒç”¨è¯¥fixtureï¼Œè‹¥ä¸ºTrueåˆ™ä½œç”¨åŸŸå†…çš„ç”¨ä¾‹è‡ªåŠ¨è°ƒç”¨ã€‚</li><li>nameï¼šé»˜è®¤çš„è£…é¥°å™¨åç§°ï¼ŒåŒä¸€æ¨¡å—çš„fixtureç›¸äº’è°ƒç”¨æ—¶å¯ä»¥ä½¿ç”¨ä¸åŒçš„nameè¿›è¡Œå‘½åã€‚</li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_fixture.py</span><br><br><br><span class="hljs-meta">@pytest.fixture()                                       </span><span class="hljs-comment"># ä¸å¸¦å‚æ•°æ—¶é»˜è®¤scope=&quot;function&quot;</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">login</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;è¯·è¾“å…¥è´¦å·å’Œå¯†ç è¿›è¡Œç™»å½•&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>(<span class="hljs-params">login</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case a---&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>():                                           <span class="hljs-comment"># ä¸ä¼ å‚login</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case b---&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_c</span>(<span class="hljs-params">login</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case c---&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    pytest.main([<span class="hljs-string">&#x27;-s&#x27;</span>, <span class="hljs-string">&#x27;test_fixture.py&#x27;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;      ï¼ï¼ï¼å®ç°åœºæ™¯ï¼šç”¨ä¾‹aéœ€è¦ç™»å½•ï¼Œç”¨ä¾‹bä¸éœ€è¦ç™»å½•ï¼Œç”¨ä¾‹céœ€è¦ç™»å½•ã€‚         </span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 3 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_fixture.py::test_a è¯·è¾“å…¥è´¦å·å’Œå¯†ç è¿›è¡Œç™»å½•</span><br><span class="hljs-string">PASSED                                                  [ 33%]---use case a---</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_fixture.py::test_b </span><br><span class="hljs-string">PASSED                                                  [ 66%]---use case b---</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_fixture.py::test_c è¯·è¾“å…¥è´¦å·å’Œå¯†ç è¿›è¡Œç™»å½•</span><br><span class="hljs-string">PASSED                                                  [100%]---use case c---</span><br><span class="hljs-string">============================== 3 passed in 0.04s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h2 id="5-1-conftest-py"><a href="#5-1-conftest-py" class="headerlink" title="5-1 conftest.py"></a>5-1 conftest.py</h2><ul><li>conftest.py<ul><li>é…ç½®æ–‡ä»¶é‡Œå¯ä»¥å®ç°æ•°æ®å…±äº«(å¤šä¸ª<code>.py</code>æ–‡ä»¶çš„é¢„ç½®æ“ä½œ)ï¼Œä¸ç”¨importï¼ŒPyTestå°±èƒ½è‡ªåŠ¨æŸ¥æ‰¾é…ç½®ã€‚</li><li>æ³¨æ„ï¼š<code>conftest.py</code>é…ç½®è„šæœ¬åç§°å›ºå®šï¼Œä¸è¿è¡Œçš„ç”¨ä¾‹è¦åœ¨åŒä¸ªpackageä¸‹ä¸”æœ‰<code>__init__.py</code>æ–‡ä»¶ã€‚</li></ul></li></ul><h4 id="1-conftest-py"><a href="#1-conftest-py" class="headerlink" title="(1) conftest.py"></a>(1) conftest.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                            <span class="hljs-comment"># conftest.py</span><br><br><br><span class="hljs-meta">@pytest.fixture()</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">login</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;è¯·è¾“å…¥è´¦å·å’Œå¯†ç è¿›è¡Œç™»å½•&quot;</span>)<br></code></pre></td></tr></table></figure><h4 id="2-test-conftest-py"><a href="#2-test-conftest-py" class="headerlink" title="(2) test_conftest.py"></a>(2) test_conftest.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_conftest.py</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>(<span class="hljs-params">login</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case a---&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>():                                           <span class="hljs-comment"># ä¸ä¼ å‚login</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case b---&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_c</span>(<span class="hljs-params">login</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case c---&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    pytest.main([<span class="hljs-string">&#x27;-s&#x27;</span>, <span class="hljs-string">&#x27;test_conftest.py&#x27;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot; ï¼å•ç‹¬è¿è¡Œtest_conftest.pyæ—¶å¯ä»¥è°ƒç”¨åˆ°conftest.pyé…ç½®æ–‡ä»¶ä¸­çš„login()æ–¹æ³•ã€‚</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 3 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_conftest.py::test_a è¯·è¾“å…¥è´¦å·å’Œå¯†ç è¿›è¡Œç™»å½•</span><br><span class="hljs-string">PASSED                                                  [ 33%]---use case a---</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_conftest.py::test_b </span><br><span class="hljs-string">PASSED                                                  [ 66%]---use case b---</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_conftest.py::test_c è¯·è¾“å…¥è´¦å·å’Œå¯†ç è¿›è¡Œç™»å½•</span><br><span class="hljs-string">PASSED                                                  [100%]---use case c---</span><br><span class="hljs-string">============================== 3 passed in 0.14s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h2 id="5-2-scopeå®ç°setup"><a href="#5-2-scopeå®ç°setup" class="headerlink" title="5-2 scopeå®ç°setup"></a>5-2 scopeå®ç°setup</h2><ul><li>scopeå®ç°setup<ul><li>fixtureçš„å‚æ•°<code>scope=&quot;module&quot;</code>å¯ä»¥å®ç°å¤šä¸ª<code>.py</code>è·¨æ–‡ä»¶å…±äº«å‰ç½®ã€‚</li><li>moduleä½œç”¨äºæ•´ä¸ª<code>.py</code>æ–‡ä»¶ï¼Œç”¨ä¾‹è°ƒç”¨æ—¶ï¼Œå‚æ•°å†™ä¸Šå‡½æ•°åç§°å³å¯ã€‚</li><li><code>scope=&quot;module&quot;</code>å¯ä»¥ç†è§£ä¸ºåœ¨æµ‹è¯•ç”¨ä¾‹ä¸­åŠ ä¸Šå‰ç½®æ¡ä»¶ï¼Œç±»ä¼¼setupã€‚</li></ul></li></ul><h4 id="1-ç”¨ä¾‹å…¨å±€è°ƒç”¨"><a href="#1-ç”¨ä¾‹å…¨å±€è°ƒç”¨" class="headerlink" title="(1) ç”¨ä¾‹å…¨å±€è°ƒç”¨"></a>(1) ç”¨ä¾‹å…¨å±€è°ƒç”¨</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_scope_whole.py</span><br><br><br><span class="hljs-meta">@pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&quot;module&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">open</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ‰“å¼€æµè§ˆå™¨å¹¶æ‰“å¼€ç™¾åº¦é¦–é¡µ&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>(<span class="hljs-params"><span class="hljs-built_in">open</span></span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---test case a: æœç´¢ pytest---&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>(<span class="hljs-params"><span class="hljs-built_in">open</span></span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---test case b: æœç´¢ pytest---&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_c</span>(<span class="hljs-params"><span class="hljs-built_in">open</span></span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---test case c: æœç´¢ pytest---&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    pytest.main([<span class="hljs-string">&#x27;-s&#x27;</span>, <span class="hljs-string">&#x27;test_scope_whole.py&#x27;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;           ï¼ï¼ï¼ä¸‰ä¸ªç”¨ä¾‹éƒ½è°ƒç”¨äº†openå‡½æ•°ï¼Œä½†åªåœ¨ç”¨ä¾‹aå¤„æ‰§è¡Œä¸€æ¬¡ã€‚</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 3 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_scope_whole.py::test_a æ‰“å¼€æµè§ˆå™¨å¹¶æ‰“å¼€ç™¾åº¦é¦–é¡µ</span><br><span class="hljs-string">PASSED                                                  [ 33%]---test case a: æœç´¢ pytest---</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_scope_whole.py::test_b </span><br><span class="hljs-string">PASSED                                                  [ 66%]---test case b: æœç´¢ pytest---</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_scope_whole.py::test_c </span><br><span class="hljs-string">PASSED                                                  [100%]---test case c: æœç´¢ pytest---</span><br><span class="hljs-string">============================== 3 passed in 0.04s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h4 id="2-éƒ¨åˆ†ç”¨ä¾‹è°ƒç”¨"><a href="#2-éƒ¨åˆ†ç”¨ä¾‹è°ƒç”¨" class="headerlink" title="(2) éƒ¨åˆ†ç”¨ä¾‹è°ƒç”¨"></a>(2) éƒ¨åˆ†ç”¨ä¾‹è°ƒç”¨</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_scope_part.py</span><br><br><br><span class="hljs-meta">@pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&quot;module&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">open</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ‰“å¼€æµè§ˆå™¨å¹¶æ‰“å¼€ç™¾åº¦é¦–é¡µ&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---test case a: æœç´¢ pytest---&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>(<span class="hljs-params"><span class="hljs-built_in">open</span></span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---test case b: æœç´¢ pytest---&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_c</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---test case c: æœç´¢ pytest---&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    pytest.main([<span class="hljs-string">&#x27;-s&#x27;</span>, <span class="hljs-string">&#x27;test_scope_part.py&#x27;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;     ï¼ï¼ï¼ç”¨ä¾‹aå’Œç”¨ä¾‹cä¸è°ƒç”¨openå‡½æ•°ï¼Œç”¨ä¾‹bè°ƒç”¨ï¼Œåªåœ¨ç”¨ä¾‹bå¤„æ‰§è¡Œä¸€æ¬¡ã€‚</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 3 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_scope_part.py::test_a </span><br><span class="hljs-string">PASSED                                                  [ 33%]---test case a: æœç´¢ pytest---</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_scope_part.py::test_b æ‰“å¼€æµè§ˆå™¨å¹¶æ‰“å¼€ç™¾åº¦é¦–é¡µ</span><br><span class="hljs-string">PASSED                                                  [ 66%]---test case b: æœç´¢ pytest---</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_scope_part.py::test_c </span><br><span class="hljs-string">PASSED                                                  [100%]---test case c: æœç´¢ pytest---</span><br><span class="hljs-string">============================== 3 passed in 0.14s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h2 id="5-3-yieldå®ç°teardown"><a href="#5-3-yieldå®ç°teardown" class="headerlink" title="5-3 yieldå®ç°teardown"></a>5-3 yieldå®ç°teardown</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_yield.py</span><br><br><br><span class="hljs-meta">@pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&quot;module&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">open</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ‰“å¼€æµè§ˆå™¨å¹¶æ‰“å¼€ç™¾åº¦é¦–é¡µ&quot;</span>)<br><br>    <span class="hljs-keyword">yield</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ‰§è¡Œteardown&quot;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å…³é—­æµè§ˆå™¨&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>(<span class="hljs-params"><span class="hljs-built_in">open</span></span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---test case a: æœç´¢ pytest---&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>(<span class="hljs-params"><span class="hljs-built_in">open</span></span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---test case b: æœç´¢ pytest---&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_c</span>(<span class="hljs-params"><span class="hljs-built_in">open</span></span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---test case c: æœç´¢ pytest---&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    pytest.main([<span class="hljs-string">&#x27;-s&#x27;</span>, <span class="hljs-string">&#x27;test_yield.py&#x27;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 3 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_yield.py::test_a æ‰“å¼€æµè§ˆå™¨å¹¶æ‰“å¼€ç™¾åº¦é¦–é¡µ</span><br><span class="hljs-string">PASSED                                                  [ 33%]---test case a: æœç´¢ pytest---</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_yield.py::test_b </span><br><span class="hljs-string">PASSED                                                  [ 66%]---test case b: æœç´¢ pytest---</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_yield.py::test_c </span><br><span class="hljs-string">PASSED                                                  [100%]---test case c: æœç´¢ pytest---</span><br><span class="hljs-string">æ‰§è¡Œteardown</span><br><span class="hljs-string">å…³é—­æµè§ˆå™¨</span><br><span class="hljs-string">============================== 3 passed in 0.05s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h4 id="1-ç”¨ä¾‹å¼‚å¸¸"><a href="#1-ç”¨ä¾‹å¼‚å¸¸" class="headerlink" title="(1) ç”¨ä¾‹å¼‚å¸¸"></a>(1) ç”¨ä¾‹å¼‚å¸¸</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_use_case_exception.py</span><br><br><br><span class="hljs-meta">@pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&quot;module&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">open</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ‰“å¼€æµè§ˆå™¨å¹¶æ‰“å¼€ç™¾åº¦é¦–é¡µ&quot;</span>)<br><br>    <span class="hljs-keyword">yield</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ‰§è¡Œteardown&quot;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å…³é—­æµè§ˆå™¨&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>(<span class="hljs-params"><span class="hljs-built_in">open</span></span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---test case a: æœç´¢ pytest---&quot;</span>)<br>    <span class="hljs-keyword">raise</span> NameError                                     <span class="hljs-comment"># æ¨¡æ‹Ÿå¼‚å¸¸ï¼Œä¸å½±å“å…¶ä»–ç”¨ä¾‹æ‰§è¡Œ</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>(<span class="hljs-params"><span class="hljs-built_in">open</span></span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---test case b: æœç´¢ pytest---&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_c</span>(<span class="hljs-params"><span class="hljs-built_in">open</span></span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---test case c: æœç´¢ pytest---&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    pytest.main([<span class="hljs-string">&#x27;-s&#x27;</span>, <span class="hljs-string">&#x27;test_use_case_exception.py&#x27;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;              ï¼ï¼ï¼ç”¨ä¾‹å¼‚å¸¸æ—¶ï¼Œä¸å½±å“yieldå®ç°teardownçš„æ‰§è¡Œã€‚</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 3 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_use_case_exception.py::test_a æ‰“å¼€æµè§ˆå™¨å¹¶æ‰“å¼€ç™¾åº¦é¦–é¡µ</span><br><span class="hljs-string">FAILED                                                  [ 33%]---test case a: æœç´¢ pytest---</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_use_case_exception.py:12 (test_a)</span><br><span class="hljs-string">open = None</span><br><span class="hljs-string"></span><br><span class="hljs-string">    def test_a(open):</span><br><span class="hljs-string">        print(&quot;---test case a: æœç´¢ pytest---&quot;)</span><br><span class="hljs-string">&gt;       raise NameError                                 # æ¨¡æ‹Ÿå¼‚å¸¸ï¼Œä¸å½±å“å…¶ä»–ç”¨ä¾‹æ‰§è¡Œ</span><br><span class="hljs-string">E       NameError</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_use_case_exception.py:15: NameError</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_use_case_exception.py::test_b </span><br><span class="hljs-string">PASSED                                                  [ 66%]---test case b: æœç´¢ pytest---</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_use_case_exception.py::test_c </span><br><span class="hljs-string">PASSED                                                  [100%]---test case c: æœç´¢ pytest---</span><br><span class="hljs-string">æ‰§è¡Œteardown</span><br><span class="hljs-string">å…³é—­æµè§ˆå™¨</span><br><span class="hljs-string">========================= 1 failed, 2 passed in 0.45s =========================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h4 id="2-setupå¼‚å¸¸"><a href="#2-setupå¼‚å¸¸" class="headerlink" title="(2) setupå¼‚å¸¸"></a>(2) setupå¼‚å¸¸</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_setup_exception.py</span><br><br><br><span class="hljs-meta">@pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&quot;module&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">open</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ‰“å¼€æµè§ˆå™¨å¹¶æ‰“å¼€ç™¾åº¦é¦–é¡µ&quot;</span>)<br>    <span class="hljs-keyword">raise</span> NameError                                     <span class="hljs-comment"># æ¨¡æ‹Ÿsetupå¼‚å¸¸</span><br><br>    <span class="hljs-keyword">yield</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ‰§è¡Œteardown&quot;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å…³é—­æµè§ˆå™¨&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>(<span class="hljs-params"><span class="hljs-built_in">open</span></span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---test case a: æœç´¢ pytest---&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>(<span class="hljs-params"><span class="hljs-built_in">open</span></span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---test case b: æœç´¢ pytest---&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_c</span>(<span class="hljs-params"><span class="hljs-built_in">open</span></span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---test case c: æœç´¢ pytest---&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    pytest.main([<span class="hljs-string">&#x27;-s&#x27;</span>, <span class="hljs-string">&#x27;test_setup_exception.py&#x27;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 3 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_setup_exception.py::test_a </span><br><span class="hljs-string">ERROR                                                   [ 33%]æ‰“å¼€æµè§ˆå™¨å¹¶æ‰“å¼€ç™¾åº¦é¦–é¡µ</span><br><span class="hljs-string"></span><br><span class="hljs-string">test setup failed</span><br><span class="hljs-string">@pytest.fixture(scope=&quot;module&quot;)</span><br><span class="hljs-string">    def open():</span><br><span class="hljs-string">        print(&quot;æ‰“å¼€æµè§ˆå™¨å¹¶æ‰“å¼€ç™¾åº¦é¦–é¡µ&quot;)</span><br><span class="hljs-string">&gt;       raise NameError                                 # æ¨¡æ‹Ÿsetupå¼‚å¸¸</span><br><span class="hljs-string">E       NameError</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_setup_exception.py:7: NameError</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_setup_exception.py::test_b </span><br><span class="hljs-string">ERROR                                                   [ 66%]</span><br><span class="hljs-string">test setup failed</span><br><span class="hljs-string">@pytest.fixture(scope=&quot;module&quot;)</span><br><span class="hljs-string">    def open():</span><br><span class="hljs-string">        print(&quot;æ‰“å¼€æµè§ˆå™¨å¹¶æ‰“å¼€ç™¾åº¦é¦–é¡µ&quot;)</span><br><span class="hljs-string">&gt;       raise NameError                                 # æ¨¡æ‹Ÿsetupå¼‚å¸¸</span><br><span class="hljs-string">E       NameError</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_setup_exception.py:7: NameError</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_setup_exception.py::test_c </span><br><span class="hljs-string">ERROR                                                   [100%]</span><br><span class="hljs-string">test setup failed</span><br><span class="hljs-string">@pytest.fixture(scope=&quot;module&quot;)</span><br><span class="hljs-string">    def open():</span><br><span class="hljs-string">        print(&quot;æ‰“å¼€æµè§ˆå™¨å¹¶æ‰“å¼€ç™¾åº¦é¦–é¡µ&quot;)</span><br><span class="hljs-string">&gt;       raise NameError                                 # æ¨¡æ‹Ÿsetupå¼‚å¸¸</span><br><span class="hljs-string">E       NameError</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_setup_exception.py:7: NameError</span><br><span class="hljs-string">============================== 3 errors in 0.37s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h4 id="3-é…åˆwithä½¿ç”¨"><a href="#3-é…åˆwithä½¿ç”¨" class="headerlink" title="(3) é…åˆwithä½¿ç”¨*"></a>(3) é…åˆwithä½¿ç”¨*</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                            <span class="hljs-comment"># test_with.py</span><br><span class="hljs-keyword">import</span> smtplib<br><br><br><span class="hljs-meta">@pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&quot;module&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">smtp</span>():<br>    <span class="hljs-keyword">with</span> smtplib.SMTP(<span class="hljs-string">&quot;smtp.gmail.com&quot;</span>, <span class="hljs-number">587</span>, timeout=<span class="hljs-number">5</span>) <span class="hljs-keyword">as</span> smtp:<br>        <span class="hljs-keyword">yield</span> smtp                                       <span class="hljs-comment"># smtpå¯¹è±¡è‡ªåŠ¨å…³é—­æ—¶ï¼Œwithè¯­å¥ç»“æŸ</span><br></code></pre></td></tr></table></figure><h2 id="5-4-addfinalizerç»ˆç»“å‡½æ•°"><a href="#5-4-addfinalizerç»ˆç»“å‡½æ•°" class="headerlink" title="5-4 addfinalizerç»ˆç»“å‡½æ•°"></a>5-4 addfinalizerç»ˆç»“å‡½æ•°</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_addfinalizer.py</span><br><br><br><span class="hljs-meta">@pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&quot;module&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_addfinalizer</span>(<span class="hljs-params">request</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ‰“å¼€æµè§ˆå™¨&quot;</span>)<br>    test = <span class="hljs-string">&quot;test_addfinalizer&quot;</span>                          <span class="hljs-comment"># å‰ç½®æ“ä½œsetup</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">fin</span>():                                          <span class="hljs-comment"># åç½®æ“ä½œteardown</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å…³é—­æµè§ˆå™¨&quot;</span>)<br><br>    request.addfinalizer(fin)<br>    <span class="hljs-keyword">return</span> test                                         <span class="hljs-comment"># è¿”å›å‰ç½®æ“ä½œçš„å˜é‡</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_case</span>(<span class="hljs-params">test_addfinalizer</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---test cases---&quot;</span>, test_addfinalizer)<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 1 item</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_addfinalizer.py::test_case æ‰“å¼€æµè§ˆå™¨</span><br><span class="hljs-string">PASSED                                                  [100%]---test cases--- test_addfinalizer</span><br><span class="hljs-string">å…³é—­æµè§ˆå™¨</span><br><span class="hljs-string">============================== 1 passed in 0.04s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h2 id="5-5-è°ƒç”¨fixtureçš„3ç§æ–¹æ³•"><a href="#5-5-è°ƒç”¨fixtureçš„3ç§æ–¹æ³•" class="headerlink" title="5-5 è°ƒç”¨fixtureçš„3ç§æ–¹æ³•"></a>5-5 è°ƒç”¨fixtureçš„3ç§æ–¹æ³•</h2><ul><li>è°ƒç”¨fixtureçš„3ç§æ–¹æ³•<ul><li>å‡½æ•°æˆ–ç±»çš„æ–¹æ³•ä¸­ä¼ fixtureçš„å‡½æ•°å‚æ•°åç§°ã€‚</li><li>ç”¨è£…é¥°å™¨<code>@pytest.mark.usefixtures()</code>ä¿®é¥°ã€‚</li><li>è®¾ç½®fixtureçš„å‚æ•°ä¸º<code>autouse=True</code>æ¥è‡ªåŠ¨ä½¿ç”¨ã€‚</li></ul></li></ul><h4 id="1-ç”¨ä¾‹fixtureä¼ å‚"><a href="#1-ç”¨ä¾‹fixtureä¼ å‚" class="headerlink" title="(1) ç”¨ä¾‹fixtureä¼ å‚"></a>(1) ç”¨ä¾‹fixtureä¼ å‚</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_calling_in_parameter.py</span><br><br><br><span class="hljs-meta">@pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&quot;function&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">start</span>(<span class="hljs-params">request</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---å¼€å§‹æ‰§è¡Œå‡½æ•°---&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>(<span class="hljs-params">start</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case a---&quot;</span>)<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestCase</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>(<span class="hljs-params">self, start</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case b---&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_c</span>(<span class="hljs-params">self, start</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case c---&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    pytest.main([<span class="hljs-string">&#x27;-s&#x27;</span>, <span class="hljs-string">&#x27;test_calling_in_parameter.py&#x27;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 3 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_calling_in_parameter.py::test_a ---å¼€å§‹æ‰§è¡Œå‡½æ•°---</span><br><span class="hljs-string">PASSED                                                  [ 33%]---use case a---</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_calling_in_parameter.py::TestCase::test_b ---å¼€å§‹æ‰§è¡Œå‡½æ•°---</span><br><span class="hljs-string">PASSED                                                  [ 66%]---use case b---</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_calling_in_parameter.py::TestCase::test_c ---å¼€å§‹æ‰§è¡Œå‡½æ•°---</span><br><span class="hljs-string">PASSED                                                  [100%]---use case c---</span><br><span class="hljs-string">============================== 3 passed in 0.06s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h4 id="2-è£…é¥°å™¨usefixtures"><a href="#2-è£…é¥°å™¨usefixtures" class="headerlink" title="(2) è£…é¥°å™¨usefixtures"></a>(2) è£…é¥°å™¨usefixtures</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_calling_usefixtures.py</span><br><br><br><span class="hljs-meta">@pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&quot;function&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">start</span>(<span class="hljs-params">request</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---å¼€å§‹æ‰§è¡Œå‡½æ•°---&quot;</span>)<br><br><br><span class="hljs-meta">@pytest.mark.usefixtures(<span class="hljs-params"><span class="hljs-string">&quot;start&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>(<span class="hljs-params">start</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case a---&quot;</span>)<br><br><br><span class="hljs-meta">@pytest.mark.usefixtures(<span class="hljs-params"><span class="hljs-string">&quot;start&quot;</span></span>)</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestCase</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>(<span class="hljs-params">self, start</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case b---&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_c</span>(<span class="hljs-params">self, start</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case c---&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    pytest.main([<span class="hljs-string">&#x27;-s&#x27;</span>, <span class="hljs-string">&#x27;test_calling_usefixtures.py&#x27;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 3 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_calling_usefixtures.py::test_a ---å¼€å§‹æ‰§è¡Œå‡½æ•°---</span><br><span class="hljs-string">PASSED                                                  [ 33%]---use case a---</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_calling_usefixtures.py::TestCase::test_b ---å¼€å§‹æ‰§è¡Œå‡½æ•°---</span><br><span class="hljs-string">PASSED                                                  [ 66%]---use case b---</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_calling_usefixtures.py::TestCase::test_c ---å¼€å§‹æ‰§è¡Œå‡½æ•°---</span><br><span class="hljs-string">PASSED                                                  [100%]---use case c---</span><br><span class="hljs-string">============================== 3 passed in 0.10s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h4 id="3-è®¾ç½®autouse-x3D-True"><a href="#3-è®¾ç½®autouse-x3D-True" class="headerlink" title="(3) è®¾ç½®autouse&#x3D;True"></a>(3) è®¾ç½®autouse&#x3D;True</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_calling_function.py</span><br><br><br><span class="hljs-meta">@pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&quot;module&quot;</span>, autouse=<span class="hljs-literal">True</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">start</span>(<span class="hljs-params">request</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\n---å¼€å§‹æ‰§è¡Œæ¨¡å—---&quot;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;module: %s&quot;</span> % request.module.__name__)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---æ‰“å¼€æµè§ˆå™¨---&quot;</span>)<br><br>    <span class="hljs-keyword">yield</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---ç»“æŸæµ‹è¯•---&quot;</span>)<br><br><br><span class="hljs-meta">@pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&quot;function&quot;</span>, autouse=<span class="hljs-literal">True</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">open_home</span>(<span class="hljs-params">request</span>):                                 <span class="hljs-comment"># å‡½æ•°å®ç°</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;function: %s \n---è¿”å›é¦–é¡µ---&quot;</span> % request.function.__name__)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case a---&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case b---&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    pytest.main([<span class="hljs-string">&#x27;-s&#x27;</span>, <span class="hljs-string">&#x27;test_calling_function.py&#x27;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 2 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_calling_function.py::test_a </span><br><span class="hljs-string">---å¼€å§‹æ‰§è¡Œæ¨¡å—---</span><br><span class="hljs-string">module: test_calling_function</span><br><span class="hljs-string">---æ‰“å¼€æµè§ˆå™¨---</span><br><span class="hljs-string">function: test_a </span><br><span class="hljs-string">---è¿”å›é¦–é¡µ---</span><br><span class="hljs-string">PASSED                                                  [ 50%]---use case a---</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_calling_function.py::test_b function: test_b </span><br><span class="hljs-string">---è¿”å›é¦–é¡µ---</span><br><span class="hljs-string">PASSED                                                  [100%]---use case b---</span><br><span class="hljs-string">---ç»“æŸæµ‹è¯•---</span><br><span class="hljs-string">============================== 2 passed in 0.06s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><ul><li>è®¾ç½®autouse&#x3D;True<ul><li>startè®¾ç½®scopeä¸ºmoduleçº§åˆ«ï¼Œåœ¨å½“å‰ç”¨ä¾‹æ¨¡å—ä¸­åªæ‰§è¡Œä¸€æ¬¡ï¼Œ<code>autouse=True</code>è‡ªåŠ¨ä½¿ç”¨ã€‚</li><li>open_homeè®¾ç½®scopeä¸ºfunctionçº§åˆ«ï¼Œæ¯ä¸ªç”¨ä¾‹å‰éƒ½è°ƒç”¨ä¸€æ¬¡ï¼Œ<code>autouse=True</code>è‡ªåŠ¨ä½¿ç”¨ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_calling_class.py</span><br><br><br><span class="hljs-meta">@pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&quot;module&quot;</span>, autouse=<span class="hljs-literal">True</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">start</span>(<span class="hljs-params">request</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\n---å¼€å§‹æ‰§è¡Œæ¨¡å—---&quot;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;module: %s&quot;</span> % request.module.__name__)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---æ‰“å¼€æµè§ˆå™¨---&quot;</span>)<br><br>    <span class="hljs-keyword">yield</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---ç»“æŸæµ‹è¯•---&quot;</span>)<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestCase</span>:<br><span class="hljs-meta">    @pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&quot;function&quot;</span>, autouse=<span class="hljs-literal">True</span></span>)</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">open_home</span>(<span class="hljs-params">self, request</span>):                       <span class="hljs-comment"># ç±»å®ç°</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;function: %s \n---è¿”å›é¦–é¡µ---&quot;</span> % request.function.__name__)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case a---&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case b---&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    pytest.main([<span class="hljs-string">&#x27;-s&#x27;</span>, <span class="hljs-string">&#x27;test_calling_class.py&#x27;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 2 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_calling_class.py::TestCase::test_a </span><br><span class="hljs-string">---å¼€å§‹æ‰§è¡Œæ¨¡å—---</span><br><span class="hljs-string">module: test_calling_class</span><br><span class="hljs-string">---æ‰“å¼€æµè§ˆå™¨---</span><br><span class="hljs-string">function: test_a </span><br><span class="hljs-string">---è¿”å›é¦–é¡µ---</span><br><span class="hljs-string">PASSED                                                  [ 50%]---use case a---</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_calling_class.py::TestCase::test_b function: test_b </span><br><span class="hljs-string">---è¿”å›é¦–é¡µ---</span><br><span class="hljs-string">PASSED                                                  [100%]---use case b---</span><br><span class="hljs-string">---ç»“æŸæµ‹è¯•---</span><br><span class="hljs-string">============================== 2 passed in 0.04s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h1 id="6-è‡ªå®šä¹‰æ ‡è®°mark"><a href="#6-è‡ªå®šä¹‰æ ‡è®°mark" class="headerlink" title="6 è‡ªå®šä¹‰æ ‡è®°mark"></a>6 è‡ªå®šä¹‰æ ‡è®°mark</h1><ul><li>è‡ªå®šä¹‰æ ‡è®°mark<ul><li>è‡ªå®šä¹‰æ ‡è®°å¯ä»¥å°†ä¸€ä¸ªWebé¡¹ç›®åˆ’åˆ†ä¸ºå¤šä¸ªæ¨¡å—ï¼Œç„¶åæŒ‡å®šæ¨¡å—åç§°è¿›è¡Œæ‰§è¡Œã€‚</li><li>APPè‡ªåŠ¨åŒ–æ—¶ï¼Œè‹¥æƒ³è®©Androidä¸IOSå…±ç”¨ä¸€å¥—ä»£ç ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ ‡è®°æŒ‡å®šåç§°ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_mark.py</span><br><br><br><span class="hljs-meta">@pytest.mark.a</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>():                                           <span class="hljs-comment"># æ ‡è®°test_a()ä¸ºa</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case a---&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case b---&quot;</span>)<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestCase</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_c</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case c---&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    pytest.main([<span class="hljs-string">&#x27;-s&#x27;</span>, <span class="hljs-string">&#x27;test_mark.py&#x27;</span>, <span class="hljs-string">&#x27;-m=a&#x27;</span>])<br><br><span class="hljs-comment"># pytest -v -m a test_mark.py</span><br><span class="hljs-string">&quot;&quot;&quot; ï¼æ­¤æ—¶aæ ‡ç­¾ä¸ºæœªè¯†åˆ«æ ‡ç­¾ï¼Œæ²¡æ³¨å†Œç›´æ¥ä½¿ç”¨å°†å¼¹å‡ºè­¦å‘Šä¿¡æ¯ï¼Œä¸æ³¨å†Œä»å¯æŒ‘é€‰ç”¨ä¾‹ã€‚</span><br><span class="hljs-string">=========================== test session starts ===============================</span><br><span class="hljs-string">...</span><br><span class="hljs-string">collected 3 items / 2 deselected / 1 selected</span><br><span class="hljs-string">test_mark.py::test_a PASSED                             [100%]</span><br><span class="hljs-string">============================ warnings summary =================================</span><br><span class="hljs-string">...DeprecationWarning: Using or importing the ABCs from &#x27;collections&#x27; instead of from </span><br><span class="hljs-string">&#x27;collections.abc&#x27; is deprecated since Python 3.3, and in 3.10 it will stop working</span><br><span class="hljs-string">    return isinstance(x, collections.Callable)</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_mark.py:4</span><br><span class="hljs-string">  ...\test_mark.py:4: PytestUnknownMarkWarning: Unknown pytest.mark.a - is this a typo?</span><br><span class="hljs-string">  You can register custom marks to avoid this warning - for details, </span><br><span class="hljs-string">  see https://docs.pytest.org/en/stable/mark.html</span><br><span class="hljs-string">    @pytest.mark.a</span><br><span class="hljs-string"></span><br><span class="hljs-string">-- Docs: https://docs.pytest.org/en/stable/warnings.html</span><br><span class="hljs-string">================ 1 passed, 2 deselected, 1 warnings in 0.04s ==================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><ul><li><a href="https://stitch-top.github.io/2023/03/03/ce-shi-kuang-jia/tf02-pytest-ce-shi-kuang-jia/#1-1-%E7%94%A8%E4%BE%8B%E6%89%A7%E8%A1%8C%E8%A7%84%E5%88%99">ç”¨ä¾‹æ‰§è¡Œè§„åˆ™</a><ul><li>å‘½ä»¤çª—å£ä¸‹åªè¿è¡Œç”¨tagnameæ ‡è®°çš„æµ‹è¯•ç”¨ä¾‹æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤ï¼š<code>pytest -v -m tagname</code>ã€‚</li><li>è‹¥ä¸æƒ³æ‰§è¡Œtagnameæ ‡è®°çš„ç”¨ä¾‹ï¼Œæ–‡ä»¶å†…å®¹å¯¹åº”ä¿®æ”¹ï¼Œä½¿ç”¨å‘½ä»¤ï¼š<code>pytest -v -m &quot;not tagname&quot;</code>ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_mark.py</span><br><br><br><span class="hljs-meta">@pytest.mark.a</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>():                                           <span class="hljs-comment"># æ ‡è®°test_a()ä¸ºa</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case a---&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case b---&quot;</span>)<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestCase</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_c</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case c---&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    pytest.main([<span class="hljs-string">&#x27;-s&#x27;</span>, <span class="hljs-string">&#x27;test_mark.py&#x27;</span>, <span class="hljs-string">&#x27;-m=not a&#x27;</span>])<br><br><span class="hljs-comment"># pytest -v -m &quot;not a&quot; test_mark.py</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================ test session starts ==============================</span><br><span class="hljs-string">...</span><br><span class="hljs-string">collected 3 items / 1 deselected / 2 selected</span><br><span class="hljs-string">test_mark.py::test_b PASSED                             [ 50%] </span><br><span class="hljs-string">test_mark.py::TestCase::test_c PASSED                   [100%]</span><br><span class="hljs-string">============================= warnings summary ================================</span><br><span class="hljs-string">...DeprecationWarning: Using or importing the ABCs from &#x27;collections&#x27; instead of from </span><br><span class="hljs-string">&#x27;collections.abc&#x27; is deprecated since Python 3.3, and in 3.10 it will stop working</span><br><span class="hljs-string">    return isinstance(x, collections.Callable)</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_mark.py:4</span><br><span class="hljs-string">  ...\test_mark.py:4: PytestUnknownMarkWarning: Unknown pytest.mark.a - is this a typo?  </span><br><span class="hljs-string">  You can register custom marks to avoid this warning - for details, </span><br><span class="hljs-string">  see https://docs.pytest.org/en/stable/mark.html</span><br><span class="hljs-string">    @pytest.mark.a</span><br><span class="hljs-string"></span><br><span class="hljs-string">-- Docs: https://docs.pytest.org/en/stable/warnings.html</span><br><span class="hljs-string">================ 2 passed, 1 deselected, 1 warnings in 0.05s ==================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h2 id="6-1-é‡å†™æ³¨å†Œæ ‡ç­¾"><a href="#6-1-é‡å†™æ³¨å†Œæ ‡ç­¾" class="headerlink" title="6-1 é‡å†™æ³¨å†Œæ ‡ç­¾"></a>6-1 é‡å†™æ³¨å†Œæ ‡ç­¾</h2><ul><li>é‡å†™æ³¨å†Œæ ‡ç­¾<ul><li>æ ¹ç›®å½•åˆ›å»º<code>conftest.py</code>æ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶ä¸­é‡å†™pytest_configureå‡½æ•°çš„æ–¹å¼å¯ä»¥æ³¨å†Œæ ‡ç­¾ã€‚</li><li>å‡½æ•°åpytest_configureå’Œå‚æ•°configæ˜¯å›ºå®šçš„ï¼Œå”¯ä¸€éœ€è¦å˜æ›´çš„æ˜¯æ³¨å†Œæ ‡ç­¾çš„åå­—å’Œæè¿°ã€‚</li></ul></li></ul><h4 id="1-conftest-py-1"><a href="#1-conftest-py-1" class="headerlink" title="(1) conftest.py"></a>(1) conftest.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">pytest_configure</span>(<span class="hljs-params">config</span>):                            <span class="hljs-comment"># conftest.py</span><br>    config.addinivalue_line(<br>        <span class="hljs-string">&quot;markers&quot;</span>, <span class="hljs-string">&quot;a: a test&quot;</span><br>    )<br></code></pre></td></tr></table></figure><h4 id="2-test-mark-py"><a href="#2-test-mark-py" class="headerlink" title="(2) test_mark.py"></a>(2) test_mark.py</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Powershell">pytest <span class="hljs-literal">-v</span> <span class="hljs-literal">-m</span> a test_mark.py                              <span class="hljs-comment"># test_mark.py</span><br><span class="hljs-string">&quot;&quot;</span><span class="hljs-string">&quot;</span><br><span class="hljs-string">=========================== test session starts ===============================</span><br><span class="hljs-string">...</span><br><span class="hljs-string">collected 3 items / 2 deselected / 1 selected</span><br><span class="hljs-string">test_mark.py::test_a PASSED                              [100%]</span><br><span class="hljs-string">===================== 1 passed, 2 deselected in 0.04s =========================</span><br><span class="hljs-string">&quot;</span><span class="hljs-string">&quot;&quot;</span><br></code></pre></td></tr></table></figure><h2 id="6-2-é…ç½®æ³¨å†Œæ ‡ç­¾"><a href="#6-2-é…ç½®æ³¨å†Œæ ‡ç­¾" class="headerlink" title="6-2 é…ç½®æ³¨å†Œæ ‡ç­¾"></a>6-2 é…ç½®æ³¨å†Œæ ‡ç­¾</h2><ul><li>é…ç½®æ³¨å†Œæ ‡ç­¾<ul><li>è¿˜æœ‰ä¸€ç§æ›´åŠ ä¾¿æ·çš„æ³¨å†Œæ ‡ç­¾çš„æ–¹å¼ï¼Œå³åœ¨<code>pytest.ini</code>é…ç½®æ–‡ä»¶ä¸­è¿›è¡Œè¯­æ³•é…ç½®ã€‚</li><li>åŒæ ·åœ¨æ ¹ç›®å½•åˆ›å»º<code>pytest.ini</code>æ–‡ä»¶ï¼Œåªéœ€è¦åœ¨æ–‡ä»¶ä¸­ç¼–å†™å¦‚ä¸‹é…ç½®å†…å®¹å°±å¯ä»¥äº†ã€‚</li></ul></li></ul><h4 id="1-pytest-ini"><a href="#1-pytest-ini" class="headerlink" title="(1) pytest.ini"></a>(1) pytest.ini</h4><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs Ini"><span class="hljs-section">[pytest]</span>                                                 <span class="hljs-comment"># pytest.ini</span><br><br><br><span class="hljs-attr">markers</span> =<br>    a: a tests<br></code></pre></td></tr></table></figure><h4 id="2-test-mark-py-1"><a href="#2-test-mark-py-1" class="headerlink" title="(2) test_mark.py"></a>(2) test_mark.py</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs Powershell">pytest <span class="hljs-literal">-v</span> <span class="hljs-literal">-m</span> <span class="hljs-string">&quot;not a&quot;</span> test_mark.py                        <span class="hljs-comment"># test_mark.py</span><br><span class="hljs-string">&quot;&quot;</span><span class="hljs-string">&quot;         ï¼ï¼ï¼è¯¥æ–¹æ³•ä¾¿æ·ç®€å•ï¼Œå®é™…è‡ªåŠ¨åŒ–è„šæœ¬å¼€å‘æ—¶ï¼Œæ›´æ¨èä½¿ç”¨ã€‚               </span><br><span class="hljs-string">============================ test session starts ==============================</span><br><span class="hljs-string">...</span><br><span class="hljs-string">collected 3 items / 1 deselected / 2 selected</span><br><span class="hljs-string">test_mark.py::test_b PASSED                              [ 50%] </span><br><span class="hljs-string">test_mark.py::TestCase::test_c PASSED                    [100%]</span><br><span class="hljs-string">===================== 2 passed, 1 deselected in 0.03s =========================</span><br><span class="hljs-string">&quot;</span><span class="hljs-string">&quot;&quot;</span><br></code></pre></td></tr></table></figure><h2 id="6-3-çµæ´»æŒ‘é€‰ç”¨ä¾‹"><a href="#6-3-çµæ´»æŒ‘é€‰ç”¨ä¾‹" class="headerlink" title="6-3 çµæ´»æŒ‘é€‰ç”¨ä¾‹"></a>6-3 çµæ´»æŒ‘é€‰ç”¨ä¾‹</h2><h4 id="1-pytest-ini-1"><a href="#1-pytest-ini-1" class="headerlink" title="(1) pytest.ini"></a>(1) pytest.ini</h4><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Ini"><span class="hljs-section">[pytest]</span>                                                 <span class="hljs-comment"># pytest.ini</span><br><br><br><span class="hljs-attr">markers</span> =<br>    a: a tests<br>    b: b tests<br>    function: function tests<br></code></pre></td></tr></table></figure><h4 id="2-test-mark-flexible-py"><a href="#2-test-mark-flexible-py" class="headerlink" title="(2) test_mark_flexible.py"></a>(2) test_mark_flexible.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_mark_flexible.py</span><br><br><br><span class="hljs-meta">@pytest.mark.a                                          </span><span class="hljs-comment"># æ¯ä¸ªæµ‹è¯•å‡½æ•°å¯ä»¥è‡ªå®šä¹‰å¤šä¸ªæ ‡ç­¾</span><br><span class="hljs-meta">@pytest.mark.function                                   </span><span class="hljs-comment"># å®é™…å¼€å‘ä¸­æŸäº›ç”¨ä¾‹æ—¢å¯ç”¨ä½œåŠŸèƒ½ç”¨ä¾‹</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>():                                           <span class="hljs-comment"># ä¹Ÿå¯ä»¥ç”¨ä½œå†’çƒŸæµ‹è¯•ç”¨ä¾‹</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case a---&quot;</span>)<br><br><br><span class="hljs-meta">@pytest.mark.b</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case b---&quot;</span>)<br><br><br><span class="hljs-meta">@pytest.mark.function</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestCase</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_c</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---use case c---&quot;</span>)<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">pytest -v -m a test_mark_flexible.py</span><br><span class="hljs-string">pytest -v -m &quot;not a&quot; test_mark_flexible.py</span><br><span class="hljs-string">pytest -v -m &quot;a and b&quot; test_mark_flexible.py</span><br><span class="hljs-string">pytest -v -m &quot;a or function&quot; test_mark_flexible.py</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h1 id="7-ç”¨ä¾‹çš„å‚æ•°åŒ–è®¾ç½®"><a href="#7-ç”¨ä¾‹çš„å‚æ•°åŒ–è®¾ç½®" class="headerlink" title="7 ç”¨ä¾‹çš„å‚æ•°åŒ–è®¾ç½®"></a>7 ç”¨ä¾‹çš„å‚æ•°åŒ–è®¾ç½®</h1><ul><li>ç”¨ä¾‹çš„å‚æ•°åŒ–è®¾ç½®<ul><li>å‚æ•°åŒ–æ–¹å¼æœ‰ä¸¤ç§ï¼šparametrizeå‚æ•°åŒ–å’Œfixtureå‚æ•°åŒ–ã€‚</li><li>ä½¿ç”¨<code>@pytest.mark.parametrize</code>è£…é¥°å™¨å®ç°ç”¨ä¾‹çš„å‚æ•°åŒ–ã€‚</li><li>parametrizeè¿˜å¯ä»¥ç»“åˆå†…ç½®å‡½æ•°ï¼Œæ ‡è®°æµ‹è¯•å®ä¾‹è¿›è¡Œå‚æ•°åŒ–ã€‚</li></ul></li></ul><h2 id="7-1-parametrize"><a href="#7-1-parametrize" class="headerlink" title="7-1 parametrize"></a>7-1 parametrize</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_param.py</span><br><br><br><span class="hljs-meta">@pytest.mark.parametrize(<span class="hljs-params"><span class="hljs-string">&quot;test_input, expected&quot;</span>, [(<span class="hljs-params"><span class="hljs-string">&#x27;3+3&#x27;</span>, <span class="hljs-number">6</span></span>), (<span class="hljs-params"><span class="hljs-string">&#x27;2+4&#x27;</span>, <span class="hljs-number">6</span></span>), (<span class="hljs-params"><span class="hljs-string">&#x27;6*1&#x27;</span>, <span class="hljs-number">6</span></span>)]</span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_eval</span>(<span class="hljs-params">test_input, expected</span>):<br>    <span class="hljs-keyword">assert</span> <span class="hljs-built_in">eval</span>(test_input) == expected<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    pytest.main([<span class="hljs-string">&#x27;-s&#x27;</span>, <span class="hljs-string">&#x27;test_param.py&#x27;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 3 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_param.py::test_eval[3+3-6] PASSED                  [ 33%]</span><br><span class="hljs-string">test_param.py::test_eval[2+4-6] PASSED                  [ 66%]</span><br><span class="hljs-string">test_param.py::test_eval[6*1-6] PASSED                  [100%]</span><br><span class="hljs-string">============================== 3 passed in 0.67s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h4 id="1-ç»“åˆå†…ç½®å‡½æ•°"><a href="#1-ç»“åˆå†…ç½®å‡½æ•°" class="headerlink" title="(1) ç»“åˆå†…ç½®å‡½æ•°"></a>(1) ç»“åˆå†…ç½®å‡½æ•°</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_param_function.py</span><br><br><br><span class="hljs-meta">@pytest.mark.parametrize(<span class="hljs-params"><span class="hljs-string">&quot;test_input, expected&quot;</span>,</span></span><br><span class="hljs-params"><span class="hljs-meta">                         [(<span class="hljs-params"><span class="hljs-string">&#x27;3+3&#x27;</span>, <span class="hljs-number">6</span></span>), (<span class="hljs-params"><span class="hljs-string">&#x27;2+4&#x27;</span>, <span class="hljs-number">6</span></span>), pytest.param(<span class="hljs-params"><span class="hljs-string">&#x27;6*1&#x27;</span>, <span class="hljs-number">6</span>, marks=pytest.mark.xfail</span>)]</span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_eval</span>(<span class="hljs-params">test_input, expected</span>):<br>    <span class="hljs-keyword">assert</span> <span class="hljs-built_in">eval</span>(test_input) == expected<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    pytest.main([<span class="hljs-string">&#x27;-s&#x27;</span>, <span class="hljs-string">&#x27;test_param_function.py&#x27;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 3 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_param_function.py::test_eval[3+3-6] PASSED         [ 33%]</span><br><span class="hljs-string">test_param_function.py::test_eval[2+4-6] PASSED         [ 66%]</span><br><span class="hljs-string">test_param_function.py::test_eval[6*1-6] XPASS          [100%]</span><br><span class="hljs-string">======================== 2 passed, 1 xpassed in 0.14s =========================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h4 id="2-å‚æ•°ç»„åˆä½¿ç”¨"><a href="#2-å‚æ•°ç»„åˆä½¿ç”¨" class="headerlink" title="(2) å‚æ•°ç»„åˆä½¿ç”¨"></a>(2) å‚æ•°ç»„åˆä½¿ç”¨</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_param_combination.py</span><br><br><br><span class="hljs-meta">@pytest.mark.parametrize(<span class="hljs-params"><span class="hljs-string">&#x27;x&#x27;</span>, [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>]</span>)</span><br><span class="hljs-meta">@pytest.mark.parametrize(<span class="hljs-params"><span class="hljs-string">&#x27;y&#x27;</span>, [<span class="hljs-number">2</span>, <span class="hljs-number">3</span>]</span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_case</span>(<span class="hljs-params">x, y</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Test data: x---%s, y---%s&quot;</span> % (x, y))<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    pytest.main([<span class="hljs-string">&#x27;-s&#x27;</span>, <span class="hljs-string">&#x27;test_param_combination.py&#x27;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 4 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_param_combination.py::test_case[2-0] PASSED        [ 25%]Test data: x---0, y---2</span><br><span class="hljs-string">test_param_combination.py::test_case[2-1] PASSED        [ 50%]Test data: x---1, y---2</span><br><span class="hljs-string">test_param_combination.py::test_case[3-0] PASSED        [ 75%]Test data: x---0, y---3</span><br><span class="hljs-string">test_param_combination.py::test_case[3-1] PASSED        [100%]Test data: x---1, y---3</span><br><span class="hljs-string">============================== 4 passed in 0.05s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h4 id="3-å‡½æ•°ä¼ å‚æ“ä½œ"><a href="#3-å‡½æ•°ä¼ å‚æ“ä½œ" class="headerlink" title="(3) å‡½æ•°ä¼ å‚æ“ä½œ"></a>(3) å‡½æ•°ä¼ å‚æ“ä½œ</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_param_in.py</span><br><br>info = [(<span class="hljs-string">&#x27;admin&#x27;</span>, <span class="hljs-string">&#x27;12345&#x27;</span>), (<span class="hljs-string">&#x27;admin&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>)]              <span class="hljs-comment"># æµ‹è¯•ç™»å½•æ•°æ®</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">login</span>(<span class="hljs-params">username, password</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;è´¦æˆ·: %s&#x27;</span> % username)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;å¯†ç : %s&#x27;</span> % password)<br>    <span class="hljs-keyword">if</span> password:<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br><br><br><span class="hljs-meta">@pytest.mark.parametrize(<span class="hljs-params"><span class="hljs-string">&#x27;username, password&#x27;</span>, info</span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_login</span>(<span class="hljs-params">username, password</span>):<br>    result = login(username, password)<br>    <span class="hljs-keyword">assert</span> result == <span class="hljs-literal">True</span>, <span class="hljs-string">&#x27;æŠ¥é”™åŸå› ï¼šå¯†ç ä¸ºç©º&#x27;</span><br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    pytest.main([<span class="hljs-string">&#x27;-s&#x27;</span>, <span class="hljs-string">&#x27;test_param_in.py&#x27;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 2 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_param_in.py::test_login[admin-12345] PASSED        [ 50%]è´¦æˆ·: admin</span><br><span class="hljs-string">å¯†ç : 12345</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_param_in.py::test_login[admin-] FAILED             [100%]è´¦æˆ·: admin</span><br><span class="hljs-string">å¯†ç : </span><br><span class="hljs-string"></span><br><span class="hljs-string">test_param_in.py:14 (test_login[admin-])</span><br><span class="hljs-string">False != True</span><br><span class="hljs-string"></span><br><span class="hljs-string">Expected :True</span><br><span class="hljs-string">Actual   :False</span><br><span class="hljs-string">&lt;Click to see difference&gt;</span><br><span class="hljs-string"></span><br><span class="hljs-string">username = &#x27;admin&#x27;, password = &#x27;&#x27;</span><br><span class="hljs-string"></span><br><span class="hljs-string">    @pytest.mark.parametrize(&#x27;username, password&#x27;, info)</span><br><span class="hljs-string">    def test_login(username, password):</span><br><span class="hljs-string">        result = login(username, password)</span><br><span class="hljs-string">&gt;       assert result == True, &#x27;æŠ¥é”™åŸå› ï¼šå¯†ç ä¸ºç©º&#x27;</span><br><span class="hljs-string">E       AssertionError: æŠ¥é”™åŸå› ï¼šå¯†ç ä¸ºç©º</span><br><span class="hljs-string">E       assert False == True</span><br><span class="hljs-string">E         +False</span><br><span class="hljs-string">E         -True</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_param_in.py:18: AssertionError</span><br><span class="hljs-string">========================= 1 failed, 1 passed in 0.41s =========================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h2 id="7-2-fixtureä¼ å‚"><a href="#7-2-fixtureä¼ å‚" class="headerlink" title="7-2 fixtureä¼ å‚"></a>7-2 fixtureä¼ å‚</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_fixture.py</span><br><br>info = [<span class="hljs-string">&#x27;admin1&#x27;</span>, <span class="hljs-string">&#x27;admin2&#x27;</span>]                             <span class="hljs-comment"># æµ‹è¯•è´¦å·æ•°æ®</span><br><br><br><span class="hljs-meta">@pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&#x27;module&#x27;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">login</span>(<span class="hljs-params">request</span>):<br>    user = request.param<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;ç™»é™†è´¦æˆ·: %s&#x27;</span> % user)<br>    <span class="hljs-keyword">return</span> user<br><br><br><span class="hljs-meta">@pytest.mark.parametrize(<span class="hljs-params"><span class="hljs-string">&#x27;login&#x27;</span>, info, indirect=<span class="hljs-literal">True</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_login</span>(<span class="hljs-params">login</span>):                                  <span class="hljs-comment"># indirect=Trueå£°æ˜loginæ˜¯ä¸€ä¸ªå‡½æ•°</span><br>    value = login<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;æµ‹è¯•ç”¨ä¾‹ä¸­ç™»å½•çš„è¿”å›å€¼: %s&#x27;</span> % value)<br>    <span class="hljs-keyword">assert</span> value != <span class="hljs-string">&#x27;&#x27;</span><br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    pytest.main([<span class="hljs-string">&#x27;-s&#x27;</span>, <span class="hljs-string">&#x27;test_fixture.py&#x27;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 2 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_fixture.py::test_login[admin1] ç™»é™†è´¦æˆ·: admin1</span><br><span class="hljs-string">PASSED                                                  [ 50%]æµ‹è¯•ç”¨ä¾‹ä¸­ç™»å½•çš„è¿”å›å€¼: admin1</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_fixture.py::test_login[admin2] ç™»é™†è´¦æˆ·: admin2</span><br><span class="hljs-string">PASSED                                                  [100%]æµ‹è¯•ç”¨ä¾‹ä¸­ç™»å½•çš„è¿”å›å€¼: admin2</span><br><span class="hljs-string">============================== 2 passed in 0.64s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h4 id="1-ä¼ ä¸¤ä¸ªå‚æ•°"><a href="#1-ä¼ ä¸¤ä¸ªå‚æ•°" class="headerlink" title="(1) ä¼ ä¸¤ä¸ªå‚æ•°"></a>(1) ä¼ ä¸¤ä¸ªå‚æ•°</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_fixture_two.py</span><br><br>info = [&#123;<span class="hljs-string">&#x27;username&#x27;</span>: <span class="hljs-string">&#x27;admin1&#x27;</span>, <span class="hljs-string">&#x27;password&#x27;</span>: <span class="hljs-string">&#x27;12345&#x27;</span>&#125;,<br>        &#123;<span class="hljs-string">&#x27;username&#x27;</span>: <span class="hljs-string">&#x27;admin2&#x27;</span>, <span class="hljs-string">&#x27;password&#x27;</span>: <span class="hljs-string">&#x27;&#x27;</span>&#125;]         <span class="hljs-comment"># æµ‹è¯•ç™»å½•æ•°æ®ï¼Œä¼ å¤šä¸ªå‚æ•°ç”¨å­—å…¸å­˜å‚¨</span><br><br><br><span class="hljs-meta">@pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&#x27;module&#x27;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">login</span>(<span class="hljs-params">request</span>):<br>    user = request.param[<span class="hljs-string">&#x27;username&#x27;</span>]<br>    password = request.param[<span class="hljs-string">&#x27;password&#x27;</span>]<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;ç™»å½•è´¦æˆ·: %s&#x27;</span> % user)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;ç™»å½•å¯†ç : %s&#x27;</span> % password)<br>    <span class="hljs-keyword">if</span> password:<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br><br><br><span class="hljs-meta">@pytest.mark.parametrize(<span class="hljs-params"><span class="hljs-string">&#x27;login&#x27;</span>, info, indirect=<span class="hljs-literal">True</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_login</span>(<span class="hljs-params">login</span>):                                  <span class="hljs-comment"># ç™»å½•ç”¨ä¾‹</span><br>    value = login<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;æµ‹è¯•ç”¨ä¾‹ä¸­ç™»å½•çš„è¿”å›å€¼: %s&#x27;</span> % value)<br>    <span class="hljs-keyword">assert</span> value, <span class="hljs-string">&#x27;å¤±è´¥åŸå› ï¼šå¯†ç ä¸ºç©º&#x27;</span><br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    pytest.main([<span class="hljs-string">&#x27;-s&#x27;</span>, <span class="hljs-string">&#x27;test_fixture_two.py&#x27;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 2 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_fixture_two.py::test_login[login0]  ç™»å½•è´¦æˆ·: admin1</span><br><span class="hljs-string">ç™»å½•å¯†ç : 12345</span><br><span class="hljs-string">PASSED                                                  [ 50%]æµ‹è¯•ç”¨ä¾‹ä¸­ç™»å½•çš„è¿”å›å€¼: True</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_fixture_two.py::test_login[login1] ç™»å½•è´¦æˆ·: admin2</span><br><span class="hljs-string">ç™»å½•å¯†ç : </span><br><span class="hljs-string">FAILED                                                  [100%]æµ‹è¯•ç”¨ä¾‹ä¸­ç™»å½•çš„è¿”å›å€¼: False</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_fixture_two.py:18 (test_login[login1])</span><br><span class="hljs-string">login = False</span><br><span class="hljs-string"></span><br><span class="hljs-string">    @pytest.mark.parametrize(&#x27;login&#x27;, info, indirect=True)</span><br><span class="hljs-string">    def test_login(login):                              # ç™»å½•ç”¨ä¾‹</span><br><span class="hljs-string">        value = login</span><br><span class="hljs-string">        print(&#x27;æµ‹è¯•ç”¨ä¾‹ä¸­ç™»å½•çš„è¿”å›å€¼: %s&#x27; % value)</span><br><span class="hljs-string">&gt;       assert value, &#x27;å¤±è´¥åŸå› ï¼šå¯†ç ä¸ºç©º&#x27;</span><br><span class="hljs-string">E       AssertionError: å¤±è´¥åŸå› ï¼šå¯†ç ä¸ºç©º</span><br><span class="hljs-string">E       assert False</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_fixture_two.py:23: AssertionError</span><br><span class="hljs-string">========================= 1 failed, 1 passed in 0.35s =========================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h4 id="2-å¤šä¸ªfixture"><a href="#2-å¤šä¸ªfixture" class="headerlink" title="(2) å¤šä¸ªfixture"></a>(2) å¤šä¸ªfixture</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_fixture_more.py</span><br><br>test_username = [<span class="hljs-string">&#x27;admin1&#x27;</span>, <span class="hljs-string">&#x27;admin2&#x27;</span>]                    <span class="hljs-comment"># ç”¨ä¾‹ç»„åˆæ˜¯2ä¸ªå‚æ•°çš„ä¸ªæ•°ç›¸ä¹˜ï¼š2*2</span><br>test_password = [<span class="hljs-string">&#x27;12345&#x27;</span>, <span class="hljs-string">&#x27;12346&#x27;</span>]<br><br><br><span class="hljs-meta">@pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&#x27;module&#x27;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">input_username</span>(<span class="hljs-params">request</span>):<br>    username = request.param<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;ç™»å½•è´¦æˆ·: %s&#x27;</span> % username)<br>    <span class="hljs-keyword">return</span> username<br><br><br><span class="hljs-meta">@pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&#x27;module&#x27;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">input_password</span>(<span class="hljs-params">request</span>):<br>    password = request.param<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;ç™»å½•å¯†ç : %s&#x27;</span> % password)<br>    <span class="hljs-keyword">return</span> password<br><br><br><span class="hljs-meta">@pytest.mark.parametrize(<span class="hljs-params"><span class="hljs-string">&#x27;input_username&#x27;</span>, test_username, indirect=<span class="hljs-literal">True</span></span>)</span><br><span class="hljs-meta">@pytest.mark.parametrize(<span class="hljs-params"><span class="hljs-string">&#x27;input_password&#x27;</span>, test_password, indirect=<span class="hljs-literal">True</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_login</span>(<span class="hljs-params">input_username, input_password</span>):<br>    u = input_username<br>    p = input_password<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;æµ‹è¯•æ•°æ®: u---%s, p---%s&#x27;</span> % (u, p))<br>    <span class="hljs-keyword">assert</span> p<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    pytest.main([<span class="hljs-string">&#x27;-s&#x27;</span>, <span class="hljs-string">&#x27;test_fixture_more.py&#x27;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 4 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_fixture_more.py::test_login[12345-admin1] ç™»å½•è´¦æˆ·: admin1</span><br><span class="hljs-string">ç™»å½•å¯†ç : 12345</span><br><span class="hljs-string">PASSED                                                  [ 25%]æµ‹è¯•æ•°æ®: u---admin1, p---12345</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_fixture_more.py::test_login[12345-admin2] ç™»å½•è´¦æˆ·: admin2</span><br><span class="hljs-string">PASSED                                                  [ 50%]æµ‹è¯•æ•°æ®: u---admin2, p---12345</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_fixture_more.py::test_login[12346-admin2] ç™»å½•å¯†ç : 12346</span><br><span class="hljs-string">PASSED                                                  [ 75%]æµ‹è¯•æ•°æ®: u---admin2, p---12346</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_fixture_more.py::test_login[12346-admin1] ç™»å½•è´¦æˆ·: admin1</span><br><span class="hljs-string">PASSED                                                  [100%]æµ‹è¯•æ•°æ®: u---admin1, p---12346</span><br><span class="hljs-string">============================== 4 passed in 0.06s ==============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h1 id="8-å‘½ä»¤è¡Œå‚æ•°çš„é…ç½®"><a href="#8-å‘½ä»¤è¡Œå‚æ•°çš„é…ç½®" class="headerlink" title="8 å‘½ä»¤è¡Œå‚æ•°çš„é…ç½®"></a>8 å‘½ä»¤è¡Œå‚æ•°çš„é…ç½®</h1><ul><li>å‘½ä»¤è¡Œå‚æ•°çš„é…ç½®<ul><li>åœ¨<code>conftest.py</code>æ–‡ä»¶ä¸­æ·»åŠ å‘½ä»¤è¡Œé€‰é¡¹ï¼Œå‘½ä»¤è¡Œä¼ å…¥å‚æ•°<code>--cmdopt</code>ï¼Œç”¨ä¾‹éœ€ç”¨åˆ°æ—¶å³è°ƒç”¨cmdpotå‡½æ•°ã€‚</li><li>é…ç½®æ–‡ä»¶<code>pytest.ini</code>ä¹Ÿå¯ä»¥æ”¹å˜pytestçš„è¿è¡Œæ–¹å¼ï¼Œæ˜¯ä¸€ä¸ªå›ºå®šæ–‡ä»¶ï¼Œè¯»å–é…ç½®ä¿¡æ¯ï¼ŒæŒ‰æŒ‡å®šæ–¹å¼è¿è¡Œã€‚</li><li>PyTestæ¡†æ¶çš„éƒ¨åˆ†æ–‡ä»¶è¯´æ˜<ul><li><code>conftest.py</code>ï¼šå‚æ•°ç”¨ä¾‹çš„ä¸€äº›fixtureé…ç½®ã€‚</li><li><code>setup.cfg</code>ï¼šiniæ ¼å¼æ–‡ä»¶ï¼Œå½±å“<code>setup.py</code>çš„è¡Œä¸ºã€‚</li><li><code>pytest.ini</code>ï¼šä¸»é…ç½®æ–‡ä»¶ï¼Œæ”¹å˜PyTestçš„é»˜è®¤è¡Œä¸ºã€‚</li><li><code>tox.ini</code>ï¼šä¸<code>pytest.ini</code>ç±»ä¼¼ï¼Œä½¿ç”¨toxå·¥å…·æ—¶æ‰ç”¨ã€‚</li><li><code>__init__.py</code>ï¼šè¯†åˆ«è¯¥æ–‡ä»¶æ‰€åœ¨çš„æ–‡ä»¶å¤¹ä¸ºPythonçš„packageåŒ…ã€‚</li></ul></li></ul></li></ul><h2 id="8-1-conftest-py"><a href="#8-1-conftest-py" class="headerlink" title="8-1 conftest.py"></a>8-1 conftest.py</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># conftest.py</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">pytest_addoption</span>(<span class="hljs-params">parser</span>):<br>    parser.addoption(<span class="hljs-string">&#x27;--cmdopt&#x27;</span>,<br>                     action=<span class="hljs-string">&#x27;store&#x27;</span>,<br>                     default=<span class="hljs-string">&#x27;type1&#x27;</span>,<br>                     <span class="hljs-built_in">help</span>=<span class="hljs-string">&#x27;myoption: type1 or type2&#x27;</span>)<br><br><br><span class="hljs-meta">@pytest.fixture</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">cmdopt</span>(<span class="hljs-params">request</span>):<br>    <span class="hljs-keyword">return</span> request.config.getoption(<span class="hljs-string">&#x27;--cmdopt&#x27;</span>)<br></code></pre></td></tr></table></figure><h4 id="1-ä¸å¸¦å‚æ•°æ‰§è¡Œ"><a href="#1-ä¸å¸¦å‚æ•°æ‰§è¡Œ" class="headerlink" title="(1) ä¸å¸¦å‚æ•°æ‰§è¡Œ"></a>(1) ä¸å¸¦å‚æ•°æ‰§è¡Œ</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_sample.py</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_answer</span>(<span class="hljs-params">cmdopt</span>):<br>    <span class="hljs-keyword">if</span> cmdopt == <span class="hljs-string">&#x27;type1&#x27;</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;---1---&#x27;</span>)<br>    <span class="hljs-keyword">elif</span> cmdopt == <span class="hljs-string">&#x27;type2&#x27;</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;---2---&#x27;</span>)<br>    <span class="hljs-keyword">assert</span> <span class="hljs-number">0</span><br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    pytest.main([<span class="hljs-string">&#x27;-s&#x27;</span>, <span class="hljs-string">&#x27;test_sample.py&#x27;</span>])<br><br><span class="hljs-comment"># pytest -s test_sample.py                              # ä¸å¸¦å‚æ•°æ‰§è¡Œï¼Œé»˜è®¤ä¼ type1</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">=========================== test session starts ===============================</span><br><span class="hljs-string">...</span><br><span class="hljs-string">collected 1 item</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_sample.py ---1---</span><br><span class="hljs-string">F</span><br><span class="hljs-string"></span><br><span class="hljs-string">================================ FAILURES =====================================</span><br><span class="hljs-string">_______________________________ test_answer ___________________________________</span><br><span class="hljs-string">cmdopt = &#x27;type1&#x27;</span><br><span class="hljs-string"></span><br><span class="hljs-string">    def test_answer(cmdopt):</span><br><span class="hljs-string">        if cmdopt == &#x27;type1&#x27;:</span><br><span class="hljs-string">            print(&#x27;---1---&#x27;)</span><br><span class="hljs-string">        elif cmdopt == &#x27;type2&#x27;:</span><br><span class="hljs-string">            print(&#x27;---2---&#x27;)</span><br><span class="hljs-string">&gt;       assert 0</span><br><span class="hljs-string">E       assert 0</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_sample.py:9: AssertionError</span><br><span class="hljs-string">========================== short test summary info ============================</span><br><span class="hljs-string">FAILED test_sample.py::test_answer - assert 0</span><br><span class="hljs-string">============================= 1 failed in 0.28s ===============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h4 id="2-å¸¦ä¸Šå‚æ•°æ‰§è¡Œ"><a href="#2-å¸¦ä¸Šå‚æ•°æ‰§è¡Œ" class="headerlink" title="(2) å¸¦ä¸Šå‚æ•°æ‰§è¡Œ"></a>(2) å¸¦ä¸Šå‚æ•°æ‰§è¡Œ</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># pytest -s test_sample.py --cmdopt=type2               # å¸¦ä¸Šå‚æ•°æ‰§è¡Œ</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">=========================== test session starts ===============================</span><br><span class="hljs-string">...</span><br><span class="hljs-string">collected 1 item</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_sample.py ---2---</span><br><span class="hljs-string">F</span><br><span class="hljs-string"></span><br><span class="hljs-string">================================ FAILURES =====================================</span><br><span class="hljs-string">_______________________________ test_answer ___________________________________</span><br><span class="hljs-string">cmdopt = &#x27;type2&#x27;</span><br><span class="hljs-string"></span><br><span class="hljs-string">    def test_answer(cmdopt):</span><br><span class="hljs-string">        if cmdopt == &#x27;type1&#x27;:</span><br><span class="hljs-string">            print(&#x27;---1---&#x27;)</span><br><span class="hljs-string">        elif cmdopt == &#x27;type2&#x27;:</span><br><span class="hljs-string">            print(&#x27;---2---&#x27;)</span><br><span class="hljs-string">&gt;       assert 0</span><br><span class="hljs-string">E       assert 0</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_sample.py:9: AssertionError</span><br><span class="hljs-string">========================== short test summary info ============================</span><br><span class="hljs-string">FAILED test_sample.py::test_answer - assert 0</span><br><span class="hljs-string">============================= 1 failed in 0.33s ===============================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h2 id="8-2-pytest-inié…ç½®"><a href="#8-2-pytest-inié…ç½®" class="headerlink" title="8-2 pytest.inié…ç½®"></a>8-2 pytest.inié…ç½®</h2><ul><li>pytest.inié…ç½®<ul><li>ä¸€ä¸ªé¡¹ç›®æœ‰ä¸€ä¸ª<code>pytest.ini</code>æ–‡ä»¶å³å¯ï¼Œæ”¾åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹ã€‚</li><li>å‘½ä»¤çª—å£ä¸‹ä½¿ç”¨<code>pytest --help</code>æŒ‡ä»¤ï¼Œå¯ä»¥æŸ¥çœ‹åˆ°<code>pytest.ini</code>æ–‡ä»¶ä¸­çš„è®¾ç½®é€‰é¡¹ã€‚</li><li><code>pytest.ini</code>æ–‡ä»¶ä¸èƒ½å¸¦ä¸­æ–‡æ³¨é‡Šï¼Œå¦åˆ™è¿è¡Œå°†æŠ¥é”™ï¼š<code>UnicodeDecodeError: &#39;gbk&#39;...illegal multibyte</code>ã€‚</li><li>addoptså‚æ•°é»˜è®¤æ›´æ”¹å‘½ä»¤è¡Œé€‰é¡¹ï¼Œä¾‹å¦‚ï¼šæ‰§è¡Œå®Œç”¨ä¾‹éœ€è¦ç”ŸæˆæŠ¥å‘Šï¼Œä½¿ç”¨å‘½ä»¤<code>pytest --html=report.html</code>ã€‚</li><li>å°†ç”ŸæˆæŠ¥å‘Šçš„å‘½ä»¤åŠ å…¥<code>pytest.ini</code>æ–‡ä»¶ä¸­ï¼Œä¸‹æ¬¡ç›´æ¥æ‰§è¡Œ<code>pytest</code>æŒ‡ä»¤ï¼ŒPyTestå°±ä¼šé»˜è®¤å¸¦ä¸Šè¿™äº›æ–°å¢çš„å‚æ•°ã€‚</li></ul></li></ul><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs Ini"><span class="hljs-section">[pytest]</span>                                                <span class="hljs-comment"># pytest.iniï¼Œæ”¾åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹</span><br><br><br>markers =                                               <span class="hljs-comment"># è‡ªå®šä¹‰markæ ‡è®°çš„é…ç½®æ³¨å†Œ</span><br>    a: a tests<br>    b: b tests<br>    function: Function tests<br>    webtest: Run the webtest case<br><br><br><span class="hljs-attr">addopts</span> = --html=report.html                            <span class="hljs-comment"># æ‰§è¡Œå®Œç”¨ä¾‹ç”ŸæˆæŠ¥å‘Šï¼Œéœ€äº‹å…ˆå®‰è£…å¥½æ’ä»¶</span><br></code></pre></td></tr></table></figure><ul><li><a href="https://stitch-top.github.io/2023/03/03/ce-shi-kuang-jia/tf02-pytest-ce-shi-kuang-jia/#6-%E8%87%AA%E5%AE%9A%E4%B9%89%E6%A0%87%E8%AE%B0mark">markæ ‡è®°</a><ul><li>ä½¿ç”¨markæ ‡è®°åŠŸèƒ½ï¼Œå¯¹åç»­åˆ†ç±»æµ‹è¯•ç”¨ä¾‹ååˆ†æœ‰ç”¨ï¼Œå°†è‡ªå®šä¹‰æ ‡è®°å†™å…¥<code>pytest.ini</code>æ–‡ä»¶ä¸­ï¼Œæ–¹ä¾¿ç®¡ç†ã€‚</li><li>å‘½ä»¤çª—å£å¯¹åº”<code>pytest.ini</code>æ–‡ä»¶æ‰€åœ¨çš„æ–‡ä»¶å¤¹ä¸‹ï¼Œè¾“å…¥<code>pytest --markers</code>å‘½ä»¤å¯ä»¥æŸ¥çœ‹åˆ°å·²å®šä¹‰çš„æ ‡è®°ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># test_xpass.py</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_a</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;---use case a---&#x27;</span>)<br><br><br><span class="hljs-meta">@pytest.mark.xfail()</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_b</span>():<br>    x = <span class="hljs-string">&#x27;hello&#x27;</span><br>    y = <span class="hljs-string">&#x27;hello world&#x27;</span><br>    <span class="hljs-keyword">assert</span> x == y<br><br><br><span class="hljs-meta">@pytest.mark.xfail()</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_c</span>():<br>    x = <span class="hljs-string">&#x27;hello&#x27;</span><br>    y = <span class="hljs-string">&#x27;hello world&#x27;</span><br>    <span class="hljs-keyword">assert</span> x != y<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    pytest.main([<span class="hljs-string">&#x27;-s&#x27;</span>, <span class="hljs-string">&#x27;test_xpass.py&#x27;</span>])<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 3 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_xpass.py::test_a PASSED                            [ 33%]---use case a---</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_xpass.py::test_b XFAIL                             [ 66%]</span><br><span class="hljs-string">@pytest.mark.xfail()</span><br><span class="hljs-string">    def test_b():</span><br><span class="hljs-string">        x = &#x27;hello&#x27;</span><br><span class="hljs-string">        y = &#x27;hello world&#x27;</span><br><span class="hljs-string">&gt;       assert x == y</span><br><span class="hljs-string">E       AssertionError: assert &#x27;hello&#x27; == &#x27;hello world&#x27;</span><br><span class="hljs-string">E         - hello world</span><br><span class="hljs-string">E         + hello</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_xpass.py:12: AssertionError</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_xpass.py::test_c XPASS                             [100%]</span><br><span class="hljs-string">=================== 1 passed, 1 xfailed, 1 xpassed in 0.33s ===================</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><ul><li>ç¦ç”¨xpass*<ul><li>è®¾ç½®<code>xfail_strict = true</code>å¯ä»¥è®©æ ‡è®°ä¸º<code>@pytest.mark.xfail</code>ä½†å®é™…é€šè¿‡çš„ç”¨ä¾‹è¢«æŠ¥å‘Šä¸ºå¤±è´¥ã€‚</li><li>åœ¨<code>test_xpass.py</code>å®ä¾‹ä¸­ï¼Œtest_bå’Œtest_céƒ½æ ‡è®°ä¸ºå¤±è´¥ï¼Œè¿™é‡Œå¸Œæœ›bå’Œcç”¨ä¾‹ä¸ç”¨æ‰§è¡Œå°±æ˜¾ç¤ºxfailã€‚</li></ul></li></ul><h4 id="1-pytest-ini-2"><a href="#1-pytest-ini-2" class="headerlink" title="(1) pytest.ini"></a>(1) pytest.ini</h4><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs Ini"><span class="hljs-section">[pytest]</span>                                                 <span class="hljs-comment"># pytest.iniï¼Œç¦ç”¨XPASS</span><br><br><br><span class="hljs-attr">xfail_strict</span> = <span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure><h4 id="2-test-xpass-py"><a href="#2-test-xpass-py" class="headerlink" title="(2) test_xpass.py"></a>(2) test_xpass.py</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs Powershell"><span class="hljs-comment"># å†æ¬¡æ‰§è¡Œtest_xpass.pyï¼ŒæŸ¥çœ‹ç»“æœ</span><br><span class="hljs-string">&quot;&quot;</span><span class="hljs-string">&quot;                ï¼ï¼ï¼test_cçš„XPASSè¢«å¼ºåˆ¶æ€§æ ‡è®°ä¸ºFAILEDã€‚                   </span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 3 items</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_xpass.py::test_a PASSED                            [ 33%]---use case a---</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_xpass.py::test_b XFAIL                             [ 66%]</span><br><span class="hljs-string">@pytest.mark.xfail()</span><br><span class="hljs-string">    def test_b():</span><br><span class="hljs-string">        x = &#x27;hello&#x27;</span><br><span class="hljs-string">        y = &#x27;hello world&#x27;</span><br><span class="hljs-string">&gt;       assert x == y</span><br><span class="hljs-string">E       AssertionError: assert &#x27;hello&#x27; == &#x27;hello world&#x27;</span><br><span class="hljs-string">E         - hello world</span><br><span class="hljs-string">E         + hello</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_xpass.py:13: AssertionError</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_xpass.py::test_c FAILED                            [100%]</span><br><span class="hljs-string">test_xpass.py:15 (test_c)</span><br><span class="hljs-string">[XPASS(strict)] </span><br><span class="hljs-string">============== 1 failed, 1 passed, 1 xfailed, 1 warning in 0.26s ==============</span><br><span class="hljs-string">&quot;</span><span class="hljs-string">&quot;&quot;</span><br></code></pre></td></tr></table></figure><h1 id="9-ç”Ÿæˆhtmlæµ‹è¯•æŠ¥å‘Š"><a href="#9-ç”Ÿæˆhtmlæµ‹è¯•æŠ¥å‘Š" class="headerlink" title="9 ç”Ÿæˆhtmlæµ‹è¯•æŠ¥å‘Š"></a>9 ç”Ÿæˆhtmlæµ‹è¯•æŠ¥å‘Š</h1><ul><li>ç”Ÿæˆhtmlæµ‹è¯•æŠ¥å‘Š<ul><li>pytest-htmlï¼šPyTestç”¨äºç”Ÿæˆæµ‹è¯•ç»“æœçš„htmlæŠ¥å‘Šæ’ä»¶ï¼Œ<code>pip install pytest-html</code>è¿›è¡Œå®‰è£…ã€‚<ul><li>æ‰§è¡Œæ–¹æ³•ï¼š<code>pytest --html=report.html</code>ï¼Œå½“å‰ç›®å½•ä¸­ç”Ÿæˆ<code>report.html</code>æŠ¥å‘Šæ–‡ä»¶ã€‚</li><li>æŒ‡å®šæ‰§è¡ŒæŸä¸ª<code>.py</code>æ–‡ä»¶ç”ŸæˆæŠ¥å‘Šï¼š<code>pytest test_filename.py --html=report.html</code>ã€‚</li><li>ç”ŸæˆæŠ¥å‘Šåˆ°å½“å‰æ–‡ä»¶å¤¹çš„reportç›®å½•ä¸­ï¼š<code>pytest test_filename.py --html=./report/report.html</code>ã€‚</li><li>ä¸Šè¿°æ–¹æ³•ç”Ÿæˆçš„æŠ¥å‘Šï¼Œcssç‹¬ç«‹ï¼Œåˆ†äº«æŠ¥å‘Šæ—¶æ ·å¼å°†ä¸¢å¤±ï¼Œä¸ºæ›´å¥½å±•ç¤ºæŠ¥å‘Šï¼Œå¯å°†cssæ ·å¼åˆå¹¶åˆ°htmlä¸­ã€‚</li><li>è®©<code>report.html</code>æŠ¥å‘Šç‹¬ç«‹æ˜¾ç¤ºï¼Œå¯ä½¿ç”¨å‘½ä»¤ï¼š<code>pytest --html=report.html --self-contained-html</code>ã€‚</li><li>ç”¨ä¾‹æ‰§è¡Œå¤±è´¥é‡è·‘éœ€ä¾èµ–pytest-rerunfailuresæ’ä»¶ï¼Œå‘½ä»¤å®‰è£…ï¼š<code>pip install pytest-rerunfailures</code>ã€‚<ul><li>é‡è·‘næ¬¡ï¼š<code>pytest --reruns n</code>ï¼Œå¤±è´¥æ‰é‡è·‘ï¼ŒæˆåŠŸç”¨ä¾‹ä½¿ç”¨æ— æ•ˆã€‚</li><li>é‡è·‘næ¬¡ï¼Œæ¯æ¬¡é—´éš”mç§’ï¼š<code>pytest --reruns n --reruns-delay m</code>ã€‚</li></ul></li></ul></li><li>allureï¼šreportæ¡†æ¶ï¼Œæ”¯æŒPythonçš„PyTestã€Javaçš„JUnitã€TestNGç­‰æ¡†æ¶ï¼Œå¯ä»¥é›†æˆåˆ°Jenkinsä¸Šã€‚</li></ul></li></ul><h2 id="9-1-conftest-py"><a href="#9-1-conftest-py" class="headerlink" title="9-1 conftest.py"></a>9-1 conftest.py</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pytest                                           <span class="hljs-comment"># conftest.pyï¼Œç”¨ä¾‹æŠ¥é”™æ—¶è¿›è¡Œæˆªå›¾çš„é…ç½®ä»£ç </span><br><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver<br><br>driver: webdriver.Firefox = <span class="hljs-literal">None</span>                        <span class="hljs-comment"># éœ€ç”¨åˆ°æµè§ˆå™¨æ’ä»¶ï¼Œæå‰é…ç½®å¥½</span><br><br><br><span class="hljs-meta">@pytest.mark.hookwrapper</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">pytest_runtest_makereport</span>(<span class="hljs-params">item</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    å½“ç”¨ä¾‹æ— æ³•æ‰§è¡Œæ—¶ï¼Œå±å¹•æˆªå›¾ä¼šè‡ªåŠ¨æ˜¾ç¤ºåœ¨æŠ¥å‘Šä¸­ã€‚</span><br><span class="hljs-string">    :param item:</span><br><span class="hljs-string">    :return:</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    pytest_html = item.config.pluginmanager.getplugin(<span class="hljs-string">&#x27;html&#x27;</span>)<br>    outcome = <span class="hljs-keyword">yield</span><br>    report = outcome.get_result()<br>    extra = <span class="hljs-built_in">getattr</span>(report, <span class="hljs-string">&#x27;extra&#x27;</span>, [])<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;é¡¹ç›®ç±»å‹: &quot;</span>, <span class="hljs-built_in">type</span>(item))<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æŠ¥å‘Šç±»å‹: &quot;</span>, <span class="hljs-built_in">type</span>(report))<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;é¢å¤–è¯´æ˜:&quot;</span>, extra)<br><br>    <span class="hljs-keyword">if</span> report.when == <span class="hljs-string">&#x27;call&#x27;</span> <span class="hljs-keyword">or</span> report.when == <span class="hljs-string">&#x27;setup&#x27;</span>:<br>        xfail = <span class="hljs-built_in">hasattr</span>(report, <span class="hljs-string">&#x27;wasfail&#x27;</span>)<br>        <span class="hljs-keyword">if</span> (report.skipped <span class="hljs-keyword">and</span> xfail) <span class="hljs-keyword">or</span> (report.failed <span class="hljs-keyword">and</span> <span class="hljs-keyword">not</span> xfail):<br>            file_name = report.nodeid.replace(<span class="hljs-string">&quot;::&quot;</span>, <span class="hljs-string">&quot;_&quot;</span>) + <span class="hljs-string">&quot;.png&quot;</span><br>            screen_img = _capter_screenshot()<br>            <span class="hljs-keyword">if</span> file_name:<br>                html = <span class="hljs-string">&#x27;&lt;div&gt;&lt;img src=&quot;data:image/png;base64,%s&quot; \</span><br><span class="hljs-string">                        alt=&quot;screenshot&quot; style=&quot;width:600px;height:300px;&quot;&#x27;</span> \<br>                       <span class="hljs-string">&#x27;onclick=&quot;window.open(this.src)&quot; align=&quot;right&quot;/&gt;&lt;/div&gt;&#x27;</span> % screen_img<br>                extra.append(pytest_html.extras.html(html))<br>        report.extra = extra<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">_capter_screenshot</span>():<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    å±å¹•æˆªå›¾ä¿å­˜ä¸ºbase64å¹¶æ˜¾ç¤ºåœ¨htmlæŠ¥å‘Šä¸­ã€‚</span><br><span class="hljs-string">    :return:</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-keyword">return</span> driver.get_screenshot_as_base64()<br><br><br><span class="hljs-meta">@pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&#x27;session&#x27;</span>, autouse=<span class="hljs-literal">True</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">browser</span>():<br>    <span class="hljs-keyword">global</span> driver<br>    <span class="hljs-keyword">if</span> driver <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br>        driver = webdriver.Firefox()<br>    <span class="hljs-keyword">return</span> driver<br></code></pre></td></tr></table></figure><h2 id="9-2-test-screenshot-py"><a href="#9-2-test-screenshot-py" class="headerlink" title="9-2 test_screenshot.py"></a>9-2 test_screenshot.py</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> time                                             <span class="hljs-comment"># test_screenshot.py</span><br><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_get_title</span>(<span class="hljs-params">browser</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    :æµè§ˆå™¨ç±»å‹: webdriver.firefox</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    browser.get(<span class="hljs-string">&quot;https://stitch-top.github.io/&quot;</span>)        <span class="hljs-comment"># GitHubç½‘ç«™è®¿é—®è¾ƒæ…¢</span><br>    time.sleep(<span class="hljs-number">5</span>)<br>    t = browser.title<br>    <span class="hljs-keyword">assert</span> t == <span class="hljs-string">&quot;Stitch.top&quot;</span>                            <span class="hljs-comment"># &quot;Dr.626&quot;</span><br>    browser.close()<br><br><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">============================= test session starts =============================</span><br><span class="hljs-string">collecting ... collected 1 item</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_screenshot.py::test_get_title FAILED               [100%]</span><br><span class="hljs-string">é¡¹ç›®ç±»å‹:  &lt;class &#x27;_pytest.python.Function&#x27;&gt;</span><br><span class="hljs-string">æŠ¥å‘Šç±»å‹:  &lt;class &#x27;_pytest.reports.TestReport&#x27;&gt;</span><br><span class="hljs-string">é¢å¤–è¯´æ˜: []</span><br><span class="hljs-string">é¡¹ç›®ç±»å‹:  &lt;class &#x27;_pytest.python.Function&#x27;&gt;</span><br><span class="hljs-string">æŠ¥å‘Šç±»å‹:  &lt;class &#x27;_pytest.reports.TestReport&#x27;&gt;</span><br><span class="hljs-string">é¢å¤–è¯´æ˜: []</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_screenshot.py:4 (test_get_title)</span><br><span class="hljs-string">&#x27;Dr.626&#x27; != &#x27;Stitch.top&#x27;</span><br><span class="hljs-string"></span><br><span class="hljs-string">Expected :&#x27;Stitch.top&#x27;</span><br><span class="hljs-string">Actual   :&#x27;Dr.626&#x27;</span><br><span class="hljs-string">&lt;Click to see difference&gt;</span><br><span class="hljs-string"></span><br><span class="hljs-string">browser = &lt;selenium.webdriver.firefox.webdriver.WebDriver (session=&quot;...&quot;)&gt;</span><br><span class="hljs-string"></span><br><span class="hljs-string">    def test_get_title(browser):</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br><span class="hljs-string">        :æµè§ˆå™¨ç±»å‹: webdriver.firefox</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br><span class="hljs-string">        browser.get(&quot;https://stitch-top.github.io/&quot;)    # GitHubç½‘ç«™è®¿é—®è¾ƒæ…¢</span><br><span class="hljs-string">        time.sleep(5)</span><br><span class="hljs-string">        t = browser.title</span><br><span class="hljs-string">&gt;       assert t == &quot;Stitch.top&quot;                        # &quot;Dr.626&quot;</span><br><span class="hljs-string">E       AssertionError: assert &#x27;Dr.626&#x27; == &#x27;Stitch.top&#x27;</span><br><span class="hljs-string">E         - Stitch.top</span><br><span class="hljs-string">E         + Dr.626</span><br><span class="hljs-string"></span><br><span class="hljs-string">test_screenshot.py:12: AssertionError</span><br><span class="hljs-string">é¡¹ç›®ç±»å‹:  &lt;class &#x27;_pytest.python.Function&#x27;&gt;</span><br><span class="hljs-string">æŠ¥å‘Šç±»å‹:  &lt;class &#x27;_pytest.reports.TestReport&#x27;&gt;</span><br><span class="hljs-string">é¢å¤–è¯´æ˜: []</span><br><span class="hljs-string">============================= 1 failed in 42.29s ==============================</span><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>æµ‹è¯•æ¡†æ¶</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Pytest</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Selenium</title>
    <link href="/2023/01/08/ce-shi-kuang-jia/tf01-selenium/"/>
    <url>/2023/01/08/ce-shi-kuang-jia/tf01-selenium/</url>
    
    <content type="html"><![CDATA[<p>Seleniumæä¾›äº†ä¸€ä¸ªç®€å•çš„APIï¼Œä½¿ç”¨WebDriveræ¥ç¼–å†™æ ¡éªŒæµ‹è¯•ï¼Œé€šè¿‡APIå¯ç›´è§‚åœ°ä½¿ç”¨Selenium WebDriverçš„æ‰€æœ‰åŠŸèƒ½ã€‚</p><span id="more"></span><h1 id="1-æ¦‚å¿µ"><a href="#1-æ¦‚å¿µ" class="headerlink" title="1 æ¦‚å¿µ"></a>1 æ¦‚å¿µ</h1><ul><li>æ¦‚å¿µ<ul><li><a href="https://www.selenium.dev/zh-cn/documentation/">å®˜æ–¹æ–‡æ¡£</a>ï¼ŒPyPIçš„å®˜æ–¹åº“æ”¯æŒä¸‹è½½Seleniumï¼Œå‘½ä»¤å®‰è£…ï¼š<code>pip install selenium</code>ã€‚</li><li>å„æµè§ˆå™¨é©±åŠ¨<ul><li>Firefoxï¼š<a href="https://github.com/mozilla/geckodriver/releases">https://github.com/mozilla/geckodriver/releases</a>ã€‚</li><li>Chromeï¼š<a href="https://chromedriver.storage.googleapis.com/index.html">https://chromedriver.storage.googleapis.com/index.html</a>ã€‚</li><li>Edgeï¼š<a href="https://developer.microsoft.com/en-us/microsoft-edge/tools/webdriver">https://developer.microsoft.com/en-us/microsoft-edge/tools/webdriver</a>ã€‚</li><li>ä¸‹è½½è§£å‹é©±åŠ¨ï¼Œå°†å…¶å¤åˆ¶åˆ°Pythonçš„å®‰è£…ç›®å½•ä¸­ï¼Œä¸<code>python.exe</code>åŒä¸€æ–‡ä»¶å¤¹ä½ç½®ã€‚</li></ul></li><li>ä½¿ç”¨Edgeé©±åŠ¨æŠ¥é”™<ul><li>æŠ¥é”™ä¿¡æ¯ï¼š<code>Message: &#39;MicrosoftWebDriver.exe&#39; executable needs to be in Path</code>ã€‚</li><li>é©±åŠ¨ç‰ˆæœ¬æ­£ç¡®ï¼Œè·¯å¾„ä¹Ÿå·²åŠ ï¼Œåˆ™å°†é©±åŠ¨åmsedgedriver.exeæ”¹ä¸ºMicrosoftWebDriver.exeã€‚</li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver                          <span class="hljs-comment"># web_driver.py</span><br><br>driver = webdriver.Edge()<br><span class="hljs-comment"># driver = webdriver.Chrome()</span><br><span class="hljs-comment"># driver = webdriver.Firefox()                          # åˆå§‹åŒ–ä¸€ä¸ªç«ç‹æµè§ˆå™¨å®ä¾‹</span><br>driver.maximize_window()                                <span class="hljs-comment"># æµè§ˆå™¨çª—å£æœ€å¤§åŒ–</span><br>driver.implicitly_wait(<span class="hljs-number">10</span>)                              <span class="hljs-comment"># è®¾ç½®éšå¼æ—¶é—´ç­‰å¾…</span><br>driver.get(<span class="hljs-string">&quot;https://www.baidu.com&quot;</span>)                     <span class="hljs-comment"># é€šè¿‡getæ–¹æ³•æ‰“å¼€ç™¾åº¦</span><br>driver.quit()                                           <span class="hljs-comment"># quitå…³é—­æ•´ä¸ªæµè§ˆå™¨</span><br><span class="hljs-comment"># driver.close()                                        # closeåªä¼šå…³é—­ä¸€ä¸ªæ ‡ç­¾é¡µ</span><br></code></pre></td></tr></table></figure><h1 id="2-å®šä½å…ƒç´ "><a href="#2-å®šä½å…ƒç´ " class="headerlink" title="2 å®šä½å…ƒç´ "></a>2 å®šä½å…ƒç´ </h1><ul><li>å®šä½å…ƒç´ <ul><li>å®šä½å•ä¸ªå…ƒç´ ï¼šå…¬å…±æ–¹æ³•ã€‚<ul><li><code>find_element_by_id</code>ã€<code>find_element_by_name</code>ã€‚</li><li><code>find_element_by_xpath</code>ã€<code>find_element_by_tag_name</code>ã€‚</li><li><code>find_element_by_class_name</code>ã€<code>find_element_by_css_selector</code>ã€‚</li><li><code>find_element_by_link_text</code>ã€<code>find_element_by_partial_link_text</code>ã€‚</li></ul></li><li>å®šä½ä¸€ç»„å…ƒç´ ï¼šè¿”å›ä¸€ä¸ªListåˆ—è¡¨ï¼Œå…¬å…±æ–¹æ³•ã€‚<ul><li><code>find_elements_by_id</code>ã€<code>find_elements_by_name</code>ã€‚</li><li><code>find_elements_by_xpath</code>ã€<code>find_elements_by_tag_name</code>ã€‚</li><li><code>find_elements_by_class_name</code>ã€<code>find_elements_by_css_selector</code>ã€‚</li><li><code>find_elements_by_link_text</code>ã€<code>find_elements_by_partial_link_text</code>ã€‚</li></ul></li><li>find_elementå’Œfind_elementsï¼šç§æœ‰æ–¹æ³•ã€‚<ul><li>è°ƒç”¨è¿™ä¸¤ä¸ªç§æœ‰æ–¹æ³•ï¼Œé€šè¿‡Byå£°æ˜å®šä½ï¼Œä¼ å…¥å¯¹åº”å®šä½æ–¹æ³•çš„å®šä½å‚æ•°ã€‚</li><li>ä½¿ç”¨å‰å…ˆå¯¼å…¥æ¨¡å—ï¼š<code>from selenium.webdriver.common.by import By</code>ã€‚</li><li>ä¸¤å‚æ•°åˆ†åˆ«æ˜¯å®šä½ç±»å‹å’Œå®šä½å€¼ï¼š<code>driver.find_element(By.ID, &#39;kw&#39;)</code>ã€‚<ul><li><code>ID = &quot;id&quot;</code>ã€<code>NAME = &quot;name&quot;</code>ã€‚</li><li><code>XPATH = &quot;xpath&quot;</code>ã€<code>TAG_NAME = &quot;tag name&quot;</code>ã€‚</li><li><code>CLASS_NAME = &quot;class name&quot;</code>ã€<code>CSS_SELECTOR = &quot;css selector&quot;</code>ã€‚</li><li><code>LINK_TEXT = &quot;link text&quot;</code>ã€<code>PARTIAL_LINK_TEXT = &quot;partial link text&quot;</code>ã€‚</li></ul></li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver                          <span class="hljs-comment"># positioning_elements.py</span><br><br>driver = webdriver.Edge()<br>driver.maximize_window()                                <span class="hljs-comment"># æµè§ˆå™¨çª—å£æœ€å¤§åŒ–</span><br>driver.implicitly_wait(<span class="hljs-number">10</span>)                              <span class="hljs-comment"># è®¾ç½®éšå¼æ—¶é—´ç­‰å¾…</span><br>driver.get(<span class="hljs-string">r&quot;..\html\location_id.html&quot;</span>)                 <span class="hljs-comment"># è·¯å¾„éœ€è¦è¡¥å……å®Œæ•´</span><br>element_id = driver.find_element_by_id(<span class="hljs-string">&#x27;loginForm&#x27;</span>)<br><span class="hljs-built_in">print</span>(element_id)<br><br>driver.get(<span class="hljs-string">r&quot;..\html\location_name.html&quot;</span>)<br>element_name1 = driver.find_element_by_name(<span class="hljs-string">&#x27;username&#x27;</span>)<br>element_name2 = driver.find_element_by_name(<span class="hljs-string">&#x27;password&#x27;</span>)<br>element_name3 = driver.find_element_by_name(<span class="hljs-string">&#x27;continue&#x27;</span>)<br><span class="hljs-built_in">print</span>(element_name1)<br><span class="hljs-built_in">print</span>(element_name2)<br><span class="hljs-built_in">print</span>(element_name3)<br><br>driver.get(<span class="hljs-string">r&quot;..\html\location_xpath.html&quot;</span>)<br>element_xpath = driver.find_element_by_xpath(<span class="hljs-string">&#x27;//*[@id=&quot;loginForm&quot;]/div[1]/a[2]&#x27;</span>)<br><span class="hljs-built_in">print</span>(element_xpath)<br><br>driver.get(<span class="hljs-string">r&quot;..\html\location_tag.html&quot;</span>)<br>element_tag = driver.find_element_by_tag_name(<span class="hljs-string">&#x27;h3&#x27;</span>)<br><span class="hljs-built_in">print</span>(element_tag)<br><br>driver.get(<span class="hljs-string">r&quot;..\html\location_class.html&quot;</span>)<br>element_class = driver.find_element_by_class_name(<span class="hljs-string">&#x27;content&#x27;</span>)<br><span class="hljs-built_in">print</span>(element_class)<br><br>driver.get(<span class="hljs-string">r&quot;..\html\location_css.html&quot;</span>)<br>element_css = driver.find_element_by_css_selector(<span class="hljs-string">&quot;.content&quot;</span>)<br><span class="hljs-built_in">print</span>(element_css)<br><br>driver.get(<span class="hljs-string">r&quot;..\html\location_link.html&quot;</span>)<br>element_link1 = driver.find_element_by_link_text(<span class="hljs-string">&#x27;é¦–é¡µ&#x27;</span>)<br>element_link2 = driver.find_element_by_partial_link_text(<span class="hljs-string">&#x27;å…³&#x27;</span>)<br><span class="hljs-built_in">print</span>(element_link1)<br><span class="hljs-built_in">print</span>(element_link2)<br><br>driver.quit()                                           <span class="hljs-comment"># quitå…³é—­æ•´ä¸ªæµè§ˆå™¨</span><br></code></pre></td></tr></table></figure><h2 id="2-1-ID"><a href="#2-1-ID" class="headerlink" title="2-1 ID"></a>2-1 ID</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs HTML"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>å®šä½å…ƒç´ ID<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align: center;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;loginForm&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;password&quot;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;continue&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;ç™»å½•&quot;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- find_element_by_id(&#x27;loginForm&#x27;)ï¼Œæ‰¾ä¸åˆ°å…ƒç´ ä¼šæŠ›å‡ºNoSuchElementExceptionå¼‚å¸¸ --&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="2-2-Name"><a href="#2-2-Name" class="headerlink" title="2-2 Name"></a>2-2 Name</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs HTML"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>å®šä½å…ƒç´ Name<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align: center;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;loginForm&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;password&quot;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;continue&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;ç™»å½•&quot;</span> /&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;continue&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;æ¸…é™¤&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- find_element_by_name(&#x27;username&#x27;) --&gt;</span><br>    <span class="hljs-comment">&lt;!-- find_element_by_name(&#x27;password&#x27;) --&gt;</span><br>    <span class="hljs-comment">&lt;!-- find_element_by_name(&#x27;continue&#x27;) --&gt;</span><br>    <span class="hljs-comment">&lt;!-- æ‰¾ä¸åˆ°å…ƒç´ ä¼šæŠ›å‡ºNoSuchElementExceptionå¼‚å¸¸ --&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="2-3-XPath"><a href="#2-3-XPath" class="headerlink" title="2-3 XPath"></a>2-3 XPath</h2><ul><li>XPath<ul><li>æ³¨æ„ï¼šè¯¥å®šä½æ–¹å¼åœ¨Seleniumç‰ˆæœ¬4.x.xå·²å¼ƒç”¨ï¼Œè‹¥è¦ä½¿ç”¨ï¼Œéœ€å›é€€åˆ°4.0.0ä¹‹å‰çš„ç‰ˆæœ¬ã€‚</li><li>ç´¢å¼•ï¼Œå½“å‰å±‚çº§ä¸‹ç¬¬1ä¸ªinputæ ‡ç­¾ï¼š<code>find_element_by_xpath(&quot;//input[1]&quot;)</code>ã€‚</li><li>å…ƒç´ å±æ€§å®šä½<ul><li>ç‰¹å®šå±æ€§å<code>@å±æ€§å</code>ï¼š<code>find_element_by_xpath(&quot;//form[@id]&quot;)</code>ã€‚</li><li><code>@å±æ€§å=&quot;å±æ€§å€¼&quot;</code>ï¼š<code>find_element_by_xpath(&quot;//form[@id=&#39;loginForm&#39;]&quot;)</code>ã€‚</li><li>ä»»æ„å±æ€§å<code>@*=&quot;å±æ€§å€¼&quot;</code>ï¼š<code>find_element_by_xpath(&quot;//input[@*=&#39;username&#39;]&quot;)</code>ã€‚</li><li>å¤šå±æ€§ç»“åˆ<ul><li><code>find_element_by_xpath(&quot;//input[@name=&#39;continue&#39;][@type=&#39;submit&#39;]&quot;)</code>ã€‚</li><li><code>find_element_by_xpath(&quot;//input[@name=&#39;continue&#39; or @type=&#39;submit&#39;]&quot;)</code>ã€‚</li><li><code>find_element_by_xpath(&quot;//input[@name=&#39;continue&#39; and @type=&#39;submit&#39;]&quot;)</code>ã€‚</li></ul></li></ul></li><li>è·¯å¾„å®šä½<ul><li>ç›¸å¯¹è·¯å¾„<code>//</code>ï¼š<code>find_element_by_xpath(&quot;//form&quot;)</code>ã€‚</li><li>ç»å¯¹è·¯å¾„<code>/</code>ï¼š<code>find_element_by_xpath(&quot;/html/body/form&quot;)</code>ã€‚</li><li>å½“å‰è·¯å¾„<code>.</code>ï¼š<code>find_element_by_xpath(&quot;//form/.&quot;)</code>ï¼Œç­‰åŒäº<code>//form</code>ã€‚</li><li>ä¸Šçº§è·¯å¾„<code>..</code>ï¼š<code>find_element_by_xpath(&quot;//form/input[1]/..&quot;)</code>ï¼Œç­‰åŒäº<code>//form</code>ã€‚</li></ul></li><li>å‡½æ•°å®šä½<ul><li><code>last()</code>ï¼š<code>find_element_by_xpath(&quot;//input[last()]&quot;)</code>ã€‚</li><li><code>text()</code>ï¼š<code>find_element_by_xpath(&quot;//a[text()=&#39;Mouclick&#39;]&quot;)</code>ã€‚</li><li><code>contains()</code>ï¼š<code>find_element_by_xpath(&quot;//input[contains(@type, &#39;submit&#39;)]&quot;)</code>ã€‚</li><li><code>starts-with()</code>ï¼š<code>find_element_by_xpath(&quot;//a[starts-with(text(), &#39;Mouclick&#39;)]&quot;)</code>ã€‚</li></ul></li><li>è½´å®šä½<ul><li>childï¼š<code>find_element_by_xpath(&quot;//form/child&quot;)</code>ã€‚</li><li>parentï¼š<code>find_element_by_xpath(&quot;//input[1]/parent&quot;)</code>ã€‚</li><li>precedingï¼š<code>find_element_by_xpath(&quot;//a[text()=&#39;Continue&#39;]/preceding::a&quot;)</code>ã€‚</li><li>followingï¼š<code>find_element_by_xpath(&quot;//a[text()=&#39;Continue&#39;]/following::input[1]&quot;)</code>ã€‚</li></ul></li></ul></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs HTML"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>å®šä½å…ƒç´ Xpath<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align: center;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;loginForm&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;index.html&quot;</span>&gt;</span>é¦–é¡µ<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;about.html&quot;</span>&gt;</span>å…³äº<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;password&quot;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;continue&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;ç™»å½•&quot;</span> /&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;continue&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;æ¸…é™¤&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- è‹¥æ‰¾ä¸åˆ°â€œå…³äºâ€è¿™ä¸€å…ƒç´ ï¼Œä¼šæŠ›å‡ºNoSuchElementExceptionå¼‚å¸¸ --&gt;</span><br>    <span class="hljs-comment">&lt;!-- find_element_by_xpath(&#x27;//*[@id=&quot;loginForm&quot;]/div[1]/a[2]&#x27;) --&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="2-4-æ ‡ç­¾å"><a href="#2-4-æ ‡ç­¾å" class="headerlink" title="2-4 æ ‡ç­¾å"></a>2-4 æ ‡ç­¾å</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs HTML"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>å®šä½å…ƒç´ Tag<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align: center;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>è°¢å¼ ä»²è°‹ç«¯åˆé€å·§ä½œ<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h</span>&gt;</span>å®‹Â·é»„åº­åš<span class="hljs-tag">&lt;/<span class="hljs-name">h</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å›å®¶ç‰å¥³ä»å°è§ï¼Œé—»é“å¦‚ä»Šç”»ä¸æˆã€‚<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ç¿¦è£ä¼¼å€Ÿå¤©å¥³æ‰‹ï¼Œè±è‰çŸ³æ¦´åçœ¼æ˜ã€‚<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- find_element_by_tag_name(&#x27;h3&#x27;)ï¼Œæ‰¾ä¸åˆ°å…ƒç´ ä¼šæŠ›å‡ºNoSuchElementExceptionå¼‚å¸¸ --&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="2-5-ClassName"><a href="#2-5-ClassName" class="headerlink" title="2-5 ClassName"></a>2-5 ClassName</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs HTML"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>å®šä½å…ƒç´ Class<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align: center;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;content&quot;</span>&gt;</span>è’¹è‘­è‹è‹ï¼Œç™½éœ²ä¸ºéœœã€‚æ‰€è°“ä¼Šäººï¼Œåœ¨æ°´ä¸€æ–¹ã€‚<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- find_element_by_class_name(&#x27;content&#x27;)ï¼Œæ‰¾ä¸åˆ°å…ƒç´ ä¼šæŠ›å‡ºNoSuchElementExceptionå¼‚å¸¸ --&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="2-6-CSSé€‰æ‹©å™¨"><a href="#2-6-CSSé€‰æ‹©å™¨" class="headerlink" title="2-6 CSSé€‰æ‹©å™¨"></a>2-6 CSSé€‰æ‹©å™¨</h2><ul><li>CSSé€‰æ‹©å™¨<ul><li>æ ‡ç­¾åå®šä½ï¼š<code>find_element_by_css_selector(&quot;p&quot;)</code>ã€‚</li><li>idå®šä½ï¼š<code>find_element_by_css_selector(&quot;#loginForm&quot;)</code>ã€‚</li><li>classå®šä½ï¼š<code>find_element_by_css_selector(&quot;.content&quot;)</code>ã€‚</li><li>å…ƒç´ å®šä½<ul><li><code>element&gt;element</code>ï¼š<code>find_element_by_css_selector(&quot;form&gt;p&quot;)</code>ï¼Œå„¿å­èŠ‚ç‚¹ã€‚</li><li><code>element element</code>ï¼š<code>find_element_by_css_selector(&quot;form p.content&quot;)</code>ï¼Œå­å­™èŠ‚ç‚¹ã€‚</li><li><code>element+element</code>ï¼š<code>find_element_by_css_selector(&quot;a+input&quot;)</code>ï¼Œç´§æŒ¨ç€çš„å…„å¼ŸèŠ‚ç‚¹ï¼Œå­èŠ‚ç‚¹ä¸ç®—ã€‚</li><li>æ³¨æ„ï¼šä½¿ç”¨Firefoxæµè§ˆå™¨æ—¶ï¼Œ+å·å‰åè¦åŠ ç©ºæ ¼ï¼Œå¦åˆ™å®šä½ä¸åˆ°ï¼ŒChromeå’ŒEdgeä¸ç”¨ï¼ŒCSSæœ¬èº«ä¹Ÿä¸ç”¨ã€‚</li></ul></li><li>å±æ€§å®šä½<ul><li><code>[å±æ€§=å±æ€§å€¼]</code>ï¼š<code>find_element_by_css_selector(&quot;[name=&#39;username&#39;]&quot;)</code>ã€‚</li><li><code>[å±æ€§^=å±æ€§å€¼]</code>ï¼š<code>find_element_by_css_selector(&quot;[name^=&#39;con&#39;]&quot;)</code>ï¼Œnameå±æ€§å¼€å¤´ä¸ºconçš„æ ‡ç­¾ã€‚</li><li><code>[å±æ€§*=å±æ€§å€¼]</code>ï¼š<code>find_element_by_css_selector(&quot;[name*=&#39;con&#39;]&quot;)</code>ï¼Œnameå±æ€§åŒ…å«conçš„æ‰€æœ‰æ ‡ç­¾ã€‚</li><li><code>[å±æ€§$=å±æ€§å€¼]</code>ï¼š<code>find_element_by_css_selector(&quot;[name$=&#39;nue&#39;]&quot;)</code>ï¼Œnameçš„å±æ€§å€¼ç»“å°¾æ˜¯nueçš„æ‰€æœ‰æ ‡ç­¾ã€‚</li></ul></li><li>ä¸‹æ ‡å®šä½<ul><li><code>#loginForm&gt;:last-child</code>ï¼šidä¸ºloginFormæ ‡ç­¾ä¸‹çš„æœ€å1ä¸ªæ ‡ç­¾ã€‚</li><li><code>#loginForm&gt;:nth-last-child(2)</code>ï¼šidä¸ºloginFormæ ‡ç­¾ä¸‹çš„å€’æ•°ç¬¬2ä¸ªæ ‡ç­¾ã€‚</li><li><code>#loginForm&gt;input:nth-child(3)</code>ï¼šidä¸ºloginFormçš„æ ‡ç­¾ä¸‹çš„ç¬¬3ä¸ªæ ‡ç­¾ï¼Œä¸”æ ‡ç­¾åä¸ºinputã€‚</li><li><code>#loginForm&gt;:nth-child(1)</code>æˆ–<code>#loginForm&gt;:first-child</code>ï¼šidä¸ºloginFormæ ‡ç­¾ä¸‹çš„ç¬¬1ä¸ªæ ‡ç­¾ã€‚</li></ul></li></ul></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs HTML"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>å®šä½å…ƒç´ Css<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align: center;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;loginForm&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;password&quot;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;continue&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;ç™»å½•&quot;</span> /&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;continue&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;æ¸…é™¤&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;content&quot;</span>&gt;</span>è’¹è‘­è‹è‹ï¼Œç™½éœ²ä¸ºéœœã€‚æ‰€è°“ä¼Šäººï¼Œåœ¨æ°´ä¸€æ–¹ã€‚<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- find_element_by_css_selector(&quot;.content&quot;) --&gt;</span><br>    <span class="hljs-comment">&lt;!-- æ‰¾ä¸åˆ°å…ƒç´ ä¼šæŠ›å‡ºNoSuchElementExceptionå¼‚å¸¸ --&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="2-7-é“¾æ¥æ–‡æœ¬è·å–"><a href="#2-7-é“¾æ¥æ–‡æœ¬è·å–" class="headerlink" title="2-7 é“¾æ¥æ–‡æœ¬è·å–"></a>2-7 é“¾æ¥æ–‡æœ¬è·å–</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs HTML"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align: center;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>è’¹è‘­è‹è‹ï¼Œç™½éœ²ä¸ºéœœã€‚æ‰€è°“ä¼Šäººï¼Œåœ¨æ°´ä¸€æ–¹ã€‚<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;index.html&quot;</span>&gt;</span>é¦–é¡µ<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;about.html&quot;</span>&gt;</span>å…³äº<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- find_element_by_link_text(&#x27;é¦–é¡µ&#x27;) --&gt;</span><br>    <span class="hljs-comment">&lt;!-- æ‰¾ä¸åˆ°å…ƒç´ ä¼šNoSuchElementExceptionå¼‚å¸¸ --&gt;</span><br>    <span class="hljs-comment">&lt;!-- find_element_by_partial_link_text(&#x27;å…³&#x27;) --&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h1 id="3-ç­‰å¾…è®¾ç½®"><a href="#3-ç­‰å¾…è®¾ç½®" class="headerlink" title="3 ç­‰å¾…è®¾ç½®"></a>3 ç­‰å¾…è®¾ç½®</h1><ul><li>ç­‰å¾…è®¾ç½®<ul><li>å›ºå®šç­‰å¾…ï¼š<code>timd.sleep()</code>ã€‚<ul><li>ä¸ç®¡æµè§ˆå™¨æ˜¯å¦åŠ è½½å®Œï¼Œç¨‹åºéƒ½å¾—ç­‰å¾…ï¼Œå¯¹äºè°ƒè¯•é˜¶æ®µååˆ†æœ‰ç”¨ã€‚</li><li>ä½†å¤ªè¿‡æ­»æ¿ï¼Œä¸¥é‡å½±å“ç¨‹åºæ‰§è¡Œé€Ÿåº¦ï¼Œè‡ªåŠ¨åŒ–æµ‹è¯•æ—¶ä¸å»ºè®®ä½¿ç”¨ã€‚</li></ul></li><li>éšå¼ç­‰å¾…ï¼š<code>implicitly_wait()</code>ã€‚<ul><li>è§„å®šæ—¶é—´å†…ç½‘é¡µåŠ è½½å®Œï¼Œåˆ™æ‰§è¡Œä¸‹ä¸€æ­¥ï¼Œå¦åˆ™ç­‰åˆ°æ—¶é—´æˆªæ­¢ï¼Œå†æ‰§è¡Œä¸‹ä¸€æ­¥ã€‚</li><li>è¯¥ç­‰å¾…æ–¹å¼å¯¹äºæ•´ä¸ªæµè§ˆå™¨é©±åŠ¨çš„å‘¨æœŸéƒ½èµ·ä½œç”¨ï¼Œæ‰€ä»¥åªéœ€è¦è®¾ç½®ä¸€æ¬¡å³å¯ã€‚</li></ul></li><li>æ˜¾ç¤ºç­‰å¾…ï¼š<code>WebDriverWait()</code>ã€‚<ul><li>ç¨‹åºéš”å‡ ç§’çœ‹ä¸€çœ¼ï¼Œæ¡ä»¶æˆç«‹åˆ™æ‰§è¡Œä¸‹ä¸€æ­¥ï¼Œå¦åˆ™ç»§ç»­ç­‰å¾…ã€‚</li><li>ç›´åˆ°è¶…è¿‡è®¾ç½®çš„æœ€é•¿æ—¶é—´ï¼Œç„¶åæŠ›å‡ºTimeoutExceptionå¼‚å¸¸ã€‚</li></ul></li></ul></li></ul><h2 id="3-1-å›ºå®šç­‰å¾…"><a href="#3-1-å›ºå®šç­‰å¾…" class="headerlink" title="3-1 å›ºå®šç­‰å¾…"></a>3-1 å›ºå®šç­‰å¾…</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> time <span class="hljs-keyword">import</span> sleep<br><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver                           <span class="hljs-comment"># fixed_waiting.py</span><br><br>driver = webdriver.Edge()<br>driver.maximize_window()                                 <span class="hljs-comment"># æµè§ˆå™¨çª—å£æœ€å¤§åŒ–</span><br>driver.get(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br>sleep(<span class="hljs-number">30</span>)                                                <span class="hljs-comment"># å›ºå®šç­‰å¾…30ç§’å†æ‰§è¡Œä¸‹ä¸€æ­¥</span><br><span class="hljs-built_in">print</span>(driver.current_url)                                <span class="hljs-comment"># è·å–å½“å‰é¡µé¢çš„URL</span><br>driver.quit()                                            <span class="hljs-comment"># quitå…³é—­æ•´ä¸ªæµè§ˆå™¨</span><br></code></pre></td></tr></table></figure><h2 id="3-2-éšå¼ç­‰å¾…"><a href="#3-2-éšå¼ç­‰å¾…" class="headerlink" title="3-2 éšå¼ç­‰å¾…"></a>3-2 éšå¼ç­‰å¾…</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver                           <span class="hljs-comment"># implicit_waiting.py</span><br><br>driver = webdriver.Edge()<br>driver.maximize_window()                                 <span class="hljs-comment"># æµè§ˆå™¨çª—å£æœ€å¤§åŒ–</span><br>driver.implicitly_wait(<span class="hljs-number">30</span>)                               <span class="hljs-comment"># éšå¼ç­‰å¾…ï¼Œæœ€é•¿ç­‰30ç§’</span><br>driver.get(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br><span class="hljs-built_in">print</span>(driver.current_url)                                <span class="hljs-comment"># è·å–å½“å‰é¡µé¢çš„URL</span><br>driver.quit()                                            <span class="hljs-comment"># quitå…³é—­æ•´ä¸ªæµè§ˆå™¨</span><br></code></pre></td></tr></table></figure><h2 id="3-3-æ˜¾ç¤ºç­‰å¾…"><a href="#3-3-æ˜¾ç¤ºç­‰å¾…" class="headerlink" title="3-3 æ˜¾ç¤ºç­‰å¾…"></a>3-3 æ˜¾ç¤ºç­‰å¾…</h2><ul><li>æ˜¾ç¤ºç­‰å¾…<ul><li><code>WebDriverWait(driver, timeout, poll_frequency, ignored_exceptions)</code></li><li>å‚æ•°è¯´æ˜<ul><li>driverï¼šæµè§ˆå™¨é©±åŠ¨ã€‚</li><li>timeoutï¼šæœ€é•¿è¶…æ—¶æ—¶é—´ï¼Œé»˜è®¤ä»¥ç§’ä¸ºå•ä½ã€‚</li><li>poll_frequencyï¼šè°ƒç”¨untilæˆ–until_notæ–¹æ³•çš„é—´éš”æ—¶é—´ï¼Œé»˜è®¤ä¸º0.5ç§’ã€‚</li><li>ignored_exceptionsï¼šè¶…æ—¶åçš„å¼‚å¸¸ä¿¡æ¯ï¼Œé»˜è®¤æŠ›å‡ºNoSuchElementExceptionå¼‚å¸¸ã€‚</li></ul></li><li>è°ƒç”¨æ–¹æ³•<ul><li><code>WebDriverWait(driver, timeout=3).until(method, message=&quot;&quot;)</code>ï¼Œè¿”å›å€¼Trueã€‚</li><li><code>WebDriverWait(driver, timeout=3).until_not(method, message=&quot;&quot;)</code>ï¼Œè¿”å›å€¼Falseã€‚</li></ul></li><li>expected_conditionsç±»æä¾›çš„é¢„æœŸæ¡ä»¶åˆ¤æ–­æ–¹æ³•<ul><li>alert_is_presentï¼šåˆ¤æ–­é¡µé¢ä¸Šæ˜¯å¦å­˜åœ¨alertã€‚</li><li>element_to_be_clickableï¼šåˆ¤æ–­æŸä¸ªå…ƒç´ æ˜¯å¦å¯ä»¥ç‚¹å‡»ã€‚</li><li>title<ul><li>title_isï¼šåˆ¤æ–­å½“å‰é¡µé¢çš„æ ‡é¢˜æ˜¯å¦ç­‰äºé¢„æœŸå­—ç¬¦ä¸²ã€‚</li><li>title_containsï¼šåˆ¤æ–­å½“å‰é¡µé¢çš„æ ‡é¢˜æ˜¯å¦åŒ…å«é¢„æœŸã€‚</li></ul></li><li>presence<ul><li>presence_of_element_locatedï¼šéªŒè¯åªè¦ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„å…ƒç´ è¢«åŠ è½½å‡ºæ¥ï¼Œå°±å¯é€šè¿‡ã€‚</li><li>presence_of_all_elements_locatedï¼šéªŒè¯å¿…é¡»æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„å…ƒç´ éƒ½åŠ è½½å‡ºæ¥æ‰é€šè¿‡ã€‚</li></ul></li><li>staleness_ofï¼šåˆ¤æ–­ä¸€ä¸ªå…ƒç´ æ˜¯å¦ä»åœ¨DOMä¸­ï¼Œä¼ å…¥WebElementï¼Œå¯åˆ¤æ–­é¡µé¢æ˜¯å¦åˆ·æ–°äº†ã€‚</li><li>visibility<ul><li>visibility_ofï¼šåˆ¤æ–­å…ƒç´ æ˜¯å¦å¯è§ï¼Œä¼ å…¥WebElementã€‚</li><li>visibility_of_element_locatedï¼šåˆ¤æ–­å…ƒç´ æ˜¯å¦å¯è§ï¼Œä¼ å…¥çš„å‚æ•°æ˜¯å…ƒç»„ç±»å‹çš„locatorã€‚</li><li>invisibility_of_element_locatedï¼šåˆ¤æ–­å…ƒç´ æ˜¯å¦ä¸å¯è§ï¼Œä¼ å…¥å‚æ•°æ˜¯å…ƒç»„ç±»å‹çš„locatorã€‚</li></ul></li><li>text<ul><li>text_to_be_present_in_elementï¼šåˆ¤æ–­æŸä¸ªå…ƒç´ ä¸­çš„textæ˜¯å¦åŒ…å«é¢„æœŸçš„å­—ç¬¦ä¸²ã€‚</li><li>text_to_be_present_in_element_valueï¼šåˆ¤æ–­æŸä¸ªå…ƒç´ çš„valueå±æ€§æ˜¯å¦åŒ…å«é¢„æœŸçš„å­—ç¬¦ä¸²ã€‚</li></ul></li><li>frame_to_be_available_and_switch_to_itï¼šåˆ¤æ–­è¡¨å•æ˜¯å¦å¯ä»¥åˆ‡å…¥ï¼Œå¯åˆ‡å…¥åˆ™è¿”å›Trueå¹¶åˆ‡å…¥ã€‚</li><li>element<ul><li>element_to_be_selectedï¼šåˆ¤æ–­å…ƒç´ æ˜¯å¦è¢«é€‰ä¸­ï¼Œä¼ å…¥WebElementå¯¹è±¡ã€‚</li><li>element_located_to_be_selectedï¼šåˆ¤æ–­å…ƒç´ æ˜¯å¦è¢«é€‰ä¸­ï¼Œä¼ locatorå…ƒç»„ã€‚</li><li>element_selection_state_to_beï¼šåˆ¤æ–­å…ƒç´ æ˜¯å¦è¢«é€‰ä¸­ï¼Œä¼ å…¥WebElementå¯¹è±¡å’ŒçŠ¶æ€ï¼Œç›¸ç­‰è¿”å›Trueã€‚</li><li>element_located_selection_state_to_beï¼šåˆ¤æ–­å…ƒç´ æ˜¯å¦è¢«é€‰ä¸­ï¼Œä¼ å…¥locatorä»¥åŠçŠ¶æ€ï¼Œç›¸ç­‰è¿”å›Trueã€‚</li></ul></li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver                          <span class="hljs-comment"># display_waiting.py</span><br><span class="hljs-keyword">from</span> selenium.webdriver.common.by <span class="hljs-keyword">import</span> By<br><span class="hljs-keyword">from</span> selenium.webdriver.support.wait <span class="hljs-keyword">import</span> WebDriverWait<br><span class="hljs-keyword">from</span> selenium.webdriver.support <span class="hljs-keyword">import</span> expected_conditions <span class="hljs-keyword">as</span> EC<br><br>driver = webdriver.Edge()<br>driver.maximize_window()                                <span class="hljs-comment"># æµè§ˆå™¨çª—å£æœ€å¤§åŒ–</span><br>driver.implicitly_wait(<span class="hljs-number">10</span>)                              <span class="hljs-comment"># éšå¼ç­‰å¾…ï¼Œæœ€é•¿ç­‰10ç§’</span><br>driver.get(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br>locator = (By.LINK_TEXT, <span class="hljs-string">&#x27;hao123&#x27;</span>)<br><br><span class="hljs-keyword">try</span>:<br>    wait = WebDriverWait(driver, <span class="hljs-number">20</span>, <span class="hljs-number">0.5</span>)               <span class="hljs-comment"># æ˜¾ç¤ºç­‰å¾…å¯åŒéšå¼ç­‰å¾…ä¸€èµ·ç”¨</span><br>    wait.until(EC.presence_of_element_located(locator))<br>    driver.find_element_by_link_text(<span class="hljs-string">&#x27;hao123&#x27;</span>)          <span class="hljs-comment"># æœ€é•¿çš„ç­‰å¾…æ—¶é—´å–å†³äºä¸¤è€…ä¹‹é—´çš„æœ€å¤§å€¼</span><br><span class="hljs-keyword">finally</span>:<br>    driver.close()                                      <span class="hljs-comment"># å…³é—­å½“å‰æ ‡ç­¾é¡µ</span><br></code></pre></td></tr></table></figure><h1 id="4-å¸¸ç”¨æ–¹æ³•"><a href="#4-å¸¸ç”¨æ–¹æ³•" class="headerlink" title="4 å¸¸ç”¨æ–¹æ³•"></a>4 å¸¸ç”¨æ–¹æ³•</h1><ul><li>å¸¸ç”¨æ–¹æ³•<ul><li><code>name</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·æŸ¥çœ‹æµè§ˆå™¨åç§°</li><li><code>title</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·è·å–å½“å‰é¡µé¢æ ‡é¢˜ï¼Œåˆ¤æ–­é¡µé¢è·³è½¬æ˜¯å¦ç¬¦åˆé¢„æœŸ</li><li><code>current_url</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·è·å–å½“å‰é¡µé¢URLï¼Œä¸€èˆ¬å¯ä»¥ç”¨æ¥æµ‹è¯•é‡å®šå‘æ“ä½œ</li><li><code>back()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·åé€€</li><li><code>forward()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·å‰è¿›</li><li><code>refresh()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·åˆ·æ–°é¡µé¢</li><li><code>maximize_window()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·æµè§ˆå™¨çª—å£æœ€å¤§åŒ–</li><li><code>switch_to.alert</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·ç„¦ç‚¹åˆ‡æ¢åˆ°å¼¹çª—ä¸­</li><li><code>get_window_position()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·è·å–å½“å‰çª—å£çš„åæ ‡</li><li><code>get_window_size()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·è·å–å½“å‰çª—å£çš„å®½å’Œé«˜</li><li><code>set_window_size(width, height)</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·è®¾ç½®å½“å‰çª—å£çš„å®½å’Œé«˜</li><li><code>get_screenshot_as_file(filename)</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·æˆªå–å½“å‰é¡µé¢</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> time <span class="hljs-keyword">import</span> sleep<br><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver                          <span class="hljs-comment"># common_method.py</span><br><span class="hljs-keyword">from</span> selenium.webdriver.common.action_chains <span class="hljs-keyword">import</span> ActionChains<br><br>driver = webdriver.Edge()<br>driver.get(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Browser: &quot;</span> + driver.name)                        <span class="hljs-comment"># æŸ¥çœ‹æµè§ˆå™¨åç§°</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Title: &quot;</span> + driver.title)                         <span class="hljs-comment"># è·å–å½“å‰é¡µé¢æ ‡é¢˜</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;URL: &quot;</span> + driver.current_url)                     <span class="hljs-comment"># è·å–å½“å‰é¡µé¢URL</span><br><br>driver.find_element_by_id(<span class="hljs-string">&quot;kw&quot;</span>).send_keys(<span class="hljs-string">&quot;Selenium&quot;</span>)<br>driver.find_element_by_id(<span class="hljs-string">&quot;su&quot;</span>).click()                 <span class="hljs-comment"># ç‚¹å‡»æœç´¢seleniumå†…å®¹</span><br>sleep(<span class="hljs-number">3</span>)<br>driver.back()                                           <span class="hljs-comment"># åé€€å›ç™¾åº¦é¦–é¡µ</span><br>sleep(<span class="hljs-number">3</span>)<br>driver.forward()                                        <span class="hljs-comment"># å‰è¿›åˆ°æœç´¢seleniumé¡µé¢</span><br>sleep(<span class="hljs-number">3</span>)<br>driver.back()                                           <span class="hljs-comment"># åé€€å›ç™¾åº¦é¦–é¡µ</span><br>sleep(<span class="hljs-number">3</span>)<br>driver.refresh()                                        <span class="hljs-comment"># åˆ·æ–°é¡µé¢</span><br><br>driver.maximize_window()                                <span class="hljs-comment"># æµè§ˆå™¨çª—å£æœ€å¤§åŒ–</span><br>sleep(<span class="hljs-number">3</span>)<br>setmenu = driver.find_element_by_id(<span class="hljs-string">&quot;s-usersetting-top&quot;</span>)<br>ActionChains(driver).move_to_element(setmenu).perform()<br>driver.find_element_by_link_text(<span class="hljs-string">&#x27;æœç´¢è®¾ç½®&#x27;</span>).click()<br>sleep(<span class="hljs-number">3</span>)<br>driver.find_element_by_link_text(<span class="hljs-string">&#x27;ä¿å­˜è®¾ç½®&#x27;</span>).click()<br>sleep(<span class="hljs-number">3</span>)<br>text = driver.switch_to.alert.text                      <span class="hljs-comment"># åˆ‡æ¢åˆ°å¼¹çª—ä¸­ï¼Œè·å–å¼¹çª—æç¤ºä¿¡æ¯</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Pop-up alert message: &quot;</span> + text)<br>sleep(<span class="hljs-number">3</span>)<br>driver.switch_to.alert.accept()                         <span class="hljs-comment"># æ¥å—è­¦å‘Šæ¡†</span><br>sleep(<span class="hljs-number">3</span>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Coordinates of the current window: &quot;</span> + <span class="hljs-built_in">str</span>(driver.get_window_position()))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Width and height of the current window: &quot;</span> + <span class="hljs-built_in">str</span>(driver.get_window_size()))<br>driver.set_window_size(<span class="hljs-number">1440</span>, <span class="hljs-number">700</span>)                       <span class="hljs-comment"># è®¾ç½®å½“å‰çª—å£çš„å®½å’Œé«˜</span><br>driver.get_screenshot_as_file(<span class="hljs-string">&quot;.\picture\common_method.png&quot;</span>)<br>sleep(<span class="hljs-number">3</span>)                                                <span class="hljs-comment"># æˆªå–å½“å‰é¡µé¢</span><br><br>driver.quit()                                           <span class="hljs-comment"># quitå…³é—­æ•´ä¸ªæµè§ˆå™¨</span><br></code></pre></td></tr></table></figure><h2 id="4-1-Cookie"><a href="#4-1-Cookie" class="headerlink" title="4-1 Cookie"></a>4-1 Cookie</h2><ul><li>Cookie<ul><li><code>get_cookies()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·è·å–æ‰€æœ‰Cookie</li><li><code>get_cookie(name)</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·è·å–nameå±æ€§çš„Cookie</li><li><code>delete_all_cookies()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·åˆ é™¤æµè§ˆå™¨ä¸­çš„æ‰€æœ‰Cookie</li><li><code>delete_cookie(name)</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·åˆ é™¤nameå±æ€§çš„Cookie</li><li><code>add_cookie(cookie_dic)</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·æ·»åŠ Cookie(Cookieæ ¼å¼ä¸ºå­—å…¸)</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver                          <span class="hljs-comment"># cookie_operation.py</span><br><br>driver = webdriver.Edge()<br>driver.get(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br><br><span class="hljs-built_in">print</span>(driver.get_cookies())                             <span class="hljs-comment"># è·å–æ‰€æœ‰Cookie</span><br><span class="hljs-built_in">print</span>(driver.get_cookie(name=<span class="hljs-string">&quot;ZFY&quot;</span>))                    <span class="hljs-comment"># è·å–ZFYå±æ€§çš„Cookie</span><br>driver.delete_cookie(name=<span class="hljs-string">&quot;ZFY&quot;</span>)                        <span class="hljs-comment"># åˆ é™¤ZFYå±æ€§çš„Cookie</span><br><span class="hljs-keyword">if</span> driver.get_cookie(name=<span class="hljs-string">&quot;ZFY&quot;</span>):                       <span class="hljs-comment"># åˆ¤æ–­ZFYå±æ€§çš„Cookieæ˜¯å¦è¿˜åœ¨</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Failed to delete.&quot;</span>)<br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Deleted successfully.&quot;</span>)<br>driver.delete_all_cookies()                             <span class="hljs-comment"># åˆ é™¤æµè§ˆå™¨ä¸­çš„æ‰€æœ‰Cookie</span><br>driver.add_cookie(&#123;                                     <span class="hljs-comment"># æ·»åŠ Cookie</span><br>    <span class="hljs-string">&#x27;domain&#x27;</span>: <span class="hljs-string">&#x27;.baidu.com&#x27;</span>,<br>    <span class="hljs-string">&#x27;expiry&#x27;</span>: <span class="hljs-number">2022112517</span>,<br>    <span class="hljs-string">&#x27;httpOnly&#x27;</span>: <span class="hljs-literal">False</span>,<br>    <span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;Test&#x27;</span>,<br>    <span class="hljs-string">&#x27;path&#x27;</span>: <span class="hljs-string">&#x27;/&#x27;</span>,<br>    <span class="hljs-string">&#x27;sameSite&#x27;</span>: <span class="hljs-string">&#x27;None&#x27;</span>,<br>    <span class="hljs-string">&#x27;secure&#x27;</span>: <span class="hljs-literal">True</span>,<br>    <span class="hljs-string">&#x27;value&#x27;</span>: <span class="hljs-string">&#x27;BWo2kLK:ASP9EHiAqyW83MVaN3FAjB:BD1FVCezH7s42g:C&#x27;</span><br>&#125;)<br><span class="hljs-built_in">print</span>(driver.get_cookie(name=<span class="hljs-string">&quot;Test&quot;</span>))                   <span class="hljs-comment"># è·å–Testå±æ€§çš„Cookie</span><br><br>driver.quit()                                           <span class="hljs-comment"># quitå…³é—­æ•´ä¸ªæµè§ˆå™¨</span><br></code></pre></td></tr></table></figure><h2 id="4-2-å¤šçª—å£"><a href="#4-2-å¤šçª—å£" class="headerlink" title="4-2 å¤šçª—å£"></a>4-2 å¤šçª—å£</h2><ul><li>å¤šçª—å£<ul><li>é¦–å…ˆéœ€è¦è·å¾—æ¯ä¸€ä¸ªçª—å£çš„å¥æŸ„ï¼Œå¥æŸ„å³å”¯ä¸€æ ‡è¯†ç¬¦å·ã€‚</li><li><code>quit()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·å…³é—­æ‰€æœ‰çª—å£</li><li><code>close()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·å…³é—­å½“å‰çª—å£</li><li><code>window_handles</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·è·å–æ‰€æœ‰çª—å£çš„å¥æŸ„</li><li><code>switch_to.window()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·åˆ‡æ¢åˆ°ç›¸åº”çš„çª—å£ä¸­</li><li><code>current_window_handle</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·è·å–å½“å‰çª—å£çš„å¥æŸ„</li><li><code>switch_to.parent_content</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·è¿”å›ä¸Šä¸€çº§è¡¨å•ï¼Œæ–°æ–¹æ³•</li><li><code>switch_to_parent_content()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·è¿”å›ä¸Šä¸€çº§è¡¨å•ï¼Œæ—§æ–¹æ³•</li><li><code>switch_to.default_content()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·è¿”å›æœ€å¤–å±‚è¡¨å•ï¼Œæ–°æ–¹æ³•</li><li><code>switch_to_default_content()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·è¿”å›æœ€å¤–å±‚è¡¨å•ï¼Œæ—§æ–¹æ³•</li><li><code>switch_to.frame(id/name/xpath)</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·åˆ‡æ¢åˆ°è¢«åµŒå¥—çš„frameä¸­</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> time <span class="hljs-keyword">import</span> sleep<br><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver                          <span class="hljs-comment"># multiple_windows.py</span><br><br>driver = webdriver.Edge()<br>driver.get(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br>driver.execute_script(<span class="hljs-string">&quot;window.open(&#x27;https://mail.163.com/&#x27;)&quot;</span>)<br><br>handles = driver.window_handles                         <span class="hljs-comment"># è·å–æ‰€æœ‰çª—å£çš„å¥æŸ„</span><br><span class="hljs-built_in">print</span>(handles)<br>current = driver.current_window_handle                  <span class="hljs-comment"># è·å–å½“å‰çª—å£çš„å¥æŸ„</span><br><span class="hljs-built_in">print</span>(current)<br><span class="hljs-keyword">for</span> handle <span class="hljs-keyword">in</span> handles:<br>    <span class="hljs-keyword">if</span> handle != current:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Switch to second window.&quot;</span>)<br>        <span class="hljs-built_in">print</span>(handle)<br>        driver.close()                                  <span class="hljs-comment"># closeå…³é—­å½“å‰çª—å£</span><br>        sleep(<span class="hljs-number">3</span>)<br>        driver.switch_to.window(handle)                 <span class="hljs-comment"># åˆ‡æ¢åˆ°ç¬¬äºŒä¸ªçª—å£</span><br>        sleep(<span class="hljs-number">3</span>)<br><br>driver.maximize_window()                                <span class="hljs-comment"># æµè§ˆå™¨çª—å£æœ€å¤§åŒ–</span><br>iframe = driver.find_element_by_xpath(<span class="hljs-string">&quot;//*[@id=&#x27;loginDiv&#x27;]/iframe&quot;</span>)<br>driver.switch_to.frame(iframe)                          <span class="hljs-comment"># åˆ‡æ¢åˆ°è¢«åµŒå¥—çš„frameä¸­</span><br>driver.find_element_by_xpath(<span class="hljs-string">&quot;//*[@id=&#x27;login-form&#x27;]/div/div/div[2]/input&quot;</span>).send_keys(<span class="hljs-string">&#x27;admin&#x27;</span>)<br>sleep(<span class="hljs-number">3</span>)                                                <span class="hljs-comment"># è¾“å…¥è´¦å·</span><br>driver.find_element_by_xpath(<span class="hljs-string">&quot;//*[@id=&#x27;login-form&#x27;]/div/div[3]/div[2]/input[2]&quot;</span>).send_keys(<span class="hljs-string">&#x27;12345&#x27;</span>)<br>sleep(<span class="hljs-number">3</span>)                                                <span class="hljs-comment"># è¾“å…¥å¯†ç </span><br>driver.find_element_by_xpath(<span class="hljs-string">&quot;//*[@id=&#x27;login-form&#x27;]/div/div[8]/a&quot;</span>).click()<br>sleep(<span class="hljs-number">3</span>)                                                <span class="hljs-comment"># ç‚¹å‡»ç™»å½•</span><br><br>driver.switch_to.parent_frame()                         <span class="hljs-comment"># è¿”å›ä¸Šä¸€çº§è¡¨å•</span><br><span class="hljs-comment"># driver.switch_to.default_content()                    # è¿”å›æœ€å¤–å±‚è¡¨å•</span><br><br>driver.quit()                                           <span class="hljs-comment"># quitå…³é—­æ•´ä¸ªæµè§ˆå™¨</span><br></code></pre></td></tr></table></figure><h2 id="4-3-è­¦å‘Šæ¡†"><a href="#4-3-è­¦å‘Šæ¡†" class="headerlink" title="4-3 è­¦å‘Šæ¡†"></a>4-3 è­¦å‘Šæ¡†</h2><ul><li>è­¦å‘Šæ¡†<ul><li>WebDriverå¤„ç†JavaScriptç”Ÿæˆçš„alertã€confirmå’Œpromptï¼Œä½¿ç”¨<code>switch_to.alert</code>æ–¹æ³•å®ç°ã€‚</li><li><code>switch_to.alert.text</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·è¿”å›alertã€confirmã€promptä¸­çš„æ–‡å­—ä¿¡æ¯</li><li><code>switch_to.alert.accept()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·æ¥å—ç°æœ‰è­¦å‘Šæ¡†</li><li><code>switch_to.alert.dismiss()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·è§£æ•£ç°æœ‰è­¦å‘Šæ¡†</li><li><code>switch_to.alert.send_keys()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·è­¦å‘Šæ¡†ä¸­è¾“å…¥æ–‡æœ¬ï¼Œåªé€‚ç”¨äºpromptå¼¹çª—<ul><li>alertæ–¹æ³•æœ‰ä¸€ä¸ªå‚æ•°ï¼Œå¼¹çª—æ˜¾ç¤ºåï¼Œåªä¸€ä¸ªç¡®è®¤æˆ–å…³é—­æŒ‰é’®ã€‚</li><li>confirmæ–¹æ³•è¦æ±‚ç”¨æˆ·é€‰æ‹©ï¼Œæœ‰ç¡®è®¤æœ‰è¿”å›ï¼Œç¡®å®šåˆ™Trueï¼Œå–æ¶ˆåˆ™Falseã€‚</li><li>promptæ–¹æ³•å¯åœ¨å¼¹çª—ä¸­è¾“å…¥æ–‡æœ¬ï¼Œè¾“å…¥å€¼åå¯ç‚¹å‡»ç¡®å®šï¼Œå–æ¶ˆå€¼ä¸ºNullã€‚</li></ul></li></ul></li></ul><h4 id="1-alert-box-py"><a href="#1-alert-box-py" class="headerlink" title="(1) alert_box.py"></a>(1) alert_box.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> time <span class="hljs-keyword">import</span> sleep<br><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver                          <span class="hljs-comment"># alert_box.py</span><br><span class="hljs-keyword">from</span> selenium.webdriver.common.action_chains <span class="hljs-keyword">import</span> ActionChains<br><br>driver = webdriver.Edge()<br>driver.get(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br>driver.maximize_window()                                <span class="hljs-comment"># æµè§ˆå™¨çª—å£æœ€å¤§åŒ–</span><br><br>setmenu = driver.find_element_by_id(<span class="hljs-string">&quot;s-usersetting-top&quot;</span>)<br>ActionChains(driver).move_to_element(setmenu).perform()<br>driver.find_element_by_link_text(<span class="hljs-string">&#x27;æœç´¢è®¾ç½®&#x27;</span>).click()<br>sleep(<span class="hljs-number">3</span>)<br>driver.find_element_by_link_text(<span class="hljs-string">&#x27;ä¿å­˜è®¾ç½®&#x27;</span>).click()<br>sleep(<span class="hljs-number">3</span>)<br>text = driver.switch_to.alert.text                      <span class="hljs-comment"># åˆ‡æ¢åˆ°å¼¹çª—ä¸­ï¼Œè·å–å¼¹çª—æç¤ºä¿¡æ¯</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Pop-up alert message: &quot;</span> + text)<br>sleep(<span class="hljs-number">3</span>)<br>driver.switch_to.alert.dismiss()                        <span class="hljs-comment"># å–æ¶ˆ</span><br>sleep(<span class="hljs-number">3</span>)<br><br>driver.get(<span class="hljs-string">&quot;file:///D:/.../alert_box.html&quot;</span>)             <span class="hljs-comment"># è·¯å¾„éœ€è¦è¡¥å……å®Œæ•´</span><br>sleep(<span class="hljs-number">3</span>)<br>driver.find_element_by_xpath(<span class="hljs-string">&quot;//button[@onclick=&#x27;myFunction()&#x27;]&quot;</span>).click()<br>sleep(<span class="hljs-number">3</span>)<br>driver.switch_to.alert.send_keys(<span class="hljs-string">&#x27;Dr.626&#x27;</span>)<br>sleep(<span class="hljs-number">5</span>)<br>driver.switch_to.alert.accept()                         <span class="hljs-comment"># æ¥å—è­¦å‘Šæ¡†</span><br>sleep(<span class="hljs-number">3</span>)<br><br>driver.quit()                                           <span class="hljs-comment"># quitå…³é—­æ•´ä¸ªæµè§ˆå™¨</span><br></code></pre></td></tr></table></figure><h4 id="2-alert-box-html"><a href="#2-alert-box-html" class="headerlink" title="(2) alert_box.html"></a>(2) alert_box.html</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-comment">&lt;!-- alert_box.html --&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>è­¦å‘Šæ¡†<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align: center;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ç‚¹å‡»æŒ‰é’®æŸ¥çœ‹è¾“å…¥çš„å¯¹è¯æ¡†ã€‚<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;myFunction()&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 195px; height: 40px;&quot;</span>&gt;</span>ç‚¹æˆ‘<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;demo&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">myFunction</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">var</span> x;</span><br><span class="language-javascript">            <span class="hljs-keyword">var</span> person = <span class="hljs-title function_">prompt</span>(<span class="hljs-string">&quot;è¯·è¾“å…¥ä½ çš„åå­—ï¼š&quot;</span>, <span class="hljs-string">&quot;&quot;</span>);</span><br><span class="language-javascript">            <span class="hljs-keyword">if</span> (person != <span class="hljs-literal">null</span> &amp;&amp; person != <span class="hljs-string">&quot;&quot;</span>) &#123;</span><br><span class="language-javascript">                x = <span class="hljs-string">&quot;ä½ å¥½ï¼Œ&quot;</span> + person + <span class="hljs-string">&quot;ï¼ä»Šå¤©æ„Ÿè§‰å¦‚ä½•ï¼Ÿ&quot;</span>;</span><br><span class="language-javascript">                <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;demo&quot;</span>).<span class="hljs-property">innerHTML</span> = x;</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="4-4-ä¸‹æ‹‰æ¡†"><a href="#4-4-ä¸‹æ‹‰æ¡†" class="headerlink" title="4-4 ä¸‹æ‹‰æ¡†"></a>4-4 ä¸‹æ‹‰æ¡†</h2><ul><li>ä¸‹æ‹‰æ¡†<ul><li>å…ˆå®šä½åˆ°ä¸‹æ‹‰æ¡†ï¼Œå†å®šä½é€‰é¡¹ã€‚</li><li>éœ€ç‚¹å‡»æ‰èƒ½æ˜¾ç¤ºé€‰é¡¹æ—¶ï¼Œæœ‰ä¸¤æ¬¡ç‚¹å‡»åŠ¨ä½œï¼Œç¬¬ä¸€æ¬¡ç‚¹å‡»ä¸‹æ‹‰æ¡†ï¼Œç¬¬äºŒæ¬¡ç‚¹å‡»é€‰é¡¹ã€‚</li><li>ä¸éœ€ç‚¹å‡»ï¼Œé¼ æ ‡æ”¾ä¸Šå»å°±ä¼šæ˜¾ç¤ºé€‰é¡¹æ—¶ï¼Œåˆ™å¯ä½¿ç”¨<code>move_to_element()</code>æ–¹æ³•å®šä½ã€‚</li><li>é’ˆå¯¹ä¸‹æ‹‰æ¡†æ˜¯selectæ ‡ç­¾çš„<ul><li>å¯¼å…¥Selectç±»ï¼š<code>from selenium.webdriver.support.select import Select</code>ã€‚<ul><li><code>select_by_index(index)</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·æ ¹æ®indexå±æ€§å®šä½é€‰é¡¹ï¼Œindexä»0å¼€å§‹</li><li><code>select_by_value(value)</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·æ ¹æ®valueå±æ€§å®šä½é€‰é¡¹</li><li><code>select_by_visible_text(text)</code>Â·Â·Â·Â·Â·æ ¹æ®é€‰é¡¹æ–‡æœ¬å€¼å®šä½é€‰é¡¹</li><li><code>first_selected_option</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·è¿”å›é€‰ä¸­çš„ç¬¬ä¸€ä¸ªé€‰æ‹©é¡¹</li><li><code>first_selected_option.text</code>Â·Â·Â·Â·Â·Â·Â·è¿”å›é»˜è®¤é€‰é¡¹çš„æ–‡æœ¬ä¿¡æ¯</li><li><code>all_selected_options</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·è¿”å›æ‰€æœ‰å·²é€‰ä¸­çš„é€‰æ‹©é¡¹</li></ul></li><li>å–æ¶ˆé€‰æ‹©deselectï¼Œåªé€‚ç”¨äºæ·»åŠ äº†multipleçš„ä¸‹æ‹‰æ¡†ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚<ul><li><code>deselect_by_index(index)</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·æ ¹æ®indexå±æ€§æ¸…é™¤é€‰å®šçš„é€‰é¡¹ï¼Œindexä»0å¼€å§‹</li><li><code>deselect_by_value(value)</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·æ ¹æ®valueå±æ€§æ¸…é™¤é€‰å®šçš„é€‰é¡¹</li><li><code>deselect_by_visible_text(text)</code>Â·Â·Â·æ ¹æ®é€‰é¡¹æ–‡æœ¬å€¼æ¸…é™¤é€‰å®šçš„é€‰é¡¹</li><li><code>deselect_all()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·æ¸…é™¤æ‰€æœ‰é€‰é¡¹</li></ul></li></ul></li></ul></li></ul><h4 id="1-drop-down-py"><a href="#1-drop-down-py" class="headerlink" title="(1) drop_down.py"></a>(1) drop_down.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver                          <span class="hljs-comment"># drop_down.py</span><br><span class="hljs-keyword">from</span> selenium.webdriver.support.select <span class="hljs-keyword">import</span> Select<br><br>driver = webdriver.Edge()<br>driver.get(<span class="hljs-string">&quot;file:///D:/.../drop_down_month.html&quot;</span>)       <span class="hljs-comment"># drop_down_month.htmlæ–‡ä»¶å­˜æ”¾è·¯å¾„</span><br>driver.maximize_window()                                <span class="hljs-comment"># æµè§ˆå™¨çª—å£æœ€å¤§åŒ–</span><br><br>select1 = Select(driver.find_element_by_xpath(<span class="hljs-string">&quot;/html/body/form[2]/select&quot;</span>))<br>select1.select_by_index(<span class="hljs-number">0</span>)                              <span class="hljs-comment"># æ ¹æ®indexå±æ€§å®šä½é€‰é¡¹ï¼Œindexä»0å¼€å§‹</span><br>select1.select_by_value(<span class="hljs-string">&quot;2&quot;</span>)                            <span class="hljs-comment"># æ ¹æ®valueå±æ€§å®šä½é€‰é¡¹</span><br>select1.select_by_visible_text(<span class="hljs-string">&quot;ä¸‰æœˆ&quot;</span>)<br><span class="hljs-keyword">for</span> select <span class="hljs-keyword">in</span> select1.all_selected_options:             <span class="hljs-comment"># æ ¹æ®é€‰é¡¹æ–‡æœ¬å€¼å®šä½é€‰é¡¹</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Selected selections 1: &quot;</span> + select.text)      <span class="hljs-comment"># è¿”å›æ‰€æœ‰å·²é€‰ä¸­çš„é€‰æ‹©é¡¹</span><br><br>select2 = Select(driver.find_element_by_xpath(<span class="hljs-string">&quot;/html/body/form[1]/select&quot;</span>))<br>text1 = select2.first_selected_option                   <span class="hljs-comment"># è¿”å›é€‰ä¸­çš„ç¬¬ä¸€ä¸ªé€‰æ‹©é¡¹</span><br>text2 = select2.first_selected_option.text              <span class="hljs-comment"># è¿”å›é»˜è®¤é€‰é¡¹çš„æ–‡æœ¬ä¿¡æ¯</span><br><span class="hljs-built_in">print</span>(text1)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Default option text 0: &quot;</span> + text2)<br><br>select1.select_by_index(<span class="hljs-number">0</span>)<br>select1.select_by_index(<span class="hljs-number">1</span>)<br>select1.select_by_index(<span class="hljs-number">2</span>)<br>select1.select_by_index(<span class="hljs-number">3</span>)<br>select1.select_by_index(<span class="hljs-number">4</span>)<br>select1.select_by_index(<span class="hljs-number">5</span>)<br>select1.deselect_by_index(<span class="hljs-number">0</span>)                            <span class="hljs-comment"># æ ¹æ®indexå±æ€§æ¸…é™¤é€‰å®šçš„é€‰é¡¹ï¼Œindexä»0å¼€å§‹</span><br>select1.deselect_by_value(<span class="hljs-string">&quot;1&quot;</span>)                          <span class="hljs-comment"># æ ¹æ®valueå±æ€§æ¸…é™¤é€‰å®šçš„é€‰é¡¹</span><br>select1.deselect_by_visible_text(<span class="hljs-string">&quot;ä¸‰æœˆ&quot;</span>)<br><span class="hljs-keyword">for</span> select <span class="hljs-keyword">in</span> select1.all_selected_options:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Selected selections 2: &quot;</span> + select.text)      <span class="hljs-comment"># è¿”å›æ‰€æœ‰å·²é€‰ä¸­çš„é€‰æ‹©é¡¹</span><br><br>select1.deselect_all()                                  <span class="hljs-comment"># æ¸…é™¤æ‰€æœ‰é€‰é¡¹</span><br><span class="hljs-keyword">for</span> select <span class="hljs-keyword">in</span> select1.all_selected_options:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Selected selections 3: &quot;</span> + select.text)      <span class="hljs-comment"># è¿”å›æ‰€æœ‰å·²é€‰ä¸­çš„é€‰æ‹©é¡¹</span><br><br>driver.quit()                                           <span class="hljs-comment"># quitå…³é—­æ•´ä¸ªæµè§ˆå™¨</span><br></code></pre></td></tr></table></figure><h4 id="2-drop-down-fruit-html"><a href="#2-drop-down-fruit-html" class="headerlink" title="(2) drop_down_fruit.html"></a>(2) drop_down_fruit.html</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-comment">&lt;!-- drop_down_fruit.htmlï¼Œâ€œæ°´æœæ‹¼ç›˜â€æ¨¡æ‹Ÿä¸‹æ‹‰æ¡†å¤šé€‰æ“ä½œæš‚æœªæ‰¾åˆ°å®ç°æ–¹æ³• --&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>ä¸‹æ‹‰æ¡† | æ°´æœ<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// æœç´¢å¼•æ“ï¼šselectå•é€‰</span></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">oc</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-title function_">alert</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-property">f1</span>.<span class="hljs-property">t1</span>.<span class="hljs-title function_">value</span>());</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        <span class="hljs-comment">// æ°´æœæ‹¼ç›˜ã€é€‰æ‹©åŸå¸‚ï¼šmultipleå¯å¤šé€‰</span></span><br><span class="language-javascript">        (<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            selectMultip = &#123;</span><br><span class="language-javascript">                <span class="hljs-attr">register</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">id</span>) &#123;</span><br><span class="language-javascript">                    <span class="hljs-comment">// æ€è·¯ï¼šä¸ºä¸‹æ‹‰é€‰åˆ›å»ºä¸€ä¸ªéšè—çš„å­é€‰é¡¹</span></span><br><span class="language-javascript">                    <span class="hljs-comment">// æ¯æ¬¡å•é€‰ä¹‹åå°†å•é€‰çš„å€¼è¿½åŠ åˆ°éšè—çš„å­é€‰é¡¹ä¸­ï¼Œå¹¶å°†å­é€‰é¡¹é€‰ä¸­æ˜¾ç¤º</span></span><br><span class="language-javascript">                    <span class="hljs-comment">// å…¨å±€æŸ¥æ‰¾æ‰€æœ‰æ ‡è®°multipçš„select</span></span><br><span class="language-javascript">                    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">&quot;[multip]&quot;</span>).<span class="hljs-title function_">forEach</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) &#123;</span><br><span class="language-javascript">                        <span class="hljs-title function_">render</span>(e);</span><br><span class="language-javascript">                    &#125;)</span><br><span class="language-javascript">                &#125;,</span><br><span class="language-javascript">                <span class="hljs-attr">reload</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">id, data, setData</span>) &#123;</span><br><span class="language-javascript">                    <span class="hljs-keyword">var</span> htm = <span class="hljs-string">&quot;&quot;</span>;</span><br><span class="language-javascript">                    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; data.<span class="hljs-property">length</span>; i++) &#123;</span><br><span class="language-javascript">                        htm += <span class="hljs-string">&#x27;&lt;option value=&quot;&#x27;</span> + data[i].<span class="hljs-property">value</span> + <span class="hljs-string">&#x27;&quot;&gt;&#x27;</span> + data[i].<span class="hljs-property">text</span> + <span class="hljs-string">&#x27;&lt;/option&gt;&#x27;</span></span><br><span class="language-javascript">                    &#125;</span><br><span class="language-javascript">                    <span class="hljs-keyword">var</span> e = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(id);</span><br><span class="language-javascript">                    e.<span class="hljs-property">innerHTML</span> = htm;</span><br><span class="language-javascript">                    <span class="hljs-title function_">render</span>(e);</span><br><span class="language-javascript">                    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setVal</span>(id, setData);</span><br><span class="language-javascript">                &#125;,</span><br><span class="language-javascript">                <span class="hljs-attr">setVal</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">id, str</span>) &#123;</span><br><span class="language-javascript">                    <span class="hljs-keyword">var</span> type = <span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>(str);</span><br><span class="language-javascript">                    <span class="hljs-keyword">switch</span> (type) &#123;</span><br><span class="language-javascript">                        <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;[object String]&quot;</span>:</span><br><span class="language-javascript">                            <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(id).<span class="hljs-property">val</span> = str;</span><br><span class="language-javascript">                            <span class="hljs-keyword">break</span>;</span><br><span class="language-javascript">                        <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;[object Array]&quot;</span>:</span><br><span class="language-javascript">                            <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(id).<span class="hljs-property">val</span> = str.<span class="hljs-title function_">toString</span>();</span><br><span class="language-javascript">                            <span class="hljs-keyword">break</span>;</span><br><span class="language-javascript">                        <span class="hljs-attr">default</span>:</span><br><span class="language-javascript">                            <span class="hljs-keyword">break</span>;</span><br><span class="language-javascript">                    &#125;</span><br><span class="language-javascript">                &#125;,</span><br><span class="language-javascript">                <span class="hljs-attr">getVal</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">id</span>) &#123;</span><br><span class="language-javascript">                    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(id).<span class="hljs-property">val</span>;</span><br><span class="language-javascript">                &#125;,</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">            <span class="hljs-keyword">function</span> <span class="hljs-title function_">render</span>(<span class="hljs-params">e</span>) &#123;</span><br><span class="language-javascript">                e.<span class="hljs-property">param</span> = &#123;</span><br><span class="language-javascript">                    <span class="hljs-attr">arr</span>: [],</span><br><span class="language-javascript">                    <span class="hljs-attr">valarr</span>: [],</span><br><span class="language-javascript">                    <span class="hljs-attr">opts</span>: []</span><br><span class="language-javascript">                &#125;;</span><br><span class="language-javascript">                <span class="hljs-keyword">var</span> choosevalue = <span class="hljs-string">&quot;&quot;</span>,</span><br><span class="language-javascript">                    op;</span><br><span class="language-javascript">                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; e.<span class="hljs-property">length</span>; i++) &#123;</span><br><span class="language-javascript">                    op = e.<span class="hljs-title function_">item</span>(i);</span><br><span class="language-javascript">                    e.<span class="hljs-property">param</span>.<span class="hljs-property">opts</span>.<span class="hljs-title function_">push</span>(op);</span><br><span class="language-javascript">                    <span class="hljs-keyword">if</span> (op.<span class="hljs-title function_">hasAttribute</span>(<span class="hljs-string">&quot;choose&quot;</span>)) &#123;</span><br><span class="language-javascript">                        <span class="hljs-keyword">if</span> (choosevalue == <span class="hljs-string">&quot;&quot;</span>) &#123;</span><br><span class="language-javascript">                            choosevalue = op.<span class="hljs-property">value</span></span><br><span class="language-javascript">                        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="language-javascript">                            choosevalue += <span class="hljs-string">&quot;,&quot;</span> + op.<span class="hljs-property">value</span>;</span><br><span class="language-javascript">                        &#125;</span><br><span class="language-javascript">                    &#125;</span><br><span class="language-javascript">                &#125;</span><br><span class="language-javascript">                <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªéšè—çš„optionæ ‡ç­¾ç”¨æ¥å­˜å‚¨å¤šé€‰çš„å€¼ï¼Œå…¶ä¸­çš„å€¼ä¸ºä¸€ä¸ªæ•°ç»„</span></span><br><span class="language-javascript">                <span class="hljs-keyword">var</span> option = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&quot;option&quot;</span>);</span><br><span class="language-javascript">                option.<span class="hljs-property">hidden</span> = <span class="hljs-literal">true</span>;</span><br><span class="language-javascript">                e.<span class="hljs-title function_">appendChild</span>(option);</span><br><span class="language-javascript">                e.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">&quot;input&quot;</span>, selchange);</span><br><span class="language-javascript">                e.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;input&quot;</span>, selchange);</span><br><span class="language-javascript">                <span class="hljs-comment">// é‡æ–°å®šä¹‰æ ‡ç­¾åŸºç¡€å±æ€§çš„getå’Œsetæ–¹æ³•ï¼Œå®ç°å–å€¼å’Œèµ‹å€¼çš„åŠŸèƒ½</span></span><br><span class="language-javascript">                <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(e, <span class="hljs-string">&quot;val&quot;</span>, &#123;</span><br><span class="language-javascript">                        <span class="hljs-attr">get</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">                            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;[hidden]&quot;</span>).<span class="hljs-property">value</span>;</span><br><span class="language-javascript">                        &#125;,</span><br><span class="language-javascript">                        <span class="hljs-attr">set</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) &#123;</span><br><span class="language-javascript">                            e.<span class="hljs-property">param</span>.<span class="hljs-property">valarr</span> = [];</span><br><span class="language-javascript">                            <span class="hljs-keyword">var</span> valrealarr = value == <span class="hljs-string">&quot;&quot;</span> ? [] : value.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot;,&quot;</span>);</span><br><span class="language-javascript">                            e.<span class="hljs-property">param</span>.<span class="hljs-property">arr</span> = [];</span><br><span class="language-javascript">                            e.<span class="hljs-property">param</span>.<span class="hljs-property">opts</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">o</span>) &#123;</span><br><span class="language-javascript">                                o.<span class="hljs-property">style</span> = <span class="hljs-string">&quot;&quot;</span>;</span><br><span class="language-javascript">                            &#125;);</span><br><span class="language-javascript">                            <span class="hljs-keyword">if</span> (valrealarr.<span class="hljs-title function_">toString</span>()) &#123;</span><br><span class="language-javascript">                                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; valrealarr.<span class="hljs-property">length</span>; i++) &#123;</span><br><span class="language-javascript">                                    e.<span class="hljs-property">param</span>.<span class="hljs-property">opts</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">o</span>) &#123;</span><br><span class="language-javascript">                                        <span class="hljs-keyword">if</span> (o.<span class="hljs-property">value</span> == valrealarr[i]) &#123;</span><br><span class="language-javascript">                                            o.<span class="hljs-property">style</span> = <span class="hljs-string">&quot;color: blue;&quot;</span>;</span><br><span class="language-javascript">                                            e.<span class="hljs-property">param</span>.<span class="hljs-property">arr</span>.<span class="hljs-title function_">push</span>(o.<span class="hljs-property">text</span>);</span><br><span class="language-javascript">                                            e.<span class="hljs-property">param</span>.<span class="hljs-property">valarr</span>.<span class="hljs-title function_">push</span>(o.<span class="hljs-property">value</span>)</span><br><span class="language-javascript">                                        &#125;</span><br><span class="language-javascript">                                    &#125;);</span><br><span class="language-javascript">                                &#125;</span><br><span class="language-javascript">                                <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>[e.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>].<span class="hljs-property">text</span> = e.<span class="hljs-property">param</span>.<span class="hljs-property">arr</span>.<span class="hljs-title function_">toString</span>();</span><br><span class="language-javascript">                                <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>[e.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>].<span class="hljs-property">value</span> = e.<span class="hljs-property">param</span>.<span class="hljs-property">valarr</span>.<span class="hljs-title function_">toString</span>();</span><br><span class="language-javascript">                                <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>[e.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>].<span class="hljs-property">selected</span> = <span class="hljs-literal">true</span>;</span><br><span class="language-javascript">                            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="language-javascript">                                <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>[<span class="hljs-number">0</span>].<span class="hljs-property">selected</span> = <span class="hljs-literal">true</span>;</span><br><span class="language-javascript">                            &#125;</span><br><span class="language-javascript">                        &#125;,</span><br><span class="language-javascript">                        <span class="hljs-attr">configurable</span>: <span class="hljs-literal">true</span></span><br><span class="language-javascript">                    &#125;)</span><br><span class="language-javascript">                    <span class="hljs-comment">// æ·»åŠ å±æ€§chooseï¼Œæ­¤å±æ€§æ·»åŠ åˆ°optionä¸­ç”¨æ¥æŒ‡å®šé»˜è®¤å€¼</span></span><br><span class="language-javascript">                e.<span class="hljs-property">val</span> = choosevalue;</span><br><span class="language-javascript">                <span class="hljs-comment">// æ·»åŠ å±æ€§tipï¼Œæ­¤å±æ€§æ·»åŠ åˆ°selectæ ‡ç­¾ä¸Š</span></span><br><span class="language-javascript">                <span class="hljs-keyword">if</span> (e.<span class="hljs-title function_">hasAttribute</span>(<span class="hljs-string">&quot;tip&quot;</span>) &amp;&amp; !e.<span class="hljs-property">tiped</span>) &#123;</span><br><span class="language-javascript">                    e.<span class="hljs-property">tiped</span> = <span class="hljs-literal">true</span>;</span><br><span class="language-javascript">                    e.<span class="hljs-title function_">insertAdjacentHTML</span>(<span class="hljs-string">&#x27;afterend&#x27;</span>, <span class="hljs-string">&#x27;&lt;i style=&quot;color: red; \</span></span><br><span class="hljs-string"><span class="language-javascript">                                          font-size: 12px&quot;&gt;*å¯å¤šé€‰*\&lt;/i&gt;&#x27;</span>);</span><br><span class="language-javascript">                &#125;</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">            <span class="hljs-keyword">function</span> <span class="hljs-title function_">selchange</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">                <span class="hljs-keyword">var</span> text = <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>[<span class="hljs-variable language_">this</span>.<span class="hljs-property">selectedIndex</span>].<span class="hljs-property">text</span>;</span><br><span class="language-javascript">                <span class="hljs-keyword">var</span> value = <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>[<span class="hljs-variable language_">this</span>.<span class="hljs-property">selectedIndex</span>].<span class="hljs-property">value</span>;</span><br><span class="language-javascript">                <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>[<span class="hljs-variable language_">this</span>.<span class="hljs-property">selectedIndex</span>].<span class="hljs-property">style</span> = <span class="hljs-string">&quot;color: blue;&quot;</span>;</span><br><span class="language-javascript">                <span class="hljs-keyword">var</span> ind = <span class="hljs-variable language_">this</span>.<span class="hljs-property">param</span>.<span class="hljs-property">arr</span>.<span class="hljs-title function_">indexOf</span>(text);</span><br><span class="language-javascript">                <span class="hljs-keyword">if</span> (ind &gt; -<span class="hljs-number">1</span>) &#123;</span><br><span class="language-javascript">                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">param</span>.<span class="hljs-property">arr</span>.<span class="hljs-title function_">splice</span>(ind, <span class="hljs-number">1</span>);</span><br><span class="language-javascript">                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">param</span>.<span class="hljs-property">valarr</span>.<span class="hljs-title function_">splice</span>(ind, <span class="hljs-number">1</span>);</span><br><span class="language-javascript">                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">param</span>.<span class="hljs-property">opts</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">o</span>) &#123;</span><br><span class="language-javascript">                        <span class="hljs-keyword">if</span> (o.<span class="hljs-property">value</span> == value) &#123;</span><br><span class="language-javascript">                            o.<span class="hljs-property">style</span> = <span class="hljs-string">&quot;&quot;</span>;</span><br><span class="language-javascript">                        &#125;</span><br><span class="language-javascript">                    &#125;);</span><br><span class="language-javascript">                &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="language-javascript">                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">param</span>.<span class="hljs-property">arr</span>.<span class="hljs-title function_">push</span>(text);</span><br><span class="language-javascript">                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">param</span>.<span class="hljs-property">valarr</span>.<span class="hljs-title function_">push</span>(value);</span><br><span class="language-javascript">                &#125;</span><br><span class="language-javascript">                <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>[<span class="hljs-variable language_">this</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>].<span class="hljs-property">text</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">param</span>.<span class="hljs-property">arr</span>.<span class="hljs-title function_">toString</span>();</span><br><span class="language-javascript">                <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>[<span class="hljs-variable language_">this</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>].<span class="hljs-property">value</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">param</span>.<span class="hljs-property">valarr</span>.<span class="hljs-title function_">toString</span>();</span><br><span class="language-javascript">                <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">param</span>.<span class="hljs-property">arr</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) &#123;</span><br><span class="language-javascript">                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>[<span class="hljs-variable language_">this</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>].<span class="hljs-property">selected</span> = <span class="hljs-literal">true</span>;</span><br><span class="language-javascript">                &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="language-javascript">                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>[<span class="hljs-number">0</span>].<span class="hljs-property">selected</span> = <span class="hljs-literal">true</span>;</span><br><span class="language-javascript">                &#125;</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">        &#125;)();</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">form</span>&gt;</span><br>        æœç´¢å¼•æ“ï¼š<br>        <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;sid&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 300px; height: 30px;&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>è¯·é€‰æ‹©<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;o1&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;id1&quot;</span>&gt;</span>è°·æ­Œ<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;o2&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;id2&quot;</span>&gt;</span>å¿…åº”<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;o3&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;id3&quot;</span>&gt;</span>æœç‹—<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;o4&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;id4&quot;</span>&gt;</span>ç™¾åº¦<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;o4&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;id5&quot;</span>&gt;</span>ç«ç‹<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">form</span>&gt;</span><br>        æ°´æœæ‹¼ç›˜ï¼š<br>        <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">multip</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;fruits&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 300px; height: 30px;&quot;</span> <span class="hljs-attr">tip</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>è¯·é€‰æ‹©<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;1&quot;</span>&gt;</span>æ¡ƒå­<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;2&quot;</span>&gt;</span>è‹¹æœ<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;3&quot;</span>&gt;</span>é¦™è•‰<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;4&quot;</span>&gt;</span>æ¨±æ¡ƒ<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;5&quot;</span>&gt;</span>è‰è“<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;6&quot;</span>&gt;</span>æ¨æ¡ƒ<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;7&quot;</span>&gt;</span>èœœæŸš<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><br>            selectMultip.register();<br>        <span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">form</span>&gt;</span><br>        é€‰æ‹©åŸå¸‚ï¼š<br>        <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">multip</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;city&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 300px; height: 30px;&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>è¯·é€‰æ‹©<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;gz&quot;</span>&gt;</span>å¹¿å·<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;wh&quot;</span>&gt;</span>æ­¦æ±‰<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;bj&quot;</span>&gt;</span>åŒ—äº¬<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;xm&quot;</span>&gt;</span>å¦é—¨<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;hz&quot;</span>&gt;</span>æ­å·<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;sz&quot;</span>&gt;</span>æ·±åœ³<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;sz&quot;</span>&gt;</span>è‹å·<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;nj&quot;</span>&gt;</span>å—äº¬<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;cq&quot;</span>&gt;</span>é‡åº†<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">fieldset</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 355px; height: 45px;&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">legend</span>&gt;</span>å•é€‰æŒ‰é’®Radio<span class="hljs-tag">&lt;/<span class="hljs-name">legend</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;fruit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;pg&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;pg&quot;</span>&gt;</span>è‹¹æœ<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;fruit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;jz&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;jz&quot;</span>&gt;</span>æ©˜å­<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;fruit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;xj&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;xj&quot;</span>&gt;</span>é¦™è•‰<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;fruit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;pt&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;li&quot;</span> <span class="hljs-attr">checked</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>è‘¡è„<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;fruit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;xg&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;xg&quot;</span> <span class="hljs-attr">checked</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>è¥¿ç“œ<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">fieldset</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">fieldset</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 355px; height: 130px;&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">legend</span>&gt;</span>å¤šé€‰æŒ‰é’®Checkbox<span class="hljs-tag">&lt;/<span class="hljs-name">legend</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;æ±½è½¦&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;qc&quot;</span>&gt;</span>æ±½è½¦<span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;è´­ç‰©&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;gw&quot;</span>&gt;</span>è´­ç‰©<span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;è´­ç‰©&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;ms&quot;</span>&gt;</span>ç¾é£Ÿ<span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;æ—…æ¸¸&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;ly&quot;</span> <span class="hljs-attr">readonly</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>æ—…æ¸¸<span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;éŸ³ä¹&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;yy&quot;</span> <span class="hljs-attr">disabled</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>éŸ³ä¹<span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>            <span class="hljs-comment">&lt;!-- ä¸å¯é€‰ --&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">fieldset</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="3-drop-down-month-html"><a href="#3-drop-down-month-html" class="headerlink" title="(3) drop_down_month.html"></a>(3) drop_down_month.html</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-comment">&lt;!-- drop_down_month.html --&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>ä¸‹æ‹‰æ¡† | æœˆä»½<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;https://unpkg.com/multiple-select@1.5.2/dist/multiple-select.min.css&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- Single Select --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">form</span>&gt;</span><br>        æœˆä»½å•é€‰ï¼š<br>        <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 300px; height: 30px;&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;1&quot;</span>&gt;</span>ä¸€æœˆ<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;2&quot;</span>&gt;</span>äºŒæœˆ<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;3&quot;</span>&gt;</span>ä¸‰æœˆ<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;4&quot;</span>&gt;</span>å››æœˆ<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;5&quot;</span>&gt;</span>äº”æœˆ<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;6&quot;</span>&gt;</span>å…­æœˆ<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;7&quot;</span>&gt;</span>ä¸ƒæœˆ<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;8&quot;</span>&gt;</span>å…«æœˆ<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;9&quot;</span>&gt;</span>ä¹æœˆ<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;10&quot;</span>&gt;</span>åæœˆ<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;11&quot;</span>&gt;</span>åä¸€æœˆ<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;12&quot;</span>&gt;</span>åäºŒæœˆ<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- Multiple Select --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">form</span>&gt;</span><br>        æœˆä»½å¤šé€‰ï¼š<br>        <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">multiple</span>=<span class="hljs-string">&quot;multiple&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 300px; height: 30px;&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;1&quot;</span>&gt;</span>ä¸€æœˆ<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;2&quot;</span>&gt;</span>äºŒæœˆ<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;3&quot;</span>&gt;</span>ä¸‰æœˆ<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;4&quot;</span>&gt;</span>å››æœˆ<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;5&quot;</span>&gt;</span>äº”æœˆ<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;6&quot;</span>&gt;</span>å…­æœˆ<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;7&quot;</span>&gt;</span>ä¸ƒæœˆ<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;8&quot;</span>&gt;</span>å…«æœˆ<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;9&quot;</span>&gt;</span>ä¹æœˆ<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;10&quot;</span>&gt;</span>åæœˆ<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;11&quot;</span>&gt;</span>åä¸€æœˆ<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;12&quot;</span>&gt;</span>åäºŒæœˆ<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">integrity</span>=<span class="hljs-string">&quot;sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUju\</span></span><br><span class="hljs-string"><span class="hljs-tag">            uRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==&quot;</span> <span class="hljs-attr">crossorigin</span>=<span class="hljs-string">&quot;anonymous&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://unpkg.com/multiple-select@1.5.2/dist/multiple-select.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        $(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            $(<span class="hljs-string">&#x27;select&#x27;</span>).<span class="hljs-title function_">multipleSelect</span>()</span><br><span class="language-javascript">        &#125;)</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="4-5-é¼ æ ‡äº‹ä»¶"><a href="#4-5-é¼ æ ‡äº‹ä»¶" class="headerlink" title="4-5 é¼ æ ‡äº‹ä»¶"></a>4-5 é¼ æ ‡äº‹ä»¶</h2><ul><li>é¼ æ ‡äº‹ä»¶<ul><li>ä½¿ç”¨å‰éœ€å…ˆå¯¼å…¥ActionChainsç±»ï¼š<code>from selenium.webdriver.common.action_chains import ActionChains</code>ã€‚</li><li>ç”¨æˆ·è¡Œä¸ºä¸ä¼šç«‹å³æ‰§è¡Œï¼Œè€Œæ˜¯å°†æ‰€æœ‰æ“ä½œæ”¾åœ¨ä¸€ä¸ªé˜Ÿåˆ—ä¸­ï¼Œæ‰§è¡Œperformæ–¹æ³•æ—¶æŒ‰æ”¾å…¥é˜Ÿåˆ—çš„é¡ºåºï¼Œå…ˆè¿›å…ˆå‡ºæ‰§è¡Œã€‚</li><li><code>perform()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·æ‰§è¡ŒActionChainsç±»ä¸­å­˜å‚¨çš„æ‰€æœ‰è¡Œä¸ºï¼Œå¯ä»¥ç†è§£ä¸ºå¯¹æ•´ä¸ªæ“ä½œçš„æäº¤åŠ¨ä½œ</li><li><code>release()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·åœ¨æŸä¸ªå…ƒç´ ä¸Šé‡Šæ”¾é¼ æ ‡ï¼Œå†™åœ¨<code>perform()</code>å‰ï¼Œé€šè¿‡<code>perform()</code>æ–¹æ³•æ¥æ‰§è¡Œ</li><li><code>click()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·é¼ æ ‡ç‚¹å‡»</li><li><code>double_click()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·é¼ æ ‡åŒå‡»</li><li><code>context_click()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·é¼ æ ‡å³å‡»</li><li><code>click_and_hold()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·æŒ‰ä½é¼ æ ‡å·¦é”®ä¸åŠ¨</li><li><code>move_to_element(target)</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·ç§»åŠ¨åˆ°æŸä¸ªå…ƒç´ ä¸Š</li><li><code>move_by_offset(xoffset, yoffset)</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·ç§»åŠ¨åˆ°æŸä¸ªåæ ‡ä¸Š</li><li><code>drag_and_drop(source, target)</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·æŒ‰ä½é¼ æ ‡å·¦é”®ï¼Œç„¶åç§»åŠ¨åˆ°ç›®æ ‡å…ƒç´ å¹¶é‡Šæ”¾é¼ æ ‡æŒ‰é’®</li><li><code>drag_and_drop_by_offset(source, xoffset, yoffset)</code>Â·Â·Â·æŒ‰ä½é¼ æ ‡å·¦é”®ï¼Œç„¶åç§»åŠ¨åˆ°ç›®æ ‡åç§»å¹¶é‡Šæ”¾é¼ æ ‡æŒ‰é’®</li></ul></li></ul><h4 id="1-mouse-event-py"><a href="#1-mouse-event-py" class="headerlink" title="(1) mouse_event.py"></a>(1) mouse_event.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> time <span class="hljs-keyword">import</span> sleep<br><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver                          <span class="hljs-comment"># mouse_event.py</span><br><span class="hljs-keyword">from</span> selenium.webdriver.common.action_chains <span class="hljs-keyword">import</span> ActionChains<br><br>driver = webdriver.Edge()<br>driver.get(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br>driver.maximize_window()                                <span class="hljs-comment"># æµè§ˆå™¨çª—å£æœ€å¤§åŒ–</span><br>sleep(<span class="hljs-number">3</span>)<br><br>element1 = driver.find_element_by_id(<span class="hljs-string">&quot;kw&quot;</span>)<br>ActionChains(driver).click(element1).perform()          <span class="hljs-comment"># é¼ æ ‡ç‚¹å‡»</span><br>sleep(<span class="hljs-number">3</span>)<br>element2 = driver.find_element_by_id(<span class="hljs-string">&quot;hotsearch-refresh-btn&quot;</span>)<br>ActionChains(driver).double_click(element2).perform()   <span class="hljs-comment"># é¼ æ ‡åŒå‡»</span><br>sleep(<span class="hljs-number">3</span>)<br>element3 = driver.find_element_by_xpath(<span class="hljs-string">&quot;//*[@id=&#x27;lg&#x27;]/img&quot;</span>)<br>ActionChains(driver).context_click(element3).perform()  <span class="hljs-comment"># é¼ æ ‡å³å‡»</span><br>sleep(<span class="hljs-number">3</span>)<br>ActionChains(driver).drag_and_drop(element3, element1).perform()<br>sleep(<span class="hljs-number">3</span>)<br><br>driver.get(<span class="hljs-string">&quot;file:///D:/.../mouse_event.html&quot;</span>)           <span class="hljs-comment"># mouse_event.htmlæ–‡ä»¶å­˜æ”¾è·¯å¾„</span><br>element4 = driver.find_element_by_xpath(<span class="hljs-string">&quot;/html/body/div[1]/div[2]/div/div&quot;</span>)<br>wholesld = driver.find_element_by_xpath(<span class="hljs-string">&quot;/html/body/div[1]/div[2]&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Size: &quot;</span> + <span class="hljs-built_in">str</span>(element4.size), <span class="hljs-string">&quot;Position: &quot;</span> + <span class="hljs-built_in">str</span>(element4.location[<span class="hljs-string">&#x27;x&#x27;</span>]))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Size: &quot;</span> + <span class="hljs-built_in">str</span>(wholesld.size), <span class="hljs-string">&quot;Position: &quot;</span> + <span class="hljs-built_in">str</span>(wholesld.location[<span class="hljs-string">&#x27;x&#x27;</span>]))<br>ActionChains(driver).click_and_hold(element4).perform()<br>sleep(<span class="hljs-number">3</span>)                                                <span class="hljs-comment"># æŒ‰ä½é¼ æ ‡å·¦é”®ä¸åŠ¨</span><br>ActionChains(driver).drag_and_drop_by_offset(element4, <span class="hljs-number">100</span>, <span class="hljs-number">0</span>).perform()<br>sleep(<span class="hljs-number">3</span>)<br>ActionChains(driver).drag_and_drop_by_offset(element4, <span class="hljs-number">312</span>, <span class="hljs-number">0</span>).release().perform()<br>sleep(<span class="hljs-number">3</span>)                                                <span class="hljs-comment"># éœ€é¼ æ ‡ç§»åŠ¨åˆ°å¯¹åº”çš„è‡ªåŠ¨åŒ–æ§åˆ¶æµè§ˆå™¨ä¸Š</span><br>element5 = driver.find_element_by_xpath(<span class="hljs-string">&quot;//*[@id=&#x27;dragEle&#x27;]&quot;</span>)<br>ActionChains(driver).move_to_element(element5).perform()<br>sleep(<span class="hljs-number">3</span>)<br>ActionChains(driver).move_by_offset(<span class="hljs-number">100</span>, <span class="hljs-number">30</span>).perform()<br>sleep(<span class="hljs-number">3</span>)<br><br>driver.quit()                                           <span class="hljs-comment"># quitå…³é—­æ•´ä¸ªæµè§ˆå™¨</span><br></code></pre></td></tr></table></figure><h4 id="2-mouse-event-html"><a href="#2-mouse-event-html" class="headerlink" title="(2) mouse_event.html"></a>(2) mouse_event.html</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-comment">&lt;!-- mouse_event.html --&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">HTML</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- æ»‘åŠ¨æ¡†1 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>æ»‘åŠ¨æ¡†<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">        * &#123;<span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>; <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;&#125;</span><br><span class="language-css">        <span class="hljs-selector-tag">body</span> &#123;<span class="hljs-attribute">background-color</span>: <span class="hljs-number">#E8E8E8</span>;&#125;</span><br><span class="language-css">        <span class="hljs-selector-class">.container</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">overflow</span>: hidden; <span class="hljs-attribute">margin</span>: <span class="hljs-number">50px</span> auto;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">310px</span>; <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">10px</span> <span class="hljs-number">10px</span> <span class="hljs-number">5px</span> <span class="hljs-number">#888888</span>;</span><br><span class="language-css">            <span class="hljs-attribute">border</span>: <span class="hljs-number">0px</span> solid powderblue; <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">0.3125rem</span>;</span><br><span class="language-css">            <span class="hljs-attribute">position</span>: relative;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">        <span class="hljs-selector-id">#canvas</span> &#123;<span class="hljs-attribute">background</span>: indianred;&#125;</span><br><span class="language-css">        <span class="hljs-selector-id">#block</span> &#123;<span class="hljs-attribute">position</span>: absolute; <span class="hljs-attribute">left</span>: <span class="hljs-number">0px</span>;&#125;</span><br><span class="language-css">        <span class="hljs-selector-class">.refreshIcon</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">position</span>: absolute; <span class="hljs-attribute">left</span>: <span class="hljs-number">280px</span>; <span class="hljs-attribute">top</span>: <span class="hljs-number">5px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">21px</span>; <span class="hljs-attribute">height</span>: <span class="hljs-number">20px</span>; <span class="hljs-attribute">cursor</span>: pointer;</span><br><span class="language-css">            <span class="hljs-attribute">background</span>: <span class="hljs-built_in">url</span>(<span class="hljs-string">./refresh.png</span>); <span class="hljs-attribute">display</span>: block;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">        <span class="hljs-selector-class">.verSliderBlock</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">40px</span>; <span class="hljs-attribute">width</span>: <span class="hljs-number">40px</span>; <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#00ff7f</span>;</span><br><span class="language-css">            <span class="hljs-attribute">background</span>: <span class="hljs-built_in">url</span>(<span class="hljs-string">&#x27;./right_arrow.png&#x27;</span>); <span class="hljs-attribute">background-size</span>: <span class="hljs-number">100%</span>;</span><br><span class="language-css">            <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">3px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, .<span class="hljs-number">3</span>); <span class="hljs-attribute">cursor</span>: pointer;</span><br><span class="language-css">            <span class="hljs-attribute">position</span>: absolute; <span class="hljs-attribute">text-align</span>: center; <span class="hljs-attribute">line-height</span>: <span class="hljs-number">40px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">color</span>: <span class="hljs-number">#45494c</span>; <span class="hljs-attribute">font-size</span>: <span class="hljs-number">25px</span>; <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">400</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">        <span class="hljs-selector-class">.bar</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">position</span>: relative; <span class="hljs-attribute">text-align</span>: center; <span class="hljs-attribute">width</span>: <span class="hljs-number">310px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">40px</span>; <span class="hljs-attribute">line-height</span>: <span class="hljs-number">40px</span>; <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">0px</span>; <span class="hljs-attribute">background</span>: <span class="hljs-number">#f7f9fa</span>;</span><br><span class="language-css">            <span class="hljs-attribute">color</span>: <span class="hljs-number">#45494c</span>; <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#e4e7eb</span>; <span class="hljs-attribute">display</span>: block;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">        <span class="hljs-selector-id">#bar-mask</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">position</span>: absolute; <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>; <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>; <span class="hljs-attribute">height</span>: <span class="hljs-number">40px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">border</span>: <span class="hljs-number">0</span> solid <span class="hljs-number">#1991fa</span>; <span class="hljs-attribute">background</span>: <span class="hljs-number">#d1e9fe</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;container&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;310&quot;</span> <span class="hljs-attr">height</span>=<span class="hljs-string">&quot;155&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;canvas&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;310&quot;</span> <span class="hljs-attr">height</span>=<span class="hljs-string">&quot;155&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;block&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;refreshIcon&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;bar&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;bar-mask&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;verSliderBlock&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;slide&quot;</span>&gt;</span>å‘å³æ»‘åŠ¨éªŒè¯<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    (<span class="hljs-keyword">function</span>(<span class="hljs-params"><span class="hljs-variable language_">window</span></span>) &#123;</span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> canvas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;canvas&#x27;</span>);</span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> block = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;block&#x27;</span>);</span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> canvas_ctx = canvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">&#x27;2d&#x27;</span>)</span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> block_ctx = block.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">&#x27;2d&#x27;</span>)</span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> img = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;img&#x27;</span>)</span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> refresh = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;.refreshIcon&#x27;</span>)</span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> x = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">200</span>) + <span class="hljs-number">10</span>,</span><br><span class="language-javascript">            y = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">100</span>) + <span class="hljs-number">10</span>,</span><br><span class="language-javascript">            w = <span class="hljs-number">42</span>,</span><br><span class="language-javascript">            l = <span class="hljs-number">42</span>,</span><br><span class="language-javascript">            r = <span class="hljs-number">10</span>,</span><br><span class="language-javascript">            <span class="hljs-variable constant_">PI</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span></span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(x, y)</span><br><span class="language-javascript">        <span class="hljs-comment">// è·å–å›¾ç‰‡åé¢çš„éšæœºå·ç </span></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">getRandomNumberByRange</span>(<span class="hljs-params">start, end</span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * (end - start) + start)</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        <span class="hljs-comment">// åˆå§‹åŒ–å›¾ç‰‡</span></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">initImg</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            img.<span class="hljs-property">onload</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">                canvas_ctx.<span class="hljs-title function_">drawImage</span>(img, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">310</span>, <span class="hljs-number">155</span>)</span><br><span class="language-javascript">                block_ctx.<span class="hljs-title function_">drawImage</span>(img, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">310</span>, <span class="hljs-number">155</span>)</span><br><span class="language-javascript">                <span class="hljs-keyword">var</span> blockWidth = w + r * <span class="hljs-number">2</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">                <span class="hljs-comment">// æ»‘å—å®é™…çš„yåæ ‡</span></span><br><span class="language-javascript">                <span class="hljs-keyword">var</span> _y = y - r * <span class="hljs-number">2</span> + <span class="hljs-number">2</span></span><br><span class="language-javascript">                <span class="hljs-keyword">var</span> <span class="hljs-title class_">ImageData</span> = block_ctx.<span class="hljs-title function_">getImageData</span>(x, _y, blockWidth, blockWidth)</span><br><span class="language-javascript">                block.<span class="hljs-property">width</span> = blockWidth</span><br><span class="language-javascript">                block_ctx.<span class="hljs-title function_">putImageData</span>(<span class="hljs-title class_">ImageData</span>, <span class="hljs-number">0</span>, _y)</span><br><span class="language-javascript">            &#125;;</span><br><span class="language-javascript">            img.<span class="hljs-property">crossOrigin</span> = <span class="hljs-string">&quot;Anonymous&quot;</span></span><br><span class="language-javascript">            img.<span class="hljs-property">src</span> = <span class="hljs-string">&#x27;https://picsum.photos/300/150/?image=&#x27;</span> + <span class="hljs-title function_">getRandomNumberByRange</span>(<span class="hljs-number">0</span>, <span class="hljs-number">100</span>)</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        <span class="hljs-comment">// æ¸…é™¤å›¾ç‰‡</span></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">clean</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            x = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">200</span>) + <span class="hljs-number">10</span>,</span><br><span class="language-javascript">                y = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">100</span>) + <span class="hljs-number">10</span>,</span><br><span class="language-javascript">                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(x, y)</span><br><span class="language-javascript">            canvas_ctx.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">310</span>, <span class="hljs-number">155</span>);</span><br><span class="language-javascript">            block_ctx.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">310</span>, <span class="hljs-number">155</span>)</span><br><span class="language-javascript">            block.<span class="hljs-property">width</span> = <span class="hljs-number">310</span></span><br><span class="language-javascript">            <span class="hljs-title function_">draw</span>(canvas_ctx, <span class="hljs-string">&#x27;fill&#x27;</span>)</span><br><span class="language-javascript">            <span class="hljs-title function_">draw</span>(block_ctx, <span class="hljs-string">&#x27;clip&#x27;</span>)</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        <span class="hljs-comment">// ç»˜åˆ¶æ–¹å—</span></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">draw</span>(<span class="hljs-params">ctx, operation</span>) &#123;</span><br><span class="language-javascript">            ctx.<span class="hljs-title function_">beginPath</span>()</span><br><span class="language-javascript">            ctx.<span class="hljs-title function_">moveTo</span>(x, y)</span><br><span class="language-javascript">            ctx.<span class="hljs-title function_">arc</span>(x + l / <span class="hljs-number">2</span>, y - r + <span class="hljs-number">2</span>, r, <span class="hljs-number">0.72</span> * <span class="hljs-variable constant_">PI</span>, <span class="hljs-number">2.26</span> * <span class="hljs-variable constant_">PI</span>)</span><br><span class="language-javascript">            ctx.<span class="hljs-title function_">lineTo</span>(x + l, y)</span><br><span class="language-javascript">            ctx.<span class="hljs-title function_">arc</span>(x + l + r - <span class="hljs-number">2</span>, y + l / <span class="hljs-number">2</span>, r, <span class="hljs-number">1.21</span> * <span class="hljs-variable constant_">PI</span>, <span class="hljs-number">2.78</span> * <span class="hljs-variable constant_">PI</span>)</span><br><span class="language-javascript">            ctx.<span class="hljs-title function_">lineTo</span>(x + l, y + l)</span><br><span class="language-javascript">            ctx.<span class="hljs-title function_">lineTo</span>(x, y + l)</span><br><span class="language-javascript">            ctx.<span class="hljs-title function_">arc</span>(x + r - <span class="hljs-number">2</span>, y + l / <span class="hljs-number">2</span>, r + <span class="hljs-number">0.4</span>, <span class="hljs-number">2.76</span> * <span class="hljs-variable constant_">PI</span>, <span class="hljs-number">1.24</span> * <span class="hljs-variable constant_">PI</span>, <span class="hljs-literal">true</span>)</span><br><span class="language-javascript">            ctx.<span class="hljs-title function_">lineTo</span>(x, y)</span><br><span class="language-javascript">            ctx.<span class="hljs-property">lineWidth</span> = <span class="hljs-number">2</span></span><br><span class="language-javascript">            ctx.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">&#x27;rgba(255, 255, 255, 0.7)&#x27;</span></span><br><span class="language-javascript">            ctx.<span class="hljs-property">strokeStyle</span> = <span class="hljs-string">&#x27;rgba(255, 255, 255, 0.7)&#x27;</span></span><br><span class="language-javascript">            ctx.<span class="hljs-title function_">stroke</span>()</span><br><span class="language-javascript">            ctx[operation]()</span><br><span class="language-javascript">            ctx.<span class="hljs-property">globalCompositeOperation</span> = <span class="hljs-string">&#x27;overlay&#x27;</span></span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        <span class="hljs-title function_">initImg</span>()</span><br><span class="language-javascript">        <span class="hljs-title function_">draw</span>(canvas_ctx, <span class="hljs-string">&#x27;fill&#x27;</span>)</span><br><span class="language-javascript">        <span class="hljs-title function_">draw</span>(block_ctx, <span class="hljs-string">&#x27;clip&#x27;</span>)</span><br><span class="language-javascript">        <span class="hljs-comment">// æ·»åŠ ç§»åŠ¨äº‹ä»¶</span></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> block_slider = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;#block&quot;</span>);</span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> slider = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;.verSliderBlock&quot;</span>);</span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> slider_mark = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;#bar-mask&quot;</span>);</span><br><span class="language-javascript">        <span class="hljs-comment">// ç”¨äºåˆ¤æ–­å½“å‰æ˜¯å¦æ˜¯åœ¨æŒ‰ä½æ»‘å—çš„æƒ…å†µä¸‹</span></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> yd = <span class="hljs-literal">false</span></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> moveX = <span class="hljs-number">0</span></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> downX = <span class="hljs-number">0</span></span><br><span class="language-javascript">        <span class="hljs-comment">// é¼ æ ‡æŒ‰ä¸‹</span></span><br><span class="language-javascript">        slider.<span class="hljs-property">onmousedown</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) &#123;</span><br><span class="language-javascript">            downX = e.<span class="hljs-property">clientX</span>;</span><br><span class="language-javascript">            yd = <span class="hljs-literal">true</span></span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        <span class="hljs-comment">// é¼ æ ‡ç§»åŠ¨äº‹ä»¶</span></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">hadleMousemove</span>(<span class="hljs-params">e</span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">if</span> (yd) &#123;</span><br><span class="language-javascript">                moveX = e.<span class="hljs-property">clientX</span> - downX;</span><br><span class="language-javascript">                <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;#slide&#x27;</span>).<span class="hljs-property">innerHTML</span> = <span class="hljs-string">&#x27;&#x27;</span></span><br><span class="language-javascript">                <span class="hljs-keyword">if</span> (moveX &gt;= <span class="hljs-number">310</span>) &#123;</span><br><span class="language-javascript">                    moveX = <span class="hljs-number">310</span> - <span class="hljs-number">40</span></span><br><span class="language-javascript">                &#125;</span><br><span class="language-javascript">                <span class="hljs-keyword">if</span> (moveX &gt; -<span class="hljs-number">2</span>) &#123;</span><br><span class="language-javascript">                    slider.<span class="hljs-property">style</span>.<span class="hljs-property">backgroundColor</span> = <span class="hljs-string">&quot;#1991FA&quot;</span>;</span><br><span class="language-javascript">                    slider_mark.<span class="hljs-property">style</span>.<span class="hljs-property">borderWidth</span> = <span class="hljs-string">&quot;1px&quot;</span></span><br><span class="language-javascript">                    slider_mark.<span class="hljs-property">style</span>.<span class="hljs-property">borderColor</span> = <span class="hljs-string">&quot;#1991fa&quot;</span></span><br><span class="language-javascript">                    slider_mark.<span class="hljs-property">style</span>.<span class="hljs-property">width</span> = moveX + <span class="hljs-number">40</span> + <span class="hljs-string">&quot;px&quot;</span>;</span><br><span class="language-javascript">                    block_slider.<span class="hljs-property">style</span>.<span class="hljs-property">left</span> = (<span class="hljs-number">310</span> - <span class="hljs-number">40</span> - <span class="hljs-number">20</span>) / (<span class="hljs-number">310</span> - <span class="hljs-number">40</span>) * moveX + <span class="hljs-string">&quot;px&quot;</span>;</span><br><span class="language-javascript">                    slider.<span class="hljs-property">style</span>.<span class="hljs-property">left</span> = moveX + <span class="hljs-string">&quot;px&quot;</span>;</span><br><span class="language-javascript">                &#125;</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        <span class="hljs-comment">// é¼ æ ‡æŠ¬èµ·äº‹ä»¶</span></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">hadleMouseup</span>(<span class="hljs-params">e</span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">if</span> (yd) &#123;</span><br><span class="language-javascript">                slider.<span class="hljs-property">onmousemove</span> = <span class="hljs-literal">null</span>;</span><br><span class="language-javascript">                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(moveX)</span><br><span class="language-javascript">                block_slider.<span class="hljs-property">style</span>.<span class="hljs-property">left</span> = (<span class="hljs-number">310</span> - <span class="hljs-number">40</span> - <span class="hljs-number">20</span>) / (<span class="hljs-number">310</span> - <span class="hljs-number">40</span>) * moveX + <span class="hljs-string">&quot;px&quot;</span>;</span><br><span class="language-javascript">                <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">abs</span>((<span class="hljs-number">310</span> - <span class="hljs-number">40</span> - <span class="hljs-number">20</span>) / (<span class="hljs-number">310</span> - <span class="hljs-number">40</span>) * moveX - x) &lt; <span class="hljs-number">10</span>) &#123;</span><br><span class="language-javascript">                    slider.<span class="hljs-property">style</span>.<span class="hljs-property">background</span> = <span class="hljs-string">&quot;url(&#x27;./success.png&#x27;)&quot;</span>;</span><br><span class="language-javascript">                    slider.<span class="hljs-property">style</span>.<span class="hljs-property">backgroundSize</span> = <span class="hljs-string">&#x27;100%&#x27;</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">                    <span class="hljs-comment">// alert(&#x27;éªŒè¯æˆåŠŸ&#x27;)</span></span><br><span class="language-javascript">                    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;</span><br><span class="language-javascript">                        <span class="hljs-title function_">rest</span>();</span><br><span class="language-javascript">                    &#125;, <span class="hljs-number">1000</span>)</span><br><span class="language-javascript">                &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="language-javascript">                    slider_mark.<span class="hljs-property">style</span>.<span class="hljs-property">backgroundColor</span> = <span class="hljs-string">&quot;#fce1e1&quot;</span></span><br><span class="language-javascript">                    slider_mark.<span class="hljs-property">style</span>.<span class="hljs-property">borderWidth</span> = <span class="hljs-string">&quot;1px&quot;</span></span><br><span class="language-javascript">                    slider_mark.<span class="hljs-property">style</span>.<span class="hljs-property">borderColor</span> = <span class="hljs-string">&quot;#f57a7a&quot;</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">                    slider.<span class="hljs-property">style</span>.<span class="hljs-property">backgroundColor</span> = <span class="hljs-string">&quot;#f57a7a&quot;</span>;</span><br><span class="language-javascript">                    slider.<span class="hljs-property">style</span>.<span class="hljs-property">background</span> = <span class="hljs-string">&quot;url(&#x27;./fail.png&#x27;)&quot;</span>;</span><br><span class="language-javascript">                    slider.<span class="hljs-property">style</span>.<span class="hljs-property">backgroundSize</span> = <span class="hljs-string">&#x27;100%&#x27;</span></span><br><span class="language-javascript">                    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;</span><br><span class="language-javascript">                        <span class="hljs-title function_">rest</span>();</span><br><span class="language-javascript">                    &#125;, <span class="hljs-number">1000</span>)</span><br><span class="language-javascript">                &#125;</span><br><span class="language-javascript">                yd = <span class="hljs-literal">false</span></span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        <span class="hljs-comment">// é¼ æ ‡åœ¨æŒ‰ä½æ»‘å—ä¸‹ç§»åŠ¨</span></span><br><span class="language-javascript">        slider.<span class="hljs-property">onmousemove</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-title function_">hadleMousemove</span>(e)</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        <span class="hljs-comment">// é¼ æ ‡åœ¨æ»‘å—ä¸‹æŠ¬èµ·</span></span><br><span class="language-javascript">        slider.<span class="hljs-property">onmouseup</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-title function_">hadleMouseup</span>(e)</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        <span class="hljs-comment">// è®¾ç½®å…¨å±€çš„ç§»åŠ¨äº‹ä»¶ï¼Œå½“é¼ æ ‡æŒ‰ä¸‹æ»‘å—åï¼Œç§»åŠ¨è¿‡ç¨‹ä¸­é¼ æ ‡å¯èƒ½ä¼šç§»å‡ºæ»‘å—</span></span><br><span class="language-javascript">        <span class="hljs-comment">// æ­¤æ—¶æ»‘å—ä¹Ÿä¼šç›‘å¬é¼ æ ‡çš„ç§»åŠ¨è¿›è¡Œç›¸åº”çš„ç§»åŠ¨</span></span><br><span class="language-javascript">        <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;mousemove&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-title function_">hadleMousemove</span>(e)</span><br><span class="language-javascript">        &#125;)</span><br><span class="language-javascript">        <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;mouseup&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-title function_">hadleMouseup</span>(e)</span><br><span class="language-javascript">        &#125;)</span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">rest</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-title function_">clean</span>()</span><br><span class="language-javascript">            <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;#slide&#x27;</span>).<span class="hljs-property">innerHTML</span> = <span class="hljs-string">&#x27;å‘å³æ»‘åŠ¨éªŒè¯&#x27;</span></span><br><span class="language-javascript">            slider.<span class="hljs-property">style</span>.<span class="hljs-property">backgroundColor</span> = <span class="hljs-string">&quot;#fff&quot;</span>;</span><br><span class="language-javascript">            slider.<span class="hljs-property">style</span>.<span class="hljs-property">left</span> = <span class="hljs-string">&quot;0px&quot;</span></span><br><span class="language-javascript">            slider.<span class="hljs-property">style</span>.<span class="hljs-property">background</span> = <span class="hljs-string">&quot;url(&#x27;./right_arrow.png&#x27;)&quot;</span>;</span><br><span class="language-javascript">            slider.<span class="hljs-property">style</span>.<span class="hljs-property">backgroundSize</span> = <span class="hljs-string">&#x27;100%&#x27;</span></span><br><span class="language-javascript">            block_slider.<span class="hljs-property">style</span>.<span class="hljs-property">left</span> = <span class="hljs-string">&quot;0px&quot;</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">            slider_mark.<span class="hljs-property">style</span>.<span class="hljs-property">width</span> = <span class="hljs-string">&quot;0px&quot;</span></span><br><span class="language-javascript">            slider_mark.<span class="hljs-property">style</span>.<span class="hljs-property">backgroundColor</span> = <span class="hljs-string">&quot;#d1e9fe&quot;</span></span><br><span class="language-javascript">            slider_mark.<span class="hljs-property">style</span>.<span class="hljs-property">borderWidth</span> = <span class="hljs-string">&quot;0px&quot;</span></span><br><span class="language-javascript">            slider_mark.<span class="hljs-property">style</span>.<span class="hljs-property">borderColor</span> = <span class="hljs-string">&quot;#d1e9fe&quot;</span></span><br><span class="language-javascript">            <span class="hljs-title function_">initImg</span>()</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        <span class="hljs-comment">// åˆ·æ–°</span></span><br><span class="language-javascript">        refresh.<span class="hljs-property">onclick</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-title function_">rest</span>()</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">    &#125;(<span class="hljs-variable language_">window</span>))</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- æ»‘åŠ¨æ¡†2 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-class">.main</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">position</span>: relative; <span class="hljs-attribute">width</span>: <span class="hljs-number">500px</span>; <span class="hljs-attribute">overflow</span>: hidden;</span><br><span class="language-css">            <span class="hljs-attribute">margin</span>: <span class="hljs-number">50px</span> auto; <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">10px</span> <span class="hljs-number">10px</span> <span class="hljs-number">5px</span> <span class="hljs-number">#888888</span>;</span><br><span class="language-css">            <span class="hljs-attribute">border</span>: <span class="hljs-number">0px</span> solid powderblue; <span class="hljs-attribute">position</span>: relative;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">        <span class="hljs-selector-id">#range</span> &#123;</span><br><span class="language-css">            -webkit-appearance: none; <span class="hljs-attribute">background</span>: <span class="hljs-number">#999</span>; <span class="hljs-attribute">height</span>: <span class="hljs-number">5px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">outline</span>: none; <span class="hljs-attribute">margin</span>: <span class="hljs-number">5px</span>; <span class="hljs-attribute">width</span>: <span class="hljs-number">490px</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">        <span class="hljs-selector-tag">input</span><span class="hljs-selector-attr">[type=range]</span>::-webkit-slider-thumb &#123;</span><br><span class="language-css">            -webkit-appearance: none; <span class="hljs-attribute">width</span>: <span class="hljs-number">15px</span>; <span class="hljs-attribute">height</span>: <span class="hljs-number">15px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">50%</span>; <span class="hljs-attribute">background</span>: red;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">        <span class="hljs-selector-tag">p</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">position</span>: absolute; <span class="hljs-attribute">width</span>: <span class="hljs-number">0px</span>; <span class="hljs-attribute">height</span>: <span class="hljs-number">3px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">background</span>: green; <span class="hljs-attribute">top</span>: -<span class="hljs-number">2px</span>; <span class="hljs-attribute">left</span>: <span class="hljs-number">10px</span>; <span class="hljs-attribute">text-align</span>: center;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">        <span class="hljs-selector-class">.range</span> &#123;<span class="hljs-attribute">position</span>: relative;&#125;</span><br><span class="language-css">        <span class="hljs-selector-class">.value</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>; <span class="hljs-attribute">background</span>: <span class="hljs-number">#ffebc7</span>;</span><br><span class="language-css">            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">40px</span>; <span class="hljs-attribute">text-align</span>: center; <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;main&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;value&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;range&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;range&quot;</span> <span class="hljs-attr">max</span>=<span class="hljs-string">&quot;10&quot;</span> <span class="hljs-attr">min</span>=<span class="hljs-string">&quot;0&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;range&quot;</span> <span class="hljs-attr">step</span>=<span class="hljs-string">&quot;0.1&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;0&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    $(<span class="hljs-string">&quot;.value&quot;</span>).<span class="hljs-title function_">html</span>(<span class="hljs-string">&quot;0&quot;</span>)</span><br><span class="language-javascript">    <span class="hljs-keyword">var</span> rangeSwitch = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> x = $(<span class="hljs-string">&quot;#range&quot;</span>).<span class="hljs-title function_">val</span>();</span><br><span class="language-javascript">        $(<span class="hljs-string">&quot;p&quot;</span>).<span class="hljs-title function_">css</span>(&#123;</span><br><span class="language-javascript">            <span class="hljs-string">&quot;width&quot;</span>: (x / <span class="hljs-number">10</span>) * <span class="hljs-number">500</span> * <span class="hljs-number">0.96</span></span><br><span class="language-javascript">        &#125;)</span><br><span class="language-javascript">        $(<span class="hljs-string">&quot;.value&quot;</span>).<span class="hljs-title function_">html</span>(x)</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">    $(<span class="hljs-string">&quot;#range&quot;</span>).<span class="hljs-title function_">on</span>(<span class="hljs-string">&quot;input&quot;</span>, rangeSwitch)</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- æ»‘åŠ¨æ¡†3 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-tag">body</span> &#123;<span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>; <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;&#125;</span><br><span class="language-css">        <span class="hljs-selector-tag">input</span> &#123;</span><br><span class="language-css">            appearance: none; -moz-appearance: none;</span><br><span class="language-css">            -webkit-appearance: none; <span class="hljs-attribute">background</span>: none; <span class="hljs-attribute">border</span>: none;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">        <span class="hljs-selector-class">.wrap</span> &#123;</span><br><span class="language-css">            <span class="hljs-comment">/* margin: 20px 0 0 200px; */</span></span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>; <span class="hljs-attribute">overflow</span>: hidden;</span><br><span class="language-css">            <span class="hljs-attribute">margin</span>: <span class="hljs-number">50px</span> auto; <span class="hljs-attribute">position</span>: relative;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">        <span class="hljs-selector-class">.box</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">position</span>: relative; <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>; <span class="hljs-attribute">height</span>: <span class="hljs-number">30px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">20px</span>; <span class="hljs-attribute">background</span>: <span class="hljs-number">#686B69</span>; <span class="hljs-attribute">line-height</span>: <span class="hljs-number">30px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">overflow</span>: hidden; <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">40px</span>; <span class="hljs-attribute">color</span>: <span class="hljs-number">#fff</span>; <span class="hljs-attribute">font-size</span>: <span class="hljs-number">12px</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">        <span class="hljs-selector-class">.btn</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">position</span>: absolute; <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>; <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>; <span class="hljs-attribute">height</span>: <span class="hljs-number">30px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">30px</span>; <span class="hljs-attribute">background</span>: <span class="hljs-number">#0c7</span>; <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">20px</span>; <span class="hljs-attribute">text-align</span>: center;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">        <span class="hljs-selector-class">.tips</span> &#123;<span class="hljs-attribute">text-align</span>: center;&#125;</span><br><span class="language-css">        <span class="hljs-selector-id">#submit</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">line-height</span>: <span class="hljs-number">28px</span>; <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">3px</span>; <span class="hljs-attribute">background</span>: <span class="hljs-number">#0c7</span>;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>; <span class="hljs-attribute">text-align</span>: center; <span class="hljs-attribute">color</span>: <span class="hljs-number">#fff</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;wrap&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;box&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;dragEle&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;tips&quot;</span>&gt;</span>&gt;&gt;æ‹–åŠ¨æ»‘å—éªŒè¯<br>                &lt;&lt;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;æäº¤éªŒè¯&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;submit&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://code.jquery.com/jquery-3.1.1.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">DragValidate</span>(<span class="hljs-params">dargEle, msgEle</span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-comment">// æ»‘å—æ‹–åŠ¨æ ‡è¯†</span></span><br><span class="language-javascript">            <span class="hljs-keyword">var</span> dragging = <span class="hljs-literal">false</span>;</span><br><span class="language-javascript">            <span class="hljs-keyword">var</span> iX;</span><br><span class="language-javascript">            dargEle.<span class="hljs-title function_">mousedown</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) &#123;</span><br><span class="language-javascript">                msgEle.<span class="hljs-title function_">text</span>(<span class="hljs-string">&quot;&quot;</span>);</span><br><span class="language-javascript">                dragging = <span class="hljs-literal">true</span>;</span><br><span class="language-javascript">                <span class="hljs-comment">// è·å–åˆå§‹åæ ‡</span></span><br><span class="language-javascript">                iX = e.<span class="hljs-property">clientX</span>;</span><br><span class="language-javascript">            &#125;);</span><br><span class="language-javascript">            $(<span class="hljs-variable language_">document</span>).<span class="hljs-title function_">mousemove</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) &#123;</span><br><span class="language-javascript">                <span class="hljs-keyword">if</span> (dragging) &#123;</span><br><span class="language-javascript">                    <span class="hljs-keyword">var</span> e = e || <span class="hljs-variable language_">window</span>.<span class="hljs-property">event</span>;</span><br><span class="language-javascript">                    <span class="hljs-keyword">var</span> oX = e.<span class="hljs-property">clientX</span> - iX;</span><br><span class="language-javascript">                    <span class="hljs-keyword">if</span> (oX &lt; <span class="hljs-number">30</span>) &#123;</span><br><span class="language-javascript">                        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="language-javascript">                    &#125;;</span><br><span class="language-javascript">                    <span class="hljs-comment">// å®¹å™¨å®½åº¦+10</span></span><br><span class="language-javascript">                    <span class="hljs-keyword">if</span> (oX &gt;= <span class="hljs-number">210</span>) &#123;</span><br><span class="language-javascript">                        oX = <span class="hljs-number">200</span>;</span><br><span class="language-javascript">                        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="language-javascript">                    &#125;;</span><br><span class="language-javascript">                    dargEle.<span class="hljs-title function_">width</span>(oX + <span class="hljs-string">&quot;px&quot;</span>);</span><br><span class="language-javascript">                    <span class="hljs-comment">// console.log(oX);</span></span><br><span class="language-javascript">                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="language-javascript">                &#125;;</span><br><span class="language-javascript">            &#125;);</span><br><span class="language-javascript">            $(<span class="hljs-variable language_">document</span>).<span class="hljs-title function_">mouseup</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) &#123;</span><br><span class="language-javascript">                <span class="hljs-keyword">var</span> width = dargEle.<span class="hljs-title function_">width</span>();</span><br><span class="language-javascript">                <span class="hljs-keyword">if</span> (width &lt; <span class="hljs-number">200</span>) &#123;</span><br><span class="language-javascript">                    <span class="hljs-comment">//console.log(width);</span></span><br><span class="language-javascript">                    dargEle.<span class="hljs-title function_">width</span>(<span class="hljs-string">&quot;30px&quot;</span>);</span><br><span class="language-javascript">                    msgEle.<span class="hljs-title function_">text</span>(<span class="hljs-string">&quot;&gt;&gt;æ‹–åŠ¨æ»‘å—éªŒè¯&lt;&lt;&quot;</span>);</span><br><span class="language-javascript">                &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="language-javascript">                    dargEle.<span class="hljs-title function_">attr</span>(<span class="hljs-string">&quot;validate&quot;</span>, <span class="hljs-string">&quot;true&quot;</span>).<span class="hljs-title function_">text</span>(<span class="hljs-string">&quot;éªŒè¯æˆåŠŸï¼&quot;</span>).<span class="hljs-title function_">unbind</span>(<span class="hljs-string">&quot;mousedown&quot;</span>);</span><br><span class="language-javascript">                &#125;;</span><br><span class="language-javascript">                dragging = <span class="hljs-literal">false</span>;</span><br><span class="language-javascript">            &#125;);</span><br><span class="language-javascript">        &#125;;</span><br><span class="language-javascript">        <span class="hljs-title class_">DragValidate</span>($(<span class="hljs-string">&quot;#dragEle&quot;</span>), $(<span class="hljs-string">&quot;.tips&quot;</span>));</span><br><span class="language-javascript">        $(<span class="hljs-string">&quot;#submit&quot;</span>).<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">if</span> (!$(<span class="hljs-string">&quot;#dragEle&quot;</span>).<span class="hljs-title function_">attr</span>(<span class="hljs-string">&quot;validate&quot;</span>)) &#123;</span><br><span class="language-javascript">                <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;è¯·å…ˆæ‹–åŠ¨æ»‘å—éªŒè¯ï¼&quot;</span>);</span><br><span class="language-javascript">            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="language-javascript">                <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;éªŒè¯æˆåŠŸï¼&quot;</span>);</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">        &#125;);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="4-6-é”®ç›˜äº‹ä»¶"><a href="#4-6-é”®ç›˜äº‹ä»¶" class="headerlink" title="4-6 é”®ç›˜äº‹ä»¶"></a>4-6 é”®ç›˜äº‹ä»¶</h2><ul><li>é”®ç›˜äº‹ä»¶<ul><li>å¯¼å…¥Keysç±»ï¼š<code>from selenium.webdriver.common.keys import Keys</code>ã€‚</li><li>ç»„åˆé”®<ul><li><code>send_keys(Keys.CONTROL, &#39;a&#39;)</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·å…¨é€‰</li><li><code>send_keys(Keys.CONTROL, &#39;c&#39;)</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·å¤åˆ¶</li><li><code>send_keys(Keys.CONTROL, &#39;v&#39;)</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·ç²˜è´´</li><li><code>send_keys(Keys.CONTROL, &#39;x&#39;)</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·å‰ªåˆ‡</li></ul></li><li>éç»„åˆé”®<ul><li><code>send_keys(Keys.F1~F12)</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·é”®ç›˜F1~F12ï¼Œä¾‹å¦‚ï¼šåˆ·æ–°é”®F5</li><li><code>send_keys(Keys.TAB)</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·åˆ¶è¡¨é”®</li><li><code>send_keys(Keys.ENTER)</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·å›è½¦é”®</li><li><code>send_keys(Keys.SPACE)</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·ç©ºæ ¼é”®</li><li><code>send_keys(Keys.ESCAPE)</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·å›é€€é”®</li><li><code>send_keys(Keys.BACK_SPACE)</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·åˆ é™¤é”®</li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> time <span class="hljs-keyword">import</span> sleep<br><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver                          <span class="hljs-comment"># keyboard_event.py</span><br><span class="hljs-keyword">from</span> selenium.webdriver.common.keys <span class="hljs-keyword">import</span> Keys<br><br>driver = webdriver.Edge()<br>driver.get(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br>driver.maximize_window()                                <span class="hljs-comment"># æµè§ˆå™¨çª—å£æœ€å¤§åŒ–</span><br>sleep(<span class="hljs-number">3</span>)<br><br>element1 = driver.find_element_by_xpath(<span class="hljs-string">&quot;//*[@id=&#x27;kw&#x27;]&quot;</span>)<br>element1.send_keys(<span class="hljs-string">&quot;SeleniumT&quot;</span>)<br>sleep(<span class="hljs-number">3</span>)<br>element1.send_keys(Keys.BACK_SPACE)                     <span class="hljs-comment"># åˆ é™¤è¾“å…¥çš„æœ€åä¸€ä¸ªå•è¯T</span><br>sleep(<span class="hljs-number">3</span>)<br>element1.send_keys(Keys.CONTROL, <span class="hljs-string">&#x27;a&#x27;</span>)                   <span class="hljs-comment"># å…¨é€‰</span><br>sleep(<span class="hljs-number">3</span>)<br>element1.send_keys(Keys.CONTROL, <span class="hljs-string">&#x27;c&#x27;</span>)                   <span class="hljs-comment"># å¤åˆ¶</span><br>sleep(<span class="hljs-number">3</span>)<br>element1.send_keys(Keys.CONTROL, <span class="hljs-string">&#x27;x&#x27;</span>)                   <span class="hljs-comment"># å‰ªåˆ‡</span><br>sleep(<span class="hljs-number">3</span>)<br>element1.send_keys(Keys.CONTROL, <span class="hljs-string">&#x27;v&#x27;</span>)                   <span class="hljs-comment"># ç²˜è´´</span><br>sleep(<span class="hljs-number">3</span>)<br>element1.send_keys(Keys.ENTER)                          <span class="hljs-comment"># å›è½¦</span><br>sleep(<span class="hljs-number">3</span>)<br><br>element2 = driver.find_element_by_xpath(<span class="hljs-string">&quot;//*[@id=&#x27;kw&#x27;]&quot;</span>)<br>element2.send_keys(<span class="hljs-string">&quot;Python&quot;</span>)<br>sleep(<span class="hljs-number">3</span>)<br>element2.send_keys(Keys.SPACE)                          <span class="hljs-comment"># ç©ºæ ¼</span><br>sleep(<span class="hljs-number">3</span>)<br>element2.send_keys(Keys.ESCAPE)                         <span class="hljs-comment"># å›é€€</span><br>sleep(<span class="hljs-number">3</span>)<br>element2.send_keys(Keys.F5)                             <span class="hljs-comment"># åˆ·æ–°é¡µé¢</span><br>sleep(<span class="hljs-number">3</span>)<br>element2.send_keys(Keys.TAB)                            <span class="hljs-comment"># åˆ¶è¡¨ä¸‹ä¸€ä¸ªæ ‡é¢˜</span><br>sleep(<span class="hljs-number">3</span>)<br><br>driver.quit()                                           <span class="hljs-comment"># quitå…³é—­æ•´ä¸ªæµè§ˆå™¨</span><br></code></pre></td></tr></table></figure><h2 id="4-7-æ“ä½œå¯¹è±¡å…ƒç´ "><a href="#4-7-æ“ä½œå¯¹è±¡å…ƒç´ " class="headerlink" title="4-7 æ“ä½œå¯¹è±¡å…ƒç´ "></a>4-7 æ“ä½œå¯¹è±¡å…ƒç´ </h2><ul><li>æ“ä½œå¯¹è±¡å…ƒç´ <ul><li><code>size</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·è¿”å›å…ƒç´ å°ºå¯¸</li><li><code>text</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·è·å–å…ƒç´ æ–‡æœ¬ä¿¡æ¯</li><li><code>clear()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·æ¸…é™¤å†…å®¹</li><li><code>click()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·é¼ æ ‡ç‚¹å‡»</li><li><code>submit()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·æäº¤è¡¨å•</li><li><code>location</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·è·å–å…ƒç´ åæ ‡</li><li><code>tag_name</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·è·å–å…ƒç´ æ ‡ç­¾ç±»å‹</li><li><code>send_keys()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·å‘è¾“å…¥æ¡†è¾“å…¥å†…å®¹</li><li><code>is_enabled()</code>Â·Â·Â·Â·Â·åˆ¤æ–­å…ƒç´ æ˜¯å¦å¯ç”¨ï¼Œé’ˆå¯¹<code>type=&quot;button&quot;</code>ï¼Œè¿”å›å€¼ä¸€èˆ¬ä¸ºTrueï¼ŒæŒ‰é’®ç½®ç°ä¸ºFalse</li><li><code>is_selected()</code>Â·Â·Â·Â·åˆ¤æ–­å…ƒç´ æ˜¯å¦è¢«é€‰ä¸­ï¼Œä¸€èˆ¬ç”¨äºåˆ¤æ–­è¡¨å•å…ƒç´ ï¼Œä¾‹å¦‚ï¼šradioæˆ–checkboxæ˜¯å¦è¢«é€‰ä¸­</li><li><code>is_displayed()</code>Â·Â·Â·åˆ¤æ–­å…ƒç´ æ˜¯å¦æ˜¾ç¤ºï¼Œè¿”å›ç»“æœä¸ºä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¿”å›Trueæˆ–è€…False</li><li><code>get_attribute()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·è·å–å…ƒç´ æŸä¸ªå±æ€§å€¼<ul><li><code>get_attribute(&#39;textContent&#39;)</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·è·å–æ ‡ç­¾ä¹‹é—´çš„æ–‡æœ¬å†…å®¹</li><li><code>get_attribute(&#39;innerHTML&#39;)</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·è·å–æ ‡ç­¾ä¹‹é—´çš„å®Œæ•´HTML</li><li><code>get_attribute(&#39;outerHTML&#39;)</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·è·å–å½“å‰æ ‡ç­¾çš„å®Œæ•´HTML</li></ul></li><li><code>value_of_css_property(css_name)</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·è·å–CSSçš„å±æ€§å€¼</li></ul></li></ul><h4 id="1-operation-object-py"><a href="#1-operation-object-py" class="headerlink" title="(1) operation_object.py"></a>(1) operation_object.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> time <span class="hljs-keyword">import</span> sleep<br><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver                          <span class="hljs-comment"># operation_object.py</span><br><br>driver = webdriver.Edge()<br>driver.get(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br>driver.maximize_window()                                <span class="hljs-comment"># æµè§ˆå™¨çª—å£æœ€å¤§åŒ–</span><br>sleep(<span class="hljs-number">3</span>)<br><br>element1 = driver.find_element_by_css_selector(<span class="hljs-string">&quot;#lg &gt; map:nth-child(4) &gt; area:nth-child(1)&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Size: &quot;</span> + <span class="hljs-built_in">str</span>(element1.size))                    <span class="hljs-comment"># ç™¾åº¦logoå›¾ç‰‡å°ºå¯¸</span><br>element2 = driver.find_element_by_xpath(<span class="hljs-string">&quot;//*[@id=&#x27;s-top-left&#x27;]&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Text: &quot;</span> + element2.text)                         <span class="hljs-comment"># è·å–å¯¼èˆªæ æ–‡æœ¬ä¿¡æ¯</span><br>element3 = driver.find_element_by_xpath(<span class="hljs-string">&quot;//*[@id=&#x27;kw&#x27;]&quot;</span>)<br>element3.click()<br>sleep(<span class="hljs-number">3</span>)<br>element3.send_keys(<span class="hljs-string">&quot;Python&quot;</span>)                            <span class="hljs-comment"># å‘è¾“å…¥æ¡†è¾“å…¥Python</span><br>sleep(<span class="hljs-number">3</span>)<br>element3.clear()                                        <span class="hljs-comment"># æ¸…é™¤æ–‡æœ¬å†…å®¹</span><br>element4 = driver.find_element_by_xpath(<span class="hljs-string">&quot;//*[@id=&#x27;su&#x27;]&quot;</span>)<br>element4.submit()                                       <span class="hljs-comment"># æäº¤è¡¨å•ï¼Œç™¾åº¦ä¸€ä¸‹</span><br>sleep(<span class="hljs-number">3</span>)<br>element5 = driver.find_element_by_css_selector(<span class="hljs-string">&quot;.title-text&quot;</span>)<br>sleep(<span class="hljs-number">3</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Location: &quot;</span> + <span class="hljs-built_in">str</span>(element5.location))            <span class="hljs-comment"># ç™¾åº¦çƒ­æœåæ ‡</span><br><br>driver.get(<span class="hljs-string">&quot;file:///D:/.../operation_object.html&quot;</span>)      <span class="hljs-comment"># operation_object.htmlæ–‡ä»¶å­˜æ”¾è·¯å¾„</span><br>sleep(<span class="hljs-number">3</span>)<br>element6 = driver.find_element_by_xpath(<span class="hljs-string">&quot;//*[@id=&#x27;but1&#x27;]&quot;</span>)<br>element7 = driver.find_element_by_xpath(<span class="hljs-string">&quot;//*[@id=&#x27;but2&#x27;]&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Enabled: &quot;</span> + <span class="hljs-built_in">str</span>(element6.is_enabled()))         <span class="hljs-comment"># åˆ¤æ–­æŒ‰é’®æ˜¯å¦å¯ç”¨</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Enabled: &quot;</span> + <span class="hljs-built_in">str</span>(element7.is_enabled()))         <span class="hljs-comment"># åˆ¤æ–­æŒ‰é’®æ˜¯å¦å¯ç”¨</span><br><br>driver.get(<span class="hljs-string">&quot;https://mail.163.com/&quot;</span>)<br>sleep(<span class="hljs-number">3</span>)<br>iframe = driver.find_element_by_xpath(<span class="hljs-string">&quot;//*[@id=&#x27;loginDiv&#x27;]/iframe&quot;</span>)<br>driver.switch_to.frame(iframe)                          <span class="hljs-comment"># åˆ‡æ¢åˆ°iframeä¸­</span><br>element8 = driver.find_element_by_css_selector(<span class="hljs-string">&quot;#un-login&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Seleted: &quot;</span> + <span class="hljs-built_in">str</span>(element8.is_selected()))        <span class="hljs-comment"># åˆ¤æ–­æ˜¯å¦å‹¾é€‰ï¼Œtype=&quot;checkbox&quot;</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Display: &quot;</span> + <span class="hljs-built_in">str</span>(element8.is_displayed()))       <span class="hljs-comment"># åˆ¤æ–­å•é€‰æ¡†æ˜¯å¦æ˜¾ç¤º</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;TagMame: &quot;</span> + <span class="hljs-built_in">str</span>(element8.tag_name))             <span class="hljs-comment"># è·å–å•é€‰æ¡†çš„æ ‡ç­¾ç±»å‹</span><br>element9 = driver.find_element_by_css_selector(<span class="hljs-string">&quot;#account-box &gt; div:nth-child(2)&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Content: &quot;</span> + <span class="hljs-built_in">str</span>(element9.get_attribute(<span class="hljs-string">&quot;textContent&quot;</span>)))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;InnerHTML: &quot;</span> + <span class="hljs-built_in">str</span>(element9.get_attribute(<span class="hljs-string">&quot;innerHTML&quot;</span>)))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;OuterHTML: &quot;</span> + <span class="hljs-built_in">str</span>(element9.get_attribute(<span class="hljs-string">&quot;outerHTML&quot;</span>)))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Get Width: &quot;</span> + <span class="hljs-built_in">str</span>(element9.value_of_css_property(<span class="hljs-string">&quot;width&quot;</span>)))<br><br>driver.quit()                                           <span class="hljs-comment"># quitå…³é—­æ•´ä¸ªæµè§ˆå™¨</span><br></code></pre></td></tr></table></figure><h4 id="2-operation-object-html"><a href="#2-operation-object-html" class="headerlink" title="(2) operation_object.html"></a>(2) operation_object.html</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-comment">&lt;!-- operation_object.html --&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>æ“ä½œå¯¹è±¡å…ƒç´ <span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">display_alert</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;å•¥ä¹Ÿä¸æ˜¯ï¼&quot;</span>)</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align: center;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;but1&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;display_alert()&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;ç‚¹å‡»æˆ‘ï¼Œæœ‰æƒŠå–œï¼&quot;</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;but2&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span> <span class="hljs-attr">disabled</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;display_alert()&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;ç‚¹å‡»æˆ‘ï¼Œæœ‰æƒŠå–œï¼&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h1 id="5-è°ƒç”¨JavaScript"><a href="#5-è°ƒç”¨JavaScript" class="headerlink" title="5 è°ƒç”¨JavaScript"></a>5 è°ƒç”¨JavaScript</h1><ul><li>è°ƒç”¨JavaScript<ul><li>å¼€å‘Webç«¯è‡ªåŠ¨åŒ–ç”¨ä¾‹ä»£ç æ—¶ï¼Œä¸»è¦è¿‡ç¨‹å¯ä»¥æ‹†åˆ†ä¸ºå››ä¸ªé˜¶æ®µã€‚<ul><li>Webé¡µé¢åŠ è½½ã€‚</li><li>å®šä½é¡µé¢å…ƒç´ ã€‚</li><li>æ“ä½œé¡µé¢å…ƒç´ ã€‚</li><li>åˆ¤æ–­è¿”å›ç»“æœã€‚</li></ul></li><li>å®é™…ä½¿ç”¨ä¸­å¸¸é‡åˆ°ä»£ç æ‰§è¡Œç¼“æ…¢ï¼Œä»¥åŠä»£ç æ‰§è¡Œç¨³å®šæ€§ä¸é«˜ç­‰é—®é¢˜ã€‚</li><li>é’ˆå¯¹ç¨³å®šæ€§é—®é¢˜ï¼Œå¯ä»¥å°†è¿™éƒ¨åˆ†å¯¹ç½‘é¡µå…ƒç´ è¿›è¡Œæ“ä½œçš„ä»£ç æ›¿æ¢æˆå¯¹åº”çš„JavaScriptè„šæœ¬ã€‚</li><li>å°±å¯è¾ƒå¤§ç¨‹åº¦åœ°æé«˜ç¨³å®šæ€§å’Œæ‰§è¡Œæ•ˆç‡(æµè§ˆå™¨åŸç”Ÿæ”¯æŒJavaScriptï¼Œç›´æ¥åœ¨å†…æ ¸ä¸­æ‰§è¡Œ)ã€‚</li></ul></li></ul><h2 id="5-1-ç™¾åº¦æŸ¥è¯¢"><a href="#5-1-ç™¾åº¦æŸ¥è¯¢" class="headerlink" title="5-1 ç™¾åº¦æŸ¥è¯¢"></a>5-1 ç™¾åº¦æŸ¥è¯¢</h2><h4 id="1-javascript-click-py"><a href="#1-javascript-click-py" class="headerlink" title="(1) javascript_click.py"></a>(1) javascript_click.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> time <span class="hljs-keyword">import</span> sleep<br><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver                          <span class="hljs-comment"># javascript_click.py</span><br><br>driver = webdriver.Edge()<br>driver.get(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br>driver.maximize_window()                                <span class="hljs-comment"># æµè§ˆå™¨çª—å£æœ€å¤§åŒ–</span><br>driver.implicitly_wait(<span class="hljs-number">10</span>)<br><br>query = <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    // æ ¹æ®å…¨å±€å”¯ä¸€çš„IDè·å–è¾“å…¥æ¡†å¯¹è±¡ï¼Œä½¿ç”¨DOMå¯¹è±¡çš„getElementByIdæ–¹æ³•å®šä½å…ƒç´ </span><br><span class="hljs-string">    var keywordInput = document.getElementById(&quot;kw&quot;);</span><br><span class="hljs-string">    // ç»™valueå±æ€§èµ‹å€¼ï¼Œå®ç°å…³é”®å­—çš„è¾“å…¥</span><br><span class="hljs-string">    keywordInput.value = &quot;Selenium&quot;;</span><br><span class="hljs-string">    // å»¶è¿Ÿ5ç§’ç‚¹å‡»&#x27;ç™¾åº¦ä¸€ä¸‹&#x27;æŒ‰é’®ï¼ŒsetTimeoutæ˜¯å¼‚æ­¥æ‰§è¡Œ</span><br><span class="hljs-string">    setTimeout(function () &#123;</span><br><span class="hljs-string">        // æ ¹æ®å…¨å±€å”¯ä¸€çš„IDè·å–æŸ¥è¯¢æŒ‰é’®å¯¹è±¡ï¼Œä½¿ç”¨DOMå¯¹è±¡çš„getElementByIdæ–¹æ³•å®šä½å…ƒç´ </span><br><span class="hljs-string">        var queryBtn = document.getElementById(&quot;su&quot;);</span><br><span class="hljs-string">        // è§¦å‘æŒ‰é’®çš„clickç‚¹å‡»æ“ä½œ</span><br><span class="hljs-string">        queryBtn.click();</span><br><span class="hljs-string">    &#125;, 5000);</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br>driver.execute_script(query)<br>sleep(<span class="hljs-number">3</span>)<br><br>driver.quit()                                           <span class="hljs-comment"># quitå…³é—­æ•´ä¸ªæµè§ˆå™¨</span><br></code></pre></td></tr></table></figure><h4 id="2-javascript-event-py"><a href="#2-javascript-event-py" class="headerlink" title="(2) javascript_event.py"></a>(2) javascript_event.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> time <span class="hljs-keyword">import</span> sleep<br><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver                          <span class="hljs-comment"># javascript_event.py</span><br><br>driver = webdriver.Edge()<br>driver.get(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br>driver.maximize_window()                                <span class="hljs-comment"># æµè§ˆå™¨çª—å£æœ€å¤§åŒ–</span><br>driver.implicitly_wait(<span class="hljs-number">10</span>)<br><br>query = <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    // æ ¹æ®å…¨å±€å”¯ä¸€çš„IDè·å–è¾“å…¥æ¡†å¯¹è±¡ï¼Œä½¿ç”¨DOMå¯¹è±¡çš„getElementByIdæ–¹æ³•å®šä½å…ƒç´ </span><br><span class="hljs-string">    var keywordInput = document.getElementById(&quot;kw&quot;);</span><br><span class="hljs-string">    // ç»™valueå±æ€§èµ‹å€¼ï¼Œå®ç°å…³é”®å­—çš„è¾“å…¥</span><br><span class="hljs-string">    keywordInput.value = &quot;Selenium JavaScript&quot;;</span><br><span class="hljs-string">    // å»¶è¿Ÿ5ç§’ç‚¹å‡»&#x27;ç™¾åº¦ä¸€ä¸‹&#x27;æŒ‰é’®ï¼ŒsetTimeoutæ˜¯å¼‚æ­¥æ‰§è¡Œ</span><br><span class="hljs-string">    setTimeout(function () &#123;</span><br><span class="hljs-string">        // æ ¹æ®å…¨å±€å”¯ä¸€çš„IDè·å–æŸ¥è¯¢æŒ‰é’®å¯¹è±¡ï¼Œä½¿ç”¨DOMå¯¹è±¡çš„getElementByIdæ–¹æ³•å®šä½å…ƒç´ </span><br><span class="hljs-string">        var queryBtn = document.getElementById(&quot;su&quot;);</span><br><span class="hljs-string">        // åˆ›å»ºeventäº‹ä»¶å¯¹è±¡</span><br><span class="hljs-string">        var event = document.createEvent(&quot;MouseEvents&quot;);</span><br><span class="hljs-string">        // åˆå§‹åŒ–äº‹ä»¶å¯¹è±¡ä¸ºclickäº‹ä»¶</span><br><span class="hljs-string">        event.initEvent(&quot;click&quot;, true, true);</span><br><span class="hljs-string">        // æœ‰äº›æ ‡ç­¾å…ƒç´ æ²¡æœ‰onclickå±æ€§ï¼Œç›´æ¥è°ƒç”¨clickæ–¹æ³•å¹¶ä¸ä¼šè§¦å‘å¯¹è±¡çš„ç‚¹å‡»æ“ä½œ</span><br><span class="hljs-string">        queryBtn.dispatchEvent(event);</span><br><span class="hljs-string">    &#125;, 5000);</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br>driver.execute_script(query)<br>sleep(<span class="hljs-number">3</span>)<br><br>driver.quit()                                           <span class="hljs-comment"># quitå…³é—­æ•´ä¸ªæµè§ˆå™¨</span><br></code></pre></td></tr></table></figure><h2 id="5-2-è¿”å›å…ƒç´ å¯¹è±¡"><a href="#5-2-è¿”å›å…ƒç´ å¯¹è±¡" class="headerlink" title="5-2 è¿”å›å…ƒç´ å¯¹è±¡"></a>5-2 è¿”å›å…ƒç´ å¯¹è±¡</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> time <span class="hljs-keyword">import</span> sleep<br><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver                          <span class="hljs-comment"># javascript_element.py</span><br><br>driver = webdriver.Edge()<br>driver.get(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br>driver.maximize_window()                                <span class="hljs-comment"># æµè§ˆå™¨çª—å£æœ€å¤§åŒ–</span><br>driver.implicitly_wait(<span class="hljs-number">10</span>)<br><br><span class="hljs-comment"># æ‰§è¡ŒJavaScriptè„šæœ¬è¿”å›æ ‡ç­¾å…ƒç´ å¯¹è±¡WebElement</span><br>getKeyWordInput = <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    // æ ¹æ®å…¨å±€å”¯ä¸€çš„IDè·å–è¾“å…¥æ¡†å¯¹è±¡ï¼Œä½¿ç”¨DOMå¯¹è±¡çš„getElementByIdæ–¹æ³•å®šä½å…ƒç´ </span><br><span class="hljs-string">    var keywordInput = document.getElementById(&quot;kw&quot;);</span><br><span class="hljs-string">    return keywordInput;</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br>keyWordInputElement = driver.execute_script(getKeyWordInput)<br>keyWordInputElement.send_keys(<span class="hljs-string">&quot;Selenium JavaScript&quot;</span>)<br>sleep(<span class="hljs-number">3</span>)<br><br>driver.quit()                                           <span class="hljs-comment"># quitå…³é—­æ•´ä¸ªæµè§ˆå™¨</span><br></code></pre></td></tr></table></figure><h2 id="5-3-æµè§ˆå™¨æ»šåŠ¨æ¡"><a href="#5-3-æµè§ˆå™¨æ»šåŠ¨æ¡" class="headerlink" title="5-3 æµè§ˆå™¨æ»šåŠ¨æ¡"></a>5-3 æµè§ˆå™¨æ»šåŠ¨æ¡</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> time <span class="hljs-keyword">import</span> sleep<br><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver                          <span class="hljs-comment"># javascript_scrollbar.py</span><br><br>driver = webdriver.Edge()<br>driver.get(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br>driver.maximize_window()                                <span class="hljs-comment"># æµè§ˆå™¨çª—å£æœ€å¤§åŒ–</span><br>driver.implicitly_wait(<span class="hljs-number">10</span>)<br><br><span class="hljs-comment"># æ‰§è¡ŒJavaScriptè„šæœ¬æ“ä½œé¡µé¢ä¸‹æ‹‰æ¡†</span><br>scrollScript = <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    // æ ¹æ®å…¨å±€å”¯ä¸€çš„IDè·å–è¾“å…¥æ¡†å¯¹è±¡ï¼Œä½¿ç”¨DOMå¯¹è±¡çš„getElementByIdæ–¹æ³•å®šä½å…ƒç´ </span><br><span class="hljs-string">    var keywordInput = document.getElementById(&quot;kw&quot;);</span><br><span class="hljs-string">    keywordInput.value = &quot;Selenium&quot;;</span><br><span class="hljs-string">    // å»¶è¿Ÿ5ç§’ç‚¹å‡»&#x27;ç™¾åº¦ä¸€ä¸‹&#x27;æŒ‰é’®ï¼ŒsetTimeoutæ˜¯å¼‚æ­¥æ‰§è¡Œ</span><br><span class="hljs-string">    setTimeout(function () &#123;</span><br><span class="hljs-string">        // æ ¹æ®å…¨å±€å”¯ä¸€çš„IDè·å–æŸ¥è¯¢æŒ‰é’®å¯¹è±¡ï¼Œä½¿ç”¨DOMå¯¹è±¡çš„getElementByIdæ–¹æ³•å®šä½å…ƒç´ </span><br><span class="hljs-string">        var queryBtn = document.getElementById(&quot;su&quot;);</span><br><span class="hljs-string">        queryBtn.click();</span><br><span class="hljs-string">        setTimeout(function () &#123;</span><br><span class="hljs-string">            // é€‚ç”¨äºé™¤Chromeæµè§ˆå™¨å¤–çš„å…¶ä»–æµè§ˆå™¨</span><br><span class="hljs-string">            document.documentElement.scrollTop = 10000 ;</span><br><span class="hljs-string">            // Chromeæµè§ˆå™¨ä½¿ç”¨è¿™ç§æ–¹æ³•</span><br><span class="hljs-string">            // document.body.scrollTop = 10000;</span><br><span class="hljs-string">        &#125;, 5000);</span><br><span class="hljs-string">        // å»¶è¿Ÿ5ç§’ä¸‹æ‹‰æ»šåŠ¨æ¡åˆ°é¡µé¢æœ€ä½ç«¯</span><br><span class="hljs-string">    &#125;, 5000);</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br>driver.execute_script(scrollScript)<br>sleep(<span class="hljs-number">3</span>)<br><br>driver.quit()                                           <span class="hljs-comment"># quitå…³é—­æ•´ä¸ªæµè§ˆå™¨</span><br></code></pre></td></tr></table></figure><h2 id="5-4-ç›¸ä¼¼å…ƒç´ è¿‡æ»¤"><a href="#5-4-ç›¸ä¼¼å…ƒç´ è¿‡æ»¤" class="headerlink" title="5-4 ç›¸ä¼¼å…ƒç´ è¿‡æ»¤"></a>5-4 ç›¸ä¼¼å…ƒç´ è¿‡æ»¤</h2><h4 id="1-javascript-news-py"><a href="#1-javascript-news-py" class="headerlink" title="(1) javascript_news.py"></a>(1) javascript_news.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> time <span class="hljs-keyword">import</span> sleep<br><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver                          <span class="hljs-comment"># javascript_news.py</span><br><br>driver = webdriver.Edge()<br>driver.get(<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>)<br>driver.maximize_window()                                <span class="hljs-comment"># æµè§ˆå™¨çª—å£æœ€å¤§åŒ–</span><br>driver.implicitly_wait(<span class="hljs-number">10</span>)<br><br>clickNewsLink = <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    // è·å–è¶…é“¾æ¥çš„HTMLçˆ¶å…ƒç´ èŠ‚ç‚¹</span><br><span class="hljs-string">    var linkParentElement = document.getElementById(&quot;s-top-left&quot;);</span><br><span class="hljs-string">    // è·å–linkParentElementå…ƒç´ ä¸‹çš„æ‰€æœ‰è¶…é“¾æ¥</span><br><span class="hljs-string">    var links = linkParentElement.getElementsByTagName(&quot;a&quot;);</span><br><span class="hljs-string">    for (var i = 0; i &lt; links.length; i++) &#123;</span><br><span class="hljs-string">        // é€šè¿‡&#x27;æ–°é—»&#x27;å…³é”®å­—è¿‡æ»¤éœ€è¦çš„è¶…é“¾æ¥</span><br><span class="hljs-string">        var linkText = links[i].innerHTML.trim();</span><br><span class="hljs-string">        if (linkText.indexOf(&quot;æ–°é—»&quot;) != -1) &#123;</span><br><span class="hljs-string">            // ç‚¹å‡»è¶…é“¾æ¥</span><br><span class="hljs-string">            links[i].click();</span><br><span class="hljs-string">            break;</span><br><span class="hljs-string">        &#125;</span><br><span class="hljs-string">    &#125;</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br>driver.execute_script(clickNewsLink)<br>sleep(<span class="hljs-number">3</span>)<br><br>driver.quit()                                           <span class="hljs-comment"># quitå…³é—­æ•´ä¸ªæµè§ˆå™¨</span><br></code></pre></td></tr></table></figure><h4 id="2-javascript-label-py"><a href="#2-javascript-label-py" class="headerlink" title="(2) javascript_label.py"></a>(2) javascript_label.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> time <span class="hljs-keyword">import</span> sleep<br><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver                          <span class="hljs-comment"># javascript_label.py</span><br><br>driver = webdriver.Edge()<br>driver.get(<span class="hljs-string">&quot;file:///D:/.../javascript_label.html&quot;</span>)      <span class="hljs-comment"># javascript_label.htmlæ–‡ä»¶å­˜æ”¾è·¯å¾„</span><br>driver.maximize_window()                                <span class="hljs-comment"># æµè§ˆå™¨çª—å£æœ€å¤§åŒ–</span><br>driver.implicitly_wait(<span class="hljs-number">10</span>)<br><br>script = <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    // è·å–å½“å‰é¡µé¢çš„æ‰€æœ‰aæ ‡ç­¾å…ƒç´ </span><br><span class="hljs-string">    var a_tags = document.getElementsByTagName(&quot;a&quot;);   </span><br><span class="hljs-string">    for (var i = 0; i &lt; a_tags.length; i++) &#123;</span><br><span class="hljs-string">        // è¦ç‚¹å‡»çš„JavaScriptè¶…é“¾æ¥æœ‰ä¸€ä¸ªname=&quot;JavaScript&quot;å±æ€§å’Œå…³é”®å­—javascript</span><br><span class="hljs-string">        // è·å–è¶…é“¾æ¥çš„å†…å®¹</span><br><span class="hljs-string">        var a_text = a_tags[i].innerHTML.trim();   </span><br><span class="hljs-string">        if (a_tags[i].hasAttribute(&quot;name&quot;) &amp;&amp; a_text.indexOf(&quot;JavaScript&quot;) != -1) &#123;</span><br><span class="hljs-string">            // è·å–å…·æœ‰å±æ€§nameä¸”å†…å®¹ä¸­åŒ…å«&#x27;JavaScript&#x27;å­—ç¬¦ä¸²çš„aæ ‡ç­¾ï¼Œå¹¶è§¦å‘ç‚¹å‡»æ“ä½œ</span><br><span class="hljs-string">            a_tags[i].click();</span><br><span class="hljs-string">            break;</span><br><span class="hljs-string">        &#125;</span><br><span class="hljs-string">    &#125;</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br>driver.execute_script(script)<br>sleep(<span class="hljs-number">3</span>)<br><br>driver.quit()                                           <span class="hljs-comment"># quitå…³é—­æ•´ä¸ªæµè§ˆå™¨</span><br></code></pre></td></tr></table></figure><h4 id="3-javascript-label-html"><a href="#3-javascript-label-html" class="headerlink" title="(3) javascript_label.html"></a>(3) javascript_label.html</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-comment">&lt;!-- javascript_label.html --&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>ç›¸ä¼¼æ ‡ç­¾è¿‡æ»¤<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align: center;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>ç¬¬ä¸€éƒ¨åˆ†<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;language1&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;Python&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;javascript:alert(&#x27;ç¬¬ä¸€éƒ¨åˆ† - Python&#x27;)&quot;</span>&gt;</span>Python<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;Java&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;javascript:alert(&#x27;ç¬¬ä¸€éƒ¨åˆ† - Java&#x27;)&quot;</span>&gt;</span>Java<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;C#&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;javascript:alert(&#x27;ç¬¬ä¸€éƒ¨åˆ† - C#&#x27;)&quot;</span>&gt;</span>C#<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;Scala&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;javascript:alert(&#x27;ç¬¬ä¸€éƒ¨åˆ† - Scala&#x27;)&quot;</span>&gt;</span>Scala<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;JavaScript&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;javascript:alert(&#x27;ç¬¬ä¸€éƒ¨åˆ† - JavaScript&#x27;)&quot;</span>&gt;</span>JavaScript<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>ç¬¬äºŒéƒ¨åˆ†<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;language2&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;javascript:alert(&#x27;ç¬¬äºŒéƒ¨åˆ† - Python&#x27;)&quot;</span>&gt;</span>Python<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;javascript:alert(&#x27;ç¬¬äºŒéƒ¨åˆ† - Java&#x27;)&quot;</span>&gt;</span>Java<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;javascript:alert(&#x27;ç¬¬äºŒéƒ¨åˆ† - C#&#x27;)&quot;</span>&gt;</span>C#<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;javascript:alert(&#x27;ç¬¬äºŒéƒ¨åˆ† - Scala&#x27;)&quot;</span>&gt;</span>Scala<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;javascript:alert(&#x27;ç¬¬äºŒéƒ¨åˆ† - JavaScript&#x27;)&quot;</span>&gt;</span>JavaScript<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h1 id="6-ä¸Šä¼ åŠä¸‹è½½æ–‡ä»¶"><a href="#6-ä¸Šä¼ åŠä¸‹è½½æ–‡ä»¶" class="headerlink" title="6 ä¸Šä¼ åŠä¸‹è½½æ–‡ä»¶"></a>6 ä¸Šä¼ åŠä¸‹è½½æ–‡ä»¶</h1><ul><li>ä¸Šä¼ åŠä¸‹è½½æ–‡ä»¶<ul><li>ä¸Šä¼ æ–‡ä»¶ï¼šæ‰“å¼€ä¸€ä¸ªç³»ç»Ÿçš„Windowçª—å£ï¼Œä»çª—å£é€‰æ‹©æ–‡ä»¶ä¸Šä¼ ï¼Œé—®é¢˜ä¸€èˆ¬ä¼šå¡åœ¨å¦‚ä½•æ“ä½œWindowçª—å£ä¸Šã€‚<ul><li>æ§ä»¶æ ‡ç­¾ä¸ºinputæ—¶ï¼Œåªè¦å®šä½ä¸Šä¼ æŒ‰é’®ï¼Œé€šè¿‡<code>send_keys()</code>æ·»åŠ æ–‡ä»¶è·¯å¾„å°±å¯ä»¥äº†ã€‚</li><li>æ§ä»¶æ ‡ç­¾ä¸ºéinputæ—¶ï¼Œå¯ä»¥å€ŸåŠ©ç¬¬ä¸‰æ–¹å·¥å…·AutoItï¼š<a href="https://www.autoitx.com/Doc/">https://www.autoitx.com/Doc/</a>ã€‚</li></ul></li><li>ä¸‹è½½æ–‡ä»¶ï¼šSeleniumçš„WebDriverå…è®¸è®¾ç½®é»˜è®¤ä¸‹è½½è·¯å¾„(é…ç½®æµè§ˆå™¨å‚æ•°)ï¼Œä»è€Œå¯ä»¥è·³è¿‡ä¸‹è½½å¼¹çª—æç¤ºã€‚</li></ul></li></ul><h2 id="6-1-ä¸Šä¼ æ–‡ä»¶"><a href="#6-1-ä¸Šä¼ æ–‡ä»¶" class="headerlink" title="6-1 ä¸Šä¼ æ–‡ä»¶"></a>6-1 ä¸Šä¼ æ–‡ä»¶</h2><h4 id="1-upload-file-py"><a href="#1-upload-file-py" class="headerlink" title="(1) upload_file.py"></a>(1) upload_file.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> time <span class="hljs-keyword">import</span> sleep<br><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver                          <span class="hljs-comment"># upload_file.py</span><br><br>driver = webdriver.Edge()<br>driver.get(<span class="hljs-string">&quot;file:///D:/.../upload_file.html&quot;</span>)           <span class="hljs-comment"># upload_file.htmlæ–‡ä»¶å­˜æ”¾è·¯å¾„</span><br>driver.maximize_window()                                <span class="hljs-comment"># æµè§ˆå™¨çª—å£æœ€å¤§åŒ–</span><br>driver.implicitly_wait(<span class="hljs-number">10</span>)<br><br>upload = driver.find_element_by_name(<span class="hljs-string">&quot;upfile&quot;</span>)          <span class="hljs-comment"># å®šä½ä¸Šä¼ æ–‡ä»¶æŒ‰é’®</span><br>upload.send_keys(<span class="hljs-string">r&quot;D:/.../geckodriver.log&quot;</span>)             <span class="hljs-comment"># geckodriver.logæ–‡ä»¶å­˜æ”¾è·¯å¾„</span><br>sleep(<span class="hljs-number">3</span>)<br><br>driver.quit()                                           <span class="hljs-comment"># quitå…³é—­æ•´ä¸ªæµè§ˆå™¨</span><br></code></pre></td></tr></table></figure><h4 id="2-upload-file-html"><a href="#2-upload-file-html" class="headerlink" title="(2) upload_file.html"></a>(2) upload_file.html</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-comment">&lt;!-- upload_file.html --&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;zh-cn&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>ä¸Šä¼ æ–‡ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align: center;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">fieldset</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">legend</span>&gt;</span>ä¸Šä¼ æ–‡ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">legend</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;file&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;upfile&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">fieldset</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="6-2-ä¸‹è½½æ–‡ä»¶"><a href="#6-2-ä¸‹è½½æ–‡ä»¶" class="headerlink" title="6-2 ä¸‹è½½æ–‡ä»¶"></a>6-2 ä¸‹è½½æ–‡ä»¶</h2><ul><li>ä¸‹è½½æ–‡ä»¶<ul><li>Firefox<ul><li><code>browser.download.dir</code><ul><li>è‡ªå®šä¹‰ä¸‹è½½è·¯å¾„ï¼Œé»˜è®¤åªè‡ªåŠ¨åˆ›å»ºä¸€çº§ç›®å½•ï¼Œè‹¥æŒ‡å®šäº†å¤šçº§ä¸å­˜åœ¨çš„ç›®å½•ï¼Œä¼šä¸‹è½½åˆ°é»˜è®¤è·¯å¾„ä¸­ã€‚</li><li>ä¾‹å¦‚ï¼šå®šä¹‰äº†å¤šçº§ä¸å­˜åœ¨çš„ç›®å½•<code>G:\\Download\\Python</code>ï¼Œæ–‡ä»¶å°±ä¼šè‡ªåŠ¨ä¸‹è½½åˆ°é»˜è®¤ä¸‹è½½ç›®å½•ä¸­ã€‚</li></ul></li><li><code>browser.download.folderList</code><ul><li>0è¡¨ç¤ºä¸‹è½½åˆ°æ¡Œé¢ï¼Œ1è¡¨ç¤ºä¸‹è½½åˆ°æµè§ˆå™¨é»˜è®¤ä¸‹è½½è·¯å¾„ï¼Œ2è¡¨ç¤ºä½¿ç”¨è‡ªå®šä¹‰ä¸‹è½½è·¯å¾„ã€‚</li><li>ä¸<code>browser.download.dir</code>é…åˆä½¿ç”¨ï¼Œå¦‚æœè®¾ç½®æˆ0æˆ–1ï¼Œé‚£ä¹ˆdirè·¯å¾„çš„é…ç½®å°†æ— ç”¨ã€‚</li></ul></li><li><code>browser.download.manager.useWindow</code>ï¼šè®¾å®šä¸‹è½½æ¡†æ˜¯å¦è¦è¿›è¡Œéšè—ã€‚</li><li><code>browser.download.manager.closeWhenDone</code>ï¼šè®¾å®šä¸‹è½½ç»“æŸåæ˜¯å¦è‡ªåŠ¨å…³é—­ä¸‹è½½æ¡†ã€‚</li><li><code>browser.download.manager.alertOnEXEOpen</code>ï¼šè®¾å®šä¸‹è½½<code>.exe</code>æ–‡ä»¶æ˜¯å¦è¦å¼¹å‡ºè­¦å‘Šã€‚</li><li><code>browser.download.manager.showWhenStarting</code>ï¼šè®¾å®šå¯åŠ¨ä¸‹è½½æ—¶æ˜¯å¦æ˜¾ç¤ºä¸‹è½½ç®¡ç†å™¨ã€‚</li><li><code>browser.download.manager.focusWhenStarting</code>ï¼šè®¾å®šå¼€å§‹ä¸‹è½½æ—¶æ˜¯å¦è·å–æµè§ˆå™¨ç„¦ç‚¹ã€‚</li><li><code>browser.download.manager.showAlertOnComplete</code>ï¼šè®¾å®šä¸‹è½½ç»“æŸåæ˜¯å¦æ˜¾ç¤ºä¸‹è½½å®Œæˆæç¤ºæ¡†ã€‚</li><li><code>browser.helperApps.alwaysAsk.force</code><ul><li>æœªçŸ¥çš„MIMEç±»å‹æ–‡ä»¶ï¼Œæµè§ˆå™¨ä¼šå¼¹çª—è®©ç”¨æˆ·å¤„ç†ï¼Œé»˜è®¤å€¼ä¸ºTrueã€‚</li><li>å°†é»˜è®¤å€¼æ”¹ä¸ºFalseï¼Œè¡¨ç¤ºä¸ä¼šè®°å½•æ‰“å¼€æœªçŸ¥MIMEç±»å‹æ–‡ä»¶çš„æ–¹å¼ã€‚</li></ul></li><li><code>browser.helperApps.neverAsk.openFile</code><ul><li>ç›´æ¥æ‰“å¼€ä¸‹è½½æ–‡ä»¶ï¼Œä¸æ˜¾ç¤ºç¡®è®¤æ¡†ï¼Œé»˜è®¤å€¼ä¸ºç©ºå­—ç¬¦ä¸²ï¼Œå³ä¾§ä»£ç è®¾å®šå¤šç§æ–‡ä»¶çš„MIMEç±»å‹ã€‚</li><li>ä¾‹å¦‚ï¼š<code>application/exe</code>è¡¨ç¤º<code>.exe</code>ç±»å‹çš„æ–‡ä»¶ï¼Œ<code>application/excel</code>è¡¨ç¤ºExcelç±»å‹çš„æ–‡ä»¶ã€‚</li></ul></li><li><code>browser.helperApps.neverAsk.saveToDisk</code><ul><li>å¯¹æ‰€ç»™æ–‡ä»¶ç±»å‹ä¸å†å¼¹æ¡†è¿›è¡Œè¯¢é—®ï¼Œç›´æ¥ä¿å­˜åˆ°æœ¬åœ°ç£ç›˜ï¼Œå¯é€‰æ–‡ä»¶ç±»å‹å¦‚ä¸‹ã€‚</li><li><code>text/plain</code></li><li><code>application/zip</code></li><li><code>application/pdf</code></li><li><code>application/a-gzip</code></li><li><code>application/x-gzip</code></li><li><code>application/x-gtar</code></li><li><code>application/x-compressed</code></li><li><code>application/octet-stream</code></li></ul></li></ul></li><li>Chrome<ul><li><code>download.default_directory</code>ï¼šè®¾ç½®ä¸‹è½½è·¯å¾„ã€‚</li><li><code>safebrowsing.enabled</code>ï¼šæ˜¯å¦æç¤ºå®‰å…¨è­¦å‘Šï¼Œä¸€èˆ¬ä¸‹è½½XMLæ–‡ä»¶æ—¶å¼¹çª—æé†’ï¼ŒTrueä¸ºä¿¡ä»»ä¸å¼¹çª—ã€‚</li><li><code>profile.default_content_settings.popups</code>ï¼šå–æ¶ˆä¸‹è½½æ—¶ä¿å­˜è·¯å¾„å¼¹çª—ï¼Œ0æ˜¯ç¦æ­¢å¼¹å‡ºæ‰€æœ‰çª—å£ã€‚</li></ul></li></ul></li></ul><h4 id="1-Firefox"><a href="#1-Firefox" class="headerlink" title="(1) Firefox"></a>(1) Firefox</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> time <span class="hljs-keyword">import</span> sleep<br><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver                          <span class="hljs-comment"># download_firefox.py</span><br><br>fp = webdriver.FirefoxProfile()                         <span class="hljs-comment"># åˆ›å»ºFirefoxé…ç½®ä¿¡æ¯å¯¹è±¡ï¼Œå­˜æ”¾è‡ªå®šä¹‰é…ç½®</span><br>fp.set_preference(<span class="hljs-string">&#x27;browser.download.dir&#x27;</span>, <span class="hljs-string">&#x27;E:\\&#x27;</span>)       <span class="hljs-comment"># æŒ‡å®šä¸‹è½½æ–‡ä»¶çš„å­˜æ”¾è·¯å¾„</span><br>fp.set_preference(<span class="hljs-string">&#x27;browser.download.folderList&#x27;</span>, <span class="hljs-number">2</span>)<br>fp.set_preference(<span class="hljs-string">&quot;browser.download.manager.useWindow&quot;</span>, <span class="hljs-literal">False</span>)<br>fp.set_preference(<span class="hljs-string">&quot;browser.download.manager.closeWhenDone&quot;</span>, <span class="hljs-literal">False</span>)<br>fp.set_preference(<span class="hljs-string">&quot;browser.download.manager.alertOnEXEOpen&quot;</span>, <span class="hljs-literal">False</span>)<br>fp.set_preference(<span class="hljs-string">&#x27;browser.download.manager.showWhenStarting&#x27;</span>, <span class="hljs-literal">False</span>)<br>fp.set_preference(<span class="hljs-string">&quot;browser.download.manager.focusWhenStarting&quot;</span>, <span class="hljs-literal">False</span>)<br>fp.set_preference(<span class="hljs-string">&quot;browser.download.manager.showAlertOnComplete&quot;</span>, <span class="hljs-literal">False</span>)<br>fp.set_preference(<span class="hljs-string">&quot;browser.helperApps.alwaysAsk.force&quot;</span>, <span class="hljs-literal">False</span>)<br>fp.set_preference(<span class="hljs-string">&quot;browser.helperApps.neverAsk.openFile&quot;</span>, <span class="hljs-string">&quot;application/zip&quot;</span>)<br>fp.set_preference(<span class="hljs-string">&#x27;browser.helperApps.neverAsk.saveToDisk&#x27;</span>, <span class="hljs-string">&#x27;application/zip, application/pdf&#x27;</span>)<br><br>driver = webdriver.Firefox(firefox_profile=fp)          <span class="hljs-comment"># é€šè¿‡å‚æ•°å°†é…ç½®æ·»åŠ åˆ°FirefoxProfileå¯¹è±¡ä¸­</span><br>driver.get(<span class="hljs-string">&quot;https://npm.taobao.org/mirrors/geckodriver/v0.20.0/&quot;</span>)<br>sleep(<span class="hljs-number">3</span>)<br>file = driver.find_element_by_link_text(<span class="hljs-string">&quot;geckodriver-v0.20.0-win64.zip&quot;</span>)<br>file.click()<br>sleep(<span class="hljs-number">3</span>)<br><br>driver.quit()                                           <span class="hljs-comment"># quitå…³é—­æ•´ä¸ªæµè§ˆå™¨</span><br></code></pre></td></tr></table></figure><h4 id="2-Chrome"><a href="#2-Chrome" class="headerlink" title="(2) Chrome"></a>(2) Chrome</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> time <span class="hljs-keyword">import</span> sleep<br><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver                          <span class="hljs-comment"># download_chrome.py</span><br><br>options = webdriver.ChromeOptions()                     <span class="hljs-comment"># åˆ›å»ºGoogleåŠ è½½é¡¹å¯¹è±¡</span><br>prefs = &#123;<span class="hljs-string">&#x27;profile.default_content_settings.popups&#x27;</span>: <span class="hljs-number">0</span>,  <span class="hljs-comment"># å®šä¹‰åŠ è½½é¡¹å‚æ•°</span><br>         <span class="hljs-string">&#x27;download.default_directory&#x27;</span>: <span class="hljs-string">&#x27;E:\\&#x27;</span>&#125;          <span class="hljs-comment"># æŒ‡å®šä¸‹è½½æ–‡ä»¶çš„å­˜æ”¾è·¯å¾„</span><br>options.add_experimental_option(<span class="hljs-string">&#x27;prefs&#x27;</span>, prefs)         <span class="hljs-comment"># å°†åŠ è½½é¡¹å‚æ•°æ·»åŠ åˆ°GoogleåŠ è½½é¡¹å¯¹è±¡ä¸­</span><br>driver = webdriver.Chrome(options=options)              <span class="hljs-comment"># åˆ›å»ºæµè§ˆå™¨å¯¹è±¡ï¼Œå¹¶æ·»åŠ åŠ è½½é¡¹å¯¹è±¡</span><br>driver.get(<span class="hljs-string">&#x27;https://npm.taobao.org/mirrors/chromedriver/80.0.3987.106/&#x27;</span>)<br>sleep(<span class="hljs-number">3</span>)<br>driver.find_element_by_link_text(<span class="hljs-string">&quot;chromedriver_win32.zip&quot;</span>).click()<br>sleep(<span class="hljs-number">3</span>)<br><br>driver.quit()                                           <span class="hljs-comment"># quitå…³é—­æ•´ä¸ªæµè§ˆå™¨</span><br></code></pre></td></tr></table></figure><h1 id="7-HTML5æ ‡ç­¾å¤„ç†"><a href="#7-HTML5æ ‡ç­¾å¤„ç†" class="headerlink" title="7 HTML5æ ‡ç­¾å¤„ç†"></a>7 HTML5æ ‡ç­¾å¤„ç†</h1><ul><li>HTML5æ ‡ç­¾å¤„ç†<ul><li>videoè§†é¢‘æ ‡ç­¾ï¼š<code>&lt;video&gt;&lt;/video&gt;</code>ã€‚<ul><li><code>return arguments[0].play()</code>ï¼šåœ¨çº¿æ’­æ”¾è§†é¢‘ã€‚</li><li><code>return arguments[0].load()</code>ï¼šé‡æ–°è½½å…¥è§†é¢‘ã€‚</li><li><code>return arguments[0].pause()</code>ï¼šæš‚åœæ’­æ”¾è§†é¢‘ã€‚</li><li><code>return arguments[0].duration</code>ï¼šè·å–è§†é¢‘æ–‡ä»¶çš„æ’­æ”¾æ—¶é•¿ã€‚</li><li><code>return arguments[0].currentSrc</code>ï¼šè·å–è§†é¢‘æ–‡ä»¶çš„ç½‘ç»œå­˜å‚¨åœ°å€ã€‚</li></ul></li><li>canvasç”»å›¾æ ‡ç­¾ï¼š<code>&lt;canvas&gt;&lt;/canvas&gt;</code>ï¼Œç»“åˆé¼ æ ‡äº‹ä»¶æˆ–JavaScriptè„šæœ¬å®ç°æ•ˆæœå›¾ã€‚</li></ul></li></ul><h2 id="7-1-videoè§†é¢‘æ ‡ç­¾"><a href="#7-1-videoè§†é¢‘æ ‡ç­¾" class="headerlink" title="7-1 videoè§†é¢‘æ ‡ç­¾"></a>7-1 videoè§†é¢‘æ ‡ç­¾</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> time <span class="hljs-keyword">import</span> sleep<br><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver                          <span class="hljs-comment"># html5_video.py</span><br><span class="hljs-keyword">from</span> selenium.webdriver.common.action_chains <span class="hljs-keyword">import</span> ActionChains<br><br>driver = webdriver.Edge()<br>driver.get(<span class="hljs-string">&quot;https://videojs.com/&quot;</span>)                      <span class="hljs-comment"># æœ‰æ¢¯å­æ›´ä½³ï¼Œéƒ¨åˆ†åœ°åŒºè®¿é—®é€Ÿåº¦æ…¢</span><br>driver.maximize_window()                                <span class="hljs-comment"># æµè§ˆå™¨çª—å£æœ€å¤§åŒ–</span><br>driver.implicitly_wait(<span class="hljs-number">30</span>)<br><br>element_video = driver.find_element_by_id(<span class="hljs-string">&quot;preview-player_html5_api&quot;</span>)<br>url = driver.execute_script(<span class="hljs-string">&quot;return arguments[0].currentSrc&quot;</span>, element_video)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Src: &quot;</span> + url)                                    <span class="hljs-comment"># è·å–è§†é¢‘æ–‡ä»¶çš„ç½‘ç»œå­˜å‚¨åœ°å€</span><br>dur = driver.execute_script(<span class="hljs-string">&quot;return arguments[0].duration&quot;</span>, element_video)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Dur: &quot;</span> + <span class="hljs-built_in">str</span>(dur))                               <span class="hljs-comment"># è·å–è§†é¢‘æ–‡ä»¶çš„æ’­æ”¾æ—¶é•¿</span><br><br>ActionChains(driver).click(element_video).perform()     <span class="hljs-comment"># ä½¿ç”¨é¼ æ ‡äº‹ä»¶è¿›è¡Œç‚¹å‡»ï¼Œæ’­æ”¾3ç§’</span><br>sleep(<span class="hljs-number">3</span>)<br>driver.execute_script(<span class="hljs-string">&quot;return arguments[0].pause()&quot;</span>, element_video)<br>sleep(<span class="hljs-number">3</span>)                                                <span class="hljs-comment"># æš‚åœè§†é¢‘</span><br>driver.execute_script(<span class="hljs-string">&quot;return arguments[0].load()&quot;</span>, element_video)<br>sleep(<span class="hljs-number">3</span>)                                                <span class="hljs-comment"># é‡æ–°è½½å…¥è§†é¢‘</span><br>driver.execute_script(<span class="hljs-string">&quot;return arguments[0].play()&quot;</span>, element_video)<br>sleep(<span class="hljs-number">3</span>)                                                <span class="hljs-comment"># æŒç»­æ’­æ”¾3ç§’</span><br>driver.save_screenshot(<span class="hljs-string">r&quot;D:/.../picture/html5_video.png&quot;</span>)<br>sleep(<span class="hljs-number">3</span>)                                                <span class="hljs-comment"># è§†é¢‘æˆªå›¾</span><br><br>driver.quit()                                           <span class="hljs-comment"># quitå…³é—­æ•´ä¸ªæµè§ˆå™¨</span><br></code></pre></td></tr></table></figure><h2 id="7-2-canvasç”»å›¾æ ‡ç­¾"><a href="#7-2-canvasç”»å›¾æ ‡ç­¾" class="headerlink" title="7-2 canvasç”»å›¾æ ‡ç­¾"></a>7-2 canvasç”»å›¾æ ‡ç­¾</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> time <span class="hljs-keyword">import</span> sleep<br><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver                          <span class="hljs-comment"># html5_canvas.py</span><br><span class="hljs-keyword">from</span> selenium.webdriver.common.action_chains <span class="hljs-keyword">import</span> ActionChains<br><br>driver = webdriver.Edge()<br>driver.get(<span class="hljs-string">&quot;http://literallycanvas.com/&quot;</span>)               <span class="hljs-comment"># æœ‰æ¢¯å­æ›´ä½³ï¼Œéƒ¨åˆ†åœ°åŒºè®¿é—®é€Ÿåº¦æ…¢</span><br>driver.maximize_window()                                <span class="hljs-comment"># æµè§ˆå™¨çª—å£æœ€å¤§åŒ–</span><br>driver.implicitly_wait(<span class="hljs-number">30</span>)<br><br>element_canvas = driver.find_element_by_xpath(<span class="hljs-string">&quot;//*[@id=&#x27;literally-canvas&#x27;]/div[3]/div[1]/canvas[1]&quot;</span>)<br>ActionChains(driver).click_and_hold(element_canvas).perform()<br>ActionChains(driver).move_by_offset(<span class="hljs-number">10</span>, <span class="hljs-number">10</span>).move_by_offset(<span class="hljs-number">10</span>, -<span class="hljs-number">10</span>).perform()<br>ActionChains(driver).release().perform()                <span class="hljs-comment"># æ¨¡æ‹Ÿé¼ æ ‡é‡Šæ”¾æ“ä½œ</span><br>sleep(<span class="hljs-number">3</span>)<br><br>driver.quit()                                           <span class="hljs-comment"># quitå…³é—­æ•´ä¸ªæµè§ˆå™¨</span><br></code></pre></td></tr></table></figure><h1 id="8-åˆ†é¡µçˆ¬å–Bç«™æ•°æ®"><a href="#8-åˆ†é¡µçˆ¬å–Bç«™æ•°æ®" class="headerlink" title="8 åˆ†é¡µçˆ¬å–Bç«™æ•°æ®"></a>8 åˆ†é¡µçˆ¬å–Bç«™æ•°æ®</h1><ul><li>åˆ†é¡µçˆ¬å–Bç«™æ•°æ®<ul><li>çˆ¬è™«ï¼šå³è·å–ç½‘é¡µå¹¶æå–å’Œä¿å­˜ä¿¡æ¯çš„è‡ªåŠ¨åŒ–ç¨‹åºã€‚</li><li>è·å–ç½‘é¡µæºä»£ç ï¼Œåˆ†ææºä»£ç ï¼Œä»ä¸­æå–æƒ³è¦çš„æ•°æ®ï¼Œæœ€é€šç”¨çš„æ–¹æ³•æ˜¯ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ã€‚</li><li>å¦‚æœç½‘é¡µçš„ç»“æ„å­˜åœ¨ä¸€å®šçš„è§„åˆ™ï¼Œè¿˜å¯ä»¥æ ¹æ®ä¸€äº›èŠ‚ç‚¹å±æ€§ï¼Œç»“åˆå®šä½å…ƒç´ æ¥æå–æ•°æ®ã€‚</li><li>æå–æ•°æ®åï¼Œä¸€èˆ¬éƒ½ä¼šå°†æ•°æ®ä¿å­˜åˆ°æ–‡æ¡£ä¸­ï¼Œä¾‹å¦‚ï¼šTXTæ–‡æœ¬ã€JSONæ–‡æœ¬ã€Excelæ–‡æ¡£ã€‚</li><li>æˆ–ä¿å­˜åˆ°æ•°æ®åº“ä¸­ï¼Œå¦‚MySQLã€MongoDBç­‰ï¼Œç”šè‡³å€ŸåŠ©SFTPç­‰å·¥å…·ä¿å­˜åˆ°è¿œç¨‹æœåŠ¡å™¨ä¸Šï¼Œæ–¹ä¾¿åç»­çš„ä½¿ç”¨ã€‚</li></ul></li></ul><h2 id="8-1-æ•°æ®çˆ¬å–"><a href="#8-1-æ•°æ®çˆ¬å–" class="headerlink" title="8-1 æ•°æ®çˆ¬å–"></a>8-1 æ•°æ®çˆ¬å–</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># bilibili_data.py</span><br><span class="hljs-keyword">import</span> xlwt<br><span class="hljs-keyword">from</span> time <span class="hljs-keyword">import</span> sleep<br><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver<br><span class="hljs-keyword">from</span> selenium.webdriver.common.keys <span class="hljs-keyword">import</span> Keys<br><br><span class="hljs-comment"># æµè§ˆå™¨æ— ç•Œé¢æ“ä½œï¼Œä¸æ¸…æ¥šæ“ä½œæƒ…å†µï¼Œä»£ç æ‰§è¡Œè¿‡ç¨‹ä¸­å®¹æ˜“å®šä½ä¸åˆ°è€ŒæŠ¥é”™</span><br><span class="hljs-comment"># driver = webdriver.ChromeOptions()</span><br><span class="hljs-comment"># driver.add_argument(&#x27;--headless&#x27;)</span><br><span class="hljs-comment"># driver = webdriver.Chrome(chrome_options=driver)</span><br><br><span class="hljs-comment"># Edgeç•Œé¢æ“ä½œï¼Œå¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°ç¿»é¡µè¿‡ç¨‹ï¼Œæ–¹ä¾¿ä»£ç æŠ“å–å…ƒç´ è¿›è¡Œå®šä½</span><br>driver = webdriver.Edge()<br>driver.get(<span class="hljs-string">&quot;https://www.bilibili.com/&quot;</span>)<br>driver.maximize_window()<br>driver.implicitly_wait(<span class="hljs-number">10</span>)<br><br><span class="hljs-comment"># å®šä½æœç´¢æ¡†ï¼Œè¾“å…¥æœç´¢å†…å®¹ï¼Œå›è½¦è¿›è¡Œæœç´¢</span><br>search = driver.find_element_by_css_selector(<span class="hljs-string">&quot;.nav-search-input&quot;</span>)<br>search.send_keys(<span class="hljs-string">&quot;Seleniumæ•™ç¨‹&quot;</span>)<br>search.send_keys(Keys.ENTER)<br><br><span class="hljs-comment"># è·å–æµè§ˆå™¨ä¸­çš„æ‰€æœ‰å¥æŸ„ï¼Œåˆ‡æ¢è‡³æœç´¢åˆ°çš„å†…å®¹é¡µé¢</span><br>handles = driver.window_handles<br>current = driver.current_window_handle<br><span class="hljs-keyword">for</span> handle <span class="hljs-keyword">in</span> handles:<br>    <span class="hljs-keyword">if</span> handle != current:<br>        driver.close()<br>        driver.implicitly_wait(<span class="hljs-number">10</span>)<br>        driver.switch_to.window(handle)<br>        driver.implicitly_wait(<span class="hljs-number">10</span>)<br><br><span class="hljs-comment"># å®šä½â€œä¸‹ä¸€é¡µâ€æŒ‰é’®çš„å‰ä¸€ä¸ªé¡µé¢æŒ‰é’®ï¼Œæå–æœ€å¤§é¡µæ•°æ–‡æœ¬</span><br>pages = driver.find_element_by_css_selector(<span class="hljs-string">&quot;button.vui_button:nth-child(10)&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ€»é¡µæ•°ï¼š&quot;</span> + pages.text)<br><br><span class="hljs-comment"># å°†è·å–åˆ°çš„æ•°æ®å†™å…¥Excelæ–‡æ¡£</span><br>book = xlwt.Workbook(encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>, style_compression=<span class="hljs-number">0</span>)<br><br><span class="hljs-comment"># éå†é¡µé¢</span><br><span class="hljs-keyword">for</span> page <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-built_in">int</span>(pages.text)+<span class="hljs-number">1</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;----------------------------Page <span class="hljs-subst">&#123;page&#125;</span>----------------------------&quot;</span>)<br>    <span class="hljs-comment"># å®šä½â€œæ ‡é¢˜åç§°ã€ä½œè€…ã€å‘å¸ƒæ—¶é—´â€å…ƒç´ </span><br>    titles = driver.find_elements_by_css_selector(<span class="hljs-string">&quot;.bili-video-card__info--right&quot;</span>)<br><br>    <span class="hljs-comment"># åˆ†é¡µå†™å…¥æ•°æ®</span><br>    sheet = book.add_sheet(<span class="hljs-string">f&#x27;ç¬¬<span class="hljs-subst">&#123;page&#125;</span>é¡µ&#x27;</span>, cell_overwrite_ok=<span class="hljs-literal">True</span>)<br>    sheet.write(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-string">&#x27;åç§°&#x27;</span>)<br>    sheet.write(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;ä½œè€…&#x27;</span>)<br>    sheet.write(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-string">&#x27;å‘å¸ƒæ—¶é—´&#x27;</span>)<br>    sheet.write(<span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-string">&#x27;URL&#x27;</span>)<br><br>    <span class="hljs-comment"># è®¾ç½®Excelè¡¨æ ¼åˆ—å®½</span><br>    sheet.col(<span class="hljs-number">0</span>).width = <span class="hljs-number">256</span> * <span class="hljs-number">50</span><br>    sheet.col(<span class="hljs-number">1</span>).width = <span class="hljs-number">256</span> * <span class="hljs-number">30</span><br>    sheet.col(<span class="hljs-number">2</span>).width = <span class="hljs-number">256</span> * <span class="hljs-number">30</span><br>    sheet.col(<span class="hljs-number">3</span>).width = <span class="hljs-number">256</span> * <span class="hljs-number">50</span><br><br>    num = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">for</span> title <span class="hljs-keyword">in</span> titles:<br>        <span class="hljs-comment"># å¤šå‡ºéƒ¨åˆ†éšè—çš„urlï¼Œéšè—éƒ¨åˆ†æ— textï¼Œåˆ¤ç©ºè·³è¿‡</span><br>        <span class="hljs-keyword">if</span> title.text == <span class="hljs-string">&#x27;&#x27;</span>:<br>            <span class="hljs-keyword">break</span><br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-comment"># é€è¡Œè¯»å–text</span><br>            lines = (title.text).split(<span class="hljs-string">&#x27;\n&#x27;</span>)<br>            url = title.find_element_by_xpath(<span class="hljs-string">&#x27;a&#x27;</span>).get_attribute(<span class="hljs-string">&#x27;href&#x27;</span>)<br>            num += <span class="hljs-number">1</span><br><br>        <span class="hljs-comment"># Excelå†™å…¥æ•°æ®</span><br>        sheet.write(num, <span class="hljs-number">0</span>, lines[<span class="hljs-number">0</span>])<br>        sheet.write(num, <span class="hljs-number">1</span>, lines[<span class="hljs-number">1</span>])<br>        sheet.write(num, <span class="hljs-number">2</span>, lines[<span class="hljs-number">2</span>])<br>        sheet.write(num, <span class="hljs-number">3</span>, url)<br><br>    <span class="hljs-comment"># ç‚¹å‡»â€œä¸‹ä¸€é¡µâ€æŒ‰é’®è¿›è¡Œç¿»é¡µ</span><br>    driver.find_element_by_css_selector(<span class="hljs-string">&quot;button.vui_button:nth-child(11)&quot;</span>).click()<br>    sleep(<span class="hljs-number">3</span>)<br><br><span class="hljs-comment"># å°†Excelä¿å­˜åˆ°æŒ‡å®šè·¯å¾„ä¸‹</span><br>book.save(<span class="hljs-string">r&#x27;D:\...\data\bilibili_data.xls&#x27;</span>)<br>driver.quit()<br></code></pre></td></tr></table></figure><h2 id="8-2-ä»£ç æ•´åˆ"><a href="#8-2-ä»£ç æ•´åˆ" class="headerlink" title="8-2 ä»£ç æ•´åˆ"></a>8-2 ä»£ç æ•´åˆ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># crawling_data.py</span><br><span class="hljs-keyword">import</span> xlwt<br><span class="hljs-keyword">from</span> time <span class="hljs-keyword">import</span> sleep<br><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver<br><span class="hljs-keyword">from</span> selenium.webdriver.common.keys <span class="hljs-keyword">import</span> Keys<br><span class="hljs-keyword">from</span> selenium.common.exceptions <span class="hljs-keyword">import</span> TimeoutException<br><br><span class="hljs-comment"># Edgeç•Œé¢æ“ä½œ</span><br>driver = webdriver.Edge()<br><span class="hljs-comment"># å°†è·å–åˆ°çš„æ•°æ®å†™å…¥Excelæ–‡æ¡£</span><br>book = xlwt.Workbook(encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>, style_compression=<span class="hljs-number">0</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_source</span>():<br>    driver.get(<span class="hljs-string">&quot;https://www.bilibili.com/&quot;</span>)<br>    driver.maximize_window()<br>    driver.implicitly_wait(<span class="hljs-number">10</span>)<br><br><br><span class="hljs-comment"># å®šä½æœç´¢æ¡†ï¼Œè¾“å…¥æœç´¢å†…å®¹ï¼Œå›è½¦è¿›è¡Œæœç´¢</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_search</span>():<br>    search = driver.find_element_by_css_selector(<span class="hljs-string">&quot;.nav-search-input&quot;</span>)<br>    search.send_keys(<span class="hljs-string">&quot;Seleniumæ•™ç¨‹&quot;</span>)<br>    search.send_keys(Keys.ENTER)<br><br><br><span class="hljs-comment"># è·å–æµè§ˆå™¨ä¸­çš„æ‰€æœ‰å¥æŸ„ï¼Œåˆ‡æ¢è‡³æœç´¢åˆ°çš„å†…å®¹é¡µé¢</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">switch_window</span>():<br>    handles = driver.window_handles<br>    current = driver.current_window_handle<br>    <span class="hljs-keyword">for</span> handle <span class="hljs-keyword">in</span> handles:<br>        <span class="hljs-keyword">if</span> handle != current:<br>            driver.close()<br>            driver.implicitly_wait(<span class="hljs-number">10</span>)<br>            driver.switch_to.window(handle)<br>            driver.implicitly_wait(<span class="hljs-number">10</span>)<br><br><br><span class="hljs-comment"># ç‚¹å‡»â€œä¸‹ä¸€é¡µâ€æŒ‰é’®è¿›è¡Œç¿»é¡µ</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">next_page</span>(<span class="hljs-params">page</span>):<br>    <span class="hljs-keyword">try</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;----------------------------Page <span class="hljs-subst">&#123;page&#125;</span>----------------------------&quot;</span>)<br>        <span class="hljs-comment"># åŠ¨æ€è¿›åº¦æ¡è¿›è¡ŒåŠ è½½</span><br>        <span class="hljs-keyword">for</span> t <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">11</span>):<br>            sleep(<span class="hljs-number">0.1</span>)<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;\rå½“å‰è¿›åº¦ï¼š&#123;0&#125;&#123;1&#125;%&#x27;</span>.<span class="hljs-built_in">format</span>(<span class="hljs-string">&#x27;â– &#x27;</span> * t * <span class="hljs-number">5</span>, (t * <span class="hljs-number">10</span>)), end=<span class="hljs-string">&#x27;&#x27;</span>)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;\n&#x27;</span>)<br>        driver.find_element_by_css_selector(<span class="hljs-string">&quot;button.vui_button:nth-child(11)&quot;</span>).click()<br>        sleep(<span class="hljs-number">3</span>)<br>    <span class="hljs-keyword">except</span> TimeoutException:<br>        driver.refresh()<br>        <span class="hljs-keyword">return</span> next_page(page)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">write_to_excel</span>(<span class="hljs-params">page</span>):<br>    <span class="hljs-comment"># åˆ†é¡µå†™å…¥æ•°æ®</span><br>    sheet = book.add_sheet(<span class="hljs-string">f&#x27;ç¬¬<span class="hljs-subst">&#123;page&#125;</span>é¡µ&#x27;</span>, cell_overwrite_ok=<span class="hljs-literal">True</span>)<br>    sheet.write(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-string">&#x27;åç§°&#x27;</span>)<br>    sheet.write(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;ä½œè€…&#x27;</span>)<br>    sheet.write(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-string">&#x27;å‘å¸ƒæ—¶é—´&#x27;</span>)<br>    sheet.write(<span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-string">&#x27;URL&#x27;</span>)<br><br>    <span class="hljs-comment"># è®¾ç½®Excelè¡¨æ ¼åˆ—å®½</span><br>    sheet.col(<span class="hljs-number">0</span>).width = <span class="hljs-number">256</span> * <span class="hljs-number">50</span><br>    sheet.col(<span class="hljs-number">1</span>).width = <span class="hljs-number">256</span> * <span class="hljs-number">30</span><br>    sheet.col(<span class="hljs-number">2</span>).width = <span class="hljs-number">256</span> * <span class="hljs-number">30</span><br>    sheet.col(<span class="hljs-number">3</span>).width = <span class="hljs-number">256</span> * <span class="hljs-number">50</span><br><br>    num = <span class="hljs-number">0</span><br>    <span class="hljs-comment"># å®šä½â€œæ ‡é¢˜åç§°ã€ä½œè€…ã€å‘å¸ƒæ—¶é—´â€å…ƒç´ </span><br>    titles = driver.find_elements_by_css_selector(<span class="hljs-string">&quot;.bili-video-card__info--right&quot;</span>)<br>    <span class="hljs-keyword">for</span> title <span class="hljs-keyword">in</span> titles:<br>        <span class="hljs-comment"># å¤šå‡ºéƒ¨åˆ†éšè—çš„urlï¼Œéšè—éƒ¨åˆ†æ— textï¼Œåˆ¤ç©ºè·³è¿‡</span><br>        <span class="hljs-keyword">if</span> title.text == <span class="hljs-string">&#x27;&#x27;</span>:<br>            <span class="hljs-keyword">break</span><br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-comment"># é€è¡Œè¯»å–text</span><br>            lines = (title.text).split(<span class="hljs-string">&#x27;\n&#x27;</span>)<br>            url = title.find_element_by_xpath(<span class="hljs-string">&#x27;a&#x27;</span>).get_attribute(<span class="hljs-string">&#x27;href&#x27;</span>)<br>            num += <span class="hljs-number">1</span><br><br>        <span class="hljs-comment"># Excelå†™å…¥æ•°æ®</span><br>        sheet.write(num, <span class="hljs-number">0</span>, lines[<span class="hljs-number">0</span>])<br>        sheet.write(num, <span class="hljs-number">1</span>, lines[<span class="hljs-number">1</span>])<br>        sheet.write(num, <span class="hljs-number">2</span>, lines[<span class="hljs-number">2</span>])<br>        sheet.write(num, <span class="hljs-number">3</span>, url)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():<br>    <span class="hljs-keyword">try</span>:<br>        get_source()<br>        get_search()<br>        switch_window()<br><br>        <span class="hljs-comment"># å®šä½â€œä¸‹ä¸€é¡µâ€æŒ‰é’®çš„å‰ä¸€ä¸ªé¡µé¢æŒ‰é’®ï¼Œæå–æœ€å¤§é¡µæ•°æ–‡æœ¬</span><br>        pages = driver.find_element_by_css_selector(<span class="hljs-string">&quot;button.vui_button:nth-child(10)&quot;</span>)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ€»é¡µæ•°ï¼š&quot;</span> + pages.text)<br><br>        <span class="hljs-comment"># éå†é¡µé¢</span><br>        <span class="hljs-keyword">for</span> page <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-built_in">int</span>(pages.text) + <span class="hljs-number">1</span>):<br>            next_page(page)<br>            write_to_excel(page)<br>    <span class="hljs-keyword">finally</span>:<br>        driver.quit()<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    main()<br>    <span class="hljs-comment"># å°†Excelä¿å­˜åˆ°æŒ‡å®šè·¯å¾„ä¸‹</span><br>    book.save(<span class="hljs-string">r&#x27;D:\...\data\crawling_data.xls&#x27;</span>)<br></code></pre></td></tr></table></figure><h1 id="9-JFORUMè®ºå›å®æˆ˜"><a href="#9-JFORUMè®ºå›å®æˆ˜" class="headerlink" title="9 JFORUMè®ºå›å®æˆ˜"></a>9 JFORUMè®ºå›å®æˆ˜</h1><ul><li>JFORUMè®ºå›å®æˆ˜<ul><li>æ­å»ºJForumè®ºå›ï¼šå·²æå‰å®‰è£…Java1.8ç‰ˆæœ¬ä¾èµ–ï¼ŒTomcatå¯åŠ¨ä¼šæ¶‰åŠã€‚<ul><li>å®‰è£…xamppï¼š<a href="https://nchc.dl.sourceforge.net/project/xampp/XAMPP%20Windows/5.6.40/xampp-windows-x64-5.6.40-1-VC11-installer.exe">xampp-windows-x64-5.6.40-1-VC11-installer.exe</a>ã€‚</li><li>è§£å‹JForum-2.7.0.waråˆ°â€œjforumâ€æ–‡ä»¶å¤¹ä¸­ï¼š<a href="https://master.dl.sourceforge.net/project/jforum2/jforum-2.7.0.war?viasf=1">JForum-2.7.0.war</a>ã€‚</li><li>å°†â€œjforumâ€æ–‡ä»¶å¤¹å‰ªåˆ‡ç²˜è´´åˆ°xamppçš„â€œ\tomcat\webappsâ€ç›®å½•ä¸‹ã€‚</li><li>XAMPP Control Panel-&gt;å¯åŠ¨xamppï¼Œåˆ†åˆ«ç‚¹å‡»Apacheã€MySQLã€Tomcatçš„StartæŒ‰é’®ã€‚</li><li>MySQLçš„Admin-&gt;æ•°æ®åº“-&gt;æ•°æ®åº“å<code>jforum</code>ï¼Œæ’åºè§„åˆ™<code>utf8_general_ci</code>-&gt;åˆ›å»ºã€‚</li><li>è´¦æˆ·-&gt;å¯¹ä¸‰ä¸ªç”¨æˆ·åä¸ºrootçš„è´¦æˆ·ä¿®æ”¹æƒé™-&gt;ä¿®æ”¹å¯†ç ä¸º<code>123456</code>(è‡ªå®šä¹‰æ•°æ®åº“å¯†ç )ã€‚</li><li>éƒ½æ”¹å¥½ä¹‹ååˆ·æ–°é¡µé¢å°†æ˜¾ç¤ºæƒé™ä¸è¶³ï¼Œæ‰¾åˆ°xamppçš„â€œphpMyAdmin\config.inc.phpâ€æ–‡ä»¶ã€‚</li><li>ä¿®æ”¹å¯†ç ä¸ºè®¾ç½®rootæƒé™æ—¶çš„å¯†ç ï¼š<code>$cfg[&#39;Servers&#39;][$i][&#39;password&#39;] = &#39;123456&#39;;</code>ã€‚</li><li>æµè§ˆå™¨è®¿é—®â€œ<a href="http://127.0.0.1:8080/jforum/install.jsp">http://127.0.0.1:8080/jforum/install.jsp</a>â€è¿›è¡ŒJForumè®ºå›çš„å®‰è£…ä¸éƒ¨ç½²ã€‚<ul><li>æ•°æ®åº“åç§°<code>jforum</code>ï¼Œæ•°æ®åº“ç”¨æˆ·è´¦å·<code>root</code>(æœ‰å¤§å°å†™åŒºåˆ«ï¼Œä¸è¦å†™é”™)ï¼Œå¯†ç <code>123456</code>ã€‚</li><li>æ•°æ®åº“ç¼–ç é»˜è®¤ä¸é€‰(å®‰è£…æ—¶ç³»ç»Ÿä¼šè‡ªåŠ¨é€‰æ‹©)ï¼Œç³»ç»Ÿç®¡ç†å‘˜è´¦å·<code>Admin</code>ï¼Œå¯†ç <code>123456</code>ã€‚</li><li>æœ€åå®‰è£…å®Œæˆï¼Œå³å¯è·³è½¬â€œ<a href="http://127.0.0.1:8080/jforum/user/login.page">è®ºå›é¦–é¡µ</a>â€ã€‚</li></ul></li></ul></li><li>å‰æï¼šè¿›å…¥åå°ç®¡ç†çš„ç³»ç»Ÿè®¾ç½®ã€‚<ul><li>ä¼šå‘˜æ³¨å†Œæ—¶ä½¿ç”¨å›¾ç‰‡éªŒè¯ç ã€å‘å¸–æ—¶å¯ç”¨å›¾ç‰‡éªŒè¯ç ã€‚</li><li>ç³»ç»Ÿç®¡ç†è€…æˆ–ç‰ˆé¢ç®¡ç†å‘˜å‘æ–‡æ—¶å¯ç”¨å›¾ç‰‡éªŒè¯ç ï¼Œéƒ½æ”¹ä¸ºå¦ï¼Œæ›´æ–°ã€‚</li><li>è½®è¯¢å‘å¸–å‰ï¼Œéœ€è¦å…ˆæ–°å»ºä¸€ä¸ªåç§°éƒ½ä¸ºâ€œæ¯æ—¥ä¸€è¨€â€çš„ç‰ˆé¢å’Œç‰ˆå—ã€‚</li></ul></li><li>æ‰¹é‡è‡ªåŠ¨åŒ–æ³¨å†Œï¼šéªŒè¯ç”¨æˆ·ä¿¡æ¯æ˜¯å¦æ­£ç¡®åœ°ä¿å­˜åˆ°æ•°æ®åº“ã€æ³¨å†Œè¿‡ç¨‹æ˜¯å¦æµç•…ã€æ˜¯å¦æœ‰é”™è¯¯æç¤ºç­‰ã€‚</li><li>æ‰¹é‡è‡ªåŠ¨åŒ–ç™»å½•ï¼šéªŒè¯ç”¨æˆ·è¾“å…¥çš„ç”¨æˆ·åå’Œå¯†ç æ˜¯å¦æ­£ç¡®ã€ç™»å½•è¿‡ç¨‹æ˜¯å¦æµç•…ã€æ˜¯å¦æœ‰é”™è¯¯æç¤ºç­‰ã€‚</li><li>å¤šè´¦å·è½®è¯¢å‘å¸–ï¼šä¸€ç§è‡ªåŠ¨åŒ–å·¥å…·çš„åº”ç”¨ã€‚<ul><li>å¤šä¸ªè´¦å·ç™»å½•JForumè®ºå›ï¼Œå®ç°åŒä¸€æ¿å—çš„è½®è¯¢å‘å¸–æ“ä½œã€‚</li><li>ä½¿ç”¨åˆ°çš„æ¥å£ï¼š<a href="https://v.api.aa1.cn/api/yiyan/index.php">https://v.api.aa1.cn/api/yiyan/index.php</a>ã€‚</li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver                              <span class="hljs-comment"># edge_driver.py</span><br><br>driver = webdriver.Edge()<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">open_homepage</span>():<br>    driver.get(<span class="hljs-string">&quot;http://127.0.0.1:8080/jforum/user/login.page&quot;</span>)<br>    driver.maximize_window()                                <span class="hljs-comment"># æµè§ˆå™¨çª—å£æœ€å¤§åŒ–</span><br>    driver.implicitly_wait(<span class="hljs-number">10</span>)                              <span class="hljs-comment"># è®¾ç½®éšå¼æ—¶é—´ç­‰å¾…ï¼Œå…¨å±€ç”Ÿæ•ˆ</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">close_browser</span>():<br>    driver.quit()                                           <span class="hljs-comment"># quitå…³é—­æ•´ä¸ªæµè§ˆå™¨</span><br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    open_homepage()                                         <span class="hljs-comment"># è°ƒç”¨æ‰“å¼€æµè§ˆå™¨å‡½æ•°</span><br>    close_browser()                                         <span class="hljs-comment"># è°ƒç”¨å…³é—­æµè§ˆå™¨å‡½æ•°</span><br></code></pre></td></tr></table></figure><h2 id="9-1-æ‰¹é‡æ³¨å†Œ"><a href="#9-1-æ‰¹é‡æ³¨å†Œ" class="headerlink" title="9-1 æ‰¹é‡æ³¨å†Œ"></a>9-1 æ‰¹é‡æ³¨å†Œ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> edge_driver <span class="hljs-keyword">import</span> *                                   <span class="hljs-comment"># member_register.pyï¼Œå…³è”edge_driver.py</span><br><span class="hljs-keyword">from</span> selenium.webdriver.common.action_chains <span class="hljs-keyword">import</span> ActionChains<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">log_out</span>():<br>    logout_button = driver.find_element_by_xpath(<span class="hljs-string">&#x27;//*[@id=&quot;logout&quot;]&#x27;</span>)<br>    ActionChains(driver).click(logout_button).perform()     <span class="hljs-comment"># æ³¨é”€å½“å‰è´¦å·çš„ç™»å½•</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">member_register</span>(<span class="hljs-params">username, email, password</span>):             <span class="hljs-comment"># åˆ†æ¨¡å—å†™ï¼Œåˆ©äºä»£ç é‡ç”¨</span><br>    register_button = driver.find_element_by_xpath(<span class="hljs-string">&#x27;//*[@id=&quot;register&quot;]&#x27;</span>)<br>    ActionChains(driver).click(register_button).perform()   <span class="hljs-comment"># ç‚¹å‡»ä¼šå‘˜æ³¨å†ŒæŒ‰é’®</span><br>    consent_clause = driver.find_element_by_xpath(<br>        <span class="hljs-string">&#x27;/html/body/table/tbody/tr[2]/td/table/tbody/tr[3]/td/input[1]&#x27;</span><br>    )<br>    ActionChains(driver).click(consent_clause).perform()    <span class="hljs-comment"># ç‚¹å‡»åŒæ„åè®®æŒ‰é’®</span><br><br>    user_name = driver.find_element_by_xpath(<br>        <span class="hljs-string">&#x27;//*[@id=&quot;formregister&quot;]/table[2]/tbody/tr[3]/td[2]/input&#x27;</span><br>    )<br>    e_mail = driver.find_element_by_xpath(<br>        <span class="hljs-string">&#x27;//*[@id=&quot;formregister&quot;]/table[2]/tbody/tr[4]/td[2]/input&#x27;</span><br>    )<br>    code_one = driver.find_element_by_xpath(<span class="hljs-string">&#x27;//*[@id=&quot;password&quot;]&#x27;</span>)<br>    code_two = driver.find_element_by_xpath(<br>        <span class="hljs-string">&#x27;//*[@id=&quot;formregister&quot;]/table[2]/tbody/tr[6]/td[2]/input&#x27;</span><br>    )<br>    user_name.send_keys(username)                           <span class="hljs-comment"># è¾“å…¥ç”¨æˆ·åã€ç”µå­é‚®ç®±ã€å¯†ç </span><br>    e_mail.send_keys(email)<br>    code_one.send_keys(password)<br>    code_two.send_keys(password)<br><br>    define_button = driver.find_element_by_xpath(<br>        <span class="hljs-string">&#x27;//*[@id=&quot;formregister&quot;]/table[2]/tbody/tr[7]/td/input[1]&#x27;</span><br>    )<br>    ActionChains(driver).click(define_button).perform()     <span class="hljs-comment"># ç‚¹å‡»ç¡®å®šæŒ‰é’®</span><br>    log_out()                                               <span class="hljs-comment"># æ³¨é”€è´¦å·</span><br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    open_homepage()                                         <span class="hljs-comment"># æ‰“å¼€æµè§ˆå™¨</span><br>    member_info = [                                         <span class="hljs-comment"># è¦æ³¨å†Œçš„ç”¨æˆ·å¯†ç ä¿¡æ¯</span><br>        &#123;<span class="hljs-string">&quot;username&quot;</span>: <span class="hljs-string">&quot;Elara&quot;</span>, <span class="hljs-string">&quot;email&quot;</span>: <span class="hljs-string">&quot;Elara@example.com&quot;</span>, <span class="hljs-string">&quot;password&quot;</span>: <span class="hljs-string">&quot;123456&quot;</span>&#125;,<br>        &#123;<span class="hljs-string">&quot;username&quot;</span>: <span class="hljs-string">&quot;Galen&quot;</span>, <span class="hljs-string">&quot;email&quot;</span>: <span class="hljs-string">&quot;Galen@example.com&quot;</span>, <span class="hljs-string">&quot;password&quot;</span>: <span class="hljs-string">&quot;123456&quot;</span>&#125;,<br>        &#123;<span class="hljs-string">&quot;username&quot;</span>: <span class="hljs-string">&quot;Thalia&quot;</span>, <span class="hljs-string">&quot;email&quot;</span>: <span class="hljs-string">&quot;Thalia@example.com&quot;</span>, <span class="hljs-string">&quot;password&quot;</span>: <span class="hljs-string">&quot;123456&quot;</span>&#125;,<br>        &#123;<span class="hljs-string">&quot;username&quot;</span>: <span class="hljs-string">&quot;Celeste&quot;</span>, <span class="hljs-string">&quot;email&quot;</span>: <span class="hljs-string">&quot;Celeste@example.com&quot;</span>, <span class="hljs-string">&quot;password&quot;</span>: <span class="hljs-string">&quot;123456&quot;</span>&#125;,<br>        &#123;<span class="hljs-string">&quot;username&quot;</span>: <span class="hljs-string">&quot;Saffron&quot;</span>, <span class="hljs-string">&quot;email&quot;</span>: <span class="hljs-string">&quot;Saffron@example.com&quot;</span>, <span class="hljs-string">&quot;password&quot;</span>: <span class="hljs-string">&quot;123456&quot;</span>&#125;<br>    ]<br>    <span class="hljs-keyword">for</span> member <span class="hljs-keyword">in</span> member_info:                              <span class="hljs-comment"># æ‰¹é‡æ³¨å†Œ</span><br>        username = member[<span class="hljs-string">&#x27;username&#x27;</span>]<br>        email = member[<span class="hljs-string">&#x27;email&#x27;</span>]<br>        password = member[<span class="hljs-string">&#x27;password&#x27;</span>]<br>        member_register(username, email, password)<br>    close_browser()                                         <span class="hljs-comment"># å…³é—­æµè§ˆå™¨</span><br></code></pre></td></tr></table></figure><h2 id="9-2-æ‰¹é‡ç™»å½•"><a href="#9-2-æ‰¹é‡ç™»å½•" class="headerlink" title="9-2 æ‰¹é‡ç™»å½•"></a>9-2 æ‰¹é‡ç™»å½•</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> member_register <span class="hljs-keyword">import</span> *                               <span class="hljs-comment"># member_login.pyï¼Œå…³è”member_register.py</span><br><span class="hljs-keyword">from</span> selenium.webdriver.common.action_chains <span class="hljs-keyword">import</span> ActionChains<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">log_in</span>():<br>    login_button = driver.find_element_by_xpath(<span class="hljs-string">&#x27;//*[@id=&quot;login&quot;]&#x27;</span>)<br>    ActionChains(driver).click(login_button).perform()      <span class="hljs-comment"># ç‚¹å‡»è·³è½¬ç™»å½•é¡µé¢</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">member_login</span>(<span class="hljs-params">username, password</span>):<br>    user_name = driver.find_element_by_xpath(<br>        <span class="hljs-string">&#x27;//*[@id=&quot;loginform&quot;]/table[2]/tbody/tr[2]/td/table/tbody/tr[2]/td[2]/input&#x27;</span><br>    )<br>    user_name.send_keys(username)                           <span class="hljs-comment"># ç”¨æˆ·å</span><br>    pass_word = driver.find_element_by_xpath(<br>        <span class="hljs-string">&#x27;//*[@id=&quot;loginform&quot;]/table[2]/tbody/tr[2]/td/table/tbody/tr[3]/td[2]/input&#x27;</span><br>    )<br>    pass_word.send_keys(password)                           <span class="hljs-comment"># å¯†ç </span><br>    login_button = driver.find_element_by_xpath(<br>        <span class="hljs-string">&#x27;//*[@id=&quot;loginform&quot;]/table[2]/tbody/tr[2]/td/table/tbody/tr[5]/td/input[2]&#x27;</span><br>    )<br>    ActionChains(driver).click(login_button).perform()      <span class="hljs-comment"># ç™»å½•</span><br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    open_homepage()                                         <span class="hljs-comment"># æ‰“å¼€æµè§ˆå™¨</span><br>    member_info = [                                         <span class="hljs-comment"># è¦ç™»å½•çš„ç”¨æˆ·å¯†ç ä¿¡æ¯</span><br>        &#123;<span class="hljs-string">&quot;username&quot;</span>: <span class="hljs-string">&quot;Elara&quot;</span>, <span class="hljs-string">&quot;email&quot;</span>: <span class="hljs-string">&quot;Elara@example.com&quot;</span>, <span class="hljs-string">&quot;password&quot;</span>: <span class="hljs-string">&quot;123456&quot;</span>&#125;,<br>        &#123;<span class="hljs-string">&quot;username&quot;</span>: <span class="hljs-string">&quot;Galen&quot;</span>, <span class="hljs-string">&quot;email&quot;</span>: <span class="hljs-string">&quot;Galen@example.com&quot;</span>, <span class="hljs-string">&quot;password&quot;</span>: <span class="hljs-string">&quot;123456&quot;</span>&#125;,<br>        &#123;<span class="hljs-string">&quot;username&quot;</span>: <span class="hljs-string">&quot;Thalia&quot;</span>, <span class="hljs-string">&quot;email&quot;</span>: <span class="hljs-string">&quot;Thalia@example.com&quot;</span>, <span class="hljs-string">&quot;password&quot;</span>: <span class="hljs-string">&quot;123456&quot;</span>&#125;,<br>        &#123;<span class="hljs-string">&quot;username&quot;</span>: <span class="hljs-string">&quot;Celeste&quot;</span>, <span class="hljs-string">&quot;email&quot;</span>: <span class="hljs-string">&quot;Celeste@example.com&quot;</span>, <span class="hljs-string">&quot;password&quot;</span>: <span class="hljs-string">&quot;123456&quot;</span>&#125;,<br>        &#123;<span class="hljs-string">&quot;username&quot;</span>: <span class="hljs-string">&quot;Saffron&quot;</span>, <span class="hljs-string">&quot;email&quot;</span>: <span class="hljs-string">&quot;Saffron@example.com&quot;</span>, <span class="hljs-string">&quot;password&quot;</span>: <span class="hljs-string">&quot;123456&quot;</span>&#125;<br>    ]<br>    <span class="hljs-keyword">for</span> member <span class="hljs-keyword">in</span> member_info:                              <span class="hljs-comment"># æ‰¹é‡ç™»å½•</span><br>        username = member[<span class="hljs-string">&#x27;username&#x27;</span>]<br>        password = member[<span class="hljs-string">&#x27;password&#x27;</span>]<br>        member_login(username, password)<br>        log_out()                                           <span class="hljs-comment"># æ³¨é”€å½“å‰è´¦å·ï¼Œè¿›è¡Œä¸‹ä¸€è´¦å·çš„ç™»å½•</span><br>        log_in()                                            <span class="hljs-comment"># è¿”å›ç™»å½•é¡µé¢</span><br>    close_browser()                                         <span class="hljs-comment"># å…³é—­æµè§ˆå™¨</span><br></code></pre></td></tr></table></figure><h2 id="9-3-è½®è¯¢å‘å¸–"><a href="#9-3-è½®è¯¢å‘å¸–" class="headerlink" title="9-3 è½®è¯¢å‘å¸–"></a>9-3 è½®è¯¢å‘å¸–</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> requests                                             <span class="hljs-comment"># member_posting.pyï¼Œå…³è”member_login.py</span><br><span class="hljs-keyword">from</span> member_login <span class="hljs-keyword">import</span> *<br><span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime<br><span class="hljs-keyword">from</span> bs4 <span class="hljs-keyword">import</span> BeautifulSoup<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_apiData</span>():<br>    url = <span class="hljs-string">&#x27;https://v.api.aa1.cn/api/yiyan/index.php&#x27;</span>        <span class="hljs-comment"># æ¯æ—¥ä¸€è¨€æ¥å£</span><br>    response = requests.get(url, verify=<span class="hljs-literal">False</span>)              <span class="hljs-comment"># æŠ¥é”™[SSL: CERTIFICATE_VERIFY_FAILED]</span><br>    html = response.text                                    <span class="hljs-comment"># verifyç¦ç”¨è¯ä¹¦éªŒè¯</span><br>    soup = BeautifulSoup(html, <span class="hljs-string">&#x27;html.parser&#x27;</span>)               <span class="hljs-comment"># ä¸æ¨èè¯¥æ–¹æ³•ï¼Œé™ä½å®‰å…¨æ€§</span><br>    text = soup.get_text()<br>    <span class="hljs-keyword">return</span> text                                             <span class="hljs-comment"># è·å–æ¥å£è¿”å›çš„æ¯æ—¥ä¸€è¨€</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">member_posting</span>(<span class="hljs-params">title, content</span>):<br>    block_button = driver.find_element_by_xpath(<br>        <span class="hljs-string">&#x27;/html/body/table/tbody/tr[2]/td/table[2]/tbody&#x27;</span><br>        <span class="hljs-string">&#x27;/tr/td/table[2]/tbody/tr[5]/td[2]/span[1]/a&#x27;</span><br>    )<br>    block_button.click()                                    <span class="hljs-comment"># è¿›å…¥æ¿å—</span><br>    deliver_keynote = driver.find_element_by_xpath(<br>        <span class="hljs-string">&#x27;/html/body/table/tbody/tr[2]/td/table[2]/tbody/tr/td/table[2]/tbody/tr/td[1]/a/img&#x27;</span><br>    )<br>    deliver_keynote.click()                                 <span class="hljs-comment"># å‘è¡¨ä¸»é¢˜</span><br>    topic_title = driver.find_element_by_xpath(<br>        <span class="hljs-string">&#x27;//*[@id=&quot;post&quot;]/table/tbody/tr/td/table[3]/tbody/tr[2]/td[2]/span/input&#x27;</span><br>    )<br>    topic_title.send_keys(title)                            <span class="hljs-comment"># æ ‡é¢˜å†…å®¹</span><br>    post_content = driver.find_element_by_xpath(<br>        <span class="hljs-string">&#x27;//*[@id=&quot;post&quot;]/table/tbody/tr/td/table[3]/tbody&#x27;</span><br>        <span class="hljs-string">&#x27;/tr[3]/td[2]/div/table/tbody/tr[4]/td/textarea&#x27;</span><br>    )<br>    post_content.send_keys(content)                         <span class="hljs-comment"># å¸–å­å†…å®¹</span><br>    close_bbcode = driver.find_element_by_xpath(<span class="hljs-string">&#x27;//*[@id=&quot;disable_bbcode&quot;]&#x27;</span>)<br>    close_bbcode.click()                                    <span class="hljs-comment"># å‹¾é€‰è¿›è¡Œå…³é—­</span><br>    send_button = driver.find_element_by_xpath(<span class="hljs-string">&#x27;//*[@id=&quot;btnSubmit&quot;]&#x27;</span>)<br>    send_button.click()                                     <span class="hljs-comment"># å‘å¸ƒå¸–å­</span><br>    return_home = driver.find_element_by_xpath(<br>        <span class="hljs-string">&#x27;/html/body/table/tbody/tr[2]/td/table[2]/tbody/tr/td/table[2]/tbody/tr/td[2]/span/a[1]&#x27;</span><br>    )<br>    return_home.click()                                     <span class="hljs-comment"># è¿”å›è®ºå›é¦–é¡µ</span><br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    open_homepage()                                         <span class="hljs-comment"># è°ƒç”¨æ‰“å¼€æµè§ˆå™¨å‡½æ•°</span><br>    member_info = [                                         <span class="hljs-comment"># è¦ç™»å½•çš„ç”¨æˆ·å¯†ç ä¿¡æ¯</span><br>        &#123;<span class="hljs-string">&quot;username&quot;</span>: <span class="hljs-string">&quot;Elara&quot;</span>, <span class="hljs-string">&quot;email&quot;</span>: <span class="hljs-string">&quot;Elara@example.com&quot;</span>, <span class="hljs-string">&quot;password&quot;</span>: <span class="hljs-string">&quot;123456&quot;</span>&#125;,<br>        &#123;<span class="hljs-string">&quot;username&quot;</span>: <span class="hljs-string">&quot;Galen&quot;</span>, <span class="hljs-string">&quot;email&quot;</span>: <span class="hljs-string">&quot;Galen@example.com&quot;</span>, <span class="hljs-string">&quot;password&quot;</span>: <span class="hljs-string">&quot;123456&quot;</span>&#125;,<br>        &#123;<span class="hljs-string">&quot;username&quot;</span>: <span class="hljs-string">&quot;Thalia&quot;</span>, <span class="hljs-string">&quot;email&quot;</span>: <span class="hljs-string">&quot;Thalia@example.com&quot;</span>, <span class="hljs-string">&quot;password&quot;</span>: <span class="hljs-string">&quot;123456&quot;</span>&#125;,<br>        &#123;<span class="hljs-string">&quot;username&quot;</span>: <span class="hljs-string">&quot;Celeste&quot;</span>, <span class="hljs-string">&quot;email&quot;</span>: <span class="hljs-string">&quot;Celeste@example.com&quot;</span>, <span class="hljs-string">&quot;password&quot;</span>: <span class="hljs-string">&quot;123456&quot;</span>&#125;,<br>        &#123;<span class="hljs-string">&quot;username&quot;</span>: <span class="hljs-string">&quot;Saffron&quot;</span>, <span class="hljs-string">&quot;email&quot;</span>: <span class="hljs-string">&quot;Saffron@example.com&quot;</span>, <span class="hljs-string">&quot;password&quot;</span>: <span class="hljs-string">&quot;123456&quot;</span>&#125;<br>    ]<br>    <span class="hljs-keyword">for</span> member <span class="hljs-keyword">in</span> member_info:                              <span class="hljs-comment"># æ‰¹é‡ç™»å½•</span><br>        username = member[<span class="hljs-string">&#x27;username&#x27;</span>]<br>        password = member[<span class="hljs-string">&#x27;password&#x27;</span>]<br>        member_login(username, password)<br>        date = datetime.now().strftime(<span class="hljs-string">&#x27;%Y-%m-%d %H:%M:%S&#x27;</span>)<br>        title = <span class="hljs-string">&#x27;æ¯æ—¥ä¸€è¨€&#x27;</span> + <span class="hljs-string">&#x27; &#x27;</span> + date<br>        content = get_apiData()                             <span class="hljs-comment"># è·å–æ¥å£çš„æ¯æ—¥ä¸€è¨€</span><br>        member_posting(title, content)                      <span class="hljs-comment"># å½“å‰è´¦å·è¿›è¡Œå‘å¸–</span><br>        log_out()                                           <span class="hljs-comment"># æ³¨é”€å½“å‰è´¦å·ï¼Œè¿›è¡Œä¸‹ä¸€è´¦å·çš„ç™»å½•</span><br>        log_in()                                            <span class="hljs-comment"># è¿”å›ç™»å½•é¡µé¢</span><br>    close_browser()                                         <span class="hljs-comment"># è°ƒç”¨å…³é—­æµè§ˆå™¨å‡½æ•°</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>æµ‹è¯•æ¡†æ¶</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Selenium</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>F12 åŠŸèƒ½è¯´æ˜</title>
    <link href="/2022/11/10/ce-shi-gong-ju/tt06-f12-kai-fa-zhe-gong-ju/tt06-01-f12-gong-neng-shuo-ming/"/>
    <url>/2022/11/10/ce-shi-gong-ju/tt06-f12-kai-fa-zhe-gong-ju/tt06-01-f12-gong-neng-shuo-ming/</url>
    
    <content type="html"><![CDATA[<p>ğŸ¥ª åˆ©ç”¨æµè§ˆå™¨ä¸­çš„F12å¼€å‘è€…å·¥å…·é€‰é¡¹ï¼Œè¿›è¡Œç½‘ç«™ç•Œé¢çš„æµ‹è¯•ã€è°ƒè¯•åŠåˆ†æç½‘é¡µå‡ºç°çš„é—®é¢˜ï¼Œæ”¯æŒæŸ¥çœ‹HTMLå…ƒç´ ã€å“åº”äº‹ä»¶ç­‰ã€‚</p><span id="more"></span><h1 id="1-å¼€å‘è€…å·¥å…·"><a href="#1-å¼€å‘è€…å·¥å…·" class="headerlink" title="1 å¼€å‘è€…å·¥å…·"></a>1 å¼€å‘è€…å·¥å…·</h1><ul><li>å¼€å‘è€…å·¥å…·ï¼šä»¥Chromeæ­£å¼ç‰ˆæœ¬108.0.5359.125ä¸ºä¾‹ã€‚<ul><li>Elementsï¼šå…ƒç´ ï¼Œç”¨äºæŸ¥æ‰¾ç½‘é¡µæºä»£ç ä¸­çš„å…ƒç´ ï¼Œæ‰‹åŠ¨ä¿®æ”¹ä»»ä¸€å…ƒç´ çš„å±æ€§å’Œæ ·å¼èƒ½åœ¨æµè§ˆå™¨ä¸­å¾—åˆ°å®æ—¶åé¦ˆã€‚</li><li>Consoleï¼šæ§åˆ¶å°ï¼Œè®°å½•å¼€å‘è€…å¼€å‘è¿‡ç¨‹ä¸­çš„æ—¥å¿—ä¿¡æ¯ï¼Œå¹¶ä¸”å¯ä»¥ä½œä¸ºä¸JavaScriptä»£ç è¿›è¡Œäº¤äº’çš„å‘½ä»¤è¡ŒShellã€‚</li><li>Sourcesï¼šæºä»£ç ã€‚<ul><li>ç”¨äºæŸ¥çœ‹é¡µé¢çš„HTMLæºä»£ç ã€JavaScriptæºä»£ç ã€CSSæºä»£ç ã€‚</li><li>è¿˜å¯ç”¨äºè°ƒè¯•JavaScriptæºä»£ç ï¼Œç»™JavaScriptæºä»£ç æ·»åŠ æ–­ç‚¹ã€‚</li></ul></li><li>Networkï¼šç½‘ç»œã€‚<ul><li>ä»å‘èµ·ç½‘é¡µé¡µé¢è¯·æ±‚Requestï¼Œåˆ°åˆ†æHTTPè¯·æ±‚åï¼Œå¾—åˆ°çš„å„ä¸ªè¯·æ±‚èµ„æºä¿¡æ¯ã€‚</li><li>åŒ…æ‹¬åç§°ã€çŠ¶æ€ã€ç±»å‹ã€å¯åŠ¨å™¨ã€å¤§å°ã€æ—¶é—´ã€ç€‘å¸ƒæµï¼Œæµ‹è¯•äººå‘˜åº”é‡ç‚¹æŒæ¡ã€‚</li></ul></li><li>Performanceï¼šå‰ç«¯æ€§èƒ½ï¼Œç›‘æ§CPUã€å†…å­˜ã€ç½‘ç»œã€GPUã€æ—¶é—´æ¶ˆè€—ç­‰èµ„æºã€‚</li><li>Memoryï¼šå†…å­˜ï¼ŒæŸ¥çœ‹å½“å‰ç½‘é¡µçš„JavaScriptå ç”¨å†…å­˜æƒ…å†µã€‚</li><li>Applicationï¼šåº”ç”¨ï¼Œè®°å½•åŠ è½½çš„æ‰€æœ‰èµ„æºï¼ŒåŒ…æ‹¬å­˜å‚¨ç©ºé—´ã€IndexedDBã€Web SQLã€Cookieã€åº”ç”¨ç¨‹åºç¼“å­˜ç­‰ã€‚</li><li>Securityï¼šå®‰å…¨ï¼Œè°ƒè¯•å½“å‰ç½‘é¡µçš„å®‰å…¨å’Œè®¤è¯é—®é¢˜ï¼Œç¡®ä¿åœ¨ç½‘ç«™ä¸Šæ­£ç¡®åœ°å®ç°HTTPSï¼Œåˆ¤æ–­å½“å‰ç½‘é¡µæ˜¯å¦å®‰å…¨ã€‚</li></ul></li></ul><p><img src="/../../img/F12/F12-01/F12-01@001.jpg" srcset="/img/load.gif" lazyload alt="å¼€å‘è€…å·¥å…·-è¯­è¨€æ”¹ä¸­æ–‡è®¾ç½®-Settings"></p><ul><li>è¯­è¨€æ”¹ä¸­æ–‡è®¾ç½®<ul><li>ç‚¹ç•Œé¢å³ä¸Šè§’çš„SettingsæŒ‰é’®ï¼Œé€‰Preferencesçš„Languageä¸ºâ€œChinese-ä¸­æ–‡â€ï¼Œå³ä¸Šè§’ç‚¹â€œÃ—â€å…³é—­Settingsç•Œé¢ã€‚</li><li>æ­¤æ—¶F12å¼€å‘è€…å·¥å…·é€‰é¡¹çš„ç•Œé¢ä¸Šæ˜¾ç¤º<code>Reload DevTools</code>æŒ‰é’®ï¼Œç‚¹è¯¥æŒ‰é’®ï¼Œé‡æ–°åŠ è½½å¼€å‘è€…å·¥å…·é€‰é¡¹ç•Œé¢å°±å¯ä»¥äº†ã€‚</li></ul></li></ul><p><img src="/../../img/F12/F12-01/F12-01@002.jpg" srcset="/img/load.gif" lazyload alt="å¼€å‘è€…å·¥å…·-è¯­è¨€æ”¹ä¸­æ–‡è®¾ç½®-Preferences"></p><h1 id="2-Elements"><a href="#2-Elements" class="headerlink" title="2 Elements"></a>2 Elements</h1><ul><li>Elements<ul><li>æŸ¥çœ‹é¡µé¢çš„æ‰€æœ‰HTMLå…ƒç´ åŠCSSæ ·å¼ï¼Œç”¨äºé¡µé¢ç»“æ„åˆ†æï¼Œä¹Ÿå¯ä»¥ç”¨äºè‡ªåŠ¨åŒ–è„šæœ¬çš„å…ƒç´ å®šä½ã€‚</li><li>Stylesï¼šæ ·å¼ï¼Œå®æ—¶ä¿®æ”¹å±æ€§å€¼ã€‚<ul><li>æ‰€æœ‰æ ·å¼éƒ½æ˜¯å¯ç¼–è¾‘çš„ï¼Œåœ¨æ¯ä¸ªå±æ€§åå•å‡»å¯æ·»åŠ æ–°æ ·å¼ã€‚</li><li>ç‚¹å‡»æ ·å¼é¢æ¿å³ä¾§çš„æ–‡ä»¶åï¼Œç•Œé¢å°†è·³è½¬åˆ°Sourceé¢æ¿ä¸­ã€‚</li></ul></li><li>Computedï¼šç›’æ¨¡å‹ï¼Œåº•éƒ¨æ˜¯å½“å‰ç›’æ¨¡å‹çš„å…·ä½“å±æ€§ã€‚</li><li>Layout(Gridä»¥åŠFlexboxå¸ƒå±€)ã€Event Listeners(äº‹ä»¶ç›‘å¬å™¨)ã€‚</li><li>DOM Breakpoints(DOMæ–­ç‚¹)ã€Properties(å±æ€§ï¼Œå¯è¿‡æ»¤æŸ¥æ‰¾)ã€‚</li><li>Accessibility(æ— éšœç¢åŠŸèƒ½æ¨¡å¼)ã€‚</li></ul></li></ul><p><img src="/../../img/F12/F12-01/F12-01@003.jpg" srcset="/img/load.gif" lazyload alt="Elements"></p><h1 id="3-Console"><a href="#3-Console" class="headerlink" title="3 Console"></a>3 Console</h1><ul><li>Console<ul><li>æŸ¥çœ‹è°ƒè¯•æ—¥å¿—ä¿¡æ¯æˆ–å¼‚å¸¸é”™è¯¯ä¿¡æ¯ï¼Œå‰ç«¯å¼€å‘ä¾æ®å…·ä½“é—®é¢˜è¿›è¡Œè°ƒè¯•ï¼Œä»è€Œè§£å†³å‡ºç°çš„Bugé—®é¢˜ã€‚</li><li>é€šè¿‡JavaScriptä»£ç æˆ–å‘½ä»¤è¡Œï¼Œå°†æ—¥å¿—ä¿¡æ¯è¾“å‡ºåˆ°æ§åˆ¶å°ã€‚<ul><li><code>console.log()</code>ï¼šä»¥å­—ç¬¦ä¸²å½¢å¼æ‰“å°åŸºæœ¬çš„æ—¥å¿—ä¿¡æ¯ã€‚</li><li><code>console.dir()</code>ï¼šä»¥å¯¹è±¡ç»“æ„æ‰©å±•åˆ—è¡¨å½¢å¼æ‰“å°ä¿¡æ¯ã€‚</li><li><code>console.warn()</code>ï¼šæ˜¾ç¤ºå¸¦é»„è‰²æ„Ÿå¹å·å›¾æ ‡çš„è­¦å‘Šä¿¡æ¯ã€‚</li><li><code>console.error()</code>ï¼šæ˜¾ç¤ºå¸¦æœ‰çº¢è‰²å‰å›¾æ ‡çš„é”™è¯¯ä¿¡æ¯ã€‚</li><li>å±‚çº§åµŒå¥—<ul><li><code>console.group</code>ï¼šç»™ç›¸å…³æ—¥å¿—åˆ†ç»„ã€‚</li><li><code>console.groupEnd()</code>ï¼šå¯¹æ¶ˆæ¯è¿›è¡Œåˆ†ç»„ï¼Œé¿å…æ··ä¹±ã€‚</li><li><code>console.groupCollapsed()</code>ï¼šé»˜è®¤æƒ…å†µä¸‹æŠ˜å åˆ†ç»„ã€‚</li></ul></li><li>æ—¶é—´å‡½æ•°<ul><li><code>console.time()</code>ï¼šå¯åŠ¨è®¡æ—¶å™¨ã€‚</li><li><code>console.timeLog()</code>ï¼šæ‰“å°æ€»æ—¶é—´ã€‚</li><li><code>console.timeEnd()</code>ï¼šå…³é—­è®¡æ—¶å™¨ã€‚</li></ul></li><li><code>console.table()</code>ï¼šå°†å¯¹è±¡æ‰“å°æˆè¡¨æ ¼å½¢å¼ï¼Œæ¯ä¸ªå¯¹è±¡çš„å±æ€§å¸¦æœ‰æ ‡è®°çš„è¡Œã€‚</li><li><code>console.trace()</code>ï¼šè°ƒç”¨å †æ ˆé¡¶éƒ¨æ‰€éœ€çš„å‡½æ•°ï¼ŒæŸ¥çœ‹è°ƒç”¨è¯¥ä»£ç çš„ç¡®åˆ‡ä½ç½®ã€‚</li><li><code>console.count()</code>ï¼šè®¡æ•°ï¼Œå¯è‡ªå®šä¹‰æ ‡ç­¾æ‰“å°ï¼Œæ¯æ¬¡è°ƒç”¨æ—¶è®¡æ•°å€¼åŠ <code>1</code>ï¼Œç»“åˆforå¾ªç¯ä½¿ç”¨ã€‚</li><li><code>console.assert()</code>ï¼šé€šè¿‡å±æ€§åšæ¡ä»¶ç­›é€‰ï¼Œå½“æ¡ä»¶ä¸æˆç«‹æ—¶æ‰æ‰“å°è®¾ç½®çš„æ¶ˆæ¯ï¼Œè°ƒè¯•å¿…å¤‡ã€‚</li></ul></li><li>æ§åˆ¶å°äº¤äº’<ul><li><code>$()</code>ï¼šè¿”å›ä¸æŒ‡å®šçš„CSSé€‰æ‹©å™¨ç›¸äº’åŒ¹é…çš„ç¬¬ä¸€ä¸ªå…ƒç´ å€¼ï¼Œç­‰åŒäº<code>document.querySelector()</code>ã€‚</li><li><code>$$()</code>ï¼šè¿”å›ä¸æŒ‡å®šCSSé€‰æ‹©å™¨ç›¸åŒ¹é…çš„æ‰€æœ‰å…ƒç´ æ•°ç»„ï¼Œç­‰åŒäº<code>document.querySelectorAll()</code>ã€‚</li><li><code>$x()</code>ï¼šè¿”å›ä¸æŒ‡å®šçš„XPathç›¸åŒ¹é…çš„æ‰€æœ‰å…ƒç´ æ•°ç»„ã€‚</li></ul></li><li>å¸¸è§æŠ¥é”™å†…å®¹ï¼šXXXç±»æ²¡æ‰¾åˆ°ã€XXXå˜é‡æœªå®šä¹‰ã€SSLè¯ä¹¦å¤±æ•ˆã€å‰åç«¯è·¨åŸŸé”™è¯¯ç­‰ã€‚</li></ul></li></ul><p><img src="/../../img/F12/F12-01/F12-01@004.jpg" srcset="/img/load.gif" lazyload alt="Console"></p><h1 id="4-Sources"><a href="#4-Sources" class="headerlink" title="4 Sources"></a>4 Sources</h1><ul><li>Sources<ul><li>å½“å‰æ‰“å¼€ç½‘é¡µç•Œé¢æ‰€æ¶‰åŠåˆ°çš„æ‰€æœ‰æºä»£ç éƒ½ä¼šå‡ºç°åœ¨è¯¥æ ï¼ŒåŒ…æ‹¬cssæ ·å¼ã€imgå›¾ç‰‡ã€jsæ–‡ä»¶ç­‰ã€‚</li><li>è°ƒè¯•JavaScriptä»£ç <ul><li>å¦‚æœå½“å‰ä»£ç ç»è¿‡å‹ç¼©ï¼Œç‚¹å‡»ä¸‹æ–¹çš„èŠ±æ‹¬å·<code>&#123;&#125;</code>å¢å¼ºå¯è¯»æ€§ã€‚</li><li>æ”¯æŒç‚¹å‡»JavaScriptä»£ç å—å‰çš„è¡Œæ•°æ¥è®¾ç½®æ–­ç‚¹ï¼Œæ‰€æœ‰æ–­ç‚¹éƒ½ä¼šåœ¨å³ä¾§çš„æ–­ç‚¹åŒºä¸­åˆ—å‡ºæ¥ã€‚</li><li>æ–­ç‚¹å¯åœ¨DOMå…ƒç´ èŠ‚ç‚¹å‘ç”Ÿæ”¹å˜æ—¶ã€XHRç”Ÿå‘½å‘¨æœŸçŠ¶æ€æ”¹å˜æ—¶ã€æŒ‡å®šçš„äº‹ä»¶æ‰§è¡Œæ—¶è¢«è§¦å‘ã€‚</li></ul></li></ul></li></ul><p><img src="/../../img/F12/F12-01/F12-01@005.jpg" srcset="/img/load.gif" lazyload alt="Sources"></p><h1 id="5-Network"><a href="#5-Network" class="headerlink" title="5 Network"></a>5 Network</h1><ul><li>Network<ul><li>ç½‘ç»œæŸ¥è¯¢ï¼Œå‰åç«¯ä¿¡æ¯é€šè¿‡æ¥å£ä¼ è¾“ï¼ŒNetworkè®°å½•äº†æ¥å£ä¿¡æ¯ï¼ŒåŒ…æ‹¬è¯·æ±‚å¤´ã€è¯·æ±‚ä½“ã€å“åº”ä½“ç­‰ã€‚</li><li>Googleå®˜æ–¹å°†Networké¢æ¿åˆ†æˆäº†5å¤§çª—æ ¼(Pane)ã€‚<ul><li>Controlsï¼šä¸»è¦æ§åˆ¶Networkçš„å¤–è§‚ä»¥åŠåŠŸèƒ½ã€‚</li><li>Filtersï¼šæ§åˆ¶Requests Tableå…·ä½“æ˜¾ç¤ºçš„å†…å®¹ã€‚</li><li>Overviewï¼šä»¥æ—¶é—´æµå½¢å¼æ˜¾ç¤ºè·å–åˆ°çš„èµ„æºæ—¶é—´è½´ä¿¡æ¯ã€‚</li><li>Requests Tableï¼šæŒ‰è·å–åˆ°èµ„æºçš„å‰åé¡ºåºæ˜¾ç¤ºèµ„æºä¿¡æ¯ã€‚</li><li>Summaryï¼šæ˜¾ç¤ºæ€»çš„è¯·æ±‚æ•°ã€æ•°æ®ä¼ è¾“é‡ã€åŠ è½½æ—¶é—´ä¿¡æ¯ã€‚</li></ul></li></ul></li></ul><h2 id="5-1-Controls"><a href="#5-1-Controls" class="headerlink" title="5-1 Controls"></a>5-1 Controls</h2><ul><li>Controls<ul><li>ç›‘æ§ç½‘ç»œè¯·æ±‚ï¼šé»˜è®¤å¼€å¯ï¼Œä¼šåœ¨é¢æ¿å¤„è®°å½•ç½‘ç»œè¿æ¥ä¿¡æ¯ï¼Œå…³é—­ååˆ™ä¸ä¼šè®°å½•ã€‚</li><li>æ¸…ç©ºç½‘ç»œè¯·æ±‚ï¼šç‚¹å‡»æŒ‰é’®ï¼Œå°†æ¸…é™¤åº•ä¸‹ç½‘ç»œè¯·æ±‚åˆ—è¡¨åŒ…æ‹¬Overviewçš„æ‰€æœ‰å†…å®¹ã€‚</li><li>è¿‡æ»¤ç½‘ç»œè¯·æ±‚ï¼šç‚¹å‡»æŒ‰é’®ï¼Œæ‰“å¼€Filteræ ï¼Œæ§åˆ¶Requests Tableå…·ä½“æ˜¾ç¤ºçš„å†…å®¹ã€‚</li><li>æœç´¢è¯·æ±‚åˆ—è¡¨ï¼šç‚¹å‡»æŒ‰é’®ï¼Œå·¦ä¾§å¼¹å‡ºä¸€ä¸ªSearché¢æ¿ï¼Œä¾›æœç´¢è¯·æ±‚åŠå“åº”èµ„æºã€‚</li><li>ä¿ç•™è¯·æ±‚èµ„æºï¼šç”¨æˆ·é‡æ–°åŠ è½½å½“å‰é¡µé¢æ—¶ï¼Œä¹‹å‰çš„è¯·æ±‚èµ„æºä¿¡æ¯ä¼šè¢«ä¿ç•™ä¸‹æ¥ã€‚</li><li>å…³é—­ç¼“å­˜ï¼šå‹¾é€‰åé¡µé¢èµ„æºä¸ä¼šå­˜å…¥ç¼“å­˜ï¼Œå¯ä»Statusä¸€æ çš„çŠ¶æ€ç çœ‹åˆ°æ–‡ä»¶çš„è¯·æ±‚çŠ¶æ€ã€‚</li><li>å¼±ç½‘è®¾ç½®ï¼šç½‘é€Ÿæ¨¡æ‹Ÿé™åˆ¶ï¼Œå¯é€‰â€œä¸é™é€Ÿã€Fast 3Gã€Slow 3Gã€Offline(ç¦»çº¿)ã€è‡ªå®šä¹‰â€ã€‚</li><li>ç½‘ç»œè®¾ç½®<ul><li>Caching(ç¼“å­˜è®¾ç½®)ã€Network throttling(å¼±ç½‘è®¾ç½®)ã€Accepted Content-Encodings(æœåŠ¡ç«¯å‹ç¼©æ ¼å¼)ã€‚</li><li>User agent(HTTPè¯·æ±‚å¤´çš„ä¸€éƒ¨åˆ†ï¼ŒæŒ‡æ‰€ç”¨æµè§ˆå™¨å’Œæ“ä½œç³»ç»Ÿçš„ç±»å‹åŠç‰ˆæœ¬ã€æµè§ˆå™¨å†…æ ¸ç­‰ä¿¡æ¯çš„æ ‡è¯†)ã€‚</li></ul></li></ul></li></ul><p><img src="/../../img/F12/F12-01/F12-01@006.jpg" srcset="/img/load.gif" lazyload alt="Network-Controls"></p><h2 id="5-2-Filters"><a href="#5-2-Filters" class="headerlink" title="5-2 Filters"></a>5-2 Filters</h2><ul><li>Filters<ul><li>è‡ªå®šä¹‰æ¡ä»¶è¿‡æ»¤ï¼šFilteræ è¾“å…¥å†…å®¹ã€‚</li><li>é¢„å®šä¹‰æ–¹å¼è¿‡æ»¤ï¼šAll(æ˜¾ç¤ºæ‰€æœ‰è¯·æ±‚)ã€‚<ul><li>Fetch&#x2F;XHR(Ajaxã€Axiosçš„å¼‚æ­¥è¯·æ±‚)ã€JS(Jsæ–‡ä»¶)ã€CSS(Cssæ–‡ä»¶)ã€Img(å›¾ç‰‡)ã€‚</li><li>Media(åª’ä½“æ–‡ä»¶ï¼ŒéŸ³è§†é¢‘ç­‰)ã€Font(Webå­—ä½“)ã€Doc(HTML)ã€WS(Websocketè¯·æ±‚)ã€‚</li><li>Wasm(WebAssemblyæ–‡ä»¶)ã€Manifest(AndroidManifest.xmlæ–‡ä»¶)ã€Other(å…¶ä»–è¯·æ±‚)ã€‚</li></ul></li></ul></li></ul><p><img src="/../../img/F12/F12-01/F12-01@007.jpg" srcset="/img/load.gif" lazyload alt="Network-Filters"></p><h2 id="5-3-Overview"><a href="#5-3-Overview" class="headerlink" title="5-3 Overview"></a>5-3 Overview</h2><p><img src="/../../img/F12/F12-01/F12-01@008.jpg" srcset="/img/load.gif" lazyload alt="Network-Overview"></p><h2 id="5-4-Requests-Table"><a href="#5-4-Requests-Table" class="headerlink" title="5-4 Requests Table"></a>5-4 Requests Table</h2><ul><li>Requests Table<ul><li>Nameï¼šèµ„æºåç§°ï¼Œç‚¹å‡»åç§°ï¼Œå³ä¾§é¢æ¿å°†æ˜¾ç¤ºè¯¥èµ„æºçš„è¯¦æƒ…ã€‚</li><li>Statusï¼šå“åº”çŠ¶æ€ç ï¼ŒåŒ…æ‹¬2XX(æˆåŠŸ)ã€3XX(é‡å®šå‘)ã€4XX(å®¢æˆ·ç«¯é”™è¯¯)ã€5XX(æœåŠ¡å™¨é”™è¯¯)ã€‚</li><li>Typeï¼šå“åº”æ•°æ®ç±»å‹ï¼ŒMIMEç±»å‹æŒ‡Multipurpose Internet Mail Extensions(å³htmlã€cssã€jsç­‰)ã€‚</li><li>Initiatorï¼šæ ‡è®°è¯·æ±‚æ˜¯ç”±å“ªä¸ªå¯¹è±¡æˆ–è¿›ç¨‹å‘èµ·çš„(å³è¯·æ±‚æº)ã€‚</li><li>Sizeï¼šå“åº”æ•°æ®å¤§å°ï¼Œå¦‚æœæ˜¯ä»ç¼“å­˜ä¸­å–å¾—çš„èµ„æºåˆ™æ˜¾ç¤ºâ€œfrom cacheâ€ã€‚</li><li>Timeï¼šå“åº”æ—¶é—´ï¼Œä»å‘èµ·Requestå¼€å§‹ï¼Œè‡³è·å–åˆ°Responseæ‰€ç”¨çš„æ€»æ—¶é—´ã€‚</li><li>Waterfall<ul><li>å¯è§†åŒ–ç€‘å¸ƒæµï¼Œå¯ä»¥çœ‹åˆ°è¯·æ±‚æ‰€èŠ±è´¹çš„æ—¶é—´å…·ä½“åˆ°å“ªäº›éƒ¨åˆ†ã€‚</li><li>å°†ä¸€æ¬¡HTTPè¯·æ±‚æ‰€èŠ±æ—¶é—´åšäº†æ‹†è§£ï¼Œæœ‰åŠ©äºåˆ†æå’Œå®šä½é—®é¢˜ã€‚</li></ul></li></ul></li></ul><p><img src="/../../img/F12/F12-01/F12-01@009.jpg" srcset="/img/load.gif" lazyload alt="Network-Requests Table"></p><h3 id="1-Name-èµ„æºåç§°"><a href="#1-Name-èµ„æºåç§°" class="headerlink" title="(1) Name(èµ„æºåç§°)"></a>(1) Name(èµ„æºåç§°)</h3><ul><li>Headersï¼šè¯¥èµ„æºçš„HTTPå¤´ä¿¡æ¯ã€‚<ul><li>Generalï¼Œå¸¸è§„çš„ã€‚<ul><li>Request URL(èµ„æºè¯·æ±‚URL)ã€Request Method(è¯·æ±‚çš„æ–¹å¼)ã€‚</li><li>Status Code(HTTPçŠ¶æ€ç )ã€Remote Address(è¯·æ±‚è¿œç¨‹åœ°å€)ã€‚</li><li>Referrer Policy<ul><li>ä½œç”¨æ˜¯æ§åˆ¶è¯·æ±‚å¤´ä¸­referrerçš„å†…å®¹ï¼Œç›®å‰æ˜¯ä¸€ä¸ªå€™é€‰æ ‡å‡†ï¼Œä¸è¿‡å·²æœ‰éƒ¨åˆ†æµè§ˆå™¨æ”¯æŒï¼ŒåŒ…å«ä»¥ä¸‹å€¼ã€‚</li><li>ç©ºå­—ç¬¦ä¸²ï¼šé»˜è®¤æŒ‰ç…§æµè§ˆå™¨æœºåˆ¶è®¾ç½®referrerçš„å†…å®¹ï¼Œä¸no-referrer-when-downgradeçš„è®¾ç½®ä¸€è‡´ã€‚</li><li>no-referrerï¼šåœ¨è¯·æ±‚å¤´ä¸­ä¸æ˜¾ç¤ºreferrerçš„ä»»ä½•ä¿¡æ¯ã€‚</li><li>no-referrer-when-downgradeï¼šé»˜è®¤å€¼ã€‚<ul><li>å½“ä»HTTPSç½‘ç«™è·³è½¬åˆ°HTTPç½‘ç«™ï¼Œæˆ–è¯·æ±‚èµ„æºæ—¶(å³HTTPSå®‰å…¨é™çº§HTTP)ï¼Œåˆ™ä¸æ˜¾ç¤ºreferrerçš„ä¿¡æ¯ã€‚</li><li>å…¶ä»–æƒ…å†µ(HTTPSå®‰å…¨åŒçº§HTTPSï¼Œæˆ–HTTPå®‰å…¨åŒçº§HTTP)ï¼Œåœ¨referrerä¸­æ˜¾ç¤ºå®Œæ•´çš„æºç½‘ç«™URLä¿¡æ¯ã€‚</li></ul></li><li>same-originï¼šæµè§ˆå™¨åªä¼šæ˜¾ç¤ºreferrerä¿¡æ¯ç»™åŒæºç½‘ç«™(å³åè®®ã€åŸŸåã€ç«¯å£éƒ½ç›¸åŒ)ï¼Œä¸”æ˜¯å®Œæ•´çš„URLä¿¡æ¯ã€‚</li><li>originï¼šæµè§ˆå™¨åœ¨referrerå­—æ®µä¸­åªæ˜¾ç¤ºæºç½‘ç«™çš„æºåœ°å€(å³åè®®ã€åŸŸåã€ç«¯å£)ï¼Œè€Œä¸åŒ…æ‹¬å®Œæ•´çš„è·¯å¾„ã€‚</li><li>strict-originï¼šè¯¥ç­–ç•¥æ›´ä¸ºå®‰å…¨ï¼Œä¸originç­–ç•¥ç›¸ä¼¼ã€‚<ul><li>åªæ˜¯ä¸å…è®¸referrerä¿¡æ¯æ˜¾ç¤ºåœ¨ä»HTTPSç½‘ç«™åˆ°HTTPç½‘ç«™çš„è¯·æ±‚ä¸­(å®‰å…¨é™çº§)ã€‚</li></ul></li><li>origin-when-cross-origin<ul><li>å‘é€è¯·æ±‚ç»™åŒæºç½‘ç«™æ—¶ï¼Œæµè§ˆå™¨å°†ä¼šåœ¨referrerä¸­æ˜¾ç¤ºå®Œæ•´çš„URLä¿¡æ¯ã€‚</li><li>å‘é€è¯·æ±‚ç»™éåŒæºç½‘ç«™æ—¶ï¼Œæµè§ˆå™¨åªæ˜¾ç¤ºæºåœ°å€(å³åè®®ã€åŸŸåã€ç«¯å£)ã€‚</li></ul></li><li>strict-origin-when-cross-originï¼šä¸origin-when-cross-originç­–ç•¥ç›¸ä¼¼ã€‚<ul><li>åªæ˜¯ä¸å…è®¸referrerä¿¡æ¯æ˜¾ç¤ºåœ¨ä»HTTPSç½‘ç«™åˆ°HTTPç½‘ç«™çš„è¯·æ±‚ä¸­(å®‰å…¨é™çº§)ã€‚</li></ul></li><li>unsafe-urlï¼šæ— è®ºè¯·æ±‚å‘é€ç»™ä»»ä½•ç½‘ç«™ï¼Œæµè§ˆå™¨æ€»æ˜¯ä¼šå°†å®Œæ•´çš„URLä¿¡æ¯æ˜¾ç¤ºåœ¨referrerå­—æ®µä¸­ã€‚</li></ul></li></ul></li><li>Response Headersï¼Œå“åº”å¤´ã€‚<ul><li>Content-Length(å“åº”ä½“çš„é•¿åº¦)ã€Content-Language(å“åº”ä½“çš„è¯­è¨€)ã€‚</li><li>Accept-Rangesï¼šæœåŠ¡å™¨æ˜¯å¦æ”¯æŒæŒ‡å®šèŒƒå›´å†…çš„è¯·æ±‚åŠåˆ†æ®µè¯·æ±‚çš„ç±»å‹ã€‚</li><li>Connectionï¼šç»´æŠ¤å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„è¿æ¥å…³ç³»ï¼Œè¡¨ç¤ºæ˜¯å¦éœ€è¦æŒä¹…è¿æ¥ã€‚</li><li>Content-Encodingï¼šæœåŠ¡ç«¯é€‰å®šçš„å†…å®¹ç¼–ç ç±»å‹ï¼Œæ ¼å¼åŒ…æ‹¬gzipå’Œdeflateã€‚</li><li>Content-Typeï¼šæœåŠ¡ç«¯å‘é€çš„åª’ä½“ç±»å‹ä¿¡æ¯ï¼Œä»¥åŠé‡‡ç”¨çš„è¯·æ±‚ä½“ç¼–ç æ ¼å¼ã€‚<ul><li>typeï¼šä¸»ç±»å‹ï¼Œä»»æ„å­—ç¬¦ä¸²ï¼Œå¦‚textï¼Œå¦‚æœæ˜¯<code>*</code>åˆ™ä»£è¡¨æ‰€æœ‰ã€‚</li><li>subtypeï¼šå­ç±»å‹ï¼Œä»»æ„å­—ç¬¦ä¸²ï¼Œå¦‚htmlï¼Œç”¨<code>/</code>ä¸ä¸»ç±»å‹éš”å¼€ã€‚</li><li>parameterï¼šå¯é€‰å‚æ•°ï¼Œå¦‚charsetã€boundaryç­‰ã€‚</li><li>ä¾‹ï¼š<code>text(ä¸»)/html(å­);charset:utf-8(å‚);</code>ã€‚</li></ul></li><li>ETag(è¯·æ±‚å˜é‡å®ä½“æ ‡ç­¾çš„å½“å‰å€¼)ã€Vary(å‘Šè¯‰ä¸‹æ¸¸ä»£ç†ä½¿ç”¨ç¼“å­˜å“åº”è¿˜æ˜¯ä»åŸå§‹æœåŠ¡å™¨å“åº”)ã€‚</li><li>Last-Modified(è¯·æ±‚èµ„æºçš„æœ€åä¿®æ”¹æ—¶é—´)ã€Transfer-Encodingï¼š(åˆ†å—chunkedä¼ é€’æ•°æ®åˆ°å®¢æˆ·ç«¯)ã€‚</li><li>Date(å®¢æˆ·ç«¯è¯·æ±‚æœåŠ¡ç«¯çš„æ—¶é—´)ã€Server(æœåŠ¡ç«¯çš„WebæœåŠ¡ç«¯å)ã€Expires(å“åº”è¿‡æœŸçš„æ—¥æœŸå’Œæ—¶é—´)ã€‚</li></ul></li><li>Request Headersï¼Œè¯·æ±‚å¤´ã€‚<ul><li>Connectionï¼šæŒ‡ç»´æŠ¤å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„è¿æ¥å…³ç³»ï¼Œè¡¨ç¤ºæ˜¯å¦éœ€è¦æŒä¹…è¿æ¥ã€‚</li><li>User-Agent(åŒ…å«å‘å‡ºè¯·æ±‚çš„ç”¨æˆ·ä¿¡æ¯)ã€Accept-Language(å®¢æˆ·ç«¯æ¥æ”¶çš„è¯­è¨€ç±»å‹)ã€‚</li><li>Referer(ä»å“ªä¸ªé¡µé¢å‘èµ·è¯¥è¯·æ±‚çš„)ã€Accept-Encoding(å®¢æˆ·ç«¯æ¥æ”¶çš„å‹ç¼©æ•°æ®ç±»å‹)ã€‚</li><li>Cookie(å®¢æˆ·ç«¯æš‚å­˜æœåŠ¡ç«¯çš„ä¿¡æ¯)ã€Via(é€šçŸ¥ä¸­é—´ç½‘å…³æˆ–ä»£ç†æœåŠ¡å™¨åœ°å€ï¼Œé€šä¿¡åè®®)ã€‚</li><li>Host(è¿æ¥çš„ç›®æ ‡ä¸»æœºä»¥åŠç«¯å£å·)ã€Cache-Control(æŒ‡å®šè¯·æ±‚å’Œå“åº”éµå¾ªçš„ç¼“å­˜æœºåˆ¶)ã€‚</li><li>Authorization(HTTPæˆæƒçš„æˆæƒè¯ä¹¦)ã€Accept-Charset(æµè§ˆå™¨å¯æ¥æ”¶çš„å­—ç¬¦ç¼–ç é›†)ã€‚</li><li>Accept(å®¢æˆ·ç«¯æ¥æ”¶çš„èµ„æºç±»å‹)ã€Accept-Ranges(å¯è¯·æ±‚ç½‘é¡µå®ä½“çš„ä¸€ä¸ªæˆ–å¤šä¸ªå­èŒƒå›´å­—æ®µ)ã€‚</li></ul></li></ul></li></ul><p><img src="/../../img/F12/F12-01/F12-01@010.jpg" srcset="/img/load.gif" lazyload alt="Network-Requests Table-Name-Headers"></p><ul><li>Previewï¼šæ ¹æ®æ‰€é€‰èµ„æºç±»å‹(JSONã€å›¾ç‰‡ã€æ–‡æœ¬ç­‰)æ˜¾ç¤ºç›¸åº”çš„é¢„è§ˆï¼Œé€šå¸¸ä»¥Jsonæ ¼å¼å±•ç¤ºï¼Œä¾¿äºç†è§£ã€‚</li><li>Responseï¼šæ˜¾ç¤ºHTTPçš„Responseä¿¡æ¯ï¼Œä¸Previewå±•ç¤ºçš„æ˜¯åŒä¸€ä¸ªå†…å®¹ï¼Œä»¥æ•´ä½“çš„å½¢å¼å±•ç¤ºï¼Œä¾¿äºä½¿ç”¨ã€‚</li><li>Initiatorï¼šæ ‡è®°è¯·æ±‚æ˜¯ç”±å“ªä¸ªå¯¹è±¡æˆ–è¿›ç¨‹å‘èµ·çš„(å³è¯·æ±‚æº)ã€‚</li><li>Timingï¼šèµ„æºåœ¨æ•´ä¸ªè¯·æ±‚ç”Ÿå‘½å‘¨æœŸè¿‡ç¨‹ä¸­å„éƒ¨åˆ†èŠ±è´¹çš„æ—¶é—´ã€‚<ul><li>Queued atï¼šæŸ¥è¯¢ç»“æŸã€‚</li><li>Started atï¼šæŸ¥è¯¢å¼€å§‹ã€‚</li><li>Queueingï¼šæ’é˜Ÿé˜Ÿåˆ—çš„æ—¶é—´èŠ±è´¹ï¼Œå³æµè§ˆå™¨å°†èµ„æºæ”¾å…¥é˜Ÿåˆ—çš„æ—¶é—´ã€‚</li><li>Stalled<ul><li>é˜»å¡ï¼Œä»HTTPè¿æ¥å»ºç«‹ï¼Œåˆ°è¯·æ±‚èƒ½å¤Ÿè¢«å‘é€å‡ºå»(çœŸæ­£ä¼ è¾“æ•°æ®)ä¹‹é—´æ‰€èŠ±è´¹çš„æ—¶é—´ã€‚</li><li>åŒ…å«äº†å¤„ç†ä»£ç†çš„æ—¶é—´ï¼Œè‹¥æœ‰å·²å»ºç«‹å¥½çš„è¿æ¥ï¼Œè¿˜åŒ…å«ç­‰å¾…å·²å»ºç«‹è¿æ¥è¢«å¤ç”¨çš„æ—¶é—´ã€‚</li></ul></li><li>Proxy Negotiationï¼šä¸ä»£ç†æœåŠ¡å™¨åå•†æ—¶é—´ã€‚</li><li>DNS Lookupï¼šDNSè§£ææ—¶é—´ï¼Œæµè§ˆå™¨éœ€è¦å°†åŸŸåè½¬æ¢æˆIPã€‚</li><li>Initial Connectionï¼šåˆå§‹åŒ–è¿æ¥æ‰€èŠ±è´¹çš„æ—¶é—´ï¼Œè¿™é‡Œä¸€èˆ¬æ˜¯æŒ‡TCPä¸‰æ¬¡è¿æ¥æ¡æ‰‹çš„æ—¶é—´ã€‚</li><li>SSLï¼šHTTPSç‰¹æœ‰ï¼Œè‹¥ç½‘ç«™ä½¿ç”¨äº†HTTPSï¼Œåˆ™æŒ‡æµè§ˆå™¨ä¸æœåŠ¡å™¨å»ºç«‹å®‰å…¨æ€§è¿æ¥çš„æ—¶é—´ã€‚</li><li>Request sentï¼šå‘é€è¯·æ±‚æ‰€æ¶ˆè€—çš„æ—¶é—´ã€‚</li><li>Waiting (TTFB)ï¼ŒTTFBå³Time to First Byteï¼Œé¦–å­—èŠ‚æ—¶é—´ã€‚<ul><li>ç­‰å¾…æœåŠ¡ç«¯è¿”å›æ•°æ®çš„æ—¶é—´ï¼Œæµè§ˆå™¨ç­‰å¾…å“åº”ç¬¬ä¸€ä¸ªå­—èŠ‚åˆ°è¾¾æ‰€èŠ±çš„æ—¶é—´ã€‚</li><li>åŒ…å«æ¥å›çš„å»¶è¿Ÿæ—¶é—´å’ŒæœåŠ¡å™¨å‡†å¤‡å“åº”çš„æ—¶é—´ï¼Œå—é™äºæœåŠ¡å™¨çš„å¤„ç†æ€§èƒ½ã€‚</li></ul></li><li>Content Downloadï¼šæµè§ˆå™¨ç”¨æ¥ä¸‹è½½èµ„æºæ‰€ç”¨çš„æ—¶é—´ï¼Œè¿™æ®µæ—¶é—´è¶Šé•¿è¯´æ˜èµ„æºè¶Šå¤§ã€‚</li></ul></li></ul><p><img src="/../../img/F12/F12-01/F12-01@011.jpg" srcset="/img/load.gif" lazyload alt="Network-Requests Table-Name-Timing"></p><ul><li>Cookiesï¼šå®¢æˆ·ç«¯éæ•æ„Ÿæ•°æ®å­˜å‚¨ï¼Œä¸å­˜æ”¾è·¯å¾„æœ‰å…³ï¼Œä»¥é”®å€¼å¯¹å½¢å¼å­˜å‚¨ã€‚</li></ul><p><img src="/../../img/F12/F12-01/F12-01@012.jpg" srcset="/img/load.gif" lazyload alt="Network-Requests Table-Name-Cookies"></p><h3 id="2-Waterfall-ç€‘å¸ƒæµ"><a href="#2-Waterfall-ç€‘å¸ƒæµ" class="headerlink" title="(2) Waterfall(ç€‘å¸ƒæµ)"></a>(2) Waterfall(ç€‘å¸ƒæµ)</h3><ul><li>é¢œè‰²ä»£è¡¨çš„å«ä¹‰<ul><li>æµ…ç°ï¼šæŸ¥è¯¢ä¸­ã€‚</li><li>ç»¿è‰²ï¼šç­‰å¾…ä¸­ã€‚</li><li>è“è‰²ï¼šå†…å®¹ä¸‹è½½ã€‚</li><li>æ©™è‰²ï¼šåˆå§‹è¿æ¥ã€‚</li><li>æ·±ç°ï¼šåœæ»ã€ä»£ç†è½¬å‘ã€è¯·æ±‚å‘é€ã€‚</li></ul></li><li>é™¤äº†ä¸Šè¿°æ¨ªå‘çš„æŸ±çŠ¶é¢œè‰²å›¾å¤–ï¼Œè¿˜æœ‰ä¸€æ¡çºµå‘çš„ç´«çº¿ï¼Œæ˜¯å¼€å§‹é€šè¿‡è„šæœ¬åŠ è½½èµ„æºçš„ä¸€ä¸ªä¸´ç•Œçº¿ã€‚<ul><li>ç´«çº¿å‰ï¼Œæ˜¯é€šè¿‡HTMLæ–‡ä»¶è¿›è¡ŒåŠ è½½çš„èµ„æºï¼Œå¦‚é“¾æ¥çš„SRCæˆ–è„šæœ¬çš„SRCã€‚</li><li>ç´«çº¿åï¼Œæ˜¯é€šè¿‡æ‰§è¡ŒHTMLæ–‡ä»¶åŠ è½½è¿›æ¥çš„JavaScriptè¿›è¡ŒåŠ è½½èµ„æºçš„æ“ä½œã€‚</li><li>è¿™æ¡çº¿å¯¹äºå‰ç«¯å¼€å‘è€Œè¨€è‡³å…³é‡è¦ï¼Œå¯ä»¥å¸®åŠ©ä»–ä»¬è¿›è¡Œå‰ç«¯æ€§èƒ½çš„ä¼˜åŒ–åˆ†æã€‚</li></ul></li></ul><p><img src="/../../img/F12/F12-01/F12-01@013.jpg" srcset="/img/load.gif" lazyload alt="Network-Requests Table-Waterfall"></p><h2 id="5-5-Summary"><a href="#5-5-Summary" class="headerlink" title="5-5 Summary"></a>5-5 Summary</h2><p><img src="/../../img/F12/F12-01/F12-01@014.jpg" srcset="/img/load.gif" lazyload alt="Network-Summary"></p><h1 id="6-Performance"><a href="#6-Performance" class="headerlink" title="6 Performance"></a>6 Performance</h1><ul><li>Performance<ul><li>åœ¨æŸæ®µæ—¶é—´å†…ï¼Œç›‘æ§æ‰€æœ‰é¡µé¢æ“ä½œä¸‹å‰ç«¯é¡µé¢çš„æ€§èƒ½ï¼Œä»¥åŠèµ„æºçš„æ¶ˆè€—ã€‚</li><li>å¯åŠ¨æ€§èƒ½ç›‘æ§æŒ‰é’®å‰ï¼Œå¯å°†æˆªå›¾ã€å†…å­˜å’Œå‰ç«¯é‡è¦ä¿¡æ¯ä¸‰ä¸ªé€‰é¡¹å‹¾é€‰ä¸Šã€‚</li><li>å¯åŠ¨æ€§èƒ½ç›‘æ§æŒ‰é’®ï¼Œç”¨æˆ·è¿›è¡Œé¡µé¢æ“ä½œåï¼Œç‚¹å‡»StopæŒ‰é’®å…³é—­æ€§èƒ½ç›‘æ§ï¼ŒæŸ¥çœ‹ç»“æœã€‚</li></ul></li></ul><p><img src="/../../img/F12/F12-01/F12-01@015.jpg" srcset="/img/load.gif" lazyload alt="Performance"></p><h1 id="7-Memory"><a href="#7-Memory" class="headerlink" title="7 Memory"></a>7 Memory</h1><p><img src="/../../img/F12/F12-01/F12-01@016.jpg" srcset="/img/load.gif" lazyload alt="Memory"></p><h1 id="8-Application"><a href="#8-Application" class="headerlink" title="8 Application"></a>8 Application</h1><ul><li>Application<ul><li>è®°å½•ç½‘ç«™åŠ è½½çš„æ‰€æœ‰èµ„æºä¿¡æ¯ï¼ŒåŒ…æ‹¬å­˜å‚¨å’Œç¼“å­˜æ•°æ®ã€å­—ä½“ã€å›¾ç‰‡ã€è„šæœ¬ã€æ ·å¼è¡¨ç­‰ã€‚</li><li>å­˜å‚¨æ•°æ®åˆåŒ…å«äº†Local Storageã€Session Storageã€IndexedDBã€Web SQLã€Cookiesã€‚</li><li>Local Storage<ul><li>æµè§ˆå™¨æ°¸ä¹…å­˜å‚¨ï¼Œå¦‚æœåœ¨å¼€å‘è¿‡ç¨‹ä¸­ä½¿ç”¨äº†Local Storageæ¥å­˜å‚¨é”®å€¼å¯¹ã€‚</li><li>é‚£ä¹ˆå°±å¯é€šè¿‡Local Storageçª—æ ¼æ¥æ£€æŸ¥ã€æ–°å¢ã€ä¿®æ”¹ã€åˆ é™¤è¿™ä¸ªé”®å€¼å¯¹ã€‚</li></ul></li><li>Cache Storageï¼šæµè§ˆå™¨æœ¬åœ°ç¼“å­˜ã€‚</li><li>Session Storageï¼šæµè§ˆå™¨ä¸´æ—¶å­˜å‚¨ï¼Œä¼šè¯çº§åˆ«ã€‚</li><li>Application Cacheï¼šåº”ç”¨ç¨‹åºç¼“å­˜ï¼Œå¯ä½¿ç”¨è¯¥çª—æ ¼æŸ¥çœ‹é€šè¿‡Application Cache APIåˆ›å»ºçš„èµ„æºã€‚</li><li>Frames<ul><li>å°†é¡µé¢ä¸Šçš„èµ„æºæŒ‰frameç±»åˆ«åˆ†ç»„æ˜¾ç¤ºï¼Œé¡¶çº§çš„topæ˜¯ä¸€ä¸ªä¸»æ–‡æ¡£ã€‚</li><li>åœ¨topä¸‹æ˜¯ä¸»æ–‡æ¡£çš„Fontsã€Imagesã€Scriptsã€Stylesheetsç­‰èµ„æºã€‚</li></ul></li></ul></li></ul><p><img src="/../../img/F12/F12-01/F12-01@017.jpg" srcset="/img/load.gif" lazyload alt="Application"></p><h1 id="9-Security"><a href="#9-Security" class="headerlink" title="9 Security"></a>9 Security</h1><ul><li>Security<ul><li>HTTPSï¼ŒHyper Text Transfer Protocol over Secure Socket Layerï¼Œä»¥å®‰å…¨ä¸ºç›®çš„çš„HTTPé€šé“ã€‚</li><li>HTTPSä¸HTTPçš„åŒºåˆ«<ul><li>HTTPSåè®®éœ€è¦åˆ°CAç”³è¯·è¯ä¹¦ï¼Œå…è´¹è¯ä¹¦æ¯”è¾ƒå°‘ï¼Œä¸€èˆ¬éƒ½è¦æ±‚ç¼´è´¹ï¼Œæ¯”HTTPåè®®å®‰å…¨ã€‚</li><li>HTTPæ˜¯è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œä¿¡æ¯æ˜¯æ˜æ–‡ä¼ è¾“ï¼ŒHTTPSåˆ™æ˜¯å…·æœ‰å®‰å…¨æ€§çš„SSLåŠ å¯†ä¼ è¾“åè®®ã€‚</li><li>HTTPå’ŒHTTPSä½¿ç”¨çš„æ˜¯å®Œå…¨ä¸åŒçš„è¿æ¥æ–¹å¼ï¼Œç”¨çš„ç«¯å£ä¹Ÿä¸ä¸€æ ·ï¼Œå‰è€…æ˜¯80ï¼Œåè€…æ˜¯443ã€‚</li><li>HTTPè¿æ¥ç®€å•ï¼Œæ— çŠ¶æ€ï¼ŒHTTPSç”±SSLå’ŒHTTPæ„å»ºï¼Œå¯è¿›è¡ŒåŠ å¯†ä¼ è¾“ã€èº«ä»½è®¤è¯çš„ç½‘ç»œåè®®ã€‚</li></ul></li><li>å¦‚æœç½‘é¡µå®‰å…¨ï¼Œæ˜¾ç¤ºæ¶ˆæ¯ï¼š<code>This page is secure (valid HTTPS)</code>ã€‚<ul><li>ç‚¹å‡»<code>View certificate</code>æŒ‰é’®å¯æŸ¥çœ‹Main originçš„æœåŠ¡å™¨è¯ä¹¦ä¿¡æ¯ã€‚</li></ul></li><li>å¦‚æœç½‘é¡µä¸å®‰å…¨(æœ‰ä¸¤ç§ç±»å‹)ï¼Œæ˜¾ç¤ºæ¶ˆæ¯ï¼š<code>This page is not secure</code>ã€‚<ul><li>ç‚¹å‡»<code>View requests in Network Panel</code>æŒ‰é’®ä¼šè·³è½¬åˆ°Networké¢æ¿ã€‚</li><li>è¢«è¯·æ±‚çš„é¡µé¢é€šè¿‡HTTPæä¾›æœåŠ¡ï¼Œåˆ™Main originå°†ä¼šè¢«æ ‡è®°ä¸ºä¸å®‰å…¨ã€‚</li><li>è¢«è¯·æ±‚çš„é¡µé¢é€šè¿‡HTTPSè·å–ï¼Œè¯¥é¡µé¢ç»§ç»­é€šè¿‡HTTPä»å…¶ä»–æ¥æºæ£€ç´¢å†…å®¹ï¼Œåˆ™è¯¥é¡µé¢ä»ä¼šè¢«æ ‡è®°ä¸ºä¸å®‰å…¨ã€‚<ul><li>è¿™ç§ç±»å‹çš„ç½‘é¡µå³æ··åˆå†…å®¹é¡µé¢ï¼Œåªéƒ¨åˆ†å—ä¿æŠ¤ï¼ŒéåŠ å¯†å†…å®¹å¯è¢«å—…æ¢å…¥ä¾µï¼Œæ˜“å—ä¸­é—´äººæ”»å‡»ã€‚</li><li>ä¸­é—´äººæ”»å‡»ï¼Œå³Man-in-the-Middle Attackï¼Œç®€ç§°ä¸ºMITMæ”»å‡»ï¼Œæ˜¯ä¸€ç§é—´æ¥çš„å…¥ä¾µæ”»å‡»æ‰‹æ®µã€‚</li><li>é€šè¿‡å„ç§æŠ€æœ¯å°†æ§åˆ¶çš„ä¸€å°è®¡ç®—æœºè™šæ‹Ÿæ”¾ç½®åœ¨ç½‘ç»œè¿æ¥ä¸­çš„ä¸¤å°é€šä¿¡è®¡ç®—æœºä¹‹é—´ï¼Œè¯¥è®¡ç®—æœºç§°ä¸ºä¸­é—´äººã€‚</li></ul></li></ul></li></ul></li></ul><p><img src="/../../img/F12/F12-01/F12-01@018.jpg" srcset="/img/load.gif" lazyload alt="Security"></p>]]></content>
    
    
    <categories>
      
      <category>æµ‹è¯•å·¥å…·</category>
      
      <category>F12 å¼€å‘è€…å·¥å…·</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æµ‹è¯•å·¥å…·</tag>
      
      <tag>F12</tag>
      
      <tag>æµè§ˆå™¨è°ƒè¯•å·¥å…·</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ADB å®ç”¨å‘½ä»¤</title>
    <link href="/2022/09/02/ce-shi-gong-ju/tt05-adb-diao-shi-gong-ju/tt05-01-adb-shi-yong-ming-ling/"/>
    <url>/2022/09/02/ce-shi-gong-ju/tt05-adb-diao-shi-gong-ju/tt05-01-adb-shi-yong-ming-ling/</url>
    
    <content type="html"><![CDATA[<p>Android Debug Bridgeæ˜¯ä¸€ç§å…è®¸æ¨¡æ‹Ÿå™¨æˆ–å·²è¿æ¥çš„Androidè®¾å¤‡è¿›è¡Œé€šä¿¡çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œå¯ä¸ºå„ç§è®¾å¤‡æ“ä½œæä¾›ä¾¿åˆ©ã€‚</p><span id="more"></span><h1 id="1-å·¥ä½œåŸç†"><a href="#1-å·¥ä½œåŸç†" class="headerlink" title="1 å·¥ä½œåŸç†"></a>1 å·¥ä½œåŸç†</h1><ul><li>å·¥ä½œåŸç†<ul><li>Clientç«¯ï¼šè¿è¡Œåœ¨å¼€å‘æœºå™¨ä¸­ï¼Œä¾‹å¦‚ç”µè„‘ï¼Œç”¨æ¥å‘é€adbå‘½ä»¤ã€‚</li><li>Daemonå®ˆæŠ¤è¿›ç¨‹ï¼šè¿è¡Œåœ¨è°ƒè¯•è®¾å¤‡ï¼Œä¾‹å¦‚æ‰‹æœºã€æ¨¡æ‹Ÿå™¨ä¸­ï¼Œç”¨æ¥æ¥æ”¶å¹¶æ‰§è¡Œadbå‘½ä»¤ã€‚</li><li>Serverç«¯ï¼šè¿è¡Œåœ¨å¼€å‘æœºå™¨ä¸­ï¼Œä¾‹å¦‚ç”µè„‘ï¼Œç”¨æ¥ç®¡ç†Clientå’Œæ‰‹æœºç«¯Daemoné—´çš„é€šä¿¡ã€‚<ul><li>ç”µè„‘çš„å‘½ä»¤è¡Œçª—å£è¾“å…¥adbå‘½ä»¤ï¼Œå…ˆæ‰§è¡ŒClientç«¯ï¼ŒClientç«¯æ‹¿åˆ°å‘½ä»¤åå‘é€ç»™Serverç«¯ã€‚</li><li>Serverå†ä¼ ç»™Daemonï¼Œæœ€ååœ¨æ‰‹æœºä¸Šæ‰§è¡Œï¼Œä¾‹å¦‚ï¼šæ‰‹æœºä¸Šå®‰è£…ä¸€ä¸ªåº”ç”¨ä¼šè¿”å›ä¸€ä¸ªä¿¡æ¯ã€‚</li><li>å°†è¯¥ä¿¡æ¯ä¼ é€’ç»™ç”µè„‘çš„Serverç«¯ï¼Œå‘½ä»¤å†å°†å…¶ä¼ ç»™Clientç«¯ï¼Œæœ€åæ˜¾ç¤ºåœ¨å‘½ä»¤è¡Œã€‚</li></ul></li></ul></li></ul><h2 id="1-1-å®‰è£…ADB"><a href="#1-1-å®‰è£…ADB" class="headerlink" title="1-1 å®‰è£…ADB"></a>1-1 å®‰è£…ADB</h2><ul><li>å®‰è£…ADB<ul><li>ADBå·¥å…·ä¸‹è½½ï¼š<a href="https://adbdownload.com/">https://adbdownload.com/</a>ã€‚</li><li>ç¯å¢ƒå˜é‡é…ç½®ï¼šPathï¼Œå˜é‡å€¼ä¸ºä¸‹è½½çš„ADBè·¯å¾„ã€‚</li><li>éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸï¼Œå‘½ä»¤çª—å£ä¸‹è¾“å…¥ï¼š<code>adb help</code>ã€‚</li></ul></li></ul><h2 id="1-2-è°ƒè¯•æ¨¡å¼"><a href="#1-2-è°ƒè¯•æ¨¡å¼" class="headerlink" title="1-2 è°ƒè¯•æ¨¡å¼"></a>1-2 è°ƒè¯•æ¨¡å¼</h2><ul><li>è°ƒè¯•æ¨¡å¼<ul><li>ä½¿ç”¨USBå°†PCç«¯å’ŒAndroidæ‰‹æœºè®¾å¤‡è¿æ¥ï¼Œå†å°†æ‰‹æœºè®¾å¤‡çš„USBè°ƒè¯•æ¨¡å¼æ‰“å¼€ï¼Œä¸åŒå‹å·æ‰‹æœºè°ƒè¯•æ¨¡å¼ä½ç½®ä¸åŒã€‚</li><li>æ¨¡æ‹Ÿå™¨ï¼šAndroid Studio Emulator(å®˜æ–¹)ã€Genymotion(å›½å¤–è½¯ä»¶)ã€ç½‘æ˜“mumuã€é›·ç”µã€å¤œç¥ã€é€é¥ç­‰ç¬¬ä¸‰æ–¹æ¨¡æ‹Ÿå™¨ã€‚</li><li>æ‰‹æœºè®¾å¤‡çš„è°ƒè¯•æ¨¡å¼å¼€å¯åï¼Œæ‰“å¼€PCç«¯çš„å‘½ä»¤è¡Œçª—å£ä¸­ï¼Œè¾“å…¥<code>adb devices</code>ï¼Œå›è½¦ç¡®è®¤PCç«¯æ˜¯å¦æ­£å¸¸è¿æ¥æ‰‹æœºè®¾å¤‡ã€‚</li></ul></li></ul><h1 id="2-å¸¸ç”¨å‘½ä»¤"><a href="#2-å¸¸ç”¨å‘½ä»¤" class="headerlink" title="2 å¸¸ç”¨å‘½ä»¤"></a>2 å¸¸ç”¨å‘½ä»¤</h1><ul><li>å¸¸ç”¨å‘½ä»¤<ul><li>å•ä¸€è®¾å¤‡çš„adbå‘½ä»¤è¯­æ³•ï¼š<code>adb &lt;command&gt;</code>ã€‚</li><li>å¤šä¸ªè®¾å¤‡çš„adbå‘½ä»¤è¯­æ³•ï¼š<code>adb [-e|-d|-s &lt;serial-number&gt;] &lt;command&gt;</code>ã€‚<ul><li><code>-e</code>ï¼šæŒ‡å®šå½“å‰å”¯ä¸€è¿è¡Œçš„æ¨¡æ‹Ÿå™¨ä¸ºå‘½ä»¤ç›®æ ‡ã€‚</li><li><code>-d</code>ï¼šæŒ‡å®šå½“å‰å”¯ä¸€é€šè¿‡USBè¿æ¥çš„Androidè®¾å¤‡ä¸ºå‘½ä»¤ç›®æ ‡ã€‚</li><li><code>serial-number</code>ï¼šè®¾å¤‡åºåˆ—å·ï¼Œé€šè¿‡<code>adb devices</code>å‘½ä»¤è·å–ã€‚</li><li><code>-s &lt;serial-number&gt;</code>ï¼šæŒ‡å®šç›¸åº”è®¾å¤‡åºåˆ—å·çš„è®¾å¤‡æˆ–æ¨¡æ‹Ÿå™¨ä¸ºå‘½ä»¤ç›®æ ‡ï¼Œå¤šè®¾å¤‡æˆ–æ¨¡æ‹Ÿå™¨æƒ…å†µè¾ƒå¸¸ä½¿ç”¨ã€‚</li></ul></li></ul></li></ul><h2 id="2-1-å¸®åŠ©ä¿¡æ¯"><a href="#2-1-å¸®åŠ©ä¿¡æ¯" class="headerlink" title="2-1 å¸®åŠ©ä¿¡æ¯"></a>2-1 å¸®åŠ©ä¿¡æ¯</h2><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs Cmd">adb <span class="hljs-built_in">help</span>                           # æ˜¾ç¤ºadbçš„ç‰ˆæœ¬å’Œå¸®åŠ©ä¿¡æ¯<br>adb --<span class="hljs-built_in">help</span>                         # æ˜¾ç¤ºadbçš„ç‰ˆæœ¬å’Œå¸®åŠ©ä¿¡æ¯<br>adb version                        # æŸ¥çœ‹adbçš„ç‰ˆæœ¬ä¿¡æ¯<br></code></pre></td></tr></table></figure><h2 id="2-2-å¼€å…³æœåŠ¡"><a href="#2-2-å¼€å…³æœåŠ¡" class="headerlink" title="2-2 å¼€å…³æœåŠ¡"></a>2-2 å¼€å…³æœåŠ¡</h2><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs Cmd">adb <span class="hljs-built_in">start</span>-server                   # å¼€å¯adbæœåŠ¡ï¼Œä¸€èˆ¬æ— éœ€æ‰§è¡Œæ­¤å‘½ä»¤ï¼Œè¿è¡Œæ—¶å‘ç°Serveræœªå¯åŠ¨ä¼šè‡ªåŠ¨è°ƒèµ·<br>adb -P &lt;port&gt; <span class="hljs-built_in">start</span>-server         # æŒ‡å®šServerç½‘ç»œç«¯å£å¯åŠ¨æœåŠ¡ï¼Œé»˜è®¤ç«¯å£ä¸º<span class="hljs-number">5037</span><br>adb kill-server                    # å…³æ‰adbæœåŠ¡<br></code></pre></td></tr></table></figure><h2 id="2-3-æŸ¥çœ‹è¿æ¥"><a href="#2-3-æŸ¥çœ‹è¿æ¥" class="headerlink" title="2-3 æŸ¥çœ‹è¿æ¥"></a>2-3 æŸ¥çœ‹è¿æ¥</h2><ul><li>æŸ¥çœ‹è¿æ¥<ul><li>é€šè¿‡USBæ•°æ®çº¿ï¼Œå¼€å¯Androidè®¾å¤‡çš„è°ƒè¯•æ¨¡å¼è¿›è¡Œè¿æ¥ï¼š<code>adb devices</code>ã€‚</li><li>WLANè¿æ¥(éœ€USBçº¿)<ul><li>Androidè®¾å¤‡ä¸ç”µè„‘è¿åŒä¸€WiFiä¸Šï¼Œå†é€šè¿‡USBè¿æ¥ï¼Œå‘½ä»¤<code>adb tcpip 5555</code>è®©è®¾å¤‡åœ¨5555ç«¯å£ç›‘å¬TCP&#x2F;IPè¿æ¥ã€‚</li><li>æ–­å¼€USBï¼Œæ‰¾åˆ°è®¾å¤‡çš„IPåœ°å€ï¼Œé€šè¿‡<code>adb connect &lt;device-ip-address&gt;</code>ä½¿ç”¨IPåœ°å€å°†Androidè®¾å¤‡ä¸ç”µè„‘è¿æ¥ã€‚</li><li>ä½¿ç”¨ç»“æŸåï¼Œé€šè¿‡<code>adb disconnect &lt;device-ip-address&gt;</code>æ–­å¼€æ— çº¿è¿æ¥ï¼Œ<code>adb usb</code>å¯å°†WiFiè¿æ¥è½¬ä¸ºUSBè¿æ¥ã€‚</li></ul></li><li>WLANè¿æ¥(æ— éœ€USBçº¿ï¼Œéœ€rootæƒé™)<ul><li>Androidè®¾å¤‡ä¸Šå®‰è£…ä¸€ä¸ªç»ˆç«¯æ¨¡æ‹Ÿå™¨ï¼Œåœ°å€ï¼š<a href="https://jackpal.github.io/Android-Terminal-Emulator/">Terminal Emulator for Android Downloads</a>ã€‚</li><li>å°†Androidè®¾å¤‡ä¸è¦è¿è¡Œadbçš„ç”µè„‘è¿æ¥åˆ°åŒä¸€WiFiä¸Šï¼Œæ‰“å¼€Androidè®¾å¤‡ä¸Šçš„ç»ˆç«¯æ¨¡æ‹Ÿå™¨ã€‚</li><li>è¾“å…¥<code>su</code>ä»¥rootæƒé™æ“ä½œï¼Œå†è¾“å…¥<code>setprop service.adb.tcp.port 5555</code>å¼€å¯è®¾å¤‡çš„5555ç«¯å£ã€‚</li><li>æ‰¾åˆ°è®¾å¤‡çš„IPï¼Œé€šè¿‡<code>adb connect &lt;device-ip-address&gt;</code>ä½¿ç”¨IPå°†Androidè®¾å¤‡ä¸ç”µè„‘è¿æ¥èµ·æ¥ã€‚</li></ul></li><li><code>adb get-state</code>è¿”å›çš„çŠ¶æ€ä¿¡æ¯ç±»å‹<ul><li>devicesï¼šè®¾å¤‡æˆ–æ¨¡æ‹Ÿå™¨å·²ç»è¿æ¥åˆ°adbæœåŠ¡å™¨ä¸Šäº†ã€‚</li><li>offlineï¼šè®¾å¤‡æˆ–æ¨¡æ‹Ÿå™¨æ²¡æœ‰è¿æ¥åˆ°adbæœåŠ¡å™¨æˆ–æ— å“åº”ã€‚</li><li>no devices&#x2F;emulators foundï¼šæ²¡æœ‰è®¾å¤‡æˆ–æ‰¾ä¸åˆ°æ¨¡æ‹Ÿå™¨ã€‚</li></ul></li></ul></li></ul><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs Cmd">adb root                           # rootæƒé™è¿è¡Œadbd<br>adb devices                        # æŸ¥è¯¢å·²è¿æ¥çš„è®¾å¤‡æˆ–æ¨¡æ‹Ÿå™¨åˆ—è¡¨<br>adb devices -l                     # æŸ¥è¯¢å·²è¿æ¥çš„è®¾å¤‡æˆ–æ¨¡æ‹Ÿå™¨å…·ä½“ä¿¡æ¯<br>adb get-state                      # è¿”å›è®¾å¤‡æˆ–æ¨¡æ‹Ÿå™¨çš„è¿æ¥çŠ¶æ€ä¿¡æ¯<br></code></pre></td></tr></table></figure><h2 id="2-4-å®‰è£…åº”ç”¨"><a href="#2-4-å®‰è£…åº”ç”¨" class="headerlink" title="2-4 å®‰è£…åº”ç”¨"></a>2-4 å®‰è£…åº”ç”¨</h2><ul><li>å®‰è£…åº”ç”¨<ul><li>ä¸‰æ­¥éª¤ï¼špush apkæ–‡ä»¶åˆ°&#x2F;data&#x2F;local&#x2F;tmpï¼Œè°ƒç”¨pm installå®‰è£…ï¼Œåˆ é™¤tmpä¸­å¯¹åº”çš„apkæ–‡ä»¶ã€‚</li><li>å•ä¸€è®¾å¤‡çš„adbå‘½ä»¤è¯­æ³•ï¼š<code>adb install [-d] [-s] [-g] [-l] [-r] [-t] &lt;apk-file&gt;</code>ã€‚<ul><li><code>-d</code>ï¼šå…è®¸é™çº§è¦†ç›–å®‰è£…ã€‚</li><li><code>-s</code>ï¼šå°†åº”ç”¨å®‰è£…åˆ°sdcardã€‚</li><li><code>-g</code>ï¼šæˆäºˆæ‰€æœ‰è¿è¡Œæ—¶æƒé™ã€‚</li><li><code>-l</code>ï¼šå°†åº”ç”¨å®‰è£…åˆ°ä¿æŠ¤ç›®å½•&#x2F;mnt&#x2F;asecã€‚</li><li><code>-r</code>ï¼šè¦†ç›–åŸæ¥å®‰è£…çš„è½¯ä»¶ï¼Œå¹¶ä¿ç•™æ•°æ®ã€‚</li><li><code>-t</code><ul><li>å…è®¸å®‰è£…AndroidManifest.xmlé‡ŒapplicationæŒ‡å®š<code>android:testOnly=&quot;true&quot;</code>çš„åº”ç”¨ã€‚</li><li>å®‰è£…è¿‡ç¨‹ä¸­å¦‚æœé‡åˆ°Failureè¾“å‡ºä»£ç ä¸º<code>INSTALL_FAILED_TEST_ONLY</code>ï¼Œåˆ™ä½¿ç”¨è¯¥å‘½ä»¤ã€‚</li></ul></li></ul></li><li>å¤šä¸ªè®¾å¤‡çš„adbå‘½ä»¤è¯­æ³•ï¼š<code>adb -s &lt;serial-number&gt; install &lt;apk-file&gt;</code>ã€‚</li><li>å®‰è£…çŠ¶æ€ï¼šSuccess(æˆåŠŸ)ã€Failure(å¤±è´¥ï¼Œå¯¹åº”çš„å¤±è´¥è¾“å‡ºä»£ç ï¼Œå¦‚ä¸‹æ‰€ç¤º)ã€‚<table><thead><tr><th align="left">è¾“å‡ºä»£ç ç±»å‹&gt;&gt;&gt;å‚çœ‹â€œ<a href="https://blog.csdn.net/zhonglunshun/article/details/78362439">ç©è½¬ADBå‘½ä»¤</a>â€</th><th align="left">è¯´æ˜åŠè§£å†³åŠæ³•</th></tr></thead><tbody><tr><td align="left"><code>INSTALL_FAILED_DEXOPT</code></td><td align="left">dexä¼˜åŒ–éªŒè¯å¤±è´¥ï¼Œæˆ–ç©ºé—´ä¸è¶³</td></tr><tr><td align="left"><code>INSTALL_FAILED_OLDER_SDK</code></td><td align="left">è®¾å¤‡ç³»ç»Ÿç‰ˆæœ¬ä½äºåº”ç”¨è¦æ±‚</td></tr><tr><td align="left"><code>INSTALL_FAILED_NEWER_SDK</code></td><td align="left">è®¾å¤‡ç³»ç»Ÿç‰ˆæœ¬é«˜äºåº”ç”¨è¦æ±‚</td></tr><tr><td align="left"><code>INSTALL_FAILED_TEST_ONLY</code></td><td align="left">åº”ç”¨æ˜¯test-onlyçš„ï¼Œä½†å®‰è£…æ—¶æ²¡æœ‰æŒ‡å®š-tå‚æ•°</td></tr><tr><td align="left"><code>INSTALL_FAILED_TEST_ONLY</code></td><td align="left">APKæ–‡ä»¶æ˜¯ä½¿ç”¨Android Studioç›´æ¥RUNç¼–è¯‘å‡ºæ¥çš„æ–‡ä»¶(é€šè¿‡Gradleçš„assembleDebugæˆ–assembleReleaseé‡æ–°ç¼–è¯‘ï¼Œæˆ– Generate Signed APK)</td></tr><tr><td align="left"><code>INSTALL_FAILED_INVALID_APK</code></td><td align="left">æ— æ•ˆçš„APKæ–‡ä»¶</td></tr><tr><td align="left"><code>INSTALL_FAILED_INVALID_URI</code></td><td align="left">æ— æ•ˆçš„APKæ–‡ä»¶å(ç¡®ä¿APKæ–‡ä»¶åé‡Œæ— ä¸­æ–‡)</td></tr><tr><td align="left"><code>INSTALL_FAILED_UID_CHANGED</code></td><td align="left">å®‰è£…è¿‡è¯¥åº”ç”¨ï¼Œä¸æœ¬æ¬¡åˆ†é…çš„UIDä¸ä¸€è‡´(æ¸…é™¤ä»¥å‰å®‰è£…è¿‡çš„æ®‹ç•™æ–‡ä»¶)</td></tr><tr><td align="left"><code>INSTALL_FAILED_INTERNAL_ERROR</code></td><td align="left">å› ç³»ç»Ÿé—®é¢˜å®‰è£…å¤±è´¥</td></tr><tr><td align="left"><code>INSTALL_FAILED_NO_SHARED_USER</code></td><td align="left">è¯·æ±‚çš„å…±äº«ç”¨æˆ·ä¸å­˜åœ¨</td></tr><tr><td align="left"><code>INSTALL_FAILED_ALREADY_EXISTS</code></td><td align="left">åº”ç”¨å·²å­˜åœ¨æˆ–æ²¡å¸è½½å¹²å‡€(installæ—¶ä½¿ç”¨-rå‚æ•°ï¼Œæˆ–å…ˆuninstallå†å®‰è£…)</td></tr><tr><td align="left"><code>INSTALL_FAILED_USER_RESTRICTED</code></td><td align="left">ç”¨æˆ·è¢«é™åˆ¶å®‰è£…åº”ç”¨</td></tr><tr><td align="left"><code>INSTALL_FAILED_MISSING_FEATURE</code></td><td align="left">åº”ç”¨ä½¿ç”¨äº†è®¾å¤‡ä¸å¯ç”¨çš„åŠŸèƒ½</td></tr><tr><td align="left"><code>INSTALL_FAILED_PACKAGE_CHANGED</code></td><td align="left">åº”ç”¨ä¸è°ƒç”¨ç¨‹åºæœŸæœ›çš„ä¸ä¸€è‡´</td></tr><tr><td align="left"><code>INSTALL_FAILED_CONTAINER_ERROR</code></td><td align="left">sdcardè®¿é—®å¤±è´¥(ç¡®è®¤sdcardå¯ç”¨ï¼Œæˆ–å®‰è£…åˆ°å†…ç½®å­˜å‚¨)ï¼Œåº”ç”¨ç­¾åä¸ROMç­¾åä¸€è‡´ï¼Œè¢«å½“ä½œå†…ç½®åº”ç”¨(æ‰“åŒ…æ—¶ä¸ä¸ROMä½¿ç”¨ç›¸åŒç­¾å)</td></tr><tr><td align="left"><code>INSTALL_FAILED_NO_MATCHING_ABIS</code></td><td align="left">åŒ…å«è®¾å¤‡çš„åº”ç”¨ç¨‹åºäºŒè¿›åˆ¶æ¥å£ä¸æ”¯æŒçš„native code</td></tr><tr><td align="left"><code>INSTALL_FAILED_VERSION_DOWNGRADE</code></td><td align="left">å·²å®‰è£…äº†è¯¥åº”ç”¨çš„æ›´é«˜ç‰ˆæœ¬(ä½¿ç”¨-då‚æ•°)</td></tr><tr><td align="left"><code>INSTALL_FAILED_ACWF_INCOMPATIBLE</code></td><td align="left">åº”ç”¨ç¨‹åºä¸è®¾å¤‡ä¸å…¼å®¹</td></tr><tr><td align="left"><code>INSTALL_FAILED_DUPLICATE_PACKAGE</code></td><td align="left">å·²å­˜åœ¨åŒåç¨‹åº</td></tr><tr><td align="left"><code>INSTALL_FAILED_MEDIA_UNAVAILABLE</code></td><td align="left">å®‰è£…ä½ç½®ä¸å¯ç”¨(ä¸€èˆ¬ä¸ºsdcardï¼Œç¡®è®¤sdcardå¯ç”¨æˆ–å®‰è£…åˆ°å†…ç½®å­˜å‚¨)</td></tr><tr><td align="left"><code>INSTALL_FAILED_UPDATE_INCOMPATIBLE</code></td><td align="left">å®‰è£…è¿‡åŒååº”ç”¨å¸è½½æ—¶æ•°æ®æœªç§»é™¤ï¼Œæˆ–å·²å®‰è£…è¯¥åº”ç”¨ä½†ç­¾åä¸ä¸€è‡´(å…ˆå¸è½½å†å®‰è£…)</td></tr><tr><td align="left"><code>INSTALL_FAILED_INSUFFICIENT_STORAGE</code></td><td align="left">ç©ºé—´ä¸è¶³(æ¸…ç†ç©ºé—´)</td></tr><tr><td align="left"><code>INSTALL_FAILED_VERIFICATION_TIMEOUT</code></td><td align="left">éªŒè¯å®‰è£…åŒ…è¶…æ—¶</td></tr><tr><td align="left"><code>INSTALL_FAILED_VERIFICATION_FAILURE</code></td><td align="left">éªŒè¯å®‰è£…åŒ…å¤±è´¥</td></tr><tr><td align="left"><code>INSTALL_FAILED_DUPLICATE_PERMISSION</code></td><td align="left">å°è¯•å®šä¹‰ä¸€ä¸ªå·²å­˜åœ¨çš„æƒé™åç§°</td></tr><tr><td align="left"><code>INSTALL_FAILED_CONFLICTING_PROVIDER</code></td><td align="left">è®¾å¤‡é‡Œå·²å­˜åœ¨ä¸åº”ç”¨åŒåçš„content provider</td></tr><tr><td align="left"><code>INSTALL_FAILED_CPU_ABI_INCOMPATIBLE</code></td><td align="left">åŒ…å«ä¸å…¼å®¹è®¾å¤‡CPUåº”ç”¨ç¨‹åºäºŒè¿›åˆ¶æ¥å£çš„native code</td></tr><tr><td align="left"><code>INSTALL_FAILED_MISSING_SHARED_LIBRARY</code></td><td align="left">å®‰è£…åŒ…ä½¿ç”¨äº†è®¾å¤‡ä¸Šä¸å¯ç”¨çš„å…±äº«åº“</td></tr><tr><td align="left"><code>INSTALL_FAILED_REPLACE_COULDNT_DELETE</code></td><td align="left">æ›¿æ¢æ—¶æ— æ³•åˆ é™¤</td></tr><tr><td align="left"><code>INSTALL_FAILED_SHARED_USER_INCOMPATIBLE</code></td><td align="left">è¯·æ±‚çš„å…±äº«ç”¨æˆ·å­˜åœ¨ï¼Œä½†ç­¾åä¸ä¸€è‡´</td></tr><tr><td align="left"><code>INSTALL_FAILED_INVALID_INSTALL_LOCATION</code></td><td align="left">ä¸èƒ½å®‰è£…åˆ°æŒ‡å®šä½ç½®(åˆ‡æ¢å®‰è£…ä½ç½®ï¼Œæ·»åŠ æˆ–åˆ é™¤-så‚æ•°)ï¼Œåº”ç”¨ç­¾åä¸ROMç­¾åä¸€è‡´ï¼Œè¢«å½“ä½œå†…ç½®åº”ç”¨(æ‰“åŒ…æ—¶ä¸ä¸ROMä½¿ç”¨ç›¸åŒç­¾å)</td></tr><tr><td align="left"><code>INSTALL_FAILED_PERMISSION_MODEL_DOWNGRADE</code></td><td align="left">å·²å®‰è£…target SDKæ”¯æŒè¿è¡Œæ—¶æƒé™çš„åŒååº”ç”¨ï¼Œè¦å®‰è£…çš„ç‰ˆæœ¬ä¸æ”¯æŒè¿è¡Œæ—¶æƒé™</td></tr><tr><td align="left"><code>INSTALL_CANCELED_BY_USER</code></td><td align="left">åº”ç”¨å®‰è£…éœ€åœ¨è®¾å¤‡ä¸Šç¡®è®¤ï¼Œä½†æœªæ“ä½œè®¾å¤‡æˆ–ç‚¹äº†å–æ¶ˆ(åœ¨è®¾å¤‡ä¸ŠåŒæ„å®‰è£…)</td></tr><tr><td align="left"><code>INSTALL_PARSE_FAILED_NOT_APK</code></td><td align="left">æŒ‡å®šè·¯å¾„ä¸æ˜¯æ–‡ä»¶ï¼Œæˆ–ä¸æ˜¯ä»¥.apkç»“å°¾</td></tr><tr><td align="left"><code>INSTALL_PARSE_FAILED_BAD_MANIFEST</code></td><td align="left">æ— æ³•è§£æçš„AndroidManifest.xmlæ–‡ä»¶</td></tr><tr><td align="left"><code>INSTALL_PARSE_FAILED_MANIFEST_EMPTY</code></td><td align="left">åœ¨manifestæ–‡ä»¶é‡Œæ‰¾ä¸åˆ°ï¼Œåˆ™æ‰¾å¯æ“ä½œæ ‡ç­¾instrumentationæˆ–application</td></tr><tr><td align="left"><code>INSTALL_PARSE_FAILED_NO_CERTIFICATES</code></td><td align="left">å®‰è£…åŒ…æ²¡æœ‰ç­¾å</td></tr><tr><td align="left"><code>INSTALL_PARSE_FAILED_BAD_PACKAGE_NAME</code></td><td align="left">manifestæ–‡ä»¶é‡Œæ²¡æœ‰æˆ–ä½¿ç”¨äº†æ— æ•ˆåŒ…å</td></tr><tr><td align="left"><code>INSTALL_PARSE_FAILED_MANIFEST_MALFORMED</code></td><td align="left">è§£æmanifestæ–‡ä»¶æ—¶é‡åˆ°ç»“æ„æ€§é”™è¯¯</td></tr><tr><td align="left"><code>INSTALL_PARSE_FAILED_BAD_SHARED_USER_ID</code></td><td align="left">manifestæ–‡ä»¶é‡ŒæŒ‡å®šäº†æ— æ•ˆçš„å…±äº«ç”¨æˆ·ID</td></tr><tr><td align="left"><code>INSTALL_PARSE_FAILED_UNEXPECTED_EXCEPTION</code></td><td align="left">è§£æå™¨é‡åˆ°å¼‚å¸¸</td></tr><tr><td align="left"><code>INSTALL_PARSE_FAILED_CERTIFICATE_ENCODING</code></td><td align="left">è§£æAPKæ–‡ä»¶æ—¶é‡åˆ°CertificateEncodingException</td></tr><tr><td align="left"><code>INSTALL_PARSE_FAILED_INCONSISTENT_CERTIFICATES</code></td><td align="left">å·²å®‰è£…è¯¥åº”ç”¨ï¼Œä¸”ç­¾åä¸APKæ–‡ä»¶ä¸ä¸€è‡´(å…ˆå¸è½½å†å®‰è£…)</td></tr><tr><td align="left"><code>does not contain AndroidManifest.xml</code></td><td align="left">æ— æ•ˆçš„APKæ–‡ä»¶</td></tr><tr><td align="left"><code>is not a valid zip file</code></td><td align="left">æ— æ•ˆçš„APKæ–‡ä»¶</td></tr><tr><td align="left"><code>Offline</code></td><td align="left">è®¾å¤‡æœªè¿æ¥æˆåŠŸ(å…ˆå°†è®¾å¤‡ä¸adbè¿æ¥æˆåŠŸ)</td></tr><tr><td align="left"><code>unauthorized</code></td><td align="left">è®¾å¤‡æœªæˆæƒå…è®¸è°ƒè¯•</td></tr><tr><td align="left"><code>protocol failure</code></td><td align="left">è®¾å¤‡å·²æ–­å¼€è¿æ¥(å…ˆå°†è®¾å¤‡ä¸adbè¿æ¥æˆåŠŸ)</td></tr><tr><td align="left"><code>Unknown option: -s</code></td><td align="left">Android2.2ä»¥ä¸‹ä¸æ”¯æŒå®‰è£…åˆ°sdcard(ä¸ä½¿ç”¨-så‚æ•°)</td></tr><tr><td align="left"><code>error: device not found</code></td><td align="left">æ²¡æœ‰è¿æ¥æˆåŠŸçš„è®¾å¤‡(å…ˆå°†è®¾å¤‡ä¸adbè¿æ¥æˆåŠŸ)</td></tr><tr><td align="left"><code>No space left on device</code></td><td align="left">ç©ºé—´ä¸è¶³(æ¸…ç†ç©ºé—´)</td></tr><tr><td align="left"><code>Permission denied...sdcard...</code></td><td align="left">sdcardä¸å¯ç”¨</td></tr><tr><td align="left"><code>signatures do not match the previously installed version; ignoring!</code></td><td align="left">å·²å®‰è£…è¯¥åº”ç”¨ä¸”ç­¾åä¸ä¸€è‡´(å…ˆå¸è½½å†å®‰è£…)</td></tr></tbody></table></li></ul></li></ul><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs Cmd">adb install -d demo.apk            # å…è®¸é™çº§è¦†ç›–å®‰è£…demo.apk<br>adb install -g demo.apk            # æˆäºˆdemo.apkæ‰€æœ‰è¿è¡Œæ—¶æƒé™<br>adb install -t demo.apk            # å…è®¸å®‰è£…æŒ‡å®šandroid:testOnly=&quot;true&quot;çš„åº”ç”¨<br></code></pre></td></tr></table></figure><h2 id="2-5-æ—¥å¿—æ‰“å°"><a href="#2-5-æ—¥å¿—æ‰“å°" class="headerlink" title="2-5 æ—¥å¿—æ‰“å°"></a>2-5 æ—¥å¿—æ‰“å°</h2><ul><li>æ—¥å¿—æ‰“å°<ul><li>Androidç³»ç»Ÿçš„æ—¥å¿—åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œåº•å±‚çš„Linuxå†…æ ¸æ—¥å¿—è¾“å‡ºåˆ°&#x2F;proc&#x2F;kmsgï¼ŒAndroidçš„æ—¥å¿—è¾“å‡ºåˆ°&#x2F;dev&#x2F;logã€‚</li><li>æŸ¥çœ‹è®¾å¤‡å±æ€§çš„åŸºæœ¬å‘½ä»¤æ ¼å¼ï¼š<code>adb logcat [option] [filter-specs]</code>ï¼Œ<code>Ctrl + C</code>å¯ä»¥åœæ­¢æ—¥å¿—ç›‘æ§ã€‚</li><li>çº§åˆ«è¿‡æ»¤ï¼š<code>adb logcat [filter-specs]</code>ï¼ŒMacOSç”¨<code>adb logcat &quot;*:W&quot;</code>ï¼Œå¦åˆ™æŠ¥é”™<code>no matches found: *:W</code>ã€‚<ul><li><code>*:V</code>ï¼šè¿‡æ»¤åªæ˜¾ç¤º(å¼€å‘äº§å“ä¸­çš„è°ƒè¯•ä¿¡æ¯)VerboseåŠä»¥ä¸Šçº§åˆ«(ä¼˜å…ˆçº§æœ€ä½)ã€‚</li><li><code>*:D</code>ï¼šè¿‡æ»¤åªæ˜¾ç¤º(å‘å¸ƒäº§å“ä¸­çš„è°ƒè¯•ä¿¡æ¯)DebugåŠä»¥ä¸Šçº§åˆ«ã€‚</li><li><code>*:I</code>ï¼šè¿‡æ»¤åªæ˜¾ç¤º(ä¸€èˆ¬æç¤ºæ€§çš„ä¿¡æ¯)InfoåŠä»¥ä¸Šçº§åˆ«ã€‚</li><li><code>*:W</code>ï¼šè¿‡æ»¤åªæ˜¾ç¤º(è­¦å‘Šä¿¡æ¯)WarningåŠä»¥ä¸Šçº§åˆ«ã€‚</li><li><code>*:E</code>ï¼šè¿‡æ»¤åªæ˜¾ç¤º(é”™è¯¯ä¿¡æ¯)ErroråŠä»¥ä¸Šçº§åˆ«ã€‚</li><li><code>*:F</code>ï¼šè¿‡æ»¤åªæ˜¾ç¤ºFatalåŠä»¥ä¸Šçº§åˆ«ã€‚</li><li><code>*:S</code>ï¼šè¿‡æ»¤åªæ˜¾ç¤ºSilentåŠä»¥ä¸Šçº§åˆ«(ä¼˜å…ˆçº§æœ€é«˜ï¼Œä»€ä¹ˆä¹Ÿä¸è¾“å‡º)ã€‚</li></ul></li><li>tagå’Œçº§åˆ«è¿‡æ»¤ï¼š<code>adb logcat [tag:level] ... [tag:level]</code>ã€‚</li><li>æ ¼å¼åŒ–è¾“å‡ºï¼š<code>adb logcat -v &lt;format&gt;</code>ï¼ŒformatæŒ‡å®šæ—¥å¿—è¾“å‡ºçš„æ ¼å¼ï¼Œé»˜è®¤ä¸ºbriefã€‚<ul><li>rawï¼š<code>&lt;message&gt;</code>ã€‚</li><li>tagï¼š<code>&lt;priority&gt;/&lt;tag&gt;: &lt;message&gt;</code>ã€‚</li><li>processï¼š<code>&lt;priority&gt;(&lt;pid&gt;) &lt;message&gt;</code>ã€‚</li><li>briefï¼š<code>&lt;priority&gt;/&lt;tag&gt;(&lt;pid&gt;): &lt;message&gt;</code>ã€‚</li><li>timeï¼š<code>&lt;datetime&gt; &lt;priority&gt;/&lt;tag&gt;(&lt;pid&gt;): &lt;message&gt;</code>ã€‚</li><li>longï¼š<code>[&lt;datetime&gt; &lt;pid&gt;:&lt;tid&gt; &lt;priority&gt;/&lt;tag&gt;] &lt;message&gt;</code>ã€‚</li><li>threadtimeï¼š<code>&lt;datetime&gt; &lt;pid&gt; &lt;tid&gt; &lt;priority&gt; &lt;tag&gt;: &lt;message&gt;</code>ã€‚</li></ul></li><li>åŠ è½½ä¸€ä¸ªå¯ä½¿ç”¨çš„æ—¥å¿—ç¼“å†²åŒºä¾›æŸ¥çœ‹ï¼š<code>adb logcat -b &lt;Buffer&gt;</code>ã€‚<ul><li>Radioï¼šè¾“å‡ºé€šä¿¡ç³»ç»Ÿçš„logã€‚</li><li>Systemï¼šè¾“å‡ºç³»ç»Ÿç»„ä»¶çš„logã€‚</li><li>Eventï¼šè¾“å‡ºEventæ¨¡å—çš„logã€‚</li><li>Mainï¼šæ‰€æœ‰Javaå±‚çš„logä»¥åŠä¸å±äºä¸Šé¢3å±‚çš„logã€‚</li><li>ç¼“å†²åŒºä¸»è¦ç»™ç³»ç»Ÿç»„ä»¶ä½¿ç”¨ï¼Œä¸€èˆ¬åº”ç”¨ä¸éœ€å…³å¿ƒï¼Œåº”ç”¨çš„logéƒ½è¾“å‡ºåˆ°Mainç¼“å†²åŒºä¸­ã€‚</li><li>é»˜è®¤logè¾“å‡ºï¼Œå³åœ¨ä¸æŒ‡å®šç¼“å†²åŒºçš„æƒ…å†µä¸‹ï¼Œæ˜¯è¾“å‡ºSystemç¼“å†²åŒºå’ŒMainç¼“å†²åŒºçš„logã€‚</li></ul></li></ul></li></ul><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs Cmd">adb logcat *:W                    # è¾“å‡ºWarningã€Errorã€Fatalå’ŒSilentæ—¥å¿—<br>adb logcat ActivityManager:I *:S  # è¾“å‡ºActivityManagerçš„InfoåŠå…¶ä»–tagçš„Silentä»¥ä¸Šçº§åˆ«æ—¥å¿—<br>adb logcat -v <span class="hljs-built_in">time</span>                # æ‰“å°æ—¶é—´<br>adb logcat -v <span class="hljs-built_in">color</span>               # ä½¿ç”¨ä¸åŒçš„é¢œè‰²æ¥æ˜¾ç¤ºæ¯ä¸ªä¼˜å…ˆçº§<br>adb logcat -v long *:S            # ä»¥longæ ¼å¼è¾“å‡ºtagçš„Silentä»¥ä¸Šçº§åˆ«æ—¥å¿—<br>adb logcat &gt; log.log              # ä¿å­˜æ—¥å¿—åˆ°PCç«¯çš„log.logæ–‡ä»¶ä¸­<br>adb logcat -c                     # æ¸…ç©ºå·²å­˜åœ¨çš„æ—¥å¿—<br>adb logcat -d                     # å°†æ—¥å¿—æ˜¾ç¤ºåœ¨æ§åˆ¶å°<br>adb logcat -f &lt;file-<span class="hljs-built_in">path</span>&gt;         # å°†æ—¥å¿—è¾“å‡ºåˆ°æ–‡ä»¶<br>adb logcat -g                     # æ‰“å°æŒ‡å®šæ—¥å¿—ç¼“å†²åŒºçš„å¤§å°<br></code></pre></td></tr></table></figure><h2 id="2-6-æ–‡ä»¶ä¼ é€"><a href="#2-6-æ–‡ä»¶ä¼ é€" class="headerlink" title="2-6 æ–‡ä»¶ä¼ é€"></a>2-6 æ–‡ä»¶ä¼ é€</h2><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs Cmd">adb uninstall [-k] &lt;package-name&gt;  # å¸è½½åº”ç”¨ï¼Œ-kå‚æ•°å¯é€‰ï¼Œè¡¨ç¤ºå¸è½½åº”ç”¨ä½†ä¿ç•™æ•°æ®å’Œç¼“å­˜ç›®å½•<br>adb pull &lt;remote&gt; [local]          # å°†ç§»åŠ¨è®¾å¤‡ä¸­çš„æ–‡ä»¶ä¼ é€åˆ°PCä¸Šï¼Œremoteæ˜¯ç§»åŠ¨è®¾å¤‡è·¯å¾„ï¼Œlocalæ˜¯PCè·¯å¾„<br>adb push &lt;local&gt; &lt;remote&gt;          # å°†PCä¸­çš„æ–‡ä»¶ä¼ é€åˆ°ç§»åŠ¨è®¾å¤‡ç«¯ï¼Œlocalæ˜¯PCè·¯å¾„ï¼Œremoteæ˜¯ç§»åŠ¨è®¾å¤‡è·¯å¾„<br></code></pre></td></tr></table></figure><h2 id="2-7-é‡å¯å‘½ä»¤"><a href="#2-7-é‡å¯å‘½ä»¤" class="headerlink" title="2-7 é‡å¯å‘½ä»¤"></a>2-7 é‡å¯å‘½ä»¤</h2><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs Cmd">adb reboot recovery                # é‡å¯åˆ°Recoveryæ¨¡å¼<br>adb reboot                         # ä»Recoveryé‡å¯åˆ°Android<br>adb reboot bootloader              # é‡å¯åˆ°Fastbootæ¨¡å¼<br></code></pre></td></tr></table></figure><h1 id="3-é«˜çº§å‘½ä»¤"><a href="#3-é«˜çº§å‘½ä»¤" class="headerlink" title="3 é«˜çº§å‘½ä»¤"></a>3 é«˜çº§å‘½ä»¤</h1><ul><li>é«˜çº§å‘½ä»¤<ul><li>Androidç³»ç»Ÿæ˜¯åŸºäºLinuxå†…æ ¸å¼€å‘çš„ï¼Œæ”¯æŒå¸¸è§çš„Linuxå‘½ä»¤ã€‚</li><li>å‘½ä»¤éƒ½ä¿å­˜åœ¨æ‰‹æœºçš„&#x2F;system&#x2F;binæ–‡ä»¶ä¸­ï¼Œåœ¨adb shellé‡Œå¯è°ƒç”¨ã€‚</li></ul></li></ul><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs Cmd">adb shell ls                       # PCç«¯æŸ¥çœ‹Androidè®¾å¤‡å½“å‰ç›®å½•çš„æ‰€æœ‰å†…å®¹<br>abd shell                          # è¿›å…¥Androidè®¾å¤‡ç›®å½•<br>ls                                 # æŸ¥çœ‹è®¾å¤‡å½“å‰ç›®å½•çš„æ‰€æœ‰å†…å®¹<br><span class="hljs-built_in">cd</span> /system/bin                     # è¿›å…¥æ‰‹æœºçš„/system/binæ–‡ä»¶ä¸­<br>ls                                 # æŸ¥çœ‹ä¿å­˜åœ¨æ‰‹æœº/system/binæ–‡ä»¶ä¸­çš„Linuxå‘½ä»¤<br><span class="hljs-keyword">exit</span>                               # é€€å‡ºAndroidè®¾å¤‡ç›®å½•ï¼Œå›åˆ°PCç«¯<br></code></pre></td></tr></table></figure><h1 id="4-æŸ¥çœ‹åº”ç”¨"><a href="#4-æŸ¥çœ‹åº”ç”¨" class="headerlink" title="4 æŸ¥çœ‹åº”ç”¨"></a>4 æŸ¥çœ‹åº”ç”¨</h1><ul><li>æŸ¥çœ‹åº”ç”¨<ul><li>å‘½ä»¤æ ¼å¼ï¼š<code>adb shell pm list packages [-s] [-u] [-3] [-i] [-e] [-d] [-f] [--user USER_ID] [FILTER]</code>ã€‚<ul><li><code>-s</code>ï¼šåªæ˜¾ç¤ºç³»ç»Ÿåº”ç”¨ã€‚</li><li><code>-u</code>ï¼šåŒ…å«å·²å¸è½½åº”ç”¨ã€‚</li><li><code>-3</code>ï¼šåªæ˜¾ç¤ºç¬¬ä¸‰æ–¹åº”ç”¨ã€‚</li><li><code>-i</code>ï¼šæ˜¾ç¤ºåº”ç”¨çš„installerã€‚</li><li><code>-e</code>ï¼šåªæ˜¾ç¤ºenabledçš„åº”ç”¨ã€‚</li><li><code>-d</code>ï¼šåªæ˜¾ç¤ºdisabledçš„åº”ç”¨ã€‚</li><li><code>-f</code>ï¼šæ˜¾ç¤ºåº”ç”¨å…³è”çš„apkæ–‡ä»¶ã€‚</li><li><code>&lt;FILTER&gt;</code>ï¼šåŒ…ååŒ…å«<code>&lt;FILTER&gt;</code>å­—ç¬¦ä¸²ã€‚</li></ul></li></ul></li></ul><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs Cmd">adb shell pm list packages                    # åˆ—å‡ºç³»ç»Ÿåº”ç”¨<br>adb shell pm list packages -s                 # åˆ—å‡ºç³»ç»Ÿåº”ç”¨<br>adb shell pm list packages -<span class="hljs-number">3</span>                 # åˆ—å‡ºç¬¬ä¸‰æ–¹åº”ç”¨<br>adb shell pm list packages test               # æŸ¥çœ‹åŒ…ååŒ…å«å­—ç¬¦ä¸²testçš„åº”ç”¨åˆ—è¡¨<br>adb shell pm list packages | grep test        # ä½¿ç”¨grepè¿‡æ»¤åŒ…ååŒ…å«å­—ç¬¦ä¸²testçš„åº”ç”¨åˆ—è¡¨<br>adb shell pm clear &lt;package-name&gt;             # æ¸…é™¤åº”ç”¨æ•°æ®åŠç¼“å­˜<br></code></pre></td></tr></table></figure><h1 id="5-è®¾å¤‡ä¿¡æ¯"><a href="#5-è®¾å¤‡ä¿¡æ¯" class="headerlink" title="5 è®¾å¤‡ä¿¡æ¯"></a>5 è®¾å¤‡ä¿¡æ¯</h1><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Cmd">adb shell getprop ro.product.model           # æŸ¥çœ‹è®¾å¤‡å‹å·<br>adb shell getprop ro.build.version.release   # æŸ¥çœ‹Androidç³»ç»Ÿç‰ˆæœ¬<br>adb shell dumpsys wifi                       # æŸ¥çœ‹æ— é™ç½‘ç»œä¿¡æ¯<br>adb shell dumpsys power                      # æŸ¥çœ‹ç”µæºç®¡ç†ç›¸å…³ä¿¡æ¯<br>adb shell dumpsys battery                    # æŸ¥çœ‹ç”µæ± çŠ¶å†µï¼ŒscaleæŒ‡æœ€å¤§ç”µé‡ï¼ŒlevelæŒ‡å½“å‰ç”µé‡<br>adb shell dumpsys cpuinfo                    # æŸ¥çœ‹å½“å‰è®¾å¤‡CPUä½¿ç”¨æƒ…å†µï¼Œè·å–çš„æ˜¯ä¸€æ®µæ—¶é—´çš„å‡å€¼<br>adb shell dumpsys meminfo                    # æŸ¥çœ‹è¿›ç¨‹å ç”¨æƒ…å†µï¼Œå³å†…å­˜ä¿¡æ¯<br>adb shell dumpsys window displays            # æŸ¥çœ‹æ˜¾ç¤ºå±å‚æ•°<br>adb shell wm size                            # æŸ¥çœ‹å±å¹•åˆ†è¾¨ç‡<br>adb shell wm density                         # æŸ¥çœ‹å±å¹•å¯†åº¦<br>adb shell settings get secure android_id     # æŸ¥çœ‹android_id<br>adb shell ifconfig &quot;| grep Mask&quot;             # æŸ¥çœ‹æ‰‹æœºIPåœ°å€<br>adb shell cat /proc/cpuinfo                  # æŸ¥çœ‹CPUä½¿ç”¨æƒ…å†µ<br>adb shell cat /proc/meminfo                  # æŸ¥çœ‹å†…å­˜ä¿¡æ¯ï¼ŒMemTotalè®¾å¤‡æ€»å†…å­˜ï¼ŒMemFreeå½“å‰ç©ºé—²å†…å­˜<br>adb shell df                                 # è·å–Androidç³»ç»Ÿå„ä¸ªåˆ†åŒºçš„ç›¸å…³ä¿¡æ¯<br></code></pre></td></tr></table></figure><h1 id="6-å®ç”¨åŠŸèƒ½"><a href="#6-å®ç”¨åŠŸèƒ½" class="headerlink" title="6 å®ç”¨åŠŸèƒ½"></a>6 å®ç”¨åŠŸèƒ½</h1><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs Cmd">adb exec-out screencap -p &gt; sc.png            # æˆªå›¾ä¿å­˜åˆ°ç”µè„‘ï¼Œå¦‚æœadbç‰ˆæœ¬è¾ƒè€ï¼Œåˆ™æ— æ³•ä½¿ç”¨exec-outå‘½ä»¤<br>adb shell screencap -p /sdcard/sc.png         # æˆªå›¾ä¿å­˜åˆ°è®¾å¤‡é‡Œ<br>adb shell screenrecord /sdcard/filename.mp4   # å½•åˆ¶å±å¹•ä»¥mp4æ ¼å¼ä¿å­˜åˆ°/sdcardï¼ŒCtrl+Cåœæ­¢å½•å±<br>adb shell monkey -p &lt;package-name&gt; -v <span class="hljs-number">500</span>     # Monkeyå‹åŠ›æµ‹è¯•ï¼Œå‘åŒ…åæŒ‡å®šçš„åº”ç”¨ç¨‹åºå‘é€<span class="hljs-number">500</span>ä¸ªä¼ªéšæœºäº‹ä»¶<br>adb shell ps                                  # è¿›ç¨‹ï¼ŒUSERæ‰€å±ç”¨æˆ·ï¼ŒPIDè¿›ç¨‹IDï¼ŒPPIDçˆ¶è¿›ç¨‹IDï¼ŒNAMEè¿›ç¨‹å<br>adb shell top                                 # å®æ—¶èµ„æºå ç”¨ï¼ŒPRä¼˜å…ˆçº§ï¼ŒSè¿›ç¨‹çŠ¶æ€(R/S/T/Z)ï¼Œ#THRçº¿ç¨‹æ•°<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>æµ‹è¯•å·¥å…·</category>
      
      <category>ADB è°ƒè¯•å·¥å…·</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æµ‹è¯•å·¥å…·</tag>
      
      <tag>ADB</tag>
      
      <tag>Androidè°ƒè¯•å·¥å…·</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Postman ä»‹ç»</title>
    <link href="/2022/07/21/ce-shi-gong-ju/tt04-postman/tt04-01-postman-jie-shao/"/>
    <url>/2022/07/21/ce-shi-gong-ju/tt04-postman/tt04-01-postman-jie-shao/</url>
    
    <content type="html"><![CDATA[<p>Postmanæ˜¯ä¸€ä¸ªç®€å•çš„æ¥å£æµ‹è¯•å·¥å…·ï¼Œè¢«å¹¿æ³›åº”ç”¨äºAPIè®¾è®¡ã€æ„å»ºã€æµ‹è¯•ç­‰å·¥ä½œç¯èŠ‚ï¼Œä¹ŸåŒæ ·é€‚ç”¨äºAPIå®‰å…¨æµ‹è¯•å’Œç®¡ç†ã€‚</p><span id="more"></span><h1 id="1-å¸¸è§è¯·æ±‚"><a href="#1-å¸¸è§è¯·æ±‚" class="headerlink" title="1 å¸¸è§è¯·æ±‚"></a>1 å¸¸è§è¯·æ±‚</h1><ul><li>å¸¸è§è¯·æ±‚<ul><li>æŸ¥è¯¢å‚æ•°æ¥å£<ul><li>ä¾‹å¦‚æ¥å£ï¼š<a href="https://api.oioweb.cn/api/ip/geocoder?lat=39.9&lng=116.4">https://api.oioweb.cn/api/ip/geocoder?<u>lat&#x3D;39.9&amp;lng&#x3D;116.4</u></a>ã€‚</li><li>é—®å·<code>?</code>åé¢çš„éƒ¨åˆ†å³æŸ¥è¯¢å‚æ•°ï¼Œä»¥é”®å€¼å¯¹å½¢å¼å±•ç¤ºï¼Œå¤šç»„é”®å€¼å¯¹ç”¨<code>&amp;</code>éš”å¼€ã€‚</li><li>å°†å¸¦æœ‰æŸ¥è¯¢å‚æ•°çš„URLæ‹·è´åˆ°Postmanè¯·æ±‚é¡µé¢çš„URLä¸­ï¼Œæˆ–åœ¨Paramsä¸­è¾“å…¥æŸ¥è¯¢å‚æ•°ã€‚</li></ul></li><li>è¡¨å•ç±»å‹æ¥å£<ul><li>è¯·æ±‚å¤´ä¸º<code>Content-Type: application/x-www-form-urlencoded</code>çš„æ¥å£åœ°å€ã€‚</li><li>åœ¨Postmançš„è¯·æ±‚é¡µé¢ä¸­é€‰æ‹©Bodyçš„x-www-form-urlencodedå¡«å†™å‚æ•°å†…å®¹ã€‚</li></ul></li><li>ä¸Šä¼ æ–‡ä»¶æ¥å£<ul><li>è¯·æ±‚å¤´ä¸º<code>Content-Type: multipart/form-data</code>çš„æ¥å£åœ°å€ã€‚</li><li>åœ¨Postmanè¯·æ±‚é¡µé¢ä¸­ï¼Œé€‰æ‹©Bodyçš„form-dataå¡«å†™å‚æ•°å†…å®¹ã€‚</li></ul></li><li>Jsonç±»å‹æ¥å£<ul><li>è¯·æ±‚å¤´ä¸º<code>Content-Type: application/json</code>çš„æ¥å£åœ°å€ã€‚</li><li>Postmanè¯·æ±‚é¡µé¢ä¸­ï¼Œé€‰æ‹©Bodyçš„rawä»¥Jsonæ ¼å¼å¡«å†™å†…å®¹ã€‚</li></ul></li></ul></li></ul><p><img src="/../img/Postman/Postman@001.jpg" srcset="/img/load.gif" lazyload alt="å¸¸è§è¯·æ±‚"></p><h1 id="2-Postman"><a href="#2-Postman" class="headerlink" title="2 Postman"></a>2 Postman</h1><ul><li>Postman<ul><li>å®˜æ–¹ä¸‹è½½å®‰è£…åæ³¨å†Œè´¦å·ï¼Œç™»å½•ä½¿ç”¨ï¼š<a href="https://www.postman.com/downloads/">https://www.postman.com/downloads/</a>ã€‚</li><li>Create new collectionï¼šæ·»åŠ ç”¨ä¾‹é›†ï¼ŒDocumentationæ˜¯ç”¨ä¾‹é›†æè¿°(éå¿…å¡«é¡¹)ã€‚</li><li>Add folderï¼šæ·»åŠ æ¨¡å—ã€‚</li><li>Add requestï¼šæ·»åŠ è¯·æ±‚ï¼ŒHeaders(è¯·æ±‚å¤´)ã€Body(è¯·æ±‚ä½“æ˜¯Jsonæ—¶å€™é€‰æ‹©raw)ã€‚</li><li>Exportï¼šå¯¼å‡ºç”¨ä¾‹é›†ã€‚</li><li>Importï¼šå¯¼å…¥ç”¨ä¾‹é›†ï¼Œè‹¥å·²å­˜åœ¨åŒåçš„ç”¨ä¾‹é›†ï¼Œåˆ™Import as Copyï¼Œå³å¯¼å‡ºä¸€ä¸ªæ‹·è´ä»½ï¼Œä¸å»ºè®®Replaceæ›¿æ¢ã€‚</li><li>æ³¨æ„ï¼šPostmanæ˜¯æŒ‰ä¸²è¡Œæ–¹å¼å‘é€è¯·æ±‚ï¼Œæ— è®ºæ‰§è¡Œå¤šå°‘æ¬¡ï¼Œåå°æ¥æ”¶è¯·æ±‚ä¹Ÿæ˜¯æŒ‰é¡ºåºæ¥ï¼Œæ— æ³•å®ç°å¹¶å‘åŠŸèƒ½ã€‚</li><li>å‚è€ƒï¼š<a href="https://postman.xiniushu.com/">Postmanä¸­æ–‡æ–‡æ¡£</a>ã€<a href="https://learning.postman.com/docs/introduction/overview/">Postmanå®˜æ–¹æ–‡æ¡£</a>ã€‚</li></ul></li></ul><p><img src="/../img/Postman/Postman@002.jpg" srcset="/img/load.gif" lazyload alt="Postman"></p><h2 id="2-1-å‰ç½®è„šæœ¬"><a href="#2-1-å‰ç½®è„šæœ¬" class="headerlink" title="2-1 å‰ç½®è„šæœ¬"></a>2-1 å‰ç½®è„šæœ¬</h2><ul><li>å‰ç½®è„šæœ¬<ul><li>å³åœ¨Pre-requests Scriptä¸­ç¼–å†™çš„JavaScriptè„šæœ¬ï¼Œè¯·æ±‚å‘é€ä¹‹å‰ï¼Œä¼šå…ˆæ‰§è¡Œè¯¥å‰ç½®è„šæœ¬ã€‚</li><li>æ¥å£æµ‹è¯•æ—¶è¯¥åŠŸèƒ½éå¸¸æœ‰ç”¨ï¼Œå¯¹äºä¸€äº›å¤æ‚åœºæ™¯ï¼Œä¹Ÿæ”¯æŒä½¿ç”¨å‰ç½®è„šæœ¬å¤„ç†åå†è¯·æ±‚æ¥å£ã€‚</li></ul></li></ul><p><img src="/../img/Postman/Postman@003.jpg" srcset="/img/load.gif" lazyload alt="Postman-å‰ç½®è„šæœ¬"></p><h2 id="2-2-æ—¥å¿—è°ƒè¯•"><a href="#2-2-æ—¥å¿—è°ƒè¯•" class="headerlink" title="2-2 æ—¥å¿—è°ƒè¯•"></a>2-2 æ—¥å¿—è°ƒè¯•</h2><ul><li>æ—¥å¿—è°ƒè¯•<ul><li>æ‰“å°æ—¥å¿—çš„JavaScriptè¯­å¥ï¼š<code>console.log(&quot;æ—¥å¿—å†…å®¹&quot;)</code>ï¼Œæ”¾åœ¨Pre-request Scriptæˆ–Testsä¸­ã€‚</li><li>èœå•æ  &gt; View &gt; Show Postman Consoleï¼Œæˆ–é€‰Postmanï¼Œå¿«æ·é”®<code>Ctrl + Alt + C</code>æŒ‰é’®æ‰“å¼€ã€‚</li><li>ç•Œé¢åŠŸèƒ½<ul><li>Show raw logï¼šæŸ¥çœ‹åŸå§‹æŠ¥æ–‡ã€‚</li><li>All Logsï¼šæŒ‰æ—¥å¿—çº§åˆ«å®šä½é”™è¯¯ã€‚</li><li>Show timestampsï¼šæŸ¥çœ‹æ—¶é—´æˆ³ã€‚</li><li>Hide networkï¼šéšè—è¯·æ±‚ï¼ŒåªæŸ¥çœ‹è¾“å‡ºæ—¥å¿—ã€‚</li></ul></li></ul></li></ul><p><img src="/../img/Postman/Postman@004.jpg" srcset="/img/load.gif" lazyload alt="Postman-æ—¥å¿—è°ƒè¯•"></p><h2 id="2-3-å¸¸ç”¨æ–­è¨€"><a href="#2-3-å¸¸ç”¨æ–­è¨€" class="headerlink" title="2-3 å¸¸ç”¨æ–­è¨€"></a>2-3 å¸¸ç”¨æ–­è¨€</h2><ul><li>å¸¸ç”¨æ–­è¨€<ul><li>å€ŸåŠ©JavaScriptè¯­è¨€è¿›è¡Œä»£ç çš„ç¼–å†™ï¼Œè‡ªåŠ¨åˆ¤æ–­é¢„æœŸç»“æœä¸å®é™…ç»“æœæ˜¯å¦ä¸€è‡´ã€‚</li><li>æ–­è¨€ä»£ç å†™åœ¨è¯·æ±‚çš„Testsæ ‡ç­¾ä¸­ï¼Œè¯·æ±‚Responseä¸­çš„Test Resultså³æ–­è¨€ç»“æœã€‚</li><li>æŒ‰å“åº”çš„ç»„æˆåˆ’åˆ†ï¼Œåˆ†åˆ«æ˜¯çŠ¶æ€è¡Œ(åŒ…æ‹¬çŠ¶æ€ç ã€çŠ¶æ€æ¶ˆæ¯)ã€å“åº”å¤´ã€å“åº”ä½“ã€‚</li><li>å·¥ä½œåŸç†(ç”±ä¸Šå¾€ä¸‹ä¾æ¬¡æ‰§è¡Œ)ï¼šè¯·æ±‚å‘é€ä¹‹åï¼Œå†æ‰§è¡ŒTestså†…å®¹ã€‚<ul><li>Postmanç•Œé¢ï¼šç»„ç»‡httpè¯·æ±‚æ–¹æ³•ã€è¯·æ±‚å¤´ã€è¯·æ±‚ä½“ã€urlç­‰ã€‚</li><li>Postmanå†…éƒ¨ï¼šåˆ†æhttpè¯·æ±‚æ–¹æ³•ã€è¯·æ±‚å¤´ã€è¯·æ±‚ä½“ã€urlç­‰ã€‚</li><li>æœåŠ¡å™¨ï¼šæ¥æ”¶Postmanå‘é€è¿‡æ¥çš„è¯·æ±‚åï¼Œè§£æhttpè¯·æ±‚ï¼Œå›å‘httpå“åº”ã€‚</li><li>Postmanå†…éƒ¨ï¼šæ‰§è¡Œæ–­è¨€ä»£ç ï¼Œå¾—åˆ°æ–­è¨€ç»“æœã€‚</li><li>Postmanç•Œé¢ï¼šåœ¨Test Resultsä¸­æ˜¾ç¤ºæ–­è¨€ç»“æœã€‚</li></ul></li></ul></li></ul><h4 id="1-çŠ¶æ€è¡Œ"><a href="#1-çŠ¶æ€è¡Œ" class="headerlink" title="(1) çŠ¶æ€è¡Œ"></a>(1) çŠ¶æ€è¡Œ</h4><ul><li>æ–­è¨€çŠ¶æ€ç ï¼š<code>Status code: code is 200</code>ã€‚</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs JavaScript"><span class="hljs-comment">// pmä»£è¡¨Postmançš„ä¸€ä¸ªå®ä¾‹ï¼Œtest()æ˜¯Postmanå®ä¾‹çš„ä¸€ä¸ªæ–¹æ³•ï¼Œæœ‰ä»¥ä¸‹ä¸¤ä¸ªå‚æ•°</span><br><span class="hljs-comment">// å‚æ•°ä¸€ï¼šæ–­è¨€ç»“æŸåç»™å‡ºçš„æ–‡å­—æç¤º(å¯è‡ªå®šä¹‰ä¿®æ”¹)</span><br><span class="hljs-comment">// å‚æ•°äºŒï¼šåŒ¿åå‡½æ•°</span><br><br>pm.<span class="hljs-title function_">test</span>(<span class="hljs-string">&quot;Status code is 200&quot;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-comment">// å“åº”ç»“æœä¸­åº”è¯¥åŒ…å«çŠ¶æ€ç 200</span><br>    pm.<span class="hljs-property">response</span>.<span class="hljs-property">to</span>.<span class="hljs-property">have</span>.<span class="hljs-title function_">status</span>(<span class="hljs-number">200</span>);<br>&#125;);<br></code></pre></td></tr></table></figure><ul><li>æ–­è¨€çŠ¶æ€æ¶ˆæ¯ï¼š<code>Status code: code name has string</code>ã€‚</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs JavaScript">pm.<span class="hljs-title function_">test</span>(<span class="hljs-string">&quot;Status code name has string&quot;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-comment">// æ–­è¨€å“åº”çŠ¶æ€æ¶ˆæ¯åŒ…å«OK</span><br>    pm.<span class="hljs-property">response</span>.<span class="hljs-property">to</span>.<span class="hljs-property">have</span>.<span class="hljs-title function_">status</span>(<span class="hljs-string">&quot;OK&quot;</span>);<br>&#125;);<br></code></pre></td></tr></table></figure><h4 id="2-å“åº”å¤´"><a href="#2-å“åº”å¤´" class="headerlink" title="(2) å“åº”å¤´"></a>(2) å“åº”å¤´</h4><ul><li>æ–­è¨€å“åº”å¤´ï¼š<code>Response headers: Content-Type header check</code>ã€‚</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs JavaScript">pm.<span class="hljs-title function_">test</span>(<span class="hljs-string">&quot;Content-Type is present&quot;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-comment">// æ–­è¨€å“åº”å¤´åŒ…å«Content-Type</span><br>    pm.<span class="hljs-property">response</span>.<span class="hljs-property">to</span>.<span class="hljs-property">have</span>.<span class="hljs-title function_">header</span>(<span class="hljs-string">&quot;Content-Type&quot;</span>);<br>&#125;);<br></code></pre></td></tr></table></figure><h4 id="3-å“åº”ä½“"><a href="#3-å“åº”ä½“" class="headerlink" title="(3) å“åº”ä½“"></a>(3) å“åº”ä½“</h4><ul><li>æ–­è¨€å“åº”ä½“åŒ…å«å­—ç¬¦ä¸²ï¼š<code>Response body: Contains string</code>ã€‚</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs JavaScript">pm.<span class="hljs-title function_">test</span>(<span class="hljs-string">&quot;Body matches string&quot;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-comment">// è·å–å“åº”ä½“åŒ…å«å­—ç¬¦ä¸²string_you_want_to_search</span><br>    pm.<span class="hljs-title function_">expect</span>(pm.<span class="hljs-property">response</span>.<span class="hljs-title function_">text</span>()).<span class="hljs-property">to</span>.<span class="hljs-title function_">include</span>(<span class="hljs-string">&quot;string_you_want_to_search&quot;</span>);<br>&#125;);<br></code></pre></td></tr></table></figure><ul><li>æ–­è¨€å“åº”ä½“ç­‰äºå­—ç¬¦ä¸²ï¼š<code>Response body: is equal to a string</code>ã€‚</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs JavaScript">pm.<span class="hljs-title function_">test</span>(<span class="hljs-string">&quot;Body is correct&quot;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-comment">// è·å–å“åº”ä½“ç­‰äºå­—ç¬¦ä¸²response_body_string</span><br>    pm.<span class="hljs-property">response</span>.<span class="hljs-property">to</span>.<span class="hljs-property">have</span>.<span class="hljs-title function_">body</span>(<span class="hljs-string">&quot;response_body_string&quot;</span>);<br>&#125;);<br></code></pre></td></tr></table></figure><ul><li>æ–­è¨€å“åº”ä½“ä¸­æŸä¸ªé”®åå¯¹åº”çš„å€¼ï¼š<code>Response body: JSON value check</code>ã€‚</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs JavaScript">pm.<span class="hljs-title function_">test</span>(<span class="hljs-string">&quot;Your test name&quot;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-comment">// è·å–å“åº”ä½“ï¼Œä»¥Jsonå½¢å¼æ˜¾ç¤ºï¼Œèµ‹å€¼ç»™jsonData</span><br>    <span class="hljs-keyword">var</span> jsonData = pm.<span class="hljs-property">response</span>.<span class="hljs-title function_">json</span>();<br>    <span class="hljs-comment">// è·å–jsonDataä¸­é”®åä¸ºvalueçš„å€¼ï¼Œç„¶åå’Œ100è¿›è¡Œæ¯”è¾ƒ</span><br>    pm.<span class="hljs-title function_">expect</span>(jsonData.<span class="hljs-property">value</span>).<span class="hljs-property">to</span>.<span class="hljs-title function_">eql</span>(<span class="hljs-number">100</span>);<br>&#125;);<br></code></pre></td></tr></table></figure><h4 id="4-å“åº”æ—¶é—´"><a href="#4-å“åº”æ—¶é—´" class="headerlink" title="(4) å“åº”æ—¶é—´"></a>(4) å“åº”æ—¶é—´</h4><ul><li>æ–­è¨€å“åº”æ—¶é—´ï¼Œä¸€èˆ¬ç”¨äºæ€§èƒ½æµ‹è¯•ï¼š<code>Response time is less than 200ms</code>ã€‚</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs JavaScript">pm.<span class="hljs-title function_">test</span>(<span class="hljs-string">&quot;Response time is less than 200ms&quot;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-comment">// æ–­è¨€å“åº”æ—¶é—´å°äº200ms</span><br>    pm.<span class="hljs-title function_">expect</span>(pm.<span class="hljs-property">response</span>.<span class="hljs-property">responseTime</span>).<span class="hljs-property">to</span>.<span class="hljs-property">be</span>.<span class="hljs-title function_">below</span>(<span class="hljs-number">200</span>);<br>&#125;);<br></code></pre></td></tr></table></figure><h2 id="2-4-å˜é‡è®¾ç½®"><a href="#2-4-å˜é‡è®¾ç½®" class="headerlink" title="2-4 å˜é‡è®¾ç½®"></a>2-4 å˜é‡è®¾ç½®</h2><ul><li>å˜é‡è®¾ç½®<ul><li>ä½œç”¨åŸŸ<ul><li>ä½œç”¨åŸŸèŒƒå›´ä»å¤§åˆ°å°ä¸ºï¼šå…¨å±€å˜é‡ &gt; é›†åˆå˜é‡ &gt; ç¯å¢ƒå˜é‡ã€‚</li><li>åœ¨ä¸åŒèŒƒå›´å†…ç”³æ˜ç›¸åŒå˜é‡æ—¶ï¼Œä¼šä¼˜å…ˆä½¿ç”¨èŒƒå›´æœ€å°çš„å˜é‡ã€‚</li></ul></li><li>ç¯å¢ƒå˜é‡(Environments)<ul><li>å…¨å±€å˜é‡(Globals)ï¼šPostmanä¸­å…¨å±€ç”Ÿæ•ˆçš„å˜é‡ï¼Œå…¨å±€å”¯ä¸€ã€‚</li><li>ç‰¹å®šç¯å¢ƒ(ç”Ÿäº§ç¯å¢ƒã€å¼€å‘ç¯å¢ƒã€æµ‹è¯•ç¯å¢ƒç­‰)ä¸‹ç”Ÿæ•ˆçš„å˜é‡ï¼Œåœ¨æœ¬ç¯å¢ƒå†…å”¯ä¸€ã€‚</li></ul></li><li>é›†åˆå˜é‡ï¼šé’ˆå¯¹é›†åˆçš„å˜é‡ï¼Œå£°æ˜çš„å˜é‡å¿…é¡»åŸºäºæŸä¸ªé›†åˆï¼Œä½œç”¨åŸŸåªé’ˆå¯¹è¯¥é›†åˆã€‚</li><li>è¦ä½¿ç”¨å˜é‡ä¸­çš„å€¼ï¼Œå…ˆåœ¨Pre-request Scriptæˆ–Testsä¸­è®¾ç½®è¯¥å˜é‡ï¼Œç„¶åè·å–å˜é‡ã€‚<ul><li>variable_keyå˜é‡åï¼Œvariable_valueå˜é‡å€¼ï¼Œè·å–å˜é‡ä½¿ç”¨<code>&#123;&#123;variable_key&#125;&#125;</code>ã€‚</li><li>è·å–å˜é‡å€¼çš„è¯·æ±‚å‚æ•°æŒ‡çš„æ˜¯ï¼šURLã€Paramsã€Authorizationã€Headersã€Bodyã€‚</li></ul></li></ul></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs JavaScript"><span class="hljs-comment">// è®¾ç½®å…¨å±€å˜é‡</span><br>pm.<span class="hljs-property">globals</span>.<span class="hljs-title function_">set</span>(<span class="hljs-string">&quot;variable_key&quot;</span>, <span class="hljs-string">&quot;variable_value&quot;</span>);<br><span class="hljs-comment">// è·å–å…¨å±€å˜é‡</span><br>pm.<span class="hljs-property">globals</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">&quot;variable_key&quot;</span>);<br><br><span class="hljs-comment">// è®¾ç½®ç¯å¢ƒå˜é‡</span><br>pm.<span class="hljs-property">environment</span>.<span class="hljs-title function_">set</span>(<span class="hljs-string">&quot;variable_key&quot;</span>, <span class="hljs-string">&quot;variable_value&quot;</span>);<br><span class="hljs-comment">// è·å–ç¯å¢ƒå˜é‡</span><br>pm.<span class="hljs-property">environment</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">&quot;variable_key&quot;</span>);<br><br><span class="hljs-comment">// è®¾ç½®é›†åˆå˜é‡</span><br>pm.<span class="hljs-property">collectionVariables</span>.<span class="hljs-title function_">set</span>(<span class="hljs-string">&quot;variable_key&quot;</span>, <span class="hljs-string">&quot;variable_value&quot;</span>);<br><span class="hljs-comment">// è·å–é›†åˆå˜é‡</span><br>pm.<span class="hljs-property">collectionVariables</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">&quot;variable_key&quot;</span>);<br></code></pre></td></tr></table></figure><h4 id="1-ç¯å¢ƒå˜é‡"><a href="#1-ç¯å¢ƒå˜é‡" class="headerlink" title="(1) ç¯å¢ƒå˜é‡"></a>(1) ç¯å¢ƒå˜é‡</h4><p><img src="/../img/Postman/Postman@005.jpg" srcset="/img/load.gif" lazyload alt="Postman-å˜é‡è®¾ç½®-ç¯å¢ƒå˜é‡"></p><h4 id="2-é›†åˆå˜é‡"><a href="#2-é›†åˆå˜é‡" class="headerlink" title="(2) é›†åˆå˜é‡"></a>(2) é›†åˆå˜é‡</h4><p><img src="/../img/Postman/Postman@006.jpg" srcset="/img/load.gif" lazyload alt="Postman-å˜é‡è®¾ç½®-é›†åˆå˜é‡"></p><h1 id="3-æ¥å£å…³è”"><a href="#3-æ¥å£å…³è”" class="headerlink" title="3 æ¥å£å…³è”"></a>3 æ¥å£å…³è”</h1><ul><li>æ¥å£å…³è”<ul><li>ä¸Šä¸€ä¸ªæ¥å£çš„è¿”å›æ•°æ®å€¼ï¼Œåˆšå¥½æ˜¯ä¸‹ä¸€ä¸ªæ¥å£çš„è¾“å…¥å‚æ•°ï¼Œè¿™æ ·ä¸¤ä¸ªæ¥å£å°±äº§ç”Ÿäº†å…³è”ã€‚</li><li>å®ç°æ€è·¯ï¼šæå–ä¸Šä¸ªæ¥å£çš„è¿”å›æ•°æ®å€¼ï¼Œå°†å…¶ä¿å­˜åˆ°ç¯å¢ƒå˜é‡ä¸­ï¼Œä¸‹ä¸ªæ¥å£è·å–å˜é‡å€¼ã€‚</li><li>ä¾‹å¦‚ï¼šä¸Šä¸ªæ¥å£è¿”å›åŒ—äº¬çš„ç»çº¬åº¦åæ ‡ï¼Œå°†å…¶ä¿å­˜åˆ°ç¯å¢ƒå˜é‡ä¸­ï¼Œä¸‹ä¸ªæ¥å£è·å–ç»çº¬åº¦åæ ‡å€¼æŸ¥è¯¢åœ°ç‚¹ã€‚</li></ul></li></ul><h2 id="3-1-è¿”å›ç»çº¬åº¦"><a href="#3-1-è¿”å›ç»çº¬åº¦" class="headerlink" title="3-1 è¿”å›ç»çº¬åº¦"></a>3-1 è¿”å›ç»çº¬åº¦</h2><p><img src="/../img/Postman/Postman@007.jpg" srcset="/img/load.gif" lazyload alt="æ¥å£å…³è”-è¿”å›ç»çº¬åº¦"></p><h2 id="3-2-ç»çº¬åº¦æŸ¥è¯¢"><a href="#3-2-ç»çº¬åº¦æŸ¥è¯¢" class="headerlink" title="3-2 ç»çº¬åº¦æŸ¥è¯¢"></a>3-2 ç»çº¬åº¦æŸ¥è¯¢</h2><p><img src="/../img/Postman/Postman@008.jpg" srcset="/img/load.gif" lazyload alt="æ¥å£å…³è”-ç»çº¬åº¦æŸ¥è¯¢"></p><h1 id="4-é›†åˆæµ‹è¯•"><a href="#4-é›†åˆæµ‹è¯•" class="headerlink" title="4 é›†åˆæµ‹è¯•"></a>4 é›†åˆæµ‹è¯•</h1><ul><li>é›†åˆæµ‹è¯•<ul><li>Run manuallyï¼šé»˜è®¤æ‰‹åŠ¨è¿è¡Œï¼Œå¯é€‰è®¡åˆ’æ‰§è¡Œ(Schedule runs)æˆ–é›†æˆè‡ªåŠ¨åŒ–å‘½ä»¤è¿è¡Œ(Automate runs via CLI)ã€‚</li><li>Iterationsï¼šé›†åˆè¿è¡Œçš„è¿­ä»£æ¬¡æ•°ã€‚</li><li>Delayï¼šæ¯ä¸ªè¯·æ±‚ä¹‹é—´çš„æ—¶é—´é—´éš”ã€‚</li><li>Dataï¼šç”¨äºæµ‹è¯•çš„æ•°æ®æ–‡ä»¶ï¼Œå‚æ•°åŒ–æ–‡ä»¶ã€‚</li><li>Persist responses for a sessionï¼šä¿æŒä¼šè¯çš„å“åº”ï¼Œå‹¾é€‰æ‰§è¡Œåå¯æŸ¥çœ‹å“åº”ä½“å’Œå“åº”å¤´ã€‚</li><li>Stop run if an error occursï¼šå¦‚æœé›†åˆä¸­çš„ä»»æ„è¯·æ±‚åœ¨è¿è¡Œæ—¶æŠ¥é”™ï¼Œåˆ™ä¼šåœæ­¢æ‰¹é‡è¿è¡Œã€‚</li><li>Keep variable valuesï¼šä¿ç•™è¿è¡Œæ—¶ä½¿ç”¨çš„å˜é‡å€¼ã€‚</li><li>Run collection without using stored cookiesï¼šåœ¨ä¸ä½¿ç”¨å­˜å‚¨cookiesçš„æƒ…å†µä¸‹æ‰¹é‡è¿è¡Œã€‚</li><li>Save cookies after collection runï¼šæ‰¹é‡è¿è¡Œåå°†ä½¿ç”¨çš„cookiesä¿å­˜åˆ°cookieç®¡ç†å™¨ä¸­ã€‚</li></ul></li></ul><p><img src="/../img/Postman/Postman@009.jpg" srcset="/img/load.gif" lazyload alt="é›†åˆæµ‹è¯•"></p><h2 id="4-1-Schedule-runs"><a href="#4-1-Schedule-runs" class="headerlink" title="4-1 Schedule runs"></a>4-1 Schedule runs</h2><ul><li>Schedule runs<ul><li>å…è®¸åœ¨é¢„å®šçš„æ—¶é—´é—´éš”å†…è‡ªåŠ¨è¿è¡Œé›†åˆä¸­çš„è¯·æ±‚ï¼Œå¯ä»¥è®¾ç½®è¿è¡Œçš„æ—¶é—´ã€é¢‘ç‡å’ŒæŒç»­æ—¶é—´ã€‚</li><li>ä¸»è¦é€‚ç”¨äºè‡ªåŠ¨åŒ–æµ‹è¯•å’Œå®šæœŸè¿è¡Œè¯·æ±‚çš„åœºæ™¯ï¼Œæ—¨åœ¨å¸®åŠ©ä¿æŒAPIè¯·æ±‚çš„ä¸€è‡´æ€§å’Œç¨³å®šæ€§ã€‚</li></ul></li></ul><p><img src="/../img/Postman/Postman@010.jpg" srcset="/img/load.gif" lazyload alt="é›†åˆæµ‹è¯•-Schedule runs"></p><h2 id="4-2-Monitors-runs"><a href="#4-2-Monitors-runs" class="headerlink" title="4-2 Monitors runs"></a>4-2 Monitors runs</h2><ul><li>Monitors runs<ul><li>ä¸»è¦ç”¨äºåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ç›‘æ§å’Œç®¡ç†APIçš„æ€§èƒ½å’Œå¯ç”¨æ€§ï¼Œå®šæœŸå‘é€APIè¯·æ±‚å¹¶è·å–å“åº”æ—¶é—´ç­‰æŒ‡æ ‡ã€‚</li><li>ç›‘è§†å™¨è¿˜æä¾›äº†æŠ¥è­¦é€šçŸ¥ã€å®æ—¶ç›‘æ§å’Œå†å²è®°å½•ç­‰åŠŸèƒ½ï¼Œä»¥ä¾¿åŠæ—¶å‘ç°å’Œè§£å†³APIè¯·æ±‚çš„æ½œåœ¨é—®é¢˜ã€‚</li><li>å‚æ•°è¯´æ˜<ul><li>Run this monitorï¼šæ—¶é—´è°ƒåº¦ï¼Œè®¾ç½®å›ºå®šæ—¶é—´æ¥æ‰§è¡Œé›†åˆã€‚</li><li>Receive email notifications for run failures and errorsï¼šå¤±è´¥å’Œé”™è¯¯å‘é€é‚®ä»¶é€šçŸ¥ã€‚</li><li>Retry if run fails (This might affect your billing.)ï¼šå¦‚æœé›†åˆæµ‹è¯•è¿è¡Œå¤±è´¥åˆ™é‡è¯•ã€‚</li><li>Set request timeoutï¼šè®¾ç½®è¯·æ±‚è¶…æ—¶çš„æ—¶é—´ã€‚</li><li>Set delay between requestsï¼šè®¾ç½®è¯·æ±‚ä¹‹é—´çš„å»¶è¿Ÿæ—¶é—´ã€‚</li><li>Follow redirectsï¼šè·Ÿéšé‡å®šå‘ï¼Œå‹¾é€‰åˆ™Postmanä¼šè‡ªåŠ¨å‘é€æ–°çš„è¯·æ±‚åˆ°é‡å®šå‘çš„URLã€‚</li><li>Enable SSL validationï¼šå¯ç”¨SSLéªŒè¯ï¼Œç¡®ä¿è¯·æ±‚å’Œå“åº”åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­æ˜¯åŠ å¯†å’Œå®‰å…¨çš„ã€‚</li><li>Runä¹‹åï¼Œç‚¹å‡»Pauseå°†æš‚åœæ­£åœ¨è¿è¡Œçš„ç›‘è§†å™¨ï¼Œå†ç‚¹å‡»Resumeæ¢å¤å½“å‰ç›‘è§†å™¨çš„è¿è¡Œã€‚</li></ul></li></ul></li></ul><p><img src="/../img/Postman/Postman@011.jpg" srcset="/img/load.gif" lazyload alt="é›†åˆæµ‹è¯•-Monitors runs"></p><h2 id="4-3-Newmançš„ä½¿ç”¨"><a href="#4-3-Newmançš„ä½¿ç”¨" class="headerlink" title="4-3 Newmançš„ä½¿ç”¨"></a>4-3 Newmançš„ä½¿ç”¨</h2><ul><li>Newmançš„ä½¿ç”¨<ul><li>é›†åˆæµ‹è¯•çš„å¦ä¸€ç§æ–¹å¼æ˜¯ä½¿ç”¨Newmanï¼ŒPostman Newmanæ˜¯ä¸€æ¬¾ç”±Postmanå¼€å‘çš„å‘½ä»¤è¡Œå·¥å…·ã€‚</li><li>ä½¿ç”¨Newmanä¹‹å‰ï¼Œéœ€è¦å…ˆå®‰è£…Node.jsï¼Œç„¶åä½¿ç”¨å‘½ä»¤<code>npm install -g newman</code>å®‰è£…Newmanã€‚</li><li>åœ¨Postmanä¸­ä»¥Jsonæ–‡ä»¶æ–¹å¼å¯¼å‡ºè¦æµ‹è¯•çš„é›†åˆï¼Œä»¥åŠå¯¹åº”çš„ç¯å¢ƒå˜é‡ï¼Œå°±å¯ä»¥å‘½ä»¤è¿è¡Œé›†åˆäº†ã€‚</li></ul></li></ul><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs Powershell"><span class="hljs-comment"># æ— ç¯å¢ƒä¾èµ–çš„æƒ…å†µä¸‹ï¼Œåªè¿è¡Œé›†åˆ</span><br>newman run &lt;collection_name&gt;<br>newman run å¸¸ç”¨æ¥å£.postman_collection.json<br><br><span class="hljs-comment"># è¿è¡Œé›†åˆå’Œç¯å¢ƒ</span><br>newman run &lt;collection_name&gt; <span class="hljs-literal">-e</span> &lt;environment_name&gt;<br>newman run å¸¸ç”¨æ¥å£.postman_collection.json <span class="hljs-literal">-e</span> workspace.postman_globals.json<br><br><span class="hljs-comment"># ä½¿ç”¨æ‰€éœ€çš„ç¼–å·è¿è¡Œé›†åˆçš„è¿­ä»£</span><br>newman run &lt;collection_name&gt; <span class="hljs-literal">-n</span> &lt;no.of_iterations&gt;<br>newman run å¸¸ç”¨æ¥å£.postman_collection.json <span class="hljs-literal">-n</span> <span class="hljs-number">3</span><br><br><span class="hljs-comment"># è¿è¡Œæ•°æ®æ–‡ä»¶</span><br>newman run &lt;collection_name&gt; <span class="hljs-literal">--data</span> &lt;file_name&gt; <span class="hljs-literal">-n</span> &lt;no.of_iterations&gt; <span class="hljs-literal">-e</span> &lt;environment_name&gt;<br>newman run å¸¸ç”¨æ¥å£.postman_collection.json <span class="hljs-literal">--data</span> data.csv <span class="hljs-literal">-n</span> <span class="hljs-number">3</span> <span class="hljs-literal">-e</span> workspace.postman_globals.json<br><br><span class="hljs-comment"># è®¾ç½®å»¶è¿Ÿæ—¶é—´ï¼Œå•ä½æ¯«ç§’</span><br>newman run &lt;collection_name&gt; <span class="hljs-literal">-d</span> &lt;delay_time&gt;<br>newman run å¸¸ç”¨æ¥å£.postman_collection.json <span class="hljs-literal">-d</span> <span class="hljs-number">500</span><br></code></pre></td></tr></table></figure><h1 id="5-MockæœåŠ¡"><a href="#5-MockæœåŠ¡" class="headerlink" title="5 MockæœåŠ¡"></a>5 MockæœåŠ¡</h1><ul><li>MockæœåŠ¡<ul><li>Mockå®šä¹‰<ul><li>ä¸€ç§ç‰¹æ®Šæµ‹è¯•æŠ€å·§ï¼Œå¯ä»¥åœ¨æ²¡æœ‰ä¾èµ–é¡¹çš„æƒ…å†µä¸‹è¿›è¡Œæ¥å£æˆ–å•å…ƒæµ‹è¯•ã€‚</li><li>MockæœåŠ¡ä¸æ˜¯ä¸€ä¸ªçœŸå®çš„æœåŠ¡ï¼Œè€Œæ˜¯ä¸€ä¸ªè¢«ä¼ªè£…æˆçœŸå®æœåŠ¡çš„å‡æœåŠ¡ã€‚</li></ul></li><li>MockæœåŠ¡çš„ä¸¤ç§ç±»å‹<ul><li>ç§æœ‰Mock<ul><li>å¤´åƒ&gt;Settings&gt;API keys&gt;Generate API Key&gt;å‘½åä¸º<code>x-api-key</code>&gt;å¤åˆ¶ç”Ÿæˆçš„å¯†é’¥ã€‚</li><li>åœ¨Postmançš„Mock serversä¸­ï¼Œåˆ›å»ºMockæœåŠ¡ï¼Œé…ç½®ä¸­å‹¾é€‰<u>Make mock server private</u>ã€‚</li><li>MockæœåŠ¡åˆ›å»ºå®Œæˆåï¼ŒCollectionsä¸­ç”Ÿæˆçš„è¯·æ±‚Headersé‡Œæ·»åŠ x-api-keyå’Œå¯†é’¥å†…å®¹ã€‚</li></ul></li><li>å…¬æœ‰Mockï¼šå¯ä»¥è¢«ä»»ä½•äººè®¿é—®ï¼Œä¸éœ€è¦ä½¿ç”¨Postman API Keyã€‚</li></ul></li><li>Next &gt; Configuration<ul><li>Mock Server Nameï¼šMockæœåŠ¡åç§°ã€‚</li><li>Environmentï¼šé€‰æ‹©å·²æœ‰ç¯å¢ƒï¼Œæˆ–å‹¾é€‰Saveâ€¦å°†æœåŠ¡åœ°å€ä¿å­˜ä¸ºä¸€ä¸ªæ–°ç¯å¢ƒå˜é‡ã€‚</li><li>Simulate a fixed network delayï¼šæ¨¡æ‹Ÿå›ºå®šçš„ç½‘ç»œå»¶è¿Ÿï¼Œé»˜è®¤No delay selectedã€‚</li><li><u>Make mock server private</u>ï¼šè®¾ç½®ä¸ºç§æœ‰MockæœåŠ¡ã€‚</li></ul></li></ul></li></ul><h2 id="5-1-å‚æ•°å†…å®¹"><a href="#5-1-å‚æ•°å†…å®¹" class="headerlink" title="5-1 å‚æ•°å†…å®¹"></a>5-1 å‚æ•°å†…å®¹</h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs Json"><span class="hljs-comment">// Request Body</span><br><span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;city&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;å¦é—¨&quot;</span><br><span class="hljs-punctuation">&#125;</span><br><br><span class="hljs-comment">// Response Body</span><br><span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;200&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;msg&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;success&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;infocode&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;10000&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;lives&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">[</span><br>        <span class="hljs-punctuation">&#123;</span><br>            <span class="hljs-attr">&quot;province&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;ç¦å»º&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;city&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;å¦é—¨å¸‚&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;adcode&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;350200&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;weather&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;æ™´&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;temperature&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;7&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;winddirection&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;ä¸œåŒ—&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;windpower&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;4&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;humidity&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;57&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;reporttime&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;2022-08-22 08:34:17&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;temperature_float&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;7.0&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;humidity_float&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;57.0&quot;</span><br>        <span class="hljs-punctuation">&#125;</span><br>    <span class="hljs-punctuation">]</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><h2 id="5-2-åˆ›å»ºMock"><a href="#5-2-åˆ›å»ºMock" class="headerlink" title="5-2 åˆ›å»ºMock"></a>5-2 åˆ›å»ºMock</h2><p><img src="/../img/Postman/Postman@012.jpg" srcset="/img/load.gif" lazyload alt="MockæœåŠ¡-åˆ›å»ºMock"></p><h2 id="5-3-Mockè¯·æ±‚"><a href="#5-3-Mockè¯·æ±‚" class="headerlink" title="5-3 Mockè¯·æ±‚"></a>5-3 Mockè¯·æ±‚</h2><p><img src="/../img/Postman/Postman@013.jpg" srcset="/img/load.gif" lazyload alt="MockæœåŠ¡-Mockè¯·æ±‚"></p><h1 id="6-APIsè®¾è®¡"><a href="#6-APIsè®¾è®¡" class="headerlink" title="6 APIsè®¾è®¡"></a>6 APIsè®¾è®¡</h1><ul><li>è®¾è®¡å¼€å‘API<ul><li>åˆ›å»ºAPI &gt; å®šä¹‰API &gt; æµ‹è¯•API &gt; éƒ¨ç½²API &gt; ç›‘æ§APIã€‚</li><li>å®šä¹‰APIï¼šå…¥å‚ã€å‡ºå‚ã€æ–¹æ³•ã€å“åº”çš„å®šä¹‰(ä¸»è¦)ã€‚</li><li>æµ‹è¯•APIï¼šæµ‹è¯•ä¸è‡ªåŠ¨åŒ–(Collectionsã€Automate)ã€‚</li></ul></li></ul><h2 id="6-1-åˆ›å»ºAPI"><a href="#6-1-åˆ›å»ºAPI" class="headerlink" title="6-1 åˆ›å»ºAPI"></a>6-1 åˆ›å»ºAPI</h2><p><img src="/../img/Postman/Postman@014.jpg" srcset="/img/load.gif" lazyload alt="è®¾è®¡å¼€å‘API-åˆ›å»ºAPI"></p><h2 id="6-2-å®šä¹‰API"><a href="#6-2-å®šä¹‰API" class="headerlink" title="6-2 å®šä¹‰API"></a>6-2 å®šä¹‰API</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-comment"># æŒ‡å®šä½¿ç”¨çš„OpenAPIè§„èŒƒçš„ç‰ˆæœ¬</span><br><span class="hljs-attr">openapi:</span> <span class="hljs-string">&#x27;3.0.0&#x27;</span><br><span class="hljs-comment"># åŒ…å«APIçš„åŸºæœ¬ä¿¡æ¯ï¼ŒåŒ…æ‹¬ç‰ˆæœ¬ã€æ ‡é¢˜å’Œæè¿°</span><br><span class="hljs-attr">info:</span><br>  <span class="hljs-attr">version:</span> <span class="hljs-string">&#x27;1.0.0&#x27;</span><br>  <span class="hljs-attr">title:</span> <span class="hljs-string">&#x27;Sample API&#x27;</span><br>  <span class="hljs-attr">description:</span> <span class="hljs-string">å›¾ä¹¦ä¿¡æ¯æŸ¥è¯¢</span><br><br><span class="hljs-comment"># å®šä¹‰APIçš„è·¯å¾„å’Œè¯·æ±‚æ–¹æ³•ï¼Œè¿™é‡Œåªå®šä¹‰/booksè·¯å¾„çš„getè¯·æ±‚æ–¹æ³•</span><br><span class="hljs-attr">paths:</span><br>  <span class="hljs-comment"># å®šä¹‰APIè·¯å¾„</span><br>  <span class="hljs-string">/books:</span><br>    <span class="hljs-comment"># å®šä¹‰APIçš„è¯·æ±‚æ–¹æ³•</span><br>    <span class="hljs-attr">get:</span><br>      <span class="hljs-attr">summary:</span> <span class="hljs-string">è·å–å›¾ä¹¦ä¿¡æ¯</span><br>      <span class="hljs-attr">operationId:</span> <span class="hljs-string">listBooks</span><br>      <span class="hljs-comment"># å®šä¹‰APIè¯·æ±‚çš„å“åº”å†…å®¹ï¼Œè¿™é‡Œå®šä¹‰äº†æˆåŠŸå“åº”200å’Œé”™è¯¯å“åº”500</span><br>      <span class="hljs-attr">responses:</span><br>        <span class="hljs-attr">&#x27;200&#x27;:</span><br>          <span class="hljs-attr">description:</span> <span class="hljs-string">è¿”å›å›¾ä¹¦ä¿¡æ¯æ•°ç»„</span><br>          <span class="hljs-attr">content:</span><br>            <span class="hljs-attr">application/json:</span><br>              <span class="hljs-attr">schema:</span><br>                <span class="hljs-attr">type:</span> <span class="hljs-string">array</span><br>                <span class="hljs-attr">items:</span><br>                  <span class="hljs-string">$ref:</span> <span class="hljs-string">&#x27;#/components/schemas/Book&#x27;</span><br>        <span class="hljs-attr">&#x27;500&#x27;:</span><br>          <span class="hljs-attr">description:</span> <span class="hljs-string">å‡ºç°æ„å¤–é”™è¯¯</span><br>          <span class="hljs-attr">content:</span><br>            <span class="hljs-attr">application/json:</span><br>              <span class="hljs-attr">schema:</span><br>                <span class="hljs-string">$ref:</span> <span class="hljs-string">&#x27;#/components/schemas/Error&#x27;</span><br><br><span class="hljs-comment"># åŒ…å«APIçš„ç»„ä»¶ï¼ŒåŒ…æ‹¬æ•°æ®æ¨¡å‹Bookå’ŒErrorçš„å®šä¹‰</span><br><span class="hljs-attr">components:</span><br>  <span class="hljs-attr">schemas:</span><br>    <span class="hljs-attr">Book:</span><br>      <span class="hljs-comment"># æ•°æ®æ¨¡å‹çš„ç±»å‹</span><br>      <span class="hljs-attr">type:</span> <span class="hljs-string">object</span><br>      <span class="hljs-comment"># æŒ‡å®šæ•°æ®æ¨¡å‹ä¸­çš„å¿…å¡«å±æ€§</span><br>      <span class="hljs-attr">required:</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">id</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">title</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">author</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">isbn</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">price</span><br>      <span class="hljs-comment"># å®šä¹‰æ•°æ®æ¨¡å‹ä¸­çš„å±æ€§</span><br>      <span class="hljs-attr">properties:</span><br>        <span class="hljs-attr">id:</span><br>          <span class="hljs-comment"># æŒ‡å®šå±æ€§çš„æ•°æ®ç±»å‹</span><br>          <span class="hljs-attr">type:</span> <span class="hljs-string">string</span><br>          <span class="hljs-comment"># æä¾›å±æ€§çš„æè¿°ä¿¡æ¯</span><br>          <span class="hljs-attr">description:</span> <span class="hljs-string">å›¾ä¹¦çš„å”¯ä¸€æ ‡è¯†ç¬¦</span><br>        <span class="hljs-attr">title:</span><br>          <span class="hljs-attr">type:</span> <span class="hljs-string">string</span><br>          <span class="hljs-attr">description:</span> <span class="hljs-string">å›¾ä¹¦æ ‡é¢˜</span><br>        <span class="hljs-attr">author:</span><br>          <span class="hljs-attr">type:</span> <span class="hljs-string">string</span><br>          <span class="hljs-attr">description:</span> <span class="hljs-string">å›¾ä¹¦ä½œè€…</span><br>        <span class="hljs-attr">isbn:</span><br>          <span class="hljs-attr">type:</span> <span class="hljs-string">string</span><br>          <span class="hljs-attr">description:</span> <span class="hljs-string">å›¾ä¹¦ISBN</span><br>        <span class="hljs-attr">price:</span><br>          <span class="hljs-attr">type:</span> <span class="hljs-string">number</span><br>          <span class="hljs-attr">format:</span> <span class="hljs-string">float</span><br>          <span class="hljs-attr">description:</span> <span class="hljs-string">å›¾ä¹¦ä»·æ ¼</span><br>        <span class="hljs-attr">description:</span><br>          <span class="hljs-attr">type:</span> <span class="hljs-string">string</span><br>          <span class="hljs-attr">description:</span> <span class="hljs-string">å›¾ä¹¦ç®€ä»‹</span><br>    <span class="hljs-attr">Error:</span><br>      <span class="hljs-attr">type:</span> <span class="hljs-string">object</span><br>      <span class="hljs-attr">required:</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">message</span><br>      <span class="hljs-attr">properties:</span><br>        <span class="hljs-attr">message:</span><br>          <span class="hljs-attr">description:</span> <span class="hljs-string">A</span> <span class="hljs-string">human</span> <span class="hljs-string">readable</span> <span class="hljs-string">error</span> <span class="hljs-string">message</span><br>          <span class="hljs-attr">type:</span> <span class="hljs-string">string</span><br>  <span class="hljs-comment"># å®šä¹‰APIçš„å®‰å…¨æ–¹æ¡ˆï¼ŒåŒ…æ‹¬ä¸€ä¸ªåä¸ºApiKeyçš„APIå¯†é’¥è®¤è¯æ–¹å¼</span><br>  <span class="hljs-attr">securitySchemes:</span><br>    <span class="hljs-attr">ApiKey:</span><br>      <span class="hljs-attr">type:</span> <span class="hljs-string">apiKey</span><br>      <span class="hljs-attr">in:</span> <span class="hljs-string">header</span><br>      <span class="hljs-attr">name:</span> <span class="hljs-string">X-Api-Key</span><br><br><span class="hljs-comment"># å®šä¹‰APIçš„å®‰å…¨è¦æ±‚ï¼ŒæŒ‡å®šä½¿ç”¨ApiKeyè®¤è¯æ–¹å¼</span><br><span class="hljs-attr">security:</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-attr">ApiKey:</span> []<br></code></pre></td></tr></table></figure><h2 id="6-3-æµ‹è¯•API"><a href="#6-3-æµ‹è¯•API" class="headerlink" title="6-3 æµ‹è¯•API"></a>6-3 æµ‹è¯•API</h2><ul><li>æµ‹è¯•API<ul><li>ç”±äºå®šä¹‰å¥½çš„APIæ²¡æœ‰è®¾ç½®baseUrlï¼Œæµ‹è¯•é›†åˆæ²¡åŠæ³•ç›´æ¥æ‰§è¡Œã€‚</li><li>Postmanå¯ä»¥ç›´æ¥ç”Ÿæˆå®šä¹‰å¥½çš„Flaskç­‰ä»£ç ï¼Œä¸‹è½½åˆ°æœ¬åœ°è¿è¡Œã€‚<ul><li>è§£å‹zipåå°†yourCompanyç›®å½•åæ”¹ä¸ºbooksï¼Œåœ¨å½“å‰ç›®å½•ä¸‹æ‰“å¼€å‘½ä»¤çª—å£ã€‚</li><li>åœ¨è§£å‹zipçš„ç›®å½•ä¸‹æ‰§è¡Œç¯å¢ƒä¾èµ–ï¼š<code>pip install -r requirements.txt</code>ã€‚</li><li>è®¾ç½®ç¯å¢ƒå˜é‡FLASK_APPï¼Œç¨‹åºä¸»æ¨¡å—åbooksï¼š<code>set FLASK_APP=books</code>ã€‚</li><li>è®¾ç½®ç¯å¢ƒå˜é‡FLASK_ENVï¼Œé»˜è®¤productionï¼š<code>set FLASK_ENV=development</code>ã€‚</li></ul></li><li>å‘½ä»¤çª—å£æ‰§è¡Œ<code>flask run</code>ï¼Œæµè§ˆå™¨æ‰“å¼€åœ°å€éªŒè¯ï¼š<a href="http://127.0.0.1:5000/books">http://127.0.0.1:5000/books</a>ã€‚<ul><li>è®¿é—®æˆåŠŸåï¼Œè¿›è¡Œæœ¬åœ°Mockï¼Œå°†Postmanä¸­çš„baseUrlè®¾ç½®ä¸º127.0.0.1:5000ã€‚</li><li>ç”±Postmanç”Ÿæˆçš„API Flaskä»£ç åªæœ‰æ¥å£ç›¸å…³å†…å®¹ï¼Œæ²¡æœ‰åå°æ•°æ®å¯¹åº”çš„å­˜å‚¨ã€‚</li><li>è‹¥æµ‹è¯•é›†åˆè¦å®Œå…¨å‘ˆç°æ¥å£åŠŸèƒ½ï¼Œéœ€è¦å°†ç”Ÿæˆçš„API Flaskä»£ç æ”¹å†™ä¼˜åŒ–å†Mockã€‚</li></ul></li></ul></li></ul><p><img src="/../img/Postman/Postman@015.jpg" srcset="/img/load.gif" lazyload alt="è®¾è®¡å¼€å‘API-æµ‹è¯•API"></p>]]></content>
    
    
    <categories>
      
      <category>æµ‹è¯•å·¥å…·</category>
      
      <category>Postman</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æµ‹è¯•å·¥å…·</tag>
      
      <tag>Postman</tag>
      
      <tag>æ¥å£æµ‹è¯•</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Charles åŠŸèƒ½</title>
    <link href="/2022/05/10/ce-shi-gong-ju/tt03-charles/tt03-01-charles-gong-neng/"/>
    <url>/2022/05/10/ce-shi-gong-ju/tt03-charles/tt03-01-charles-gong-neng/</url>
    
    <content type="html"><![CDATA[<p>Charlesæ˜¯ä¸€æ¬¾ä»£ç†æœåŠ¡å™¨ï¼Œé€šè¿‡æˆä¸ºç”µè„‘æˆ–æµè§ˆå™¨çš„ä»£ç†ï¼Œæˆªå–è¯·æ±‚å’Œç»“æœè¿›è¡ŒæŠ“åŒ…åˆ†æï¼Œæ”¯æŒé‡å‘ç½‘ç»œè¯·æ±‚ï¼Œæ–¹ä¾¿åç«¯è°ƒè¯•ã€‚</p><span id="more"></span><h1 id="1-Charleså®‰è£…"><a href="#1-Charleså®‰è£…" class="headerlink" title="1 Charleså®‰è£…"></a>1 Charleså®‰è£…</h1><ul><li>Charleså®‰è£…<ul><li>å®˜ç½‘ä¸‹è½½ï¼š<a href="https://www.charlesproxy.com/latest-release/download.do">https://www.charlesproxy.com/latest-release/download.do</a>ã€‚</li><li>ç”±äºCharlesæ”¶è´¹ï¼Œå®‰è£…åéœ€æ³¨å†Œï¼Œå¯åŠ¨Charles&gt;Help&gt;Register Charlesã€‚<ul><li>Registered Nameï¼š<a href="https://zhile.io./">https://zhile.ioã€‚</a></li><li>License Keyï¼š48891cf209c6d32bf4ã€‚</li></ul></li><li>è¾“å…¥Registered Nameä»¥åŠLicense Key&gt;Register&gt;ç¡®å®š&gt;é‡æ–°å¯åŠ¨Charlesã€‚</li></ul></li></ul><h2 id="1-1-å®‰è£…è¯ä¹¦"><a href="#1-1-å®‰è£…è¯ä¹¦" class="headerlink" title="1-1 å®‰è£…è¯ä¹¦"></a>1-1 å®‰è£…è¯ä¹¦</h2><ul><li>å®‰è£…è¯ä¹¦<ul><li>Help&gt;SSL Proxying&gt;Install Charles Root Certificate&gt;å®‰è£…è¯ä¹¦&gt;æœ¬åœ°è®¡ç®—æœº&gt;é€‰â€œå°†æ‰€æœ‰çš„è¯ä¹¦éƒ½æ”¾å…¥ä¸‹åˆ—å­˜å‚¨â€ã€‚</li><li>æµè§ˆ&gt;é€‰â€œå—ä¿¡ä»»çš„æ ¹è¯ä¹¦é¢å‘æœºæ„â€&gt;ç¡®å®š&gt;ä¸‹ä¸€é¡µ&gt;å®Œæˆ&gt;ç¡®å®šï¼Œå®‰è£…å¥½ä¹‹åéœ€è¦é‡æ–°æ‰“å¼€ï¼Œç¡®è®¤ä¸‹è¯ä¹¦æ˜¯å¦ç”Ÿæ•ˆã€‚</li><li>Help&gt;SSL Proxying&gt;Install Charles Root Certificate&gt;è¯ä¹¦è·¯å¾„&gt;å¦‚æœè¯ä¹¦çŠ¶æ€ä¸ºâ€œè¯¥è¯ä¹¦æ²¡æœ‰é—®é¢˜â€ï¼Œåˆ™å®‰è£…æˆåŠŸã€‚</li></ul></li></ul><p><img src="/../img/Charles/Charles@001.jpg" srcset="/img/load.gif" lazyload alt="Charleså®‰è£…-å®‰è£…è¯ä¹¦"></p><h2 id="1-2-ä¿®æ”¹é…ç½®"><a href="#1-2-ä¿®æ”¹é…ç½®" class="headerlink" title="1-2 ä¿®æ”¹é…ç½®"></a>1-2 ä¿®æ”¹é…ç½®</h2><ul><li>ä¿®æ”¹é…ç½®<ul><li>å®‰è£…å¥½è¯ä¹¦ä¹‹åï¼Œä½¿ç”¨Charleså·¥å…·æŠ“å–åˆ°çš„HTTPSè¯·æ±‚ä»ç„¶æ˜¾ç¤ºä¸º<unknow>ï¼Œè¯´æ˜é…ç½®è¿˜æœ‰å…¶ä»–é—®é¢˜ã€‚</li><li>Proxy&gt;SSL Proxying Settings&gt;ç‚¹Includeåº•éƒ¨çš„Add&gt;Hostå’ŒPortéƒ½å¡«<code>*</code>&gt;OK&gt;é‡å¯Charlesã€‚</li><li>SSL Proxying Settingsè¿˜å…è®¸è®¾ç½®SSLè®¿é—®åœ°å€ï¼Œä¾‹å¦‚<code>*.com:443</code>ã€<code>*.cn:443</code>(è¿™ä¸¤è®¾ç½®å…è®¸è®¿é—®å¤§éƒ¨åˆ†åœ°å€)ç­‰ã€‚</li></ul></li></ul><p><img src="/../img/Charles/Charles@002.jpg" srcset="/img/load.gif" lazyload alt="Charleså®‰è£…-ä¿®æ”¹é…ç½®"></p><h2 id="1-3-Charlesç•Œé¢"><a href="#1-3-Charlesç•Œé¢" class="headerlink" title="1-3 Charlesç•Œé¢"></a>1-3 Charlesç•Œé¢</h2><ul><li>Charlesç•Œé¢<ul><li>èœå•æ ï¼šFileã€Editã€Viewã€Proxy(ç”¨å¾—å¤š)ã€Tools(ç”¨å¾—å¤š)ã€Windowã€Helpã€‚</li><li>å·¥å…·æ (ä»å·¦åˆ°å³ä¾æ¬¡)<ul><li>æ¸…é™¤ä¼šè¯ã€å¼€å§‹&#x2F;åœæ­¢æŠ“å–ä¼šè¯ã€å¼€å§‹&#x2F;åœæ­¢SSLä»£ç†ã€å¼€å§‹&#x2F;åœæ­¢é™æµã€å¼€å§‹&#x2F;åœæ­¢æ–­ç‚¹ã€‚</li><li>ä¾æ®æ‰€é€‰å†…å®¹ç¼–è¾‘æ–°è¯·æ±‚ã€é‡æ–°å‘é€ä¸€ä¸ªè¯·æ±‚ã€éªŒè¯ä¼šè¯ã€å·¥å…·ã€é…ç½®(Proxyé…ç½®ç­‰)ã€‚</li></ul></li><li>ä¸¤ç§è§†å›¾æ¨¡å¼<ul><li>Structureï¼šæ ‘çŠ¶ç»“æ„æ˜¾ç¤ºï¼Œå°†ç½‘ç»œè¯·æ±‚æŒ‰è®¿é—®çš„åŸŸååˆ†ç±»ã€‚</li><li>Sequenceï¼šæ°´å¹³ç»“æ„æ˜¾ç¤ºï¼Œå°†ç½‘ç»œè¯·æ±‚æŒ‰è®¿é—®çš„æ—¶é—´æ’åºï¼Œå¯ä¿®æ”¹ä¸ºç±»ä¼¼Fiddlerçš„å·¦å³è§†å›¾æ¨¡å¼ã€‚</li><li>ä¿®æ”¹ä¸ºå·¦å³è§†å›¾æ¨¡å¼æ“ä½œï¼šèœå•æ Edit&gt;Preferences&gt;Viewers&gt;Sequence view layouté€‰Tall&gt;OKã€‚</li></ul></li></ul></li></ul><h4 id="1-Structure"><a href="#1-Structure" class="headerlink" title="(1) Structure"></a>(1) Structure</h4><p><img src="/../img/Charles/Charles@003.jpg" srcset="/img/load.gif" lazyload alt="Charleså®‰è£…-Charlesç•Œé¢-Structure"></p><h4 id="2-Sequence"><a href="#2-Sequence" class="headerlink" title="(2) Sequence"></a>(2) Sequence</h4><p><img src="/../img/Charles/Charles@004.jpg" srcset="/img/load.gif" lazyload alt="Charleså®‰è£…-Charlesç•Œé¢-Sequence"></p><h4 id="3-Proxyèœå•"><a href="#3-Proxyèœå•" class="headerlink" title="(3) Proxyèœå•"></a>(3) Proxyèœå•</h4><ul><li>Recording Settings<ul><li>Optionsï¼šé€šè¿‡Recording Size Limité™åˆ¶è®°å½•æ•°æ®çš„å¤§å°ã€‚</li><li>Includeï¼šåªæœ‰ä¸é…ç½®åœ°å€ç›¸åŒ¹é…çš„è¯·æ±‚æ‰ä¼šè¢«å½•åˆ¶ã€‚</li><li>Excludeï¼šåªæœ‰ä¸é…ç½®åœ°å€ç›¸åŒ¹é…çš„è¯·æ±‚æ‰ä¸è¢«å½•åˆ¶ã€‚</li></ul></li><li>Throttle Settings<ul><li>åœ¨Start ThrottlingçŠ¶æ€ä¸‹ï¼Œå¯é€šè¿‡Throttle Settingsé…ç½®Charlesçš„ç½‘é€Ÿæ¨¡æ‹Ÿé…ç½®ã€‚</li><li>å‹¾é€‰Enable Throttlingå¯ç”¨ç½‘é€Ÿæ¨¡æ‹Ÿé…ç½®ï¼Œåœ¨Throttle Presetä¸‹é€‰æ‹©ç½‘ç»œç±»å‹å³å¯ã€‚</li></ul></li><li>Breakpoint Settings<ul><li>å‹¾é€‰Enable Breakpointså¯ç”¨æ–­ç‚¹æ¨¡å¼ï¼Œé€‰Addï¼Œå¡«å…¥éœ€ç›‘æ§çš„Schemeã€Procotolã€Hostç­‰ä¿¡æ¯ã€‚</li><li>å¯ä»¥ç”¨æ¥è§‚å¯Ÿå’Œä¿®æ”¹è¯·æ±‚å†…å®¹ï¼Œä»¥åŠå“åº”å†…å®¹ï¼Œä½†åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œéœ€è¦æ³¨æ„è¯·æ±‚çš„è¶…æ—¶æ—¶é—´é—®é¢˜ã€‚</li></ul></li><li>Web Interface Settingsï¼šå‹¾é€‰Enable web interfaceå¯ç”¨Webç•Œé¢ï¼Œå…è®¸åŒ¿åè®¿é—®ï¼Œä¹Ÿå¯é…ç½®ç”¨æˆ·åå’Œå¯†ç ã€‚</li></ul><p><img src="/../img/Charles/Charles@005.jpg" srcset="/img/load.gif" lazyload alt="Charleså®‰è£…-Charlesç•Œé¢-Proxyèœå•"></p><h4 id="4-Toolsèœå•"><a href="#4-Toolsèœå•" class="headerlink" title="(4) Toolsèœå•"></a>(4) Toolsèœå•</h4><p><img src="/../img/Charles/Charles@006.jpg" srcset="/img/load.gif" lazyload alt="Charleså®‰è£…-Charlesç•Œé¢-Toolsèœå•"></p><h1 id="2-è¿‡æ»¤ç½‘ç»œè¯·æ±‚"><a href="#2-è¿‡æ»¤ç½‘ç»œè¯·æ±‚" class="headerlink" title="2 è¿‡æ»¤ç½‘ç»œè¯·æ±‚"></a>2 è¿‡æ»¤ç½‘ç»œè¯·æ±‚</h1><ul><li>è¿‡æ»¤ç½‘ç»œè¯·æ±‚<ul><li>é€šå¸¸æƒ…å†µä¸‹ï¼Œéœ€è¦å¯¹ç½‘ç»œè¯·æ±‚è¿›è¡Œè¿‡æ»¤ï¼Œåªç›‘æ§å‘æŒ‡å®šç›®å½•æœåŠ¡å™¨ä¸Šå‘é€çš„è¯·æ±‚ã€‚</li><li>Focusè¿‡æ»¤ï¼šåœ¨å·²ç»æ•æ‰åˆ°çš„ä¼šè¯åˆ—è¡¨ä¸­ï¼Œé€‰ä¸­æƒ³è¿‡æ»¤çš„ç½‘ç»œè¯·æ±‚ï¼Œå³å‡»é€‰Focusã€‚</li><li>Filterè¿‡æ»¤ï¼šåœ¨Filteræ ä¸­å¡«å…¥éœ€è¦è¿‡æ»¤å‡ºæ¥çš„å…³é”®å­—ï¼Œä¾‹å¦‚æœåŠ¡å™¨çš„åœ°å€æ˜¯<a href="https://www.csdn.net/">https://www.csdn.net/</a>ï¼Œå¡«å…¥csdnã€‚</li><li>æ•æ‰ä¼šè¯è®¾ç½®ï¼šèœå•æ Proxy&gt;Recording Settings&gt;Include&gt;Add&gt;Protocolä¸ºhttpsï¼ŒHostä¸º<a href="www.csdn.net">www.csdn.net</a>&gt;OKã€‚</li></ul></li></ul><h2 id="2-1-Focusè¿‡æ»¤"><a href="#2-1-Focusè¿‡æ»¤" class="headerlink" title="2-1 Focusè¿‡æ»¤"></a>2-1 Focusè¿‡æ»¤</h2><p><img src="/../img/Charles/Charles@007.jpg" srcset="/img/load.gif" lazyload alt="è¿‡æ»¤ç½‘ç»œè¯·æ±‚-Focusè¿‡æ»¤"></p><h2 id="2-2-Filterè¿‡æ»¤"><a href="#2-2-Filterè¿‡æ»¤" class="headerlink" title="2-2 Filterè¿‡æ»¤"></a>2-2 Filterè¿‡æ»¤</h2><p><img src="/../img/Charles/Charles@008.jpg" srcset="/img/load.gif" lazyload alt="è¿‡æ»¤ç½‘ç»œè¯·æ±‚-Filterè¿‡æ»¤"></p><h2 id="2-3-æ•æ‰ä¼šè¯è®¾ç½®"><a href="#2-3-æ•æ‰ä¼šè¯è®¾ç½®" class="headerlink" title="2-3 æ•æ‰ä¼šè¯è®¾ç½®"></a>2-3 æ•æ‰ä¼šè¯è®¾ç½®</h2><p><img src="/../img/Charles/Charles@009.jpg" srcset="/img/load.gif" lazyload alt="è¿‡æ»¤ç½‘ç»œè¯·æ±‚-æ•æ‰ä¼šè¯è®¾ç½®"></p><h1 id="3-æ¨¡æ‹Ÿæ…¢é€Ÿç½‘ç»œ"><a href="#3-æ¨¡æ‹Ÿæ…¢é€Ÿç½‘ç»œ" class="headerlink" title="3 æ¨¡æ‹Ÿæ…¢é€Ÿç½‘ç»œ"></a>3 æ¨¡æ‹Ÿæ…¢é€Ÿç½‘ç»œ</h1><ul><li>æ¨¡æ‹Ÿæ…¢é€Ÿç½‘ç»œ<ul><li>å¼€å‘æ—¶å¸¸éœ€è¦æ¨¡æ‹Ÿæ…¢é€Ÿç½‘ç»œæˆ–é«˜å»¶è¿Ÿç½‘ç»œï¼Œä»¥æµ‹è¯•åœ¨ç§»åŠ¨ç½‘ç»œä¸‹åº”ç”¨çš„è¡¨ç°æ˜¯å¦æ­£å¸¸ã€‚</li><li>é…ç½®ï¼šProxy&gt;Throttle Settings&gt;å‹¾é€‰Enable Throttling&gt;è®¾ç½®Throttle Presetçš„ç±»å‹ã€‚</li><li>å®Œæˆé…ç½®åï¼Œå¯é€šè¿‡Proxy&gt;Start Throttlingæˆ–å¿«æ·é”®Ctrl+Tï¼Œæ¥å¯ç”¨æˆ–åœæ­¢æ¨¡æ‹Ÿæ“ä½œã€‚</li><li>å…³äºï¼š<a href="https://blog.csdn.net/mao834099514/article/details/79456881">2Gã€3Gã€4Gç½‘ç»œåˆ¶å¼ä¸Šä¸‹è¡Œé¢‘ç‡ã€é€Ÿç‡æ¯”è¾ƒ</a>ã€‚</li></ul></li></ul><p><img src="/../img/Charles/Charles@010.jpg" srcset="/img/load.gif" lazyload alt="æ¨¡æ‹Ÿæ…¢é€Ÿç½‘ç»œ"></p><h1 id="4-ä¿®æ”¹è¿”å›å†…å®¹"><a href="#4-ä¿®æ”¹è¿”å›å†…å®¹" class="headerlink" title="4 ä¿®æ”¹è¿”å›å†…å®¹"></a>4 ä¿®æ”¹è¿”å›å†…å®¹</h1><ul><li>ä¿®æ”¹è¿”å›å†…å®¹<ul><li>è®©æœåŠ¡å™¨è¿”å›æŒ‡å®šå†…å®¹ï¼Œæ–¹ä¾¿è°ƒè¯•ï¼Œä¾‹å¦‚åˆ—è¡¨é¡µé¢ä¸ºç©ºã€æ•°æ®å¼‚å¸¸ã€éƒ¨åˆ†è€—æ—¶çš„ç½‘ç»œè¯·æ±‚è¶…æ—¶ç­‰ã€‚</li><li>Charlesæä¾›äº†Mapã€Rewriteä»¥åŠBreakpointsåŠŸèƒ½ï¼Œéƒ½å¯ä»¥è¾¾åˆ°ä¿®æ”¹æœåŠ¡å™¨è¿”å›æŒ‡å®šå†…å®¹çš„ç›®çš„ã€‚<ul><li>Breakpointsï¼šæ–­ç‚¹åŠŸèƒ½ï¼Œé€‚åˆåšä¸€äº›ä¸´æ—¶æ€§çš„ä¿®æ”¹ã€‚</li><li>Rewriteï¼šé‡å†™åŠŸèƒ½ï¼Œé€‚åˆå¯¹ç½‘ç»œè¯·æ±‚è¿›è¡Œä¸€äº›æ‰¹é‡å’Œé•¿æœŸçš„æ­£åˆ™æ›¿æ¢ã€‚</li><li>Mapï¼šé‡å®šå‘åŠŸèƒ½ï¼Œé€‚åˆé•¿æœŸåœ°å°†æŸä¸€äº›è¯·æ±‚é‡å®šå‘åˆ°å¦ä¸€ä¸ªç½‘ç»œåœ°å€æˆ–æœ¬åœ°æ–‡ä»¶ã€‚</li></ul></li></ul></li></ul><h2 id="4-1-æ–­ç‚¹åŠŸèƒ½"><a href="#4-1-æ–­ç‚¹åŠŸèƒ½" class="headerlink" title="4-1 æ–­ç‚¹åŠŸèƒ½"></a>4-1 æ–­ç‚¹åŠŸèƒ½</h2><ul><li>æ–­ç‚¹åŠŸèƒ½<ul><li>ä¼šè¯åˆ—è¡¨ä¸­å³é”®ç‚¹å‡»æŸä¼šè¯ï¼Œä¾‹å¦‚ï¼š<code>https://www.baidu.com</code>è·¯å¾„ä¸‹çš„<code>content-search.xml</code>ï¼Œç„¶åé€‰Breakpointsã€‚</li><li>Proxy&gt;Breakpoints Settingsä¸­æ–­ç‚¹è®¾ç½®å®Œæˆï¼Œæ‰“å¼€æµè§ˆå™¨é‡æ–°è®¿é—®ç™¾åº¦ï¼ŒCharlesä¸­å°†å¼¹çª—ä¸€ä¸ªBreakpointsæ–­ç‚¹çª—å£ã€‚</li></ul></li></ul><p><img src="/../img/Charles/Charles@011.jpg" srcset="/img/load.gif" lazyload alt="ä¿®æ”¹è¿”å›å†…å®¹-æ–­ç‚¹åŠŸèƒ½"></p><h2 id="4-2-é‡å†™åŠŸèƒ½"><a href="#4-2-é‡å†™åŠŸèƒ½" class="headerlink" title="4-2 é‡å†™åŠŸèƒ½"></a>4-2 é‡å†™åŠŸèƒ½</h2><ul><li>é‡å†™åŠŸèƒ½<ul><li>ä¾‹å¦‚ï¼šç™¾åº¦è¯·æ±‚è·å–åˆ°å¸¦â€œç™¾åº¦æœç´¢â€å­—æ ·çš„è¿”å›ç»“æœï¼Œé‡å†™è®¾ç½®æ”¹æˆäº†â€œé‡å†™æµ‹è¯•â€ã€‚</li><li>å½“æµè§ˆå™¨å†æ¬¡è¯·æ±‚ç™¾åº¦é¡µé¢æ—¶ï¼Œè·å–åˆ°çš„è¿”å›ç»“æœå°±æ˜¯å¸¦â€œé‡å†™æµ‹è¯•â€å­—æ ·çš„è¿”å›ç»“æœã€‚</li><li>Tools&gt;Rewrite Settings&gt;å‹¾é€‰Enable Rewrite&gt;å·¦ä¾§Add&gt;Nameå¡«ç™¾åº¦æœç´¢&gt;å³ä¸‹è§’Add&gt;å¡«å†™Rewrite Rule&gt;OKã€‚</li></ul></li></ul><p><img src="/../img/Charles/Charles@012.jpg" srcset="/img/load.gif" lazyload alt="ä¿®æ”¹è¿”å›å†…å®¹-é‡å†™åŠŸèƒ½"></p><h2 id="4-3-é‡å®šå‘åŠŸèƒ½"><a href="#4-3-é‡å®šå‘åŠŸèƒ½" class="headerlink" title="4-3 é‡å®šå‘åŠŸèƒ½"></a>4-3 é‡å®šå‘åŠŸèƒ½</h2><ul><li>é‡å®šå‘åŠŸèƒ½<ul><li>Map Localï¼šé‡å®šå‘åˆ°æœ¬åœ°æ–‡ä»¶ä¸­ï¼ŒTools&gt;Map Local Settings&gt;Enable Map Local&gt;Add&gt;Edit Mapping&gt;OKã€‚</li><li>Map Remoteï¼šé‡å®šå‘åˆ°å¦ä¸€ç½‘ç»œï¼ŒTools&gt;Map Remote Settings&gt;Enable Map Remote&gt;Add&gt;Edit Mapping&gt;OKã€‚</li></ul></li></ul><h4 id="1-Local"><a href="#1-Local" class="headerlink" title="(1) Local"></a>(1) Local</h4><p><img src="/../img/Charles/Charles@013.jpg" srcset="/img/load.gif" lazyload alt="ä¿®æ”¹è¿”å›å†…å®¹-é‡å®šå‘åŠŸèƒ½-Local"></p><h4 id="2-Remote"><a href="#2-Remote" class="headerlink" title="(2) Remote"></a>(2) Remote</h4><p><img src="/../img/Charles/Charles@014.jpg" srcset="/img/load.gif" lazyload alt="ä¿®æ”¹è¿”å›å†…å®¹-é‡å®šå‘åŠŸèƒ½-Remote"></p><h1 id="5-Toolsä¸­çš„é…ç½®"><a href="#5-Toolsä¸­çš„é…ç½®" class="headerlink" title="5 Toolsä¸­çš„é…ç½®"></a>5 Toolsä¸­çš„é…ç½®</h1><ul><li>Toolsä¸­çš„é…ç½®<ul><li>é»‘åå•çš„é…ç½®<ul><li>ä¸æƒ³æŸäº›è¯·æ±‚å‘èµ·ï¼Œç›´æ¥è¿”å›æ— æ³•è®¿é—®ï¼Œå¯ä»¥ä½¿ç”¨é»‘åå•é…ç½®ï¼Œä¾‹å¦‚è®¿é—®ç™¾åº¦æ“ä½œã€‚</li><li>Tools&gt;Block List Settings&gt;å‹¾é€‰Enable Block List&gt;Add&gt;å¡«å†™Edit Location&gt;OKã€‚</li></ul></li><li>ç¼“å­˜è¿”å›æ•°æ®<ul><li>å¤šç”¨äºAPPæ•°æ®ç¼“å­˜ï¼Œåœ¨æ²¡æœ‰Serveræƒ…å†µä¸‹ç¨‹åºä¹Ÿèƒ½è¿è¡Œï¼ŒCharlesèœå•æ Tools&gt;Mirror Settingsã€‚</li><li>å‹¾é€‰Enable Mirrorå’ŒOnly for selected locations&gt;Save toè·¯å¾„é€‰æ‹©&gt;Add&gt;å¡«å†™Edit Location&gt;OKã€‚</li></ul></li><li>ä¿®æ”¹è¯·æ±‚åœ°å€<ul><li>å³DNSæ¬ºéª—è®¾ç½®ï¼ŒæŠŠåŸŸåè§£æåˆ°ä¸€ä¸ªå‡çš„IPä¸Šï¼Œä¸ä¸€å®šè¦ä½¿ç”¨locahostï¼Œæˆ–è€…127.0.0.1ã€‚</li><li>Tools&gt;DNS Spoofing Settings&gt;Enable DNS Spoofing&gt;Add&gt;å¡«å†™Edit DNS Spoof&gt;OKã€‚</li></ul></li></ul></li></ul><h2 id="5-1-é»‘åå•çš„é…ç½®"><a href="#5-1-é»‘åå•çš„é…ç½®" class="headerlink" title="5-1 é»‘åå•çš„é…ç½®"></a>5-1 é»‘åå•çš„é…ç½®</h2><p><img src="/../img/Charles/Charles@015.jpg" srcset="/img/load.gif" lazyload alt="Toolsä¸­çš„é…ç½®-é»‘åå•çš„é…ç½®"></p><h2 id="5-2-ç¼“å­˜è¿”å›æ•°æ®"><a href="#5-2-ç¼“å­˜è¿”å›æ•°æ®" class="headerlink" title="5-2 ç¼“å­˜è¿”å›æ•°æ®"></a>5-2 ç¼“å­˜è¿”å›æ•°æ®</h2><p><img src="/../img/Charles/Charles@016.jpg" srcset="/img/load.gif" lazyload alt="Toolsä¸­çš„é…ç½®-ç¼“å­˜è¿”å›æ•°æ®"></p><h2 id="5-3-ä¿®æ”¹è¯·æ±‚åœ°å€"><a href="#5-3-ä¿®æ”¹è¯·æ±‚åœ°å€" class="headerlink" title="5-3 ä¿®æ”¹è¯·æ±‚åœ°å€"></a>5-3 ä¿®æ”¹è¯·æ±‚åœ°å€</h2><p><img src="/../img/Charles/Charles@017.jpg" srcset="/img/load.gif" lazyload alt="Toolsä¸­çš„é…ç½®-ä¿®æ”¹è¯·æ±‚åœ°å€"></p><h1 id="6-PCä¸ç§»åŠ¨ç«¯æŠ“åŒ…"><a href="#6-PCä¸ç§»åŠ¨ç«¯æŠ“åŒ…" class="headerlink" title="6 PCä¸ç§»åŠ¨ç«¯æŠ“åŒ…"></a>6 PCä¸ç§»åŠ¨ç«¯æŠ“åŒ…</h1><ul><li>PCä¸ç§»åŠ¨ç«¯æŠ“åŒ…<ul><li>PCç«¯ï¼šç¡®ä¿Charleså¤„äºStart RecordingçŠ¶æ€ï¼Œå‹¾é€‰Proxy&gt;Windows Prcsoxyã€‚</li><li>ç§»åŠ¨ç«¯ï¼šé€šè¿‡æŠŠç½‘ç»œå§”æ‰˜ç»™Charleså·¥å…·è¿›è¡Œä»£ç†ï¼Œä¸æœåŠ¡ç«¯å¯¹è¯ã€‚<ul><li>æ‰‹æœºå’Œç”µè„‘éœ€åœ¨ä¸€ä¸ªå±€åŸŸç½‘å†…ï¼Œä¸ä¸€å®šéè¦åŒä¸ªIPæ®µï¼Œåªè¦æ˜¯åœ¨åŒä¸€ä¸ªè·¯ç”±å™¨ä¸‹å³å¯ã€‚</li><li>ç”µè„‘ç«¯è®¾ç½®<ul><li>ç¡®ä¿ç”µè„‘é˜²ç«å¢™å·²ç»å…³é—­ï¼Œå¦‚æœä¸æŠ“å–ç”µè„‘ä¸Šçš„è¯·æ±‚ï¼Œå¯ä»¥å–æ¶ˆå‹¾é€‰Proxy&gt;Windows Proxyã€‚</li><li>ä»£ç†è®¾ç½®ï¼šProxy&gt;Proxy Settings&gt;Porté»˜è®¤8888ï¼Œå‹¾é€‰Enable transparent HTTP proxyingã€‚</li></ul></li><li>ç§»åŠ¨ç«¯è®¾ç½®<ul><li>Help&gt;SSL Proxying&gt;Install Charles Root Certificate on a Mobile Device or Remote Browserã€‚</li><li>æ‰‹æœºWiFiçš„ä»£ç†è®¾ç½®ï¼šè¿æ¥çš„WiFiè®¾ä¸ºæ‰‹åŠ¨ä»£ç†ï¼Œè¾“å…¥ä¸»æœºå(ç”µè„‘IP)å’Œç«¯å£(é»˜è®¤å¡«å†™8888)ã€‚</li><li>å¦‚æœæ˜¯IOSï¼Œåˆ™åœ¨æ‰‹æœºä¸­æ‰“å¼€æµè§ˆå™¨ï¼Œåœ°å€æ è¾“å…¥â€œchls.pro&#x2F;sslâ€ä¸‹è½½è¯ä¹¦ï¼Œå†è¿›è¡Œè¯ä¹¦çš„å®‰è£…ã€‚</li><li>å¦‚æœæ˜¯å®‰å“ï¼Œé‚£ä¹ˆç›´æ¥ç­‰å¾…Charlesé¡µé¢å¼¹çª—ï¼Œæç¤ºå…è®¸ä»£ç†çš„æ“ä½œï¼Œå†ç‚¹å‡»AllowæŒ‰é’®å°±å¯ä»¥äº†ã€‚</li><li>å¦‚æœä¸å°å¿ƒç‚¹äº†DenyæŒ‰é’®ï¼Œåˆ™Proxy&gt;Access Control Settings&gt;åœ¨IP Rangeä¸­Addæ‰‹æœºçš„IP&gt;OKã€‚</li></ul></li></ul></li></ul></li></ul><h2 id="6-1-ä»£ç†è®¾ç½®"><a href="#6-1-ä»£ç†è®¾ç½®" class="headerlink" title="6-1 ä»£ç†è®¾ç½®"></a>6-1 ä»£ç†è®¾ç½®</h2><p><img src="/../img/Charles/Charles@018.jpg" srcset="/img/load.gif" lazyload alt="PCä¸ç§»åŠ¨ç«¯æŠ“åŒ…-ä»£ç†è®¾ç½®"></p><h2 id="6-2-å®‰è£…è¯ä¹¦"><a href="#6-2-å®‰è£…è¯ä¹¦" class="headerlink" title="6-2 å®‰è£…è¯ä¹¦"></a>6-2 å®‰è£…è¯ä¹¦</h2><p><img src="/../img/Charles/Charles@019.jpg" srcset="/img/load.gif" lazyload alt="PCä¸ç§»åŠ¨ç«¯æŠ“åŒ…-å®‰è£…è¯ä¹¦"></p>]]></content>
    
    
    <categories>
      
      <category>æµ‹è¯•å·¥å…·</category>
      
      <category>Charles</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æµ‹è¯•å·¥å…·</tag>
      
      <tag>Charles</tag>
      
      <tag>HTTPä»£ç†æœåŠ¡å™¨</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Fiddler é¢æ¿</title>
    <link href="/2022/03/02/ce-shi-gong-ju/tt02-fiddler/tt02-01-fiddler-mian-ban/"/>
    <url>/2022/03/02/ce-shi-gong-ju/tt02-fiddler/tt02-01-fiddler-mian-ban/</url>
    
    <content type="html"><![CDATA[<p>Fiddleræ˜¯ä¸€ä¸ªHTTPçš„è°ƒè¯•ä»£ç†å·¥å…·ï¼Œä»¥ä»£ç†æœåŠ¡å™¨çš„æ–¹å¼ï¼Œç›‘å¬ç³»ç»Ÿçš„HTTPç½‘ç»œæ•°æ®æµåŠ¨ï¼Œè¿˜èƒ½è®¾ç½®æ–­ç‚¹ï¼Œç”¨äºæŠ“åŒ…ã€‚</p><span id="more"></span><h1 id="1-Fiddler"><a href="#1-Fiddler" class="headerlink" title="1 Fiddler"></a>1 Fiddler</h1><ul><li>Fiddler<ul><li>å®˜ç½‘åœ°å€ï¼š<a href="https://www.telerik.com/fiddler">https://www.telerik.com/fiddler</a>ã€‚</li><li>å…è´¹ç‰ˆæœ¬ï¼š<a href="https://blog.csdn.net/g_optimistic/article/details/89931109">https://blog.csdn.net/g_optimistic&#x2F;article&#x2F;details&#x2F;89931109</a>ã€‚</li><li>ä¸»è¦ç‰¹å¾<ul><li>ç³»ç»Ÿæµé‡æ•è·ã€é¢„é…ç½®æµè§ˆå™¨æ•è·ã€æµé‡åˆ†æã€ç°ä»£HTTPç‰ˆæœ¬æ”¯æŒã€æ¨¡æ‹Ÿè¯·æ±‚å’Œå“åº”ã€‚</li><li>APIç¼–å†™ã€å®‰å…¨åä½œã€è·¨å¹³å°æ”¯æŒã€æ ·å¼é€‰é¡¹(æä¾›ç°ä»£ã€ç›´è§‚çš„UIå’Œä¸€ç»„æµè¡Œçš„ä¸»é¢˜)ã€‚</li></ul></li><li>ä¸»é¡µè¯´æ˜<ul><li>èœå•æ ï¼šFileã€Editã€Rulesã€Toolsã€Viewã€Helpã€‚</li><li>å·¥å…·é¢æ¿ï¼šWinConfigã€Replayã€Goã€Streamã€Decodeã€Findã€Saveã€Browseã€Clear Cacheç­‰å¿«æ·æŒ‰é’®ã€‚</li><li>ä¼šè¯é¢æ¿ï¼šå±•ç¤ºæ•è·åˆ°çš„æ‰€æœ‰ä¼šè¯ï¼Œå…¶ä¸­åŒ…æ‹¬äº†sessionsçš„çŠ¶æ€ç ã€åè®®Protocolã€Hostä¸»æœºã€URLåœ°å€ç­‰ã€‚</li><li>ç›‘æ§é¢æ¿ï¼šæä¾›Statisticsã€Inspectorsã€AutoResponderç­‰å¤šä¸ªé€‰é¡¹å¡ï¼Œé€šè¿‡ä¸åŒçš„é€‰é¡¹å¡æ“ä½œæ•è·çš„ä¼šè¯ã€‚</li><li>çŠ¶æ€é¢æ¿ï¼šCapturing(å¯ç”¨ç¦ç”¨æŠ“åŒ…)ã€All Processes(å½“å‰æ­£åœ¨æ•è·çš„è¿›ç¨‹)ã€Number of sessions(ä¼šè¯æ•°)ç­‰ã€‚</li><li>å‘½ä»¤è¾“å…¥æ ï¼šå¯ä»¥ç»“åˆæ­£åˆ™è¡¨è¾¾å¼ï¼Œè¾“å…¥ä¸€äº›å‘½ä»¤å¿«é€Ÿè¿‡æ»¤ä¼šè¯åˆ—è¡¨ã€‚</li></ul></li></ul></li></ul><p><img src="/../img/Fiddler/Fiddler@001.png" srcset="/img/load.gif" lazyload alt="Fiddler-ä¸»é¡µè¯´æ˜"></p><h2 id="1-1-å·¥ä½œåŸç†"><a href="#1-1-å·¥ä½œåŸç†" class="headerlink" title="1-1 å·¥ä½œåŸç†"></a>1-1 å·¥ä½œåŸç†</h2><ul><li>å·¥ä½œåŸç†<ul><li>Fiddleræœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªWebä»£ç†æœåŠ¡å™¨ï¼Œé»˜è®¤çš„å·¥ä½œç«¯å£æ˜¯8888ï¼ŒæŸ¥çœ‹æ–¹å¼å¦‚ä¸‹ã€‚</li><li>èœå•æ -&gt;Tools-&gt;Options-&gt;Connections-&gt;Fiddler listens on port-&gt;8888ã€‚</li><li>Webä»£ç†æœåŠ¡å™¨(Proxy Server)æ˜¯ç½‘ç»œçš„ä¸­é—´å®ä½“ï¼Œä½äºWebå®¢æˆ·ç«¯å’ŒWebæœåŠ¡å™¨ä¹‹é—´ï¼Œæ‰®æ¼”ä¸­é—´äººçš„è§’è‰²ã€‚</li><li>HTTPçš„ä»£ç†æœåŠ¡å™¨å³å¯ä½œä¸ºWebæœåŠ¡å™¨ä¸ºå®¢æˆ·ç«¯æä¾›æœåŠ¡ï¼Œåˆå¯ä½œä¸ºWebå®¢æˆ·ç«¯ï¼Œå‘å…¶ä»–æœåŠ¡å™¨è¯·æ±‚æ•°æ®ã€‚</li><li>ä»£ç†æœåŠ¡å™¨çš„ä½œç”¨ï¼šå…±äº«ç½‘ç»œã€æé«˜è®¿é—®é€Ÿåº¦(æœ‰ç¼“å­˜åŠŸèƒ½)ã€çªç ´è®¿é—®é™åˆ¶ã€éšè—èº«ä»½ã€‚</li><li>æ‰“å¼€Fiddleråï¼Œä¼šè‡ªåŠ¨è®¾ç½®ä»£ç†ï¼Œå…³é—­åˆ™è‡ªåŠ¨æ³¨é”€ä»£ç†ï¼Œè¿™æ ·å°±ä¸ä¼šå½±å“åˆ°å…¶ä»–ç¨‹åºçš„è¿è¡Œäº†ã€‚</li><li>éæ­£å¸¸é€€å‡ºæ—¶ä¸ä¼šè‡ªåŠ¨æ³¨é”€ä»£ç†ï¼Œå®¹æ˜“é€ æˆç½‘é¡µæ— æ³•è®¿é—®çš„æƒ…å†µï¼Œå¯é€šè¿‡é‡å¯Fiddlerè§£å†³é—®é¢˜ã€‚</li><li>æŠ“åŒ…åŸç†<ul><li>ç±»ä¼¼äºå¿«é€’ä»£æ”¶ç‚¹ï¼Œå¿«é€’å‘˜å°†å¿«é€’æ”¾åˆ°ä»£æ”¶ç‚¹ã€‚</li><li>å¦‚æœå¿«é€’æ²¡æœ‰ä½¿ç”¨èƒ¶å¸¦ç­‰å°å£ï¼Œé‚£ä¹ˆä»£æ”¶ç‚¹å¯ä»¥ä»»æ„æŸ¥çœ‹ã€æ›¿æ¢å¿«é€’ä¸­çš„ç‰©å“ï¼Œç±»ä¼¼äºHTTPã€‚</li><li>å¦‚æœå¿«é€’ä½¿ç”¨èƒ¶å¸¦ç­‰å°äº†å£ï¼Œé‚£ä¹ˆä»£æ”¶ç‚¹å°±ä¸èƒ½éšæ„æŸ¥çœ‹ã€æ›¿æ¢å¿«é€’ä¸­çš„ç‰©å“ï¼Œç±»ä¼¼äºHTTPSã€‚</li></ul></li></ul></li></ul><p><img src="/../img/Fiddler/Fiddler@002.png" srcset="/img/load.gif" lazyload alt="Fiddler-å·¥ä½œåŸç†-é»˜è®¤ç«¯å£"></p><h2 id="1-2-å¿«é€ŸæŠ“åŒ…"><a href="#1-2-å¿«é€ŸæŠ“åŒ…" class="headerlink" title="1-2 å¿«é€ŸæŠ“åŒ…"></a>1-2 å¿«é€ŸæŠ“åŒ…</h2><ul><li>å¿«é€ŸæŠ“åŒ…<ul><li>è‹¥Fiddleræ²¡æœ‰æŠ“åˆ°æƒ³è¦çš„åŒ…ï¼Œé€ä¸€æ’æŸ¥ä»¥ä¸‹å†…å®¹ã€‚</li><li>æ£€æŸ¥æ˜¯å¦å¼€å¯æŠ“åŒ…æ¨¡å¼ï¼Œä¸»é¡µå·¦ä¸‹è§’æ˜¯å¦æœ‰Capturingå›¾æ ‡ï¼Œæœ‰åˆ™å¤„äºæŠ“åŒ…ä¸­ï¼Œæ²¡æœ‰åˆ™ç‚¹å‡»ä¸€ä¸‹å¼€å¯æŠ“åŒ…ã€‚</li><li>æ£€æŸ¥è®¿é—®æœ¬åœ°æ­å»ºçš„é™æ€ç½‘ç«™åœ°å€ï¼Œæ˜¯å¦ä½¿ç”¨äº†å›è·¯åœ°å€localhostæˆ–127.0.0.1ï¼Œå¦‚æœæ˜¯åˆ™ä¸èƒ½æˆåŠŸæŠ“åŒ…ã€‚<ul><li>æ§åˆ¶é¢æ¿-&gt;Interneté€‰é¡¹-&gt;è¿æ¥-&gt;å±€åŸŸç½‘è®¾ç½®-&gt;ä»£ç†æœåŠ¡å™¨çš„é«˜çº§-&gt;ä¾‹å¤–é»˜è®¤è®¾ä¸º<code>&lt;-loopback&gt;</code>ã€‚</li><li>è¯´æ˜åœ¨é»˜è®¤çš„ä»£ç†è®¾ç½®ä¸­ï¼Œå›è·¯åœ°å€localhostæˆ–127.0.0.1è¢«æ’é™¤äº†ã€‚</li><li>ä½†è‹¥æ­å»ºçš„é™æ€ç½‘ç«™æŒ‡å®šäº†ç«¯å£ï¼ŒFiddlerçš„é»˜è®¤è®¾ç½®ä¸­å¯èƒ½å¹¶æœªæ’é™¤æŒ‡å®šç«¯å£çš„æµé‡ï¼Œå› æ­¤å¯æ­£å¸¸æŠ“åŒ…ã€‚</li></ul></li><li>å¦‚æœè¿˜æ˜¯ä¸èƒ½æ­£å¸¸æŠ“åŒ…ï¼Œæ›´æ¢ä¸åŒçš„æµè§ˆå™¨è¯•ä¸‹ã€‚</li></ul></li></ul><p><img src="/../img/Fiddler/Fiddler@003.png" srcset="/img/load.gif" lazyload alt="Fiddler-å¿«é€ŸæŠ“åŒ…"></p><h2 id="1-3-HTTPåè®®"><a href="#1-3-HTTPåè®®" class="headerlink" title="1-3 HTTPåè®®"></a>1-3 HTTPåè®®</h2><ul><li>HTTPåè®®<ul><li>è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼ŒHyper Text Transfer Protocolï¼Œä¸€ä¸ªç®€å•çš„è¯·æ±‚å“åº”åè®®ï¼ŒåŸºäºTCP&#x2F;IPåè®®æ ˆçš„åº”ç”¨å±‚åè®®ã€‚</li><li>å‘å±•å†å²ï¼š0.9ç‰ˆæœ¬(äº¤æ¢ä¿¡æ¯çš„æ— åºåè®®)-&gt;1.0ç‰ˆæœ¬(1982å¹´)-&gt;1.1ç‰ˆæœ¬(è§„å®šäº†è¿æ¥æ–¹å¼å’Œç±»å‹)-&gt;2.0ç‰ˆæœ¬ã€‚</li></ul></li></ul><h4 id="1-è¯·æ±‚æŠ¥æ–‡"><a href="#1-è¯·æ±‚æŠ¥æ–‡" class="headerlink" title="(1) è¯·æ±‚æŠ¥æ–‡"></a>(1) è¯·æ±‚æŠ¥æ–‡</h4><ul><li>HTTPçš„è¯·æ±‚æŠ¥æ–‡æ˜¯æŒ‡ä»å®¢æˆ·ç«¯å‘é€ç»™æœåŠ¡å™¨çš„æŠ¥æ–‡ã€‚</li><li>ç»„æˆ<ul><li>è¯·æ±‚è¡Œï¼šè¯·æ±‚æ–¹æ³• + ç©ºæ ¼ + è¯·æ±‚URL + ç©ºæ ¼ + HTTPåè®®ç‰ˆæœ¬ã€‚<ul><li>è¯·æ±‚æ–¹æ³•ï¼šæä¾›å¤šç§æ–¹æ³•(GETã€POSTã€PUTã€DELETEã€HEADã€OPTIONSã€TRACEã€CONNECTç­‰)ã€‚</li><li>è¯·æ±‚URLï¼šç”¨æ¥å‘ŠçŸ¥æœåŠ¡å™¨éœ€è¦è·å–çš„èµ„æºï¼Œä¾‹å¦‚â€œ<a href="http://detectportal.firefox.com/canonical.html">http://detectportal.firefox.com/canonical.html</a>â€ã€‚</li><li>HTTPåè®®ç‰ˆæœ¬ï¼šç”¨æ¥å‘ŠçŸ¥æœåŠ¡å™¨ï¼Œé‡‡ç”¨çš„HTTPåè®®ç‰ˆæœ¬ï¼Œä¾‹å¦‚â€œHTTP&#x2F;1.1â€ã€‚</li></ul></li><li>è¯·æ±‚å¤´ï¼šç”¨äºä¸æœåŠ¡å™¨è¿›è¡Œé€šä¿¡ã€åå•†ï¼Œæ ¼å¼ä¸º<code>key: value</code>ã€‚<ul><li>Acceptï¼šè¯·æ±‚å¤´æŒ‡å®šå®¢æˆ·ç«¯å¯ä»¥æ¥æ”¶åˆ°çš„æ¶ˆæ¯å†…å®¹ï¼Œä¾‹å¦‚<code>Accept: text/plain</code>ã€‚</li><li>Accept-Languageï¼šè¯·æ±‚å¤´æµè§ˆå™¨å¯æ¥å—è¯­è¨€ï¼Œä¾‹å¦‚<code>Accept-Language: en, zh</code>ã€‚</li><li>User-Agentï¼šç”¨æ¥æ ‡è¯†å‘èµ·è¯·æ±‚çš„å®¢æˆ·ç«¯(æµè§ˆå™¨ã€åº”ç”¨ç¨‹åºã€çˆ¬è™«ç­‰)èº«ä»½ä¿¡æ¯ã€‚</li><li>Content-Typeï¼šåª’ä½“ç±»å‹ï¼Œå³æ•°æ®æ ¼å¼ï¼Œå¸¸è§application&#x2F;jsonã€multipart&#x2F;form-dataç­‰ã€‚</li><li>Accept-Charsetï¼šè¯·æ±‚å¤´æŒ‡å®šæµè§ˆå™¨å¯æ¥å—çš„å­—ç¬¦ç¼–ç ï¼Œä¾‹å¦‚<code>Accept-Charset: utf-8</code>ã€‚</li></ul></li><li>ç©ºè¡Œï¼šè¯·æ±‚å¤´çš„æœ€åä¸€è¡Œï¼Œè¡¨ç¤ºè¯·æ±‚å¤´ç»“æŸï¼Œæ¥ä¸‹æ¥ä¸ºè¯·æ±‚æ•°æ®ã€‚</li><li>è¯·æ±‚ä½“ï¼šGETå’ŒDELETEæ–¹æ³•æ²¡æœ‰è¯·æ±‚ä½“ï¼ŒPOSTå’ŒPUTæ–¹æ³•æœ‰è¯·æ±‚ä½“ï¼Œæ•°æ®å—Content-Typeå€¼çš„å½±å“ã€‚</li></ul></li></ul><p><img src="/../img/Fiddler/Fiddler@004.png" srcset="/img/load.gif" lazyload alt="Fiddler-HTTPåè®®-è¯·æ±‚æŠ¥æ–‡"></p><h4 id="2-å“åº”æŠ¥æ–‡"><a href="#2-å“åº”æŠ¥æ–‡" class="headerlink" title="(2) å“åº”æŠ¥æ–‡"></a>(2) å“åº”æŠ¥æ–‡</h4><ul><li>HTTPçš„å“åº”æŠ¥æ–‡æ˜¯æŒ‡å®¢æˆ·ç«¯å‘èµ·HTTPè¯·æ±‚åï¼ŒæœåŠ¡å™¨å“åº”ç»™å®¢æˆ·ç«¯çš„æŠ¥æ–‡ã€‚</li><li>ç»„æˆ<ul><li>çŠ¶æ€è¡Œï¼šå“åº”è¡Œï¼ŒHTTPåè®®ç‰ˆæœ¬ + ç©ºæ ¼ + çŠ¶æ€ç  + ç©ºæ ¼ + çŠ¶æ€ç æè¿°ã€‚<ul><li>HTTPåè®®ç‰ˆæœ¬ï¼šå¿…é¡»ä¸è¯·æ±‚æŠ¥æ–‡çš„åè®®ç‰ˆæœ¬ä¿æŒä¸€è‡´ã€‚</li><li>çŠ¶æ€ç ï¼šHTTP Status Codeï¼Œç”¨ä»¥è¡¨ç¤ºç½‘é¡µæœåŠ¡å™¨è¶…æ–‡æœ¬ä¼ è¾“åè®®å“åº”çŠ¶æ€çš„3ä½æ•°å­—ä»£ç ã€‚<ul><li>1XXï¼šä¿¡æ¯ï¼ŒæœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ï¼Œéœ€è¯·æ±‚è€…ç»§ç»­æ‰§è¡Œæ“ä½œã€‚</li><li>2XXï¼šæˆåŠŸï¼Œæ“ä½œè¢«æˆåŠŸæ¥æ”¶å¹¶å¤„ç†ï¼Œä¾‹å¦‚çŠ¶æ€ç 200ã€‚</li><li>3XXï¼šé‡å®šå‘ï¼Œéœ€è¿›ä¸€æ­¥çš„æ“ä½œä»¥å®Œæˆè¯·æ±‚ï¼Œä¾‹å¦‚304ã€‚</li><li>4XXï¼šå®¢æˆ·ç«¯é”™è¯¯ï¼Œè¯·æ±‚åŒ…å«è¯­æ³•é”™è¯¯æˆ–æ— æ³•å®Œæˆè¯·æ±‚ã€‚</li><li>5XXï¼šæœåŠ¡å™¨é”™è¯¯ï¼ŒæœåŠ¡å™¨åœ¨å¤„ç†è¯·æ±‚è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯ã€‚</li></ul></li><li>çŠ¶æ€ç æè¿°ï¼š200 OKã€301 Moved Permanentlyã€302 Foundã€502 DNS Lookup Failedç­‰ã€‚</li></ul></li><li>å“åº”å¤´ï¼šåœ¨HTTPå“åº”æ¶ˆæ¯ä¸­å‘é€çš„HTTPå¤´å­—æ®µï¼ŒåŒ…æ‹¬æœåŠ¡å™¨ä¿¡æ¯ã€å“åº”æ—¶é—´ç­‰ï¼Œç±»ä¼¼äºè¯·æ±‚å¤´ã€‚</li><li>ç©ºè¡Œï¼šå“åº”å¤´çš„æœ€åä¸€è¡Œï¼Œè¡¨ç¤ºå“åº”å¤´ç»“æŸï¼Œæ¥ä¸‹æ¥ä¸ºå“åº”æ•°æ®ï¼Œä¸è¯·æ±‚æŠ¥æ–‡ä¸€è‡´ã€‚</li><li>å“åº”ä½“ï¼šå“åº”æ•°æ®æˆ–å“åº”æ­£æ–‡ï¼Œç”¨äºå­˜æ”¾éœ€è¦è¿”å›ç»™å®¢æˆ·ç«¯çš„æ•°æ®ä¿¡æ¯ï¼ŒåŒè¯·æ±‚ä½“ã€‚</li></ul></li></ul><p><img src="/../img/Fiddler/Fiddler@005.png" srcset="/img/load.gif" lazyload alt="Fiddler-HTTPåè®®-å“åº”æŠ¥æ–‡"></p><h4 id="3-URLç»„æˆ"><a href="#3-URLç»„æˆ" class="headerlink" title="(3) URLç»„æˆ"></a>(3) URLç»„æˆ</h4><ul><li>URLä¸¾ä¾‹ï¼š<u>https</u>:&#x2F;&#x2F;<u>kaifa.baidu.com</u>&#x2F;<u>searchPage</u>?<u>wd&#x3D;fiddler&amp;hmsr&#x3D;aladdin</u>ã€‚</li><li>åè®®ï¼šåè®®ç±»å‹ï¼Œå¸¸è§çš„æœ‰HTTPã€HTTPSã€FTPã€SFTPã€SMTPã€POP3ç­‰ï¼Œè¿™é‡Œæ˜¯HTTPSï¼Œä¸IPåœ°å€ç”¨<code>://</code>åˆ†éš”ã€‚</li><li>IPåœ°å€ï¼šè¦è®¿é—®çš„WebæœåŠ¡å™¨çš„IPåœ°å€æˆ–ä¸»æœºåç§°ï¼Œè¿™é‡Œæ˜¯kaifa.baidu.comï¼Œä¸ç«¯å£å·ç”¨<code>:</code>åˆ†éš”ï¼Œä¾‹å¦‚<a href="127.0.0.1:99">127.0.0.1:99</a>ã€‚</li><li>ç«¯å£å·ï¼šæ ‡è¯†WebæœåŠ¡å™¨æ­£åœ¨ç›‘å¬çš„ç«¯å£å·ï¼ŒHTTPé»˜è®¤80ï¼ŒHTTPSé»˜è®¤443ï¼Œè¿™é‡Œé»˜è®¤443ï¼Œä¸èµ„æºè·¯å¾„ç”¨<code>/</code>åˆ†éš”ã€‚</li><li>èµ„æºè·¯å¾„ï¼šæŒ‡å®šæƒ³è¦è®¿é—®çš„èµ„æºå…·ä½“è·¯å¾„ï¼Œä¾‹å¦‚IMAGEã€CSSã€JSç­‰èµ„æºï¼Œè¿™é‡Œæ˜¯searchPageï¼Œä¸æŸ¥è¯¢å‚æ•°ç”¨<code>?</code>åˆ†éš”ã€‚</li><li>æŸ¥è¯¢å‚æ•°ï¼šå‘WebæœåŠ¡å™¨å‘é€é¢å¤–çš„å‚æ•°ä¿¡æ¯ï¼Œé”®å€¼å¯¹ç»„æˆï¼Œè¿™é‡Œæ˜¯wd&#x3D;fiddler&amp;hmsr&#x3D;aladdinï¼Œå‚æ•°ä¹‹é—´ç”¨<code>&amp;</code>åˆ†éš”ã€‚</li></ul><h1 id="2-å·¥å…·é¢æ¿"><a href="#2-å·¥å…·é¢æ¿" class="headerlink" title="2 å·¥å…·é¢æ¿"></a>2 å·¥å…·é¢æ¿</h1><ul><li>å·¥å…·é¢æ¿<ul><li>WinConfigã€æ·»åŠ æ³¨é‡ŠCommentã€æ•°æ®é‡æ”¾Replayã€åˆ é™¤ä¼šè¯Removeã€æ¢å¤æ–­ç‚¹æ‰§è¡ŒGoã€æµæ¨¡å¼Streamã€‚</li><li>è§£ç Decodeã€ä¿ç•™ä¼šè¯Keepã€ä»»æ„è¿›ç¨‹Any Processã€å¿«é€ŸæŸ¥æ‰¾Findã€ä¿å­˜è¯·æ±‚Saveã€å€’è®¡æˆªå›¾Screenshotã€‚</li><li>è®¡æ—¶å™¨Timerã€æµè§ˆå™¨Browseã€æ¸…é™¤ç¼“å­˜Clear Cacheã€ç¼–è§£ç TextWizardã€çª—å£æµ®åŠ¨Tearoffã€åœ¨çº¿Onlineã€‚</li></ul></li></ul><p><img src="/../img/Fiddler/TPicon/TPicon@001.png" srcset="/img/load.gif" lazyload alt="å·¥å…·é¢æ¿"></p><h2 id="2-1-å¸¸ç”¨å·¥å…·"><a href="#2-1-å¸¸ç”¨å·¥å…·" class="headerlink" title="2-1 å¸¸ç”¨å·¥å…·"></a>2-1 å¸¸ç”¨å·¥å…·</h2><ul><li>å¸¸ç”¨å·¥å…·<ul><li>WinConfigï¼šç‚¹å‡»<img src="/../img/Fiddler/TPicon/TPicon@002.png" srcset="/img/load.gif" lazyload alt="å·¥å…·é¢æ¿-WinConfig">ï¼Œæ‰“å¼€AppContainer Loopback Exemption Utilityå¼¹çª—ã€‚</li><li>æ˜¾ç¤ºWindowså†…ç½®è¿è¡Œçš„ä¸€äº›åº”ç”¨ï¼Œé»˜è®¤æƒ…å†µä¸‹Fiddleræ— æ³•æŠ“å–åˆ°è¿™äº›å†…ç½®åº”ç”¨çš„HTTPé€šè®¯åŒ…ã€‚</li><li>é€šè¿‡å‹¾é€‰å¼¹çª—å¯¹åº”çš„å†…ç½®åº”ç”¨ï¼Œç‚¹å‡»Save ChangesæŒ‰é’®ï¼Œå¯ä»¥è§£é™¤è¿™äº›å†…ç½®åº”ç”¨ä¸èƒ½æŠ“åŒ…çš„é™åˆ¶ã€‚</li><li>å¿«æ·é”®<code>Ctrl + WinConfig</code>å¯è§£é™¤æ‰€æœ‰åº”ç”¨çš„é™åˆ¶ï¼ŒExempt Allä¸ºå…¨é€‰ï¼ŒExempt Noneåˆ™æ˜¯å…¨å–æ¶ˆã€‚</li></ul></li></ul><p><img src="/../img/Fiddler/Fiddler@006.png" srcset="/img/load.gif" lazyload alt="å·¥å…·é¢æ¿-WinConfig"></p><h4 id="1-Comment"><a href="#1-Comment" class="headerlink" title="(1) Comment"></a>(1) Comment</h4><ul><li>æµ‹è¯•äººå‘˜åœ¨ä½¿ç”¨Fiddleræµ‹è¯•APIæ¥å£æ—¶ï¼Œå¯ä»¥é€šè¿‡Commentæ³¨é‡ŠåŠŸèƒ½ç›´æ¥å°†å­˜åœ¨é—®é¢˜çš„è¯·æ±‚æ·»åŠ æ³¨é‡Šã€‚</li><li>å½“æ‰€æœ‰æ¥å£éƒ½æµ‹è¯•å®Œæˆåï¼Œå°†å½“å‰æ‰€æœ‰çš„sessionä¿å­˜ä¸ºä¸€ä¸ª*.sazæ–‡ä»¶ï¼Œæ–¹ä¾¿å‘é€ç»™å¼€å‘äººå‘˜æ’æŸ¥é—®é¢˜ã€‚</li><li>é€‰ä¸­å­˜åœ¨é—®é¢˜çš„sessionä¼šè¯ï¼Œç‚¹å‡»<img src="/../img/Fiddler/TPicon/TPicon@003.png" srcset="/img/load.gif" lazyload alt="å·¥å…·é¢æ¿-Comment">ï¼Œå¡«å†™å­˜åœ¨çš„é—®é¢˜å¤‡æ³¨åï¼Œç‚¹å‡»OKã€‚</li></ul><p><img src="/../img/Fiddler/Fiddler@007.png" srcset="/img/load.gif" lazyload alt="å·¥å…·é¢æ¿-Comment"></p><h4 id="2-Replay"><a href="#2-Replay" class="headerlink" title="(2) Replay"></a>(2) Replay</h4><ul><li>é€‰ä¸­å½“å‰å­˜åœ¨çš„ä¸€ä¸ªsessionä¼šè¯ï¼Œç‚¹å‡»<img src="/../img/Fiddler/TPicon/TPicon@004.png" srcset="/img/load.gif" lazyload alt="å·¥å…·é¢æ¿-Replay">ï¼Œå¯ä»¥å‘æœåŠ¡å™¨é‡æ–°å‘é€ä¸€æ¬¡é€‰ä¸­çš„sessionè¯·æ±‚ã€‚</li><li>å¿«æ·é”®<code>CTRL + Replay</code>é‡æ–°å‘é€ä¸€æ¬¡è¯·æ±‚ï¼Œè€Œä¸åŒ…å«ä»»ä½•æ¡ä»¶çš„è¯·æ±‚å¤´ï¼Œä¾‹å¦‚ï¼šIf-None-Matchç­‰ã€‚</li><li>å¿«æ·é”®<code>Shift + Replay</code>å¼¹çª—è¦æ±‚æŒ‡å®šæ¯ä¸ªè¯·æ±‚åº”è¢«é‡æ–°å‘é€çš„æ¬¡æ•°ï¼Œé»˜è®¤5æ¬¡ï¼ŒOKåé‡æ–°å‘é€5æ¬¡è¯·æ±‚ã€‚</li></ul><p><img src="/../img/Fiddler/Fiddler@008.png" srcset="/img/load.gif" lazyload alt="å·¥å…·é¢æ¿-Replay"></p><h4 id="3-Remove"><a href="#3-Remove" class="headerlink" title="(3) Remove"></a>(3) Remove</h4><ul><li>ç‚¹å‡»<img src="/../img/Fiddler/TPicon/TPicon@005.png" srcset="/img/load.gif" lazyload alt="å·¥å…·é¢æ¿-Remove">ï¼Œé€‰å¯¹åº”é€‰é¡¹ï¼Œå¯åˆ é™¤åˆ—è¡¨ä¸­å¯¹åº”çš„ä¼šè¯ã€‚</li><li>é€‰é¡¹è¯´æ˜<ul><li>Remove allï¼šåˆ é™¤åˆ—è¡¨ä¸­çš„æ‰€æœ‰ä¼šè¯ã€‚</li><li>Imagesï¼šåˆ é™¤åˆ—è¡¨ä¸­çš„æ‰€æœ‰å›¾åƒç±»ä¼šè¯ã€‚</li><li>CONNECTsï¼šåˆ é™¤åˆ—è¡¨ä¸­çš„æ‰€æœ‰CONNECTé€šé“ã€‚</li><li>Non-200sï¼šåˆ é™¤åˆ—è¡¨ä¸­æ‰€æœ‰HTTPå“åº”ç é200çš„ä¼šè¯ã€‚</li><li>Non-Browserï¼šåˆ é™¤åˆ—è¡¨ä¸­æ‰€æœ‰ä¸æ˜¯æ¥è‡ªæµè§ˆå™¨çš„ä¼šè¯ã€‚</li><li>Complete &amp; Unmarkedï¼šåˆ é™¤åˆ—è¡¨ä¸­æ‰€æœ‰çŠ¶æ€ä¸ºæ­£å¸¸ç»“æŸæˆ–å¼‚å¸¸ç»ˆæ­¢ï¼Œæ²¡è¢«æ ‡è®°ä¸”Commentsæ²¡å†…å®¹çš„ä¼šè¯ã€‚</li><li>Duplicate response bodiesï¼šåˆ é™¤åˆ—è¡¨ä¸­æ²¡æœ‰å“åº”ä½“ï¼Œæˆ–è€…æ˜¯å“åº”ä½“å†…å®¹åœ¨æ›´æ—©çš„ä¼šè¯ä¸­å·²ç»è¢«æ¥æ”¶çš„ä¼šè¯ã€‚</li></ul></li></ul><p><img src="/../img/Fiddler/Fiddler@009.png" srcset="/img/load.gif" lazyload alt="å·¥å…·é¢æ¿-Remove"></p><h4 id="4-Go"><a href="#4-Go" class="headerlink" title="(4) Go"></a>(4) Go</h4><ul><li>ç‚¹å‡»<img src="/../img/Fiddler/TPicon/TPicon@006.png" srcset="/img/load.gif" lazyload alt="å·¥å…·é¢æ¿-Go">ï¼Œå¯ä»¥æ¢å¤æ‰§è¡Œåœ¨Requestè¯·æ±‚ï¼Œæˆ–Responseå“åº”æ–­ç‚¹å¤„æš‚åœçš„æ‰€æœ‰ä¼šè¯ã€‚</li><li>é»˜è®¤æƒ…å†µä¸‹ç›´æ¥ç‚¹å‡»ä¼šæ¢å¤æ‰€æœ‰ä¼šè¯çš„è¿è¡Œï¼Œå¿«æ·é”®<code>Shift + Go</code>ä»…æ¢å¤é€‰ä¸­çš„ä¼šè¯ã€‚</li></ul><h4 id="5-Stream"><a href="#5-Stream" class="headerlink" title="(5) Stream"></a>(5) Stream</h4><ul><li>ç‚¹å‡»<img src="/../img/Fiddler/TPicon/TPicon@007.png" srcset="/img/load.gif" lazyload alt="å·¥å…·é¢æ¿-Stream">ï¼Œå¼€å¯Streaming Modeæµæ¨¡å¼ã€‚<ul><li>Fiddlerä¸€æ—¦ä»è¿œç¨‹æœåŠ¡å™¨æ‹¿åˆ°äº†å“åº”ï¼Œä¼šç«‹å³è¿”å›å“åº”ç»™å®¢æˆ·ç«¯ï¼Œè¿™å¯¹äºè¾ƒä½ç½‘ç»œæ—¶é—´è®¾å®šæ¥è¯´æ˜¯éå¸¸é‡è¦çš„ã€‚</li><li>å¤šæ•°æµè§ˆå™¨ä¼šåœ¨å°šæœªå®Œå…¨ä¸‹è½½HTMLé¡µæ—¶è¿›è¡Œè§£æä¸”å¹¶è¡Œä¸‹è½½æ‰€éœ€èµ„æºï¼Œå³ä½¿è¿œç¨‹æœåŠ¡å™¨è¿˜æœªå®Œå…¨ä¼ è¾“è¯¥HTMLã€‚</li><li>è®¿é—®Internetå¹¿æ’­ã€éŸ³ä¹ç±»ç«™ç‚¹æ—¶ï¼Œé€šå¸¸ä½¿ç”¨æ°¸ä¸ç»“æŸçš„MP3æ•°æ®æµä¼ é€’ç»™å®¢æˆ·ç«¯ï¼Œè¿™ç±»ç‰¹å®šåœºæ™¯ä¹Ÿé€‚åˆæµæ¨¡å¼ã€‚</li></ul></li><li>é»˜è®¤æƒ…å†µä¸‹ï¼Œä½¿ç”¨çš„æ˜¯Buffering Modeç¼“å†²æ¨¡å¼ã€‚<ul><li>Fiddlerä¼šåœ¨æ•°æ®è¿”å›å®¢æˆ·ç«¯ä¹‹å‰å®Œå…¨çš„ç¼“å†²å“åº”ã€‚</li><li>ç”¨æˆ·æœ‰æœºä¼šåœ¨å®¢æˆ·ç«¯æ¥æ”¶åˆ°å“åº”ä¹‹å‰ä¿®æ”¹å“åº”å†…å®¹ã€‚</li></ul></li><li>è‡ªåŠ¨æµæ¨¡å¼<ul><li>Fiddlerä¼šè‡ªåŠ¨ä½¿ç”¨æµæ¨¡å¼å¤„ç†<code>video/*</code>å’Œ<code>audio/*</code>ç±»å‹çš„å“åº”ï¼Œå¯å¼€å¯æˆ–å…³é—­è®¾ç½®ã€‚</li><li>èœå•æ -&gt;Tools-&gt;Options-&gt;General-&gt;å‹¾é€‰Automatically stream audio &amp; videoã€‚</li></ul></li></ul><p><img src="/../img/Fiddler/Fiddler@010.png" srcset="/img/load.gif" lazyload alt="å·¥å…·é¢æ¿-Stream"></p><h4 id="6-Decode"><a href="#6-Decode" class="headerlink" title="(6) Decode"></a>(6) Decode</h4><ul><li>ç‚¹å‡»<img src="/../img/Fiddler/TPicon/TPicon@008.png" srcset="/img/load.gif" lazyload alt="å·¥å…·é¢æ¿-Decode">ï¼Œç›´æ¥å¯¹æ‰€æœ‰å“åº”è¿›è¡Œè§£ç ã€‚</li><li>è§£ç æ²¡æœ‰å¼€å¯å‰ï¼ŒFiddlerå³ä¾§ç›‘æ§é¢æ¿ä¸­å¯èƒ½æç¤ºâ€œResponse body is encoded. Click to decodeâ€ã€‚</li><li>è¯¥æç¤ºè¯´æ˜å½“å‰å“åº”çš„sessionä¼šè¯å·²è¢«ç¼–ç ï¼Œç‚¹å‡»è¯¥æç¤ºä¿¡æ¯å¯å¯¹å½“å‰å“åº”çš„sessionä¼šè¯è¿›è¡Œè§£ç ã€‚</li></ul><p><img src="/../img/Fiddler/Fiddler@011.png" srcset="/img/load.gif" lazyload alt="å·¥å…·é¢æ¿-Decode"></p><h4 id="7-Keep"><a href="#7-Keep" class="headerlink" title="(7) Keep"></a>(7) Keep</h4><ul><li>Fiddlerçš„Webè¯·æ±‚åˆ—è¡¨éæ— é™ï¼Œå› æ­¤æä¾›äº†ä¿ç•™ä¼šè¯Keepæ“ä½œï¼Œå¯ä»¥è®©Webè¯·æ±‚åˆ—è¡¨å®æ—¶ä¿æŒæŒ‡å®šçš„sessionä¼šè¯ä¸ªæ•°ã€‚</li><li>ç‚¹å‡»<img src="/../img/Fiddler/TPicon/TPicon@009.png" srcset="/img/load.gif" lazyload alt="å·¥å…·é¢æ¿-Keep">ï¼Œé€‰All sessionsï¼Œä¿æŒæ‰€æœ‰çš„Webè¯·æ±‚ï¼Œé€‰å¯¹åº”ä¸ªæ•°sessionsï¼Œåˆ™ä¿æŒå¯¹åº”ä¸ªæ•°çš„Webè¯·æ±‚ã€‚</li></ul><h4 id="8-Any-Process"><a href="#8-Any-Process" class="headerlink" title="(8) Any Process"></a>(8) Any Process</h4><ul><li>é»˜è®¤æƒ…å†µä¸‹Fiddlerå°†æŠ“å–æ‰€æœ‰è¿›ç¨‹çš„HTTPè¯·æ±‚æˆ–å“åº”ï¼Œè¿™ä¼šå¯¼è‡´Webè¯·æ±‚åˆ—è¡¨å¿«é€Ÿåˆ·æ–°ï¼Œä¸æ–¹ä¾¿æŸ¥æ‰¾æ‰€éœ€çš„Webè¯·æ±‚ã€‚</li><li>Any Processå¯ä»¥ç”¨æ¥å®šä½æŠ“åŒ…ï¼Œç‚¹å‡»<img src="/../img/Fiddler/TPicon/TPicon@010.png" srcset="/img/load.gif" lazyload alt="å·¥å…·é¢æ¿-Any Process">ï¼Œé¼ æ ‡ä¸æ”¾ï¼Œå°†åå­—å›¾æ ‡æ‹–æ‹½åˆ°æŒ‡å®šè¿›ç¨‹çš„çª—å£ä¸­ï¼Œå³å‡»åˆ™å–æ¶ˆã€‚</li></ul><h4 id="9-Find"><a href="#9-Find" class="headerlink" title="(9) Find"></a>(9) Find</h4><ul><li>ç‚¹å‡»<img src="/../img/Fiddler/TPicon/TPicon@011.png" srcset="/img/load.gif" lazyload alt="å·¥å…·é¢æ¿-Find">ï¼Œæ”¯æŒä¾æ®æŸ¥è¯¢æ¡ä»¶å¿«é€ŸæŸ¥æ‰¾ä¼šè¯åˆ—è¡¨è¯·æ±‚ï¼ŒFind Sessionsç•Œé¢å¦‚ä¸‹ã€‚</li><li>Findï¼šè¾“å…¥éœ€è¦æŸ¥æ‰¾çš„å†…å®¹ï¼Œä¾‹å¦‚baidu.comï¼ŒæŸ¥æ‰¾æ‰€æœ‰åŒ…å«baidu.comå†…å®¹çš„è¯·æ±‚ã€‚</li><li>Options<ul><li>Searchï¼šè¯·æ±‚å’Œå“åº”ã€ä»…è¯·æ±‚ã€ä»…å“åº”ã€ä»…URLsï¼Œè¿™å››ä¸ªä¸­åŒ¹é…æ¡ä»¶ã€‚</li><li>Examineï¼šæ ‡å¤´å’Œæ­£æ–‡ã€ä»…æ ‡å¤´ã€ä»…æ­£æ–‡ï¼Œè¿™ä¸‰ä¸ªé€‰é¡¹ä¸­è¿›è¡Œæ£€æŸ¥åŒ¹é…ã€‚</li><li>Match case(åŒ¹é…æ—¶åŒºåˆ†å¤§å°å†™)ï¼ŒRegular Expression(å¯ä½¿ç”¨æ­£åˆ™åŒ¹é…)ã€‚</li><li>Search binaries(æœç´¢äºŒè¿›åˆ¶)ï¼ŒDecode compressed content(è§£ç å‹ç¼©å†…å®¹)ã€‚</li><li>Search only selected Sessions(ä»…æœç´¢æ‰€é€‰çš„ä¼šè¯)ï¼ŒSelect matches(æœç´¢åŒ¹é…)ã€‚</li><li>Unmark old results(å–æ¶ˆæ ‡è®°æ—§ç»“æœ)ï¼ŒResult Highlight(åŒ¹é…è¯·æ±‚ä½¿ç”¨çš„é«˜äº®é¢œè‰²)ã€‚</li></ul></li></ul><p><img src="/../img/Fiddler/Fiddler@012.png" srcset="/img/load.gif" lazyload alt="å·¥å…·é¢æ¿-Find"></p><h2 id="2-2-æ›´å¤šå·¥å…·"><a href="#2-2-æ›´å¤šå·¥å…·" class="headerlink" title="2-2 æ›´å¤šå·¥å…·"></a>2-2 æ›´å¤šå·¥å…·</h2><ul><li>æ›´å¤šå·¥å…·<ul><li>ä¿å­˜è¯·æ±‚Saveï¼šç‚¹å‡»<img src="/../img/Fiddler/TPicon/TPicon@012.png" srcset="/img/load.gif" lazyload alt="å·¥å…·é¢æ¿-Save">ï¼Œä»¥SAZæ–‡ä»¶å½¢å¼ä¿å­˜è¯·æ±‚ï¼Œé™¤å¿«æ·é”®ä¿å­˜å¤–ï¼Œè¿˜å¯èœå•æ -&gt;File-&gt;Saveä¸­ä¿å­˜ã€‚<ul><li>All Sessionsï¼šæ‰€æœ‰æŠ“å–åˆ°çš„ä¼šè¯å‡ä¿å­˜åˆ°SAZæ–‡ä»¶ä¸­ã€‚</li><li>Selected Sessionsï¼šå°†é€‰ä¸­çš„ä¼šè¯ä¿å­˜åˆ°SAZæ–‡ä»¶ä¸­ã€‚<ul><li>in ArchiveZip(SAZå½’æ¡£æ–‡ä»¶)ï¼Œas Text(ä¿å­˜åˆ°æ–‡æœ¬æ–‡ä»¶)ã€‚</li><li>as Text(Headers only)(ä»…ä¿å­˜ä¼šè¯çš„å¤´éƒ¨ä¿¡æ¯åˆ°æ–‡æœ¬æ–‡ä»¶)ã€‚</li></ul></li><li>Requestï¼šå°†æ‰€æœ‰ä¼šè¯çš„è¯·æ±‚æŠ¥æ–‡ä¿å­˜åˆ°SAZæ–‡ä»¶ä¸­ã€‚<ul><li>Entire Request(å°†ä¿å­˜æ‰€æœ‰ä¼šè¯çš„è¯·æ±‚æŠ¥æ–‡ï¼Œä¸€ä¸ªè¯·æ±‚ä¿å­˜ä¸€ä¸ªæ–‡ä»¶)ã€‚</li><li>Request Body(ä»…ä¿å­˜ä¼šè¯è¯·æ±‚çš„æ­£æ–‡éƒ¨åˆ†ï¼Œè‹¥æ²¡æœ‰æ­£æ–‡åˆ™ç»™å‡ºæç¤ºæ¡†)ã€‚</li></ul></li><li>Responseï¼šå°†æ‰€æœ‰ä¼šè¯çš„å“åº”æŠ¥æ–‡ä¿å­˜åˆ°SAZæ–‡ä»¶ä¸­ã€‚<ul><li>Entire Response(å°†ä¿å­˜æ‰€æœ‰ä¼šè¯çš„å“åº”æŠ¥æ–‡ï¼Œä¸€ä¸ªå“åº”ä¿å­˜ä¸ºä¸€ä¸ªæ–‡ä»¶)ã€‚</li><li>Response Body(ä»…ä¿å­˜ä¼šè¯å“åº”æŠ¥æ–‡çš„æ­£æ–‡éƒ¨åˆ†ï¼Œè‹¥æ— æ­£æ–‡åˆ™ç»™å‡ºæç¤ºæ¡†)ã€‚</li><li>and Open as Local File(ä¿å­˜ä¼šè¯çš„å“åº”æŠ¥æ–‡åˆ°æ–‡ä»¶ï¼Œç„¶åè‡ªåŠ¨æ‰“å¼€è¯¥æ–‡ä»¶)ã€‚</li></ul></li></ul></li><li>å€’è®¡æˆªå›¾Screenshotï¼šç‚¹å‡»<img src="/../img/Fiddler/TPicon/TPicon@013.png" srcset="/img/load.gif" lazyload alt="å·¥å…·é¢æ¿-Screenshot">ï¼Œæ”¯æŒå½“å‰Fiddleræ‰€åœ¨å±5ç§’å€’è®¡å…¨å±æˆªå›¾ï¼Œ<code>Shift + Screenshot</code>é”®ç«‹å³æˆªå›¾ã€‚</li><li>è®¡æ—¶å™¨Timerï¼šç‚¹å‡»<img src="/../img/Fiddler/TPicon/TPicon@014.png" srcset="/img/load.gif" lazyload alt="å·¥å…·é¢æ¿-Timer">ï¼Œå³å¼€å§‹è®¡æ—¶ï¼Œæˆ–åœæ­¢è®¡æ—¶ï¼Œé¼ æ ‡å³é”®åˆ™å¯ä»¥å°†è®¡æ—¶å†…å®¹æ¸…é™¤ã€‚</li><li>æµè§ˆå™¨Browseï¼šé€‰ä¸­ä¸€ä¼šè¯ç‚¹å‡»<img src="/../img/Fiddler/TPicon/TPicon@015.png" srcset="/img/load.gif" lazyload alt="å·¥å…·é¢æ¿-Browse">ï¼Œå†ä»»é€‰æµè§ˆå™¨æ‰“å¼€ï¼Œä¸æ”¯æŒå¤šä¼šè¯åŒæ—¶æ‰“å¼€å¦åˆ™<code>about:blank</code>ã€‚</li></ul></li></ul><h4 id="1-Clear-Cache"><a href="#1-Clear-Cache" class="headerlink" title="(1) Clear Cache"></a>(1) Clear Cache</h4><ul><li>ç‚¹å‡»<img src="/../img/Fiddler/TPicon/TPicon@016.png" srcset="/img/load.gif" lazyload alt="å·¥å…·é¢æ¿-Clear Cache">ï¼Œæ¸…é™¤WinINETç¼“å­˜ï¼Œå¿«æ·é”®<code>Ctrl + Clear Cache</code>åˆ é™¤æŒä¹…æ€§Cookiesã€‚</li><li>WinINETç¼“å­˜ï¼Œåˆ†ä¸ºæ–‡ä»¶ç¼“å­˜å’ŒURLç¼“å­˜ã€‚<ul><li>Microsoft Windowsæ“ä½œç³»ç»Ÿä¸­Internet Explorerå’Œä¸€äº›åº”ç”¨ç¨‹åºå¦‚Outlookï¼Œä½¿ç”¨çš„ä¸€ç§ç¼“å­˜æœºåˆ¶ã€‚</li><li>å¯ä»¥ç¼“å­˜ä»Internetæˆ–æœ¬åœ°ç½‘ç»œä¸‹è½½çš„å†…å®¹ï¼ŒåŒ…æ‹¬ç½‘é¡µã€å›¾ç‰‡ã€è„šæœ¬ç­‰ï¼Œç”¨æ¥æé«˜åç»­è®¿é—®çš„é€Ÿåº¦ã€‚</li><li>WinINETç¼“å­˜åªèƒ½ç¼“å­˜HTTPå’ŒHTTPSåè®®çš„å†…å®¹ï¼Œå¹¶ä¸æ”¯æŒç¼“å­˜FTPå’ŒGopherç­‰å…¶ä»–åè®®çš„å†…å®¹ã€‚</li></ul></li><li>æŒä¹…æ€§Cookies<ul><li>ä¸€ç§Webæµè§ˆå™¨ä¸­å¸¸ç”¨çš„æ•°æ®å­˜å‚¨æœºåˆ¶ï¼Œä¸æµè§ˆå™¨ä¼šè¯æ— å…³ï¼Œå¯åœ¨å¤šä¸ªæµè§ˆå™¨ä¼šè¯ä¹‹é—´ä¿ç•™ã€‚</li><li>æŒä¹…æ€§Cookieså¯ä»¥è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œå½“Cookieæ²¡æœ‰è¿‡æœŸæ—¶ï¼Œç”¨æˆ·ä¸‹æ¬¡æ‰“å¼€æµè§ˆå™¨ä»ç„¶å¯ä»¥ä½¿ç”¨ã€‚</li><li>ç”Ÿå‘½å‘¨æœŸå–å†³äºCookieçš„å¤±æ•ˆæ—¶é—´å’Œç”¨æˆ·æµè§ˆå™¨çš„è®¾ç½®ã€‚</li></ul></li></ul><p><img src="/../img/Fiddler/Fiddler@013.png" srcset="/img/load.gif" lazyload alt="å·¥å…·é¢æ¿-Clear Cache"></p><h4 id="2-TextWizard"><a href="#2-TextWizard" class="headerlink" title="(2) TextWizard"></a>(2) TextWizard</h4><ul><li>ç”¨æ¥å¯¹æ–‡æœ¬è¿›è¡Œç¼–ç å’Œè§£ç ï¼Œæ”¯æŒå¤šç§ç¼–ç ï¼Œæœ‰Base64ã€Base64URLã€URLEncodeã€URLDecodeã€SHA256ç­‰ã€‚</li><li>ä¾‹å¦‚ï¼šä½¿ç”¨MD5å¯¹å­—ç¬¦ä¸²â€œHello Fiddler!â€è¿›è¡Œç¼–ç ï¼Œç‚¹å‡»<img src="/../img/Fiddler/TPicon/TPicon@017.png" srcset="/img/load.gif" lazyload alt="å·¥å…·é¢æ¿-TextWizard">ï¼Œæ‰“å¼€TextWizardå·¥å…·ï¼Œæ“ä½œå¦‚ä¸‹ã€‚</li></ul><p><img src="/../img/Fiddler/Fiddler@014.png" srcset="/img/load.gif" lazyload alt="å·¥å…·é¢æ¿-TextWizard"></p><h4 id="3-Tearoff"><a href="#3-Tearoff" class="headerlink" title="(3) Tearoff"></a>(3) Tearoff</h4><ul><li>ç‚¹å‡»<img src="/../img/Fiddler/TPicon/TPicon@018.png" srcset="/img/load.gif" lazyload alt="å·¥å…·é¢æ¿-Tearoff">ï¼Œæ”¯æŒå°†ç›‘æ§é¢æ¿ä»¥çª—å£æµ®åŠ¨å½¢å¼è¿›è¡Œæ˜¾ç¤ºã€‚</li></ul><p><img src="/../img/Fiddler/Fiddler@015.png" srcset="/img/load.gif" lazyload alt="å·¥å…·é¢æ¿-Tearoff"></p><h4 id="4-Online"><a href="#4-Online" class="headerlink" title="(4) Online"></a>(4) Online</h4><ul><li>å°†é¼ æ ‡ç§»åŠ¨åˆ°<img src="/../img/Fiddler/TPicon/TPicon@019.png" srcset="/img/load.gif" lazyload alt="å·¥å…·é¢æ¿-Online">ï¼Œå°†æ˜¾ç¤ºå½“å‰æœºå™¨çš„ç½‘ç»œä¿¡æ¯ï¼Œæœ‰IPåœ°å€ã€MACåœ°å€ç­‰ã€‚</li></ul><p><img src="/../img/Fiddler/Fiddler@016.png" srcset="/img/load.gif" lazyload alt="å·¥å…·é¢æ¿-Online"></p><h1 id="3-ä¼šè¯é¢æ¿"><a href="#3-ä¼šè¯é¢æ¿" class="headerlink" title="3 ä¼šè¯é¢æ¿"></a>3 ä¼šè¯é¢æ¿</h1><ul><li>ä¼šè¯é¢æ¿<ul><li>ä¼šè¯å±æ€§<ul><li>#(ä»1å¼€å§‹ç”Ÿæˆçš„è¯·æ±‚id)ã€Result(httpå“åº”ç»“æœçš„ç¼–ç )ã€Protocol(ä¼šè¯ä½¿ç”¨çš„åè®®ï¼Œå¦‚httpã€httpsã€ftp)ã€‚</li><li>Host(è¯·æ±‚å‘é€åˆ°æœåŠ¡å™¨çš„ä¸»æœºå)ã€URL(æœåŠ¡å™¨çš„è·¯å¾„æˆ–æ–‡ä»¶)ã€Body(å“åº”bodyçš„å­—èŠ‚æ•°ï¼Œä»¥bytesä¸ºå•ä½)ã€‚</li><li>Caching(å“åº”çš„æœ‰æ•ˆæœŸæˆ–Cache-Controlæ ‡å¤´çš„å€¼)ã€Content-Type(å“åº”Content-Typeæ ‡å¤´çš„å€¼)ã€‚</li><li>Process(å‘èµ·æµé‡çš„æœ¬åœ°Windowsè¿›ç¨‹)ã€Comments(æ³¨é‡Š)ã€Custom(è‡ªå®šä¹‰ï¼Œå¯è®¾ç½®è„šæœ¬çš„æ–‡æœ¬)ã€‚</li></ul></li><li>ä¼šè¯å›¾æ ‡<ul><li><img src="/../img/Fiddler/SPicon/SPicon@001.png" srcset="/img/load.gif" lazyload alt="ä¼šè¯é¢æ¿-ä¼šè¯å›¾æ ‡01">(è¯·æ±‚æ­£å‘é€åˆ°æœåŠ¡å™¨)ã€<img src="/../img/Fiddler/SPicon/SPicon@002.png" srcset="/img/load.gif" lazyload alt="ä¼šè¯é¢æ¿-ä¼šè¯å›¾æ ‡02">(å“åº”æ­£ä»æœåŠ¡å™¨è¯»å–)ã€<img src="/../img/Fiddler/SPicon/SPicon@003.png" srcset="/img/load.gif" lazyload alt="ä¼šè¯é¢æ¿-ä¼šè¯å›¾æ ‡03">(è¯·æ±‚åœ¨æ–­ç‚¹å¤„æš‚åœ)ã€<img src="/../img/Fiddler/SPicon/SPicon@004.png" srcset="/img/load.gif" lazyload alt="ä¼šè¯é¢æ¿-ä¼šè¯å›¾æ ‡04">(å“åº”åœ¨æ–­ç‚¹å¤„æš‚åœ)ã€‚</li><li><img src="/../img/Fiddler/SPicon/SPicon@005.png" srcset="/img/load.gif" lazyload alt="ä¼šè¯é¢æ¿-ä¼šè¯å›¾æ ‡05">(å“åº”æ²¡æœ‰body)ã€<img src="/../img/Fiddler/SPicon/SPicon@006.png" srcset="/img/load.gif" lazyload alt="ä¼šè¯é¢æ¿-ä¼šè¯å›¾æ ‡06">(è¯·æ±‚ä½¿ç”¨postæ–¹æ³•)ã€<img src="/../img/Fiddler/SPicon/SPicon@007.png" srcset="/img/load.gif" lazyload alt="ä¼šè¯é¢æ¿-ä¼šè¯å›¾æ ‡07">(è¯·æ±‚ä½¿ç”¨connectæ–¹æ³•ï¼Œå»ºç«‹ä¸€ä¸ªç”¨äºhttpsæµé‡çš„éš§é“)ã€‚</li><li><img src="/../img/Fiddler/SPicon/SPicon@008.png" srcset="/img/load.gif" lazyload alt="ä¼šè¯é¢æ¿-ä¼šè¯å›¾æ ‡08">(å“åº”æ˜¯ä¸€å¼ å›¾ç‰‡)ã€<img src="/../img/Fiddler/SPicon/SPicon@009.png" srcset="/img/load.gif" lazyload alt="ä¼šè¯é¢æ¿-ä¼šè¯å›¾æ ‡09">(å“åº”æ˜¯ä¸€ä¸ªjsè„šæœ¬)ã€<img src="/../img/Fiddler/SPicon/SPicon@010.png" srcset="/img/load.gif" lazyload alt="ä¼šè¯é¢æ¿-ä¼šè¯å›¾æ ‡10">(å“åº”æ˜¯ä¸€ä¸ªcssï¼Œå³å åŠ æ ·å¼è¡¨)ã€<img src="/../img/Fiddler/SPicon/SPicon@011.png" srcset="/img/load.gif" lazyload alt="ä¼šè¯é¢æ¿-ä¼šè¯å›¾æ ‡11">(å“åº”æ˜¯ä¸€ä¸ªxml)ã€‚</li><li><img src="/../img/Fiddler/SPicon/SPicon@012.png" srcset="/img/load.gif" lazyload alt="ä¼šè¯é¢æ¿-ä¼šè¯å›¾æ ‡12">(å“åº”æ˜¯ä¸€ä¸ªjson)ã€<img src="/../img/Fiddler/SPicon/SPicon@013.png" srcset="/img/load.gif" lazyload alt="ä¼šè¯é¢æ¿-ä¼šè¯å›¾æ ‡13">(å“åº”æ˜¯ä¸€ç§å­—ä½“)ã€<img src="/../img/Fiddler/SPicon/SPicon@014.png" srcset="/img/load.gif" lazyload alt="ä¼šè¯é¢æ¿-ä¼šè¯å›¾æ ‡14">(é€šç”¨çš„æˆåŠŸå“åº”)ã€<img src="/../img/Fiddler/SPicon/SPicon@015.png" srcset="/img/load.gif" lazyload alt="ä¼šè¯é¢æ¿-ä¼šè¯å›¾æ ‡15">(å“åº”æ˜¯ä½¿ç”¨ç¼“å­˜ç‰ˆæœ¬304é‡å®šå‘)ã€‚</li><li><img src="/../img/Fiddler/SPicon/SPicon@016.png" srcset="/img/load.gif" lazyload alt="ä¼šè¯é¢æ¿-ä¼šè¯å›¾æ ‡16">(å“åº”æ˜¯300ã€301ã€302ã€303ã€307é‡å®šå‘)ã€<img src="/../img/Fiddler/SPicon/SPicon@017.png" srcset="/img/load.gif" lazyload alt="ä¼šè¯é¢æ¿-ä¼šè¯å›¾æ ‡17">(å“åº”æ˜¯å¯¹å®¢æˆ·ç«¯å‡­æ®çš„è¯·æ±‚)ã€<img src="/../img/Fiddler/SPicon/SPicon@018.png" srcset="/img/load.gif" lazyload alt="ä¼šè¯é¢æ¿-ä¼šè¯å›¾æ ‡18">(å“åº”æ˜¯æœåŠ¡å™¨é”™è¯¯)ã€‚</li><li><img src="/../img/Fiddler/SPicon/SPicon@019.png" srcset="/img/load.gif" lazyload alt="ä¼šè¯é¢æ¿-ä¼šè¯å›¾æ ‡19">(ä¼šè¯è¢«å®¢æˆ·ç«¯ã€Fiddleræˆ–æœåŠ¡å™¨ä¸­æ­¢)ã€<img src="/../img/Fiddler/SPicon/SPicon@020.png" srcset="/img/load.gif" lazyload alt="ä¼šè¯é¢æ¿-ä¼šè¯å›¾æ ‡20">(å“åº”çš„Content-Typeå€¼ä¸ºtext&#x2F;html)ã€<img src="/../img/Fiddler/SPicon/SPicon@021.png" srcset="/img/load.gif" lazyload alt="ä¼šè¯é¢æ¿-ä¼šè¯å›¾æ ‡21">(å“åº”æ˜¯è§†é¢‘æ–‡ä»¶)ã€‚</li><li><img src="/../img/Fiddler/SPicon/SPicon@022.png" srcset="/img/load.gif" lazyload alt="ä¼šè¯é¢æ¿-ä¼šè¯å›¾æ ‡22">(å“åº”Content-Typeä¸ºapplication&#x2F;octet-stream)ã€<img src="/../img/Fiddler/SPicon/SPicon@023.png" srcset="/img/load.gif" lazyload alt="ä¼šè¯é¢æ¿-ä¼šè¯å›¾æ ‡23">(è¯·æ±‚è¦æ±‚æœåŠ¡å™¨åˆ‡æ¢åè®®ï¼ŒæœåŠ¡å™¨å·²ç¡®è®¤åˆ‡æ¢å‡†å¤‡)ã€‚</li></ul></li></ul></li></ul><p><img src="/../img/Fiddler/Fiddler@017.png" srcset="/img/load.gif" lazyload alt="ä¼šè¯é¢æ¿"></p><h1 id="4-ç›‘æ§é¢æ¿"><a href="#4-ç›‘æ§é¢æ¿" class="headerlink" title="4 ç›‘æ§é¢æ¿"></a>4 ç›‘æ§é¢æ¿</h1><ul><li>ç›‘æ§é¢æ¿<ul><li>Statistics(ç»Ÿè®¡é€‰é¡¹å¡)ã€Inspectors(æ£€æŸ¥å™¨é€‰é¡¹å¡)ã€AutoResponder(è‡ªåŠ¨å“åº”é€‰é¡¹å¡)ã€Composer(ç»„åˆå™¨)ã€‚</li><li>Fiddler Orchestra Beta(æ–°ç‰ˆæ–°å¢åŠŸèƒ½ï¼Œç”¨äºè¿œç¨‹æŠ“åŒ…)ã€FiddlerScript(ç¼–è¾‘å™¨ä¸è„šæœ¬åº“)ã€Log(æ—¥å¿—é€‰é¡¹å¡)ã€‚</li><li>Filters(è¿‡æ»¤å™¨)ã€TimeLine(æ—¶é—´è½´é€‰é¡¹å¡)ã€‚</li></ul></li></ul><h2 id="4-1-Statistics"><a href="#4-1-Statistics" class="headerlink" title="4-1 Statistics"></a>4-1 Statistics</h2><ul><li>Statistics<ul><li>æ˜¾ç¤ºå½“å‰ä¼šè¯çš„åŸºæœ¬ä¿¡æ¯ï¼Œæœ€ä¸Šæ–¹æ˜¾ç¤ºæ–‡æœ¬ä¿¡æ¯ï¼Œæœ€ä¸‹æ–¹ä»¥é¥¼å›¾å½¢å¼æŒ‰MIMEç±»å‹æ˜¾ç¤ºæµé‡ã€‚</li><li>é¥¼å›¾ï¼šé»˜è®¤ä¸æ˜¾ç¤ºï¼Œç‚¹Show Chartæ˜¾ç¤ºã€‚<ul><li>Collapse Chartæ”¯æŒéšè—é¥¼å›¾ï¼Œé¥¼å›¾çš„åˆ‡ç‰‡æ˜¯å„ä¸ªMIMEç±»å‹åŠHeadersçš„å­—èŠ‚æ•°ã€‚</li><li>Copy this chartå¯ä»¥æŠŠé¥¼å›¾ä½œä¸ºä½å›¾æ‹·è´åˆ°å‰ªè´´æ¿ï¼Œè¿›è€Œç²˜è´´åˆ°æŠ¥è¡¨æˆ–pptæ¼”ç¤ºä¸­ã€‚</li></ul></li></ul></li></ul><p><img src="/../img/Fiddler/Fiddler@018.png" srcset="/img/load.gif" lazyload alt="ç›‘æ§é¢æ¿-Statistics"></p><h4 id="1-å•ä¼šè¯"><a href="#1-å•ä¼šè¯" class="headerlink" title="(1) å•ä¼šè¯"></a>(1) å•ä¼šè¯</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><code class="hljs Markdown">Request Count:  1 ------------------------------------ é€‰ä¸­ä¼šè¯çš„ä¸ªæ•°<br>Bytes Sent:     2,047   (headers:2,047; body:0) ------ HTTPè¯·æ±‚å¤´å’Œè¯·æ±‚ä½“ä¸­å‘å¤–å‘é€çš„å­—èŠ‚æ€»æ•°<br>Bytes Received: 96,052  (headers:794; body:95,258) --- HTTPè¯·æ±‚å¤´å’Œè¯·æ±‚ä½“ä¸­æ¥æ”¶åˆ°çš„æ‰€æœ‰å­—èŠ‚æ•°<br><br><span class="hljs-section">ACTUAL PERFORMANCE ----------------------------------- è¯·æ±‚å®é™…æ‰§è¡Œæƒ…å†µ</span><br><span class="hljs-section">--------------</span><br>ClientConnected:      11:35:43.234<br>ClientBeginRequest:   11:35:43.346<br>GotRequestHeaders:    11:35:43.346<br>ClientDoneRequest:    11:35:43.346<br>Determine Gateway:    0ms<br>DNS Lookup:           0ms ------------ é€‰ä¸­ä¼šè¯è§£æDNSæ‰€èŠ±è´¹çš„æ—¶é—´çš„æ€»å’Œï¼ŒDNSç¼“å­˜æˆ–æ‰€æœ‰è¿æ¥éƒ½å·²å»ºç«‹ï¼Œåˆ™ä¸éœ€è¦DNSè§£æ<br>TCP/IP Connect:       0ms ------------ é€‰ä¸­ä¼šè¯å»ºç«‹TCP/IPè¿æ¥æ‰€èŠ±è´¹çš„æ—¶é—´æ€»å’Œï¼Œæ‰€æœ‰è¯·æ±‚éƒ½å·²å»ºç«‹è¿æ¥ï¼Œåˆ™ä¸éœ€è¦TCP/IPè¿æ¥<br>HTTPS Handshake:      0ms ------------ é€‰ä¸­ä¼šè¯åœ¨HTTPSæ¡æ‰‹ä¸Šæ‰€èŠ±è´¹çš„æ—¶é—´æ€»å’Œ<br>ServerConnected:      11:35:43.262 --- æ‰€æœ‰ä¼šè¯éƒ½æ˜¯HTTPï¼Œä¸éœ€è§£å¯†ï¼Œæˆ–éƒ½å‘ç”Ÿåœ¨å·²å»ºç«‹å®‰å…¨ä¿¡ä»»çš„è¿æ¥ä¸Šï¼Œåˆ™ä¸å­˜åœ¨HTTPSæ¡æ‰‹<br>FiddlerBeginRequest:  11:35:43.346<br>ServerGotRequest:     11:35:43.347<br>ServerBeginResponse:  11:35:43.366<br>GotResponseHeaders:   11:35:43.366<br>ServerDoneResponse:   11:35:43.421<br>ClientBeginResponse:  11:35:43.421<br>ClientDoneResponse:   11:35:43.421<br><br>  Overall Elapsed:  0:00:00.074 ---------------------- å·²ç”¨æ€»æ—¶é—´<br><br><span class="hljs-section">RESPONSE BYTES (by Content-Type) --------------------- å“åº”å­—èŠ‚æ•°(æŒ‰Content-Typeåˆ†ç»„ç»Ÿè®¡)</span><br><span class="hljs-section">--------------</span><br>text/html: 95,258<br>~headers~: 794<br><br><br><span class="hljs-section">ESTIMATED WORLDWIDE PERFORMANCE ---------------------- é€‰ä¸­çš„æµé‡åœ¨ä¸åŒåœ°åŒºå’Œè¿æ¥æ–¹å¼ä¸‹æ‰€éœ€æ—¶é—´çš„åˆæ­¥ä¼°è®¡</span><br><span class="hljs-section">--------------</span><br>The following are VERY rough estimates of download times when hitting servers based in Seattle.<br><br>US West Coast (Modem - 6KB/sec) ---------------------- è¯¥å€¼æ˜¯æ ¹æ®é€‰ä¸­ä¼šè¯çš„ä¸ªæ•°å’Œå¤§å°è®¡ç®—çš„<br>  RTT:      0.10s<br>  Elapsed:  16.10s<br><br>Japan / Northern Europe (Modem) ---------------------- å®é™…ç½‘ç»œæ€§èƒ½å—å¤šå› ç´ å½±å“ï¼Œå› è€Œè¯¥å€¼å¯èƒ½ä¸å‡†ç¡®<br>  RTT:      0.15s<br>  Elapsed:  16.15s<br><br>China (Modem)<br>  RTT:      0.45s<br>  Elapsed:  16.45s<br><br>US West Coast (DSL - 30KB/sec)<br>  RTT:      0.10s<br>  Elapsed:  3.10s<br><br>Japan / Northern Europe (DSL)<br>  RTT:      0.15s<br>  Elapsed:  3.15s<br><br>China (DSL)<br>  RTT:      0.45s<br>  Elapsed:  3.45s<br><br><span class="hljs-strong">____</span><span class="hljs-strong">____</span><span class="hljs-strong">____</span><span class="hljs-strong">____</span><br>Learn more about HTTP performance at http://fiddler2.com/r/?HTTPPERF<br></code></pre></td></tr></table></figure><h4 id="2-å•é€šé“"><a href="#2-å•é€šé“" class="headerlink" title="(2) å•é€šé“"></a>(2) å•é€šé“</h4><ul><li>å•ä¸ªCONNECTé€šé“ï¼Œä¼šæ˜¾ç¤ºåœ¨è¯¥é€šé“ä¸Šå‘é€å’Œæ¥æ”¶çš„å­—èŠ‚æ•°ï¼Œé™¤éé…ç½®ä¸ºHTTPSåŠ å¯†æ–¹å¼ã€‚</li><li>é…ç½®ä¸ºHTTPSåŠ å¯†æ–¹å¼çš„æƒ…å†µä¸‹ï¼Œéœ€åœ¨Webä¼šè¯åˆ—è¡¨å·²è§£å¯†çš„HTTPSä¼šè¯ä¸­æŸ¥çœ‹å­—èŠ‚æ•°ä¿¡æ¯ã€‚</li></ul><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><code class="hljs Markdown">Request Count:  7 ------------------------------------ é€‰ä¸­çš„è¯·æ±‚æ•°<br>Unique Hosts:   5 ------------------------------------ æµé‡æµå‘çš„ç‹¬ç«‹ç›®æ ‡ä¸»æœºæ•°ï¼Œè‹¥éƒ½å‘é€åˆ°ç›¸åŒæœåŠ¡å™¨ä¸Šï¼Œåˆ™ä¸æ˜¾ç¤º<br>Bytes Sent:     5,745 (headers:5,513; body:232) ------ HTTPè¯·æ±‚å¤´å’Œè¯·æ±‚ä½“ä¸­å‘å¤–å‘é€çš„å­—èŠ‚æ€»æ•°<br>Bytes Received: 7,470 (headers:2,319; body:5,151) ---- HTTPè¯·æ±‚å¤´å’Œè¯·æ±‚ä½“ä¸­æ¥æ”¶åˆ°çš„æ‰€æœ‰å­—èŠ‚æ•°<br><br><span class="hljs-section">ACTUAL PERFORMANCE ----------------------------------- å®é™…æ‰§è¡Œæƒ…å†µ</span><br><span class="hljs-section">--------------</span><br>Requests started at:          14:55:26.437 ----------- Fiddleræ¥æ”¶åˆ°çš„ç¬¬ä¸€ä¸ªè¯·æ±‚çš„ç¬¬ä¸€ä¸ªå­—èŠ‚æ—¶é—´ç‚¹<br>Responses completed at:       14:55:44.471 ----------- Fiddlerå‘é€åˆ°å®¢æˆ·ç«¯çš„æœ€åä¸€ä¸ªå“åº”çš„æœ€åä¸€ä¸ªå­—èŠ‚æ—¶é—´ç‚¹<br>Sequence (clock) duration:    00:00:18.033 ----------- ç¬¬ä¸€ä¸ªè¯·æ±‚å¼€å§‹åˆ°æœ€åä¸€ä¸ªå“åº”ç»“æŸä¹‹é—´çš„é—´éš”æ—¶é—´<br>Aggregate Session duration:   00:00:00.184 ----------- æ‰€æœ‰é€‰ä¸­çš„ä¼šè¯ä»è¯·æ±‚åˆ°å“åº”ä¹‹é—´çš„æ—¶é—´çš„å’Œ<br>DNS Lookup time:              1ms -------------------- ä¼šè¯é€šå¸¸æ˜¯å¹¶è¡Œè¿è¡Œçš„ï¼ŒAggregateç»“æœå¯èƒ½æ¯”Sequenceæ—¶é—´é•¿<br>TCP/IP Connect duration:      21ms ------------------- ä¼šè¯ä»å¼€å§‹åˆ°ç»“æŸä¹‹é—´è‹¥åŒ…å«ç©ºé—²æ—¶é—´ï¼ŒAggregateä¹Ÿå¯èƒ½æ¯”Sequenceæ—¶é—´çŸ­<br>HTTPS Handshake duration:     23ms<br><br><span class="hljs-section">RESPONSE CODES --------------------------------------- é€‰ä¸­ä¼šè¯ä¸­å„ä¸ªHTTPå“åº”ç çš„è®¡æ•°</span><br><span class="hljs-section">--------------</span><br>HTTP/200:   6<br>HTTP/204:   1<br><br><span class="hljs-section">RESPONSE BYTES (by Content-Type) --------------------- å“åº”å­—èŠ‚æ•°(æŒ‰Content-Typeåˆ†ç»„ç»Ÿè®¡)</span><br><span class="hljs-section">--------------</span><br><span class="hljs-code">       image/png: 4,868</span><br><span class="hljs-code">       ~headers~: 2,319</span><br><span class="hljs-code">   image/svg+xml: 184</span><br><span class="hljs-code">       image/gif: 86</span><br><span class="hljs-code">application/json: 13</span><br><span class="hljs-code"></span><br><span class="hljs-section">REQUESTS PER HOST</span><br><span class="hljs-section">--------------</span><br><span class="hljs-code">         localhost: 2</span><br><span class="hljs-code">   pub.idqqimg.com: 2</span><br><span class="hljs-code">       docs.qq.com: 1</span><br><span class="hljs-code">      aegis.qq.com: 1</span><br><span class="hljs-code">report.idqqimg.com: 1</span><br><span class="hljs-code"></span><br><br><span class="hljs-section">ESTIMATED WORLDWIDE PERFORMANCE ---------------------- é€‰ä¸­çš„æµé‡åœ¨ä¸åŒåœ°åŒºå’Œè¿æ¥æ–¹å¼ä¸‹æ‰€éœ€æ—¶é—´çš„åˆæ­¥ä¼°è®¡</span><br><span class="hljs-section">--------------</span><br>The following are VERY rough estimates of download times when hitting servers based in Seattle.<br><br>US West Coast (Modem - 6KB/sec) ---------------------- è¯¥å€¼æ˜¯æ ¹æ®é€‰ä¸­ä¼šè¯çš„ä¸ªæ•°å’Œå¤§å°è®¡ç®—çš„<br>  RTT:      0.70s<br>  Elapsed:  2.70s<br><br>Japan / Northern Europe (Modem) ---------------------- å®é™…ç½‘ç»œæ€§èƒ½å—å¤šå› ç´ å½±å“ï¼Œå› è€Œè¯¥å€¼å¯èƒ½ä¸å‡†ç¡®<br>  RTT:      1.05s<br>  Elapsed:  3.05s<br><br>China (Modem)<br>  RTT:      3.15s<br>  Elapsed:  5.15s<br><br>US West Coast (DSL - 30KB/sec)<br>  RTT:      0.70s<br>  Elapsed:  0.70s<br><br>Japan / Northern Europe (DSL)<br>  RTT:      1.05s<br>  Elapsed:  1.05s<br><br>China (DSL)<br>  RTT:      3.15s<br>  Elapsed:  3.15s<br><br><span class="hljs-strong">____</span><span class="hljs-strong">____</span><span class="hljs-strong">____</span><span class="hljs-strong">____</span><br>Learn more about HTTP performance at http://fiddler2.com/r/?HTTPPERF<br></code></pre></td></tr></table></figure><h2 id="4-2-Inspectors"><a href="#4-2-Inspectors" class="headerlink" title="4-2 Inspectors"></a>4-2 Inspectors</h2><ul><li>Inspectors<ul><li>ç”¨äºæ˜¾ç¤ºWebä¼šè¯åˆ—è¡¨ä¸­é€‰å®šä¼šè¯çš„è¯·æ±‚å’Œå“åº”ä¿¡æ¯ï¼Œä½äºç›‘æ§é¢æ¿é€‰é¡¹å¡å¤„ï¼Œä¹Ÿæœ‰ç‹¬ç«‹çš„Inspect Sessionçª—å£ã€‚</li><li>Inspect Sessionçª—å£å¯ä»¥åœ¨ä¼šè¯é¢æ¿ä¸­ï¼Œé€‰ä¸­éœ€è¦æ‰“å¼€è¯·æ±‚æˆ–å“åº”ä¿¡æ¯çš„ä¼šè¯ï¼Œé¼ æ ‡å³é”®Inspect in New Windowã€‚</li><li>Fiddlerä¼šæ ¹æ®æ¯ä¸ªè¯·æ±‚å’Œå“åº”çš„ç±»å‹ï¼Œè‡ªåŠ¨é€‰æ‹©åˆé€‚çš„Inspectorsè§†å›¾ï¼Œä¾‹å¦‚<code>image/*</code>ç±»å‹æ˜¾ç¤ºImageViewè§†å›¾ã€‚</li><li>å³å‡»è¯·æ±‚æˆ–å“åº”çš„Inspectoré€‰é¡¹å¡ï¼Œä¼šæ˜¾ç¤ºä¸‰ä¸ªé€‰é¡¹èœå•ã€‚<ul><li>Inspector Propertiesï¼šæ˜¾ç¤ºInspectoræä¾›çš„è‡ªèº«ä¿¡æ¯ã€‚</li><li>Copy as Imageï¼šå°†å½“å‰Inspectorå¤åˆ¶æˆå›¾ç‰‡ï¼Œç²˜è´´åˆ°å…¶ä»–åœ°æ–¹ä½¿ç”¨ã€‚</li><li>Hide Inspectorï¼šä»Inspectorsé€‰é¡¹å¡ä¸­éšè—è¯¥Inspectorï¼Œæ”¯æŒæ¢å¤ã€‚</li></ul></li><li>Inspectorsé»˜è®¤æƒ…å†µä¸‹æ˜¯åªè¯»æ¨¡å¼Readonlyï¼Œé™¤éè¯¥ä¼šè¯åœæ­¢åœ¨æŸä¸ªæ–­ç‚¹å¤„ã€‚</li><li>åªè¦å½“å‰ä¼šè¯å¤„äºæœªé”å®šçŠ¶æ€ï¼Œå°±å¯ä»¥é€‰ä¸­åé¼ æ ‡å³é”®Unlock For Editingè¿›è¡Œç¼–è¾‘ï¼Œç¼–è¾‘æ¨¡å¼æ˜¯ç™½è‰²èƒŒæ™¯æ˜¾ç¤ºã€‚</li><li>é»˜è®¤çš„åªè¯»æ¨¡å¼æ˜¯æ·¡è“è‰²èƒŒæ™¯ï¼Œèœå•æ -&gt;Tools-&gt;Options-&gt;Appearance-&gt;Set Readonly Colorå¯æ›´æ”¹èƒŒæ™¯è‰²ã€‚</li></ul></li></ul><p><img src="/../img/Fiddler/Fiddler@019.png" srcset="/img/load.gif" lazyload alt="ç›‘æ§é¢æ¿-Inspectors"></p><h4 id="1-Inspector-Properties"><a href="#1-Inspector-Properties" class="headerlink" title="(1) Inspector Properties"></a>(1) Inspector Properties</h4><p><img src="/../img/Fiddler/Fiddler@020.png" srcset="/img/load.gif" lazyload alt="ç›‘æ§é¢æ¿-Inspectors-Inspector Properties"></p><h4 id="2-Hide-Inspector"><a href="#2-Hide-Inspector" class="headerlink" title="(2) Hide Inspector"></a>(2) Hide Inspector</h4><p><img src="/../img/Fiddler/Fiddler@021.png" srcset="/img/load.gif" lazyload alt="ç›‘æ§é¢æ¿-Inspectors-Hide Inspector"></p><h4 id="3-Hide-Inspectoræ¢å¤"><a href="#3-Hide-Inspectoræ¢å¤" class="headerlink" title="(3) Hide Inspectoræ¢å¤"></a>(3) Hide Inspectoræ¢å¤</h4><ul><li>èœå•æ -&gt;View-&gt;Tabs-&gt;Preferences&gt;fiddler.inspectors.hidelistçš„valueæ”¹ä¸ºTrueæˆ–Falseï¼Œä¿å­˜åé‡å¯ã€‚</li></ul><p><img src="/../img/Fiddler/Fiddler@022.png" srcset="/img/load.gif" lazyload alt="ç›‘æ§é¢æ¿-Inspectors-Hide Inspectoræ¢å¤"></p><h2 id="4-3-AutoResponder"><a href="#4-3-AutoResponder" class="headerlink" title="4-3 AutoResponder"></a>4-3 AutoResponder</h2><ul><li>AutoResponder<ul><li>æ”¯æŒåˆ›å»ºè§„åˆ™ï¼Œå¯åœ¨å“åº”è¯·æ±‚æ—¶è‡ªåŠ¨è§¦å‘ï¼Œå¸¸è§ä¾‹å­æ˜¯è¿”å›ä¹‹å‰æ•æ‰çš„å“åº”ï¼Œè€Œä¸éœ€è¦è®¿é—®æœåŠ¡å™¨ã€‚</li><li>Enable rulesï¼šç”¨æ¥æ§åˆ¶æ˜¯å¦æ¿€æ´»è‡ªåŠ¨å“åº”é€‰é¡¹å¡ã€‚</li><li>Unmatched requests passthroughï¼šç”¨æ¥æ§åˆ¶ä¼šè¯ä¸åŒ¹é…ç»™å®šè§„åˆ™æ—¶ä¼šå‘ç”Ÿçš„æƒ…å†µã€‚<ul><li>å¦‚æœå‹¾é€‰ï¼Œåˆ™ä¸åŒ¹é…çš„è¯·æ±‚ä¼šæ­£å¸¸å‘é€åˆ°æœåŠ¡å™¨ã€‚</li><li>å¦‚æœä¸å‹¾é€‰ï¼Œé‚£ä¹ˆFiddlerä¼šä¸ºæ‰€æœ‰ä¸è¯¥è§„åˆ™å®Œå…¨ä¸åŒ¹é…çš„HTTPè¯·æ±‚ï¼Œç”Ÿæˆå“åº”404 Not Foundã€‚</li><li>è‹¥å®¢æˆ·ç«¯å‘é€æ¡ä»¶è¯·æ±‚åŒ…å«If-None-Matchæˆ–If-Modified-Sinceï¼Œè¿”å›å“åº”304 Not Modifiedã€‚</li></ul></li><li>Enable Latency<ul><li>ç”¨æ¥æ§åˆ¶åŒ¹é…æŸä¸ªè§„åˆ™çš„è¯·æ±‚æ˜¯ç«‹å³æ‰§è¡Œï¼Œè¿˜æ˜¯å»¶è¿ŸLatencyå­—æ®µä¸­æ‰€æŒ‡å®šçš„æ¯«ç§’æ•°ã€‚</li><li>ä¸å‹¾é€‰Latencyå­—æ®µå°±ä¸æ˜¾ç¤ºï¼Œå‹¾é€‰å¯å‡†ç¡®åœ°æ¨¡æ‹ŸæœåŠ¡å™¨å®é™…å“åº”ï¼Œå–æ¶ˆå¯æå‡æ€§èƒ½ã€‚</li></ul></li><li>Add Ruleï¼šç‚¹å‡»è¯¥æŒ‰é’®æ·»åŠ ä¸€ä¸ªæ–°çš„AutoResponderè§„åˆ™ã€‚</li><li>Import<ul><li>æ”¯æŒå¯¼å…¥SAZæ–‡ä»¶ï¼Œå¯¼å…¥çš„æ¯ä¸ªä¼šè¯ä¼šè¢«ç”¨äºè§„åˆ™åˆ—è¡¨ç”Ÿæˆæ–°è§„åˆ™ã€‚</li><li>è¿˜å¯ä»¥å¯¼å…¥FARXæ–‡ä»¶ï¼ŒåŒ…å«ä»AutoResponderé€‰é¡¹å¡ä¸­å¯¼å‡ºçš„è§„åˆ™ã€‚</li></ul></li><li>ä¸­é—´æ˜¯è§„åˆ™åˆ—è¡¨<ul><li>If request matchesï¼šåŒ¹é…æ¡ä»¶ï¼Œç”¨äºåˆ¤æ–­æ¥æ”¶åˆ°çš„è¯·æ±‚æ˜¯å¦åŒ¹é…è¯¥è§„åˆ™ï¼Œå¤é€‰æ¡†æ§åˆ¶è§„åˆ™æ˜¯å¦é€‰ä¸­ã€‚</li><li>then respond withï¼šè§„åˆ™åŒ¹é…æ—¶æ‰€è¦é‡‡å–çš„æ“ä½œï¼Œå³è¿”å›å“ªäº›æ•°æ®ç»™è¯·æ±‚ï¼Œå¯æŒ‡å®šæœ¬åœ°æ–‡ä»¶æˆ–å…¶ä»–ã€‚</li><li>Latencyï¼šå‹¾é€‰Enable Latencyæ—¶æ‰å‡ºç°ï¼Œç”¨æ¥è¯´æ˜è§„åˆ™çš„å»¶è¿Ÿæ—¶é—´ã€‚</li></ul></li></ul></li></ul><p><img src="/../img/Fiddler/Fiddler@023.png" srcset="/img/load.gif" lazyload alt="ç›‘æ§é¢æ¿-AutoResponder"></p><h4 id="1-Rule-Editor"><a href="#1-Rule-Editor" class="headerlink" title="(1) Rule Editor"></a>(1) Rule Editor</h4><ul><li>åº•éƒ¨çš„Rule Editorç”¨æ¥è°ƒæ•´è§„åˆ™çš„åŒ¹é…æ¡ä»¶å’Œè¿”å›ï¼ŒTestæ”¯æŒæ ¹æ®é€‰ä¸­çš„æ ·æœ¬URIæµ‹è¯•åŒ¹é…æ¡ä»¶ã€‚<ul><li>URL Patternï¼šè®¾ç½®åŒ¹é…å…¬å¼ã€‚</li><li>Test URLï¼šè®¾ç½®æµ‹è¯•çš„ç½‘å€ã€‚</li><li>Save Changesï¼šå°†æ¡ä»¶æ›¿æ¢ä¸ºRule Editorçš„ç¬¬ä¸€è¡ŒåŒ¹é…æ¡ä»¶å†…å®¹ã€‚</li></ul></li><li>Match only onceè¡¨ç¤ºåªåŒ¹é…ä¸€æ¬¡ï¼ŒSaveä¸ºæ›´æ”¹è§„åˆ™åï¼Œæ›´æ–°è§„åˆ™å†…å®¹ã€‚</li><li>Rule Editorç¬¬äºŒè¡Œï¼Œè®¾ç½®è¿”å›ã€‚<ul><li>200_FiddlerGif.dat(è¿”å›ä¸€ä¸ªgifå›¾ç‰‡ç»™å®¢æˆ·ç«¯)ã€200_SimpleHTML.dat(è¿”å›ä¸€ä¸ªç®€å•çš„HTMLæŠ¥æ–‡)ã€‚</li><li>200_TransPixel.dat(è¿”å›ä¸€ä¸ªå†…ç½®çš„ä½å›¾)ã€204_NoContent.dat(è¿”å›çŠ¶æ€ç ä¸º204ä¸”æ— å†…å®¹çš„æŠ¥æ–‡)ã€‚</li><li>302_Redirect.dat(å³å°†é‡å®šå‘åˆ°Fiddlerå®˜ç½‘)ã€303_RedirectWithGet.dat(å³å°†é‡å®šå‘åˆ°Fiddlerå®˜ç½‘)ã€‚</li><li>304_NotModified.dat(è¿”å›çŠ¶æ€ç ä¸º304ï¼Œä¸”é•¿åº¦ä¸º0çš„æŠ¥æ–‡)ã€‚</li><li>307_RedirectWithMethod.dat(è¿”å›çŠ¶æ€ç ä¸º307çš„å“åº”æŠ¥æ–‡)ã€‚</li><li>401_AuthBasic.dat(è¿”å›çŠ¶æ€ç ä¸º401ï¼Œä¸”åŸºç¡€æƒé™éªŒè¯å¤±è´¥çš„å“åº”æŠ¥æ–‡ï¼Œç”¨æˆ·æ²¡æœ‰è®¿é—®æƒé™ï¼Œéœ€èº«ä»½è®¤è¯)ã€‚</li><li>401_AuthDigest.dat(è¿”å›çŠ¶æ€ç ä¸º401ï¼Œä¸”æ‘˜è¦æƒé™éªŒè¯å¤±è´¥çš„å“åº”æŠ¥æ–‡)ã€‚</li><li>403_AuthDeny.dat(è¿”å›çŠ¶æ€ç 403ï¼Œæ²¡æœ‰è®¿é—®æƒé™é”™è¯¯ä¿¡æ¯çš„å“åº”æŠ¥æ–‡)ã€‚</li><li>404_Plain.dat(è¿”å›HTMLæ–‡ä»¶ä¸å­˜åœ¨çš„å“åº”æŠ¥æ–‡)ã€‚</li><li>407_ProxyAuthBasic.dat(è¿”å›ä¸€ä¸ªä»£ç†æœåŠ¡æœªé€šè¿‡åŸºç¡€æƒé™è®¤è¯çš„å“åº”æŠ¥æ–‡)ã€‚</li><li>502_Unreachable.dat(è¿”å›ä¸€ä¸ªçŠ¶æ€ç ä¸º502ï¼Œå¹¶ä¸”æœåŠ¡å™¨ä¸å¯ç”¨çš„å“åº”æŠ¥æ–‡)ã€‚</li><li>*bpu(ä¸ºå½“å‰åŒ¹é…çš„è¯·æ±‚æ·»åŠ è¯·æ±‚æ–­ç‚¹)ã€‚</li><li>*bpafter(ä¸ºå½“å‰åŒ¹é…çš„è¯·æ±‚æ·»åŠ å“åº”æ–­ç‚¹)ã€*exit(åœæ­¢æ­£åœ¨å¤„ç†çš„è§„åˆ™)ã€‚</li><li>*drop(ä¸å‘é€å“åº”ï¼Œé©¬ä¸Šå…³é—­å®¢æˆ·ç«¯è¿æ¥ï¼ŒTCP&#x2F;Iå±‚è§’åº¦çœ‹ï¼Œè¯¥è¿æ¥æ˜¯ä¼˜é›…æ–­å¼€çš„ï¼Œå‘å®¢æˆ·ç«¯è¿”å›FIN)ã€‚</li><li>*reset(ä¸å‘é€å“åº”ï¼Œé©¬ä¸Šå…³é—­å®¢æˆ·ç«¯è¿æ¥ï¼ŒTCP&#x2F;Iå±‚è§’åº¦çœ‹ï¼Œè¯¥è¿æ¥æ˜¯ç²—æš´æ–­å¼€çš„ï¼Œå‘å®¢æˆ·ç«¯è¿”å›RST)ã€‚</li><li>*delay:100(ä¸ºå½“å‰åŒ¹é…çš„è¯·æ±‚æ·»åŠ 100æ¯«ç§’çš„å»¶è¿Ÿï¼Œæ”¯æŒä¾æ®éœ€æ±‚ï¼Œå°†è¯¥å»¶è¿Ÿæ”¹ä¸ºæƒ³è¦å»¶è¿Ÿçš„å…·ä½“æ—¶é—´)ã€‚</li><li>*ReplyWithTunnel(ä½¿ç”¨éš§é“è¿›è¡Œå›å¤)ã€‚</li><li>*CORSPreflightAllow<ul><li>å¯ç¡®ä¿æœåŠ¡å™¨å¯¹CORSæ ‡å‡†çŸ¥æƒ…ï¼Œä¿æŠ¤ä¸æ”¯æŒCORSçš„æ—§æœåŠ¡å™¨ã€‚</li><li>å€ŸåŠ©Access-Control-Allow-Originå“åº”å¤´å­—æ®µå…è®¸è·¨åŸŸAJAXã€‚</li><li>éç®€å•è¯·æ±‚CORSæœºåˆ¶è·¨åŸŸä¼šé¦–å…ˆè¿›è¡Œpreflight(Optionsè¯·æ±‚)ï¼Œè¯¥è¯·æ±‚æˆåŠŸåæ‰å‘é€çœŸæ­£çš„è¯·æ±‚ã€‚</li></ul></li><li>*flag:ui-backcolor&#x3D;#FFD700(å°†å½“å‰åŒ¹é…çš„è¯·æ±‚åœ¨Webè¯·æ±‚åˆ—è¡¨ä¸­æ·»åŠ èƒŒæ™¯é¢œè‰²ï¼Œé»˜è®¤é»„è‰²èƒŒæ™¯)ã€‚</li><li>*header:HeaderName&#x3D;NewValue(æ·»åŠ å¤´å­—æ®µï¼Œå­—æ®µåHeaderNameï¼Œå­—æ®µå€¼NewValueï¼Œå¯ä¾æ®éœ€æ±‚è®¾ç½®)ã€‚</li><li>*redir:<a href="http://www.example.com/">http://www.example.com</a>(è¿”å›æŒ‡å‘ç›®æ ‡URLçš„307é‡å®šå‘å“åº”ï¼Œå‰ç¼€ç¡®ä¿å®¢æˆ·ç«¯çŸ¥é“è¯·æ±‚å‘é€åˆ°å“ª)ã€‚</li><li>*script:FiddlerScriptFunctionName(ä¸ºåŒ¹é…çš„è¯·æ±‚è°ƒç”¨FiddlerScriptä¸­æŒ‡å®šçš„å‡½æ•°)ã€‚</li><li><a href="http://www.example.com/">http://www.example.com</a>(å°†è¯¥åœ°å€çš„å“åº”ä½œä¸ºå®¢æˆ·ç«¯å“åº”ï¼Œæœ‰æ•ˆåœ°æŠŠè¯·æ±‚é‡å®šå‘åˆ°æŒ‡å®šURL)ã€‚</li><li>Create New Responseâ€¦(è¾“å…¥æ–‡ä»¶åï¼Œåœ¨FiddleræŒ‡å®šçš„ç›®å½•ä¸‹æŸ¥æ‰¾è¯¥æ–‡ä»¶ä¿¡æ¯)ã€‚</li><li>Find a fileâ€¦(é€‰æ‹©æœ¬åœ°ä¸€ä¸ªæ–‡ä»¶ï¼Œä¾‹å¦‚æ–‡æœ¬ã€å›¾ç‰‡ç­‰ï¼Œä½œä¸ºå“åº”è¿”å›ç»™å®¢æˆ·ç«¯)ã€‚</li></ul></li></ul><p><img src="/../img/Fiddler/Fiddler@024.png" srcset="/img/load.gif" lazyload alt="ç›‘æ§é¢æ¿-AutoResponder-Rule Editor"></p><h4 id="2-Ruleå³é”®èœå•"><a href="#2-Ruleå³é”®èœå•" class="headerlink" title="(2) Ruleå³é”®èœå•"></a>(2) Ruleå³é”®èœå•</h4><ul><li>Remote(ç§»é™¤è§„åˆ™)ã€Promote(å°†é€‰ä¸­çš„è§„åˆ™å‘ä¸Šç§»åŠ¨)ã€Demote(å°†é€‰ä¸­çš„è§„åˆ™å‘ä¸‹ç§»åŠ¨)ã€‚</li><li>Clone(å…‹éš†ä¸€ä¸ªé€‰ä¸­çš„è§„åˆ™åˆ°è§„åˆ™æ¡†ä¸­)ã€Set Latency(è®¾ç½®å“åº”çš„å»¶è¿Ÿæ—¶é—´ï¼Œå•ä½ä¸ºæ¯«ç§’)ã€‚</li><li>Set Comments(è®¾ç½®æ³¨é‡Šæ¥æç¤ºå½“å‰è§„åˆ™çš„ä½œç”¨)ã€Edit Response(ç¼–è¾‘å½“å‰è§„åˆ™è®¾ç½®çš„å“åº”æ–‡ä»¶)ã€‚</li><li>Generate File(ç”Ÿæˆå“åº”æ–‡ä»¶)ã€Edit File With(å°†åŒ¹é…åˆ°çš„å“åº”ä¿å­˜ä¸ºæœ¬åœ°æ–‡ä»¶å¹¶ç”¨ç¼–è¾‘å™¨æ‰“å¼€)ã€‚</li><li>Open Url(ä½¿ç”¨é»˜è®¤çš„ç½‘é¡µæµè§ˆå™¨æ‰“å¼€åŒ¹é…æ¡ä»¶ä¸­çš„ç½‘å€)ã€Find(è§„åˆ™æ¡†ä¸­å¯»æ‰¾å­—ç¬¦ä¸²ï¼Œé«˜äº®æ˜¾ç¤º)ã€‚</li><li>Export All(å¯¼å‡ºå½“å‰è§„åˆ™ä¸ºfarxçš„æ–‡ä»¶)ã€‚</li></ul><p><img src="/../img/Fiddler/Fiddler@025.png" srcset="/img/load.gif" lazyload alt="ç›‘æ§é¢æ¿-AutoResponder-Ruleå³é”®èœå•"></p><h4 id="3-è®¿é—®æ–°æµªå®æˆ˜"><a href="#3-è®¿é—®æ–°æµªå®æˆ˜" class="headerlink" title="(3) è®¿é—®æ–°æµªå®æˆ˜"></a>(3) è®¿é—®æ–°æµªå®æˆ˜</h4><ul><li>å»ºç«‹ä¸€ä¸ªè§„åˆ™ï¼Œè®¿é—®æ–°æµªå®˜ç½‘ï¼Œä½¿å…¶è¿”å›çš„æ˜¯ç™¾åº¦æœç´¢é¡µé¢ã€‚<ul><li>è®¿é—®<a href="https://www.baidu.com/">ç™¾åº¦</a>ï¼Œå¤åˆ¶æºç ä¿å­˜ä¸ºæœ¬åœ°baidu.htmlæ–‡ä»¶ï¼Œæµè§ˆå™¨äº‹å…ˆæ‰“å¼€<a href="https://www.sina.com.cn/">æ–°æµªç½‘</a>ï¼Œç¡®ä¿Fiddleræ­£å¸¸æŠ“åŒ…ã€‚</li><li>ä¼šè¯é¢æ¿é€‰ä¸­æ–°æµªç½‘çš„è¯·æ±‚ä¼šè¯-&gt;AutoResponder-&gt;Add Rule-&gt;Rule Editorç¬¬äºŒè¡ŒFind a Fileã€‚</li><li>é€‰æ‹©å·²ä¿å­˜åˆ°æœ¬åœ°çš„baidu.htmlæ–‡ä»¶-&gt;å‹¾é€‰Enable rules-&gt;æµè§ˆå™¨å†æ¬¡è¯·æ±‚<a href="https://www.sina.com.cn/">æ–°æµªç½‘</a>é¡µé¢è¿›è¡ŒæŸ¥çœ‹ã€‚</li></ul></li></ul><p><img src="/../img/Fiddler/Fiddler@026.png" srcset="/img/load.gif" lazyload alt="ç›‘æ§é¢æ¿-AutoResponder-è®¿é—®æ–°æµªå®æˆ˜"></p><h2 id="4-4-Composer"><a href="#4-4-Composer" class="headerlink" title="4-4 Composer"></a>4-4 Composer</h2><ul><li>Composer<ul><li>æ”¯æŒæ‰‹åŠ¨æ„å»ºå’Œå‘é€HTTPã€HTTPSå’ŒFTPè¯·æ±‚ï¼Œç‚¹å‡»ExecuteæŒ‰é’®å°†è¯·æ±‚å‘é€åˆ°æœåŠ¡å™¨ç«¯ã€‚</li><li>å¯ä»¥ä»Webä¼šè¯åˆ—è¡¨ä¸­æ‹–æ‹½ä¼šè¯åˆ°Composeré€‰é¡¹å¡ä¸­ï¼Œå°†è¯¥Sessionçš„è¯·æ±‚å¤åˆ¶åˆ°ç”¨æˆ·ç•Œé¢ã€‚</li></ul></li></ul><h4 id="1-Parsed"><a href="#1-Parsed" class="headerlink" title="(1) Parsed"></a>(1) Parsed</h4><ul><li>æ”¯æŒä¸ºæ¯ä¸ªè¯·æ±‚ç»„ä»¶ä½¿ç”¨ç‹¬ç«‹çš„è¾“å…¥æ¡†æ„å»ºè¯·æ±‚ã€‚<ul><li>HTTPæ–¹æ³•ï¼šGETã€POSTã€PUTã€HEADã€TRACEã€DELETEç­‰ã€‚</li><li>è¯·æ±‚çš„ç»å¯¹URLï¼Œå¿…é¡»ä»¥<code>http://</code>ã€<code>https://</code>æˆ–<code>ftp://</code>å¼€å¤´ã€‚</li><li>æŒ‡å®šè¯·æ±‚çš„HTTPåè®®ç‰ˆæœ¬ï¼Œé€šå¸¸æ˜¯HTTP&#x2F;1.1ã€‚</li></ul></li><li>è‹¥å½“å‰çš„è¯·æ±‚æ–¹æ³•ä¸æ”¯æŒè¯·æ±‚ä½“ï¼Œä¾‹å¦‚GETæ–¹æ³•ï¼Œåˆ™åœ¨è¯·æ±‚ä½“è¾“å…¥æ¡†è¾“å…¥æ–‡æœ¬æ—¶ä¼šæ˜¾ç¤ºçº¢è‰²èƒŒæ™¯ã€‚</li></ul><p><img src="/../img/Fiddler/Fiddler@027.png" srcset="/img/load.gif" lazyload alt="ç›‘æ§é¢æ¿-Composer-Parsed"></p><h4 id="2-Upload-file"><a href="#2-Upload-file" class="headerlink" title="(2) Upload file"></a>(2) Upload file</h4><ul><li>Parsedé€‰é¡¹å¡ä¸Šæœ‰ä¸€ä¸ªUpload fileä¸Šä¼ æ–‡ä»¶æŒ‰é’®ã€‚</li><li>è¯·æ±‚æ–¹æ³•æ˜¯PUTåªèƒ½é€‰ä¸€ä¸ªæ–‡ä»¶ï¼Œè¯·æ±‚æ–¹æ³•æ˜¯POSTåˆ™å¯ä»¥é€‰å¤šä¸ªæ–‡ä»¶ã€‚</li><li>ä¸Šä¼ æ–‡ä»¶å(æŒ‡å®šPUTæˆ–POST)ï¼ŒComposerå¯åˆ›å»ºåŒ…å«é€‚å½“æ ¼å¼çš„è¯·æ±‚ã€‚<ul><li>ä½¿ç”¨PUTæ–¹æ³•æ‰§è¡Œæ–‡ä»¶ä¸Šä¼ æ—¶ï¼Œè¯·æ±‚ä½“é€šå¸¸åŒ…å«æ–‡ä»¶çš„åŸå§‹å†…å®¹ã€‚</li><li>ä½¿ç”¨POSTæ–¹æ³•ä¸Šä¼ æ—¶ï¼Œé€šå¸¸ä¼šç”¨Content-Typeå€¼æ ¼å¼åŒ–è¯·æ±‚ä½“ã€‚</li></ul></li><li>è¯·æ±‚æ‰§è¡Œæ—¶ï¼Œè¯·æ±‚ä½“ä¸­çš„æ‰€æœ‰<code>@INCLUDE</code>å¼•ç”¨ä¼šæ›¿æ¢æˆæŒ‡å®šæ–‡ä»¶çš„å†…å®¹ã€‚</li></ul><p><img src="/../img/Fiddler/Fiddler@028.png" srcset="/img/load.gif" lazyload alt="ç›‘æ§é¢æ¿-Composer-Upload file"></p><h4 id="3-Raw"><a href="#3-Raw" class="headerlink" title="(3) Raw"></a>(3) Raw</h4><ul><li>æä¾›äº†ç®€å•çš„æ–‡æœ¬æ¡†ï¼Œå¯ä»¥åœ¨è¯¥æ–‡æœ¬æ¡†ä¸­è¾“å…¥åˆé€‚çš„HTTPè¯·æ±‚ã€‚</li><li>å¦‚æœè¾“å…¥çš„è¯·æ±‚æ–‡æœ¬æ ¼å¼ä¸å¯¹ï¼Œç‚¹å‡»ExecuteæŒ‰é’®ä¸ä¼šå‘èµ·è¯·æ±‚ã€‚</li><li>Rawé€‰é¡¹å¡ä½¿ç”¨è¾ƒå°‘ï¼Œå¤šä»¥Parsedé€‰é¡¹å¡ä¸ºå‡†ã€‚</li></ul><p><img src="/../img/Fiddler/Fiddler@029.png" srcset="/img/load.gif" lazyload alt="ç›‘æ§é¢æ¿-Composer-Raw"></p><h4 id="4-Scratchpad"><a href="#4-Scratchpad" class="headerlink" title="(4) Scratchpad"></a>(4) Scratchpad</h4><ul><li>ç”¨äºå­˜å‚¨è¯·æ±‚é›†åˆï¼Œå¦‚æœè¦å‘å‡ºè¯·æ±‚ï¼Œé€‰æ‹©å¯¹åº”çš„è¯·æ±‚æ–‡æœ¬ï¼Œå¹¶ç‚¹å‡»ExecuteæŒ‰é’®æ‰§è¡Œå³å¯ã€‚</li></ul><p><img src="/../img/Fiddler/Fiddler@030.png" srcset="/img/load.gif" lazyload alt="ç›‘æ§é¢æ¿-Composer-Scratchpad"></p><h4 id="5-Options"><a href="#5-Options" class="headerlink" title="(5) Options"></a>(5) Options</h4><ul><li>Inspect Sessionï¼šå‹¾é€‰è¯¥é¡¹ï¼Œç‚¹å‡»ExecuteæŒ‰é’®æ‰§è¡Œè¯·æ±‚æ—¶ä¼šè·³è½¬åˆ°Inspectorsé€‰é¡¹å¡ï¼Œå¯æŸ¥çœ‹è¯·æ±‚ç»“æœã€‚</li><li>Fix Content- Length header<ul><li>æ§åˆ¶Composeræ˜¯å¦è‡ªåŠ¨æ·»åŠ æˆ–ä¿®æ”¹Content-Lengthè¯·æ±‚å¤´ï¼Œè¡¨ç¤ºè¯·æ±‚ä½“çš„å¤§å°ã€‚</li><li>åœ¨å¤šæ•°æƒ…å†µä¸‹ï¼Œç¼ºå°‘é€‚å½“çš„Content-Lengthè¯·æ±‚ä¼šHangä½æˆ–å¯¼è‡´HTTPå“åº”å‡ºé”™ã€‚</li></ul></li><li>Follow Redirects<ul><li>æ§åˆ¶Composeræ˜¯å¦è‡ªåŠ¨ä½¿ç”¨å“åº”çš„Locationå¤´ï¼Œéµå¾ªHTTP&#x2F;3xxé‡å®šå‘ã€‚</li><li>å¦‚æœå‹¾é€‰è¯¥é¡¹ï¼ŒComposeré€‰é¡¹å¡åœ¨å¤±è´¥ä¹‹å‰æœ€å¤šä¼šæ‰§è¡Œ10æ¬¡3xxé‡å®šå‘ã€‚</li></ul></li><li>Automatically Authenticate<ul><li>æ§åˆ¶Composeræ˜¯å¦è‡ªåŠ¨å“åº”æœåŠ¡å™¨çš„HTTP&#x2F;401æˆ–HTTP&#x2F;407è®¤è¯éœ€æ±‚ã€‚</li><li>å¦‚æœå‹¾é€‰è¯¥é¡¹ï¼Œä¼šä½¿ç”¨Fiddleræ‰€è¿è¡Œè´¦æˆ·çš„Windowsè¯ä¹¦è‡ªåŠ¨å“åº”è¿™äº›é—®é¢˜ã€‚</li><li>ä¸”éœ€è¦æä¾›ä¸åŒçš„è¯ä¹¦é›†ï¼Œè®¾ç½®Preferencesçš„fiddler.composer.autoauthå€¼ã€‚</li><li>è‹¥æœåŠ¡å™¨éœ€è¦çš„è¯ä¹¦å’Œæä¾›æ–¹çš„è¯ä¹¦ä¸åŒï¼Œè¯·æ±‚ä¼šå¤±è´¥ï¼Œé€šå¸¸è¿”å›å“åº”HTTP&#x2F;403ã€‚</li></ul></li><li>Tear off<ul><li>ä»ç›‘æ§é¢æ¿çª—å£åˆ é™¤Composeré€‰é¡¹å¡ï¼Œå¹¶å°†å…¶ä½œä¸ºç‹¬ç«‹çš„æ‚¬æµ®çª—å£æ‰“å¼€æŸ¥çœ‹ã€‚</li><li>å‹¾é€‰Inspect Sessionï¼Œç‚¹å‡»æŒ‰é’®ï¼Œæ”¯æŒåŒæ—¶æŸ¥çœ‹Composerå’ŒInspectoré€‰é¡¹å¡ã€‚</li></ul></li></ul><p><img src="/../img/Fiddler/Fiddler@031.png" srcset="/img/load.gif" lazyload alt="ç›‘æ§é¢æ¿-Composer-Options"></p><h4 id="6-åºåˆ—åŒ–è¯·æ±‚"><a href="#6-åºåˆ—åŒ–è¯·æ±‚" class="headerlink" title="(6) åºåˆ—åŒ–è¯·æ±‚"></a>(6) åºåˆ—åŒ–è¯·æ±‚</h4><ul><li>æ¨¡æ‹ŸæŸäº›åœºæ™¯ï¼Œå‘é€å¤šä¸ªè¯·æ±‚ï¼Œè¿™äº›è¯·æ±‚é™¤äº†æŸä¸ªæœ‰åºçš„æ•°å­—å¤–ï¼Œå…¶ä»–å®Œå…¨ç›¸åŒã€‚</li><li>ä¾‹å¦‚Flaskå®ç°çš„ä¸€ä¸ªç®€å•ç½‘é¡µå±•ç¤ºå›¾ç‰‡ä¿¡æ¯ç¨‹åºï¼Œå›¾ç‰‡åç§°åŸºæœ¬ä¸€è‡´ï¼Œåºå·ä¸åŒã€‚</li><li>åˆ©ç”¨Fiddlerçš„å‘é€åºåˆ—åŒ–è¯·æ±‚ï¼Œé€ä¸€è®¿é—®image-001.pngåˆ°image-007.pngçš„å›¾ç‰‡ã€‚<ul><li>å¯åŠ¨Flaskå°ç¨‹åºï¼Œåœ¨Composerä¸­è¾“å…¥URLåœ°å€ï¼Œåºå·éƒ¨åˆ†ä½¿ç”¨<code>#</code>å·ä»£æ›¿ã€‚</li><li>æœ¬åœ°å°ç¨‹åºï¼ŒURLåœ°å€ä¸ºï¼š<a href="http://127.0.0.1:5000/image/image-#.png">http://127.0.0.1:5000/image/image-#.png</a>ã€‚</li><li>ç‚¹å‡»ExecuteæŒ‰é’®æ‰§è¡Œè¯·æ±‚ï¼Œæ­¤æ—¶Fiddlerè¦æ±‚è¾“å…¥åºå·å¼€å§‹å€¼ï¼Œè¾“å…¥001ã€‚</li><li>OK-&gt;å†è¾“å…¥åºå·ç»“æŸå€¼007-&gt;OK-&gt;Fiddlerä¼šè‡ªåŠ¨è®¡ç®—åºåˆ—ä¸”å‘èµ·è¯·æ±‚ã€‚</li></ul></li></ul><p><img src="/../img/Fiddler/Fiddler@032.png" srcset="/img/load.gif" lazyload alt="ç›‘æ§é¢æ¿-Composer-åºåˆ—åŒ–è¯·æ±‚"></p><h5 id="âœ§-ç¨‹åºç›®å½•"><a href="#âœ§-ç¨‹åºç›®å½•" class="headerlink" title="âœ§ ç¨‹åºç›®å½•"></a>âœ§ ç¨‹åºç›®å½•</h5><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Markdown"><span class="hljs-bullet">-</span> /static<br><span class="hljs-bullet">  -</span> /images<br><span class="hljs-bullet">    -</span> image-001.png<br><span class="hljs-bullet">    -</span> image-002.png<br><span class="hljs-bullet">    -</span> image-003.png<br><span class="hljs-bullet">    -</span> image-004.png<br><span class="hljs-bullet">    -</span> image-005.png<br><span class="hljs-bullet">    -</span> image-006.png<br><span class="hljs-bullet">    -</span> image-007.png<br><span class="hljs-bullet">-</span> /templates<br><span class="hljs-bullet">  -</span> image.html<br><span class="hljs-bullet">-</span> image.py                                                    # å‘½ä»¤çª—å£æ‰§è¡Œpython image.py<br></code></pre></td></tr></table></figure><h5 id="âœ§-image-py"><a href="#âœ§-image-py" class="headerlink" title="âœ§ image.py"></a>âœ§ image.py</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> datetime<br><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask, render_template, url_for, send_file<br><br>app = Flask(__name__)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_metadata</span>(<span class="hljs-params">file_path</span>):<br>    size = os.path.getsize(file_path)                         <span class="hljs-comment"># è·å–æ–‡ä»¶å¤§å°ï¼Œå•ä½å­—èŠ‚</span><br>    mtime = os.path.getmtime(file_path)                       <span class="hljs-comment"># è·å–æ–‡ä»¶æœ€è¿‘ä¿®æ”¹æ—¶é—´</span><br>    modified_time = datetime.datetime.fromtimestamp(mtime).strftime(<span class="hljs-string">&#x27;%Y-%m-%d %H:%M:%S&#x27;</span>)<br>    ctime = os.path.getctime(file_path)                       <span class="hljs-comment"># è·å–æ–‡ä»¶åˆ›å»ºæ—¶é—´</span><br>    created_time = datetime.datetime.fromtimestamp(ctime).strftime(<span class="hljs-string">&#x27;%Y-%m-%d %H:%M:%S&#x27;</span>)<br>    <span class="hljs-keyword">return</span> size, modified_time, created_time<br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/&#x27;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">index</span>():<br>    image_names = [<span class="hljs-string">&#x27;image-001.png&#x27;</span>, <span class="hljs-string">&#x27;image-002.png&#x27;</span>, <span class="hljs-string">&#x27;image-003.png&#x27;</span>,<br>                   <span class="hljs-string">&#x27;image-004.png&#x27;</span>, <span class="hljs-string">&#x27;image-005.png&#x27;</span>, <span class="hljs-string">&#x27;image-006.png&#x27;</span>,<br>                   <span class="hljs-string">&#x27;image-007.png&#x27;</span>]<br>    image_info_list = []                                      <span class="hljs-comment"># è·å–æ‰€æœ‰å›¾ç‰‡æ–‡ä»¶çš„å…ƒæ•°æ®</span><br>    <span class="hljs-keyword">for</span> image_name <span class="hljs-keyword">in</span> image_names:<br>        file_path = os.path.join(app.static_folder, <span class="hljs-string">&#x27;images&#x27;</span>, image_name)<br>        size, modified_time, created_time = get_metadata(file_path)<br>        show_image = url_for(<span class="hljs-string">&#x27;show_image&#x27;</span>, image_name=image_name)<br>        image_info_list.append(&#123;<span class="hljs-string">&#x27;name&#x27;</span>: image_name,<br>                                <span class="hljs-string">&#x27;modified_time&#x27;</span>: modified_time,<br>                                <span class="hljs-string">&#x27;created_time&#x27;</span>: created_time,<br>                                <span class="hljs-string">&#x27;size&#x27;</span>: size,<br>                                <span class="hljs-string">&#x27;show_image&#x27;</span>: show_image&#125;)<br>    <span class="hljs-keyword">return</span> render_template(<span class="hljs-string">&#x27;image.html&#x27;</span>, image_info_list=image_info_list)<br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/image/&lt;string:image_name&gt;&#x27;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">show_image</span>(<span class="hljs-params">image_name</span>):<br>    current_dir = os.path.dirname(os.path.abspath(__file__))  <span class="hljs-comment"># ç¡®å®šè¦ä¸‹è½½çš„æ–‡ä»¶è·¯å¾„</span><br>    file_path = current_dir + <span class="hljs-string">&#x27;\\static\\images\\&#x27;</span> + image_name<br>    <span class="hljs-built_in">print</span>(file_path)<br><br>    <span class="hljs-keyword">if</span> os.path.isfile(file_path):                             <span class="hljs-comment"># å¦‚æœè¯¥æ–‡ä»¶å­˜åœ¨ï¼Œåˆ™è¿”å›å®ƒ</span><br>        _, ext = os.path.splitext(file_path)                  <span class="hljs-comment"># ç¡®å®šæ–‡ä»¶çš„æ‰©å±•åå’ŒMIMEç±»å‹</span><br>        mime_type = &#123;<br>            <span class="hljs-string">&#x27;.png&#x27;</span>: <span class="hljs-string">&#x27;image/png&#x27;</span>,<br>            <span class="hljs-string">&#x27;.jpg&#x27;</span>: <span class="hljs-string">&#x27;image/jpeg&#x27;</span>,<br>            <span class="hljs-string">&#x27;.gif&#x27;</span>: <span class="hljs-string">&#x27;image/gif&#x27;</span><br>        &#125;.get(ext.lower(), <span class="hljs-string">&#x27;application/octet-stream&#x27;</span>)<br>        <span class="hljs-keyword">return</span> send_file(file_path, as_attachment=<span class="hljs-literal">False</span>, mimetype=mime_type)<br>    <span class="hljs-keyword">else</span>:                                                     <span class="hljs-comment"># å¦åˆ™è¿”å›ä¸€ä¸ªé”™è¯¯ä¿¡æ¯</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&lt;center&gt;Error! The requested file does not exist.&lt;/center&gt;&#x27;</span><br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    app.run(debug=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><h5 id="âœ§-image-html"><a href="#âœ§-image-html" class="headerlink" title="âœ§ image.html"></a>âœ§ image.html</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>å›¾ç‰‡å±•ç¤º<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.1.0/css/bootstrap.min.css&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;&#123;&#123; url_for(&#x27;static&#x27;, filename=&#x27;css/gallery.css&#x27;) &#125;&#125;&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;text-center&quot;</span>&gt;</span>Image Gallery<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;container&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">table</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;table table-striped&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">thead</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">tr</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;text-center&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>Image Name<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>Last Modified Time<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>Created Time<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>File Size<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>Show Link<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span><br>          <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">thead</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">tbody</span>&gt;</span><br>          &#123;% for image_info in image_info_list %&#125;<br>            <span class="hljs-tag">&lt;<span class="hljs-name">tr</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;text-center&quot;</span>&gt;</span><br>              <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>&#123;&#123; image_info[&#x27;name&#x27;] &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>              <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>&#123;&#123; image_info[&#x27;modified_time&#x27;] &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>              <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>&#123;&#123; image_info[&#x27;created_time&#x27;] &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>              <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>&#123;&#123; image_info[&#x27;size&#x27;] &#125;&#125; bytes<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>              <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;&#123;&#123; url_for(&#x27;show_image&#x27;, image_name=image_info[&#x27;name&#x27;]) &#125;&#125;&quot;</span>&gt;</span>Show<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>              <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>          &#123;% endfor %&#125;<br>        <span class="hljs-tag">&lt;/<span class="hljs-name">tbody</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="4-5-Orchestra"><a href="#4-5-Orchestra" class="headerlink" title="4-5 Orchestra"></a>4-5 Orchestra</h2><ul><li>Orchestra<ul><li>æŠ“å–APPæµé‡åŸç†ï¼šAPPè¿æ¥åˆ°OrchestraæœåŠ¡åï¼ŒOrchestraæ­£å¸¸è½¬å‘æµé‡çš„åŒæ—¶å†å¤åˆ¶ä¸€ä»½æµé‡ç»™Fiddlerã€‚</li><li>Fiddler-&gt;Orchestra-&gt;<code>Download Fiddler Orchestra client for Windows, Mac and Linux</code>-&gt;è§£å‹æ–‡ä»¶ã€‚</li><li>åœ¨å½“å‰è§£å‹çš„ç›®å½•ä¸­ï¼Œé¼ æ ‡å³é”®Git Bash Here-&gt;è¾“å…¥<code>dotnet FiddlerOrchestra.Client.NetCore.dll</code>å›è½¦ã€‚</li><li>è‹¥æ˜¾ç¤ºä»¥ä¸‹å†…å®¹ï¼Œåˆ™<a href="https://dotnet.microsoft.com/zh-cn/download/dotnet/2.0">ä¸‹è½½å®‰è£….NET Core 2.0</a>-&gt;å¦èµ·ä¸€ä¸ªGit Bash Hereï¼Œè¾“å…¥å‘½ä»¤å›è½¦ï¼Œå¯åŠ¨Orchestraå®¢æˆ·ç«¯ã€‚</li></ul></li></ul><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Cmd">$ dotnet FiddlerOrchestra.Client.NetCore.dll                  # ç¼ºå°‘.<span class="hljs-built_in">NET</span> Core <span class="hljs-number">2</span>.<span class="hljs-number">0</span><br>It was <span class="hljs-keyword">not</span> possible to <span class="hljs-built_in">find</span> any compatible framework version<br>The framework &#x27;Microsoft.NETCore.App&#x27;, version &#x27;<span class="hljs-number">2</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>&#x27; (x64) was <span class="hljs-keyword">not</span> found.<br>  - The following frameworks were found:<br>      <span class="hljs-number">6</span>.<span class="hljs-number">0</span>.<span class="hljs-number">6</span> <span class="hljs-built_in">at</span> [C:\Program Files\dotnet\shared\Microsoft.NETCore.App]<br>You can resolve the problem by installing the specified framework and/or SDK.<br>The specified framework can be found <span class="hljs-built_in">at</span>:<br>  - https://aka.ms/dotnet-core-applaunch?framework=Microsoft.NETCore.App&amp;framework_version=<span class="hljs-number">2</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span><br>  &amp;arch=x64&amp;rid=win10-x64<br><br># æ­£å¸¸å¯åŠ¨Fiddler Orchestra Betaå®¢æˆ·ç«¯ï¼Œå…·ä½“æ“ä½œå¯ä»¥å‚è€ƒ[https://zhuanlan.zhihu.com/p/<span class="hljs-number">551401338</span>]<br>$ dotnet FiddlerOrchestra.Client.NetCore.dll                  # å¯åŠ¨åä¸å…³ï¼Œåé¢é…ç½®Orchestraæœ‰ç”¨<br>Hosting environment: Production<br>Content root <span class="hljs-built_in">path</span>: D:\Program\FiddlerOrchestra<br>Now listening on: http://localhost:<span class="hljs-number">8800</span><br>Application started. Press Ctrl+C to shut down.<br>...<br></code></pre></td></tr></table></figure><h4 id="1-è¿æ¥å®¢æˆ·ç«¯"><a href="#1-è¿æ¥å®¢æˆ·ç«¯" class="headerlink" title="(1) è¿æ¥å®¢æˆ·ç«¯"></a>(1) è¿æ¥å®¢æˆ·ç«¯</h4><ul><li>ç®¡ç†å‘˜èº«ä»½è¿è¡ŒFiddler-&gt;Orchestra-&gt;ç‚¹Startå¯åŠ¨ç›‘å¬-&gt;é…ç½®Orchestraå®¢æˆ·ç«¯ï¼Œè®¿é—®<a href="http://localhost:8800/">http://localhost:8800</a>ã€‚</li><li>Orchestra Connection-&gt;IP Addressä¸º127.0.0.1ï¼ŒPortä¸º3636ï¼ŒPrivate keyå³Fiddlerä¸­çš„å¯†é’¥-&gt;ç‚¹å‡»Connectã€‚</li><li>Fiddlerä¸Orchestraå®¢æˆ·ç«¯è¿æ¥æˆåŠŸï¼Œåˆ™Private keyæ— æ³•ä¿®æ”¹ï¼ŒConnectå˜Disconnectï¼ŒOrchestraç•Œé¢æ˜¾ç¤ºè¿æ¥è¯¦ç»†ã€‚</li></ul><p><img src="/../img/Fiddler/Fiddler@033.png" srcset="/img/load.gif" lazyload alt="ç›‘æ§é¢æ¿-Orchestra-è¿æ¥å®¢æˆ·ç«¯"></p><h4 id="2-é…ç½®è¯ä¹¦ä¸‹è½½"><a href="#2-é…ç½®è¯ä¹¦ä¸‹è½½" class="headerlink" title="(2) é…ç½®è¯ä¹¦ä¸‹è½½"></a>(2) é…ç½®è¯ä¹¦ä¸‹è½½</h4><ul><li><a href="http://localhost:8800/">http://localhost:8800</a>-&gt;HTTPS Root Certificate-&gt;Generate root certificate as PKCS#12 file-&gt;åˆ›å»ºåŠä¸‹è½½è¯ä¹¦ã€‚</li><li>å°†ä¸‹è½½çš„è¯ä¹¦<code>fiddler-orchestra-root-certificate.p12</code>å­˜æ”¾åˆ°æŒ‡å®šä½ç½®-&gt;HTTPS Root Certificateé¡µé¢è¿›è¡ŒåŠ è½½ã€‚</li><li>ç‚¹å‡»Load root certificate from PKCS#12 file-&gt;é¡µé¢çš„é¡¶éƒ¨å°†æ˜¾ç¤º<code>Successï¼šHTTPS root certificate is loaded</code>ã€‚</li></ul><p><img src="/../img/Fiddler/Fiddler@034.png" srcset="/img/load.gif" lazyload alt="ç›‘æ§é¢æ¿-Orchestra-é…ç½®è¯ä¹¦ä¸‹è½½"></p><h4 id="3-å¯åŠ¨å…¨éƒ¨æœåŠ¡"><a href="#3-å¯åŠ¨å…¨éƒ¨æœåŠ¡" class="headerlink" title="(3) å¯åŠ¨å…¨éƒ¨æœåŠ¡"></a>(3) å¯åŠ¨å…¨éƒ¨æœåŠ¡</h4><ul><li>å¯åŠ¨å…¨éƒ¨æœåŠ¡ï¼šProxy-&gt;å‹¾é€‰Allow remote clients to connect-&gt;Startã€‚</li><li>HTTP Reverse Proxy-&gt;å‹¾é€‰Allow remote clients to connect-&gt;Startã€‚</li><li>HTTPS Reverse Proxy-&gt;<code>File path</code>è¾“å…¥è¯ä¹¦<code>fiddler-orchestra-root-certificate.p12</code>çš„è·¯å¾„-&gt;Startã€‚</li><li>å¸¸ç”¨çš„ä»£ç†æœåŠ¡å™¨<ul><li>Proxy<ul><li>æ­£å‘ä»£ç†ï¼Œæ˜¯å®¢æˆ·ç«¯ä¸ç›®æ ‡æœåŠ¡å™¨ä¹‹é—´çš„ä¸­é—´ä»£ç†æœåŠ¡å™¨ã€‚</li><li>å°†å®¢æˆ·ç«¯è¯·æ±‚è½¬å‘åˆ°ç›®æ ‡æœåŠ¡å™¨ï¼Œå¹¶å°†å“åº”è¿”å›ç»™å®¢æˆ·ç«¯ã€‚</li><li>ä¾‹å¦‚ï¼šæŸäº›å›½å®¶å› ç‰¹ç½‘æ¥å…¥å—é™ï¼Œæˆ–è¢«é™åˆ¶è®¿é—®æŸäº›ç½‘ç«™æ—¶ï¼Œä½¿ç”¨æ­£å‘ä»£ç†ç»•è¿‡å°é”ã€‚</li></ul></li><li>HTTP Reverse Proxy<ul><li>åå‘ä»£ç†ï¼Œæ˜¯æœåŠ¡å™¨ç«¯çš„ä»£ç†æœåŠ¡å™¨ã€‚</li><li>å°†å®¢æˆ·ç«¯è¯·æ±‚è½¬å‘åˆ°å†…éƒ¨ç½‘ç»œçš„åç«¯æœåŠ¡å™¨ï¼Œç„¶åå°†å“åº”è¿”å›ç»™å®¢æˆ·ç«¯ã€‚</li><li>éšè—åœ¨æœåŠ¡å™¨ç«¯ï¼Œç”±æœåŠ¡å™¨çš„ç®¡ç†å‘˜é…ç½®ï¼Œå®¢æˆ·ç«¯æ— æ³•æ„ŸçŸ¥ä»£ç†çš„å­˜åœ¨ã€‚</li><li>HTTPåå‘ä»£ç†å¸¸ç”¨äºè´Ÿè½½å‡è¡¡ã€ç¼“å­˜åŠ é€Ÿå’Œå®‰å…¨é˜²æŠ¤ç­‰æ–¹é¢ã€‚</li></ul></li><li>HTTPS Reverse Proxy<ul><li>SSL&#x2F;TLSåå‘ä»£ç†ï¼Œæ˜¯ä¸€ç§åŸºäºåŠ å¯†çš„åå‘ä»£ç†ï¼Œç”¨äºå®‰å…¨ä¼ è¾“Webé¡µé¢å’Œå…¶ä»–æ•°æ®ã€‚</li><li>ä¸HTTPåå‘ä»£ç†ç±»ä¼¼ï¼Œä½†åœ¨è¿æ¥å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡æ—¶é‡‡ç”¨SSL&#x2F;TLSåè®®åŠ å¯†ã€‚</li><li>æœ‰æ•ˆåœ°ä¿æŠ¤Webæ¥å£çš„å®‰å…¨æ€§ï¼Œé¿å…æ•æ„Ÿä¿¡æ¯ï¼Œå¦‚ç”¨æˆ·åå’Œå¯†ç ç­‰ï¼Œåœ¨ä¼ è¾“è¿‡ç¨‹ä¸­è¢«çªƒå–å’Œç¯¡æ”¹ã€‚</li></ul></li></ul></li></ul><h4 id="4-ä¸æ‰‹æœºç«¯è¿æ¥"><a href="#4-ä¸æ‰‹æœºç«¯è¿æ¥" class="headerlink" title="(4) ä¸æ‰‹æœºç«¯è¿æ¥"></a>(4) ä¸æ‰‹æœºç«¯è¿æ¥</h4><ul><li>ç‚¹å‡»Fiddler Orchestra Betaé€‰é¡¹å¡ä¸­çš„Download Fiddler Orchestra client for Androidï¼Œä¸‹è½½å®‰è£…åˆ°æ‰‹æœºç«¯ã€‚</li><li>Fiddler-&gt;èœå•æ -&gt;Tools-&gt;Options-&gt;Connectionsé€‰é¡¹ä¸­çš„Allow remote computers to connectä¿æŒå‹¾é€‰ã€‚</li><li>Fiddler Orchestra Betaå®¢æˆ·ç«¯ä¸æ‰‹æœºç«¯å»ºç«‹è¿æ¥ï¼Œè¦æ±‚å®¢æˆ·ç«¯å’Œæ‰‹æœºç«¯åœ¨åŒä¸€å±€åŸŸç½‘å†…(ä½¿ç”¨ç›¸åŒWiFiç½‘ç»œ)ã€‚</li><li>æ‰“å¼€æ‰‹æœºç«¯çš„Fiddler Orchestra Betaå®¢æˆ·ç«¯ï¼Œåœ¨Orchestra Connectioné¡µé¢åˆ†åˆ«è¾“å…¥IPåœ°å€ã€ç«¯å£å·ã€Keyå€¼ã€‚<ul><li>IPåœ°å€ï¼šFiddlerçš„å·¥å…·é¢æ¿OnlineæŸ¥çœ‹åˆ°çš„IPåœ°å€ï¼Œä¹Ÿå¯å‘½ä»¤çª—å£è¾“å…¥<code>ipconfig</code>æŸ¥çœ‹IPv4åœ°å€ã€‚</li><li>ç«¯å£å·ï¼šè¿™é‡Œåº”è¯¥æ˜¯æŒ‡<a href="http://localhost:8800/">http://localhost:8800</a>çš„Proxyé¡µé¢è®¾ç½®çš„<code>Listen on port</code>ï¼Œé»˜è®¤æ˜¯8866ã€‚</li><li>Keyå€¼<ul><li>ç”µè„‘ç«¯çš„Fiddler Orchestra Betaå®¢æˆ·ç«¯ä¸­ç”Ÿæˆçš„SSLå¯†é’¥(å…·ä½“åœ¨å“ªæ²¡æ‰¾åˆ°ï¼Œä¸æ‰‹æœºç«¯è¿æ¥å¤±è´¥)ã€‚</li><li>Fiddler-&gt;èœå•æ -&gt;Tools-&gt;Options-&gt;HTTPS-&gt;certificates generated by CertEnroll engineã€‚</li></ul></li></ul></li><li>æ‰‹æœºç«¯ä¸ç”µè„‘ç«¯å»ºç«‹è¿æ¥ï¼Œé™¤äº†ä½¿ç”¨USBæ•°æ®çº¿è¿›è¡Œæ“ä½œï¼Œè¿˜æ”¯æŒæ— çº¿è¿æ¥(ä¿è¯ä¸¤ç«¯å¤„äºåŒä¸€WiFiç¯å¢ƒä¸‹)ã€‚</li></ul><h2 id="4-6-FiddlerScript"><a href="#4-6-FiddlerScript" class="headerlink" title="4-6 FiddlerScript"></a>4-6 FiddlerScript</h2><ul><li>FiddlerScript<ul><li>Fiddlerä¸Šçš„ä¸€ä¸ªaddonæ’ä»¶ï¼Œæˆ–è¯´æ˜¯ä¸€ä¸ªhookæ–‡ä»¶ï¼Œå®ç°äº†<code>Go to</code>çš„ä¹å¤§äº‹ä»¶ã€‚</li><li>å¾ˆå¤šè®¾ç½®èœå•ï¼Œä¹Ÿæ˜¯åœ¨è¿™ä¸ªè„šæœ¬ä¸­ç¼–å†™çš„ï¼Œæ”¯æŒè‡ªå®šä¹‰ä¿®æ”¹ï¼Œä¾‹å¦‚User-Agentsã€‚</li></ul></li></ul><p><img src="/../img/Fiddler/Fiddler@035.png" srcset="/img/load.gif" lazyload alt="ç›‘æ§é¢æ¿-FiddlerScript"></p><h4 id="1-è¯­è¨€æ¨¡å¼"><a href="#1-è¯­è¨€æ¨¡å¼" class="headerlink" title="(1) è¯­è¨€æ¨¡å¼"></a>(1) è¯­è¨€æ¨¡å¼</h4><ul><li>FiddlerScriptæœ‰C#å’ŒJScript.NETè¿™ä¸¤ç§å¼€å‘è¯­è¨€æ¨¡å¼ï¼Œå¯ä¾æ®åå¥½è®¾ç½®ã€‚</li><li>åˆ‡æ¢è¯­è¨€ï¼šèœå•æ -&gt;Tools-&gt;Options-&gt;Scripting-&gt;Languageä¸€æ å¯é€‰ã€‚</li><li>å¯¹åº”Fiddlerå®‰è£…ç›®å½•Scriptsæ–‡ä»¶å¤¹ä¸­çš„SampleRules.cs(C#)å’ŒSampleRules.js(JScript.NET)ã€‚</li></ul><p><img src="/../img/Fiddler/Fiddler@036.png" srcset="/img/load.gif" lazyload alt="ç›‘æ§é¢æ¿-FiddlerScript-è¯­è¨€æ¨¡å¼"></p><h4 id="2-ç¼–è¾‘æ¨¡å¼"><a href="#2-ç¼–è¾‘æ¨¡å¼" class="headerlink" title="(2) ç¼–è¾‘æ¨¡å¼"></a>(2) ç¼–è¾‘æ¨¡å¼</h4><ul><li>ç›‘æ§é¢æ¿çš„FiddlerScripté€‰é¡¹å¡ï¼Œæ”¯æŒæ–‡æœ¬ç¼–è¾‘ï¼Œ<code>Save Script</code>ä¿å­˜æ–‡æœ¬ã€‚</li><li>èœå•æ -&gt;Rules-&gt;Customize Rules-&gt;å¼¹çª—Fiddler ScriptEditorè¿›è¡Œç¼–è¾‘ã€‚</li><li>è‹¥è„šæœ¬å†™é”™ï¼Œæˆ–æ”¹ä¹±æ— æ³•æ­£ç¡®ä¿å­˜ï¼Œå¯åœ¨èœå•æ -&gt;Tools-&gt;Reset Scripté‡ç½®è„šæœ¬å†…å®¹ã€‚</li></ul><p><img src="/../img/Fiddler/Fiddler@037.png" srcset="/img/load.gif" lazyload alt="ç›‘æ§é¢æ¿-FiddlerScript-ç¼–è¾‘æ¨¡å¼"></p><h2 id="4-7-Log"><a href="#4-7-Log" class="headerlink" title="4-7 Log"></a>4-7 Log</h2><ul><li>Log<ul><li>Fiddlerçš„Logé€‰é¡¹å¡æ”¶é›†æ—¥å¿—æ¶ˆæ¯å­—ç¬¦ä¸²ï¼Œè¿™äº›å­—ç¬¦ä¸²ç”±æ‰©å±•ã€FiddlerScriptæˆ–Fiddleræœ¬èº«ç”Ÿæˆã€‚</li><li>è®°å½•åº”ç”¨äº‹ä»¶(ä¿å­˜ä¸ºSAZæ–‡ä»¶)ï¼Œä»¥åŠç³»ç»Ÿäº‹ä»¶çš„å“åº”é€šçŸ¥ï¼Œä¾‹å¦‚ï¼šç³»ç»Ÿçš„ç½‘ç»œè¿æ¥ä¸¢å¤±æˆ–æ¢å¤ã€‚</li><li>åœ¨Logé€‰é¡¹å¡é¡µé¢ï¼Œé¼ æ ‡å³é”®æ˜¾ç¤ºçš„ä¸€äº›å‘½ä»¤è¯´æ˜ã€‚<ul><li>Copyï¼šæŠŠé€‰ä¸­çš„æ–‡æœ¬å¤åˆ¶åˆ°å‰ªè´´æ¿ã€‚</li><li>Send to Session Listï¼šå°†äº‹ä»¶æ—¥å¿—ä½œä¸ºä¼šè¯ä¿å­˜åˆ°Webä¼šè¯åˆ—è¡¨ã€‚</li><li>Save to Fileï¼šå°†å½“å‰æ—¥å¿—ä¿å­˜åˆ°ç£ç›˜æ–‡ä»¶ä¸­ï¼Œä»¥çº¯æ–‡æœ¬(.txt)æˆ–å¯Œæ–‡æœ¬(.rtf)æ ¼å¼ä¿å­˜ã€‚</li><li>Clearï¼šæ¸…ç©ºLogé€‰é¡¹å¡ä¸­çš„æ‰€æœ‰æ–‡æœ¬ã€‚</li></ul></li><li>Logé€‰é¡¹å¡æ”¯æŒç®€å•çš„å®å‘½ä»¤ï¼Œå¯ä»¥ä»QuickExecå‘½ä»¤è¾“å…¥æ ä¸­è°ƒç”¨è¿™äº›å‘½ä»¤ã€‚<ul><li><code>log @Log.Clear</code>ï¼šæ¸…ç©ºæ—¥å¿—ã€‚</li><li><code>log @Log.Save</code>ï¼šåœ¨Webä¼šè¯åˆ—è¡¨ä¸­ç”Ÿæˆæ–°çš„ä¼šè¯ï¼Œå“åº”ä½“åŒ…å«Logé€‰é¡¹å¡çš„æ–‡æœ¬å†…å®¹ã€‚</li><li><code>log &quot;@Log.Export(\&quot;filename\&quot;)&quot;</code>ï¼šå°†Logé€‰é¡¹å¡æ–‡æœ¬ä¿å­˜åˆ°ç³»ç»Ÿæ¡Œé¢çš„.rtfæ–‡ä»¶ä¸­ã€‚</li></ul></li></ul></li></ul><p><img src="/../img/Fiddler/Fiddler@038.png" srcset="/img/load.gif" lazyload alt="ç›‘æ§é¢æ¿-Log"></p><h2 id="4-8-Filters"><a href="#4-8-Filters" class="headerlink" title="4-8 Filters"></a>4-8 Filters</h2><ul><li>Filters<ul><li>è¿‡æ»¤å™¨æä¾›äº†éå¸¸æ–¹ä¾¿åœ°å°†ç®€å•çš„è¿‡æ»¤è§„åˆ™ï¼Œåº”ç”¨åˆ°æ­£åœ¨æ•æ‰çš„æ•°æ®ä¼šè¯æµä¸Šçš„æ–¹æ³•ã€‚</li><li>Filtersä¸Šçš„æ‰€æœ‰æ“ä½œéƒ½å¯ä»¥åœ¨FiddlerScriptä¸­æ¨¡æ‹Ÿï¼Œç®€å•ä»»åŠ¡ç›´æ¥ä½¿ç”¨è¿‡æ»¤æ»¡è¶³å³å¯ã€‚</li><li>åŠŸèƒ½åŒ…æ‹¬ï¼šéšè—&#x2F;æ˜¾ç¤ºä¼šè¯ã€æ·»åŠ ä¼šè¯æ ‡è¯†ã€æ–­ç‚¹è°ƒè¯•ã€é˜»æ–­å‘é€è¯·æ±‚ã€ä¿®æ”¹æ•°æ®å¤´ç­‰ã€‚</li><li>è¿‡æ»¤å™¨è¿˜å¯ä»¥ä¸ºéšè—çš„ä¼šè¯æä¾›ä»£ç†åŠŸèƒ½ï¼Œå³ä½¿åœ¨Webä¼šè¯åˆ—è¡¨ä¸­å¹¶æ²¡æœ‰æ˜¾ç¤ºè¿™äº›ä¼šè¯ã€‚</li><li>Use Filtersï¼šæ˜¯å¦å¼€å¯è¿‡æ»¤å™¨ã€‚</li><li>Actionsï¼šæ”¯æŒæŠŠå½“å‰é€‰ä¸­çš„è¿‡æ»¤å™¨ä½œä¸ºè¿‡æ»¤é›†ï¼Œå¹¶å¯¹ä¹‹å‰æ•æ‰åˆ°çš„æ•°æ®æµåº”ç”¨å½“å‰è¿‡æ»¤è§„åˆ™ã€‚<ul><li>Run Filterset nowï¼šç«‹å³è¿è¡Œè¿‡æ»¤å™¨è®¾ç½®ã€‚</li><li>Load Filtersetï¼šåŠ è½½è¿‡æ»¤å™¨è®¾ç½®ã€‚</li><li>Save Filtersetï¼šä¿å­˜è¿‡æ»¤å™¨è®¾ç½®ã€‚</li></ul></li><li>ä¿®æ”¹è¿‡æ»¤å™¨åï¼Œéœ€æ‰§è¡ŒActionsçš„<code>Run Filterset now</code>æŒ‰é’®ï¼Œä½¿ä¿®æ”¹åçš„è¿‡æ»¤å™¨é…ç½®ç«‹å³ç”Ÿæ•ˆã€‚</li></ul></li></ul><p><img src="/../img/Fiddler/Fiddler@039.png" srcset="/img/load.gif" lazyload alt="ç›‘æ§é¢æ¿-Filters"></p><h4 id="1-Hosts"><a href="#1-Hosts" class="headerlink" title="(1) Hosts"></a>(1) Hosts</h4><ul><li>åŒºåŸŸè¿‡æ»¤(Zone Filter)<ul><li>Show only Intranet Hostsï¼šåªåˆ—å‡ºå±äºå±€åŸŸç½‘çš„ä¼šè¯ã€‚</li><li>Show only Internet Hostsï¼šåªåˆ—å‡ºå±äºäº’è”ç½‘çš„ä¼šè¯ã€‚</li></ul></li><li>ä¸»æœºè¿‡æ»¤(Host Filter)<ul><li>Hide the following Hostsï¼šéšè—Hostsè¾“å…¥æ¡†è¾“å…¥çš„ä¸»æœºã€‚</li><li>Show only the following Hostsï¼šä»…æ˜¾ç¤ºHostsè¾“å…¥æ¡†è¾“å…¥çš„ä¸»æœºã€‚</li><li>Flag the following Hostsï¼šåœ¨Webä¼šè¯åˆ—è¡¨ä¸­åŠ ç²—æ˜¾ç¤ºHostsè¾“å…¥æ¡†è¾“å…¥çš„ä¸»æœºæ‰€æœ‰ä¼šè¯ã€‚</li></ul></li><li>Hostsè¾“å…¥æ¡†ä¸ä¼šé€šè¿‡é€šé…ç¬¦è‡ªåŠ¨åŒ¹é…å­åŸŸåï¼Œè‹¥è®¾ç½®äº†<code>Show only the following Hosts</code>ã€‚</li><li>å¹¶ä¸”åˆ—è¡¨ä¸­åªæœ‰<code>xxx.com</code>ï¼Œåˆ™æ— æ³•çœ‹åˆ°<code>www.xxx.com</code>ç½‘ç«™ä¸‹çš„æ•°æ®æµï¼Œéœ€æ”¹æˆ<code>*.xxx.com</code>ã€‚</li><li>è‹¥æƒ³çœ‹æ ¹ç›®å½•<code>xxx.com</code>ä¸‹çš„æ•°æ®æµï¼Œå°†é€šé…ç¬¦æ”¹æˆ<code>*xxx.com</code>çš„å½¢å¼ï¼Œå¤šä¸ªhostç”¨åˆ†å·éš”å¼€ã€‚</li></ul><p><img src="/../img/Fiddler/CPicon/CPicon@001.png" srcset="/img/load.gif" lazyload alt="ç›‘æ§é¢æ¿-Filters-Hosts"></p><h4 id="2-Client-Process"><a href="#2-Client-Process" class="headerlink" title="(2) Client Process"></a>(2) Client Process</h4><ul><li>å®¢æˆ·ç«¯è¿›ç¨‹ç”¨äºæ§åˆ¶è¿›ç¨‹çš„æ•°æ®æµï¼Œåº”ç”¨ç¨‹åºåªæœ‰å’ŒFiddlerè¿è¡Œåœ¨ç›¸åŒçš„ä¸»æœºæ—¶æ‰èƒ½åšå‡ºåˆ¤æ–­ã€‚</li><li>Show only traffic fromï¼šåªæ˜¾ç¤ºé€‰ä¸­è¿›ç¨‹ä¸‹çš„æ•°æ®æµ(æ³¨æ„ï¼šä¸‹æ‹‰åˆ—è¡¨åŒ…å«äº†å½“å‰ç³»ç»Ÿä¸­ï¼Œæ­£åœ¨è¿è¡Œçš„æ‰€æœ‰è¿›ç¨‹)ã€‚</li><li>Show only Internet Explorerï¼šåªæ˜¾ç¤ºè¿›ç¨‹åä»¥IEå¼€å¤´ï¼Œæˆ–è¯·æ±‚çš„User-AgentåŒ…å«<code>compatible; MSIE</code>çš„æ•°æ®æµã€‚</li><li>Hide traffic from Service Hostï¼šéšè—æ¥è‡ªè¿›ç¨‹<code>svchost.exe</code>çš„æ•°æ®æµï¼Œè¯¥è¿›ç¨‹æ˜¯ä¸€ä¸ªç³»ç»Ÿè¿›ç¨‹ã€‚</li></ul><p><img src="/../img/Fiddler/CPicon/CPicon@002.png" srcset="/img/load.gif" lazyload alt="ç›‘æ§é¢æ¿-Filters-Client Process"></p><h4 id="3-Request-Headers"><a href="#3-Request-Headers" class="headerlink" title="(3) Request Headers"></a>(3) Request Headers</h4><ul><li>Show only if URL containsï¼šæ”¯æŒåŸºäºURLéšè—è¯·æ±‚ï¼Œä»…æ˜¾ç¤ºæ„Ÿå…´è¶£çš„è¯·æ±‚ã€‚</li><li>Hide if URL contains<ul><li>æ”¯æŒåŸºäºURLæ˜¾ç¤ºè¯·æ±‚ï¼Œä»…éšè—æŸäº›è¯·æ±‚ï¼Œå¯ä»¥ä½¿ç”¨å‰ç¼€<code>EXACT</code>æ¥é™å®šå¤§å°å†™æ•æ„Ÿã€‚</li><li><code>EXACT:www.example.com/api</code>ï¼Œ<code>REGEX:(?insx).*\.(gif|png|jpg)$</code>åªæ˜¾ç¤ºå›¾ç‰‡ã€‚</li></ul></li><li>Flag requests with headersï¼šæ”¯æŒæŒ‡å®šHTTPè¯·æ±‚å¤´åç§°ï¼Œå¦‚æœä¼šè¯åˆ—è¡¨ä¸­å­˜åœ¨ï¼Œåˆ™åŠ ç²—æ˜¾ç¤ºã€‚</li><li>Delete request headersï¼šæ”¯æŒæŒ‡å®šHTTPè¯·æ±‚å¤´åç§°ï¼Œå¦‚æœåŒ…å«è¯¥è¯·æ±‚å¤´ï¼Œé‚£ä¹ˆåˆ é™¤è¯¥è¯·æ±‚å¤´ã€‚</li><li>Set request headerï¼šæ”¯æŒåˆ›å»ºæŒ‡å®šåç§°å’Œå–å€¼çš„HTTPè¯·æ±‚å¤´ï¼Œæˆ–å°†è¯·æ±‚å¤´æ›´æ–°ä¸ºæŒ‡å®šçš„å–å€¼ã€‚</li></ul><p><img src="/../img/Fiddler/CPicon/CPicon@003.png" srcset="/img/load.gif" lazyload alt="ç›‘æ§é¢æ¿-Filters-Request Headers"></p><h4 id="4-Breakpoints"><a href="#4-Breakpoints" class="headerlink" title="(4) Breakpoints"></a>(4) Breakpoints</h4><ul><li>æ–­ç‚¹é€‰é¡¹æ¡†æ”¯æŒå¯¹åŒ…å«ç»™å®šå±æ€§çš„è¯·æ±‚æˆ–å“åº”è®¾ç½®æ–­ç‚¹ã€‚</li><li>Break request on POSTï¼šä¸ºæ‰€æœ‰çš„POSTè¯·æ±‚è®¾ç½®æ–­ç‚¹ã€‚</li><li>Break request on GET with query stringï¼šä¸ºæ‰€æœ‰æ–¹æ³•ä¸ºGETä¸”URLåŒ…å«æŸ¥è¯¢ä¸²çš„è¯·æ±‚è®¾ç½®æ–­ç‚¹ã€‚</li><li>Break on XMLHttpRequestï¼šå¯¹æ‰€æœ‰èƒ½å¤Ÿç¡®å®šæ˜¯é€šè¿‡XMLHttpRequestå¯¹è±¡å‘é€çš„è¯·æ±‚è®¾ç½®æ–­ç‚¹ã€‚<ul><li>é€šè¿‡æŸ¥æ‰¾è¯·æ±‚å¤´æ˜¯å¦ä¸º<code>X-Requested-With</code>æ¥å®ç°çš„ï¼Œè¯¥è¯·æ±‚å¤´ç”±jQueryæ¡†æ¶æ·»åŠ ã€‚</li><li>è¿˜ä¼šæ£€æŸ¥è¯·æ±‚å¤´æ˜¯å¦ä¸º<code>X-Download-Initiator</code>ï¼ŒIE10åŠæ›´é«˜ç‰ˆæœ¬å¯é…ç½®è¯¥è¯·æ±‚å¤´ã€‚</li></ul></li><li>Break response on Content-Typeï¼šä¸ºæ‰€æœ‰å“åº”å¤´Content-Typeä¸­åŒ…å«æŒ‡å®šæ–‡æœ¬çš„å“åº”è®¾ç½®æ–­ç‚¹ã€‚</li></ul><p><img src="/../img/Fiddler/CPicon/CPicon@004.png" srcset="/img/load.gif" lazyload alt="ç›‘æ§é¢æ¿-Filters-Breakpoints"></p><h4 id="5-Response-Status-Code"><a href="#5-Response-Status-Code" class="headerlink" title="(5) Response Status Code"></a>(5) Response Status Code</h4><ul><li>Hide success(2xx)ï¼šéšè—çŠ¶æ€ç åœ¨200åˆ°299ä¹‹é—´çš„å“åº”ã€‚</li><li>Hide non-2xxï¼šæŒ‡éšè—çŠ¶æ€ç ä¸åœ¨200åˆ°299ä¹‹é—´çš„å“åº”ã€‚</li><li>Hide Authentication demands(401,407)ï¼šéšè—çŠ¶æ€ç ä¸º401ï¼Œå’Œ407çš„å“åº”ã€‚</li><li>Hide redirects(300,301,302,303,307)ï¼šéšè—å¯¹è¯·æ±‚è¿›è¡Œé‡å®šå‘çš„å“åº”ã€‚</li><li>Hide Not Modified(304)ï¼šéšè—è¯·æ±‚ä¸­çŠ¶æ€ç ä¸º304çš„å“åº”ï¼Œè¡¨ç¤ºå®¢æˆ·ç«¯ç¼“å­˜çš„å®ä½“æ˜¯æœ‰æ•ˆçš„ã€‚</li></ul><p><img src="/../img/Fiddler/CPicon/CPicon@005.png" srcset="/img/load.gif" lazyload alt="ç›‘æ§é¢æ¿-Filters-Response Status Code"></p><h4 id="6-Response-Type-and-Size"><a href="#6-Response-Type-and-Size" class="headerlink" title="(6) Response Type and Size"></a>(6) Response Type and Size</h4><ul><li>ä¸‹æ‹‰æ¡†é€‰é¡¹<ul><li>Show all Content-Types(æ˜¾ç¤ºæ‰€æœ‰å“åº”ï¼Œä¸è¿‡æ»¤)ã€Show only IMAGE&#x2F;*(åªæ˜¾ç¤ºå›¾ç‰‡ç±»å‹çš„å“åº”)ã€‚</li><li>Show only HTML(åªæ˜¾ç¤ºHTMLæ–‡æ¡£çš„å“åº”)ã€Show only TEXT&#x2F;CSS(åªæ˜¾ç¤ºCSSå±‚å æ ·å¼è¡¨çš„å“åº”)ã€‚</li><li>Show only SCRIPTS(åªæ˜¾ç¤ºè„šæœ¬ç±»å‹çš„å“åº”)ã€Show only XML(åªæ˜¾ç¤ºXMLç±»å‹çš„å“åº”)ã€‚</li><li>Show only JSON(åªæ˜¾ç¤ºJSONç±»å‹çš„å“åº”)ã€Hide IMAGE&#x2F;*(ä»£è¡¨åªéšè—å›¾ç‰‡ç±»å‹çš„å“åº”)ã€‚</li></ul></li><li>å…¶ä»–å‹¾é€‰æ¡†<ul><li>Hide smaller thanï¼šéšè—å“åº”ä½“å°äºæŒ‡å®šå­—èŠ‚æ•°çš„å“åº”ã€‚</li><li>Hide larger thanï¼šéšè—å“åº”ä½“å¤§äºæŒ‡å®šå­—èŠ‚æ•°çš„å“åº”ã€‚</li><li>Time HeatMapï¼šåŸºäºæœåŠ¡å™¨è¿”å›ç»™å®šå“åº”æ‰€éœ€çš„æ—¶é—´ä¸ºæ¯ä¸ªä¼šè¯è®¾ç½®èƒŒæ™¯é¢œè‰²ã€‚</li><li>Block scriptfileï¼šå¦‚æœè¿”å›çš„å“åº”å¤´æŒ‡å®šContent-Typeä¸ºè„šæœ¬ï¼Œè¿”å›404å“åº”ã€‚</li><li>Block imagefileï¼šå¦‚æœè¿”å›çš„å“åº”å¤´æŒ‡å®šContent-Typeä¸ºå›¾åƒï¼Œè¿”å›404å“åº”ã€‚</li><li>Block SWF fileï¼šå¦‚æœè¿”å›çš„å“åº”å¤´æŒ‡å®šContent-Typeä¸ºFlashï¼Œè¿”å›404å“åº”(å³application&#x2F;x-shockwave-flash)ã€‚</li><li>Block CSS fileï¼šå¦‚æœè¿”å›çš„å“åº”å¤´æŒ‡å®šContent-Typeä¸ºCSSï¼Œè¿”å›404å“åº”ã€‚</li></ul></li></ul><p><img src="/../img/Fiddler/CPicon/CPicon@006.png" srcset="/img/load.gif" lazyload alt="ç›‘æ§é¢æ¿-Filters-Response Type and Size"></p><h4 id="7-Response-Headers"><a href="#7-Response-Headers" class="headerlink" title="(7) Response Headers"></a>(7) Response Headers</h4><ul><li>Flag responses that set cookiesï¼šä»¥ç²—ä½“æ˜¾ç¤ºæ‰€æœ‰å“åº”å¤´åŒ…å«Set-Cookieçš„å“åº”ã€‚</li><li>Flag responses with headersï¼šæ”¯æŒæŒ‡å®šHTTPå“åº”å¤´åç§°ï¼Œå¦‚æœå“åº”ä¸­è¯¥HTTPå¤´å­˜åœ¨ï¼Œä»¥ç²—ä½“æ˜¾ç¤ºã€‚</li><li>Delete response headersï¼šæ”¯æŒæŒ‡å®šHTTPå“åº”å¤´åç§°ï¼Œå¦‚æœå­˜åœ¨è¯¥å“åº”å¤´åç§°ï¼Œä¼šä»å“åº”å¤´ä¸­åˆ å»ã€‚</li><li>Set response headerï¼šæ”¯æŒåˆ›å»ºæˆ–æ›´æ–°HTTPå“åº”å¤´ï¼Œå¯è‡ªå®šä¹‰è®¾ç½®å–å€¼ã€‚</li></ul><p><img src="/../img/Fiddler/CPicon/CPicon@007.png" srcset="/img/load.gif" lazyload alt="ç›‘æ§é¢æ¿-Filters-Response Headers"></p><h2 id="4-9-TimeLine"><a href="#4-9-TimeLine" class="headerlink" title="4-9 TimeLine"></a>4-9 TimeLine</h2><ul><li>TimeLine<ul><li>æ”¯æŒä½¿ç”¨ç€‘å¸ƒæ¨¡å‹æŸ¥çœ‹é€‰ä¸­çš„ä¼šè¯ï¼Œå¯¹äºæ€§èƒ½åˆ†æå’Œç†è§£è¯·æ±‚ä¹‹é—´çš„å…³è”å¾ˆæœ‰å¸®åŠ©ã€‚</li><li>ä¸»è¦å†…å®¹å³æ•°æ®æµè§†å›¾ï¼Œä¸Šæ–¹æ˜¾ç¤ºæ ‡é¢˜ï¼Œæ˜¾ç¤ºä¼ è¾“æ—¶é—´è½´æ¨¡å¼(Transfer Timeline)ã€‚</li><li>å³ä¸Šæ–¹æœ‰ä¸€ä¸ªHelpå¸®åŠ©é“¾æ¥ï¼Œç‚¹å‡»è¯¥é“¾æ¥å¯åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€å…³äºè¯¥åŠŸèƒ½çš„å¸®åŠ©ä¿¡æ¯ã€‚</li><li>é¼ æ ‡å³é”®é€‰é¡¹<ul><li>AutoScale Chartï¼šè‡ªåŠ¨ç¼©æ”¾å›¾è¡¨ï¼Œæ°´å¹³è‡ªé€‚åº”è°ƒèŠ‚å›¾å½¢å®½åº¦ã€‚</li><li>Copy Chartï¼šå¤åˆ¶å›¾è¡¨ï¼Œæ”¯æŒå°†å›¾å½¢ä»¥ä½å›¾æ ¼å¼æ‹·è´åˆ°å‰ªè´´æ¿ã€‚</li><li>Modeï¼šæ§åˆ¶å›¾å½¢æ˜¾ç¤ºæ¨¡å¼ã€‚<ul><li>Timelineï¼šæ—¶é—´è½´æ¨¡å¼ï¼Œé€šè¿‡æ—¶é—´è½´çº¿æ¡æ˜¾ç¤ºæ¯ä¸ªä¼šè¯ï¼Œç”¨å½©è‰²æ¡è¡¨ç¤ºæ—¶é—´æ®µã€‚</li><li>Client Pipe Mapï¼šå®¢æˆ·ç«¯ç®¡é“æ¨¡å¼ã€‚<ul><li>æ˜¾ç¤ºæ¯ä¸ªæ—¶é—´è½´çš„å®¢æˆ·ç«¯è¿›ç¨‹å’ŒFiddlerä¹‹é—´çš„è¿æ¥ã€‚</li><li>å¤šä¸ªSessionä¹‹é—´é‡ç”¨çš„è¿æ¥å°†ä¼šä»¥å¤šç§å½©è‰²æ¡æ˜¾ç¤ºã€‚</li></ul></li><li>Server Pipe Mapï¼šæœåŠ¡ç«¯ç®¡é“æ¨¡å¼ã€‚<ul><li>æ˜¾ç¤ºæ¯ä¸ªæ—¶é—´è½´çš„Fiddlerå’Œä¸Šæ¸¸æœåŠ¡å™¨ä¹‹é—´çš„è¿æ¥ã€‚</li><li>å¤šä¸ªSessionä¹‹é—´é‡ç”¨çš„è¿æ¥å°†ä¼šä»¥å¤šç§å½©è‰²æ¡æ˜¾ç¤ºã€‚</li></ul></li></ul></li></ul></li><li>å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ç®¡é“æ¨¡å¼æ˜¾ç¤ºå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´å¦‚ä½•å¤ç”¨è¿æ¥ï¼Œæœ‰åŠ©äºåˆ¤æ–­æ€§èƒ½ç“¶é¢ˆã€‚</li><li>æ—¶é—´è½´é€‰é¡¹å¡ä¸æ˜¾ç¤ºä»»ä½•CONNECTé€šé“ï¼Œå³åœ¨ä¼šè¯åˆ—è¡¨ä¸­Hostæ˜¾ç¤ºä¸ºTunnel toçš„ä¼šè¯ã€‚</li><li>å› ä¸ºé€šé“çš„æ•°æ®æµå¯èƒ½æ˜¯æ¨¡ç³Šçš„ï¼Œä¹Ÿå¯èƒ½æ˜¯ç”±ä¸€ä¸ªæˆ–å¤šä¸ªè§£å¯†çš„HTTPS Webä¼šè¯é¡¹è·Ÿè¸ªã€‚</li></ul></li></ul><p><img src="/../img/Fiddler/Fiddler@040.png" srcset="/img/load.gif" lazyload alt="ç›‘æ§é¢æ¿-TimeLine-ä¼ è¾“æ—¶é—´è½´"></p><h4 id="1-ä¼ è¾“æ—¶é—´è½´"><a href="#1-ä¼ è¾“æ—¶é—´è½´" class="headerlink" title="(1) ä¼ è¾“æ—¶é—´è½´"></a>(1) ä¼ è¾“æ—¶é—´è½´</h4><ul><li>æ¯è¡Œæ˜¾ç¤ºä¸€ä¸ªä¼šè¯ï¼Œæœ€å·¦è¾¹æ˜¯æ–‡ä»¶åï¼Œå°†é¼ æ ‡æ”¾åˆ°ä»»æ„è¡Œä¸Šæ–¹ï¼Œåº•éƒ¨çš„çŠ¶æ€æ å°†æ˜¾ç¤ºè¯¥é¡¹çš„æ›´å¤šä¿¡æ¯ã€‚</li><li>åŒå‡»æŸè¡Œä¼šè·³è½¬åˆ°Inspectorsé€‰é¡¹å¡ï¼Œæ˜¾ç¤ºè¯¥ä¼šè¯çš„è¯¦ç»†ä¿¡æ¯ã€‚</li><li>å¦‚æœåŒå‡»çš„åŒæ—¶æŒ‰SHIFTé”®ï¼Œä¼šåœ¨æ–°çš„çª—å£æ˜¾ç¤ºè¯¥ä¼šè¯çš„ä¿¡æ¯ã€‚</li><li>æ¡å½¢æ é¢œè‰²ç”±å“åº”çš„MIMEç±»å‹å†³å®šï¼šå›¾åƒæµ…ç»¿è‰²ï¼ŒJavaScriptæ·±ç»¿è‰²ï¼ŒCSSç´«è‰²ï¼Œå…¶ä»–ç±»å‹è“è‰²ã€‚</li><li>ä¼ è¾“æ¡å½¢æ åœ¨å®¢æˆ·ç«¯å¼€å§‹å‘Fiddlerå‘é€è¯·æ±‚æ—¶å¼€å§‹ç»˜åˆ¶ï¼Œå½“å‘é€å›å®¢æˆ·ç«¯çš„å“åº”æ”¶åˆ°åå®Œæˆç»˜åˆ¶ã€‚</li><li>æ¡å½¢æ ä¸­é»‘è‰²ç«–çº¿è¡¨ç¤ºæ¥æ”¶åˆ°æœåŠ¡ç«¯å“åº”çš„ç¬¬ä¸€ä¸ªå­—èŠ‚æ—¶é—´ï¼Œå‰é¢çš„ä¸¤ä¸ªå°åœ†åœˆè¡¨ç¤ºä¼šè¯æ˜¯å¦æ˜¯å¤ç”¨è¿æ¥è¿›è¡Œä¼ è¾“ã€‚<ul><li>ç»¿è‰²çš„åœ†åœˆè¡¨ç¤ºè¿æ¥æ˜¯å¤ç”¨çš„ï¼Œçº¢è‰²çš„åœ†åœˆè¡¨ç¤ºè¿æ¥æ˜¯æ–°åˆ›å»ºçš„ã€‚</li><li>ä¸Šæ–¹çš„åœ†åœˆè¡¨ç¤ºå®¢æˆ·ç«¯åˆ°Fiddlerä¹‹é—´çš„è¿æ¥ï¼Œè€Œä¸‹æ–¹çš„åœ†åœˆè¡¨ç¤ºFiddleråˆ°æœåŠ¡å™¨ä¹‹é—´çš„è¿æ¥ã€‚</li></ul></li><li>æ¡å½¢æ ç”¨é˜´å½±çº¿è¡¨ç¤ºç¼“å­˜æ¨¡å¼ï¼ŒHTTPå“åº”è¢«Fiddlerç¼“å­˜ï¼Œä¼šè¯åœ¨å®Œæˆå‰ä¸ä¼šå¼€å§‹ä¸‹è½½å›¾ç‰‡ï¼Œç¼“å­˜å°†æ”¹å˜ç€‘å¸ƒæ¨¡å‹ã€‚</li><li>æ¡å½¢æ ç”¨å¹³æ»‘çº¿è¡¨ç¤ºæµæ¨¡å¼ï¼ŒFiddlerå°†æ•°æ®æµå¼åœ°è½¬å‘ç»™å®¢æˆ·ç«¯ï¼ŒStreamæ¨¡å¼æ¯æ¬¡ä¸‹è½½çš„æ•°æ®å°†ç›´æ¥è¿”å›ç»™å®¢æˆ·ç«¯ã€‚</li><li>æ¡å½¢æ åé¢çš„å›¾æ ‡è¯´æ˜<ul><li>çº¢è‰²Xå›¾æ ‡ï¼šè¡¨ç¤ºæœåŠ¡å™¨å‘é€äº†è¯·æ±‚å¤´<code>Connection: close</code>ã€‚</li><li>å¯¹äºHTTP&#x2F;1.0ç±»å‹çš„å“åº”ï¼ŒæŒ‡å‘é€è¯·æ±‚å¤´<code>Connection: Keep-Alive</code>å¤±è´¥ï¼Œé˜»æ­¢åç»­è¯·æ±‚é‡ç”¨è¯¥è¿æ¥ã€‚</li><li>ç°è‰²ç®­å¤´ï¼šè¡¨ç¤ºæœåŠ¡å™¨å“åº”æ˜¯çŠ¶æ€ç 302é‡å®šå‘ã€‚</li><li>çº¢è‰²æ„Ÿå¹å·ï¼šè¡¨ç¤ºæœåŠ¡å™¨è¿”å›4xxï¼Œæˆ–5xxé”™è¯¯ç ã€‚</li></ul></li></ul><h5 id="âœ§-ç¼“å­˜æ¨¡å¼"><a href="#âœ§-ç¼“å­˜æ¨¡å¼" class="headerlink" title="âœ§ ç¼“å­˜æ¨¡å¼"></a>âœ§ ç¼“å­˜æ¨¡å¼</h5><p><img src="/../img/Fiddler/GMico/GMico@001.png" srcset="/img/load.gif" lazyload alt="ç›‘æ§é¢æ¿-TimeLine-ä¼ è¾“æ—¶é—´è½´-ç¼“å­˜æ¨¡å¼"></p><h5 id="âœ§-æµæ¨¡å¼"><a href="#âœ§-æµæ¨¡å¼" class="headerlink" title="âœ§ æµæ¨¡å¼"></a>âœ§ æµæ¨¡å¼</h5><p><img src="/../img/Fiddler/GMico/GMico@002.png" srcset="/img/load.gif" lazyload alt="ç›‘æ§é¢æ¿-TimeLine-ä¼ è¾“æ—¶é—´è½´-æµæ¨¡å¼"></p><h5 id="âœ§-å›¾æ ‡è¯´æ˜"><a href="#âœ§-å›¾æ ‡è¯´æ˜" class="headerlink" title="âœ§ å›¾æ ‡è¯´æ˜"></a>âœ§ å›¾æ ‡è¯´æ˜</h5><p><img src="/../img/Fiddler/GMico/GMico@003.png" srcset="/img/load.gif" lazyload alt="ç›‘æ§é¢æ¿-TimeLine-ä¼ è¾“æ—¶é—´è½´-å›¾æ ‡è¯´æ˜"></p><h4 id="2-å®¢æˆ·ç«¯ç®¡é“"><a href="#2-å®¢æˆ·ç«¯ç®¡é“" class="headerlink" title="(2) å®¢æˆ·ç«¯ç®¡é“"></a>(2) å®¢æˆ·ç«¯ç®¡é“</h4><ul><li>Client Pipe Mapæ¨¡å¼ä¸‹ï¼Œæ˜¾ç¤ºæ¯ä¸ªæ—¶é—´è½´çš„å®¢æˆ·ç«¯è¿›ç¨‹å’ŒFiddlerä¹‹é—´çš„è¿æ¥ã€‚</li><li>å·¦ä¾§æ˜¾ç¤ºè¿æ¥æ ‡è¯†ç¬¦ï¼ŒåŒ…æ‹¬ï¼šè¿›ç¨‹åç§°ã€è¿›ç¨‹IDã€å®¢æˆ·ç«¯çš„ç«¯å£å·ã€‚<ul><li>ä¾‹å¦‚ï¼šè¿æ¥æ ‡è¯†ç¬¦360se:7668(p58566)ï¼Œå®¢æˆ·ç«¯ä¸º360seï¼Œè¿›ç¨‹ç¼–å·7668ï¼Œç«¯å£å·58566ã€‚</li><li>åŒä¸€è¿›ç¨‹åŒä¸€ç«¯å£å·çš„ä¼šè¯ï¼Œå°†åœ¨åŒä¸€æ¡å½¢æ ä¸­æ˜¾ç¤ºï¼ŒåŒä¸€è¿›ç¨‹ä¸åŒç«¯å£å·åˆ™å¤šä¸ªæ ç›®æ˜¾ç¤ºã€‚</li></ul></li></ul><p><img src="/../img/Fiddler/GMico/GMico@004.png" srcset="/img/load.gif" lazyload alt="ç›‘æ§é¢æ¿-TimeLine-å®¢æˆ·ç«¯ç®¡é“"></p><h4 id="3-æœåŠ¡ç«¯ç®¡é“"><a href="#3-æœåŠ¡ç«¯ç®¡é“" class="headerlink" title="(3) æœåŠ¡ç«¯ç®¡é“"></a>(3) æœåŠ¡ç«¯ç®¡é“</h4><ul><li>Server Pipe Mapæ¨¡å¼ä¸‹ï¼Œæ˜¾ç¤ºæ¯ä¸ªæ—¶é—´è½´çš„Fiddlerå’Œä¸Šæ¸¸æœåŠ¡å™¨ä¹‹é—´çš„è¿æ¥ã€‚</li><li>å·¦ä¾§æ˜¾ç¤ºè¿æ¥æ ‡è¯†ç¬¦ï¼ŒåŒ…æ‹¬ï¼šFiddlerç«¯çš„ç«¯å£å·ã€ç›®æ ‡ä¸»æœºåã€‚<ul><li>ä¾‹å¦‚ï¼šp58571-&gt;localhost:4000ï¼ŒFiddlerä½¿ç”¨ç«¯å£58571è¿æ¥åˆ°localhostçš„4000ç«¯å£ã€‚</li><li>ä¸€æ¡å½¢æ ä»£è¡¨ä¸€ä¸ªè¿æ¥ï¼Œä¸€ä¸ªè¿æ¥æ”¯æŒè¢«å¤šä¸ªä¼šè¯å¤ç”¨ï¼Œä¸‹å›¾é€‰æ‹©çš„ä¼šè¯éƒ½å±äºä¸¤ä¸¤å¤ç”¨ã€‚</li></ul></li></ul><p><img src="/../img/Fiddler/GMico/GMico@005.png" srcset="/img/load.gif" lazyload alt="ç›‘æ§é¢æ¿-TimeLine-æœåŠ¡ç«¯ç®¡é“"></p><h4 id="4-åšæ€§èƒ½åˆ†æ"><a href="#4-åšæ€§èƒ½åˆ†æ" class="headerlink" title="(4) åšæ€§èƒ½åˆ†æ"></a>(4) åšæ€§èƒ½åˆ†æ</h4><ul><li>æ—¶é—´è½´æ˜¯ä¸€ç§å¯¹åº”ç”¨ç¨‹åºä½¿ç”¨ç½‘ç»œçš„å¯Œä¿¡æ¯è§†å›¾è¡¨ç¤ºã€‚<ul><li>ä¾æ®æ¡å½¢æ çš„é•¿çŸ­å¯ä»¥æ‰¾å‡ºå“åº”å¿«æ…¢çš„è¯·æ±‚ï¼šè¶ŠçŸ­å“åº”è¶Šå¿«ï¼Œè¶Šé•¿å“åº”è¶Šæ…¢ã€‚</li><li>æµè§ˆå™¨å¼€å¯çº¿ç¨‹æ•°æœ‰é™ï¼Œé»˜è®¤è¯·æ±‚æ•°ä¸º6ä¸ªï¼Œç”±äºè¿æ¥é™åˆ¶ä¹Ÿä¼šå¸¦æ¥æ€§èƒ½ç“¶é¢ˆã€‚</li><li>è‹¥æœ‰çº¢è‰²Xå›¾æ ‡ï¼Œè¡¨ç¤ºæœåŠ¡å™¨å‘é€äº†è¯·æ±‚å¤´<code>Connection: close</code>ï¼Œé˜»æ­¢åç»­è¯·æ±‚é‡ç”¨è¯¥è¿æ¥ã€‚</li></ul></li></ul><p><img src="/../img/Fiddler/Fiddler@041.png" srcset="/img/load.gif" lazyload alt="ç›‘æ§é¢æ¿-TimeLine-åšæ€§èƒ½åˆ†æ"></p><h1 id="5-çŠ¶æ€é¢æ¿"><a href="#5-çŠ¶æ€é¢æ¿" class="headerlink" title="5 çŠ¶æ€é¢æ¿"></a>5 çŠ¶æ€é¢æ¿</h1><ul><li>çŠ¶æ€é¢æ¿<ul><li>å¯ç”¨&#x2F;ç¦ç”¨æŠ“åŒ…Capturingï¼š<img src="/../img/Fiddler/SBicon/SBicon@001.png" srcset="/img/load.gif" lazyload alt="çŠ¶æ€é¢æ¿-å¯ç”¨/ç¦ç”¨æŠ“åŒ…Capturing">è¡¨ç¤ºæ­£åœ¨æŠ“åŒ…ï¼Œé¼ æ ‡å•å‡»å›¾æ ‡ï¼Œåˆ‡æ¢æˆç©ºç™½åˆ™è¡¨ç¤ºç¦ç”¨æŠ“åŒ…ã€‚</li><li>ç‚¹å‡»<img src="/../img/Fiddler/SBicon/SBicon@002.png" srcset="/img/load.gif" lazyload alt="çŠ¶æ€é¢æ¿-æ­£åœ¨æ•è·çš„è¿›ç¨‹All Processes">ï¼Œé€‰æ‹©æŠ“å–HTTPæ•°æ®æŠ¥æ–‡çš„é€‰é¡¹ã€‚<ul><li>All Processesï¼šæŠ“å–æ‰€æœ‰è¿›ç¨‹çš„æŠ¥æ–‡ã€‚</li><li>Web Browsersï¼šä»…æŠ“å–æµè§ˆå™¨è¿›ç¨‹çš„æŠ¥æ–‡ã€‚</li><li>Non-Browserï¼šä»…æŠ“å–éæµè§ˆå™¨è¿›ç¨‹çš„æŠ¥æ–‡ï¼Œå›½å†…ä¸€äº›éä¸»æµæµè§ˆå™¨å¯èƒ½ä¸ä¼šè¢«å½“åšæµè§ˆå™¨è¿›ç¨‹ã€‚</li><li>Hide Allï¼šè¿‡æ»¤æ‰æ‰€æœ‰è¿›ç¨‹çš„HTTPæŠ¥æ–‡ï¼Œå’Œç¦ç”¨æŠ“åŒ…æ•ˆæœä¸€è‡´ï¼Œå³åœ¨ä¼šè¯åˆ—è¡¨ä¸­ä¸æ˜¾ç¤ºä»»ä½•ä¼šè¯ã€‚</li></ul></li><li>æ–­ç‚¹ï¼šè°ƒè¯•å™¨çš„åŠŸèƒ½ä¹‹ä¸€ï¼Œæ”¯æŒè®©ç¨‹åºä¸­æ–­åœ¨éœ€è¦çš„åœ°æ–¹ï¼Œä»è€Œæ–¹ä¾¿å…¶åˆ†æã€‚<ul><li>å…¨å±€è¯·æ±‚æ–­ç‚¹<img src="/../img/Fiddler/SBicon/SBicon@003.png" srcset="/img/load.gif" lazyload alt="çŠ¶æ€é¢æ¿-å…¨å±€è¯·æ±‚æ–­ç‚¹">ï¼šå°†ç”¨æˆ·è¯·æ±‚å‘é€ç»™æœåŠ¡å™¨ä¹‹å‰ï¼Œæ‰“ä¸€ä¸ªå…¨å±€è¯·æ±‚æ–­ç‚¹ï¼Œå¯å¯¹è¯·æ±‚è¿›è¡Œä¿®æ”¹ã€‚</li><li>å…¨å±€å“åº”æ–­ç‚¹<img src="/../img/Fiddler/SBicon/SBicon@004.png" srcset="/img/load.gif" lazyload alt="çŠ¶æ€é¢æ¿-å…¨å±€å“åº”æ–­ç‚¹">ï¼šå°†æœåŠ¡å™¨çš„å“åº”å‘é€åˆ°å®¢æˆ·ç«¯ä¹‹å‰ï¼Œæ‰“ä¸€ä¸ªå…¨å±€å“åº”æ–­ç‚¹ï¼Œå¯ä»¥ä¿®æ”¹å“åº”ã€‚</li><li>å–æ¶ˆæ–­ç‚¹<ul><li>é€ä¸ªé‡Šæ”¾æ–­ç‚¹ï¼šé€‰ä¸­è¢«æ‰“æ–­ç‚¹çš„è¯·æ±‚ï¼Œç‚¹å‡»ç›‘æ§é¢æ¿ä¸­çš„æŒ‰é’®<img src="/../img/Fiddler/SBicon/SBicon@005.png" srcset="/img/load.gif" lazyload alt="ç›‘æ§é¢æ¿-Run to Completion">ã€‚</li><li>é‡Šæ”¾å…¨éƒ¨æ–­ç‚¹ï¼šç‚¹å‡»å·¥å…·é¢æ¿ä¸­çš„æ¢å¤æ–­ç‚¹æ‰§è¡ŒæŒ‰é’®<img src="/../img/Fiddler/SBicon/SBicon@006.png" srcset="/img/load.gif" lazyload alt="å·¥å…·é¢æ¿-Go">ï¼Œå³å¯é‡Šæ”¾å…¨éƒ¨æ–­ç‚¹ã€‚</li></ul></li></ul></li><li>ä¼šè¯æ•°<img src="/../img/Fiddler/SBicon/SBicon@007.png" srcset="/img/load.gif" lazyload alt="çŠ¶æ€é¢æ¿-Number of sessions">ï¼Œæ˜¾ç¤ºäº†å½“å‰æŠ“å–çš„æ€»ä¼šè¯æ•°(å³ä¾§æ•°å€¼)ï¼Œä»¥åŠé€‰ä¸­çš„ä¼šè¯æ•°(å·¦ä¾§æ•°å€¼)ã€‚</li><li>çŠ¶æ€ä¿¡æ¯<ul><li><img src="/../img/Fiddler/SBicon/SBicon@008.png" srcset="/img/load.gif" lazyload alt="çŠ¶æ€é¢æ¿-Status Information">ï¼Œé»˜è®¤æ˜¾ç¤ºé€‰ä¸­çš„ç¬¬ä¸€ä¸ªä¼šè¯çš„URLã€‚</li><li>è¿˜æ”¯æŒæ˜¾ç¤ºæ“ä½œç»“æœçš„æ¦‚è¦ä¿¡æ¯ï¼Œä¾‹å¦‚ï¼šåŠ è½½æ–‡ä»¶ã€ä¿å­˜SAZæ–‡ä»¶ç­‰ã€‚</li></ul></li></ul></li></ul><p><img src="/../img/Fiddler/Fiddler@042.png" srcset="/img/load.gif" lazyload alt="çŠ¶æ€é¢æ¿"></p><h1 id="6-å‘½ä»¤è¾“å…¥æ "><a href="#6-å‘½ä»¤è¾“å…¥æ " class="headerlink" title="6 å‘½ä»¤è¾“å…¥æ "></a>6 å‘½ä»¤è¾“å…¥æ </h1><ul><li>å‘½ä»¤è¾“å…¥æ <ul><li>Fiddlerå¤„äºæ´»åŠ¨çŠ¶æ€æ—¶ï¼Œ<code>Alt+Q</code>å¿«æ·é”®å¯ä»¥æŠŠå…‰æ ‡å¿«é€Ÿå®šä½åˆ°QuickExecå‘½ä»¤è¾“å…¥æ¡†ã€‚</li><li>Fiddleræ²¡æœ‰å¤„äºæ´»åŠ¨çŠ¶æ€æ—¶ï¼Œä½¿ç”¨<code>CTRL+ALT+F</code>æ¿€æ´»çª—å£ï¼Œå†ä½¿ç”¨<code>Alt+Q</code>å¿«æ·é”®å®šä½ã€‚</li><li>å½“å…‰æ ‡å®šä½åœ¨QuickExecå‘½ä»¤è¾“å…¥æ¡†æ—¶ï¼Œ<code>CTRL+I</code>é”®ä¼šæŠŠé€‰ä¸­çš„ç¬¬ä¸€ä¸ªä¼šè¯URLæ’å…¥åˆ°å‘½ä»¤è¾“å…¥æ¡†ä¸­ã€‚</li><li>è¿˜å¯ä»¥é€‰ä¸­å¤šä¸ªä¼šè¯ï¼Œä¸€èµ·æ‹–åŠ¨åˆ°QuickExecå‘½ä»¤è¾“å…¥æ¡†ä¸­é‡Šæ”¾ï¼Œæ­¤æ—¶é€‰ä¸­çš„ä¼šè¯URLéƒ½å°†æ’å…¥å…¶ä¸­ã€‚</li><li>æ”¯æŒä»ç³»ç»Ÿä»»æ„ä½ç½®å¤„æ‹–åŠ¨ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶åˆ°QuickExecå‘½ä»¤è¾“å…¥æ¡†ä¸­é‡Šæ”¾ï¼Œè¾“å…¥æ¡†å°†æ˜¾ç¤ºæ–‡ä»¶è·¯å¾„ã€‚</li><li>åœ¨QuickExecå‘½ä»¤è¾“å…¥æ¡†ä¸­è¾“å…¥<code>help</code>å›è½¦ï¼Œå°†è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨ï¼Œå…³äºQuickExceçš„åœ¨çº¿å‘½ä»¤å¸®åŠ©æ–‡æ¡£ã€‚<ul><li><code>start</code>å¼€å¯æŠ“åŒ…ï¼Œ<code>stop</code>åœæ­¢æŠ“åŒ…ï¼Œ<code>quit</code>å…³é—­Fiddlerã€‚</li><li><code>cls</code>æˆ–<code>clear</code>æ¸…ç†ä¼šè¯åˆ—è¡¨ï¼Œ<code>hide</code>å°†Fiddleræœ€å°åŒ–åˆ°ä»»åŠ¡æ çš„æ‰˜ç›˜ä¸Šã€‚</li><li>æ–‡æœ¬æŸ¥æ‰¾ï¼š<code>?searchtext</code>ï¼Œé«˜äº®æ˜¾ç¤ºä¼šè¯åˆ—è¡¨åŒ…å«<code>searchtext</code>æ–‡æœ¬çš„ä¼šè¯ã€‚</li><li>åŒ¹é…ä¸»æœºï¼š<code>@host</code>ï¼Œé«˜äº®æ˜¾ç¤ºä¼šè¯åˆ—è¡¨ä¸­è¯·æ±‚ä¸»æœºååŒ…å«<code>host</code>çš„ä¼šè¯ï¼Œä¾‹å¦‚<code>@sougo.com</code>ã€‚</li><li>çŠ¶æ€æˆ–æ–¹æ³•è¿‡æ»¤ï¼š<code>=404</code>æˆ–<code>=POST</code>ï¼Œé«˜äº®æ˜¾ç¤ºä¼šè¯åˆ—è¡¨ä¸­ç­‰äºæŒ‡å®šçŠ¶æ€ç æˆ–æŒ‡å®šæ–¹æ³•çš„ä¼šè¯ã€‚</li><li>å“åº”å¤§å°è¿‡æ»¤ï¼š<code>&gt;size</code>ï¼Œé«˜äº®æ˜¾ç¤ºä¼šè¯åˆ—è¡¨ä¸­å“åº”å¤§å°å¤§äº<code>size</code>å­—èŠ‚çš„ä¼šè¯ï¼Œ<code>&lt;size</code>åä¹‹ã€‚</li><li>æ‰§è¡ŒDNSæŸ¥æ‰¾ï¼š<code>!dns www.baidu.com</code>ï¼Œå¯¹ç™¾åº¦é¦–é¡µæ‰§è¡ŒDNSæŸ¥æ‰¾å¹¶åœ¨Logé€‰é¡¹å¡ä¸Šæ˜¾ç¤ºç»“æœã€‚</li><li>çªå‡ºæ˜¾ç¤ºä¼šè¯ï¼š<code>bold sometext</code>ï¼Œåç»­æŠ“åˆ°åŒ…å«<code>sometext</code>å­—ç¬¦ä¸²çš„ä¼šè¯åŠ ç²—æ˜¾ç¤ºï¼Œ<code>bold</code>å›è½¦å–æ¶ˆã€‚</li><li>æ–­ç‚¹<ul><li><code>bpv method</code>ï¼Œå°†åœ¨æŠ“åˆ°æ–¹æ³•ä¸º<code>method</code>çš„ä¼šè¯ä¸Šæ·»åŠ è¯·æ±‚æ–­ç‚¹ï¼Œ<code>bpv</code>å›è½¦å–æ¶ˆæ“ä½œã€‚</li><li><code>bps status</code>ï¼Œå°†åœ¨æŠ“åˆ°çŠ¶æ€ä¸º<code>status</code>çš„ä¼šè¯ä¸Šæ·»åŠ å“åº”æ–­ç‚¹ï¼Œ<code>bps</code>å›è½¦å–æ¶ˆæ“ä½œã€‚</li><li><code>bpu sometext</code>ï¼Œå°†åœ¨æŠ“åˆ°åŒ…å«<code>sometext</code>å­—ç¬¦ä¸²çš„URIä¼šè¯ä¸Šæ·»åŠ è¯·æ±‚æ–­ç‚¹ï¼Œ<code>bpu</code>å›è½¦å–æ¶ˆæ“ä½œã€‚</li><li><code>bpafter sometext</code>ï¼Œå°†åœ¨æŠ“åˆ°åŒ…å«<code>sometext</code>å­—ç¬¦ä¸²çš„ä¼šè¯ä¸Šæ·»åŠ å“åº”æ–­ç‚¹ï¼Œ<code>bpafter</code>å›è½¦å–æ¶ˆã€‚</li><li><code>g</code>æˆ–<code>go</code>ï¼Œæ¢å¤æ‰€æœ‰æ–­ç‚¹ä¼šè¯ã€‚</li></ul></li><li>è¿‡æ»¤<ul><li><code>select sometext</code>ï¼Œå°†é€‰æ‹©å“åº”Content-Typeå¤´åŒ…å«æŒ‡å®šçš„<code>sometext</code>å­—ç¬¦ä¸²çš„ä»»ä½•ä¼šè¯ã€‚</li><li>æ”¯æŒå…¶ä»–è¿‡æ»¤æ–¹å¼ï¼Œæä¾›ä¸¤ä¸ªå†…ç½®å˜é‡<code>@Request</code>å’Œ<code>@Response</code>å¯¹è±¡ï¼Œæ”¯æŒè¿‡æ»¤å…¶ä»–å¤´å­—æ®µã€‚</li><li>ä¾‹ï¼š<code>select @Request.User-Agent Mozilla</code>é€‰æ‹©æ‰€æœ‰ç”¨æˆ·User-AgentåŒ…å«Moziliaçš„ä¼šè¯ã€‚</li></ul></li><li>ä¼šè¯å¤‡ä»½ï¼š<code>dump</code>ï¼Œå°†æ‰€æœ‰ä¼šè¯è½¬å‚¨åˆ°ç³»ç»Ÿç›˜ä¸­çš„zipå­˜æ¡£ï¼Œè·¯å¾„åœ¨çŠ¶æ€é¢æ¿çš„çŠ¶æ€ä¿¡æ¯æ ä¸­å¯è§ã€‚</li><li>æ›¿æ¢URLï¼š<code>urlreplace str1 str2</code>ï¼Œå°†æŠ“åˆ°ä¼šè¯çš„URLä¸­<code>str1</code>æ›¿æ¢æˆ<code>str2</code>ï¼Œ<code>urlreplace</code>å›è½¦å–æ¶ˆã€‚</li><li>ç›‘å¬é¢å¤–ç«¯å£ï¼š<code>!listen *PORT [CERTHOSTNAME]*</code>ï¼Œä¾‹å¦‚<code>!listen 8889</code>ã€<code>!listen 4000 localhost</code>ã€‚</li><li>æ¡ä»¶éšè—ï¼š<code>allbut text</code>æˆ–<code>keeponly text</code>ï¼Œéšè—å“åº”ä¼šè¯çš„Content-Typeä¸­æœªåŒ…å«<code>text</code>çš„æ‰€æœ‰ä¼šè¯ã€‚</li></ul></li></ul></li></ul><p><img src="/../img/Fiddler/Fiddler@043.png" srcset="/img/load.gif" lazyload alt="å‘½ä»¤è¾“å…¥æ "></p><h1 id="7-åº”ç”¨å¿«æ·é”®"><a href="#7-åº”ç”¨å¿«æ·é”®" class="headerlink" title="7 åº”ç”¨å¿«æ·é”®"></a>7 åº”ç”¨å¿«æ·é”®</h1><ul><li>åº”ç”¨å¿«æ·é”®<ul><li>ä»»ä½•æƒ…å†µä¸‹éƒ½å¯ä½¿ç”¨ç³»ç»Ÿçº§åˆ«çš„çƒ­é”®<code>Ctrl + Alt + F</code>æ¿€æ´»Fiddlerï¼Œè¿˜æä¾›äº†å…¶ä»–çƒ­é”®(ç•¥)ã€‚</li><li>å…¨å±€çƒ­é”®æ”¯æŒè‡ªå®šä¹‰ä¿®æ”¹ï¼Œèœå•æ -&gt;Tools-&gt;Options-&gt;General-&gt;Systemwide Hostkeyã€‚</li></ul></li></ul><p><img src="/../img/Fiddler/Fiddler@044.png" srcset="/img/load.gif" lazyload alt="åº”ç”¨å¿«æ·é”®"></p><h1 id="8-Fiddleræ’ä»¶"><a href="#8-Fiddleræ’ä»¶" class="headerlink" title="8 Fiddleræ’ä»¶"></a>8 Fiddleræ’ä»¶</h1><ul><li>Fiddleræ’ä»¶<ul><li><a href="https://www.telerik.com/fiddler/add-ons">https://www.telerik.com/fiddler/add-ons</a>ï¼šæä¾›äº†å¾ˆå¤šå¸¸ç”¨çš„Fiddleræ’ä»¶ã€‚</li><li>æ€§èƒ½ç›¸å…³ï¼šneXpert(æ€§èƒ½æŠ¥å‘Šç”Ÿæˆå™¨ï¼Œå…è´¹)ã€StresStimulus(è´Ÿè½½èƒ½åŠ›æµ‹è¯•æ‰©å±•æ”¯æŒï¼Œè¯•ç”¨)ã€‚</li><li>å®‰å…¨ç›¸å…³<ul><li>x5s(è¯„ä¼°ç½‘ç«™æ¼æ´ï¼ŒåŒ…æ‹¬è·¨ç«™è„šæœ¬é”™è¯¯ï¼Œå¼€æº)ã€Ammonite(ç›‘æµ‹å¸¸è§çš„ç½‘ç«™æ¼æ´ï¼Œè¯•ç”¨)ã€‚</li><li>Watcher(è¢«åŠ¨å®‰å…¨å®¡è®¡å™¨ï¼Œå¼€æº)ã€intruder21(æ”¯æŒå¯¹Webåº”ç”¨ç¨‹åºæ‰§è¡Œæ¨¡ç³Šæµ‹è¯•ï¼Œå…è´¹)ã€‚</li></ul></li><li>å…¶ä»–æ’ä»¶<ul><li>Javascript Formatter(å¯æ ¼å¼åŒ–JavaScript)ã€Gallery(æ˜¾ç¤ºé€‰ä¸­ä¼šè¯ä¸­çš„æ‰€æœ‰å›¾ç‰‡)ã€‚</li><li>Traffic Differ(å¯¹æ¯”æ•è·çš„ä¸¤å¥—æµé‡)ã€PDF View(PDFæ£€æŸ¥å™¨ï¼Œç”ŸæˆPDFæ–‡ä»¶é¢„è§ˆ)ã€‚</li><li>Content Blocker(å†…å®¹æ‹¦æˆªå™¨)ã€Show Image Bloat(æ‰«æå›¾åƒæ–‡ä»¶ä»¥æŸ¥æ‰¾ä¸å¿…è¦çš„åµŒå…¥å…ƒæ•°æ®)ã€‚</li><li>Willow(ç»Ÿè®¡æ•°æ®åŒ…ã€ä¿®æ”¹Hostã€è¯·æ±‚é‡å®šå‘ã€ç¼–ç è½¬æ¢ã€ä½ç½‘é€Ÿæ¨¡æ‹Ÿã€æ…¢é€Ÿç½‘ç»œæ¨¡æ‹Ÿå¯è§†åŒ–ç­‰)ã€‚</li></ul></li></ul></li></ul><h2 id="8-1-Willow"><a href="#8-1-Willow" class="headerlink" title="8-1 Willow"></a>8-1 Willow</h2><ul><li>Willow<ul><li>å®˜ç½‘ï¼š<a href="http://qzonetouch.github.io/commonWidget/willow">http://qzonetouch.github.io/commonWidget/willow</a>ã€‚</li><li>æ’ä»¶åŠŸèƒ½<ul><li>ä¿®æ”¹Hostã€æ–­ç‚¹è°ƒè¯•ã€ç»Ÿè®¡æ•°æ®åŒ…ã€ç¼–ç è½¬æ¢ã€è¿‡æ»¤HTTPè¯·æ±‚ã€‚</li><li>ç¯å¢ƒåˆ‡æ¢ã€è¯·æ±‚é‡å®šå‘ã€ä½ç½‘é€Ÿæ¨¡æ‹Ÿã€æ…¢é€Ÿç½‘ç»œæ¨¡æ‹Ÿå¯è§†åŒ–ç­‰ç­‰ã€‚</li></ul></li><li>ç‚¹å‡»å½“å‰ç‰ˆæœ¬è¿›è¡Œä¸‹è½½ï¼Œè§£å‹<code>WillowSetup-1.5.2.zip</code>ï¼Œå®‰è£…æ’ä»¶å‰å…ˆå…³é—­Fiddlerè½¯ä»¶ã€‚</li><li>ä½¿ç”¨Willowåˆ›å»ºä¸‰ä¸ªé¡¹ç›®ï¼Œåˆ†åˆ«ä¸ºå¼€å‘&#x2F;æµ‹è¯•&#x2F;æ­£å¼ç¯å¢ƒï¼Œé€šè¿‡é¡¹ç›®å¤é€‰æ¡†å¯å¿«é€Ÿåœ¨ä¸‰ä¸ªç¯å¢ƒä¹‹é—´è¿›è¡Œåˆ‡æ¢ã€‚</li><li>çœŸå®é¡¹ç›®ä¸­å¯èƒ½æœ‰å‡ åä¸Šç™¾ä¸ªè§„åˆ™ï¼Œåˆ†ç¯å¢ƒç®¡ç†ååˆ†æ–¹ä¾¿ï¼Œé¿å…äº†æ‰‹åŠ¨ç‚¹å‡»è§„åˆ™è¿›è¡Œç¯å¢ƒåˆ‡æ¢çš„ç¹æ‚æ“ä½œã€‚</li></ul></li></ul><p><img src="/../img/Fiddler/Fiddler@045.png" srcset="/img/load.gif" lazyload alt="Fiddleræ’ä»¶-Willow"></p><h2 id="8-2-Gallery"><a href="#8-2-Gallery" class="headerlink" title="8-2 Gallery"></a>8-2 Gallery</h2><ul><li>Gallery<ul><li>ä¸‹è½½ï¼š<a href="https://telerik-fiddler.s3.amazonaws.com/fiddler/addons/fiddlergallerysetup.exe">https://telerik-fiddler.s3.amazonaws.com/fiddler/addons/fiddlergallerysetup.exe</a>ã€‚</li><li>æ”¯æŒæ˜¾ç¤ºæ‰€é€‰ä¼šè¯ä¸­çš„æ‰€æœ‰å›¾åƒç¼©ç•¥å›¾ï¼Œè¿˜æä¾›äº†å¸¦æœ‰å¯é€‰å›¾åƒæ•ˆæœçš„å…¨å±å¹»ç¯ç‰‡æ˜¾ç¤ºæ¨¡å¼ã€‚</li><li>é€‰å¤šä¸ªå“åº”æ˜¯å›¾ç‰‡çš„sessionsä¼šè¯ï¼ŒGalleryé€‰é¡¹å¡å°†ä»¥ç¼©ç•¥å›¾å½¢å¼å±•ç¤ºé€‰ä¸­çš„æ‰€æœ‰ä¼šè¯å›¾ç‰‡ã€‚</li></ul></li></ul><p><img src="/../img/Fiddler/Fiddler@046.png" srcset="/img/load.gif" lazyload alt="Fiddleræ’ä»¶-Gallery"></p><h2 id="8-3-PDF-View"><a href="#8-3-PDF-View" class="headerlink" title="8-3 PDF View"></a>8-3 PDF View</h2><ul><li>PDF View<ul><li>ä¸‹è½½ï¼š<a href="https://telerik-fiddler.s3.amazonaws.com/fiddler/addons/fiddlerpdfviewsetup.exe">https://telerik-fiddler.s3.amazonaws.com/fiddler/addons/fiddlerpdfviewsetup.exe</a>ã€‚</li><li>æµè§ˆå™¨è®¿é—®ä¸€ä¸ªåœ¨çº¿çš„PDFæ–‡ä»¶åœ°å€ï¼Œæ‰“å¼€Fiddlerï¼Œä¼šè¯é¢æ¿ä¸­æ‰¾åˆ°è¯¥è¯·æ±‚ï¼ŒæŸ¥çœ‹ç›‘æ§é¢æ¿ã€‚</li><li>é€‰æ‹©Inspectorsé€‰é¡¹å¡ï¼Œç‚¹å‡»å“åº”ä¸­çš„PDFViewé€‰é¡¹å¡å°±å¯ä»¥é¢„è§ˆäº†(ä¸ªäººæ„Ÿè§‰æ’ä»¶ä¸å¤ªå¥½ç”¨)ã€‚</li></ul></li></ul><p><img src="/../img/Fiddler/Fiddler@047.png" srcset="/img/load.gif" lazyload alt="Fiddleræ’ä»¶-PDF View"></p><h2 id="8-4-Traffic-Differ"><a href="#8-4-Traffic-Differ" class="headerlink" title="8-4 Traffic Differ"></a>8-4 Traffic Differ</h2><ul><li>Traffic Differ<ul><li>ä¸‹è½½ï¼š<a href="https://telerik-fiddler.s3.amazonaws.com/fiddler/addons/fiddlersazdiffsetup.exe">https://telerik-fiddler.s3.amazonaws.com/fiddler/addons/fiddlersazdiffsetup.exe</a>ã€‚</li><li>ç°å®å¼€å‘ä¸­ï¼Œç½‘ç«™ä¼˜åŒ–å‰ä¿å­˜ä¸€å®Œæ•´çš„ä¼šè¯åºåˆ—ï¼Œä¼˜åŒ–åå†ä¿å­˜ä¸€ä¸ªï¼Œé€šè¿‡å¯¹æ¯”çœ‹ä¼˜åŒ–ä½œç”¨ã€‚</li></ul></li></ul><p><img src="/../img/Fiddler/Fiddler@048.png" srcset="/img/load.gif" lazyload alt="Fiddleræ’ä»¶-Traffic Differ"></p><h2 id="8-5-Show-Image-Bloat"><a href="#8-5-Show-Image-Bloat" class="headerlink" title="8-5 Show Image Bloat"></a>8-5 Show Image Bloat</h2><ul><li>Show Image Bloat<ul><li>ä¸‹è½½ï¼š<a href="https://telerik-fiddler.s3.amazonaws.com/fiddler/addons/fiddlershowimagebloat.exe">https://telerik-fiddler.s3.amazonaws.com/fiddler/addons/fiddlershowimagebloat.exe</a>ã€‚</li><li>æŸ¥æ‰¾ä¸å¿…è¦çš„åµŒå…¥å…ƒæ•°æ®ï¼Œè¿™äº›æ•°æ®é€šå¸¸æ˜¯ç¼–è¾‘çš„è¿‡ç¨‹äº§ç‰©ï¼Œä¼šå¢å¤§æ–‡ä»¶å¤§å°å¹¶é™ä½ç½‘ç«™çš„é€Ÿåº¦ã€‚</li><li>èœå•æ -&gt;Rules-&gt;å•å‡»Show Image Bloatï¼Œå¼€å¯æ‰«æå›¾åƒæ–‡ä»¶ï¼Œä»¥æŸ¥æ‰¾ä¸å¿…è¦çš„åµŒå…¥å…ƒæ•°æ®åŠŸèƒ½ã€‚</li></ul></li></ul><p><img src="/../img/Fiddler/Fiddler@049.png" srcset="/img/load.gif" lazyload alt="Fiddleræ’ä»¶-Show Image Bloat"></p><h2 id="8-6-Javascript-Formatter"><a href="#8-6-Javascript-Formatter" class="headerlink" title="8-6 Javascript Formatter"></a>8-6 Javascript Formatter</h2><ul><li>Javascript Formatter<ul><li>ä¸‹è½½ï¼š<a href="https://telerik-fiddler.s3.amazonaws.com/fiddler/addons/fiddlerjsformatsetup.exe">https://telerik-fiddler.s3.amazonaws.com/fiddler/addons/fiddlerjsformatsetup.exe</a>ã€‚</li><li>æ”¯æŒæ ¼å¼åŒ–JavaScriptï¼Œä¼šè¯é¢æ¿ä¸­é€‰æ‹©ä¸€ä¸ªJavaScriptä¼šè¯ï¼Œå³é”®ç‚¹Make JavaScript Prettyã€‚</li><li>å³ä¾§ç›‘æ§é¢æ¿-&gt;Inspectorsé€‰é¡¹å¡-&gt;åœ¨å“åº”éƒ¨åˆ†é€‰SyntaxView-&gt;æ­¤æ—¶å‹ç¼©çš„Jsä»£ç å·²æ ¼å¼åŒ–ã€‚</li><li>æˆ–èœå•æ -&gt;Rules-&gt;å•å‡»Make JavaScript Prettyï¼Œå¼€å¯å½“å‰é€‰ä¸­çš„JavaScriptä¼šè¯æ ¼å¼åŒ–åŠŸèƒ½ã€‚</li></ul></li></ul><p><img src="/../img/Fiddler/Fiddler@050.png" srcset="/img/load.gif" lazyload alt="Fiddleræ’ä»¶-Javascript Formatter"></p><h1 id="9-FiddleræŠ“åŒ…"><a href="#9-FiddleræŠ“åŒ…" class="headerlink" title="9 FiddleræŠ“åŒ…"></a>9 FiddleræŠ“åŒ…</h1><ul><li>FiddleræŠ“åŒ…<ul><li>HTTPSï¼ŒHyper Text Transfer Protocol over SecureSocket Layerï¼ŒHTTP+TLS&#x2F;SSLåè®®æ„å»ºã€‚</li><li>é€šè¿‡æ•°å­—è¯ä¹¦ã€åŠ å¯†ç®—æ³•ã€éå¯¹ç§°å¯†é’¥ç­‰æŠ€æœ¯å®Œæˆäº’è”ç½‘æ•°æ®ä¼ è¾“åŠ å¯†ã€èº«ä»½è®¤è¯çš„ç½‘ç»œåè®®ã€‚</li><li>è®¾è®¡ç›®æ ‡ï¼šæ•°æ®ä¿å¯†æ€§ã€æ•°æ®å®Œæ•´æ€§ã€èº«ä»½æ ¡éªŒå®‰å…¨æ€§ï¼Œå› æ­¤ï¼ŒFiddleræŠ“åŒ…çš„å…³é”®ç‚¹å°±æ˜¯è¯ä¹¦ã€‚</li><li>æŠ“åŒ…åŸç†<ul><li>Fiddleræ˜¯æµè§ˆå™¨çš„æœåŠ¡å™¨ï¼Œä¹Ÿæ˜¯æœåŠ¡å™¨çš„å®¢æˆ·ç«¯ã€‚<ul><li>æ²¡æœ‰Fiddleræ—¶ï¼Œæµè§ˆå™¨æ‹¥æœ‰çš„å…¬æœ‰è¯ä¹¦æ¥è‡ªæœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨ä¿å­˜ç§æœ‰è¯ä¹¦ã€‚</li><li>æœåŠ¡å™¨ä½¿ç”¨ç§æœ‰è¯ä¹¦å¯¹æ•°æ®è¿›è¡ŒåŠ å¯†ï¼Œæµè§ˆå™¨ä½¿ç”¨å…¬æœ‰è¯ä¹¦å¯¹æ•°æ®è¿›è¡Œè§£å¯†ã€‚</li></ul></li><li>Fiddlerä½œä¸ºä»£ç†æ—¶ï¼Œå®¢æˆ·ç«¯æ‹¥æœ‰çš„å…¬æœ‰è¯ä¹¦æ¥è‡ªFiddlerï¼ŒFiddleråŒæ—¶æ‹¥æœ‰ç§æœ‰å’Œå…¬æœ‰è¯ä¹¦ã€‚<ul><li>è¯·æ±‚ï¼šæµè§ˆå™¨ä½¿ç”¨Fiddlerå…¬æœ‰è¯ä¹¦å°†æ•°æ®åŠ å¯†ï¼Œå‘é€ç»™Fiddlerã€‚</li><li>Fiddlerä½¿ç”¨ç§æœ‰è¯ä¹¦è§£å¯†ï¼Œå°†å†…å®¹é‡‡ç”¨æœåŠ¡å™¨çš„å…¬æœ‰è¯ä¹¦å†æ¬¡åŠ å¯†ã€‚</li><li>å†…å®¹åŠ å¯†åå†å‘é€ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨ä½¿ç”¨è‡ªå·±çš„ç§æœ‰è¯ä¹¦å†è¿›è¡Œè§£å¯†ã€‚</li><li>å“åº”ï¼šæœåŠ¡å™¨ä½¿ç”¨ç§æœ‰è¯ä¹¦å¯¹å“åº”æ•°æ®åŠ å¯†ï¼Œç„¶åå‘é€ç»™Fiddlerã€‚</li><li>Fiddlerå°†æ”¶åˆ°çš„æ•°æ®ä½¿ç”¨æœåŠ¡å™¨çš„å…¬æœ‰è¯ä¹¦è§£å¯†ï¼Œå†æ¬¡ä½¿ç”¨è‡ªå·±çš„ç§æœ‰è¯ä¹¦åŠ å¯†ã€‚</li><li>åŠ å¯†åå‘é€ç»™æµè§ˆå™¨ï¼Œæµè§ˆå™¨æ”¶åˆ°åä½¿ç”¨Fiddlerçš„å…¬æœ‰è¯ä¹¦è¿›è¡Œè§£å¯†ï¼Œå±•ç¤ºå†…å®¹ã€‚</li></ul></li></ul></li></ul></li></ul><h2 id="9-1-PCç«¯æŠ“åŒ…"><a href="#9-1-PCç«¯æŠ“åŒ…" class="headerlink" title="9-1 PCç«¯æŠ“åŒ…"></a>9-1 PCç«¯æŠ“åŒ…</h2><ul><li>PCç«¯æŠ“åŒ…<ul><li>é…ç½®åŠå®‰è£…è¯ä¹¦ï¼šèœå•æ -&gt;Tools-&gt;Options-&gt;HTTPSã€‚</li><li>å‹¾é€‰Capture HTTPS CONNECTsã€Decrypt HTTPs trafficã€‚<ul><li>Capture HTTPS CONNECTsï¼šæ˜¯å¦è¦æŠ“å–HTTPSè¿æ¥ã€‚</li><li>HTTPSè¿æ¥é»˜è®¤éšè—ï¼šèœå•æ -&gt;Rules-&gt;Hide CONNECTsæ˜¯å¦è¢«å‹¾é€‰äº†ã€‚</li><li>Decrypt HTTPs trafficï¼šå¯¹æ¥æ”¶åˆ°çš„HTTPSæµé‡å°è¯•ä½¿ç”¨Fiddlerè¯ä¹¦è§£ç ã€‚</li></ul></li><li>èœå•æ -&gt;Tools-&gt;Options-&gt;HTTPS-&gt;Actions-&gt;Open Windows Certificate Managerã€‚</li><li>certmgr-&gt;æ“ä½œ-&gt;æŸ¥æ‰¾è¯ä¹¦-&gt;åŒ…å«Fiddler-&gt;ç«‹å³æŸ¥æ‰¾ï¼Œè‹¥æœ‰è¯ä¹¦è¯´æ˜å¯ä»¥æŠ“HTTPSåŒ…ã€‚</li></ul></li></ul><p><img src="/../img/Fiddler/Fiddler@051.png" srcset="/img/load.gif" lazyload alt="FiddleræŠ“åŒ…-PCç«¯æŠ“åŒ…"></p><h2 id="9-2-APPæŠ“åŒ…"><a href="#9-2-APPæŠ“åŒ…" class="headerlink" title="9-2 APPæŠ“åŒ…"></a>9-2 APPæŠ“åŒ…</h2><ul><li>APPæŠ“åŒ…<ul><li>é…ç½®Fiddlerï¼šèœå•æ -&gt;Tools-&gt;Options-&gt;Connections-&gt;Allow remote computers to connectã€‚</li><li>å¼¹çª—Enabling Remote Access-&gt;ç¡®å®šï¼ŒUSBçº¿è¿æ¥æ‰‹æœºç«¯å’Œç”µè„‘ç«¯ï¼ŒåŒæ—¶å¼€å¯æ‰‹æœºç«¯çš„å¼€å‘è€…é€‰é¡¹ã€‚</li><li>FiddleræŸ¥çœ‹å·¥å…·é¢æ¿ä¸­Onlineçš„IPåœ°å€ï¼Œç¡®ä¿ç”µè„‘å’Œæ‰‹æœºçš„WiFiåœ¨åŒä¸€å±€åŸŸç½‘ä¸‹ï¼Œå¼€å¯æ‰‹æœºç«¯ä»£ç†ã€‚</li><li>è¿›å…¥æ‰‹æœºç«¯çš„WiFiè®¾ç½®-&gt;ä»£ç†æ”¹ä¸ºæ‰‹åŠ¨ï¼Œä¸»æœºåæ˜¯OnlineæŸ¥çœ‹åˆ°çš„IPåœ°å€ï¼Œç«¯å£åˆ™ä¸º8888(è‡ªå®šä¹‰)ã€‚</li><li>æ‰“å¼€æ‰‹æœºç«¯çš„æµè§ˆå™¨ï¼Œè¾“å…¥Onlineçš„IPåœ°å€+ç«¯å£8888ï¼Œå›è½¦ä¸‹è½½FiddlerRoot certificateï¼Œå®‰è£…è¯ä¹¦ã€‚</li><li>æ³¨ï¼šå¯¹äºç°åœ¨çš„æ‰‹æœºç«¯APPï¼Œå¤§å¤šä½¿ç”¨SSL PinningæŠ€æœ¯ï¼ŒFiddlerå·²å¾ˆéš¾æŠ“å–åˆ°HTTPSåŒ…äº†ã€‚<ul><li>Androidï¼šä½¿ç”¨Xposed Magiskæ¨¡å—æˆ–Fridaç­‰å·¥å…·æ¥ç»•è¿‡SSL PinningæŠ€æœ¯ã€‚</li><li>iOSï¼šé‡‡ç”¨æ’å…¥è¯ä¹¦ã€é‡ç­¾åã€Frida Hookçš„æ–¹å¼æ¥ç»•è¿‡SSL PinningæŠ€æœ¯ã€‚</li><li>ä¸Šè¿°æ–¹æ³•éƒ½å…·é£é™©æ€§ï¼Œéœ€è°¨æ…ä½¿ç”¨å¹¶éµå®ˆæ³•å¾‹æ³•è§„ï¼Œå¯åœ¨APPä¸­é›†æˆè°ƒè¯•å·¥å…·è¿›è¡Œè°ƒè¯•ã€‚</li></ul></li></ul></li></ul><p><img src="/../img/Fiddler/Fiddler@052.png" srcset="/img/load.gif" lazyload alt="FiddleræŠ“åŒ…-APPæŠ“åŒ…"></p>]]></content>
    
    
    <categories>
      
      <category>æµ‹è¯•å·¥å…·</category>
      
      <category>Fiddler</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æµ‹è¯•å·¥å…·</tag>
      
      <tag>Fiddler</tag>
      
      <tag>HTTPè°ƒè¯•ä»£ç†å·¥å…·</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>JMeter ç»„ä»¶</title>
    <link href="/2022/01/05/ce-shi-gong-ju/tt01-jmeter/tt01-01-jmeter-zu-jian/"/>
    <url>/2022/01/05/ce-shi-gong-ju/tt01-jmeter/tt01-01-jmeter-zu-jian/</url>
    
    <content type="html"><![CDATA[<p>ğŸ¥ª JMeteræ˜¯Apcheå…¬å¸ä½¿ç”¨Javaå¹³å°å¼€å‘çš„ä¸€æ¬¾æµ‹è¯•å·¥å…·ï¼Œç”¨äºæ¥å£æµ‹è¯•ã€æ€§èƒ½æµ‹è¯•ã€å‹åŠ›æµ‹è¯•ã€æ•°æ®åº“æµ‹è¯•ã€Javaç¨‹åºæµ‹è¯•ã€‚</p><span id="more"></span><h1 id="1-å·¥å…·å®‰è£…"><a href="#1-å·¥å…·å®‰è£…" class="headerlink" title="1 å·¥å…·å®‰è£…"></a>1 å·¥å…·å®‰è£…</h1><ul><li>å·¥å…·å®‰è£…<ul><li>Win10 1709ç§‹å­£åˆ›æ„è€…æ›´æ–°64ä½æ­£å¼ç‰ˆ(é›¶å”®ç‰ˆ)ï¼š<a href="ed2k://|file|cn_windows_10_multi-edition_version_1709_updated_sept_2017_x64_dvd_100090804.iso|4740610048|37051C54894776826823DAEBDD03F1DC|/">Win10-1709-Chinese(Simplified)-x64.isoï¼ˆè¿…é›·ä¸‹è½½ï¼‰</a>ã€‚</li><li>ç¯å¢ƒä¾èµ–ï¼š<a href="http://xz.w10a.com/small/jdk8_8u331_windows_x64.zip">JDK-1.8-Win-x64.zip</a>ï¼Œå‘½ä»¤çª—å£ä¸‹<code>java -version</code>ã€<code>java</code>ã€<code>javac</code>éªŒè¯ã€‚<ul><li>PATHï¼š..\jdk1.8.0_331\bin</li><li>JAVA_HOMEï¼š..\jdk1.8.0_331</li><li>CLASSPATHï¼š..\jdk1.8.0_331\lib;..\jdk1.8.0_331\lib\tools.jar</li></ul></li><li><a href="https://archive.apache.org/dist/jmeter/binaries/apache-jmeter-5.1.zip">Apache-JMeter-5.1.zip</a>ï¼šä¸‹è½½å®‰è£…åŒ…åï¼Œå°†å…¶è§£å‹åˆ°æœ¬åœ°è‡ªå®šä¹‰è·¯å¾„ï¼Œå†è¿›è¡Œç¯å¢ƒé…ç½®ã€‚<ul><li>JMETER_HOMEï¼š..\apache-jmeter-5.1</li><li>CLASSPATHï¼š..\apache-jmeter-5.1\lib\jorphan.jar;..\apache-jmeter-5.1\lib\ext\ApacheJMeter_core.jar</li><li>å¯åŠ¨JMeterï¼ŒåŒå‡»<code>..\apache-jmeter-5.1\bin\jmeter.bat</code>æ–‡ä»¶ï¼Œå¦‚æœä½äºç³»ç»Ÿç›˜ï¼Œæœ€å¥½ä»¥ç®¡ç†å‘˜èº«ä»½å¯åŠ¨ã€‚</li></ul></li><li><a href="https://www.zentao.net/dl/zentao/18.0/ZenTaoPMS.18.0.win64.exe">ç¦…é“å¼€æºç‰ˆ18.0</a>ï¼šä¸‹è½½å®‰è£…åè¿›å…¥xamppç›®å½•ä¸­ï¼Œå†åŒå‡»start.exeå¯åŠ¨(è´¦å·Adminï¼Œå¯†ç 123456ï¼Œæ”¹ä¸ºAa12345)ã€‚</li></ul></li></ul><h2 id="1-1-ç›®å½•ä»‹ç»"><a href="#1-1-ç›®å½•ä»‹ç»" class="headerlink" title="1-1 ç›®å½•ä»‹ç»"></a>1-1 ç›®å½•ä»‹ç»</h2><ul><li>ç›®å½•ä»‹ç»<ul><li>binç›®å½•ã€licensesç›®å½•(è¯ä¹¦ç›®å½•)ã€docsç›®å½•(æ¥å£æ–‡æ¡£ç›®å½•)ã€extrasç›®å½•(æ‰©å±•æ’ä»¶ç›®å½•)ã€‚<ul><li>examplesï¼šCSVæ ·ä¾‹ã€‚</li><li>jmeter.logï¼šè¿è¡Œæ—¥å¿—æ–‡ä»¶ã€‚</li><li>jmeter.shï¼šLinuxçš„å¯åŠ¨æ–‡ä»¶ã€‚</li><li>jmeter.batï¼šWindowsçš„å¯åŠ¨æ–‡ä»¶ã€‚</li><li>jmeter.propertiesï¼šç³»ç»Ÿé…ç½®æ–‡ä»¶ã€‚</li><li>jmeter-serverï¼šLinuxåˆ†å¸ƒå¼æµ‹è¯•è¦ç”¨åˆ°çš„æœåŠ¡å™¨é…ç½®ã€‚</li><li>jmeter-server.batï¼šWindowsåˆ†å¸ƒå¼æµ‹è¯•è¦ç”¨åˆ°çš„æœåŠ¡å™¨é…ç½®ã€‚</li></ul></li><li>libç›®å½•(æ‰€ç”¨åˆ°çš„æ’ä»¶ç›®å½•)ï¼šext(å­˜æ”¾JMeterä¾èµ–çš„æ ¸å¿ƒjaråŒ…)ã€junit(å­˜æ”¾junitçš„æµ‹è¯•è„šæœ¬)ã€‚</li><li>printable_docsç›®å½•ï¼šusermanual(ç”¨æˆ·æ‰‹å†Œ)ã€component_reference.html(æ ¸å¿ƒå…ƒä»¶å¸®åŠ©æ–‡æ¡£)ã€‚</li></ul></li></ul><p><img src="/../../img/JMeter/JMeter@001.jpg" srcset="/img/load.gif" lazyload alt="å·¥å…·å®‰è£…-ç›®å½•ä»‹ç»"></p><h2 id="1-2-æ°¸ä¹…æ±‰åŒ–"><a href="#1-2-æ°¸ä¹…æ±‰åŒ–" class="headerlink" title="1-2 æ°¸ä¹…æ±‰åŒ–"></a>1-2 æ°¸ä¹…æ±‰åŒ–</h2><ul><li>æ°¸ä¹…æ±‰åŒ–<ul><li>è®°äº‹æœ¬æˆ–VSCodeç­‰ç¼–è¾‘æ–‡æœ¬å·¥å…·æ‰“å¼€<code>..\apache-jmeter-5.1\bin\jmeter.properties</code>æ–‡ä»¶ã€‚</li><li><code>CTRL+F</code>æœç´¢<code>#language=en</code>ï¼Œåœ¨åº•ä¸‹ä¸€è¡Œæ·»åŠ <code>language=zh_CN</code>ï¼Œä¿å­˜åé‡å¯JMeterå°±å¯ä»¥äº†ã€‚</li></ul></li></ul><p><img src="/../../img/JMeter/JMeter@002.jpg" srcset="/img/load.gif" lazyload alt="å·¥å…·å®‰è£…-æ°¸ä¹…æ±‰åŒ–"></p><h2 id="1-3-åŸºæœ¬ä½¿ç”¨"><a href="#1-3-åŸºæœ¬ä½¿ç”¨" class="headerlink" title="1-3 åŸºæœ¬ä½¿ç”¨"></a>1-3 åŸºæœ¬ä½¿ç”¨</h2><ul><li>åŸºæœ¬ä½¿ç”¨<ul><li>åŸºæœ¬è¦ç´ ï¼šæµ‹è¯•è®¡åˆ’ã€çº¿ç¨‹ç»„ã€ç»„ä»¶(é…ç½®å…ƒä»¶ã€å‰ç½®å¤„ç†å™¨ã€å®šæ—¶å™¨ã€åç½®å¤„ç†å™¨ã€æ–­è¨€ã€ç›‘å¬å™¨)ã€æ§åˆ¶å™¨ã€‚</li><li>å…ƒä»¶ä¸ç»„ä»¶<ul><li>å…ƒä»¶ï¼šä¾‹å¦‚HTTPè¯·æ±‚ã€äº‹åŠ¡æ§åˆ¶å™¨ã€å“åº”æ–­è¨€ç­‰éƒ½æ˜¯ä¸€ä¸ªä¸ªå…ƒä»¶ã€‚</li><li>ç»„ä»¶ï¼šä¸€ç»„å…ƒä»¶çš„é›†åˆï¼Œå®¹å™¨ä¸­å¯å®ç°å•ç‹¬çš„æŸåŠŸèƒ½ï¼Œä¾‹å¦‚å–æ ·å™¨ã€‚</li></ul></li><li>ç»„ä»¶ä»‹ç»<ul><li>é…ç½®å…ƒä»¶ï¼šç”¨äºæä¾›å¯¹é™æ€æ•°æ®çš„æ”¯æŒã€‚</li><li>æ–­è¨€ï¼šç”¨äºæ£€æŸ¥æµ‹è¯•ä¸­å¾—åˆ°çš„å“åº”æ•°æ®ç­‰æ˜¯å¦ç¬¦åˆé¢„æœŸã€‚</li><li>ç›‘å¬å™¨ï¼šå¯¹æµ‹è¯•ç»“æœè¿›è¡Œå¤„ç†å’Œå¯è§†åŒ–å±•ç¤ºçš„ç³»åˆ—ç»„ä»¶ã€‚</li><li>å–æ ·å™¨ï¼šå‘æœåŠ¡å™¨å‘é€è¯·æ±‚(æ”¯æŒä¸åŒåè®®çš„è¯·æ±‚)ï¼Œè®°å½•å“åº”ä¿¡æ¯ã€‚</li><li>å‰ç½®å¤„ç†å™¨ï¼šç”¨äºå®é™…è¯·æ±‚ä¹‹å‰ï¼Œå¯¹å³å°†å‘å‡ºçš„è¯·æ±‚è¿›è¡Œç‰¹æ®Šå¤„ç†ã€‚</li><li>åç½®å¤„ç†å™¨ï¼šç”¨äºå¯¹å–æ ·å™¨å‘å‡ºè¯·æ±‚åå¾—åˆ°çš„æœåŠ¡å™¨å“åº”è¿›è¡Œå¤„ç†ã€‚</li><li>é€»è¾‘æ§åˆ¶å™¨<ul><li>ä¸€ç±»ç”¨äºæ§åˆ¶æµ‹è¯•è®¡åˆ’æ‰§è¡Œè¿‡ç¨‹ä¸­èŠ‚ç‚¹çš„é€»è¾‘æ‰§è¡Œé¡ºåºã€‚</li><li>ä¸€ç±»ç”¨äºå¯¹æµ‹è¯•è®¡åˆ’ä¸­çš„è„šæœ¬è¿›è¡Œè¿è¡Œæ—¶æ§åˆ¶æˆ–åˆ†ç»„ï¼Œæ–¹ä¾¿ç»Ÿè®¡æ‰§è¡Œç»“æœã€‚</li></ul></li><li>å®šæ—¶å™¨ï¼šåœ¨æ“ä½œå‰è®¾ç½®ç­‰å¾…æ—¶é—´ï¼Œä¾‹å¦‚å–æ ·å™¨ä¸å–æ ·å™¨ä¹‹é—´è®¾ç½®ä¸€ä¸ªç­‰å¾…æ—¶é—´ã€‚</li></ul></li></ul></li></ul><p><img src="/../../img/JMeter/JMeter@003.jpg" srcset="/img/load.gif" lazyload alt="å·¥å…·å®‰è£…-åŸºæœ¬ä½¿ç”¨"></p><h2 id="1-4-ç»„ä»¶ä½œç”¨åŸŸ"><a href="#1-4-ç»„ä»¶ä½œç”¨åŸŸ" class="headerlink" title="1-4 ç»„ä»¶ä½œç”¨åŸŸ"></a>1-4 ç»„ä»¶ä½œç”¨åŸŸ</h2><ul><li>ç»„ä»¶ä½œç”¨åŸŸ<ul><li>åŸåˆ™ï¼šä»¥å–æ ·å™¨ä¸ºæ ¸å¿ƒï¼Œå–æ ·å™¨æ²¡æœ‰ä½œç”¨åŸŸã€‚<ul><li>é€»è¾‘æ§åˆ¶å™¨ï¼šåªå¯¹å­èŠ‚ç‚¹çš„å–æ ·å™¨å’Œé€»è¾‘æ§åˆ¶å™¨èµ·ä½œç”¨ã€‚</li><li>å…¶ä»–ç»„ä»¶<ul><li>å¦‚æœçˆ¶èŠ‚ç‚¹æ˜¯å–æ ·å™¨ï¼Œåªå¯¹çˆ¶èŠ‚ç‚¹(å–æ ·å™¨)èµ·ä½œç”¨ã€‚</li><li>å¦‚æœçˆ¶èŠ‚ç‚¹éå–æ ·å™¨ï¼Œåˆ™è¯¥ä½œç”¨åŸŸæ˜¯å…¶çˆ¶èŠ‚ç‚¹ä¸‹çš„å…¶ä»–æ‰€æœ‰åä»£èŠ‚ç‚¹ï¼ŒåŒ…æ‹¬å­èŠ‚ç‚¹ï¼Œä»¥åŠå­å­èŠ‚ç‚¹ç­‰ã€‚</li></ul></li></ul></li><li>æ‰§è¡Œé¡ºåº<ul><li>åŒä¸€ä½œç”¨åŸŸä¸‹ç›¸åŒç»„ä»¶çš„æ‰§è¡Œé¡ºåºï¼šä»ä¸Šåˆ°ä¸‹ä¾æ¬¡æ‰§è¡Œã€‚</li><li>åŒä¸€ä½œç”¨åŸŸä¸‹ä¸åŒç»„ä»¶çš„æ‰§è¡Œé¡ºåºï¼šé…ç½®å…ƒä»¶&gt;å‰ç½®å¤„ç†å™¨&gt;å®šæ—¶å™¨&gt;å–æ ·å™¨&gt;åç½®å¤„ç†å™¨&gt;æ–­è¨€&gt;ç›‘å¬å™¨ã€‚</li></ul></li><li>è¿è¡ŒåŸç†<ul><li>é€šè¿‡çº¿ç¨‹ç»„æ¥é©±åŠ¨å¤šä¸ªçº¿ç¨‹è¿è¡Œæµ‹è¯•è„šæœ¬ï¼Œå¯¹è¢«æµ‹æœåŠ¡å™¨å‘èµ·è´Ÿè½½ï¼Œæ¯ä¸ªè´Ÿè½½æœºä¸Šéƒ½å¯ä»¥è¿è¡Œå¤šä¸ªçº¿ç¨‹ç»„ã€‚</li><li>è¿è¡Œåœºæ™¯<ul><li>GUIæ¨¡å¼ï¼šç•Œé¢æ¨¡å¼ï¼Œä¸»è¦ç”¨äºå‰æœŸåˆ›å»ºç¼–å†™æˆ–è°ƒè¯•JMeteræµ‹è¯•è„šæœ¬çš„ã€‚</li><li>å‘½ä»¤è¡Œæ¨¡å¼ï¼šå¯¹è´Ÿè½½æœºçš„èµ„æºæ¶ˆè€—ä¼šæ›´å°ï¼Œç”¨äºå®ç°é«˜å¹¶å‘å’Œå‹åŠ›æµ‹è¯•ã€‚</li></ul></li></ul></li></ul></li></ul><h3 id="1-å–æ ·å™¨ä½œç”¨åŸŸ"><a href="#1-å–æ ·å™¨ä½œç”¨åŸŸ" class="headerlink" title="(1) å–æ ·å™¨ä½œç”¨åŸŸ"></a>(1) å–æ ·å™¨ä½œç”¨åŸŸ</h3><p><img src="/../../img/JMeter/JMeter@004.jpg" srcset="/img/load.gif" lazyload alt="å·¥å…·å®‰è£…-ç»„ä»¶ä½œç”¨åŸŸ-å–æ ·å™¨ä½œç”¨åŸŸ"></p><h3 id="2-çº¿ç¨‹ç»„ä½œç”¨åŸŸ"><a href="#2-çº¿ç¨‹ç»„ä½œç”¨åŸŸ" class="headerlink" title="(2) çº¿ç¨‹ç»„ä½œç”¨åŸŸ"></a>(2) çº¿ç¨‹ç»„ä½œç”¨åŸŸ</h3><p><img src="/../../img/JMeter/JMeter@005.jpg" srcset="/img/load.gif" lazyload alt="å·¥å…·å®‰è£…-ç»„ä»¶ä½œç”¨åŸŸ-çº¿ç¨‹ç»„ä½œç”¨åŸŸ"></p><h3 id="3-æµ‹è¯•è®¡åˆ’ä½œç”¨åŸŸ"><a href="#3-æµ‹è¯•è®¡åˆ’ä½œç”¨åŸŸ" class="headerlink" title="(3) æµ‹è¯•è®¡åˆ’ä½œç”¨åŸŸ"></a>(3) æµ‹è¯•è®¡åˆ’ä½œç”¨åŸŸ</h3><p><img src="/../../img/JMeter/JMeter@006.jpg" srcset="/img/load.gif" lazyload alt="å·¥å…·å®‰è£…-ç»„ä»¶ä½œç”¨åŸŸ-æµ‹è¯•è®¡åˆ’ä½œç”¨åŸŸ"></p><h3 id="4-é€»è¾‘æ§åˆ¶å™¨ä½œç”¨åŸŸ"><a href="#4-é€»è¾‘æ§åˆ¶å™¨ä½œç”¨åŸŸ" class="headerlink" title="(4) é€»è¾‘æ§åˆ¶å™¨ä½œç”¨åŸŸ"></a>(4) é€»è¾‘æ§åˆ¶å™¨ä½œç”¨åŸŸ</h3><p><img src="/../../img/JMeter/JMeter@007.jpg" srcset="/img/load.gif" lazyload alt="å·¥å…·å®‰è£…-ç»„ä»¶ä½œç”¨åŸŸ-é€»è¾‘æ§åˆ¶å™¨ä½œç”¨åŸŸ"></p><h3 id="5-ç»„ä»¶å åŠ å¯¹å…¶å½±å“"><a href="#5-ç»„ä»¶å åŠ å¯¹å…¶å½±å“" class="headerlink" title="(5) ç»„ä»¶å åŠ å¯¹å…¶å½±å“"></a>(5) ç»„ä»¶å åŠ å¯¹å…¶å½±å“</h3><p><img src="/../../img/JMeter/JMeter@008.jpg" srcset="/img/load.gif" lazyload alt="å·¥å…·å®‰è£…-ç»„ä»¶ä½œç”¨åŸŸ-ç»„ä»¶å åŠ å¯¹å…¶å½±å“"></p><h3 id="6-é…ç½®å…ƒä»¶å åŠ å½±å“"><a href="#6-é…ç½®å…ƒä»¶å åŠ å½±å“" class="headerlink" title="(6) é…ç½®å…ƒä»¶å åŠ å½±å“"></a>(6) é…ç½®å…ƒä»¶å åŠ å½±å“</h3><p><img src="/../../img/JMeter/JMeter@009.jpg" srcset="/img/load.gif" lazyload alt="å·¥å…·å®‰è£…-ç»„ä»¶ä½œç”¨åŸŸ-é…ç½®å…ƒä»¶å åŠ å½±å“"></p><h1 id="2-HTTPè¯·æ±‚"><a href="#2-HTTPè¯·æ±‚" class="headerlink" title="2 HTTPè¯·æ±‚"></a>2 HTTPè¯·æ±‚</h1><ul><li>HTTPè¯·æ±‚<ul><li>é…ç½®è¯´æ˜<ul><li>ç«¯å£å·ï¼šæ²¡æœ‰å¯ä»¥ä¸å¡«ï¼Œhttpåè®®é»˜è®¤ç«¯å£å·ä¸º80ï¼Œhttpdé»˜è®¤ç«¯å£å·ä¸º443ã€‚</li><li>è¯·æ±‚æ–¹æ³•<ul><li>GET(è¯·æ±‚å‚æ•°åœ¨URLé‡Œ)ï¼šç›´æ¥è·¯å¾„åå¸¦å‚<code>/?key=value&amp;key=value</code>ï¼Œä¹Ÿå¯åœ¨å‚æ•°åˆ—è¡¨ä¸­æ·»åŠ å‚æ•°ã€‚</li><li>POST(è¯·æ±‚å‚æ•°åœ¨è¯·æ±‚ä½“é‡Œ)ï¼šæ¶ˆæ¯ä½“æ•°æ®ä¸­æ·»åŠ è¯·æ±‚ä½“ï¼Œè‹¥ä¸ºformè¡¨å•æ ¼å¼ï¼Œå¯åœ¨å‚æ•°åˆ—è¡¨ä¸­æ·»åŠ ã€‚</li></ul></li></ul></li><li>ç¤ºä¾‹ï¼šç¼–å†™è„šæœ¬è®¿é—®ç™¾åº¦ã€‚<ul><li>URL&#x3D;<a href="http://www.baidu.com/S">http://www.baidu.com/S</a>ï¼Œå‚æ•°<code>wd=test</code>(formè¡¨å•)ã€‚</li><li>JMeterè„šæœ¬éœ€ä½¿ç”¨åˆ°çš„å…ƒä»¶åŒ…å«ï¼šHTTPè¯·æ±‚ã€å¯Ÿçœ‹ç»“æœæ ‘ã€‚</li><li>æ¡ˆä¾‹1ï¼šGETè¯·æ±‚ï¼Œè·¯å¾„ä¼ é€’å‚æ•°ã€‚</li><li>æ¡ˆä¾‹2ï¼šGETè¯·æ±‚ï¼Œå‚æ•°åˆ—è¡¨ä¼ é€’å‚æ•°ã€‚</li><li>æ¡ˆä¾‹3ï¼šPOSTè¯·æ±‚ï¼Œå‚æ•°åˆ—è¡¨ä¼ é€’å‚æ•°ã€‚</li><li>æ¡ˆä¾‹4ï¼šPOSTè¯·æ±‚ï¼Œè¯·æ±‚ä½“æ•°æ®ä¼ é€’å‚æ•°ã€‚</li></ul></li></ul></li></ul><h2 id="2-1-è·¯å¾„ä¼ å‚"><a href="#2-1-è·¯å¾„ä¼ å‚" class="headerlink" title="2-1 è·¯å¾„ä¼ å‚"></a>2-1 è·¯å¾„ä¼ å‚</h2><p><img src="/../../img/JMeter/JMeter@010.jpg" srcset="/img/load.gif" lazyload alt="HTTPè¯·æ±‚-è·¯å¾„ä¼ å‚"></p><h2 id="2-2-å‚æ•°åˆ—è¡¨ä¼ å‚-GET"><a href="#2-2-å‚æ•°åˆ—è¡¨ä¼ å‚-GET" class="headerlink" title="2-2 å‚æ•°åˆ—è¡¨ä¼ å‚(GET)"></a>2-2 å‚æ•°åˆ—è¡¨ä¼ å‚(GET)</h2><p><img src="/../../img/JMeter/JMeter@011.jpg" srcset="/img/load.gif" lazyload alt="HTTPè¯·æ±‚-å‚æ•°åˆ—è¡¨ä¼ å‚(GET)"></p><h2 id="2-3-å‚æ•°åˆ—è¡¨ä¼ å‚-POST"><a href="#2-3-å‚æ•°åˆ—è¡¨ä¼ å‚-POST" class="headerlink" title="2-3 å‚æ•°åˆ—è¡¨ä¼ å‚(POST)"></a>2-3 å‚æ•°åˆ—è¡¨ä¼ å‚(POST)</h2><p><img src="/../../img/JMeter/JMeter@012.jpg" srcset="/img/load.gif" lazyload alt="HTTPè¯·æ±‚-å‚æ•°åˆ—è¡¨ä¼ å‚(POST)"></p><h2 id="2-4-è¯·æ±‚ä½“æ•°æ®ä¼ å‚"><a href="#2-4-è¯·æ±‚ä½“æ•°æ®ä¼ å‚" class="headerlink" title="2-4 è¯·æ±‚ä½“æ•°æ®ä¼ å‚"></a>2-4 è¯·æ±‚ä½“æ•°æ®ä¼ å‚</h2><p><img src="/../../img/JMeter/JMeter@013.jpg" srcset="/img/load.gif" lazyload alt="HTTPè¯·æ±‚-è¯·æ±‚ä½“æ•°æ®ä¼ å‚"></p><h1 id="3-å‚æ•°åŒ–è®¾ç½®"><a href="#3-å‚æ•°åŒ–è®¾ç½®" class="headerlink" title="3 å‚æ•°åŒ–è®¾ç½®"></a>3 å‚æ•°åŒ–è®¾ç½®</h1><ul><li>å‚æ•°åŒ–è®¾ç½®<ul><li>æ ¹æ®éœ€æ±‚åŠ¨æ€è·å–æ•°æ®å¹¶è¿›è¡Œèµ‹å€¼çš„è¿‡ç¨‹ï¼Œå‚æ•°åŒ–å˜é‡ç”¨<code>$&#123;name&#125;</code>è¡¨ç¤ºã€‚</li><li>å¸¸ç”¨çš„æ–¹å¼<ul><li>å‡½æ•°åŠ©æ‰‹ï¼šé€‚ç”¨äºå€¼åœ¨ä¸€å®šåŒºé—´æ— è§„å¾‹ä¸”éšæœºçš„æƒ…å†µã€‚</li><li>ç”¨æˆ·å‚æ•°ï¼šé€‚ç”¨äºå–å€¼èŒƒå›´å°çš„å‚æ•°(å°‘é‡æµ‹è¯•æ•°æ®)ã€‚</li><li>ç”¨æˆ·å®šä¹‰çš„å˜é‡ï¼šå¹¶éåšå‚æ•°åŒ–ä½¿ç”¨ï¼Œè€Œæ˜¯ç”¨æ¥å®šä¹‰å…¨å±€å˜é‡ã€‚</li><li>CSVæ•°æ®æ–‡ä»¶è®¾ç½®ï¼šæ”¯æŒè¯»å–å¤–éƒ¨æ•°æ®ï¼Œé€‚ç”¨äºå¤§é‡æ•°æ®æµ‹è¯•ã€‚</li></ul></li></ul></li></ul><h2 id="3-1-å‡½æ•°åŠ©æ‰‹"><a href="#3-1-å‡½æ•°åŠ©æ‰‹" class="headerlink" title="3-1 å‡½æ•°åŠ©æ‰‹"></a>3-1 å‡½æ•°åŠ©æ‰‹</h2><ul><li>å‡½æ•°åŠ©æ‰‹<ul><li>ä½äºä»»åŠ¡æ çš„å·¥å…·ä¸­ï¼Œé€‚ç”¨äºå€¼åœ¨ä¸€å®šåŒºé—´æ— è§„å¾‹ä¸”éšæœºçš„æƒ…å†µï¼Œä¾‹å¦‚ï¼šä»·æ ¼ã€æ•°é‡ç­‰ã€‚</li><li>ç¤ºä¾‹ï¼šå®ç°HTTPè¯·æ±‚çš„åç§°å¸¦æœ‰éšæœºå€¼ï¼Œéœ€ä½¿ç”¨åˆ°çš„å…ƒä»¶åŒ…å«HTTPè¯·æ±‚ã€å¯Ÿçœ‹ç»“æœæ ‘ã€‚</li></ul></li></ul><h3 id="1-å–å€¼è®¾ç½®"><a href="#1-å–å€¼è®¾ç½®" class="headerlink" title="(1) å–å€¼è®¾ç½®"></a>(1) å–å€¼è®¾ç½®</h3><p><img src="/../../img/JMeter/JMeter@014.jpg" srcset="/img/load.gif" lazyload alt="å‚æ•°åŒ–è®¾ç½®-å‡½æ•°åŠ©æ‰‹-å–å€¼è®¾ç½®"></p><h3 id="2-ç»“æœåˆ†æ"><a href="#2-ç»“æœåˆ†æ" class="headerlink" title="(2) ç»“æœåˆ†æ"></a>(2) ç»“æœåˆ†æ</h3><p><img src="/../../img/JMeter/JMeter@015.jpg" srcset="/img/load.gif" lazyload alt="å‚æ•°åŒ–è®¾ç½®-å‡½æ•°åŠ©æ‰‹-ç»“æœåˆ†æ"></p><h2 id="3-2-ç”¨æˆ·å‚æ•°"><a href="#3-2-ç”¨æˆ·å‚æ•°" class="headerlink" title="3-2 ç”¨æˆ·å‚æ•°"></a>3-2 ç”¨æˆ·å‚æ•°</h2><ul><li>ç”¨æˆ·å‚æ•°<ul><li>é€‚ç”¨äºå–å€¼èŒƒå›´å°çš„å‚æ•°(å°‘é‡æµ‹è¯•æ•°æ®)ï¼Œå…ƒä»¶ä½äºâ€œå‰ç½®å¤„ç†å™¨â€ä¸­ã€‚</li><li>åœ¨ç”¨æˆ·å‚æ•°ä¸­æ·»åŠ å˜é‡åï¼Œéœ€è¦åœ¨çˆ¶èŠ‚ç‚¹â€œHTTPè¯·æ±‚â€çš„å‚æ•°åˆ—è¡¨ä¸­å¼•ç”¨ç›¸åº”çš„å˜é‡ã€‚</li><li>å¹¶ä¸”æ¯ä¸ªçº¿ç¨‹ä¼šä¸€ç›´ä½¿ç”¨ä¸€ç»„æ•°æ®ï¼Œéœ€åœ¨â€œçº¿ç¨‹ç»„â€ä¸­è®¾ç½®ä¸ç”¨æˆ·æ•°ä¸€è‡´çš„â€œçº¿ç¨‹æ•°â€ã€‚</li><li>ç¤ºä¾‹ï¼šå®ç°ç¦…é“æ‰¹é‡ç”¨æˆ·ç™»å½•ï¼Œéœ€ä½¿ç”¨åˆ°çš„å…ƒä»¶åŒ…å«HTTPè¯·æ±‚ã€ç”¨æˆ·å‚æ•°ã€å¯Ÿçœ‹ç»“æœæ ‘ã€‚</li></ul></li></ul><h3 id="1-æ·»åŠ å˜é‡"><a href="#1-æ·»åŠ å˜é‡" class="headerlink" title="(1) æ·»åŠ å˜é‡"></a>(1) æ·»åŠ å˜é‡</h3><p><img src="/../../img/JMeter/JMeter@016.jpg" srcset="/img/load.gif" lazyload alt="å‚æ•°åŒ–è®¾ç½®-ç”¨æˆ·å‚æ•°-æ·»åŠ å˜é‡"></p><h3 id="2-å‚æ•°è®¾ç½®"><a href="#2-å‚æ•°è®¾ç½®" class="headerlink" title="(2) å‚æ•°è®¾ç½®"></a>(2) å‚æ•°è®¾ç½®</h3><p><img src="/../../img/JMeter/JMeter@017.jpg" srcset="/img/load.gif" lazyload alt="å‚æ•°åŒ–è®¾ç½®-ç”¨æˆ·å‚æ•°-å‚æ•°è®¾ç½®"></p><h2 id="3-3-ç”¨æˆ·å®šä¹‰çš„å˜é‡"><a href="#3-3-ç”¨æˆ·å®šä¹‰çš„å˜é‡" class="headerlink" title="3-3 ç”¨æˆ·å®šä¹‰çš„å˜é‡"></a>3-3 ç”¨æˆ·å®šä¹‰çš„å˜é‡</h2><ul><li>ç”¨æˆ·å®šä¹‰çš„å˜é‡<ul><li>å¹¶éç”¨æ¥åšHTTPè¯·æ±‚å‚æ•°åŒ–ï¼Œè€Œæ˜¯ç”¨æ¥å®šä¹‰å…¨å±€å˜é‡ï¼Œä¾‹å¦‚å‚æ•°åŒ–æ–‡ä»¶è·¯å¾„ã€HOSTã€URLç­‰ã€‚</li><li>åˆ›å»ºåœ¨â€œçº¿ç¨‹ç»„â€ä¸‹ï¼Œåˆ™åœ¨çº¿ç¨‹ç»„å†…ç”Ÿæ•ˆï¼Œå¦‚æœåˆ›å»ºåœ¨â€œæµ‹è¯•è®¡åˆ’â€ä¸‹ï¼Œåˆ™å¯¹æ‰€æœ‰çº¿ç¨‹ç»„ç”Ÿæ•ˆã€‚</li><li>ç¤ºä¾‹ï¼šå®ç°HTTPè¯·æ±‚çš„IPå‚æ•°åŒ–ï¼Œéœ€ä½¿ç”¨åˆ°çš„å…ƒä»¶åŒ…å«ç”¨æˆ·å®šä¹‰çš„å˜é‡ã€HTTPè¯·æ±‚ã€å¯Ÿçœ‹ç»“æœæ ‘ã€‚</li></ul></li></ul><h3 id="1-æ·»åŠ å˜é‡-1"><a href="#1-æ·»åŠ å˜é‡-1" class="headerlink" title="(1) æ·»åŠ å˜é‡"></a>(1) æ·»åŠ å˜é‡</h3><p><img src="/../../img/JMeter/JMeter@018.jpg" srcset="/img/load.gif" lazyload alt="å‚æ•°åŒ–è®¾ç½®-ç”¨æˆ·å®šä¹‰çš„å˜é‡-æ·»åŠ å˜é‡"></p><h3 id="2-å‚æ•°è®¾ç½®-1"><a href="#2-å‚æ•°è®¾ç½®-1" class="headerlink" title="(2) å‚æ•°è®¾ç½®"></a>(2) å‚æ•°è®¾ç½®</h3><p><img src="/../../img/JMeter/JMeter@019.jpg" srcset="/img/load.gif" lazyload alt="å‚æ•°åŒ–è®¾ç½®-ç”¨æˆ·å®šä¹‰çš„å˜é‡-å‚æ•°è®¾ç½®"></p><h3 id="3-ç»“æœåˆ†æ"><a href="#3-ç»“æœåˆ†æ" class="headerlink" title="(3) ç»“æœåˆ†æ"></a>(3) ç»“æœåˆ†æ</h3><p><img src="/../../img/JMeter/JMeter@020.jpg" srcset="/img/load.gif" lazyload alt="å‚æ•°åŒ–è®¾ç½®-ç”¨æˆ·å®šä¹‰çš„å˜é‡-ç»“æœåˆ†æ"></p><h2 id="3-4-CSVæ•°æ®æ–‡ä»¶è®¾ç½®"><a href="#3-4-CSVæ•°æ®æ–‡ä»¶è®¾ç½®" class="headerlink" title="3-4 CSVæ•°æ®æ–‡ä»¶è®¾ç½®"></a>3-4 CSVæ•°æ®æ–‡ä»¶è®¾ç½®</h2><ul><li>CSVæ•°æ®æ–‡ä»¶è®¾ç½®<ul><li>æ”¯æŒè¯»å–å¤–éƒ¨æ•°æ®ï¼Œé€‚ç”¨äºå¤§é‡æ•°æ®æµ‹è¯•ï¼Œå…ƒä»¶ä½äºâ€œé…ç½®å…ƒä»¶â€ä¸­ã€‚</li><li>çº¿ç¨‹å…±äº«æ¨¡å¼ï¼šæŒ‡å¤šä¸ªçº¿ç¨‹å¯¹æ–‡ä»¶æ•°æ®å–å€¼é¡ºåºæ¨¡å¼ï¼ŒJMeteræä¾›äº†ä¸‰ç§æ¨¡å¼ã€‚<ul><li>ä¾‹å¦‚ï¼šè„šæœ¬æœ‰2ä¸ªçº¿ç¨‹ç»„ï¼Œå„æœ‰2ä¸ªçº¿ç¨‹ï¼Œæ–‡ä»¶å†…æœ‰5è¡Œæ•°æ®ï¼Œè„šæœ¬è¿è¡Œæ—¶ï¼Œå°†å¦‚ä¸‹å¾ªç¯å¾€å¤å–å€¼ã€‚</li><li>æ‰€æœ‰çº¿ç¨‹ï¼šå¦‚æœè„šæœ¬æœ‰å¤šä¸ªçº¿ç¨‹ç»„ï¼Œåœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼Œå„çº¿ç¨‹ç»„çš„æ‰€æœ‰çº¿ç¨‹ä¹Ÿè¦ä¾æ¬¡å”¯ä¸€é¡ºåºå–å€¼ã€‚<br><img src="/../../img/JMeter/JMeter@021.jpg" srcset="/img/load.gif" lazyload alt="å‚æ•°åŒ–è®¾ç½®-CSVæ•°æ®æ–‡ä»¶è®¾ç½®-çº¿ç¨‹å…±äº«æ¨¡å¼-æ‰€æœ‰çº¿ç¨‹"></li><li>å½“å‰çº¿ç¨‹ç»„ï¼šå„ä¸ªçº¿ç¨‹ç»„ä¹‹é—´éš”ç¦»ï¼Œçº¿ç¨‹ç»„å†…çš„çº¿ç¨‹é¡ºåºå”¯ä¸€å–å€¼ã€‚<br><img src="/../../img/JMeter/JMeter@022.jpg" srcset="/img/load.gif" lazyload alt="å‚æ•°åŒ–è®¾ç½®-CSVæ•°æ®æ–‡ä»¶è®¾ç½®-çº¿ç¨‹å…±äº«æ¨¡å¼-å½“å‰çº¿ç¨‹ç»„"></li><li>å½“å‰çº¿ç¨‹ï¼šæ¯ä¸ªçº¿ç¨‹ç‹¬ç«‹ï¼Œé¡ºåºå”¯ä¸€å–å€¼ã€‚<br><img src="/../../img/JMeter/JMeter@023.jpg" srcset="/img/load.gif" lazyload alt="å‚æ•°åŒ–è®¾ç½®-CSVæ•°æ®æ–‡ä»¶è®¾ç½®-çº¿ç¨‹å…±äº«æ¨¡å¼-å½“å‰çº¿ç¨‹"></li></ul></li><li>ç¤ºä¾‹ï¼šå®ç°ç¦…é“æ‰¹é‡ç”¨æˆ·ç™»å½•ï¼Œéœ€ä½¿ç”¨åˆ°çš„å…ƒä»¶åŒ…å«HTTPè¯·æ±‚ã€CSVæ•°æ®æ–‡ä»¶è®¾ç½®ã€å¯Ÿçœ‹ç»“æœæ ‘ã€‚</li></ul></li></ul><h3 id="1-userinfo-txt"><a href="#1-userinfo-txt" class="headerlink" title="(1) userinfo.txt"></a>(1) userinfo.txt</h3><p><img src="/../../img/JMeter/JMeter@024.jpg" srcset="/img/load.gif" lazyload alt="å‚æ•°åŒ–è®¾ç½®-CSVæ•°æ®æ–‡ä»¶è®¾ç½®-userinfo.txt"></p><h3 id="2-è®¾ç½®CSVæ•°æ®æ–‡ä»¶"><a href="#2-è®¾ç½®CSVæ•°æ®æ–‡ä»¶" class="headerlink" title="(2) è®¾ç½®CSVæ•°æ®æ–‡ä»¶"></a>(2) è®¾ç½®CSVæ•°æ®æ–‡ä»¶</h3><p><img src="/../../img/JMeter/JMeter@025.jpg" srcset="/img/load.gif" lazyload alt="å‚æ•°åŒ–è®¾ç½®-CSVæ•°æ®æ–‡ä»¶è®¾ç½®-è®¾ç½®CSVæ•°æ®æ–‡ä»¶"></p><h3 id="3-HTTPè¯·æ±‚å‚æ•°é…ç½®"><a href="#3-HTTPè¯·æ±‚å‚æ•°é…ç½®" class="headerlink" title="(3) HTTPè¯·æ±‚å‚æ•°é…ç½®"></a>(3) HTTPè¯·æ±‚å‚æ•°é…ç½®</h3><p><img src="/../../img/JMeter/JMeter@026.jpg" srcset="/img/load.gif" lazyload alt="å‚æ•°åŒ–è®¾ç½®-CSVæ•°æ®æ–‡ä»¶è®¾ç½®-HTTPè¯·æ±‚å‚æ•°é…ç½®"></p><h3 id="4-å¯Ÿçœ‹ç»“æœæ ‘è¿›è¡Œåˆ†æ"><a href="#4-å¯Ÿçœ‹ç»“æœæ ‘è¿›è¡Œåˆ†æ" class="headerlink" title="(4) å¯Ÿçœ‹ç»“æœæ ‘è¿›è¡Œåˆ†æ"></a>(4) å¯Ÿçœ‹ç»“æœæ ‘è¿›è¡Œåˆ†æ</h3><p><img src="/../../img/JMeter/JMeter@027.jpg" srcset="/img/load.gif" lazyload alt="å‚æ•°åŒ–è®¾ç½®-CSVæ•°æ®æ–‡ä»¶è®¾ç½®-å¯Ÿçœ‹ç»“æœæ ‘åˆ†æ"></p><h1 id="4-å¸¸ç”¨çš„æ–­è¨€"><a href="#4-å¸¸ç”¨çš„æ–­è¨€" class="headerlink" title="4 å¸¸ç”¨çš„æ–­è¨€"></a>4 å¸¸ç”¨çš„æ–­è¨€</h1><ul><li>å¸¸ç”¨çš„æ–­è¨€<ul><li>å“åº”æ–­è¨€ï¼šå¯¹HTTPè¯·æ±‚çš„ä»»æ„æ ¼å¼å“åº”ç»“æœè¿›è¡Œæ–­è¨€ã€‚</li><li>JSONæ–­è¨€ï¼šHTTPå“åº”ç»“æœæ˜¯JSONæ ¼å¼æ—¶ï¼Œä½¿ç”¨JSONæ–­è¨€ã€‚</li><li>æ–­è¨€æŒç»­æ—¶é—´ï¼šæ£€æŸ¥HTTPè¯·æ±‚çš„å“åº”æ•°æ®æ˜¯å¦è¶…å‡ºè¦æ±‚èŒƒå›´ã€‚</li></ul></li></ul><h2 id="4-1-å“åº”æ–­è¨€"><a href="#4-1-å“åº”æ–­è¨€" class="headerlink" title="4-1 å“åº”æ–­è¨€"></a>4-1 å“åº”æ–­è¨€</h2><ul><li>å“åº”æ–­è¨€<ul><li>å¯¹å“åº”ç»“æœä¸­çš„æ–‡æœ¬å†…å®¹è¿›è¡Œæ–­è¨€ï¼Œä¾‹å¦‚ç»“æœæ˜¯å¦åŒ…å«æŒ‡å®šçš„å€¼ï¼Œæˆ–æ˜¯å¦ç­‰äºæŒ‡å®šçš„å€¼ã€‚</li><li>é€‚ç”¨äºå„ç§è¿”å›ç±»å‹çš„å“åº”ç»“æœï¼Œä¾‹å¦‚textã€htmlã€application&#x2F;jsonã€application&#x2F;xmlç­‰ã€‚</li><li>ç¤ºä¾‹ï¼šå‘é€è¯·æ±‚åˆ°â€œ<a href="https://www.baidu.com/">https://www.baidu.com</a>â€ã€‚<ul><li>æ£€æŸ¥å“åº”æ•°æ®æ˜¯å¦åŒ…å«â€œç™¾åº¦ä¸€ä¸‹ï¼Œä½ å°±çŸ¥é“â€ã€‚</li><li>ä½¿ç”¨çš„å…ƒä»¶ï¼šHTTPè¯·æ±‚ã€å“åº”æ–­è¨€ã€å¯Ÿçœ‹ç»“æœæ ‘ã€‚</li></ul></li></ul></li></ul><h3 id="1-ç™¾åº¦å“åº”"><a href="#1-ç™¾åº¦å“åº”" class="headerlink" title="(1) ç™¾åº¦å“åº”"></a>(1) ç™¾åº¦å“åº”</h3><p><img src="/../../img/JMeter/JMeter@028.jpg" srcset="/img/load.gif" lazyload alt="å¸¸ç”¨çš„æ–­è¨€-å“åº”æ–­è¨€-ç™¾åº¦å“åº”"></p><h3 id="2-æ–­è¨€æ“ä½œ"><a href="#2-æ–­è¨€æ“ä½œ" class="headerlink" title="(2) æ–­è¨€æ“ä½œ"></a>(2) æ–­è¨€æ“ä½œ</h3><p><img src="/../../img/JMeter/JMeter@029.jpg" srcset="/img/load.gif" lazyload alt="å¸¸ç”¨çš„æ–­è¨€-å“åº”æ–­è¨€-æ–­è¨€æ“ä½œ"></p><h3 id="3-ç»“æœåˆ†æ-1"><a href="#3-ç»“æœåˆ†æ-1" class="headerlink" title="(3) ç»“æœåˆ†æ"></a>(3) ç»“æœåˆ†æ</h3><p><img src="/../../img/JMeter/JMeter@030.jpg" srcset="/img/load.gif" lazyload alt="å¸¸ç”¨çš„æ–­è¨€-å“åº”æ–­è¨€-ç»“æœåˆ†æ"></p><h3 id="4-è§£å†³ä¹±ç "><a href="#4-è§£å†³ä¹±ç " class="headerlink" title="(4) è§£å†³ä¹±ç "></a>(4) è§£å†³ä¹±ç </h3><ul><li>è§£å†³ä¹±ç <ul><li>é—®é¢˜åˆ†æï¼šå“åº”é¡µé¢æ²¡æœ‰åšç¼–ç å¤„ç†ï¼ŒJMeteré»˜è®¤æŒ‰ç…§ISO-8859-1ç¼–ç æ ¼å¼è¿›è¡Œè§£æã€‚</li><li>è§£å†³ä¹±ç æ–¹æ³•<ul><li>æ›´æ”¹JMeteræ–‡ä»¶é…ç½®<ul><li>æ‰¾åˆ°<code>..\apache-jmeter-5.1\bin\jmeter.properties</code>æ–‡ä»¶ï¼Œ<code>CTRL+F</code>æœç´¢<code>#sampleresult.default</code>ã€‚</li><li>åœ¨<code>#sampleresult.default</code>åº•ä¸‹æ·»åŠ <code>sampleresult.default.encoding=UTF-8</code>ï¼Œä¿å­˜åé‡å¯JMeterã€‚</li></ul></li><li>æ·»åŠ HTTPä¿¡æ¯å¤´ç®¡ç†å™¨ï¼šF12å¼€å‘è€…å·¥å…·&gt;NetWork&gt;Requests Table&gt;Name&gt;Headers&gt;Request Headersã€‚</li><li>æ·»åŠ BeanShellåç½®å¤„ç†ç¨‹åºï¼šâ€œscriptâ€ä¸­æ·»åŠ è„šæœ¬<code>prev.setDataEncoding(&quot;utf-8&quot;)</code>ï¼Œä¿å­˜åå†æ¬¡æ‰§è¡Œã€‚</li></ul></li></ul></li></ul><h4 id="âœ§-jmeter-properties"><a href="#âœ§-jmeter-properties" class="headerlink" title="âœ§ jmeter.properties"></a>âœ§ jmeter.properties</h4><p><img src="/../../img/JMeter/JMeter@031.jpg" srcset="/img/load.gif" lazyload alt="å¸¸ç”¨çš„æ–­è¨€-å“åº”æ–­è¨€-è§£å†³ä¹±ç -jmeter.properties"></p><h4 id="âœ§-HTTPä¿¡æ¯å¤´ç®¡ç†å™¨"><a href="#âœ§-HTTPä¿¡æ¯å¤´ç®¡ç†å™¨" class="headerlink" title="âœ§ HTTPä¿¡æ¯å¤´ç®¡ç†å™¨"></a>âœ§ HTTPä¿¡æ¯å¤´ç®¡ç†å™¨</h4><p><img src="/../../img/JMeter/JMeter@032.jpg" srcset="/img/load.gif" lazyload alt="å¸¸ç”¨çš„æ–­è¨€-å“åº”æ–­è¨€-è§£å†³ä¹±ç -HTTPä¿¡æ¯å¤´ç®¡ç†å™¨"></p><h4 id="âœ§-BeanShellåç½®å¤„ç†ç¨‹åº"><a href="#âœ§-BeanShellåç½®å¤„ç†ç¨‹åº" class="headerlink" title="âœ§ BeanShellåç½®å¤„ç†ç¨‹åº"></a>âœ§ BeanShellåç½®å¤„ç†ç¨‹åº</h4><p><img src="/../../img/JMeter/JMeter@033.jpg" srcset="/img/load.gif" lazyload alt="å¸¸ç”¨çš„æ–­è¨€-å“åº”æ–­è¨€-è§£å†³ä¹±ç -BeanShellåç½®å¤„ç†ç¨‹åº"></p><h2 id="4-2-JSONæ–­è¨€"><a href="#4-2-JSONæ–­è¨€" class="headerlink" title="4-2 JSONæ–­è¨€"></a>4-2 JSONæ–­è¨€</h2><ul><li>JSONæ–­è¨€<ul><li>ç”¨äºæ–­è¨€æŸä¸ªå­—æ®µå€¼æ˜¯å¦ç­‰äºæŒ‡å®šçš„å€¼ï¼Œåªèƒ½é’ˆå¯¹å“åº”ç»“æœä¸ºapplicaton&#x2F;jsonæ ¼å¼è¿›è¡Œæ–­è¨€ã€‚</li><li>JSONå¸¸ç”¨æ•°æ®ç»“æ„æ ¼å¼<ul><li>Objectï¼š<code>&#123;&#39;a&#39;: 1, &#39;b&#39;: 2, &#39;c&#39;: 3&#125;</code>ã€‚</li><li>Arrayï¼š<code>&#123;&#39;A&#39;: [&#123;&#39;a&#39;: 1, &#39;b&#39;: 2&#125;, &#123;&#39;a&#39;: 3, &#39;b&#39;: 4&#125;], &#39;B&#39;: [&#123;&#39;a&#39;: 5, &#39;b&#39;: 6&#125;, &#123;&#39;a&#39;: 7, &#39;b&#39;: 8&#125;]&#125;</code>ã€‚</li></ul></li><li>JSONPath<ul><li>å¯æ–¹ä¾¿åœ°ä»JSONæ•°æ®ç»“æ„ä¸­å‘ç°å’Œæå–æ•°æ®ï¼Œæ— è®ºå¯¹è±¡(Object)è¿˜æ˜¯æ•°ç»„(Array)ï¼Œâ€œæ ¹æˆå‘˜å¯¹è±¡â€æ€»è¢«ç§°ä¸º<code>$</code>ã€‚</li><li>è¡¨è¾¾å¼æœ‰dotâ€“notation(<code>.</code>å·)å’Œbracketâ€“notation(<code>[]</code>å·)ä¸¤ç§ä¸åŒè¡¨ç¤ºé£æ ¼ï¼Œå¦‚<code>$.A[0].a</code>ã€<code>$[&#39;A&#39;][0][&#39;a&#39;]</code>ã€‚</li></ul></li><li>ç¤ºä¾‹ï¼šå¤©æ°”æŸ¥è¯¢(<a href="https://www.free-api.com/doc/319">https://www.free-api.com/doc/319</a>)ã€‚<ul><li>æ£€æŸ¥å“åº”æ•°æ®ä¸­çš„cityæ˜¯å¦ä¸ºå½“åœ°åŸå¸‚ï¼Œä¾‹å¦‚å½“å‰æ‰€åœ¨çš„åŸå¸‚æ˜¯å¦é—¨ã€‚</li><li>JMeterè„šæœ¬éœ€ä½¿ç”¨åˆ°çš„å…ƒä»¶åŒ…å«HTTPè¯·æ±‚ã€JSONæ–­è¨€ã€å¯Ÿçœ‹ç»“æœæ ‘ã€‚</li></ul></li></ul></li></ul><h3 id="1-HTTPè¯·æ±‚"><a href="#1-HTTPè¯·æ±‚" class="headerlink" title="(1) HTTPè¯·æ±‚"></a>(1) HTTPè¯·æ±‚</h3><p><img src="/../../img/JMeter/JMeter@034.jpg" srcset="/img/load.gif" lazyload alt="å¸¸ç”¨çš„æ–­è¨€-JSONæ–­è¨€-HTTPè¯·æ±‚"></p><h3 id="2-æ–­è¨€é…ç½®"><a href="#2-æ–­è¨€é…ç½®" class="headerlink" title="(2) æ–­è¨€é…ç½®"></a>(2) æ–­è¨€é…ç½®</h3><p><img src="/../../img/JMeter/JMeter@035.jpg" srcset="/img/load.gif" lazyload alt="å¸¸ç”¨çš„æ–­è¨€-JSONæ–­è¨€-æ–­è¨€é…ç½®"></p><h3 id="3-å¯Ÿçœ‹ç»“æœæ ‘"><a href="#3-å¯Ÿçœ‹ç»“æœæ ‘" class="headerlink" title="(3) å¯Ÿçœ‹ç»“æœæ ‘"></a>(3) å¯Ÿçœ‹ç»“æœæ ‘</h3><p><img src="/../../img/JMeter/JMeter@036.jpg" srcset="/img/load.gif" lazyload alt="å¸¸ç”¨çš„æ–­è¨€-JSONæ–­è¨€-å¯Ÿçœ‹ç»“æœæ ‘"></p><h2 id="4-3-æ–­è¨€æŒç»­æ—¶é—´"><a href="#4-3-æ–­è¨€æŒç»­æ—¶é—´" class="headerlink" title="4-3 æ–­è¨€æŒç»­æ—¶é—´"></a>4-3 æ–­è¨€æŒç»­æ—¶é—´</h2><ul><li>æ–­è¨€æŒç»­æ—¶é—´<ul><li>ç”¨äºæ£€æŸ¥HTTPè¯·æ±‚çš„å“åº”æ—¶é—´æ˜¯å¦è¶…è¿‡é¢„æœŸå€¼ï¼Œè¯¥å“åº”æ—¶é—´æ˜¯æ€§èƒ½æµ‹è¯•ä¸­è¾ƒå¸¸å…³æ³¨çš„ä¸€ä¸ªæ€§èƒ½æŒ‡æ ‡ã€‚</li><li>ç¤ºä¾‹ï¼šå‘é€è¯·æ±‚åˆ°â€œ<a href="https://www.baidu.com/">https://www.baidu.com</a>â€ã€‚<ul><li>æ£€æŸ¥å“åº”æ—¶é—´æ˜¯å¦å°äº100msï¼Œæˆ–å°äº200ms(å“åº”æ—¶é—´åœ¨100-200ms)ã€‚</li><li>JMeterè„šæœ¬éœ€ä½¿ç”¨åˆ°çš„å…ƒä»¶åŒ…å«HTTPè¯·æ±‚ã€æ–­è¨€æŒç»­æ—¶é—´ã€å¯Ÿçœ‹ç»“æœæ ‘ã€‚</li></ul></li></ul></li></ul><h3 id="1-HTTPè¯·æ±‚-1"><a href="#1-HTTPè¯·æ±‚-1" class="headerlink" title="(1) HTTPè¯·æ±‚"></a>(1) HTTPè¯·æ±‚</h3><p><img src="/../../img/JMeter/JMeter@037.jpg" srcset="/img/load.gif" lazyload alt="å¸¸ç”¨çš„æ–­è¨€-æ–­è¨€æŒç»­æ—¶é—´-HTTPè¯·æ±‚"></p><h3 id="2-æŒç»­æ—¶é—´è®¾ç½®"><a href="#2-æŒç»­æ—¶é—´è®¾ç½®" class="headerlink" title="(2) æŒç»­æ—¶é—´è®¾ç½®"></a>(2) æŒç»­æ—¶é—´è®¾ç½®</h3><p><img src="/../../img/JMeter/JMeter@038.jpg" srcset="/img/load.gif" lazyload alt="å¸¸ç”¨çš„æ–­è¨€-æ–­è¨€æŒç»­æ—¶é—´-æŒç»­æ—¶é—´è®¾ç½®"></p><h3 id="3-å¯Ÿçœ‹ç»“æœåˆ†æ"><a href="#3-å¯Ÿçœ‹ç»“æœåˆ†æ" class="headerlink" title="(3) å¯Ÿçœ‹ç»“æœåˆ†æ"></a>(3) å¯Ÿçœ‹ç»“æœåˆ†æ</h3><p><img src="/../../img/JMeter/JMeter@039.jpg" srcset="/img/load.gif" lazyload alt="å¸¸ç”¨çš„æ–­è¨€-æ–­è¨€æŒç»­æ—¶é—´-å¯Ÿçœ‹ç»“æœåˆ†æ"></p><h1 id="5-JMeterå…³è”"><a href="#5-JMeterå…³è”" class="headerlink" title="5 JMeterå…³è”"></a>5 JMeterå…³è”</h1><ul><li>JMeterå…³è”<ul><li>JSONæå–æ³•ï¼šé’ˆå¯¹JSONæ ¼å¼çš„å“åº”ç»“æœæ•°æ®è¿›è¡Œæå–ã€‚</li><li>XPathæå–æ³•ï¼šæ ¹æ®HTMLæ ¼å¼çš„å“åº”ç»“æœæ•°æ®è¿›è¡Œæå–ã€‚</li><li>æ­£åˆ™è¡¨è¾¾å¼æå–æ³•ï¼šæ ¹æ®æ­£åˆ™è¡¨è¾¾å¼å¯¹å“åº”ç»“æœæ•°æ®è¿›è¡Œæå–ã€‚</li><li>æå–å™¨åŠŸèƒ½ï¼šæå–å“åº”ç»“æœå†…å®¹ï¼Œå®ç°ä»ä¸Šä¸€ä¸ªè¿”å›ä½“ä¸­è·å–ä¸‹ä¸€ä¸ªè¯·æ±‚ä½“ä¸­éœ€è¦çš„æ•°æ®ã€‚</li></ul></li></ul><h2 id="5-1-JSONæå–å™¨"><a href="#5-1-JSONæå–å™¨" class="headerlink" title="5-1 JSONæå–å™¨"></a>5-1 JSONæå–å™¨</h2><ul><li>JSONæå–å™¨<ul><li>ç¤ºä¾‹ï¼šæå–å¤©æ°”æŸ¥è¯¢æ¥å£çš„provinceä¿¡æ¯ï¼Œä½œä¸ºå‚æ•°åœ¨è®¿é—®ç™¾åº¦é¦–é¡µæ—¶ä¼ é€’ã€‚<ul><li>ç™¾åº¦é¦–é¡µï¼š<a href="https://www.baidu.com/s?wd">https://www.baidu.com/s?wd</a>ã€‚</li><li>å¤©æ°”æŸ¥è¯¢ï¼š<a href="https://www.free-api.com/doc/319">https://www.free-api.com/doc/319</a>ã€‚</li><li>å…ƒä»¶åŒ…å«HTTPè¯·æ±‚ã€JSONæå–å™¨ã€HTTPä¿¡æ¯å¤´ç®¡ç†å™¨ã€å¯Ÿçœ‹ç»“æœæ ‘ã€‚</li></ul></li></ul></li></ul><h3 id="1-å¤©æ°”æŸ¥è¯¢"><a href="#1-å¤©æ°”æŸ¥è¯¢" class="headerlink" title="(1) å¤©æ°”æŸ¥è¯¢"></a>(1) å¤©æ°”æŸ¥è¯¢</h3><p><img src="/../../img/JMeter/JMeter@040.jpg" srcset="/img/load.gif" lazyload alt="JMeterå…³è”-JSONæå–å™¨-å¤©æ°”æŸ¥è¯¢"></p><h3 id="2-æå–å™¨è®¾ç½®"><a href="#2-æå–å™¨è®¾ç½®" class="headerlink" title="(2) æå–å™¨è®¾ç½®"></a>(2) æå–å™¨è®¾ç½®</h3><p><img src="/../../img/JMeter/JMeter@041.jpg" srcset="/img/load.gif" lazyload alt="JMeterå…³è”-JSONæå–å™¨-æå–å™¨è®¾ç½®-è®¾ç½®"></p><ul><li>å°†JSONæå–å™¨ä¸­å·²å®šä¹‰å¥½çš„provinceå˜é‡åï¼Œä»¥å‚æ•°å½¢å¼ä¼ é€’åˆ°â€œç™¾åº¦æœç´¢â€è¿™ä¸€â€œHTTPè¯·æ±‚â€å…ƒä»¶ä¸­ã€‚</li></ul><p><img src="/../../img/JMeter/JMeter@042.jpg" srcset="/img/load.gif" lazyload alt="JMeterå…³è”-JSONæå–å™¨-æå–å™¨è®¾ç½®-å…³è”ç™¾åº¦æœç´¢"></p><ul><li>ç™¾åº¦é€šå¸¸å¸¦æœ‰ç½‘ç«™å®‰å…¨éªŒè¯ï¼Œæ­¤æ—¶æ·»åŠ ä¸€ä¸ªâ€œHTTPä¿¡æ¯å¤´ç®¡ç†å™¨â€ï¼Œæ›´èƒ½æ¨¡æ‹Ÿäººä¸ºæ“ä½œï¼Œå®‰å…¨æ ¡éªŒä¸æ˜“è¯†åˆ«ã€‚</li></ul><p><img src="/../../img/JMeter/JMeter@043.jpg" srcset="/img/load.gif" lazyload alt="JMeterå…³è”-JSONæå–å™¨-æå–å™¨è®¾ç½®-HTTPä¿¡æ¯å¤´ç®¡ç†å™¨"></p><h3 id="3-å¯Ÿçœ‹ç»“æœæ ‘-1"><a href="#3-å¯Ÿçœ‹ç»“æœæ ‘-1" class="headerlink" title="(3) å¯Ÿçœ‹ç»“æœæ ‘"></a>(3) å¯Ÿçœ‹ç»“æœæ ‘</h3><p><img src="/../../img/JMeter/JMeter@044.jpg" srcset="/img/load.gif" lazyload alt="JMeterå…³è”-JSONæå–å™¨-å¯Ÿçœ‹ç»“æœæ ‘"></p><h2 id="5-2-XPathæå–å™¨"><a href="#5-2-XPathæå–å™¨" class="headerlink" title="5-2 XPathæå–å™¨"></a>5-2 XPathæå–å™¨</h2><ul><li>XPathæå–å™¨<ul><li>ç¤ºä¾‹ï¼šæå–W3Schoolsé¦–é¡µçš„titleï¼Œä½œä¸ºå‚æ•°åœ¨è®¿é—®ç™¾åº¦é¦–é¡µæ—¶ä¼ é€’ã€‚<ul><li>ç™¾åº¦é¦–é¡µï¼š<a href="https://www.baidu.com/s?wd">https://www.baidu.com/s?wd</a>ã€‚</li><li>W3Schoolsï¼š<a href="https://www.w3schools.com/">https://www.w3schools.com/</a>ã€‚</li><li>å…ƒä»¶åŒ…å«HTTPè¯·æ±‚ã€XPathæå–å™¨ã€HTTPä¿¡æ¯å¤´ç®¡ç†å™¨ã€å¯Ÿçœ‹ç»“æœæ ‘ã€‚</li></ul></li></ul></li></ul><h3 id="1-W3Schools"><a href="#1-W3Schools" class="headerlink" title="(1) W3Schools"></a>(1) W3Schools</h3><p><img src="/../../img/JMeter/JMeter@045.jpg" srcset="/img/load.gif" lazyload alt="JMeterå…³è”-XPathæå–å™¨-W3Schools"></p><h3 id="2-æå–å™¨è®¾ç½®-1"><a href="#2-æå–å™¨è®¾ç½®-1" class="headerlink" title="(2) æå–å™¨è®¾ç½®"></a>(2) æå–å™¨è®¾ç½®</h3><p><img src="/../../img/JMeter/JMeter@046.jpg" srcset="/img/load.gif" lazyload alt="JMeterå…³è”-XPathæå–å™¨-æå–å™¨è®¾ç½®"></p><h3 id="3-å¯Ÿçœ‹ç»“æœæ ‘-2"><a href="#3-å¯Ÿçœ‹ç»“æœæ ‘-2" class="headerlink" title="(3) å¯Ÿçœ‹ç»“æœæ ‘"></a>(3) å¯Ÿçœ‹ç»“æœæ ‘</h3><p><img src="/../../img/JMeter/JMeter@047.jpg" srcset="/img/load.gif" lazyload alt="JMeterå…³è”-XPathæå–å™¨-å¯Ÿçœ‹ç»“æœæ ‘"></p><h2 id="5-3-æ­£åˆ™è¡¨è¾¾å¼æå–å™¨"><a href="#5-3-æ­£åˆ™è¡¨è¾¾å¼æå–å™¨" class="headerlink" title="5-3 æ­£åˆ™è¡¨è¾¾å¼æå–å™¨"></a>5-3 æ­£åˆ™è¡¨è¾¾å¼æå–å™¨</h2><ul><li>æ­£åˆ™è¡¨è¾¾å¼æå–å™¨<ul><li>ç¤ºä¾‹ï¼šæå–W3Schoolsé¦–é¡µçš„titleï¼Œä½œä¸ºå‚æ•°åœ¨è®¿é—®ç™¾åº¦é¦–é¡µæ—¶ä¼ é€’ã€‚<ul><li>ç™¾åº¦é¦–é¡µï¼š<a href="https://www.baidu.com/s?wd">https://www.baidu.com/s?wd</a>ã€‚</li><li>W3Schoolsï¼š<a href="https://www.w3schools.com/">https://www.w3schools.com/</a>ã€‚</li><li>å…ƒä»¶åŒ…å«HTTPè¯·æ±‚ã€æ­£åˆ™è¡¨è¾¾å¼æå–å™¨ã€HTTPä¿¡æ¯å¤´ç®¡ç†å™¨ã€å¯Ÿçœ‹ç»“æœæ ‘ã€‚</li></ul></li></ul></li></ul><h3 id="1-æå–å™¨è®¾ç½®"><a href="#1-æå–å™¨è®¾ç½®" class="headerlink" title="(1) æå–å™¨è®¾ç½®"></a>(1) æå–å™¨è®¾ç½®</h3><p><img src="/../../img/JMeter/JMeter@048.jpg" srcset="/img/load.gif" lazyload alt="JMeterå…³è”-æ­£åˆ™è¡¨è¾¾å¼æå–å™¨-æå–å™¨è®¾ç½®"></p><h3 id="2-å¯Ÿçœ‹ç»“æœæ ‘"><a href="#2-å¯Ÿçœ‹ç»“æœæ ‘" class="headerlink" title="(2) å¯Ÿçœ‹ç»“æœæ ‘"></a>(2) å¯Ÿçœ‹ç»“æœæ ‘</h3><p><img src="/../../img/JMeter/JMeter@049.jpg" srcset="/img/load.gif" lazyload alt="JMeterå…³è”-æ­£åˆ™è¡¨è¾¾å¼æå–å™¨-å¯Ÿçœ‹ç»“æœæ ‘"></p><h2 id="5-4-ä¸åŒçº¿ç¨‹ç»„çš„å…³è”"><a href="#5-4-ä¸åŒçº¿ç¨‹ç»„çš„å…³è”" class="headerlink" title="5-4 ä¸åŒçº¿ç¨‹ç»„çš„å…³è”"></a>5-4 ä¸åŒçº¿ç¨‹ç»„çš„å…³è”</h2><ul><li>ä¸åŒçº¿ç¨‹ç»„çš„å…³è”<ul><li>å½“æœ‰å…³è”å…³ç³»çš„ä¸¤ä¸ªè¯·æ±‚åœ¨ä¸åŒçº¿ç¨‹ç»„æ—¶ï¼Œå®šä¹‰å…¨å±€å˜é‡æ¥è¿›è¡Œå…³è”ã€‚</li><li>JMeterå±æ€§çš„é…ç½®å‡½æ•°ä¸æ‰§è¡Œï¼šéƒ½ä½äºå‡½æ•°åŠ©æ‰‹ä¸­ã€‚<ul><li><code>__setProperty</code>ï¼šé€šè¿‡BeanShellå–æ ·å™¨å°†å€¼ä¿å­˜æˆJMeterå±æ€§ã€‚</li><li><code>__property</code>ï¼šåœ¨å…¶ä»–çº¿ç¨‹ç»„ä¸­ä½¿ç”¨propertyå‡½æ•°è¯»å–JMeterå±æ€§ã€‚</li></ul></li><li>ç¤ºä¾‹ï¼šæå–ï¼Œä½œä¸ºå‚æ•°åœ¨è®¿é—®ç™¾åº¦é¦–é¡µæ—¶ä¼ é€’ã€‚<ul><li>çº¿ç¨‹ç»„1ï¼šå‘é€è¯·æ±‚ï¼Œè·å–å¤©æ°”æŸ¥è¯¢æ¥å£çš„provinceä¿¡æ¯ï¼Œ<a href="https://www.free-api.com/doc/319">https://www.free-api.com/doc/319</a>ã€‚</li><li>çº¿ç¨‹ç»„2ï¼šè¯·æ±‚ç™¾åº¦ï¼Œ<a href="https://www.baidu.com/s?wd">https://www.baidu.com/s?wd</a>ï¼Œå°†ä¸Šè¿°è·å–çš„provinceä¿¡æ¯ä½œä¸ºå‚æ•°ä¼ é€’ã€‚</li><li>ä½¿ç”¨å…ƒä»¶åŒ…å«HTTPè¯·æ±‚ã€JSONæå–å™¨ã€BeanShellå–æ ·å™¨ã€HTTPä¿¡æ¯å¤´ç®¡ç†å™¨ã€å¯Ÿçœ‹ç»“æœæ ‘ã€‚</li></ul></li></ul></li></ul><h3 id="1-ä¿å­˜å±æ€§å€¼"><a href="#1-ä¿å­˜å±æ€§å€¼" class="headerlink" title="(1) ä¿å­˜å±æ€§å€¼"></a>(1) ä¿å­˜å±æ€§å€¼</h3><p><img src="/../../img/JMeter/JMeter@050.jpg" srcset="/img/load.gif" lazyload alt="JMeterå…³è”-ä¸åŒçº¿ç¨‹ç»„çš„å…³è”-ä¿å­˜å±æ€§å€¼"></p><h3 id="2-è¯»å–ä¼ é€’å€¼"><a href="#2-è¯»å–ä¼ é€’å€¼" class="headerlink" title="(2) è¯»å–ä¼ é€’å€¼"></a>(2) è¯»å–ä¼ é€’å€¼</h3><p><img src="/../../img/JMeter/JMeter@051.jpg" srcset="/img/load.gif" lazyload alt="JMeterå…³è”-ä¸åŒçº¿ç¨‹ç»„çš„å…³è”-è¯»å–ä¼ é€’å€¼"></p><h3 id="3-ç‹¬ç«‹è¿è¡Œçº¿ç¨‹ç»„"><a href="#3-ç‹¬ç«‹è¿è¡Œçº¿ç¨‹ç»„" class="headerlink" title="(3) ç‹¬ç«‹è¿è¡Œçº¿ç¨‹ç»„"></a>(3) ç‹¬ç«‹è¿è¡Œçº¿ç¨‹ç»„</h3><p><img src="/../../img/JMeter/JMeter@052.jpg" srcset="/img/load.gif" lazyload alt="JMeterå…³è”-ä¸åŒçº¿ç¨‹ç»„çš„å…³è”-ç‹¬ç«‹è¿è¡Œçº¿ç¨‹ç»„"></p><h3 id="4-å¯Ÿçœ‹ç»“æœæ ‘åˆ†æ"><a href="#4-å¯Ÿçœ‹ç»“æœæ ‘åˆ†æ" class="headerlink" title="(4) å¯Ÿçœ‹ç»“æœæ ‘åˆ†æ"></a>(4) å¯Ÿçœ‹ç»“æœæ ‘åˆ†æ</h3><p><img src="/../../img/JMeter/JMeter@053.jpg" srcset="/img/load.gif" lazyload alt="JMeterå…³è”-ä¸åŒçº¿ç¨‹ç»„çš„å…³è”-å¯Ÿçœ‹ç»“æœæ ‘åˆ†æ"></p><h1 id="6-æ•°æ®åº“çš„è¿æ¥"><a href="#6-æ•°æ®åº“çš„è¿æ¥" class="headerlink" title="6 æ•°æ®åº“çš„è¿æ¥"></a>6 æ•°æ®åº“çš„è¿æ¥</h1><ul><li>æ•°æ®åº“çš„è¿æ¥<ul><li>ä»¥æœ¬åœ°ç¦…é“MySQLæ•°æ®åº“ä¸ºä¾‹ï¼Œå»ºç«‹æ•°æ®åº“è¿æ¥ï¼Œéœ€é…ç½®mysql-connector-j-xxx.jaré©±åŠ¨åŒ…ã€‚<ul><li><a href="https://dev.mysql.com/downloads/connector/j/">MySQLå®˜ç½‘</a>ï¼šSelect Operating Systemé€‰æ‹©Platform Independentï¼Œç‚¹å‡»zipåŒ…å³ä¾§çš„Downloadè¿›è¡Œä¸‹è½½ã€‚</li><li>è§£å‹åå°†mysql-connector-j-8.0.32.jaræ–‡ä»¶å¤åˆ¶åˆ°<code>..\apache-jmeter-5.1\lib</code>ç›®å½•ä¸‹ï¼Œé‡å¯JMeterã€‚</li></ul></li><li>JMeterè¿æ¥æ•°æ®åº“çš„è„šæœ¬éœ€è¦ä½¿ç”¨åˆ°çš„å…ƒä»¶åŒ…å«ï¼šJDBCè¿æ¥é…ç½®ã€HTTPè¯·æ±‚ã€å¯Ÿçœ‹ç»“æœæ ‘ã€‚</li></ul></li></ul><h2 id="6-1-å¼•å…¥åŒ…"><a href="#6-1-å¼•å…¥åŒ…" class="headerlink" title="6-1 å¼•å…¥åŒ…"></a>6-1 å¼•å…¥åŒ…</h2><p><img src="/../../img/JMeter/JMeter@054.jpg" srcset="/img/load.gif" lazyload alt="æ•°æ®åº“çš„è¿æ¥-å¼•å…¥åŒ…"></p><h2 id="6-2-JDBCè¿æ¥é…ç½®"><a href="#6-2-JDBCè¿æ¥é…ç½®" class="headerlink" title="6-2 JDBCè¿æ¥é…ç½®"></a>6-2 JDBCè¿æ¥é…ç½®</h2><ul><li>JDBCè¿æ¥é…ç½®<ul><li>DB2ï¼š<code>jdbc:db2://localhost:ç«¯å£/æ•°æ®åº“å</code>ã€‚<ul><li>è£…æœ‰DB2å®¢æˆ·ç«¯ï¼š<code>com.ibm.db2.jdbc.app.DB2.Driver</code>ã€‚</li><li>æœªè£…DB2å®¢æˆ·ç«¯ï¼š<code>com.ibm.db2.jdbc.net.DB2.Driver</code>ã€‚</li></ul></li><li>Microsoft SQL Server<ul><li><code>jdbc:microsoft.sqlserver://localhost:ç«¯å£;DatabaseName=æ•°æ®åº“å</code></li><li>JDBC Driver classï¼š<code>com.microsoft.sqlserver.jdbc.SQLServerDriver</code>ã€‚</li></ul></li><li>MySQLï¼š<code>jdbc:mysql://localhost:ç«¯å£/æ•°æ®åº“å</code>ï¼Œ<code>com.mysql.jdbc.Driver</code>ã€‚</li><li>PostgreSQLï¼š<code>jdbc:postgresql://localhost/æ•°æ®åº“å</code>ã€<code>org.postgresql.Driver</code>ã€‚</li><li>Sysbaseï¼š<code>jdbc:Sysbase://localhost:ç«¯å£/æ•°æ®åº“å</code>ã€<code>com.sysbase.jdbc.SybDriver</code>ã€‚</li><li>JDBC-ODBCï¼š<code>jdbc:odbc:æ•°æ®æºå</code>(Database URL)ã€<code>sun.jdbc.odbc.jdbcOdbcDriver</code>ã€‚</li><li>Oracle(thinæ¨¡å¼)ï¼š<code>jdbc:oracle:thin:@localhost:ç«¯å£:SID</code>ï¼Œ<code>oracle.jdbc.OracleDriver</code>ã€‚</li></ul></li></ul><p><img src="/../../img/JMeter/JMeter@055.jpg" srcset="/img/load.gif" lazyload alt="æ•°æ®åº“çš„è¿æ¥-JDBCè¿æ¥é…ç½®"></p><h2 id="6-3-JDBCè¯·æ±‚è®¾ç½®"><a href="#6-3-JDBCè¯·æ±‚è®¾ç½®" class="headerlink" title="6-3 JDBCè¯·æ±‚è®¾ç½®"></a>6-3 JDBCè¯·æ±‚è®¾ç½®</h2><p><img src="/../../img/JMeter/JMeter@056.jpg" srcset="/img/load.gif" lazyload alt="æ•°æ®åº“çš„è¿æ¥-JDBCè¯·æ±‚è®¾ç½®"></p><h2 id="6-4-å¯Ÿçœ‹ç»“æœæ ‘åˆ†æ"><a href="#6-4-å¯Ÿçœ‹ç»“æœæ ‘åˆ†æ" class="headerlink" title="6-4 å¯Ÿçœ‹ç»“æœæ ‘åˆ†æ"></a>6-4 å¯Ÿçœ‹ç»“æœæ ‘åˆ†æ</h2><p><img src="/../../img/JMeter/JMeter@057.jpg" srcset="/img/load.gif" lazyload alt="æ•°æ®åº“çš„è¿æ¥-å¯Ÿçœ‹ç»“æœæ ‘åˆ†æ"></p><h1 id="7-å¸¸è§„é€»è¾‘æ§åˆ¶"><a href="#7-å¸¸è§„é€»è¾‘æ§åˆ¶" class="headerlink" title="7 å¸¸è§„é€»è¾‘æ§åˆ¶"></a>7 å¸¸è§„é€»è¾‘æ§åˆ¶</h1><ul><li>å¸¸è§„é€»è¾‘æ§åˆ¶<ul><li>å¦‚æœæ§åˆ¶å™¨ï¼šç”¨æ¥æ§åˆ¶æµ‹è¯•å…ƒç´ æ˜¯å¦è¿è¡Œã€‚</li><li>å¾ªç¯æ§åˆ¶å™¨ï¼šå¯ä»¥åŒè®¡æ•°å™¨ï¼Œæˆ–CSVæ•°æ®æ–‡ä»¶è®¾ç½®æ­é…ä½¿ç”¨ã€‚</li><li>ForEachæ§åˆ¶å™¨ï¼šä¸ç”¨æˆ·è‡ªå®šä¹‰å˜é‡ï¼Œæˆ–æ­£åˆ™è¡¨è¾¾å¼æå–å™¨æ­é…ä½¿ç”¨ï¼Œè¯»å–è¿”å›ç»“æœä¸­ä¸€ç³»åˆ—ç›¸å…³çš„å˜é‡ã€‚</li></ul></li></ul><h2 id="7-1-å¦‚æœæ§åˆ¶å™¨"><a href="#7-1-å¦‚æœæ§åˆ¶å™¨" class="headerlink" title="7-1 å¦‚æœæ§åˆ¶å™¨"></a>7-1 å¦‚æœæ§åˆ¶å™¨</h2><ul><li>å¦‚æœæ§åˆ¶å™¨<ul><li>JMeterçš„è¯­æ³•æ ¼å¼ï¼š<code>&quot;$&#123;name&#125;&quot;==&quot;name&quot;</code>ï¼Œä¸å‹¾é€‰<code>Interpret Condition as Variable Expression?</code>ã€‚</li><li>å‡½æ•°æ ¼å¼ï¼šå‹¾é€‰<code>Interpret Condition as Variable Expression?</code>ã€‚<ul><li><code>$&#123;__jexl3(&quot;$&#123;name&#125;&quot;==&quot;name&quot;)&#125;</code>ã€‚</li><li>æ³¨æ„ï¼Œè¿™é‡Œçš„<code>__jexl3</code>æ˜¯åŒä¸‹åˆ’çº¿ã€‚</li></ul></li><li>ç¤ºä¾‹ï¼šä½¿ç”¨â€œç”¨æˆ·å®šä¹‰çš„å˜é‡â€å…ƒä»¶å®šä¹‰ä¸€ä¸ªå˜é‡nameï¼Œä¾æ®nameå€¼å®ç°å¯¹åº”ç½‘ç«™çš„è®¿é—®ã€‚<ul><li>ç™¾åº¦é¦–é¡µï¼š<a href="https://www.baidu.com/">https://www.baidu.com/</a>ã€‚</li><li>W3SChoolsï¼š<a href="https://www.w3schools.com/">https://www.w3schools.com/</a>ã€‚</li><li>è„šæœ¬éœ€è¦ä½¿ç”¨åˆ°çš„å…ƒä»¶åŒ…å«ï¼šç”¨æˆ·å®šä¹‰çš„å˜é‡ã€å¦‚æœæ§åˆ¶å™¨ã€HTTPè¯·æ±‚ã€å¯Ÿçœ‹ç»“æœæ ‘ã€‚</li></ul></li></ul></li></ul><h3 id="1-å®šä¹‰å˜é‡"><a href="#1-å®šä¹‰å˜é‡" class="headerlink" title="(1) å®šä¹‰å˜é‡"></a>(1) å®šä¹‰å˜é‡</h3><p><img src="/../../img/JMeter/JMeter@058.jpg" srcset="/img/load.gif" lazyload alt="å¸¸è§„é€»è¾‘æ§åˆ¶-å¦‚æœæ§åˆ¶å™¨-å®šä¹‰å˜é‡"></p><h3 id="2-baiduæ§åˆ¶å™¨"><a href="#2-baiduæ§åˆ¶å™¨" class="headerlink" title="(2) baiduæ§åˆ¶å™¨"></a>(2) baiduæ§åˆ¶å™¨</h3><p><img src="/../../img/JMeter/JMeter@059.jpg" srcset="/img/load.gif" lazyload alt="å¸¸è§„é€»è¾‘æ§åˆ¶-å¦‚æœæ§åˆ¶å™¨-baiduæ§åˆ¶å™¨"></p><h3 id="3-w3schoolsæ§åˆ¶å™¨"><a href="#3-w3schoolsæ§åˆ¶å™¨" class="headerlink" title="(3) w3schoolsæ§åˆ¶å™¨"></a>(3) w3schoolsæ§åˆ¶å™¨</h3><p><img src="/../../img/JMeter/JMeter@060.jpg" srcset="/img/load.gif" lazyload alt="å¸¸è§„é€»è¾‘æ§åˆ¶-å¦‚æœæ§åˆ¶å™¨-w3schoolsæ§åˆ¶å™¨"></p><h2 id="7-2-å¾ªç¯æ§åˆ¶å™¨"><a href="#7-2-å¾ªç¯æ§åˆ¶å™¨" class="headerlink" title="7-2 å¾ªç¯æ§åˆ¶å™¨"></a>7-2 å¾ªç¯æ§åˆ¶å™¨</h2><ul><li>å¾ªç¯æ§åˆ¶å™¨<ul><li>çº¿ç¨‹ç»„ä¸å¾ªç¯æ§åˆ¶å™¨ï¼Œå¾ªç¯æ¬¡æ•°çš„åŒºåˆ«ã€‚<ul><li>çº¿ç¨‹ç»„ï¼šå¯¹çº¿ç¨‹ç»„ä¸‹æ‰€æœ‰çš„â€œHTTPè¯·æ±‚â€éƒ½èµ·ä½œç”¨ã€‚</li><li>å¾ªç¯æ§åˆ¶å™¨ï¼šåªå¯¹è¯¥æ§åˆ¶å™¨ä¸‹çš„â€œHTTPè¯·æ±‚â€èµ·ä½œç”¨ã€‚</li></ul></li><li>çº¿ç¨‹ç»„å¾ªç¯æ¬¡æ•°ä¸ºMæ¬¡ï¼Œå¾ªç¯æ§åˆ¶å™¨ä¸ºNæ¬¡ã€‚<ul><li>å¾ªç¯æ§åˆ¶å™¨ä¸‹çš„â€œHTTPè¯·æ±‚â€å¾ªç¯æ¬¡æ•°ï¼šM*Næ¬¡ã€‚</li><li>éå¾ªç¯æ§åˆ¶å™¨ä¸‹çš„â€œHTTPè¯·æ±‚â€å¾ªç¯æ¬¡æ•°ï¼šMæ¬¡ã€‚</li></ul></li><li>ç¤ºä¾‹ï¼šå¾ªç¯è®¿é—®ç™¾åº¦10æ¬¡ï¼Œå…ƒä»¶åŒ…å«å¾ªç¯æ§åˆ¶å™¨ã€HTTPè¯·æ±‚ã€å¯Ÿçœ‹ç»“æœæ ‘ã€‚</li></ul></li></ul><h3 id="1-æ§åˆ¶å™¨è®¾ç½®"><a href="#1-æ§åˆ¶å™¨è®¾ç½®" class="headerlink" title="(1) æ§åˆ¶å™¨è®¾ç½®"></a>(1) æ§åˆ¶å™¨è®¾ç½®</h3><p><img src="/../../img/JMeter/JMeter@061.jpg" srcset="/img/load.gif" lazyload alt="å¸¸è§„é€»è¾‘æ§åˆ¶-å¾ªç¯æ§åˆ¶å™¨-æ§åˆ¶å™¨è®¾ç½®"></p><h3 id="2-å¯Ÿçœ‹ç»“æœæ ‘-1"><a href="#2-å¯Ÿçœ‹ç»“æœæ ‘-1" class="headerlink" title="(2) å¯Ÿçœ‹ç»“æœæ ‘"></a>(2) å¯Ÿçœ‹ç»“æœæ ‘</h3><p><img src="/../../img/JMeter/JMeter@062.jpg" srcset="/img/load.gif" lazyload alt="å¸¸è§„é€»è¾‘æ§åˆ¶-å¾ªç¯æ§åˆ¶å™¨-å¯Ÿçœ‹ç»“æœæ ‘"></p><h2 id="7-3-ForEachæ§åˆ¶å™¨"><a href="#7-3-ForEachæ§åˆ¶å™¨" class="headerlink" title="7-3 ForEachæ§åˆ¶å™¨"></a>7-3 ForEachæ§åˆ¶å™¨</h2><ul><li>ForEachæ§åˆ¶å™¨<ul><li>ç¤ºä¾‹ï¼šä¸€ç»„å…³é”®å­—<code>&#123;&quot;value_1&quot;: &quot;C++&quot;, &quot;value_2&quot;: &quot;Java&quot;, &quot;value_3&quot;: &quot;Python&quot;&#125;</code>ã€‚</li><li>è¦æ±‚ï¼šå°†è¿™ç»„å…³é”®å­—é€šè¿‡ä½¿ç”¨â€œç”¨æˆ·å®šä¹‰çš„å˜é‡â€å…ƒä»¶å­˜å‚¨ï¼Œä¾æ¬¡å–å€¼å¹¶åœ¨ç™¾åº¦è¿›è¡Œç´¢å¼•ã€‚</li><li>å…ƒä»¶åŒ…å«ï¼šç”¨æˆ·å®šä¹‰çš„å˜é‡ã€ForEachæ§åˆ¶å™¨ã€HTTPè¯·æ±‚ã€HTTPä¿¡æ¯å¤´ç®¡ç†å™¨ã€å¯Ÿçœ‹ç»“æœæ ‘ã€‚</li></ul></li></ul><h3 id="1-å®šä¹‰å˜é‡-1"><a href="#1-å®šä¹‰å˜é‡-1" class="headerlink" title="(1) å®šä¹‰å˜é‡"></a>(1) å®šä¹‰å˜é‡</h3><p><img src="/../../img/JMeter/JMeter@063.jpg" srcset="/img/load.gif" lazyload alt="å¸¸è§„é€»è¾‘æ§åˆ¶-ForEachæ§åˆ¶å™¨-å®šä¹‰å˜é‡"></p><h3 id="2-æ§åˆ¶å™¨è®¾ç½®"><a href="#2-æ§åˆ¶å™¨è®¾ç½®" class="headerlink" title="(2) æ§åˆ¶å™¨è®¾ç½®"></a>(2) æ§åˆ¶å™¨è®¾ç½®</h3><p><img src="/../../img/JMeter/JMeter@064.jpg" srcset="/img/load.gif" lazyload alt="å¸¸è§„é€»è¾‘æ§åˆ¶-ForEachæ§åˆ¶å™¨-æ§åˆ¶å™¨è®¾ç½®"></p><h3 id="3-å¯Ÿçœ‹ç»“æœæ ‘-3"><a href="#3-å¯Ÿçœ‹ç»“æœæ ‘-3" class="headerlink" title="(3) å¯Ÿçœ‹ç»“æœæ ‘"></a>(3) å¯Ÿçœ‹ç»“æœæ ‘</h3><p><img src="/../../img/JMeter/JMeter@065.jpg" srcset="/img/load.gif" lazyload alt="å¸¸è§„é€»è¾‘æ§åˆ¶-ForEachæ§åˆ¶å™¨-å¯Ÿçœ‹ç»“æœæ ‘"></p>]]></content>
    
    
    <categories>
      
      <category>æµ‹è¯•å·¥å…·</category>
      
      <category>JMeter</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æµ‹è¯•å·¥å…·</tag>
      
      <tag>JMeter</tag>
      
      <tag>Apache</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python Flask</title>
    <link href="/2021/12/10/python/python13-python-flask/"/>
    <url>/2021/12/10/python/python13-python-flask/</url>
    
    <content type="html"><![CDATA[<p>ç”¨Pythonç¼–å†™çš„Webåº”ç”¨ç¨‹åºæ¡†æ¶ï¼ŒåŸºäºWerkzeug WSGIå·¥å…·åŒ…å’ŒJinja2æ¨¡æ¿å¼•æ“ï¼Œç”±Armin Ronacherå¸¦é¢†Poccoå›¢é˜Ÿå¼€å‘ã€‚</p><span id="more"></span><h1 id="1-å¾®æ¡†æ¶"><a href="#1-å¾®æ¡†æ¶" class="headerlink" title="1 å¾®æ¡†æ¶"></a>1 å¾®æ¡†æ¶</h1><ul><li>å¾®æ¡†æ¶<ul><li>WSGIï¼šWebæœåŠ¡å™¨çš„ç½‘å…³æ¥å£ï¼ŒWebæœåŠ¡å™¨å’ŒWebåº”ç”¨ç¨‹åºä¹‹é—´é€šç”¨æ¥å£çš„è§„èŒƒã€‚</li><li>Werkzeugï¼šä¸€ä¸ªWSGIå·¥å…·åŒ…ï¼Œå®ç°äº†è¯·æ±‚ã€å“åº”å¯¹è±¡å’Œå®ç”¨å‡½æ•°ï¼Œèƒ½åœ¨ä¸Šé¢æ„å»ºWebæ¡†æ¶ã€‚</li><li>jinja2ï¼šPythonçš„ä¸€ä¸ªæµè¡Œæ¨¡æ¿å¼•æ“ï¼ŒWebæ¨¡æ¿ç³»ç»Ÿå°†æ¨¡æ¿ä¸ç‰¹å®šæ•°æ®æºç»„åˆä»¥å‘ˆç°åŠ¨æ€ç½‘é¡µã€‚</li><li>å‘½ä»¤çª—å£ä¸‹ä½¿ç”¨PIPè¿›è¡Œå®‰è£…ï¼š<code>pip install Flask</code>ï¼Œæµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸï¼Œæ–°å»ºhello.pyæ–‡ä»¶ã€‚<ul><li><code>app.route(rule, options)</code><ul><li>route()å‡½æ•°æ˜¯ä¸€ä¸ªè£…é¥°å™¨ï¼Œå‘Šè¯‰åº”ç”¨ç¨‹åºå“ªä¸ªURLåº”è¯¥è°ƒç”¨ç›¸å…³çš„å‡½æ•°ã€‚</li><li>ruleè¡¨ç¤ºä¸è¯¥å‡½æ•°çš„URLç»‘å®šï¼Œoptionsæ˜¯è½¬å‘ç»™åŸºç¡€ruleå¯¹è±¡çš„å‚æ•°åˆ—è¡¨ã€‚</li></ul></li><li><code>app.run(host, port, debug, options)</code><ul><li>hostï¼šä¸»æœºåï¼Œé»˜è®¤ä¸º127.0.0.1(localhost)ï¼Œè®¾ä¸º0.0.0.0ä»¥ä½¿æœåŠ¡å™¨åœ¨å¤–éƒ¨å¯ç”¨ã€‚</li><li>portï¼šç«¯å£å·ï¼Œé»˜è®¤å€¼ä¸º5000ã€‚</li><li>debugï¼šé»˜è®¤falseï¼Œè®¾ä¸ºtrueæä¾›è°ƒè¯•ä¿¡æ¯ã€‚</li><li>optionsï¼šè¦è½¬å‘åˆ°åº•å±‚çš„WerkzeugæœåŠ¡å™¨ã€‚</li></ul></li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask       <span class="hljs-comment"># hello.pyæ–‡ä»¶ï¼Œå¯¼å…¥Flaskæ¨¡å—éªŒè¯æµ‹è¯•</span><br><br>app = Flask(__name__)         <span class="hljs-comment"># Flaskæ„é€ å‡½æ•°ä½¿ç”¨å½“å‰æ¨¡å—__nameçš„åç§°ä½œä¸ºå‚æ•°</span><br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/&#x27;</span></span>)               </span><span class="hljs-comment"># Flaskç±»çš„route()å‡½æ•°æ˜¯ä¸€ä¸ªè£…é¥°å™¨ï¼Œå‘Šè¯‰åº”ç”¨ç¨‹åºå“ªä¸ªURLåº”è°ƒç”¨ç›¸å…³çš„å‡½æ•°</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">hello_world</span>():            <span class="hljs-comment"># &#x27;/&#x27;URLä¸å‡½æ•°ç»‘å®šï¼Œæµè§ˆå™¨è®¿é—®[127.0.0.1:5000]æ—¶ï¼Œæ˜¾ç¤º&#x27;Hello World!&#x27;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&lt;center&gt;Hello World!&lt;/center&gt;&#x27;</span><br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:    <span class="hljs-comment"># Flaskä¸­æ–‡ç½‘ï¼šhttps://flask.net.cn/</span><br>    app.run()                 <span class="hljs-comment"># Flaskç±»çš„run()æ–¹æ³•æ˜¯åœ¨æœ¬åœ°å¼€å‘æœåŠ¡å™¨ä¸Šè¿è¡Œåº”ç”¨ç¨‹åº</span><br></code></pre></td></tr></table></figure><h2 id="1-1-éªŒè¯æµ‹è¯•"><a href="#1-1-éªŒè¯æµ‹è¯•" class="headerlink" title="1-1 éªŒè¯æµ‹è¯•"></a>1-1 éªŒè¯æµ‹è¯•</h2><ul><li>éªŒè¯æµ‹è¯•<ul><li>å‘½ä»¤çª—å£è¿›å…¥hello.pyæ–‡ä»¶å¯¹åº”çš„ç›®å½•ä¸­ï¼Œ<code>python hello.py</code>æ‰§è¡Œå‘½ä»¤ã€‚</li><li>åœ¨æµè§ˆå™¨çš„ä»»åŠ¡æ ä¸­è¾“å…¥â€œ<a href="http://127.0.0.1:5000/">http://127.0.0.1:5000/</a>â€ï¼Œå›è½¦è¿›è¡ŒæŸ¥çœ‹ã€‚</li></ul></li></ul><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs Powershell">python hello.py<br><br> * Serving Flask app <span class="hljs-string">&quot;hello&quot;</span> (lazy loading)<br> * Environment: production<br>   WARNING: This is a development server. <span class="hljs-keyword">Do</span> not use it <span class="hljs-keyword">in</span> a production deployment.     <br>   Use a production WSGI server instead.<br> * Debug mode: off<br> * Running on http://<span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span>:<span class="hljs-number">5000</span>/ (Press CTRL+C to quit)<br><br><span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span> - - [<span class="hljs-number">01</span>/<span class="hljs-type">Oct</span>/<span class="hljs-number">2023</span> <span class="hljs-number">17</span>:<span class="hljs-number">07</span>:<span class="hljs-number">14</span>] <span class="hljs-string">&quot;GET / HTTP/1.1&quot;</span> <span class="hljs-number">200</span> -<br></code></pre></td></tr></table></figure><h2 id="1-2-è°ƒè¯•æ¨¡å¼"><a href="#1-2-è°ƒè¯•æ¨¡å¼" class="headerlink" title="1-2 è°ƒè¯•æ¨¡å¼"></a>1-2 è°ƒè¯•æ¨¡å¼</h2><ul><li>è°ƒè¯•æ¨¡å¼<ul><li>å½“åº”ç”¨ç¨‹åºå¤„äºå¼€å‘çŠ¶æ€æ—¶ï¼Œå¦‚æœä»£ç è¿›è¡Œäº†æ›´æ”¹ï¼Œåˆ™éœ€è¦æ¯æ¬¡éƒ½é‡å¯æ›´æ–°ï¼Œæ“ä½œååˆ†ä¸ä¾¿ã€‚</li><li>ä¸ºäº†é¿å…é¢‘ç¹æ‰‹åŠ¨é‡å¯æ›´æ–°ï¼Œå¯ä»¥å¼€å¯è°ƒè¯•æ¨¡å¼ï¼Œå¦‚æœä»£ç æ›´æ”¹äº†ï¼ŒæœåŠ¡å™¨å°†è‡ªè¡Œé‡æ–°åŠ è½½ã€‚</li><li>è°ƒè¯•æ¨¡å¼è¿˜æä¾›äº†ä¸€ä¸ªæœ‰ç”¨çš„è°ƒè¯•å™¨ï¼Œç”¨äºè·Ÿè¸ªåº”ç”¨ç¨‹åºä¸­çš„é”™è¯¯ï¼Œæœ‰ä¸¤ç§è¯­æ³•æ ¼å¼çš„ä¹¦å†™ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask<br><br>app = Flask(__name__)<br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/&#x27;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">hello_world</span>():            <span class="hljs-comment"># æµè§ˆå™¨è®¿é—®[127.0.0.1:5000]æ—¶ï¼Œæ˜¾ç¤º&#x27;Hello World!&#x27;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&lt;center&gt;Hello World!&lt;/center&gt;&#x27;</span><br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    app.debug = <span class="hljs-literal">True</span>          <span class="hljs-comment"># è°ƒè¯•æ¨¡å¼ä¸‹ï¼Œè‹¥ä»£ç æ›´æ”¹ï¼ŒæœåŠ¡å™¨å°†è‡ªè¡Œé‡æ–°åŠ è½½</span><br>    app.run()                 <span class="hljs-comment"># è¿˜æä¾›äº†ä¸€ä¸ªæœ‰ç”¨çš„è°ƒè¯•å™¨æ¥è·Ÿè¸ªåº”ç”¨ç¨‹åºä¸­çš„é”™è¯¯</span><br>    <span class="hljs-comment"># app.run(debug=True)     # æˆ–å°†runä¸debugå†™æˆä¸€ä¸ªå‡½æ•°å¸¦å‚å½¢å¼</span><br></code></pre></td></tr></table></figure><h2 id="1-3-è·¯ç”±æŠ€æœ¯"><a href="#1-3-è·¯ç”±æŠ€æœ¯" class="headerlink" title="1-3 è·¯ç”±æŠ€æœ¯"></a>1-3 è·¯ç”±æŠ€æœ¯</h2><ul><li>è·¯ç”±æŠ€æœ¯<ul><li>route()è£…é¥°å™¨ç”¨äºå°†URLä¸å‡½æ•°è¿›è¡Œç»‘å®šï¼Œå¯ç›´æ¥è®¿é—®æƒ³è®¿é—®çš„é¡µé¢ï¼Œä¸ç”¨å†ä»ä¸»é¡µå¼€å§‹å¯¼èˆªäº†ã€‚</li><li>è‹¥URLâ€˜&#x2F;helloâ€™è§„åˆ™ç»‘å®šåˆ°hello_world()å‡½æ•°ï¼Œåˆ™æµè§ˆå™¨è®¿é—®â€œ<a href="http://localhost:5000/hello">http://localhost:5000/hello</a>â€ã€‚</li><li>add_url_rule()å‡½æ•°ä¹Ÿå¯ä»¥ç”¨äºå°†URLä¸å‡½æ•°è¿›è¡Œç»‘å®šã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask<br><br>app = Flask(__name__)<br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/hello&#x27;</span></span>)          </span><span class="hljs-comment"># è®¿é—®[http://127.0.0.1:5000/hello]</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">hello_world</span>():<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&lt;center&gt;Hello World!&lt;/center&gt;&#x27;</span><br><br><br>app.add_url_rule(             <span class="hljs-comment"># è®¿é—®[http://127.0.0.1:5000/]ï¼Œå¯æ›¿ä»£route()è£…é¥°å™¨</span><br>    <span class="hljs-string">&#x27;/&#x27;</span>, <span class="hljs-string">&#x27;hello&#x27;</span>, hello_world<br>)<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    app.run(debug=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><h4 id="1-URLæ„å»º"><a href="#1-URLæ„å»º" class="headerlink" title="(1) URLæ„å»º"></a>(1) URLæ„å»º</h4><ul><li>å˜é‡è§„åˆ™<ul><li>route()è£…é¥°å™¨é€šè¿‡å‘è§„åˆ™å‚æ•°æ·»åŠ å˜é‡éƒ¨åˆ†ï¼Œå¯åŠ¨æ€æ„å»ºURLï¼š<code>route(/&lt;name&gt;/&lt;variable-name&gt;)</code>ã€‚</li><li>é™¤é»˜è®¤å­—ç¬¦ä¸²å˜é‡éƒ¨åˆ†å¤–ï¼Œè¿˜å¯ä½¿ç”¨è½¬æ¢å™¨æ„å»ºè§„åˆ™ï¼šintã€floatã€path(æ¥å—ç”¨ä½œç›®å½•åˆ†éš”ç¬¦çš„æ–œæ )ã€‚<ul><li>å­—ç¬¦ä¸²å˜é‡ï¼šè‹¥è®¿é—®â€œ<a href="http://127.0.0.1:5000/hello/Aha">http://127.0.0.1:5000/hello/Aha</a>â€ï¼Œæ˜¾ç¤ºâ€œHello Aha!â€ã€‚</li><li>intæ•´æ•°ï¼šè‹¥è®¿é—®â€œ<a href="http://127.0.0.1:5000/blog/27">http://127.0.0.1:5000/blog/27</a>â€ï¼Œæ˜¾ç¤ºâ€œBlog Number 27.â€ã€‚</li><li>floatæµ®ç‚¹æ•°ï¼šè‹¥è®¿é—®â€œ<a href="http://127.0.0.1:5000/rev/2.7">http://127.0.0.1:5000/rev/2.7</a>â€ï¼Œæ˜¾ç¤ºâ€œRevision Number 2.700000.â€ã€‚</li><li>pathç›®å½•åˆ†éš”ç¬¦<ul><li>è‹¥è®¿é—®â€œ<a href="http://127.0.0.1:5000/python/">http://127.0.0.1:5000/python/</a>â€ï¼Œæ˜¾ç¤ºâ€œNot Foundâ€ã€‚</li><li>è‹¥è®¿é—®â€œ<a href="http://127.0.0.1:5000/python">http://127.0.0.1:5000/python</a>â€ï¼Œæ˜¾ç¤ºâ€œHello Python.â€ã€‚</li><li>è®¿é—®â€œ<a href="http://127.0.0.1:5000/golang">http://127.0.0.1:5000/golang</a>â€å’Œâ€œ<a href="http://127.0.0.1:5000/golang/">http://127.0.0.1:5000/golang/</a>â€éƒ½å¯ä»¥æ­£å¸¸æ˜¾ç¤ºã€‚</li></ul></li></ul></li></ul></li><li>url_for()å‡½æ•°ï¼Œæ¥å—å‡½æ•°åç§°ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œä»¥åŠä¸€ä¸ªæˆ–å¤šä¸ªå…³é”®å­—å‚æ•°ï¼Œæ¯ä¸ªå‚æ•°å¯¹åº”äºURLçš„å˜é‡éƒ¨åˆ†ã€‚<ul><li>è‹¥è®¿é—®â€œ<a href="http://localhost:5000/user/admin">http://localhost:5000/user/admin</a>â€ï¼Œæ˜¾ç¤ºâ€œHello Admin.â€ã€‚</li><li>è‹¥è®¿é—®â€œ<a href="http://localhost:5000/user/mvl">http://localhost:5000/user/mvl</a>â€ï¼Œæ˜¾ç¤ºâ€œHello mvl as Guest.â€ã€‚</li></ul></li></ul><h5 id="âœ§-å­—ç¬¦ä¸²å˜é‡"><a href="#âœ§-å­—ç¬¦ä¸²å˜é‡" class="headerlink" title="âœ§ å­—ç¬¦ä¸²å˜é‡"></a>âœ§ å­—ç¬¦ä¸²å˜é‡</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask<br><br>app = Flask(__name__)<br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/hello/&lt;name&gt;&#x27;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">hello_world</span>(<span class="hljs-params">name</span>):        <span class="hljs-comment"># è®¿é—®[http://127.0.0.1:5000/hello/Aha]ï¼Œæ˜¾ç¤º&#x27;Hello Aha!&#x27;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&lt;center&gt;Hello %s!&lt;/center&gt;&#x27;</span> % name<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    app.run(debug=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><h5 id="âœ§-æ•´æ•°ä¸æµ®ç‚¹"><a href="#âœ§-æ•´æ•°ä¸æµ®ç‚¹" class="headerlink" title="âœ§ æ•´æ•°ä¸æµ®ç‚¹"></a>âœ§ æ•´æ•°ä¸æµ®ç‚¹</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask<br><br>app = Flask(__name__)<br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/blog/&lt;int:postID&gt;&#x27;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">show_blog</span>(<span class="hljs-params">postID</span>):        <span class="hljs-comment"># è®¿é—®[http://localhost:5000/blog/27]ï¼Œæ˜¾ç¤º&#x27;Blog Number 27.&#x27;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&lt;center&gt;Blog Number %d.&lt;/center&gt;&#x27;</span> % postID<br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/rev/&lt;float:revNo&gt;&#x27;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">revision</span>(<span class="hljs-params">revNo</span>):          <span class="hljs-comment"># è®¿é—®[http://localhost:5000/rev/2.7]ï¼Œæ˜¾ç¤º&#x27;Revision Number 2.700000.&#x27;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&lt;center&gt;Revision Number %f.&lt;/center&gt;&#x27;</span> % revNo<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    app.run(debug=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><h5 id="âœ§-ç›®å½•åˆ†éš”ç¬¦"><a href="#âœ§-ç›®å½•åˆ†éš”ç¬¦" class="headerlink" title="âœ§ ç›®å½•åˆ†éš”ç¬¦"></a>âœ§ ç›®å½•åˆ†éš”ç¬¦</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask<br><br>app = Flask(__name__)<br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/python&#x27;</span></span>)         </span><span class="hljs-comment"># è®¿é—®[http://127.0.0.1:5000/python/]ï¼Œæ˜¾ç¤º&#x27;Not Found&#x27;</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">hello_python</span>():           <span class="hljs-comment"># è®¿é—®[http://127.0.0.1:5000/python]ï¼Œæ˜¾ç¤º&#x27;Hello Python.&#x27;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&lt;center&gt;Hello Python.&lt;/center&gt;&#x27;</span><br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/golang/&#x27;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">hello_golang</span>():           <span class="hljs-comment"># è®¿é—®[http://127.0.0.1:5000/golang]æˆ–[http://127.0.0.1:5000/golang/]</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&lt;center&gt;Hello Golang.&lt;/center&gt;&#x27;</span><br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    app.run(debug=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><h5 id="âœ§-url-for-å‡½æ•°"><a href="#âœ§-url-for-å‡½æ•°" class="headerlink" title="âœ§ url_for()å‡½æ•°"></a>âœ§ url_for()å‡½æ•°</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask, redirect, url_for<br><br>app = Flask(__name__)<br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/admin&#x27;</span></span>)          </span><span class="hljs-comment"># è®¿é—®[http://127.0.0.1:5000/admin]ï¼Œæ˜¾ç¤º&#x27;Hello Admin.&#x27;</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">hello_admin</span>():<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&lt;center&gt;Hello Admin.&lt;/center&gt;&#x27;</span><br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/guest/&lt;guest&gt;&#x27;</span></span>)  </span><span class="hljs-comment"># è®¿é—®[http://127.0.0.1:5000/guest/Admin]</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">hello_guest</span>(<span class="hljs-params">guest</span>):       <span class="hljs-comment"># æ˜¾ç¤º&#x27;Hello Admin as Guest.&#x27;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&lt;center&gt;Hello %s as Guest.&lt;/center&gt;&#x27;</span> % guest<br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/user/&lt;name&gt;&#x27;</span></span>)    </span><span class="hljs-comment"># è®¿é—®[http://127.0.0.1:5000/user/admin]ï¼Œæ˜¾ç¤º&#x27;Hello Admin.&#x27;</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">hello_user</span>(<span class="hljs-params">name</span>):         <span class="hljs-comment"># æ¥å—æ¥è‡ªURLå‚æ•°çš„å€¼ï¼Œæ£€æŸ¥æ¥æ”¶çš„å‚æ•°æ˜¯å¦ä¸adminåŒ¹é…</span><br>    <span class="hljs-keyword">if</span> name == <span class="hljs-string">&#x27;admin&#x27;</span>:       <span class="hljs-comment"># åŒ¹é…åˆ™é‡å®šå‘åˆ°hello_admin()å‡½æ•°</span><br>        <span class="hljs-keyword">return</span> redirect(url_for(<span class="hljs-string">&#x27;hello_admin&#x27;</span>))<br>    <span class="hljs-keyword">else</span>:                     <span class="hljs-comment"># å¦åˆ™é‡å®šå‘åˆ°hello_guest()å‡½æ•°ï¼Œæ˜¾ç¤º&#x27;Hello &lt;name&gt; as Guest.&#x27;</span><br>        <span class="hljs-keyword">return</span> redirect(url_for(<span class="hljs-string">&#x27;hello_guest&#x27;</span>, guest=name))<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    app.run(debug=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><h4 id="2-è¯·æ±‚æ–¹æ³•"><a href="#2-è¯·æ±‚æ–¹æ³•" class="headerlink" title="(2) è¯·æ±‚æ–¹æ³•"></a>(2) è¯·æ±‚æ–¹æ³•</h4><ul><li>HEADï¼šå’ŒGETæ–¹æ³•ç›¸åŒï¼Œä½†æ²¡æœ‰å“åº”ä½“ã€‚</li><li>GETï¼šä»¥æœªåŠ å¯†çš„å½¢å¼å°†æ•°æ®å‘é€åˆ°æœåŠ¡å™¨ã€‚</li><li>PUTï¼šç”¨ä¸Šä¼ çš„å†…å®¹æ›¿æ¢ç›®æ ‡èµ„æºçš„æ‰€æœ‰å½“å‰è¡¨ç¤ºã€‚</li><li>DELETEï¼šåˆ é™¤ç”±URLç»™å‡ºçš„ç›®æ ‡èµ„æºçš„æ‰€æœ‰å½“å‰è¡¨ç¤ºã€‚</li><li>POSTï¼šç”¨äºå°†HTMLè¡¨å•æ•°æ®å‘é€åˆ°æœåŠ¡å™¨ï¼Œæ¥æ”¶çš„æ•°æ®ä¸ç”±æœåŠ¡å™¨ç¼“å­˜ã€‚</li><li>Flaskè·¯ç”±é»˜è®¤å“åº”GETè¯·æ±‚ï¼Œé€šè¿‡route()è£…é¥°å™¨æä¾›çš„æ–¹æ³•å‚æ•°æ›´æ”¹è¯·æ±‚ã€‚<ul><li>å‘½ä»¤çª—å£ä¸‹æ‰§è¡ŒPythonè„šæœ¬å¼€å¯å¼€å‘æœåŠ¡å™¨ï¼Œæµè§ˆå™¨æ‰“å¼€post.htmlï¼Œè¾“å…¥teståæäº¤ã€‚</li><li>æ­¤æ—¶æµè§ˆå™¨è·³è½¬â€œ<a href="http://localhost:5000/success/test">http://localhost:5000/success/test</a>â€ï¼Œé¡µé¢æ˜¾ç¤ºâ€œWelcom test.â€ã€‚</li></ul></li></ul><h5 id="âœ§-post-py"><a href="#âœ§-post-py" class="headerlink" title="âœ§ post.py"></a>âœ§ post.py</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask, redirect, url_for, request, render_template<br><br>app = Flask(__name__)<br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/&#x27;</span></span>)               </span><span class="hljs-comment"># æµè§ˆå™¨æ‰“å¼€post.htmlï¼Œè¾“å…¥teståæäº¤</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">post</span>():<br>    <span class="hljs-keyword">return</span> render_template(<span class="hljs-string">&#x27;post.html&#x27;</span>)<br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/success/&lt;name&gt;&#x27;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">success</span>(<span class="hljs-params">name</span>):            <span class="hljs-comment"># æ­¤æ—¶æµè§ˆå™¨è·³è½¬[http://localhost:5000/success/test]</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&lt;center&gt;Welcome %s.&lt;/center&gt;&#x27;</span> % name<br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/login&#x27;</span>, methods=[<span class="hljs-string">&#x27;POST&#x27;</span>, <span class="hljs-string">&#x27;GET&#x27;</span>]</span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">login</span>():<br>    <span class="hljs-keyword">if</span> request.method == <span class="hljs-string">&#x27;POST&#x27;</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-number">1</span>)<br>        user = request.form[<span class="hljs-string">&#x27;name&#x27;</span>]<br>        <span class="hljs-keyword">return</span> redirect(url_for(<span class="hljs-string">&#x27;success&#x27;</span>, name=user))<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-number">2</span>)              <span class="hljs-comment"># argsæ˜¯åŒ…å«è¡¨å•å‚æ•°å¯¹åŠå…¶å¯¹åº”å€¼å¯¹çš„åˆ—è¡¨å­—å…¸å¯¹è±¡</span><br>        user = request.args.get(<span class="hljs-string">&#x27;name&#x27;</span>)<br>        <span class="hljs-keyword">return</span> redirect(url_for(<span class="hljs-string">&#x27;success&#x27;</span>, name=user))<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    app.run(debug=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><h5 id="âœ§-post-html"><a href="#âœ§-post-html" class="headerlink" title="âœ§ post.html"></a>âœ§ post.html</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>è¯·æ±‚æ–¹æ³•<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align:center;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;http://localhost:5000/login&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;POST&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>è¾“å…¥å§“å<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;name&quot;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;æäº¤&quot;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="1-4-æ¨¡æ¿å¼•æ“"><a href="#1-4-æ¨¡æ¿å¼•æ“" class="headerlink" title="1-4 æ¨¡æ¿å¼•æ“"></a>1-4 æ¨¡æ¿å¼•æ“</h2><ul><li>æ¨¡æ¿å¼•æ“<ul><li>è§†å›¾å‡½æ•°çš„ä¸»è¦ä½œç”¨æ˜¯ç”Ÿæˆè¯·æ±‚çš„å“åº”ï¼Œè¿™æ˜¯æœ€ç®€å•çš„è¯·æ±‚ï¼ŒFlaskä½¿ç”¨Jinja2è¿™ä¸ªæ¨¡æ¿å¼•æ“æ¥æ¸²æŸ“æ¨¡æ¿ã€‚</li><li>è§†å›¾å‡½æ•°çš„ä¸¤ä¸ªä½œç”¨æ˜¯å¤„ç†ä¸šåŠ¡é€»è¾‘ï¼Œä»¥åŠè¿”å›å“åº”å†…å®¹ï¼Œæ¨¡æ¿åˆ™æ˜¯è·å–åˆ°è§†å›¾å‡½æ•°çš„æ•°æ®ç»“æœè¿›è¡Œå±•ç¤ºã€‚</li><li>é¡¹ç›®ä¸‹åˆ›å»ºtemplatesæ–‡ä»¶å¤¹ï¼Œç”¨äºå­˜æ”¾æ‰€æœ‰çš„æ¨¡æ¿æ–‡ä»¶ï¼Œå¹¶ä¸”åœ¨templatesç›®å½•ä¸‹åˆ›å»ºmould.htmlæ¨¡æ¿æ–‡ä»¶ã€‚</li></ul></li></ul><h4 id="1-mould-py"><a href="#1-mould-py" class="headerlink" title="(1) mould.py"></a>(1) mould.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask, render_template<br><br>app = Flask(__name__)<br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/&#x27;</span></span>)               </span><span class="hljs-comment"># è®¿é—®[http://127.0.0.1:5000]</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">index</span>():<br>    my_str = <span class="hljs-string">&#x27;Hello Flask.&#x27;</span>   <span class="hljs-comment"># å¾€mould.htmlæ¨¡æ¿ä¸­ä¼ å…¥çš„æ•°æ®</span><br>    my_int = <span class="hljs-number">27</span><br>    my_dict = &#123;<span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;Lucy&#x27;</span>, <span class="hljs-string">&#x27;age&#x27;</span>: <span class="hljs-number">23</span>&#125;<br>    my_array = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>]<br>    <span class="hljs-keyword">return</span> render_template(<span class="hljs-string">&#x27;mould.html&#x27;</span>,<br>                           my_str=my_str,<br>                           my_int=my_int,<br>                           my_dict=my_dict,<br>                           my_array=my_array<br>                           )<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    app.run(debug=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><h4 id="2-mould-html"><a href="#2-mould-html" class="headerlink" title="(2) mould.html"></a>(2) mould.html</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>æ¨¡æ¿å¼•æ“<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align:center;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>æ¨¡æ¿HTMLå†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span>&#123;&#123; my_str &#125;&#125;<br>    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span>&#123;&#123; my_int &#125;&#125;<br>    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span>&#123;&#123; my_dict.name &#125;&#125;<br>    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span>&#123;&#123; my_dict &#125;&#125;<br>    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span>&#123;&#123; my_array &#125;&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="1-5-é™æ€æ–‡ä»¶"><a href="#1-5-é™æ€æ–‡ä»¶" class="headerlink" title="1-5 é™æ€æ–‡ä»¶"></a>1-5 é™æ€æ–‡ä»¶</h2><ul><li>é™æ€æ–‡ä»¶<ul><li>Webåº”ç”¨ç¨‹åºé€šå¸¸éœ€è¦é™æ€æ–‡ä»¶ï¼Œä¾‹å¦‚ï¼šJavaScriptæˆ–CSSæ–‡ä»¶ã€‚</li><li>ä¸€èˆ¬ç”±åº”ç”¨ç¨‹åºçš„staticæ–‡ä»¶å¤¹æä¾›ï¼Œç”¨äºç”Ÿæˆé™æ€æ–‡ä»¶çš„URLã€‚</li></ul></li></ul><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Markdown">&lt;!-- é¡¹ç›®ç›®å½•ç»“æ„ --&gt;<br><span class="hljs-bullet">-</span> static.py<br><span class="hljs-bullet">-</span> static<br><span class="hljs-bullet">    -</span> static.js<br><span class="hljs-bullet">-</span> templates<br><span class="hljs-bullet">    -</span> static.html<br>&lt;!-- å‘½ä»¤çª—å£ä¸‹æ‰§è¡Œ&#x27;python static.py&#x27;ï¼Œè®¿é—®[http://127.0.0.1:5000] --&gt;<br></code></pre></td></tr></table></figure><h4 id="1-static-js"><a href="#1-static-js" class="headerlink" title="(1) static.js"></a>(1) static.js</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs Javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">sayHello</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;Hello World!&#x27;</span>)<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="2-static-py"><a href="#2-static-py" class="headerlink" title="(2) static.py"></a>(2) static.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask, render_template<br><br>app = Flask(__name__)<br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/&#x27;</span></span>)               </span><span class="hljs-comment"># è®¿é—®[http://127.0.0.1:5000]</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_static</span>():<br>    <span class="hljs-keyword">return</span> render_template(<span class="hljs-string">&#x27;static.html&#x27;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    app.run(debug=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><h4 id="3-static-html"><a href="#3-static-html" class="headerlink" title="(3) static.html"></a>(3) static.html</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>é™æ€æ–‡ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;&#123;&#123; url_for(&#x27;static&#x27;, filename=&#x27;static.js&#x27;) &#125;&#125;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align:center;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;sayHello()&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;ä½ å¥½å‘€ï¼&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h1 id="2-æ ¸å¿ƒå†…å®¹"><a href="#2-æ ¸å¿ƒå†…å®¹" class="headerlink" title="2 æ ¸å¿ƒå†…å®¹"></a>2 æ ¸å¿ƒå†…å®¹</h1><ul><li>æ ¸å¿ƒå†…å®¹<ul><li>æ¥è‡ªå®¢æˆ·ç«¯ç½‘é¡µçš„æ•°æ®ä½œä¸ºå…¨å±€è¯·æ±‚å¯¹è±¡å‘é€åˆ°æœåŠ¡å™¨ï¼Œä¸ºå¤„ç†è¯·æ±‚æ•°æ®ï¼Œåº”ä»Flaskæ¨¡å—å¯¼å…¥ã€‚</li><li>è¯·æ±‚å¯¹è±¡çš„å±æ€§<ul><li>args(è§£ææŸ¥è¯¢å­—ç¬¦ä¸²çš„å†…å®¹ï¼Œæ˜¯é—®å·ä¹‹åURLçš„ä¸€éƒ¨åˆ†)ã€‚</li><li>files(ä¸ä¸Šä¼ æ–‡ä»¶æœ‰å…³çš„æ•°æ®)ã€cookies(ä¿å­˜Cookieåç§°å’Œå€¼çš„å­—å…¸å¯¹è±¡)ã€‚</li><li>method(å½“å‰è¯·æ±‚æ–¹æ³•)ã€form(å­—å…¸å¯¹è±¡ï¼ŒåŒ…å«è¡¨å•å‚æ•°åŠå…¶å€¼çš„é”®å€¼å¯¹)ã€‚</li></ul></li></ul></li></ul><h2 id="2-1-è¡¨å•å±•ç¤º"><a href="#2-1-è¡¨å•å±•ç¤º" class="headerlink" title="2-1 è¡¨å•å±•ç¤º"></a>2-1 è¡¨å•å±•ç¤º</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask, render_template, request<br><br>app = Flask(__name__)<br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/&#x27;</span></span>)                     </span><span class="hljs-comment"># &#x27;/&#x27;URLå‘ˆç°è¡¨å•ç½‘é¡µstufill.html</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">stufill</span>():<br>    <span class="hljs-keyword">return</span> render_template(<span class="hljs-string">&#x27;stufill.html&#x27;</span>)<br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/stushow&#x27;</span>, methods=[<span class="hljs-string">&#x27;POST&#x27;</span>, <span class="hljs-string">&#x27;GET&#x27;</span>]</span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">stushow</span>():                      <span class="hljs-comment"># å¡«å…¥çš„æ•°æ®å°†å‘å¸ƒåˆ°è§¦å‘stushow()å‡½æ•°çš„&#x27;/stushow&#x27;URL</span><br>    <span class="hljs-keyword">if</span> request.method == <span class="hljs-string">&#x27;POST&#x27;</span>:    <span class="hljs-comment"># å‡½æ•°æ”¶é›†request.formä¸­å­˜åœ¨çš„è¡¨å•æ•°æ®ï¼Œå¹¶å°†å…¶å‘é€ç»™stushow.html</span><br>        stushow = request.form      <span class="hljs-comment"># ä»¥å­—å…¸å¯¹è±¡çš„å½¢å¼æ”¶é›†å¹¶å°†å…¶è½¬å‘åˆ°stushow.htmlï¼Œå‘ˆç°åœ¨ç›¸åº”çš„ç½‘é¡µä¸Š</span><br>        <span class="hljs-keyword">return</span> render_template(<span class="hljs-string">&#x27;stushow.html&#x27;</span>, result=stushow)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    app.run(debug=<span class="hljs-literal">True</span>)             <span class="hljs-comment"># è®¿é—®[http://localhost:5000]ï¼Œè¾“å…¥è¡¨å•æ•°æ®æäº¤</span><br></code></pre></td></tr></table></figure><h4 id="1-stufill-html"><a href="#1-stufill-html" class="headerlink" title="(1) stufill.html"></a>(1) stufill.html</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>æ•°æ®å¡«å†™<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align:center;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;http://localhost:5000/stushow&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;POST&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å§“å <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span> = <span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span> = <span class="hljs-string">&quot;å§“å&quot;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>è¯­æ–‡ <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span> = <span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span> = <span class="hljs-string">&quot;è¯­æ–‡&quot;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æ•°å­¦ <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span> = <span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span> = <span class="hljs-string">&quot;æ•°å­¦&quot;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>è‹±è¯­ <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span> = <span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span> = <span class="hljs-string">&quot;è‹±è¯­&quot;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span> = <span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">value</span> = <span class="hljs-string">&quot;æäº¤&quot;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="2-stushow-html"><a href="#2-stushow-html" class="headerlink" title="(2) stushow.html"></a>(2) stushow.html</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>è¡¨å•å±•ç¤º<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-tag">body</span> &#123;<span class="hljs-attribute">text-align</span>: center;&#125; <span class="hljs-selector-tag">table</span> &#123;<span class="hljs-attribute">margin</span>: auto;&#125;</span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">table</span> <span class="hljs-attr">border</span>=<span class="hljs-string">&quot;1&quot;</span> <span class="hljs-attr">cellspacing</span>=<span class="hljs-string">&quot;0&quot;</span>&gt;</span><br>    &#123;% for key, value in result.items() %&#125;<br>        <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>&#123;&#123; key &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>&#123;&#123; value &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>    &#123;% endfor %&#125;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="2-2-Cookies"><a href="#2-2-Cookies" class="headerlink" title="2-2 Cookies"></a>2-2 Cookies</h2><ul><li>Cookies<ul><li>ä»¥æ–‡æœ¬å½¢å¼å­˜å‚¨äºå®¢æˆ·ç«¯ï¼Œè®°å½•ä¸è·Ÿè¸ªç”¨æˆ·æ•°æ®ï¼Œè·å¾—æ›´å¥½çš„è®¿é—®è€…ä½“éªŒå’Œç½‘ç«™ç»Ÿè®¡ä¿¡æ¯ï¼Œå¤„ç†æ­¥éª¤å¦‚ä¸‹ã€‚</li><li>è®¾ç½®cookieï¼šé»˜è®¤æ˜¯ä¸´æ—¶cookieï¼Œæµè§ˆå™¨å…³é—­ç«‹å³å¤±æ•ˆï¼Œé€šè¿‡max_ageè®¾ç½®æœ‰æ•ˆæœŸï¼Œå•ä½æ˜¯ç§’ã€‚</li><li>è·å–cookieï¼šé€šè¿‡request.cookiesçš„æ–¹å¼è·å–ï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ªå­—å…¸ï¼Œå¯ä»¥è·å–å­—å…¸é‡Œçš„ç›¸åº”å€¼ã€‚</li><li>åˆ é™¤cookieï¼šè¿™é‡Œåˆ é™¤åªæ˜¯è®©cookieè¿‡æœŸï¼Œè€Œéç›´æ¥åˆ é™¤ï¼Œé€šè¿‡delete_cookie()æ–¹å¼è¿›è¡Œåˆ é™¤ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask, make_response, request<br><br>app = Flask(__name__)<br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/set_cookies&#x27;</span></span>)          </span><span class="hljs-comment"># [127.0.0.1:5000/set_cookies]ï¼ŒF12æŸ¥çœ‹Set-Cookieçš„valueå€¼</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">set_cookies</span>():<br>    resp = make_response(<span class="hljs-string">&#x27;&lt;center&gt;success&lt;/center&gt;&#x27;</span>)<br>    resp.set_cookie(<span class="hljs-string">&#x27;flask&#x27;</span>, <span class="hljs-string">&#x27;flask&#x27;</span>, max_age=<span class="hljs-number">3600</span>)<br>    <span class="hljs-keyword">return</span> resp<br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/get_cookies&#x27;</span></span>)          </span><span class="hljs-comment"># [http://127.0.0.1:5000/get_cookies]ï¼Œé¡µé¢è¾“å‡ºcookiesä¿¡æ¯</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_cookies</span>():<br>    cookie = request.cookies.get(<span class="hljs-string">&#x27;flask&#x27;</span>)<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&lt;center&gt;&#x27;</span> + cookie + <span class="hljs-string">&#x27;&lt;/center&gt;&#x27;</span><br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/delete_cookies&#x27;</span></span>)       </span><span class="hljs-comment"># [http://127.0.0.1:5000/delete_cookies]ï¼ŒF12æŸ¥çœ‹cookieså·²åˆ (è¿‡æœŸ)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">delete_cookies</span>():<br>    resp = make_response(<span class="hljs-string">&#x27;&lt;center&gt;del success&lt;/center&gt;&#x27;</span>)<br>    resp.delete_cookie(<span class="hljs-string">&#x27;flask&#x27;</span>)<br>    <span class="hljs-keyword">return</span> resp<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    app.run(debug=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><h2 id="2-3-ä¼šè¯å·¥ä½œ"><a href="#2-3-ä¼šè¯å·¥ä½œ" class="headerlink" title="2-3 ä¼šè¯å·¥ä½œ"></a>2-3 ä¼šè¯å·¥ä½œ</h2><ul><li>ä¼šè¯å·¥ä½œ<ul><li>sessionï¼Œå®¢æˆ·ç«¯ç™»å½•åˆ°æœåŠ¡å™¨å¹¶æ³¨é”€æœåŠ¡å™¨çš„æ—¶é—´é—´éš”ï¼Œåœ¨ä¼šè¯ä¸­ä¿å­˜çš„æ•°æ®ä¼šå­˜å‚¨åœ¨æœåŠ¡å™¨çš„ä¸´æ—¶ç›®å½•ä¸­ã€‚</li><li>ä¸ºæ¯ä¸ªå®¢æˆ·ç«¯çš„ä¼šè¯åˆ†é…ä¼šè¯IDï¼Œä¼šè¯æ•°æ®å­˜å‚¨åœ¨cookieçš„é¡¶éƒ¨ï¼ŒæœåŠ¡å™¨ä»¥åŠ å¯†æ–¹å¼å¯¹å…¶è¿›è¡Œç­¾åã€‚</li><li>Flaskéœ€è¦å®šä¹‰çš„secret_keyè¿›è¡ŒåŠ å¯†ï¼Œsessionä¹Ÿæ˜¯ä¸€ä¸ªå­—å…¸å¯¹è±¡ï¼ŒåŒ…å«ä¼šè¯å˜é‡å’Œå…³è”å€¼çš„é”®å€¼å¯¹ã€‚<ul><li><code>Session[&#39;username&#39;] = &#39;admin&#39;</code>ï¼šè®¾ç½®usernameä¼šè¯å˜é‡ã€‚</li><li><code>session.pop(&#39;username&#39;, None)</code>ï¼šé‡Šæ”¾usernameä¼šè¯å˜é‡ã€‚</li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask, session, redirect, url_for, request<br><br>app = Flask(__name__)               <span class="hljs-comment"># è®¿é—®[http://127.0.0.1:5000]ï¼Œç¡®ä¿è®¾ç½®åº”ç”¨ç¨‹åºçš„secret_key</span><br>app.secret_key = <span class="hljs-string">&#x27;flask session&#x27;</span><br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/&#x27;</span></span>)                     </span><span class="hljs-comment"># æç¤ºç”¨æˆ·ç™»å½•ï¼Œæœªè®¾ç½®ä¼šè¯å˜é‡username</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">index</span>():<br>    <span class="hljs-keyword">if</span> <span class="hljs-string">&#x27;username&#x27;</span> <span class="hljs-keyword">in</span> session:<br>        username = session[<span class="hljs-string">&#x27;username&#x27;</span>]<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&lt;center&gt;ç™»å½•ç”¨æˆ·åï¼š&#x27;</span> + username + <span class="hljs-string">&#x27;ï¼Œ&#x27;</span> + \<br>               <span class="hljs-string">&#x27;&lt;b&gt;&lt;a href=&quot;/logout&quot;&gt;ç‚¹å‡»è¿™é‡Œé€€å‡º&lt;/a&gt;&lt;/b&gt;&#x27;</span> + <span class="hljs-string">&#x27;ã€‚&lt;/center&gt;&#x27;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&lt;center&gt;æ‚¨æš‚æœªç™»å½•ï¼Œ&lt;a href=&quot;/login&quot;&gt;&lt;/b&gt;&#x27;</span> + <span class="hljs-string">&#x27;ç‚¹å‡»è¿™é‡Œç™»å½•&lt;/b&gt;&lt;/a&gt;&#x27;</span> + <span class="hljs-string">&#x27;ã€‚&lt;/center&gt;&#x27;</span><br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/login&#x27;</span>, methods=[<span class="hljs-string">&#x27;GET&#x27;</span>, <span class="hljs-string">&#x27;POST&#x27;</span>]</span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">login</span>():                        <span class="hljs-comment"># login()è§†å›¾å‡½æ•°ï¼Œé€šè¿‡GETæ–¹æ³•è°ƒç”¨ï¼Œæ‰“å¼€ä¸€ä¸ªç™»å½•è¡¨å•</span><br>    <span class="hljs-keyword">if</span> request.method == <span class="hljs-string">&#x27;POST&#x27;</span>:    <span class="hljs-comment"># æ­¤æ—¶ä¼šè¯å˜é‡å·²è®¾ç½®ï¼Œåº”ç”¨ç¨‹åºé‡å®šå‘åˆ°&#x27;/&#x27;ï¼Œä¼šè¯å˜é‡usernameè¢«æ‰¾åˆ°</span><br>        session[<span class="hljs-string">&#x27;username&#x27;</span>] = request.form[<span class="hljs-string">&#x27;username&#x27;</span>]<br>        <span class="hljs-keyword">return</span> redirect(url_for(<span class="hljs-string">&#x27;index&#x27;</span>))<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">    &lt;form action=&#x27;&#x27; method=&#x27;POST&#x27; style=&quot;text-align:center;&quot;&gt;</span><br><span class="hljs-string">        &lt;p&gt;&lt;input type=&#x27;text&#x27; name=&#x27;username&#x27; /&gt;&lt;/p&gt;</span><br><span class="hljs-string">        &lt;p&gt;&lt;input type=&#x27;submit&#x27; value=&#x27;ç™»å½•&#x27; /&gt;&lt;/p&gt;</span><br><span class="hljs-string">    &lt;/form&gt;</span><br><span class="hljs-string">    &#x27;&#x27;&#x27;</span><br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/logout&#x27;</span></span>)               </span><span class="hljs-comment"># logout()è§†å›¾å‡½æ•°ï¼Œå¼¹å‡ºusernameä¼šè¯å˜é‡ï¼Œ&#x27;/&#x27;URLå†æ¬¡æ˜¾ç¤ºå¼€å§‹é¡µé¢</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">logout</span>():<br>    session.pop(<span class="hljs-string">&#x27;username&#x27;</span>, <span class="hljs-literal">None</span>)<br>    <span class="hljs-keyword">return</span> redirect(url_for(<span class="hljs-string">&#x27;index&#x27;</span>))<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    app.run(debug=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><h2 id="2-4-Redirect"><a href="#2-4-Redirect" class="headerlink" title="2-4 Redirect"></a>2-4 Redirect</h2><ul><li>Redirect<ul><li>å‡½æ•°è°ƒç”¨æ—¶è¿”å›ä¸€ä¸ªå“åº”å¯¹è±¡ï¼Œå¹¶å°†ç”¨æˆ·é‡å®šå‘åˆ°å…·æœ‰æŒ‡å®šçŠ¶æ€ä»£ç çš„å¦ä¸€ç›®æ ‡ä½ç½®ã€‚</li><li>redirect()é‡å®šå‘å‡½æ•°åŸå‹ï¼š<code>Flask.redirect(location, statuscode, response)</code>ã€‚</li><li>location(é‡å®šå‘å“åº”çš„URL)ã€statuscode(å‘é€åˆ°æµè§ˆå™¨æ ‡å¤´ï¼Œé»˜è®¤302)ã€response(ç”¨äºå®ä¾‹åŒ–å“åº”)ã€‚</li><li>çŠ¶æ€ä»£ç æ ‡å‡†åŒ–<ul><li>HTTP_300_MULTIPLE_CHOICESã€HTTP_301_MOVED_PERMANENTLYã€‚</li><li>HTTP_302_FOUNDã€HTTP_303_SEE_OTHERã€HTTP_304_NOT_MODIFIEDã€‚</li><li>HTTP_305_USE_PROXYã€HTTP_306_RESERVEDã€HTTP_307_TEMPORARY_REDIRECTã€‚</li></ul></li><li>ç¤ºä¾‹ï¼šæ‰§è¡Œåº”ç”¨ç¨‹åºï¼Œè®¿é—®â€œ<a href="http://127.0.0.1:5000/">http://127.0.0.1:5000/</a>â€ã€‚<ul><li>è¾“å…¥ç”¨æˆ·åguestï¼ŒF12æŸ¥çœ‹ï¼Œç‚¹å‡»ç™»å½•ï¼Œè¿”å›â€œçŠ¶æ€ä»£ç : 302 FOUNDâ€ã€‚</li><li>è¾“å…¥ç”¨æˆ·åadminï¼Œç‚¹å‡»ç™»å½•ï¼Œè·³è½¬è‡³â€œ<a href="http://127.0.0.1:5000/success">http://127.0.0.1:5000/success</a>â€ã€‚</li></ul></li></ul></li></ul><h4 id="1-redirect-py"><a href="#1-redirect-py" class="headerlink" title="(1) redirect.py"></a>(1) redirect.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask, redirect, url_for, render_template, request<br><br>app = Flask(__name__)<br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/&#x27;</span></span>)                     </span><span class="hljs-comment"># è®¿é—®[http://127.0.0.1:5000]</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">index</span>():<br>    <span class="hljs-keyword">return</span> render_template(<span class="hljs-string">&#x27;redirect.html&#x27;</span>)<br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/login&#x27;</span>, methods=[<span class="hljs-string">&#x27;POST&#x27;</span>, <span class="hljs-string">&#x27;GET&#x27;</span>]</span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">login</span>():                        <span class="hljs-comment"># redirect()å‡½æ•°ç”¨äºåœ¨ç™»å½•å°è¯•å¤±è´¥æ—¶å†æ¬¡æ˜¾ç¤ºç™»å½•é¡µé¢</span><br>    <span class="hljs-keyword">if</span> request.method == <span class="hljs-string">&#x27;POST&#x27;</span> <span class="hljs-keyword">and</span> request.form[<span class="hljs-string">&#x27;username&#x27;</span>] == <span class="hljs-string">&#x27;admin&#x27;</span>:<br>        <span class="hljs-keyword">return</span> redirect(url_for(<span class="hljs-string">&#x27;success&#x27;</span>))<br>    <span class="hljs-keyword">return</span> redirect(url_for(<span class="hljs-string">&#x27;index&#x27;</span>))<br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/success&#x27;</span></span>)              </span><span class="hljs-comment"># è¾“å…¥adminï¼Œè·³è½¬åˆ°[http://127.0.0.1:5000/success]</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">success</span>():                      <span class="hljs-comment"># è¾“å…¥guestï¼ŒF12æŸ¥çœ‹è¿”å›&#x27;302 FOUND&#x27;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&lt;center&gt;ç™»å½•æˆåŠŸï¼&lt;/center&gt;&#x27;</span><br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    app.run(debug=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><h4 id="2-redirect-html"><a href="#2-redirect-html" class="headerlink" title="(2) redirect.html"></a>(2) redirect.html</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>é‡å®šå‘<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align:center;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;/login&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;POST&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ç”¨æˆ·åï¼š<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;ç™»å½•&quot;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="2-5-é”™è¯¯ä»£ç "><a href="#2-5-é”™è¯¯ä»£ç " class="headerlink" title="2-5 é”™è¯¯ä»£ç "></a>2-5 é”™è¯¯ä»£ç </h2><ul><li>é”™è¯¯ä»£ç <ul><li>Flaskç±»å…·æœ‰å¸¦é”™è¯¯ä»£ç çš„abort()å‡½æ•°ï¼š<code>Flask.abort(code)</code>ã€‚</li><li>400(é”™è¯¯è¯·æ±‚)ã€401(æœªæˆæƒ)ã€403(Forbiddenèµ„æºä¸å¯ç”¨)ã€404(Not Foundç½‘é¡µä¸å­˜åœ¨)ã€‚</li><li>406(æ— æ³•ä½¿ç”¨è¯·æ±‚çš„å†…å®¹ç‰¹æ€§å“åº”è¯·æ±‚çš„ç½‘é¡µ)ã€415(ä¸æ”¯æŒçš„åª’ä½“ç±»å‹)ã€429(è¯·æ±‚è¿‡å¤š)ã€‚</li><li>æ›´æ”¹redirect.pyä»£ç ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼Œæ‰§è¡Œç¨‹åºï¼Œè®¿é—®â€œ<a href="http://127.0.0.1:5000/">http://127.0.0.1:5000/</a>â€ã€‚<ul><li>è¾“å…¥ç”¨æˆ·åguestï¼ŒF12æŸ¥çœ‹ï¼Œç‚¹å‡»ç™»å½•ï¼Œè¿”å›â€œçŠ¶æ€ä»£ç : 401 UNAUTHORIZEDâ€ã€‚</li><li>è¾“å…¥ç”¨æˆ·åadminï¼Œç‚¹å‡»ç™»å½•ï¼Œè·³è½¬â€œ<a href="http://127.0.0.1:5000/success">http://127.0.0.1:5000/success</a>â€ï¼Œç™»å½•æˆåŠŸã€‚</li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask, redirect, url_for, render_template, request, abort<br><br>app = Flask(__name__)<br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/&#x27;</span></span>)                     </span><span class="hljs-comment"># è®¿é—®[http://127.0.0.1:5000]</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">index</span>():<br>    <span class="hljs-keyword">return</span> render_template(<span class="hljs-string">&#x27;redirect.html&#x27;</span>)<br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/login&#x27;</span>, methods=[<span class="hljs-string">&#x27;POST&#x27;</span>, <span class="hljs-string">&#x27;GET&#x27;</span>]</span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">login</span>():                        <span class="hljs-comment"># è¾“å…¥adminï¼Œè·³è½¬åˆ°[http://127.0.0.1:5000/success]</span><br>    <span class="hljs-keyword">if</span> request.method == <span class="hljs-string">&#x27;POST&#x27;</span>:<br>        <span class="hljs-keyword">if</span> request.form[<span class="hljs-string">&#x27;username&#x27;</span>] == <span class="hljs-string">&#x27;admin&#x27;</span>:<br>            <span class="hljs-keyword">return</span> redirect(url_for(<span class="hljs-string">&#x27;success&#x27;</span>))<br>        <span class="hljs-keyword">else</span>:<br>            abort(<span class="hljs-number">401</span>)<br>    <span class="hljs-keyword">else</span>:                           <span class="hljs-comment"># è¾“å…¥guestï¼ŒF12æŸ¥çœ‹è¿”å›&#x27;401 UNAUTHORIZED&#x27;</span><br>        <span class="hljs-keyword">return</span> redirect(url_for(<span class="hljs-string">&#x27;index&#x27;</span>))<br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/success&#x27;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">success</span>():<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&lt;center&gt;ç™»å½•æˆåŠŸï¼&lt;/center&gt;&#x27;</span><br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    app.run(debug=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><h2 id="2-6-æ¶ˆæ¯é—ªç°"><a href="#2-6-æ¶ˆæ¯é—ªç°" class="headerlink" title="2-6 æ¶ˆæ¯é—ªç°"></a>2-6 æ¶ˆæ¯é—ªç°</h2><ul><li>æ¶ˆæ¯é—ªç°<ul><li>Flaskæä¾›äº†ä¸€ä¸ªæ–¹æ³•æ¥ä½¿ç”¨é—ªç°ç³»ç»Ÿå‘ç”¨æˆ·åé¦ˆä¿¡æ¯ï¼Œå¯è§†å›¾ä¸­åˆ›å»ºæ¶ˆæ¯ï¼Œå¹¶åœ¨åä¸ºnextçš„è§†å›¾å‡½æ•°ä¸­å‘ˆç°ã€‚</li><li>åœ¨ä¸€ä¸ªè¯·æ±‚ç»“æŸæ—¶è®°å½•ä¸€ä¸ªä¿¡æ¯ï¼Œå¹¶ä¸”åœ¨ä¸‹æ¬¡(ä¸”ä»…åœ¨ä¸‹ä¸€æ¬¡)æ±‚æ—¶è®¿é—®ï¼Œé€šå¸¸ä¸å¸ƒå±€æ¨¡æ¿ç»“åˆä½¿ç”¨ä»¥å…¬å¼€ä¿¡æ¯ã€‚</li><li><code>flash(message, category)</code>ï¼šå°†æ¶ˆæ¯ä¼ é€’ç»™ä¸‹ä¸€ä¸ªè¯·æ±‚ï¼Œè¯¥è¯·æ±‚é€šå¸¸æ˜¯ä¸€ä¸ªæ¨¡æ¿ã€‚</li><li>message(è¦é—ªç°çš„å®é™…æ¶ˆæ¯)ã€category(â€œerrorâ€ã€â€œinfoâ€æˆ–â€œwarningâ€ï¼Œå¯é€‰)ã€‚</li><li><code>get_flashed_messages(with_categories, category_filter)</code>ï¼šä¼šè¯ä¸­åˆ é™¤æ¶ˆæ¯ã€‚</li><li>å¦‚æœæ¥æ”¶åˆ°çš„æ¶ˆæ¯å…·æœ‰ç±»åˆ«ï¼Œåˆ™ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å…ƒç»„ï¼Œç¬¬äºŒä¸ªå‚æ•°ä»…ç”¨äºæ˜¾ç¤ºç‰¹å®šæ¶ˆæ¯ã€‚</li><li>ç¤ºä¾‹ï¼šæ‰§è¡Œç¨‹åºï¼Œè®¿é—®â€œ<a href="http://127.0.0.1:5000/">http://127.0.0.1:5000/</a>â€ï¼Œç‚¹å‡»ç™»å½•è·³è½¬åˆ°ç™»å½•é¡µé¢ã€‚<ul><li>ç”¨æˆ·åadminï¼Œå¯†ç 1235ï¼Œæäº¤ï¼Œæ˜¾ç¤ºâ€œé”™è¯¯ï¼šæ— æ•ˆç”¨æˆ·åæˆ–å¯†ç ï¼Œè¯·é‡è¯•ï¼â€ã€‚</li><li>é‡æ–°è¾“å…¥ç”¨æˆ·åadminï¼Œå¯†ç adminï¼Œæäº¤ï¼Œè·³å›ç™»å½•é¡µé¢å¹¶æ˜¾ç¤ºâ€œç™»å½•æˆåŠŸï¼â€ã€‚</li></ul></li></ul></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-comment">&lt;!-- é—ªç°åœ¨æ¨¡æ¿ä¸­æ¥æ”¶æ¶ˆæ¯ --&gt;</span><br>&#123;% with messages = get_flashed_messages() %&#125;<br>    &#123;% if messages %&#125;<br>        &#123;% for message in messages %&#125;<br>            &#123;&#123; message &#125;&#125;<br>        &#123;% endfor %&#125;<br>    &#123;% endif %&#125;<br>&#123;% endwith %&#125;<br></code></pre></td></tr></table></figure><h4 id="1-flash-py"><a href="#1-flash-py" class="headerlink" title="(1) flash.py"></a>(1) flash.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask, flash, redirect, render_template, request, url_for<br><br>app = Flask(__name__)<br>app.secret_key = <span class="hljs-string">&#x27;flask flash&#x27;</span><br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/&#x27;</span></span>)                     </span><span class="hljs-comment"># è®¿é—®[http://127.0.0.1:5000]</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_flash</span>():                    <span class="hljs-comment"># &#x27;/&#x27;URLæ˜¾ç¤ºç™»å½•é¡µé¢çš„é“¾æ¥ï¼Œæ²¡æœ‰æ¶ˆæ¯é—ªç°</span><br>    <span class="hljs-keyword">return</span> render_template(<span class="hljs-string">&#x27;flashmess.html&#x27;</span>)<br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/flashlogin&#x27;</span>, methods=[<span class="hljs-string">&#x27;GET&#x27;</span>, <span class="hljs-string">&#x27;POST&#x27;</span>]</span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">flash_login</span>():                  <span class="hljs-comment"># æ˜¾ç¤ºç™»å½•è¡¨å•ï¼Œç”±&#x27;/&#x27;URLé“¾æ¥å¼•å¯¼ç”¨æˆ·åˆ°&#x27;/flashlogin&#x27;</span><br>    error = <span class="hljs-literal">None</span><br>    <span class="hljs-keyword">if</span> request.method == <span class="hljs-string">&#x27;POST&#x27;</span>:    <span class="hljs-comment"># è§†å›¾å‡½æ•°éªŒè¯ç”¨æˆ·åå’Œå¯†ç ï¼Œå¹¶é—ªç°ç™»å½•æˆåŠŸæ¶ˆæ¯æˆ–åˆ›å»ºerrorå˜é‡</span><br>        <span class="hljs-keyword">if</span> request.form[<span class="hljs-string">&#x27;username&#x27;</span>] != <span class="hljs-string">&#x27;admin&#x27;</span> <span class="hljs-keyword">or</span> request.form[<span class="hljs-string">&#x27;password&#x27;</span>] != <span class="hljs-string">&#x27;admin&#x27;</span>:<br>            error = <span class="hljs-string">&#x27;æ— æ•ˆç”¨æˆ·åæˆ–å¯†ç ï¼Œè¯·é‡è¯•ï¼&#x27;</span><br>        <span class="hljs-keyword">else</span>:<br>            flash(<span class="hljs-string">&#x27;ç™»å½•æˆåŠŸï¼&#x27;</span>)      <span class="hljs-comment"># è¾“å…¥ç”¨æˆ·åadminï¼Œå¯†ç adminï¼Œåˆ™ç™»å½•æˆåŠŸï¼Œå¦åˆ™å¤±è´¥æç¤º</span><br>            <span class="hljs-keyword">return</span> redirect(url_for(<span class="hljs-string">&#x27;get_flash&#x27;</span>))<br>    <span class="hljs-keyword">return</span> render_template(<span class="hljs-string">&#x27;flashlogin.html&#x27;</span>, error=error)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    app.run(debug=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><h4 id="2-flashmess-html"><a href="#2-flashmess-html" class="headerlink" title="(2) flashmess.html"></a>(2) flashmess.html</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs HTML"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>æ¶ˆæ¯é—ªç°<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-tag">body</span> &#123;<span class="hljs-attribute">text-align</span>: center;&#125;</span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    &#123;% with messages = get_flashed_messages() %&#125;<br>        &#123;% if messages %&#125;<br>            &#123;% for message in messages %&#125;<br>                <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;&#123; message &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>            &#123;% endfor %&#125;<br>        &#123;% endif %&#125;<br>    &#123;% endwith %&#125;<br>    <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>æ¬¢è¿ï¼<span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span> = <span class="hljs-string">&quot;&#123;&#123; url_for(&#x27;flash_login&#x27;) &#125;&#125;&quot;</span>&gt;</span>ç‚¹å‡»è¿™é‡Œè¿›è¡Œç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>ã€‚<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="3-flashlogin-html"><a href="#3-flashlogin-html" class="headerlink" title="(3) flashlogin.html"></a>(3) flashlogin.html</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs HTML"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>ç™»å½•é¡µé¢<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-tag">body</span> &#123;<span class="hljs-attribute">text-align</span>: center;&#125; <span class="hljs-selector-tag">table</span> &#123;<span class="hljs-attribute">margin</span>: auto;&#125;</span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;POST&quot;</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;http://localhost:5000/flashlogin&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">table</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>ç”¨æˆ·å<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&#x27;username&#x27;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&#x27;username&#x27;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>                <span class="hljs-comment">&lt;!-- &amp;nbsp; åŠè§’ä¸æ–­è¡Œçš„ç©ºç™½æ ¼ --&gt;</span><br>                <span class="hljs-comment">&lt;!-- &amp;ensp; åŠè§’çš„ç©ºæ ¼ --&gt;</span><br>                <span class="hljs-comment">&lt;!-- &amp;emsp; å…¨è§’çš„ç©ºæ ¼ --&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>å¯†<span class="hljs-symbol">&amp;emsp;</span>ç <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&#x27;password&#x27;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&#x27;password&#x27;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&#x27;submit&#x27;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&#x27;æ<span class="hljs-symbol">&amp;emsp;</span>äº¤&#x27;</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br>    &#123;% if error %&#125;<br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">strong</span>&gt;</span>é”™è¯¯ï¼š<span class="hljs-tag">&lt;/<span class="hljs-name">strong</span>&gt;</span>&#123;&#123; error &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    &#123;% endif %&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="2-7-æ–‡ä»¶ä¸Šä¼ "><a href="#2-7-æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="2-7 æ–‡ä»¶ä¸Šä¼ "></a>2-7 æ–‡ä»¶ä¸Šä¼ </h2><ul><li>æ–‡ä»¶ä¸Šä¼ <ul><li>éœ€HTMLè¡¨å•ï¼Œenctypeå±æ€§è®¾ä¸ºâ€œmultipart&#x2F;form-dataâ€ï¼Œå°†æ–‡ä»¶å‘å¸ƒåˆ°URLã€‚</li><li>URLå¤„ç†ç¨‹åºä»<code>request.files[]</code>å¯¹è±¡ä¸­æå–æ–‡ä»¶ï¼Œå¹¶å°†å…¶ä¿å­˜åˆ°æ‰€éœ€çš„ä½ç½®ã€‚</li><li>æ¯ä¸ªä¸Šä¼ çš„æ–‡ä»¶é¦–å…ˆä¿å­˜åœ¨æœåŠ¡å™¨çš„ä¸´æ—¶ä½ç½®ä¸­ï¼Œç„¶åå†å°†å…¶ä¿å­˜åˆ°æœ€ç»ˆä½ç½®ä¸Šã€‚</li><li>ç›®æ ‡æ–‡ä»¶çš„åç§°å¯ä»¥æ˜¯ç¡¬ç¼–ç çš„ï¼Œä¹Ÿå¯ä»¥ä»<code>request.files[]</code>å¯¹è±¡çš„å±æ€§ä¸­è·å–ã€‚<ul><li><code>secure_filename()</code>ï¼šè·å–å®‰å…¨ç‰ˆæœ¬ã€‚</li><li><code>app.config[&#39;UPLOAD_FOLDER&#39;]</code>ï¼šå®šä¹‰ä¸Šä¼ æ–‡ä»¶å¤¹çš„è·¯å¾„ã€‚</li><li><code>app.config[&#39;MAX_CONTENT_LENGTH&#39;]</code>ï¼šæŒ‡å®šè¦ä¸Šä¼ æ–‡ä»¶å¤§å°çš„æœ€å¤§å€¼(ä»¥å­—èŠ‚ä¸ºå•ä½)ã€‚</li></ul></li></ul></li></ul><h4 id="1-upload-py"><a href="#1-upload-py" class="headerlink" title="(1) upload.py"></a>(1) upload.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">from</span> werkzeug.utils <span class="hljs-keyword">import</span> secure_filename<br><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask, render_template, request<br><br>app = Flask(__name__)               <span class="hljs-comment"># ä¸Šä¼ å›¾ç‰‡è·¯å¾„è‡ªå®šä¹‰ï¼Œå¿…é¡»å­˜åœ¨ï¼Œå¦åˆ™æŠ¥é”™</span><br>app.config[<span class="hljs-string">&#x27;UPLOAD_FOLDER&#x27;</span>] = <span class="hljs-string">&#x27;C:/Users/&lt;username&gt;/Pictures/&#x27;</span><br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/upload&#x27;</span></span>)               </span><span class="hljs-comment"># è®¿é—®[http://127.0.0.1:5000/upload]</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">upload_file</span>():<br>    <span class="hljs-keyword">return</span> render_template(<span class="hljs-string">&#x27;upload.html&#x27;</span>)<br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/uploaded&#x27;</span>, methods=[<span class="hljs-string">&#x27;GET&#x27;</span>, <span class="hljs-string">&#x27;POST&#x27;</span>]</span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">uploaded</span>():<br>    <span class="hljs-keyword">if</span> request.method == <span class="hljs-string">&#x27;POST&#x27;</span>:<br>        f = request.files[<span class="hljs-string">&#x27;file&#x27;</span>]<br>        <span class="hljs-built_in">print</span>(request.files)<br>        path = os.path.join(app.config[<span class="hljs-string">&#x27;UPLOAD_FOLDER&#x27;</span>], secure_filename(f.filename))<br>        <span class="hljs-built_in">print</span>(path)                 <span class="hljs-comment"># æ³¨æ„ï¼šå›¾ç‰‡è·¯å¾„ä¸å«ä¸­æ–‡ï¼Œä¸­æ–‡æ‰“å°è¯†åˆ«ä¸åˆ°</span><br>        f.save(path)<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&lt;center&gt;æ–‡ä»¶ä¸Šä¼ æˆåŠŸï¼&lt;/center&gt;&#x27;</span><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">return</span> render_template(<span class="hljs-string">&#x27;upload.html&#x27;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    app.run(debug=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><h4 id="2-upload-html"><a href="#2-upload-html" class="headerlink" title="(2) upload.html"></a>(2) upload.html</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>æ–‡ä»¶ä¸Šä¼ <span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align:center;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;http://localhost:5000/uploaded&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;POST&quot;</span> <span class="hljs-attr">enctype</span>=<span class="hljs-string">&quot;multipart/form-data&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;file&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;file&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;æäº¤&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h1 id="3-æ‰©å±•åŠŸèƒ½"><a href="#3-æ‰©å±•åŠŸèƒ½" class="headerlink" title="3 æ‰©å±•åŠŸèƒ½"></a>3 æ‰©å±•åŠŸèƒ½</h1><ul><li>æ‰©å±•åŠŸèƒ½<ul><li>å‘Flaskåº”ç”¨ç¨‹åºæ·»åŠ ç‰¹å®šç±»å‹çš„æ”¯æŒï¼ŒFlask Extension Registry(æ‰©å±•æ³¨å†Œè¡¨)æ˜¯ä¸€ä¸ªå¯ç”¨çš„æ‰©å±•ç›®å½•ã€‚</li><li>å¸¸ç”¨æ‰©å±•åŒ…<ul><li>Flask-migrate(ç®¡ç†è¿ç§»æ•°æ®åº“)ã€Flask-Admin(å¯æ‰©å±•çš„ç®¡ç†æ¥å£æ¡†æ¶)ã€‚</li><li>Flask-script(æ’å…¥è„šæœ¬)ã€Flask-Bable(æä¾›å›½é™…åŒ–å’Œæœ¬åœ°åŒ–æ”¯æŒçš„ç¿»è¯‘)ã€‚</li><li>Flask-Moment(æœ¬åœ°åŒ–æ—¥æœŸå’Œæ—¶é—´)ã€Flask-Bootstrap(é›†æˆå‰ç«¯çš„Twitter Bootstrapæ¡†æ¶)ã€‚</li><li>Flask-Session(Sessionå­˜å‚¨æ–¹å¼æŒ‡å®š)ã€Flask-OpenID(è®¤è¯)ã€Flask-RESTful(å¼€å‘REST APIçš„å·¥å…·)ã€‚</li><li>Flask-Mail(é‚®ä»¶)ã€Flask-WTF(è¡¨å•)ã€Flask-SQLAlchemy(æ“ä½œæ•°æ®åº“)ã€Flask-Login(è®¤è¯ç”¨æˆ·çŠ¶æ€)ã€‚</li></ul></li><li>æ‰©å±•é€šå¸¸å‘½åä¸ºFlask-Fooæˆ–Foo-Flaskï¼Œåœ¨PyPIæœç´¢æ ‡è®°ä¸ºâ€œ<a href="https://pypi.org/search/?c=Framework+::+Flask">FRAMEWORK::FLASK</a>â€æ‰©å±•åŒ…ï¼Œé€šè¿‡PIPâ€‹ä¸‹è½½ã€‚</li></ul></li></ul><h2 id="3-1-Mail"><a href="#3-1-Mail" class="headerlink" title="3-1 Mail"></a>3-1 Mail</h2><ul><li>Mail<ul><li>é€šè¿‡PIPå‘½ä»¤å®‰è£…Flask-Mailæ‰©å±•ï¼š<code>pip install Flask-Mail</code>ã€‚</li><li>å‚æ•°<ul><li>MAIL_SERVER-&gt;ç”µå­é‚®ä»¶æœåŠ¡å™¨çš„åç§°æˆ–IPåœ°å€ã€MAIL_PORT-&gt;æœåŠ¡å™¨çš„ç«¯å£å·ã€‚</li><li>MAIL_USERNAME-&gt;å‘ä»¶äººçš„ç”¨æˆ·åã€MAIL_DEFAULT_SENDER-&gt;è®¾ç½®é»˜è®¤å‘ä»¶äººã€‚</li><li>MAIL_PASSWORD-&gt;å‘ä»¶äººçš„å¯†ç ã€MAIL_MAX_EMAILS-&gt;è®¾ç½®è¦å‘é€çš„æœ€å¤§é‚®ä»¶æ•°ã€‚</li><li>MAIL_ASCII_ATTACHMENTS-&gt;å¦‚æœå€¼è®¾ç½®ä¸ºTrueï¼Œé‚£ä¹ˆé™„åŠ çš„æ–‡ä»¶åå°†è½¬æ¢ä¸ºASCIIã€‚</li><li>MAIL_USE_TLS-&gt;å¯ç”¨æˆ–ç¦ç”¨ä¼ è¾“å®‰å…¨å±‚åŠ å¯†ã€MAIL_USE_SSL-&gt;å¯ç”¨æˆ–ç¦ç”¨å®‰å…¨å¥—æ¥å­—å±‚åŠ å¯†ã€‚</li><li>MAIL_DEBUG-&gt;é»˜è®¤è°ƒè¯•çŠ¶æ€ã€MAIL_SUPPRESS_SEND-&gt;app.testingè®¾ä¸ºTrueï¼Œåˆ™å‘é€è¢«æŠ‘åˆ¶ã€‚</li></ul></li><li>é‡è¦ç±»çš„å®šä¹‰<ul><li>Mailç±»ï¼šç®¡ç†ç”µå­é‚®ä»¶æ¶ˆæ¯ä¼ é€’éœ€æ±‚ï¼Œç±»æ„é€ å‡½æ•°ä¸º<code>flask-mail.Mail(app = None)</code>ã€‚<ul><li><code>send_message()</code>ï¼šå‘é€æ¶ˆæ¯çš„å¯¹è±¡ã€‚</li><li><code>connect()</code>ï¼šæ‰“å¼€ä¸é‚®ä»¶ä¸»æœºçš„è¿æ¥ã€‚</li><li><code>send()</code>ï¼šå‘é€Messageç±»å¯¹è±¡çš„å†…å®¹ã€‚</li></ul></li><li>Messageç±»ï¼šå°è£…ä¸€å°ç”µå­é‚®ä»¶ï¼Œç±»æ„é€ å‡½æ•°ä¸º<code>flask-mail.Message(subject, ...)</code>ã€‚<ul><li><code>attach()</code>ï¼šæ”¯æŒå‘é‚®ä»¶æ·»åŠ ç›¸å…³é™„ä»¶ã€‚</li><li><code>add_recipient()</code>ï¼šæ·»åŠ å¦ä¸€ä¸ªæ”¶ä»¶äººã€‚</li></ul></li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask<br><span class="hljs-keyword">from</span> flask_mail <span class="hljs-keyword">import</span> Mail, Message                <span class="hljs-comment"># flask-mailæ¨¡å—å¯¼å…¥Mailå’ŒMessageç±»</span><br><br>app = Flask(__name__)                               <span class="hljs-comment"># é…ç½®Flask-Mail</span><br><br>app.config[<span class="hljs-string">&#x27;MAIL_SERVER&#x27;</span>] = <span class="hljs-string">&#x27;smtp.126.com&#x27;</span>          <span class="hljs-comment"># 126ç”µå­é‚®ä»¶æœåŠ¡å™¨çš„åç§°æˆ–IPåœ°å€</span><br>app.config[<span class="hljs-string">&#x27;MAIL_PORT&#x27;</span>] = <span class="hljs-number">25</span>                        <span class="hljs-comment"># æœåŠ¡å™¨çš„ç«¯å£å·</span><br>app.config[<span class="hljs-string">&#x27;MAIL_USERNAME&#x27;</span>] = <span class="hljs-string">&#x27;Id1@126.com&#x27;</span>         <span class="hljs-comment"># å‘ä»¶äººçš„ç”¨æˆ·å</span><br>app.config[<span class="hljs-string">&#x27;MAIL_PASSWORD&#x27;</span>] = <span class="hljs-string">&#x27;******&#x27;</span>              <span class="hljs-comment"># å‘ä»¶äººçš„å¯†ç (æˆæƒç )</span><br><span class="hljs-comment"># å¹¶éä½¿ç”¨é‚®ç®±å¯†ç è€Œæ˜¯æˆæƒç ï¼Œæ³¨æ„æˆæƒç éœ€é‡æ–°è·å–ï¼Œæ—§çš„ä¸è¡Œï¼Œå¦åˆ™æŠ¥é”™smtplib.SMTPAuthenticationError</span><br><span class="hljs-comment"># å°†é‚®ç®±çš„å®‰å…¨éªŒè¯çº§åˆ«é™è‡³æœ€ä½ï¼Œä¾‹å¦‚ï¼šè®¾äº†é‚®ç®±ç™»å½•äºŒæ¬¡éªŒè¯(å¯†ç ç™»å½•åéœ€è¾“å…¥æ‰‹æœºéªŒè¯ç )ï¼Œå°†è¯¥åŠŸèƒ½å…³é—­</span><br><span class="hljs-comment"># ssl.SSLError: [SSL: WRONG_VERSION_NUMBER] wrong version number (_ssl.c:1129)ï¼ŒMAIL_USE_SSLæ”¹ä¸ºFalse</span><br>app.config[<span class="hljs-string">&#x27;MAIL_USE_SSL&#x27;</span>] = <span class="hljs-literal">False</span>                  <span class="hljs-comment"># ç¦ç”¨å®‰å…¨å¥—æ¥å­—å±‚åŠ å¯†</span><br>app.config[<span class="hljs-string">&#x27;MAIL_USE_TLS&#x27;</span>] = <span class="hljs-literal">False</span>                  <span class="hljs-comment"># ç¦ç”¨ä¼ è¾“å®‰å…¨å±‚åŠ å¯†</span><br>mail = Mail(app)                                    <span class="hljs-comment"># åˆ›å»ºMailç±»çš„å®ä¾‹</span><br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/&#x27;</span></span>)                                     </span><span class="hljs-comment"># è®¿é—®[http://127.0.0.1:5000/]å³å‘é€é‚®ä»¶</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">index</span>():<br>    msg = Message(<span class="hljs-string">&#x27;Flask-Mailæµ‹è¯•&#x27;</span>, sender=<span class="hljs-string">&#x27;Id1@126.com&#x27;</span>, recipients=[<span class="hljs-string">&#x27;Id2@126.com&#x27;</span>])<br>    msg.body = <span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">        Nameï¼šDr.626</span><br><span class="hljs-string">        Descriptionï¼šæµ‹è¯•Flask-Mailæ‰©å±•æ˜¯å¦ç”Ÿæ•ˆã€‚</span><br><span class="hljs-string">    &#x27;&#x27;&#x27;</span><br>    mail.send(msg)<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&lt;center&gt;å‘é€æˆåŠŸï¼&lt;/center&gt;&#x27;</span><br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    app.run(debug=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><h2 id="3-2-WTF"><a href="#3-2-WTF" class="headerlink" title="3-2 WTF"></a>3-2 WTF</h2><ul><li>WTF<ul><li>PIPå‘½ä»¤å®‰è£…Flask-WTFæ‰©å±•ï¼š<code>pip install Flask-WTF</code>ã€‚</li><li>WTformsåŒ…ä¸­çš„æ ‡å‡†è¡¨å•å­—æ®µ<ul><li>DecimalField-&gt;æ˜¾ç¤ºå¸¦å°æ•°çš„æ•°å­—æ–‡æœ¬å­—æ®µã€TextAreaField-&gt;<code>&lt;textarea&gt;</code>ã€‚</li><li>SelectField-&gt;é€‰æ‹©è¡¨å•å…ƒç´ ã€PasswordField-&gt;<code>&lt;input type=&#39;password&#39;&gt;</code>ã€‚</li><li>IntegerField-&gt;æ˜¾ç¤ºæ•´æ•°çš„æ–‡æœ¬å­—æ®µã€RadioField-&gt;<code>&lt;input type=&#39;radio&#39;&gt;</code>ã€‚</li><li>StringField-&gt;<code>&lt;input type=&#39;text&#39;&gt;</code>ã€SubmitField-&gt;<code>&lt;input type=&#39;submit&#39;&gt;</code>ã€‚</li><li>BooleanField-&gt;<code>&lt;input type=&#39;checkbox&#39;&gt;</code>ã€‚</li></ul></li><li>WTFormsåŒ…ä¸­å¸¸ç”¨çš„éªŒè¯å™¨<ul><li>NumberRange-&gt;éªŒè¯ç»™å®šèŒƒå›´å†…è¾“å…¥å­—æ®µä¸­çš„æ•°å­—ã€URL-&gt;éªŒè¯åœ¨è¾“å…¥å­—æ®µä¸­è¾“å…¥çš„URLã€‚</li><li>DataRequired-&gt;æ£€æŸ¥è¾“å…¥å­—æ®µæ˜¯å¦ä¸ºç©ºã€Email-&gt;æ£€æŸ¥å­—æ®µä¸­çš„æ–‡æœ¬æ˜¯å¦éµå¾ªç”µå­é‚®ä»¶çš„IDçº¦å®šã€‚</li><li>IPAddress-&gt;è¾“å…¥å­—æ®µä¸­éªŒè¯IPåœ°å€ã€Length-&gt;éªŒè¯è¾“å…¥å­—æ®µä¸­çš„å­—ç¬¦ä¸²é•¿åº¦æ˜¯å¦åœ¨ç»™å®šèŒƒå›´å†…ã€‚</li></ul></li></ul></li></ul><h4 id="1-form-py"><a href="#1-form-py" class="headerlink" title="(1) form.py"></a>(1) form.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> formnew <span class="hljs-keyword">import</span> ContactForm<br><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask, render_template, request, flash<br><br>app = Flask(__name__)<br>app.secret_key = <span class="hljs-string">&#x27;flask wtf&#x27;</span><br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/formfill&#x27;</span>, methods=[<span class="hljs-string">&#x27;GET&#x27;</span>, <span class="hljs-string">&#x27;POST&#x27;</span>]</span>)    </span><span class="hljs-comment"># è®¿é—®[http://127.0.0.1:5000/formfill]ï¼Œå¡«å†™æ•°æ®</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">form_fill</span>():<br>    form = ContactForm()                            <span class="hljs-comment"># formnew.pyä¸­è®¾ç½®äº†nameä¸emailå¿…å¡«</span><br><br>    <span class="hljs-keyword">if</span> request.method == <span class="hljs-string">&#x27;POST&#x27;</span>:<br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> form.validate():                     <span class="hljs-comment"># åˆ¤æ–­å¿…å¡«é¡¹æ˜¯å¦å…¨éƒ¨å¡«å†™ï¼Œæ²¡æœ‰åˆ™æç¤ºï¼Œæœ‰åˆ™è·³è½¬é¡µé¢</span><br>            flash(<span class="hljs-string">&#x27;è¯·å¡«å†™æ‰€æœ‰å¿…å¡«å­—æ®µã€‚&#x27;</span>)<br>            <span class="hljs-keyword">return</span> render_template(<span class="hljs-string">&#x27;formfill.html&#x27;</span>, form=form)<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">return</span> render_template(<span class="hljs-string">&#x27;formsub.html&#x27;</span>)  <span class="hljs-comment"># æäº¤åè·³è½¬ä¸è¿‡æ¥ï¼Œå³ä½¿è·³è½¬æˆåŠŸURLä»ä¸ºâ€œ/formfillâ€</span><br>    <span class="hljs-keyword">elif</span> request.method == <span class="hljs-string">&#x27;GET&#x27;</span>:<br>        <span class="hljs-keyword">return</span> render_template(<span class="hljs-string">&#x27;formfill.html&#x27;</span>, form=form)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    app.run(debug=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><h4 id="2-formnew-py"><a href="#2-formnew-py" class="headerlink" title="(2) formnew.py"></a>(2) formnew.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> wtforms <span class="hljs-keyword">import</span> validators<br><span class="hljs-keyword">from</span> flask_wtf <span class="hljs-keyword">import</span> FlaskForm<br><span class="hljs-keyword">from</span> wtforms <span class="hljs-keyword">import</span> StringField, IntegerField, TextAreaField, SubmitField, RadioField, SelectField<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">ContactForm</span>(<span class="hljs-title class_ inherited__">FlaskForm</span>):<br>    name = StringField(<span class="hljs-string">&#x27;å§“å&#x27;</span>, [validators.DataRequired(message=<span class="hljs-string">&#x27;è¯·è¾“å…¥ä½ çš„å§“å!&#x27;</span>)])<br>    sex = RadioField(<span class="hljs-string">&#x27;æ€§åˆ«&#x27;</span>, choices=[(<span class="hljs-string">&#x27;M&#x27;</span>, <span class="hljs-string">&#x27;ç”·&#x27;</span>), (<span class="hljs-string">&#x27;F&#x27;</span>, <span class="hljs-string">&#x27;å¥³&#x27;</span>)])<br>    address = TextAreaField(<span class="hljs-string">&#x27;åœ°å€&#x27;</span>)<br>    email = StringField(<span class="hljs-string">&#x27;é‚®ä»¶&#x27;</span>,                     <span class="hljs-comment"># æ ¡éªŒé‚®ç®±æ˜¯å¦å¿…å¡«ï¼Œä»¥åŠé‚®ç®±æ­£ç¡®æ€§</span><br>                        [validators.DataRequired(message=<span class="hljs-string">&#x27;è¯·è¾“å…¥ä½ çš„é‚®ä»¶åœ°å€!&#x27;</span>),<br>                         validators.Email(message=<span class="hljs-string">&#x27;è¯·è¾“å…¥æ­£ç¡®çš„é‚®ä»¶åœ°å€!&#x27;</span>)])<br>    age = IntegerField(<span class="hljs-string">&#x27;å¹´é¾„&#x27;</span>)<br>    <span class="hljs-comment"># language = SelectField(&#x27;è¯­è¨€&#x27;, choices=[&#x27;C#&#x27;, &#x27;CPP&#x27;, &#x27;Java&#x27;, &#x27;Python&#x27;, &#x27;Golang&#x27;])</span><br>    <span class="hljs-comment"># languageä¸Šè¿°å†™æ³•ï¼Œæ‰§è¡Œæ—¶å¯èƒ½æŠ¥é”™ValueError: too many values to unpack (expected 2)</span><br>    language = SelectField(<br>        <span class="hljs-string">&#x27;è¯­è¨€&#x27;</span>,<br>        choices=[<br>            (<span class="hljs-string">&#x27;c#&#x27;</span>, <span class="hljs-string">&#x27;C#&#x27;</span>), (<span class="hljs-string">&#x27;cpp&#x27;</span>, <span class="hljs-string">&#x27;CPP&#x27;</span>), (<span class="hljs-string">&#x27;java&#x27;</span>, <span class="hljs-string">&#x27;Java&#x27;</span>), <br>            (<span class="hljs-string">&#x27;python&#x27;</span>, <span class="hljs-string">&#x27;Python&#x27;</span>), (<span class="hljs-string">&#x27;golang&#x27;</span>, <span class="hljs-string">&#x27;Golang&#x27;</span>)<br>        ],<br>        default=<span class="hljs-string">&#x27;python&#x27;</span>,<br>        render_kw=&#123;<span class="hljs-string">&quot;style&quot;</span>: <span class="hljs-string">&quot;width:180px;height:30px;&quot;</span>&#125;,<br>    )<br>    submit = SubmitField(<span class="hljs-string">&#x27;æäº¤&#x27;</span>)<br></code></pre></td></tr></table></figure><h4 id="3-formfill-html"><a href="#3-formfill-html" class="headerlink" title="(3) formfill.html"></a>(3) formfill.html</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>è¡¨å•å¡«å†™<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align: center;&quot;</span>&gt;</span>Flask-WTFè¡¨å•<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;http://localhost:5000/formfill&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&#x27;POST&#x27;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">fieldset</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">legend</span>&gt;</span>Flask-WTFè¡¨å•<span class="hljs-tag">&lt;/<span class="hljs-name">legend</span>&gt;</span><br>            <span class="hljs-comment">&lt;!-- formnew.pyçš„ContactFormç±»åˆ›å»ºnameå­—æ®µæ—¶ï¼Œä¼šè‡ªåŠ¨åˆ›å»ºCSRFä»¤ç‰Œçš„éšè—å­—æ®µ --&gt;</span><br>            <span class="hljs-comment">&lt;!-- é˜²æ­¢è·¨ç«™è¯·æ±‚ä¼ªé€ æ”»å‡»ï¼ŒCSRFä»¤ç‰Œçš„éšè—å­—æ®µï¼Œç›¸å½“äºå¦‚ä¸‹è„šæœ¬ --&gt;</span><br>            <span class="hljs-comment">&lt;!-- &lt;input id=&quot;csrf_token&quot; name=&quot;csrf_token&quot; type=&quot;hidden&quot; /&gt; --&gt;</span><br>            &#123;&#123; form.hidden_tag() &#125;&#125;<br>            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;font-size:20px;font-weight:bold;text-align:center;&quot;</span>&gt;</span><br>                &#123;&#123; form.name.label &#125;&#125;<span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>                &#123;&#123; form.name(style=&#x27;width:170px;height:20px;&#x27;) &#125;&#125;<span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>                <span class="hljs-comment">&lt;!-- è¿™é‡Œè²Œä¼¼åªæ ¡éªŒäº†é‚®ç®±çš„æ­£ç¡®æ€§ï¼Œå¿…å¡«é¡¹å¼¹çª—æç¤ºè¯éƒ½ä¸€è‡´ --&gt;</span><br>                <span class="hljs-comment">&lt;!-- å¹¶ä¸æ˜¯formnew.pyæ–‡ä»¶ä¸­è‡ªå®šä¹‰çš„æç¤ºè¯ --&gt;</span><br>                &#123;% for message in form.name.errors %&#125;<br>                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;alert alert-danger&quot;</span>&gt;</span>&#123;&#123; message &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>                &#123;% endfor %&#125;<br>                &#123;&#123; form.sex.label &#125;&#125;<span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>                &#123;&#123; form.sex(style=&#x27;display:inline-block;text-align:center;&#x27;) &#125;&#125;<span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>                &#123;&#123; form.address.label &#125;&#125;<span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>                &#123;&#123; form.address(style=&#x27;width:170px;height:20px;&#x27;) &#125;&#125;<span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>                &#123;&#123; form.email.label &#125;&#125;<span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>                &#123;&#123; form.email(style=&#x27;width:170px;height:20px;&#x27;) &#125;&#125;<span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>                &#123;% for message in form.email.errors %&#125;<br>                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;alert alert-danger&quot;</span>&gt;</span>&#123;&#123; message &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>                &#123;% endfor %&#125;<br>                &#123;&#123; form.age.label &#125;&#125;<span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>                &#123;&#123; form.age(style=&#x27;width:170px;height:20px;&#x27;) &#125;&#125;<span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>                &#123;&#123; form.language.label &#125;&#125;<span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>                <span class="hljs-comment">&lt;!-- &#123;&#123; form.language(style=&#x27;width:180px;height:30px;&#x27;) &#125;&#125;&lt;br&gt;&lt;br&gt; --&gt;</span><br>                &#123;&#123; form.language() &#125;&#125;<span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>                &#123;&#123; form.submit(style=&#x27;width:50px;height:30px;&#x27;) &#125;&#125;<span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">fieldset</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="4-formsub-html"><a href="#4-formsub-html" class="headerlink" title="(4) formsub.html"></a>(4) formsub.html</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>æäº¤æ˜¾ç¤º<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">center</span>&gt;</span>ä¿¡æ¯æäº¤æˆåŠŸï¼<span class="hljs-tag">&lt;/<span class="hljs-name">center</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="3-3-Sijax"><a href="#3-3-Sijax" class="headerlink" title="3-3 Sijax*"></a>3-3 Sijax*</h2><ul><li>Sijax<ul><li>å³Simple Ajaxï¼Œå¯è½»æ¾åœ°å®ç°AJAXåŠŸèƒ½ï¼ŒPIPå®‰è£…Flask-Sijaxæ‰©å±•ï¼š<code>pip install flask-sijax</code>ã€‚</li><li>Flask-Sijaxæ˜¯ä¸€ä¸ªä¸“é—¨ä¸ºFlaskè®¾è®¡çš„Sijaxæ‰©å±•ï¼Œæä¾›äº†ä¸Flaskæ— ç¼é›†æˆçš„APIï¼Œä¹Ÿæ˜¯ä¸ªè½»é‡çº§çš„åº“ã€‚</li></ul></li></ul><h4 id="1-sijaxapp-py"><a href="#1-sijaxapp-py" class="headerlink" title="(1) sijaxapp.py"></a>(1) sijaxapp.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> flask_sijax<br><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask, g, render_template<br><br>app = Flask(__name__)<br><br><span class="hljs-comment"># SIJAX_STATIC_PATHï¼Œè¦è¢«é•œåƒçš„Sijax javascriptæ–‡ä»¶çš„é™æ€è·¯å¾„ï¼Œé»˜è®¤â€œ/static/js/sijax/â€</span><br><span class="hljs-comment"># SIJAX_JSON_URIï¼Œä»ä¸­åŠ è½½json2.jsé™æ€æ–‡ä»¶çš„URIï¼ŒSijaxä½¿ç”¨Jsonåœ¨æµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´ä¼ é€’æ•°æ®</span><br>app.config[<span class="hljs-string">&#x27;SIJAX_STATIC_PATH&#x27;</span>] = <span class="hljs-string">&#x27;/static/js/sijax/&#x27;</span><br>app.config[<span class="hljs-string">&#x27;SIJAX_JSON_URI&#x27;</span>] = <span class="hljs-string">&#x27;/static/js/sijax/json2.js&#x27;</span><br>flask_sijax.Sijax(app)                              <span class="hljs-comment"># staticç”Ÿæˆçš„è·¯å¾„ä¸å¯¹(åœ¨æ ¹ç›®å½•ä¸‹)</span><br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/&#x27;</span></span>)                                     </span><span class="hljs-comment"># è®¿é—®[http://127.0.0.1:5000/]</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">index</span>():<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;&lt;center&gt;&lt;a href=&#x27;/app&#x27;&gt;è·³è½¬appé¡µé¢&lt;/a&gt;&lt;/center&gt;&quot;</span><br><br><br><span class="hljs-meta">@flask_sijax.route(<span class="hljs-params">app, <span class="hljs-string">&#x27;/app&#x27;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">hello</span>():<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">say_hi</span>(<span class="hljs-params">obj_response</span>):<br>        obj_response.alert(<span class="hljs-string">&#x27;Hi there!&#x27;</span>)             <span class="hljs-comment"># å‡½æ•°å›å¤æµè§ˆå™¨çš„æ–¹å¼</span><br>        <span class="hljs-keyword">if</span> g.sijax.is_sijax_request:                <span class="hljs-comment"># ä¸ä¼šå¼¹çª—æ˜¾ç¤ºâ€œHi there!â€</span><br>            g.sijax.register_callback(<span class="hljs-string">&#x27;say_hi&#x27;</span>, say_hi)<br>        <span class="hljs-keyword">return</span> g.sijax.process_request()            <span class="hljs-comment"># æ£€æµ‹åˆ°Ajaxè¯·æ±‚æ—¶ï¼ŒSijaxä¼šè‡ªè¡Œå¤„ç†</span><br>    <span class="hljs-keyword">return</span> render_template(<span class="hljs-string">&#x27;sijaxapp.html&#x27;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    app.run(debug=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><h4 id="2-sijaxapp-html"><a href="#2-sijaxapp-html" class="headerlink" title="(2) sijaxapp.html"></a>(2) sijaxapp.html</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Flask-Sijax<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;/static/js/sijax/sijax.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-handlebars"><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">g.sijax.get_js</span>()|safe &#125;&#125;</span></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align: center;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Flask-Sijax<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;javascript://&quot;</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;Sijax.request(&#x27;say_hi&#x27;);&quot;</span>&gt;</span>ç‚¹å‡»è¿™é‡Œ<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- å•å‡»é“¾æ¥å°†å‘æœåŠ¡å™¨å‘å‡ºä¸€ä¸ªSijaxè¯·æ±‚ï¼Œä¸€ä¸ªç‰¹æ®Šçš„jQuery.ajax()è¯·æ±‚ --&gt;</span><br>    <span class="hljs-comment">&lt;!-- å…·ä½“å‚çœ‹Flask-Sijaxå®˜ç½‘â€œhttps://pythonhosted.org/Flask-Sijax/â€ --&gt;</span><br>    <span class="hljs-comment">&lt;!-- GET http://127.0.0.1:5000/static/js/sijax/sijax.js net::ERR_ABORTED 404 (NOT FOUND) --&gt;</span><br>    <span class="hljs-comment">&lt;!-- è¯·æ±‚å¤±æ•ˆäº†ï¼ŒUncaught ReferenceError: Sijax is not defined at HTMLAnchorElement.onclick --&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="3-4-SQLite"><a href="#3-4-SQLite" class="headerlink" title="3-4 SQLite"></a>3-4 SQLite</h2><ul><li>SQLite<ul><li>é€šè¿‡PIPå‘½ä»¤å®‰è£…SQLiteæ‰©å±•ï¼š<code>pip install sqlite3</code>ã€‚</li><li>SQLiteæ˜¯ä¸€ç§åµŒå…¥å¼æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œæ˜“äºä½¿ç”¨æ— éœ€é…ç½®ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> sqlite3                                       <span class="hljs-comment"># å®ä¾‹æ“ä½œå‰éœ€è¦å…ˆåˆ›å»ºæ•°æ®åº“å’Œæ•°æ®è¡¨</span><br><br>conn = sqlite3.connect(<span class="hljs-string">&#x27;database.db&#x27;</span>)                <span class="hljs-comment"># åˆ›å»ºSQLiteæ•°æ®åº“å’Œä¸€ä¸ªå­¦ç”Ÿè¡¨</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;æˆåŠŸæ‰“å¼€æ•°æ®åº“ï¼&#x27;</span>)<br><br>conn.execute(<span class="hljs-string">&#x27;CREATE TABLE students (name TEXT, address TEXT, city TEXT, pin TEXT)&#x27;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;æ•°æ®è¡¨åˆ›å»ºæˆåŠŸï¼&#x27;</span>)<br>conn.close()<br></code></pre></td></tr></table></figure><h4 id="1-sqloper-py"><a href="#1-sqloper-py" class="headerlink" title="(1) sqloper.py"></a>(1) sqloper.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> sqlite3 <span class="hljs-keyword">as</span> sql                               <span class="hljs-comment"># å®ä¾‹å°†å­¦ç”Ÿä¿¡æ¯æ·»åŠ åˆ°æ•°æ®åº“ä¸­ï¼Œå¹¶åˆ—è¡¨å±•ç¤º</span><br><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask, render_template, request<br><br>app = Flask(__name__)<br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/&#x27;</span></span>)                                     </span><span class="hljs-comment"># æ˜¾ç¤º[127.0.0.1:5000]ä¸»é¡µï¼Œé“¾æ¥åˆ°sqlhome.html</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">sql_home</span>():<br>    <span class="hljs-keyword">return</span> render_template(<span class="hljs-string">&#x27;sqlhome.html&#x27;</span>)<br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/sqlstu&#x27;</span></span>)                               </span><span class="hljs-comment"># é¡µé¢è¡¨å•æ·»åŠ å­¦ç”Ÿè®°å½•ï¼Œé“¾æ¥åˆ°sqlstu.html</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">new_stu</span>():<br>    <span class="hljs-keyword">return</span> render_template(<span class="hljs-string">&#x27;sqlstu.html&#x27;</span>)<br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/addrec&#x27;</span>, methods=[<span class="hljs-string">&#x27;POST&#x27;</span>, <span class="hljs-string">&#x27;GET&#x27;</span>]</span>)      </span><span class="hljs-comment"># å°†è¡¨å•è®°å½•æ’å…¥æ•°æ®åº“å¯¹åº”çš„è¡¨ä¸­</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">add_rec</span>():<br>    <span class="hljs-keyword">global</span> msg<br>    <span class="hljs-keyword">if</span> request.method == <span class="hljs-string">&#x27;POST&#x27;</span>:<br>        <span class="hljs-keyword">try</span>:<br>            name = request.form[<span class="hljs-string">&#x27;name&#x27;</span>]             <span class="hljs-comment"># è¿™é‡Œå¹¶æœªåšè¡¨å•å†…å®¹çš„æ ¡éªŒ</span><br>            address = request.form[<span class="hljs-string">&#x27;address&#x27;</span>]<br>            city = request.form[<span class="hljs-string">&#x27;city&#x27;</span>]<br>            pin = request.form[<span class="hljs-string">&#x27;pin&#x27;</span>]<br>            <span class="hljs-keyword">with</span> sql.connect(<span class="hljs-string">&quot;database.db&quot;</span>) <span class="hljs-keyword">as</span> con:<br>                cur = con.cursor()                  <span class="hljs-comment"># æ‰“å¼€database.dbæ•°æ®åº“</span><br>                cur.execute(<span class="hljs-string">&quot;INSERT INTO students (name, address, city, pin) \</span><br><span class="hljs-string">                            VALUES(?, ?, ?, ?)&quot;</span>, (name, address, city, pin))<br>                con.commit()                        <span class="hljs-comment"># å°†æ•°æ®æ’å…¥æ•°æ®åº“ä¸­å¹¶commitæäº¤</span><br>                msg = <span class="hljs-string">&#x27;è®°å½•æ·»åŠ æˆåŠŸï¼&#x27;</span><br>        <span class="hljs-keyword">except</span>:<br>            con.rollback()<br>            msg = <span class="hljs-string">&#x27;æ’å…¥æ“ä½œæœ‰è¯¯ï¼&#x27;</span><br>        <span class="hljs-keyword">finally</span>:<br>            <span class="hljs-keyword">return</span> render_template(<span class="hljs-string">&quot;sqlres.html&quot;</span>, msg=msg)<br>            con.close()                             <span class="hljs-comment"># å…³é—­æ•°æ®åº“è¿æ¥ï¼Œé‡Šæ”¾èµ„æºé¿å…æ½œåœ¨çš„é—®é¢˜</span><br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/sqllist&#x27;</span></span>)                              </span><span class="hljs-comment"># ä»æ•°æ®åº“ä¸­æ£€ç´¢æ‰€æœ‰å­¦ç”Ÿä¿¡æ¯ï¼Œå¹¶åœ¨é¡µé¢å±•ç¤º</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">sql_list</span>():<br>    con = sql.connect(<span class="hljs-string">&quot;database.db&quot;</span>)<br>    con.row_factory = sql.Row<br>    cur = con.cursor()<br>    cur.execute(<span class="hljs-string">&quot;SELECT * FROM students&quot;</span>)           <span class="hljs-comment"># æ•°æ®è¡¨è®°å½•æŸ¥è¯¢è¯­å¥</span><br>    rows = cur.fetchall()<br>    <span class="hljs-keyword">return</span> render_template(<span class="hljs-string">&#x27;sqllist.html&#x27;</span>, rows=rows)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    app.run(debug=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><h4 id="2-sqlres-html"><a href="#2-sqlres-html" class="headerlink" title="(2) sqlres.html"></a>(2) sqlres.html</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>æ·»åŠ ç»“æœ<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#x27;text-align: center;&#x27;</span>&gt;</span><br>    æ·»åŠ åçš„ç»“æœ : &#123;&#123; msg &#125;&#125;<br>    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span> = <span class="hljs-string">&quot;\&quot;</span>&gt;</span>ç‚¹å‡»å›åˆ°é¦–é¡µ<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="3-sqlstu-html"><a href="#3-sqlstu-html" class="headerlink" title="(3) sqlstu.html"></a>(3) sqlstu.html</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>è¡¨å•å¡«å†™<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&#x27;&#123;&#123; url_for(&quot;add_rec&quot;) &#125;&#125;&#x27;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&#x27;POST&#x27;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#x27;text-align: center;&#x27;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>å­¦ç”Ÿä¿¡æ¯<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>å§“å<span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&#x27;text&#x27;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&#x27;name&#x27;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#x27;width: 180px; height: 30px;&#x27;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>åœ°å€<span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">textarea</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&#x27;address&#x27;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#x27;width: 180px; height: 30px;&#x27;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">textarea</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>åŸå¸‚<span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&#x27;text&#x27;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&#x27;city&#x27;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#x27;width: 180px; height: 30px;&#x27;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>è®¤è¯ç <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&#x27;text&#x27;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&#x27;pin&#x27;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#x27;width: 180px; height: 30px;&#x27;</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&#x27;submit&#x27;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&#x27;æäº¤&#x27;</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="4-sqllist-html"><a href="#4-sqllist-html" class="headerlink" title="(4) sqllist.html"></a>(4) sqllist.html</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>åˆ—è¡¨å±•ç¤º<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-tag">body</span> &#123;<span class="hljs-attribute">text-align</span>: center;&#125; <span class="hljs-selector-tag">table</span> &#123;<span class="hljs-attribute">margin</span>: auto;&#125;</span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">table</span> <span class="hljs-attr">border</span>=<span class="hljs-string">2</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">thead</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>å§“å<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>åœ°å€<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>åŸå¸‚<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>è®¤è¯ç <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">thead</span>&gt;</span><br>        &#123;% for row in rows %&#125;<br>            <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>&#123;&#123; row[&#x27;name&#x27;] &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>&#123;&#123; row[&#x27;address&#x27;] &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>&#123;&#123; row[&#x27;city&#x27;] &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>&#123;&#123; row[&#x27;pin&#x27;] &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>        &#123;% endfor %&#125;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span> = <span class="hljs-string">&quot;/&quot;</span>&gt;</span>ç‚¹å‡»å›åˆ°é¦–é¡µ<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="5-sqlhome-html"><a href="#5-sqlhome-html" class="headerlink" title="(5) sqlhome.html"></a>(5) sqlhome.html</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>æ•°æ®æ“ä½œ<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#x27;text-align: center;&#x27;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;/sqlstu&quot;</span>&gt;</span>æ·»åŠ è®°å½•<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;/sqllist&quot;</span>&gt;</span>åˆ—è¡¨å±•ç¤º<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="3-5-SQLAlchemy"><a href="#3-5-SQLAlchemy" class="headerlink" title="3-5 SQLAlchemy"></a>3-5 SQLAlchemy</h2><ul><li>SQLAlchemy<ul><li>PIPå‘½ä»¤å®‰è£…Flask-SQLAlchemyæ‰©å±•ï¼š<code>pip install flask-sqlalchemy</code>ã€‚</li><li>Flask-SQLAlchemyæ˜¯Flaskæ¡†æ¶çš„ä¸€ä¸ªæ‰©å±•ï¼Œæä¾›äº†ä¸€ç§ç®€å•æ˜“ç”¨çš„æ–¹å¼æ¥æ“ä½œSQLæ•°æ®åº“ã€‚</li><li>ä½¿ç”¨SQLAlchemyå¯è½»æ¾å®šä¹‰æ•°æ®æ¨¡å‹ã€æŸ¥è¯¢æ•°æ®å¹¶è¿›è¡ŒCRUDæ“ä½œï¼Œä¸å¿…ç¼–å†™åŸå§‹SQLè¯­å¥ã€‚</li><li>ORMï¼ŒObject-Relational Mappingï¼Œå¯¹è±¡å…³ç³»æ˜ å°„ï¼ŒORM APIæä¾›äº†æ‰§è¡ŒCRUDæ“ä½œçš„æ–¹æ³•ã€‚<ul><li>å¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€å¹³å°æ˜¯é¢å‘å¯¹è±¡çš„ï¼Œè€ŒRDBMSæœåŠ¡å™¨ä¸­çš„æ•°æ®å­˜å‚¨ä¸ºè¡¨ã€‚</li><li>ORMå°†å…³ç³»æ•°æ®åº“è¡¨è§†ä¸ºå¯¹è±¡ï¼ŒæŠŠå¯¹è±¡å‚æ•°æ˜ å°„åˆ°åº•å±‚RDBMSè¡¨ç»“æ„ä¸­ã€‚</li></ul></li></ul></li></ul><h4 id="1-sqlaloper-py"><a href="#1-sqlaloper-py" class="headerlink" title="(1) sqlaloper.py"></a>(1) sqlaloper.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> flask_sqlalchemy <span class="hljs-keyword">import</span> SQLAlchemy             <span class="hljs-comment"># æ”¯æŒæ·»åŠ ã€ç¼–è¾‘ã€åˆ é™¤å’ŒæŸ¥çœ‹å­¦ç”Ÿä¿¡æ¯</span><br><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask, request, flash, url_for, redirect, render_template<br><br>app = Flask(__name__)<br>app.config[<span class="hljs-string">&#x27;SQLALCHEMY_DATABASE_URI&#x27;</span>] = <span class="hljs-string">&#x27;sqlite:///students.sqlite3&#x27;</span><br>app.config[<span class="hljs-string">&#x27;SECRET_KEY&#x27;</span>] = <span class="hljs-string">&#x27;flask sqlalchemy&#x27;</span><br><br>db = SQLAlchemy(app)<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">students</span>(db.Model):                           <span class="hljs-comment"># studentsç±»ç»§æ‰¿è‡ªdb.Modelç±»</span><br>    <span class="hljs-built_in">id</span> = db.Column(<span class="hljs-string">&#x27;id&#x27;</span>, db.Integer, primary_key=<span class="hljs-literal">True</span>)<br>    name = db.Column(db.String(<span class="hljs-number">100</span>))                <span class="hljs-comment"># å®šä¹‰äº†idã€nameã€cityå’Œaddresså››ä¸ªå±æ€§</span><br>    city = db.Column(db.String(<span class="hljs-number">50</span>))<br>    address = db.Column(db.String(<span class="hljs-number">200</span>))<br>    pincode = db.Column(db.String(<span class="hljs-number">10</span>))<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, name, city, address, pincode</span>):<br>        self.name = name                            <span class="hljs-comment"># å®šä¹‰æ„é€ å‡½æ•°ï¼Œä½¿ç”¨å››ä¸ªå‚æ•°åˆå§‹åŒ–ç±»å®ä¾‹çš„å±æ€§</span><br>        self.city = city<br>        self.address = address<br>        self.pincode = pincode                      <span class="hljs-comment"># è®¿é—®[http://127.0.0.1:5000]</span><br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/&#x27;</span></span>)                                     </span><span class="hljs-comment"># ä¸»åº”ç”¨ç¨‹åºå®šä¹‰ä¸¤ä¸ªè·¯ç”±å™¨ï¼Œâ€œ/â€å’Œâ€œ/sqlalnewâ€</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">sqlal_show</span>():                                   <span class="hljs-comment"># è®¿é—®æ ¹è·¯å¾„æ—¶æ¸²æŸ“sqlalshow.htmlå¹¶æ˜¾ç¤ºæ‰€æœ‰è®°å½•</span><br>    <span class="hljs-keyword">return</span> render_template(<span class="hljs-string">&#x27;sqlalshow.html&#x27;</span>, students=students.query.<span class="hljs-built_in">all</span>())<br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/sqlalnew&#x27;</span>, methods=[<span class="hljs-string">&#x27;GET&#x27;</span>, <span class="hljs-string">&#x27;POST&#x27;</span>]</span>)    </span><span class="hljs-comment"># è®¿é—®â€œ/sqlalnewâ€è·¯å¾„æ—¶æ¸²æŸ“sqlalnew.htmlæ¨¡æ¿</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">sqlal_new</span>():                                    <span class="hljs-comment"># å¹¶å…è®¸ç”¨æˆ·æ·»åŠ æ–°çš„è®°å½•åˆ°SQLite3æ•°æ®åº“ä¸­</span><br>    <span class="hljs-keyword">if</span> request.method == <span class="hljs-string">&#x27;POST&#x27;</span>:                    <span class="hljs-comment"># è¡¨å•æ ¡éªŒï¼Œå¦‚æœç”¨æˆ·æäº¤å¤±è´¥ï¼Œåˆ™æ˜¾ç¤ºé”™è¯¯æ¶ˆæ¯</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> request.form[<span class="hljs-string">&#x27;name&#x27;</span>] <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> request.form[<span class="hljs-string">&#x27;city&#x27;</span>] <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> request.form[<span class="hljs-string">&#x27;address&#x27;</span>]:<br>            flash(<span class="hljs-string">&#x27;è¯·è¾“å…¥æ‰€æœ‰å­—æ®µï¼&#x27;</span>, <span class="hljs-string">&#x27;error&#x27;</span>)<br>        <span class="hljs-keyword">else</span>:                                       <span class="hljs-comment"># ç”¨æˆ·æäº¤æˆåŠŸï¼Œåˆ™å°†æ–°è®°å½•æ·»åŠ åˆ°æ•°æ®åº“ä¸­</span><br>            student = students(request.form[<span class="hljs-string">&#x27;name&#x27;</span>], request.form[<span class="hljs-string">&#x27;city&#x27;</span>],<br>                               request.form[<span class="hljs-string">&#x27;address&#x27;</span>], request.form[<span class="hljs-string">&#x27;pincode&#x27;</span>])<br>            db.session.add(student)                 <span class="hljs-comment"># sessionå¯¹è±¡æ‰§è¡ŒCRUDçš„æ’å…¥æ˜ å°„è¡¨æ“ä½œ</span><br>            db.session.commit()<br>            flash(<span class="hljs-string">&#x27;è®°å½•æ·»åŠ æˆåŠŸï¼&#x27;</span>)<br>            <span class="hljs-keyword">return</span> redirect(url_for(<span class="hljs-string">&#x27;sqlal_show&#x27;</span>))  <span class="hljs-comment"># åœ¨ä»»ä½•æƒ…å†µä¸‹ï¼Œéƒ½ä¼šå°†ç”¨æˆ·é‡å®šå‘å›æ˜¾ç¤ºé¡µé¢</span><br>    <span class="hljs-keyword">return</span> render_template(<span class="hljs-string">&#x27;sqlalnew.html&#x27;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    <span class="hljs-keyword">with</span> app.app_context():                         <span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªåº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡</span><br>        db.create_all()                             <span class="hljs-comment"># è°ƒç”¨db.create_all()å‡½æ•°ä»¥åˆ›å»ºæ•°æ®åº“è¡¨</span><br>    <br>    <span class="hljs-comment"># è‹¥æ‰§è¡Œæ—¶æŠ¥é”™ImportError: cannot import name &#x27;EVENT_TYPE_OPENED&#x27; from &#x27;watchdog.events&#x27;</span><br>    app.run(debug=<span class="hljs-literal">True</span>)                             <span class="hljs-comment"># å‡çº§ï¼špip install --upgrade watchdog</span><br></code></pre></td></tr></table></figure><h4 id="2-sqlalnew-html"><a href="#2-sqlalnew-html" class="headerlink" title="(2) sqlalnew.html"></a>(2) sqlalnew.html</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>è¡¨å•å¡«å†™<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#x27;text-align: center;&#x27;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Flask-SQLAlchemy å®ä¾‹<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">hr</span>&gt;</span><span class="hljs-comment">&lt;!-- æ°´å¹³çº¿æ ‡ç­¾ --&gt;</span><br>    &#123;% for category, message in get_flashed_messages(with_categories = true) %&#125;<br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&#x27;alert alert-danger&#x27;</span>&gt;</span><br>            &#123;&#123; message &#125;&#125;<br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    &#123;% endfor %&#125;<br>    <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&#x27;&#123;&#123; request.path &#125;&#125;&#x27;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&#x27;post&#x27;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&#x27;name&#x27;</span>&gt;</span>å§“å<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&#x27;name&#x27;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&#x27;å§“å&#x27;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#x27;width: 180px; height: 15px;&#x27;</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&#x27;city&#x27;</span>&gt;</span>åŸå¸‚<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&#x27;text&#x27;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&#x27;city&#x27;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&#x27;åŸå¸‚&#x27;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#x27;width: 180px; height: 15px;&#x27;</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&#x27;address&#x27;</span>&gt;</span>åœ°å€<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">textarea</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&#x27;address&#x27;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&#x27;åœ°å€&#x27;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#x27;width: 180px; height: 15px;&#x27;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">textarea</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&#x27;pincode&#x27;</span>&gt;</span>è®¤è¯ç <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&#x27;text&#x27;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&#x27;pincode&#x27;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&#x27;è®¤è¯ç &#x27;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#x27;width: 180px; height: 15px;&#x27;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&#x27;submit&#x27;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&#x27;æäº¤&#x27;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="3-sqlalshow-html"><a href="#3-sqlalshow-html" class="headerlink" title="(3) sqlalshow.html"></a>(3) sqlalshow.html</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>æ•°æ®æ“ä½œ<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-tag">body</span> &#123;<span class="hljs-attribute">text-align</span>: center;&#125; <span class="hljs-selector-tag">table</span> &#123;<span class="hljs-attribute">margin</span>: auto;&#125;</span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;&#123;&#123; url_for(&#x27;sqlal_show&#x27;) &#125;&#125;&quot;</span>&gt;</span>Flask-SQLAlchemy å®ä¾‹<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">hr</span>&gt;</span><span class="hljs-comment">&lt;!-- æ°´å¹³çº¿æ ‡ç­¾ --&gt;</span><br>    &#123;%- for message in get_flashed_messages() %&#125;<br>        &#123;&#123; message &#125;&#125;<br>    &#123;%- endfor %&#125;<br>    <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>å­¦ç”Ÿï¼š(<span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;&#123;&#123; url_for(&#x27;sqlal_new&#x27;) &#125;&#125;&quot;</span>&gt;</span>æ–°å¢<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>)<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">table</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">thead</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>å§“å<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>åŸå¸‚<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>åœ°å€<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>è®¤è¯ç <span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">thead</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">tbody</span>&gt;</span><br>        &#123;% for student in students %&#125;<br>            <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>&#123;&#123; student.name &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>&#123;&#123; student.city &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>&#123;&#123; student.address &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>&#123;&#123; student.pincode &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>        &#123;% endfor %&#125;<br>        <span class="hljs-tag">&lt;/<span class="hljs-name">tbody</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h1 id="4-å³æ’è§†å›¾"><a href="#4-å³æ’è§†å›¾" class="headerlink" title="4 å³æ’è§†å›¾"></a>4 å³æ’è§†å›¾</h1><ul><li>å³æ’è§†å›¾<ul><li>Pluggable Viewsï¼Œä¸€ç§å¤„ç†è¯·æ±‚çš„ç±»ï¼Œå¯ä»¥æ ¹æ®ä¸åŒçš„HTTPæ–¹æ³•æ¥æ‰§è¡Œä¸åŒçš„æ“ä½œã€‚</li><li>åŸºæœ¬åŸåˆ™<ul><li>è§†å›¾ç±»å¿…é¡»ç»§æ‰¿è‡ª<code>flask.views.View</code>æˆ–å…¶å­ç±»ï¼Œä¾‹å¦‚ï¼š<code>flask.views.MethodView</code>ã€‚</li><li>å¯å®šä¹‰å¤šä¸ªHTTPæ–¹æ³•(ä¾‹å¦‚ï¼šGETã€POSTã€PUTã€DELETEç­‰)æ¥å¤„ç†ä¸åŒç±»å‹çš„è¯·æ±‚ã€‚</li><li>è¯·æ±‚åˆ°è¾¾åº”ç”¨ç¨‹åºæ—¶ï¼ŒFlaskå°†ä½¿ç”¨URLè§„åˆ™åŒ¹é…å™¨æŸ¥æ‰¾ä¸è¯¥è¯·æ±‚URLç›¸å¯¹åº”çš„è§†å›¾å‡½æ•°ã€‚</li><li>å¦‚æœæ‰¾åˆ°åŒ¹é…çš„è§†å›¾å‡½æ•°ï¼Œåˆ›å»ºè¯¥è§†å›¾ç±»çš„å®ä¾‹ï¼Œå¹¶è°ƒç”¨è¯¥ç±»æ–¹æ³•(GETç­‰)æ¥å¤„ç†è¯·æ±‚ã€‚</li><li>æä¾›å¯é€‰è£…é¥°å™¨å’Œé’©å­å‡½æ•°ï¼Œä»¥ä¾¿åœ¨è°ƒç”¨è§†å›¾æ–¹æ³•å‰åæ‰§è¡Œä¾‹å¦‚æˆæƒéªŒè¯ã€æ—¥å¿—è®°å½•ç­‰æ“ä½œã€‚</li><li>è§†å›¾æ–¹æ³•åº”è¯¥è¿”å›ä¸€ä¸ªå“åº”å¯¹è±¡ï¼Œé€šå¸¸æ˜¯å“åº”å­—ç¬¦ä¸²ï¼Œæˆ–è€…æ¨¡æ¿æ¸²æŸ“ç»“æœï¼Œäº¦æˆ–æ˜¯JSONæ•°æ®ã€‚</li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask<br><span class="hljs-keyword">from</span> flask.views <span class="hljs-keyword">import</span> View<br><br>app = Flask(__name__)                           <span class="hljs-comment"># è®¿é—®[http://127.0.0.1:5000/hello]</span><br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">HelloWorld</span>(<span class="hljs-title class_ inherited__">View</span>):                         <span class="hljs-comment"># å®šä¹‰äº†HelloWorldç»§æ‰¿è‡ªViewçš„å³æ’è§†å›¾ç±»</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">dispatch_request</span>(<span class="hljs-params">self</span>):                 <span class="hljs-comment"># å®ç°dispatch_requestæ–¹æ³•ï¼Œå¤„ç†è§†å›¾æ¥æ”¶åˆ°çš„è¯·æ±‚</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&lt;center&gt;Hello, World!&lt;/center&gt;&#x27;</span><br><br><br><span class="hljs-comment"># ç”¨æˆ·è®¿é—®â€œ/helloâ€æ—¶åˆ›å»ºHelloWorldViewå®ä¾‹ï¼Œå¹¶è°ƒç”¨dispatch_requestæ–¹æ³•æ¥å“åº”è¯·æ±‚ï¼Œè¿”å›â€œHello, World!â€</span><br>app.add_url_rule(<span class="hljs-string">&#x27;/hello&#x27;</span>, view_func=HelloWorld.as_view(<span class="hljs-string">&#x27;Hello&#x27;</span>))<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    app.run(debug=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><h2 id="4-1-æ–¹æ³•è°ƒåº¦"><a href="#4-1-æ–¹æ³•è°ƒåº¦" class="headerlink" title="4-1 æ–¹æ³•è°ƒåº¦"></a>4-1 æ–¹æ³•è°ƒåº¦</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> flask.views <span class="hljs-keyword">import</span> MethodView<br><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask, request, jsonify<br><br>app = Flask(__name__)<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">HelloWorld</span>(<span class="hljs-title class_ inherited__">MethodView</span>):                   <span class="hljs-comment"># è®¿é—®[http://127.0.0.1:5000/hello]</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get</span>(<span class="hljs-params">self</span>):                              <span class="hljs-comment"># ç½‘é¡µè®¿é—®â€œ/helloâ€ï¼Œå“åº”GETè¯·æ±‚</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&lt;center&gt;GETè¯·æ±‚&lt;/center&gt;&#x27;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">post</span>(<span class="hljs-params">self</span>):                             <span class="hljs-comment"># åº”ç”¨ç¨‹åºå¯åŠ¨åï¼Œä½¿ç”¨JMeteræ¨¡æ‹Ÿå“åº”POSTè¯·æ±‚</span><br>        data = request.get_json()               <span class="hljs-comment"># æ­£ç¡®çš„JSONæ ¼å¼ï¼š&#123;&quot;name&quot;: &quot;John&quot;, &quot;surname&quot;: &quot;Doe&quot;&#125;</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-string">f&#x27;&lt;center&gt;POSTè¯·æ±‚è¿”å›çš„ç»“æœï¼š<span class="hljs-subst">&#123;data&#125;</span>ã€‚&lt;/center&gt;&#x27;</span><br>        <span class="hljs-comment"># return jsonify(data)                  # JSONæ•°æ®çš„æ‰€æœ‰å±æ€§åéƒ½å¿…é¡»ä½¿ç”¨åŒå¼•å·æ‹¬èµ·æ¥</span><br><br><br><span class="hljs-comment"># ä½¿ç”¨app.add_url_rule()æ–¹æ³•å°†HelloWorldç±»é™„åŠ åˆ°URLè§„åˆ™ä¸Šï¼Œå¹¶å°†as_view()æ–¹æ³•ä½œä¸ºè§†å›¾å‡½æ•°</span><br><span class="hljs-comment"># ä¸ºç‰¹å®šçš„HTTPè¯·æ±‚æ–¹æ³•æŒ‡å®šå¤„ç†å‡½æ•°ï¼Œå¯ä»¥ä½¿ç”¨methodså‚æ•°ï¼Œå‘é€POSTè¯·æ±‚æ—¶éœ€è®¾ç½®Content-Typeæ ‡å¤´</span><br>app.add_url_rule(<span class="hljs-string">&#x27;/hello&#x27;</span>, view_func=HelloWorld.as_view(<span class="hljs-string">&#x27;GET-Request&#x27;</span>), methods=[<span class="hljs-string">&#x27;GET&#x27;</span>])<br>app.add_url_rule(<span class="hljs-string">&#x27;/hello&#x27;</span>, view_func=HelloWorld.as_view(<span class="hljs-string">&#x27;POST-Request&#x27;</span>), methods=[<span class="hljs-string">&#x27;POST&#x27;</span>])<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:                      <span class="hljs-comment"># JMeteréœ€è®¾ç½®ä¿¡æ¯å¤´ç®¡ç†å™¨</span><br>    app.run(debug=<span class="hljs-literal">True</span>)                         <span class="hljs-comment"># Content-Typeä¸ºapplication/json; charset=UTF-8;</span><br></code></pre></td></tr></table></figure><h2 id="4-2-è£…é¥°è§†å›¾"><a href="#4-2-è£…é¥°è§†å›¾" class="headerlink" title="4-2 è£…é¥°è§†å›¾"></a>4-2 è£…é¥°è§†å›¾</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> functools <span class="hljs-keyword">import</span> wraps<br><span class="hljs-keyword">from</span> flask.views <span class="hljs-keyword">import</span> MethodView<br><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask, g, render_template, session, request, redirect<br><br>app = Flask(__name__)                           <span class="hljs-comment"># è®¿é—®[http://127.0.0.1:5000/declogin]</span><br><br>app.secret_key = <span class="hljs-string">b&#x27;flask decorating views&#x27;</span><br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">LoginView</span>(<span class="hljs-title class_ inherited__">MethodView</span>):                    <span class="hljs-comment"># LoginViewæ˜¯ç»§æ‰¿è‡ªMethodViewåŸºç±»çš„è§†å›¾ç±»</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get</span>(<span class="hljs-params">self</span>):                              <span class="hljs-comment"># è¯¥ç±»åŒ…å«äº†ä¸€ä¸ªget()æ–¹æ³•å’Œä¸€ä¸ªpost()æ–¹æ³•</span><br>        <span class="hljs-keyword">return</span> render_template(<span class="hljs-string">&#x27;declogin.html&#x27;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">post</span>(<span class="hljs-params">self</span>):<br>        username = request.form[<span class="hljs-string">&#x27;username&#x27;</span>]     <span class="hljs-comment"># è‹¥è¾“å…¥ç”¨æˆ·åadminï¼Œå¯†ç 12345ï¼Œåˆ™è·³è½¬dechello.html</span><br>        password = request.form[<span class="hljs-string">&#x27;password&#x27;</span>]     <span class="hljs-comment"># å¦åˆ™æ˜¾ç¤º&#x27;é”™è¯¯ï¼šæ— æ•ˆçš„ç”¨æˆ·åæˆ–å¯†ç ï¼&#x27;</span><br><br>        <span class="hljs-keyword">if</span> username == <span class="hljs-string">&#x27;admin&#x27;</span> <span class="hljs-keyword">and</span> password == <span class="hljs-string">&#x27;12345&#x27;</span>:<br>            g.user = &#123;<span class="hljs-string">&#x27;username&#x27;</span>: username&#125;<br>            session[<span class="hljs-string">&#x27;user&#x27;</span>] = g.user            <span class="hljs-comment"># é€šè¿‡éªŒè¯è®¾ç½®g.user</span><br>            <span class="hljs-keyword">return</span> redirect(<span class="hljs-string">&#x27;/dechello&#x27;</span>)        <span class="hljs-comment"># é‡å®šå‘åˆ°å—ä¿æŠ¤çš„é¡µé¢</span><br>        <span class="hljs-keyword">else</span>:<br>            error = <span class="hljs-string">&#x27;é”™è¯¯ï¼šæ— æ•ˆçš„ç”¨æˆ·åæˆ–å¯†ç ï¼&#x27;</span><br>            <span class="hljs-keyword">return</span> render_template(<span class="hljs-string">&#x27;declogin.html&#x27;</span>, error=error)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">login_required</span>(<span class="hljs-params">f</span>):                          <span class="hljs-comment"># login_requiredè£…é¥°å™¨å‡½æ•°æ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°</span><br><span class="hljs-meta">    @wraps(<span class="hljs-params">f</span>)                                   </span><span class="hljs-comment"># å¹¶è¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œè°ƒç”¨åŸå§‹å‡½æ•°ï¼Œç™»å½•æˆ–è¿”å›401</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">decorated_function</span>(<span class="hljs-params">*args, **kwargs</span>):    <span class="hljs-comment"># è‹¥æœªç™»å½•è¿›è¡Œè®¿é—®[http://127.0.0.1:5000/dechello]</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> session.get(<span class="hljs-string">&#x27;user&#x27;</span>):             <span class="hljs-comment"># åˆ™é¡µé¢å°†æ˜¾ç¤º&#x27;è¯·ç™»å½•åå†è¿›è¡Œè®¿é—®ï¼&#x27;</span><br>            <span class="hljs-keyword">return</span> unauthorized(<span class="hljs-string">&#x27;è¯·ç™»å½•åå†è¿›è¡Œè®¿é—®ï¼&#x27;</span>)<br>        <span class="hljs-keyword">else</span>:<br>            g.user = session[<span class="hljs-string">&#x27;user&#x27;</span>]<br>            <span class="hljs-keyword">return</span> f(*args, **kwargs)<br><br>    <span class="hljs-keyword">return</span> decorated_function<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">unauthorized</span>(<span class="hljs-params">message</span>):<br>    <span class="hljs-keyword">return</span> render_template(<span class="hljs-string">&#x27;decerror.html&#x27;</span>, message=message), <span class="hljs-number">401</span><br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">HelloView</span>(<span class="hljs-title class_ inherited__">MethodView</span>):<br>    decorators = [login_required]               <span class="hljs-comment"># å¼•ç”¨è£…é¥°å™¨å‡½æ•°</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get</span>(<span class="hljs-params">self</span>):<br>        message = <span class="hljs-string">&#x27;Hello, %s!&#x27;</span> % g.user[<span class="hljs-string">&#x27;username&#x27;</span>]<br>        <span class="hljs-keyword">return</span> render_template(<span class="hljs-string">&#x27;dechello.html&#x27;</span>, message=message)<br><br><br>app.add_url_rule(<span class="hljs-string">&#x27;/declogin&#x27;</span>, view_func=LoginView.as_view(<span class="hljs-string">&#x27;login&#x27;</span>))<br>app.add_url_rule(<span class="hljs-string">&#x27;/dechello&#x27;</span>, view_func=HelloView.as_view(<span class="hljs-string">&#x27;hello&#x27;</span>))<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    app.run(debug=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><h4 id="1-declogin-html"><a href="#1-declogin-html" class="headerlink" title="(1) declogin.html"></a>(1) declogin.html</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>ç™»å½•é¡µé¢<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-tag">body</span> &#123;<span class="hljs-attribute">text-align</span>: center;&#125;</span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>&#123;% if error %&#125;<br><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;&#123; error &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>&#123;% endif %&#125;<br><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;&#123;&#123; url_for(&#x27;login&#x27;) &#125;&#125;&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&#x27;post&#x27;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&#x27;username&#x27;</span>&gt;</span>ç”¨æˆ·åï¼š<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&#x27;text&#x27;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&#x27;username&#x27;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&#x27;username&#x27;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&#x27;password&#x27;</span>&gt;</span>å¯†<span class="hljs-symbol">&amp;emsp;</span>ç ï¼š<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&#x27;password&#x27;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&#x27;password&#x27;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&#x27;password&#x27;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&#x27;submit&#x27;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&#x27;æ<span class="hljs-symbol">&amp;emsp;</span>äº¤&#x27;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="2-dechello-html"><a href="#2-dechello-html" class="headerlink" title="(2) dechello.html"></a>(2) dechello.html</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>æ¬¢è¿é¦–é¡µ<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-tag">body</span> &#123;<span class="hljs-attribute">text-align</span>: center;&#125;</span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>&#123;&#123; message &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;&#123;&#123; url_for(&#x27;login&#x27;) &#125;&#125;&quot;</span>&gt;</span>é€€å‡ºç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="3-decerror-html"><a href="#3-decerror-html" class="headerlink" title="(3) decerror.html"></a>(3) decerror.html</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>é”™è¯¯é¡µé¢<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-tag">body</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">display</span>: flex;</span><br><span class="language-css">            <span class="hljs-attribute">justify-content</span>: center;</span><br><span class="language-css">            <span class="hljs-attribute">align-items</span>: center;</span><br><span class="language-css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">100vh</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">        <span class="hljs-selector-tag">h1</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">text-align</span>: center;</span><br><span class="language-css">            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">27px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">color</span>: <span class="hljs-number">#dc3545</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>&#123;&#123; message &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="4-3-APIçš„æ–¹æ³•è§†å›¾"><a href="#4-3-APIçš„æ–¹æ³•è§†å›¾" class="headerlink" title="4-3 APIçš„æ–¹æ³•è§†å›¾*"></a>4-3 APIçš„æ–¹æ³•è§†å›¾*</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> json<br><span class="hljs-keyword">from</span> flask.views <span class="hljs-keyword">import</span> MethodView<br><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask, request, render_template, redirect, url_for<br><br>app = Flask(__name__)<br>app.secret_key = <span class="hljs-string">&#x27;flask method view of api&#x27;</span><br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">UserAPI</span>(<span class="hljs-title class_ inherited__">MethodView</span>):                      <span class="hljs-comment"># GETæŸ¥è¯¢ã€POSTæ·»åŠ (æˆ–ç™»å½•)ã€PUTä¿®æ”¹ã€DELETEåˆ é™¤</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        self.load_users()<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">load_users</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;apidata.json&#x27;</span>, <span class="hljs-string">&#x27;r&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>            self.users = json.load(f)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">save_users</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;apidata.json&#x27;</span>, <span class="hljs-string">&#x27;w&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>            json.dump(self.users, f, indent=<span class="hljs-number">2</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get</span>(<span class="hljs-params">self, user_name=<span class="hljs-literal">None</span></span>):              <span class="hljs-comment"># æ ¹æ®user_nameæ¥è·å–ç”¨æˆ·çš„ä¿¡æ¯</span><br>        <span class="hljs-built_in">print</span>(request.method)<br>        <span class="hljs-keyword">if</span> user_name <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:                   <span class="hljs-comment"># è®¿é—®[http://127.0.0.1:5000/users/]</span><br>            user_all = [<br>                &#123;<span class="hljs-string">&#x27;id&#x27;</span>: user[<span class="hljs-string">&#x27;id&#x27;</span>], <span class="hljs-string">&#x27;name&#x27;</span>: user[<span class="hljs-string">&#x27;name&#x27;</span>], <span class="hljs-string">&#x27;age&#x27;</span>: user[<span class="hljs-string">&#x27;age&#x27;</span>], <span class="hljs-string">&#x27;email&#x27;</span>: user[<span class="hljs-string">&#x27;email&#x27;</span>]&#125; <br>                <span class="hljs-keyword">for</span> user <span class="hljs-keyword">in</span> self.users<br>            ]                                   <span class="hljs-comment"># å¦‚æœæ²¡æœ‰æä¾›user_nameï¼Œå°†å±•ç¤ºæ‰€æœ‰ç”¨æˆ·ä¿¡æ¯</span><br>            <span class="hljs-keyword">return</span> render_template(<span class="hljs-string">&#x27;apiusers.html&#x27;</span>, users=user_all)<br>        <span class="hljs-keyword">else</span>:                                   <span class="hljs-comment"># å¦‚æœæä¾›user_nameï¼Œåªæ˜¾ç¤ºè¯¥ç”¨æˆ·ä¿¡æ¯</span><br>            user_sigle = <span class="hljs-built_in">next</span>((user <span class="hljs-keyword">for</span> user <span class="hljs-keyword">in</span> self.users <span class="hljs-keyword">if</span> user[<span class="hljs-string">&#x27;name&#x27;</span>] == user_name), <span class="hljs-literal">None</span>)<br>            <span class="hljs-keyword">if</span> user_sigle <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:              <span class="hljs-comment"># ä¾‹å¦‚è®¿é—®[http://127.0.0.1:5000/users/Adam]</span><br>                <span class="hljs-keyword">return</span> render_template(<span class="hljs-string">&#x27;apiusers.html&#x27;</span>, message=<span class="hljs-string">&#x27;æ²¡æœ‰æ‰¾åˆ°ç”¨æˆ·ï¼Œè¯·å…ˆæ·»åŠ ç”¨æˆ·ï¼&#x27;</span>)<br>            <span class="hljs-keyword">return</span> render_template(<span class="hljs-string">&#x27;apiusers.html&#x27;</span>, users=[user_sigle])<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">post</span>(<span class="hljs-params">self</span>):                             <span class="hljs-comment"># æ·»åŠ æ–°çš„ç”¨æˆ·ä¿¡æ¯</span><br>        <span class="hljs-built_in">print</span>(request.method)<br>        next_id = <span class="hljs-built_in">max</span>(<span class="hljs-built_in">int</span>(user[<span class="hljs-string">&#x27;id&#x27;</span>]) <span class="hljs-keyword">for</span> user <span class="hljs-keyword">in</span> self.users) + <span class="hljs-number">1</span><br>        name = request.form.get(<span class="hljs-string">&#x27;name&#x27;</span>)<br>        age = request.form.get(<span class="hljs-string">&#x27;age&#x27;</span>)           <span class="hljs-comment"># æ·»åŠ ç”¨æˆ·ï¼Œè·³è½¬åˆ°[http://127.0.0.1:5000/users/add/]</span><br>        email = request.form.get(<span class="hljs-string">&#x27;email&#x27;</span>)<br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> name <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> age <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> email:<br>            <span class="hljs-keyword">return</span> render_template(<span class="hljs-string">&#x27;apiadds.html&#x27;</span>)<br>        new_user = &#123;<span class="hljs-string">&#x27;id&#x27;</span>: next_id, <span class="hljs-string">&#x27;name&#x27;</span>: name, <span class="hljs-string">&#x27;age&#x27;</span>: age, <span class="hljs-string">&#x27;email&#x27;</span>: email&#125;<br>        self.users.append(new_user)<br>        next_id += <span class="hljs-number">1</span><br>        self.save_users()                       <span class="hljs-comment"># å°†æ·»åŠ çš„ç”¨æˆ·ä¿¡æ¯å†™å…¥apidata.jsonä¸­</span><br>        <span class="hljs-keyword">return</span> redirect(url_for(<span class="hljs-string">&#x27;user_get&#x27;</span>))    <span class="hljs-comment"># é‡å®šå‘åˆ°ç”¨æˆ·åˆ—è¡¨é¡µé¢</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">put</span>(<span class="hljs-params">self, user_name=<span class="hljs-literal">None</span></span>):              <span class="hljs-comment"># æ›´æ–°æŒ‡å®šç”¨æˆ·çš„ä»£ç </span><br>        <span class="hljs-built_in">print</span>(request.method)                   <span class="hljs-comment"># è·¯ç”±æ— è®ºå¦‚ä½•å®šä¹‰éƒ½æ— æ³•è¯·æ±‚åˆ°è¯¥è¯·æ±‚ï¼ï¼ï¼</span><br>        users = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">filter</span>(<span class="hljs-keyword">lambda</span> user: user[<span class="hljs-string">&#x27;name&#x27;</span>] == user_name, self.users))<br>        user = users[<span class="hljs-number">0</span>]                         <span class="hljs-comment"># ä½¿ç”¨hidden inputä¼ é€’æ¨¡æ‹Ÿputè¯·æ±‚</span><br>        <span class="hljs-keyword">if</span> request.form.get(<span class="hljs-string">&#x27;_method&#x27;</span>) == <span class="hljs-string">&#x27;PUT&#x27;</span>: <br>            age = request.form.get(<span class="hljs-string">&#x27;age&#x27;</span>)<br>            email = request.form.get(<span class="hljs-string">&#x27;email&#x27;</span>)<br>            user[<span class="hljs-string">&#x27;age&#x27;</span>] = age                   <span class="hljs-comment"># æ›´æ–°ç”¨æˆ·ä¿¡æ¯</span><br>            user[<span class="hljs-string">&#x27;email&#x27;</span>] = email<br>            self.save_users()<br>            <span class="hljs-keyword">return</span> redirect(url_for(<span class="hljs-string">&#x27;user_get&#x27;</span>))<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">return</span> render_template(<span class="hljs-string">&#x27;apiedit.html&#x27;</span>, user_name=user_name)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">delete</span>(<span class="hljs-params">self, user_name=<span class="hljs-literal">None</span></span>):           <span class="hljs-comment"># åˆ é™¤æŒ‡å®šç”¨æˆ·çš„ä»£ç ï¼Œä¿®æ”¹ä¸åˆ é™¤åŠŸèƒ½æœªå®ç°ï¼</span><br>        <span class="hljs-keyword">pass</span><br>        <br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">register_api</span>(<span class="hljs-params">view, endpoint, url, pk=<span class="hljs-string">&#x27;name&#x27;</span>, pk_type=<span class="hljs-string">&#x27;string&#x27;</span></span>):<br>    view_func = view.as_view(endpoint)<br>    app.add_url_rule(url, view_func=view_func, methods=[<span class="hljs-string">&#x27;GET&#x27;</span>])<br>    app.add_url_rule(url, view_func=view_func, methods=[<span class="hljs-string">&#x27;POST&#x27;</span>])<br>    app.add_url_rule(<span class="hljs-string">&#x27;%s&lt;%s:%s&gt;&#x27;</span> % (url, pk_type, pk), view_func=view_func, methods=[<span class="hljs-string">&#x27;GET&#x27;</span>, <span class="hljs-string">&#x27;PUT&#x27;</span>])<br><br><br>register_api(UserAPI, <span class="hljs-string">&#x27;user_get&#x27;</span>, <span class="hljs-string">&#x27;/users/&#x27;</span>, pk=<span class="hljs-string">&#x27;user_name&#x27;</span>)<br>register_api(UserAPI, <span class="hljs-string">&#x27;user_post&#x27;</span>, <span class="hljs-string">&#x27;/users/add/&#x27;</span>)<br>register_api(UserAPI, <span class="hljs-string">&#x27;user_put&#x27;</span>, <span class="hljs-string">&#x27;/users/edit/&#x27;</span>, pk=<span class="hljs-string">&#x27;user_name&#x27;</span>)<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    app.run(debug=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><h4 id="1-apidata-json"><a href="#1-apidata-json" class="headerlink" title="(1) apidata.json"></a>(1) apidata.json</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs Json"><span class="hljs-punctuation">[</span><br>  <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Test&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;age&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">32</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;email&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Test@126.com&quot;</span><br>  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Mike&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;age&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">26</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;email&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Mike@example.com&quot;</span><br>  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Adminstator&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;age&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;27&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;email&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Adminstator@qq.com&quot;</span><br>  <span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">]</span><br></code></pre></td></tr></table></figure><h4 id="2-apiadds-html"><a href="#2-apiadds-html" class="headerlink" title="(2) apiadds.html"></a>(2) apiadds.html</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>æ·»åŠ ç”¨æˆ·<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align: center;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>æ·»åŠ ç”¨æˆ·ä¿¡æ¯<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;post&quot;</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;&#123;&#123; url_for(&#x27;user_post&#x27;) &#125;&#125;&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;name&quot;</span>&gt;</span>å§“å<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;name&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;age&quot;</span>&gt;</span>å¹´é¾„<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;age&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;email&quot;</span>&gt;</span>é‚®ç®±<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;email&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;return check()&quot;</span>&gt;</span>æäº¤<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">check</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">var</span> name = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementsByName</span>(<span class="hljs-string">&#x27;name&#x27;</span>)[<span class="hljs-number">0</span>].<span class="hljs-property">value</span>;</span><br><span class="language-javascript">            <span class="hljs-keyword">var</span> age = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementsByName</span>(<span class="hljs-string">&#x27;age&#x27;</span>)[<span class="hljs-number">0</span>].<span class="hljs-property">value</span>;</span><br><span class="language-javascript">            <span class="hljs-keyword">var</span> email = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementsByName</span>(<span class="hljs-string">&#x27;email&#x27;</span>)[<span class="hljs-number">0</span>].<span class="hljs-property">value</span>;</span><br><span class="language-javascript">            <span class="hljs-keyword">if</span> (name === <span class="hljs-string">&#x27;&#x27;</span> || age === <span class="hljs-string">&#x27;&#x27;</span> || email === <span class="hljs-string">&#x27;&#x27;</span>) &#123;</span><br><span class="language-javascript">                <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;è¯·å…ˆæŠŠä¿¡æ¯å¡«å†™å®Œæ•´ï¼Œå†è¿›è¡Œæäº¤ï¼&#x27;</span>);</span><br><span class="language-javascript">                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;          <span class="hljs-comment">// é˜²æ­¢è¡¨å•æäº¤</span></span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="3-apiedit-html"><a href="#3-apiedit-html" class="headerlink" title="(3) apiedit.html"></a>(3) apiedit.html</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>ä¿®æ”¹ç”¨æˆ·<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align: center;&quot;</span>&gt;</span><br>    &#123;% for user in users %&#125;<br>        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>ä¿®æ”¹ç”¨æˆ·â€œ&#123;&#123; user.name &#125;&#125;â€ä¿¡æ¯<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;&#123;&#123; url_for(&#x27;user_put&#x27;, user_name=user.name) &#125;&#125;&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;POST&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;hidden&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;_method&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;PUT&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;age&quot;</span>&gt;</span>å¹´é¾„<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;age&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&#123;&#123; user.age &#125;&#125;&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;email&quot;</span>&gt;</span>é‚®ç®±<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;email&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&#123;&#123; user.email &#125;&#125;&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;ä¿å­˜&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn btn-primary&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">formaction</span>=<span class="hljs-string">&quot;&#123;&#123; url_for(&#x27;user_get&#x27;) &#125;&#125;&quot;</span>&gt;</span><br>                    å–æ¶ˆ<br>                <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br>    &#123;% endfor %&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="4-apiusers-html"><a href="#4-apiusers-html" class="headerlink" title="(4) apiusers.html"></a>(4) apiusers.html</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>ç”¨æˆ·ä¿¡æ¯<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>&#123;&#123; message &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-tag">table</span> &#123;<span class="hljs-attribute">margin</span>: auto; <span class="hljs-attribute">border-collapse</span>: collapse;&#125;</span><br><span class="language-css">        <span class="hljs-selector-tag">tr</span><span class="hljs-selector-pseudo">:hover</span> &#123;<span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f5f5f5</span>;&#125;</span><br><span class="language-css">        <span class="hljs-selector-tag">td</span>, <span class="hljs-selector-tag">th</span> &#123;<span class="hljs-attribute">padding</span>: <span class="hljs-number">8px</span>; <span class="hljs-attribute">text-align</span>: left;&#125;</span><br><span class="language-css">        <span class="hljs-selector-tag">th</span> &#123;<span class="hljs-attribute">background-color</span>: <span class="hljs-number">#333</span>; <span class="hljs-attribute">color</span>: <span class="hljs-number">#fff</span>; <span class="hljs-attribute">text-align</span>: center;&#125;</span><br><span class="language-css">        <span class="hljs-selector-tag">td</span> &#123;<span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#ddd</span>;&#125;</span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align: center;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">table</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>è¯†åˆ«ç <span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>å§“å<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>å¹´é¾„<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>é‚®ç®±<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>æ“ä½œ<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>        &#123;% for user in users %&#125;<br>        <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>&#123;&#123; user.id &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>&#123;&#123; user.name &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>&#123;&#123; user.age &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>&#123;&#123; user.email &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;&#123;&#123; url_for(&#x27;user_put&#x27;, user_name=user.name) &#125;&#125;&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;POST&quot;</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;hidden&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;_method&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;PUT&quot;</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn btn-primary&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span>&gt;</span>ä¿®æ”¹<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>                <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>        &#123;% endfor %&#125;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;post&quot;</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;&#123;&#123; url_for(&#x27;user_post&#x27;) &#125;&#125;&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn btn-primary&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span>&gt;</span>æ·»åŠ ç”¨æˆ·<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h1 id="5-ä¸Šä¸‹æ–‡ä½œç”¨åŸŸ"><a href="#5-ä¸Šä¸‹æ–‡ä½œç”¨åŸŸ" class="headerlink" title="5 ä¸Šä¸‹æ–‡ä½œç”¨åŸŸ"></a>5 ä¸Šä¸‹æ–‡ä½œç”¨åŸŸ</h1><ul><li>ä¸Šä¸‹æ–‡ä½œç”¨åŸŸ<ul><li>åº”ç”¨ä¸Šä¸‹æ–‡ï¼ŒApplication Contextã€‚<ul><li>æ˜¯æ•´ä¸ªFlaskåº”ç”¨çš„ä¸Šä¸‹æ–‡ç¯å¢ƒï¼Œç”¨äºåœ¨ä¸åŒçš„çº¿ç¨‹ä¸­å…±äº«Flaskçš„åº”ç”¨å®ä¾‹ã€‚</li><li>ä½¿ç”¨<code>app.app_context()</code>æ˜¾å¼åˆ›å»ºï¼Œä¹Ÿå¯é€šè¿‡Flaskçš„æ–¹æ³•å’Œå‡½æ•°éšå¼åˆ›å»ºã€‚</li></ul></li><li>è¯·æ±‚ä¸Šä¸‹æ–‡ï¼ŒRequest Contextã€‚<ul><li>æ˜¯åœ¨æ¯ä¸ªHTTPè¯·æ±‚ä¸­åˆ›å»ºçš„ä¸Šä¸‹æ–‡ï¼ŒåŒ…å«äº†å½“å‰è¯·æ±‚åŠå…¶ç›¸å…³ä¿¡æ¯ã€‚</li><li>åœ¨å¤„ç†è¯·æ±‚çš„è¿‡ç¨‹ä¸­ï¼Œå°†åˆ›å»ºä¸€ä¸ªè¯·æ±‚ä¸Šä¸‹æ–‡ï¼Œç„¶åå°†è¯·æ±‚å¯¹è±¡å­˜å‚¨åœ¨å…¨å±€å˜é‡requestä¸­ã€‚</li><li>å¯ä»¥è®¿é—®åˆ°è¯·æ±‚å¯¹è±¡ã€ä¼šè¯å¯¹è±¡å’Œå…¶ä»–å·¥å…·å‡½æ•°ï¼Œä¾‹å¦‚ï¼š<code>url_for</code>ã€<code>render_template</code>ç­‰ã€‚</li></ul></li><li>æµ‹è¯•ä¸Šä¸‹æ–‡ï¼ŒTest Contextã€‚<ul><li>æ˜¯åœ¨Flaskè¿›è¡Œå•å…ƒæµ‹è¯•æ—¶ä½¿ç”¨çš„ä¸Šä¸‹æ–‡ç¯å¢ƒã€‚</li><li>å¯ä½¿ç”¨<code>app.test_request_context()</code>æ˜¾å¼åˆ›å»ºï¼Œä¹Ÿå¯ä½¿ç”¨FlaskClientç±»éšå¼åˆ›å»ºã€‚</li><li>å¯ä»¥è®¿é—®åˆ°Flaskçš„åº”ç”¨å®ä¾‹ã€è¯·æ±‚å¯¹è±¡å’Œå“åº”å¯¹è±¡ï¼Œä»è€Œè¿›è¡Œé’ˆå¯¹Flaskåº”ç”¨çš„æµ‹è¯•ã€‚</li><li>è¿˜å¯ä»¥è®¿é—®Flaskæä¾›çš„æµ‹è¯•å·¥å…·å‡½æ•°ï¼Œä¾‹å¦‚ï¼š<code>jsonify</code>ã€<code>make_response</code>ç­‰ã€‚</li></ul></li></ul></li></ul><h2 id="5-1-åº”ç”¨ä¸Šä¸‹æ–‡"><a href="#5-1-åº”ç”¨ä¸Šä¸‹æ–‡" class="headerlink" title="5-1 åº”ç”¨ä¸Šä¸‹æ–‡"></a>5-1 åº”ç”¨ä¸Šä¸‹æ–‡</h2><ul><li>åº”ç”¨ä¸Šä¸‹æ–‡<ul><li>éšå¼åˆ›å»ºï¼Œé€‚ç”¨äºå¤§å¤šæƒ…å†µã€‚<ul><li>é»˜è®¤çš„åˆ›å»ºæ–¹å¼ï¼Œè¿è¡Œåº”ç”¨æ—¶æ¯ä¸ªè¯·æ±‚éƒ½ä¼šéšå¼åœ°åˆ›å»ºåº”ç”¨ä¸Šä¸‹æ–‡ã€‚</li><li>æ–¹ä¾¿ä½¿ç”¨ï¼Œä¸éœ€è¦é¢å¤–çš„ä»£ç å°±å¯ä»¥åœ¨Flaskä¸­è®¿é—®gå¯¹è±¡æ¥å…±äº«æ•°æ®ã€‚</li></ul></li><li>æ˜¾å¼åˆ›å»ºï¼Œé€‚ç”¨äºç‰¹æ®Šåœºæ™¯ã€‚<ul><li>éœ€è¦æ‰‹åŠ¨åˆ›å»ºåº”ç”¨ä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œä½¿ç”¨æ›´åŠ çµæ´»ï¼Œå¯ä»¥åœ¨è¯·æ±‚ä¹‹å¤–çš„åœ°æ–¹ä½¿ç”¨åº”ç”¨ä¸Šä¸‹æ–‡å¯¹è±¡ã€‚</li><li>ä¾‹å¦‚æµ‹è¯•Flaskåº”ç”¨æ—¶ï¼Œå¯èƒ½éœ€è¦æ˜¾å¼åˆ›å»ºåº”ç”¨ä¸Šä¸‹æ–‡æ¥æµ‹è¯•åº”ç”¨ä¸­çš„æŸéƒ¨åˆ†ï¼Œä»¥ç¡®ä¿æ­£ç¡®æ€§ã€‚</li></ul></li></ul></li></ul><h4 id="1-éšå¼åˆ›å»º"><a href="#1-éšå¼åˆ›å»º" class="headerlink" title="(1) éšå¼åˆ›å»º"></a>(1) éšå¼åˆ›å»º</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask, g, current_app         <span class="hljs-comment"># ä½¿ç”¨gå¯¹è±¡æ¥å­˜å‚¨å’Œå…±äº«åº”ç”¨ä¸Šä¸‹æ–‡ä¸­çš„æ•°æ®</span><br><br>app = Flask(__name__)<br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/&#x27;</span></span>)                                 </span><span class="hljs-comment"># è®¿é—®[127.0.0.1:5000]</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">index</span>():                                    <span class="hljs-comment"># å®šä¹‰ä¸€ä¸ªè·¯ç”±å‡½æ•°index</span><br>    app_name = current_app.name                 <span class="hljs-comment"># åœ¨è§†å›¾å‡½æ•°ä¸­è·å–åº”ç”¨ä¸Šä¸‹æ–‡çš„å±æ€§</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;åº”ç”¨åï¼š&quot;</span>, app_name)<br><br>    g.username = <span class="hljs-string">&#x27;administrator&#x27;</span>                <span class="hljs-comment"># è®¿é—®æ ¹è·¯å¾„æ—¶ä½¿ç”¨gå¯¹è±¡å°†ç”¨æˆ·åå­˜å‚¨åœ¨åº”ç”¨ä¸Šä¸‹æ–‡ä¸­</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ç”¨æˆ·åï¼š&quot;</span>, g.username)<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&lt;center&gt;Hello, Flask!&lt;/center&gt;&#x27;</span><br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:                      <span class="hljs-comment"># è¿”å›å“åº”åï¼Œåº”ç”¨ä¸Šä¸‹æ–‡å°†è¢«å¼¹å‡º</span><br>    app.run(debug=<span class="hljs-literal">True</span>)                         <span class="hljs-comment"># ç¡®ä¿æ¯ä¸ªè¯·æ±‚ä¹‹é—´çš„æ•°æ®éš”ç¦»</span><br></code></pre></td></tr></table></figure><h4 id="2-æ˜¾å¼åˆ›å»º"><a href="#2-æ˜¾å¼åˆ›å»º" class="headerlink" title="(2) æ˜¾å¼åˆ›å»º"></a>(2) æ˜¾å¼åˆ›å»º</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask, g<br><br>app = Flask(__name__)<br><br><span class="hljs-keyword">with</span> app.app_context():                         <span class="hljs-comment"># é€šè¿‡ä½¿ç”¨ä¸Šä¸‹æ–‡ç®¡ç†å™¨æ¥æ˜¾å¼åˆ›å»ºFlaskåº”ç”¨ä¸Šä¸‹æ–‡</span><br>    g.my_variable = <span class="hljs-literal">None</span>                        <span class="hljs-comment"># è®¾ç½®å…¨å±€å˜é‡é»˜è®¤å€¼ï¼Œå°†å…¶ä¼ é€’åˆ°è·¯ç”±å¤„ç†å‡½æ•°ä¸­</span><br><br><span class="hljs-meta">    @app.before_request</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">set_my_variable</span>():<br>        g.my_variable = <span class="hljs-string">&#x27;Hello, Flask!&#x27;</span>         <span class="hljs-comment"># æ‰§è¡Œè·¯ç”±å¤„ç†å‡½æ•°å‰ï¼Œè®¾ç½®g.my_variableå˜é‡</span><br><br><span class="hljs-meta">    @app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/&#x27;</span>, methods=[<span class="hljs-string">&#x27;GET&#x27;</span>]</span>)            </span><span class="hljs-comment"># è®¿é—®[127.0.0.1:5000]</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_my_variable</span>():<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">f&#x27;&lt;center&gt;<span class="hljs-subst">&#123;g.my_variable&#125;</span>&lt;/center&gt;&#x27;</span><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:                      <span class="hljs-comment"># å‘½ä»¤å‡½æ•°ç»“æŸåï¼Œåº”ç”¨ä¸Šä¸‹æ–‡å°†è¢«å¼¹å‡º</span><br>    app.run(debug=<span class="hljs-literal">True</span>)                         <span class="hljs-comment"># ç¡®ä¿æ¯ä¸ªå‘½ä»¤ä¹‹é—´çš„æ•°æ®éš”ç¦»</span><br></code></pre></td></tr></table></figure><h2 id="5-2-è¯·æ±‚ä¸Šä¸‹æ–‡"><a href="#5-2-è¯·æ±‚ä¸Šä¸‹æ–‡" class="headerlink" title="5-2 è¯·æ±‚ä¸Šä¸‹æ–‡"></a>5-2 è¯·æ±‚ä¸Šä¸‹æ–‡</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask, request<br><br>app = Flask(__name__)<br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/&#x27;</span></span>)                                 </span><span class="hljs-comment"># è®¿é—®[127.0.0.1:5000]</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">index</span>():                                    <span class="hljs-comment"># åªåœ¨è¯·æ±‚å¤„ç†å‡½æ•°ä¸­æ‰èƒ½ä½¿ç”¨requestå¯¹è±¡ï¼Œå¦åˆ™æŠ›å‡ºå¼‚å¸¸</span><br>    url = request.url                           <span class="hljs-comment"># è·å–å½“å‰è¯·æ±‚URL</span><br>    path = request.path                         <span class="hljs-comment"># è·å–å½“å‰è¯·æ±‚è·¯å¾„ï¼Œrequestå¯¹è±¡æ˜¯Flaskçš„å…¨å±€å˜é‡</span><br>    method = request.method                     <span class="hljs-comment"># è·å–å½“å‰è¯·æ±‚æ–¹æ³•</span><br>    headers = request.headers                   <span class="hljs-comment"># è·å–å½“å‰è¯·æ±‚å¤´éƒ¨ä¿¡æ¯</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-string">f&#x27;&lt;div style=&quot;text-align:center;&quot;&gt;&#x27;</span> \<br>           <span class="hljs-string">f&#x27;&lt;p&gt;Request Path: <span class="hljs-subst">&#123;path&#125;</span>&lt;/p&gt;&lt;p&gt;Request Method: <span class="hljs-subst">&#123;method&#125;</span>&lt;/p&gt;&#x27;</span> \<br>           <span class="hljs-string">f&#x27;&lt;p&gt;Request URL: <span class="hljs-subst">&#123;url&#125;</span>&lt;/p&gt;&lt;p&gt;Request Headers: <span class="hljs-subst">&#123;headers&#125;</span>&lt;/p&gt;&lt;/div&gt;&#x27;</span><br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    app.run(debug=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><h4 id="1-å›è°ƒå‡½æ•°"><a href="#1-å›è°ƒå‡½æ•°" class="headerlink" title="(1) å›è°ƒå‡½æ•°"></a>(1) å›è°ƒå‡½æ•°</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask, request<br><br>app = Flask(__name__)<br><br><br><span class="hljs-meta">@app.before_request                             </span><span class="hljs-comment"># åœ¨æ¯ä¸ªè¯·æ±‚å¤„ç†ä¹‹å‰æ‰§è¡Œçš„å›è°ƒå‡½æ•°</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">before_request</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27; * è¯·æ±‚å¤„ç†å‰---æ‰§è¡Œ&#x27;</span>)<br><br><br><span class="hljs-meta">@app.after_request                              </span><span class="hljs-comment"># åœ¨æ¯ä¸ªè¯·æ±‚å¤„ç†ä¹‹åæ‰§è¡Œçš„å›è°ƒå‡½æ•°</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">after_request</span>(<span class="hljs-params">response</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27; * è¯·æ±‚å¤„ç†å---æ‰§è¡Œ&#x27;</span>)<br>    <span class="hljs-keyword">return</span> response<br><br><br><span class="hljs-meta">@app.teardown_request                           </span><span class="hljs-comment"># åœ¨æ¯ä¸ªè¯·æ±‚å¤„ç†å®Œæˆå¹¶å“åº”å®¢æˆ·ç«¯åæ‰§è¡Œçš„å›è°ƒå‡½æ•°</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">teardown_request</span>(<span class="hljs-params">exc</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27; * è¯·æ±‚å¤„ç†å®Œæˆå¹¶å“åº”å®¢æˆ·ç«¯å---æ‰§è¡Œ&#x27;</span>)<br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/&#x27;</span></span>)                                 </span><span class="hljs-comment"># è®¿é—®[127.0.0.1:5000]</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">index</span>():                                    <span class="hljs-comment"># åªåœ¨è¯·æ±‚å¤„ç†å‡½æ•°ä¸­æ‰èƒ½ä½¿ç”¨requestå¯¹è±¡ï¼Œå¦åˆ™æŠ›å‡ºå¼‚å¸¸</span><br>    url = request.url                           <span class="hljs-comment"># è·å–å½“å‰è¯·æ±‚URL</span><br>    method = request.method                     <span class="hljs-comment"># è·å–å½“å‰è¯·æ±‚æ–¹æ³•</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-string">f&#x27;&lt;div style=&quot;text-align:center;&quot;&gt;&#x27;</span> \<br>           <span class="hljs-string">f&#x27;&lt;p&gt;Request Method: <span class="hljs-subst">&#123;method&#125;</span>&lt;/p&gt;&lt;p&gt;Request URL: <span class="hljs-subst">&#123;url&#125;</span>&lt;/p&gt;&lt;/div&gt;&#x27;</span><br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    app.run(debug=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><h4 id="2-é”™è¯¯å¤„ç†"><a href="#2-é”™è¯¯å¤„ç†" class="headerlink" title="(2) é”™è¯¯å¤„ç†"></a>(2) é”™è¯¯å¤„ç†</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask, request<br><br>app = Flask(__name__)<br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/&#x27;</span></span>)                                 </span><span class="hljs-comment"># è®¿é—®[127.0.0.1:5000]</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">index</span>():<br>    name = request.form.get(<span class="hljs-string">&#x27;name&#x27;</span>)             <span class="hljs-comment"># å®šä¹‰ä¸€ä¸ªè·¯ç”±ï¼Œè·å–è¡¨å•ä¸­çš„åå­—</span><br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> name:                                <span class="hljs-comment"># åå­—ä¸ºç©ºæ—¶ä½¿ç”¨ValueErroræŠ›å‡ºå¼‚å¸¸</span><br>        <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">&#x27;Name is required.&#x27;</span>)<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">f&#x27;&lt;center&gt;Message: Hello, <span class="hljs-subst">&#123;name&#125;</span>!&lt;/center&gt;&#x27;</span><br><br><br><span class="hljs-meta">@app.errorhandler(<span class="hljs-params">ValueError</span>)                   </span><span class="hljs-comment"># è§¦å‘é”™è¯¯å¤„ç†æœºåˆ¶ï¼Œè°ƒç”¨page_not_found</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">page_not_found</span>(<span class="hljs-params">error</span>):                      <span class="hljs-comment"># 404é”™è¯¯ï¼Œå±äºé¡µé¢é”™è¯¯</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-string">f&#x27;&lt;center&gt;Error: <span class="hljs-subst">&#123;<span class="hljs-built_in">str</span>(error)&#125;</span>&lt;/center&gt;&#x27;</span><br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    app.run(debug=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><h4 id="3-å…¨å±€é”™è¯¯"><a href="#3-å…¨å±€é”™è¯¯" class="headerlink" title="(3) å…¨å±€é”™è¯¯"></a>(3) å…¨å±€é”™è¯¯</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask<br><br>app = Flask(__name__)<br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/&#x27;</span></span>)                                 </span><span class="hljs-comment"># è®¿é—®[127.0.0.1:5000]</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">index</span>():<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">f&#x27;&lt;center&gt;Hello, Flask!&lt;/center&gt;&#x27;</span><br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/divide/&lt;int:num&gt;&#x27;</span></span>)                 </span><span class="hljs-comment"># è®¿é—®[http://127.0.0.1:5000/divide/0]</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">divide</span>(<span class="hljs-params">num</span>):                                <span class="hljs-comment"># è‹¥ä¼ é€’numä¸º0ï¼ŒæŠ›å‡ºå¼‚å¸¸</span><br>    result = <span class="hljs-number">100</span> / num                          <span class="hljs-comment"># å°†è¢«Flaskå…¨å±€é”™è¯¯å¤„ç†æ•è·</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-string">f&#x27;&lt;center&gt;Result: <span class="hljs-subst">&#123;result&#125;</span>.&lt;/center&gt;&#x27;</span><br><br><br><span class="hljs-meta">@app.errorhandler(<span class="hljs-params">Exception</span>)                    </span><span class="hljs-comment"># æ•è·åˆ°å¼‚å¸¸ï¼Œè°ƒç”¨handle_exception</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">handle_exception</span>(<span class="hljs-params">e</span>):                        <span class="hljs-comment"># 500é¡µé¢é”™è¯¯ï¼ŒInternal server error</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-string">f&#x27;&lt;center&gt;An error occurred: <span class="hljs-subst">&#123;<span class="hljs-built_in">str</span>(e)&#125;</span>&lt;/center&gt;&#x27;</span><br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    app.run(debug=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><h4 id="4-å¼‚å¸¸å¤„ç†"><a href="#4-å¼‚å¸¸å¤„ç†" class="headerlink" title="(4) å¼‚å¸¸å¤„ç†"></a>(4) å¼‚å¸¸å¤„ç†</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask, request<br><br>app = Flask(__name__)<br>app.config[<span class="hljs-string">&#x27;DEBUG&#x27;</span>] = <span class="hljs-literal">True</span><br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/&#x27;</span></span>)                                 </span><span class="hljs-comment"># è®¿é—®[127.0.0.1:5000]</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">index</span>():                                    <span class="hljs-comment"># è¯·æ±‚æ²¡æœ‰ä¼ é€’nameå‚æ•°ï¼ŒæŠ›å‡ºValueError</span><br>    name = request.form.get(<span class="hljs-string">&#x27;name&#x27;</span>)<br>    <span class="hljs-keyword">try</span>:                                        <span class="hljs-comment"># ä½¿ç”¨try...exceptè¯­å¥å¤„ç†å¼‚å¸¸</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> name:                            <span class="hljs-comment"># ä½¿ç”¨raiseè¯­å¥æ‰‹åŠ¨è§¦å‘ValueErrorå¼‚å¸¸</span><br>            <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">&#x27;Name is missing.&#x27;</span>)<br>    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:<br>        app.logger.error(<span class="hljs-string">f&#x27;Error handling request: <span class="hljs-subst">&#123;e&#125;</span>&#x27;</span>)<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">f&#x27;&lt;center&gt;Error: <span class="hljs-subst">&#123;<span class="hljs-built_in">str</span>(e)&#125;</span>&lt;/center&gt;&#x27;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-string">f&#x27;&lt;center&gt;Message: Hello, <span class="hljs-subst">&#123;name&#125;</span>!&lt;/center&gt;&#x27;</span><br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/bye&#x27;</span></span>)                              </span><span class="hljs-comment"># æ‰‹åŠ¨æŠ›å‡ºä¸€ä¸ªExceptionå¼‚å¸¸</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">bye</span>():                                      <span class="hljs-comment"># è®¿é—®[127.0.0.1:5000/bye]</span><br>    <span class="hljs-keyword">try</span>:<br>        <span class="hljs-keyword">raise</span> Exception(<span class="hljs-string">&#x27;Oops, Something went wrong.&#x27;</span>)<br>    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:<br>        app.logger.error(<span class="hljs-string">f&#x27;Error handling request: <span class="hljs-subst">&#123;e&#125;</span>&#x27;</span>)<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">f&#x27;&lt;center&gt;Error: <span class="hljs-subst">&#123;<span class="hljs-built_in">str</span>(e)&#125;</span>&lt;/center&gt;&#x27;</span><br><br><br><span class="hljs-meta">@app.before_request                             </span><span class="hljs-comment"># åœ¨è¯·æ±‚åˆ°è¾¾åº”ç”¨ä¹‹å‰ï¼Œè®°å½•è¯·æ±‚æ—¥å¿—</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">before_request</span>():<br>    app.logger.info(<span class="hljs-string">f&#x27;Request received: <span class="hljs-subst">&#123;request.method&#125;</span> <span class="hljs-subst">&#123;request.url&#125;</span>&#x27;</span>)<br><br><br><span class="hljs-meta">@app.after_request                              </span><span class="hljs-comment"># åº”ç”¨å‘é€å›ç­”ä¹‹å‰ï¼Œè®°å½•HTTPå“åº”ä»£ç </span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">after_request</span>(<span class="hljs-params">response</span>):<br>    app.logger.info(<span class="hljs-string">f&#x27;Response sent: <span class="hljs-subst">&#123;response.status_code&#125;</span>&#x27;</span>)<br>    <span class="hljs-keyword">return</span> response<br><br><br><span class="hljs-meta">@app.teardown_request                           </span><span class="hljs-comment"># è¯·æ±‚çš„æœ€åé˜¶æ®µï¼Œè®°å½•è¯·æ±‚ç»“æŸå¹¶æ‰“å°é”™è¯¯ä¿¡æ¯</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">teardown_request</span>(<span class="hljs-params">exception</span>):<br>    <span class="hljs-keyword">if</span> exception:<br>        app.logger.error(<span class="hljs-string">f&#x27;Error processing request: <span class="hljs-subst">&#123;exception&#125;</span>&#x27;</span>)<br>    <span class="hljs-keyword">else</span>:<br>        app.logger.info(<span class="hljs-string">&#x27;Request processing finished&#x27;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    app.run(debug=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><h4 id="5-æ—¥å¿—è®°å½•"><a href="#5-æ—¥å¿—è®°å½•" class="headerlink" title="(5) æ—¥å¿—è®°å½•"></a>(5) æ—¥å¿—è®°å½•</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask, request<br><br>app = Flask(__name__)<br>app.config[<span class="hljs-string">&#x27;DEBUG&#x27;</span>] = <span class="hljs-literal">True</span>                      <span class="hljs-comment"># å¼€å¯DEBUGæ¨¡å¼</span><br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/&#x27;</span></span>)                                 </span><span class="hljs-comment"># è®¿é—®[127.0.0.1:5000]</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">index</span>():                                    <span class="hljs-comment"># app.loggerè®°å½•è¯·æ±‚å’Œåº”ç”¨ç¨‹åºçŠ¶æ€</span><br>    app.logger.info(<span class="hljs-string">&#x27;Welcome request successful&#x27;</span>)<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">f&#x27;&lt;center&gt;Message: Welcome to the Flask API!&lt;/center&gt;&#x27;</span><br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/bye&#x27;</span></span>)                              </span><span class="hljs-comment"># è®¿é—®[127.0.0.1:5000/bye]</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">bye</span>():<br>    name = request.args.get(<span class="hljs-string">&#x27;name&#x27;</span>)<br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> name:<br>        app.logger.error(<span class="hljs-string">&#x27;Name is missing in request&#x27;</span>)<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">f&#x27;&lt;center&gt;Error: Name is missing.&lt;/center&gt;&#x27;</span><br>    app.logger.info(<span class="hljs-string">f&#x27;Hello request successful for name <span class="hljs-subst">&#123;name&#125;</span>&#x27;</span>)<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">f&#x27;&lt;center&gt;Message: Hello, <span class="hljs-subst">&#123;name&#125;</span>!&lt;center&gt;&#x27;</span><br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    app.run(debug=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><h4 id="6-é”€æ¯å›è°ƒ"><a href="#6-é”€æ¯å›è°ƒ" class="headerlink" title="(6) é”€æ¯å›è°ƒ"></a>(6) é”€æ¯å›è°ƒ</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask, request<br><br>app = Flask(__name__)<br>app.config[<span class="hljs-string">&#x27;DEBUG&#x27;</span>] = <span class="hljs-literal">True</span><br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/&#x27;</span>, methods=[<span class="hljs-string">&#x27;GET&#x27;</span>, <span class="hljs-string">&#x27;POST&#x27;</span>]</span>)        </span><span class="hljs-comment"># è®¿é—®[127.0.0.1:5000]</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">index</span>():<br>    <span class="hljs-keyword">if</span> request.method == <span class="hljs-string">&#x27;GET&#x27;</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">            &lt;form method=&quot;post&quot; style=&#x27;text-align: center;&#x27;&gt;</span><br><span class="hljs-string">                &lt;label for=&quot;name&quot;&gt;è¾“å…¥å§“å&lt;/label&gt;</span><br><span class="hljs-string">                &lt;input type=&quot;text&quot; id=&quot;name&quot; name=&quot;name&quot;&gt;</span><br><span class="hljs-string">                &lt;button type=&quot;submit&quot;&gt;æäº¤&lt;/button&gt;</span><br><span class="hljs-string">            &lt;/form&gt;</span><br><span class="hljs-string">            &#x27;&#x27;&#x27;</span><br>    <span class="hljs-keyword">elif</span> request.method == <span class="hljs-string">&#x27;POST&#x27;</span>:<br>        name = request.form.get(<span class="hljs-string">&#x27;name&#x27;</span>)<br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> name:<br>            <span class="hljs-keyword">return</span> <span class="hljs-string">f&#x27;&lt;center&gt;Error: Name is missing.&lt;/center&gt;&#x27;</span><br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">return</span> <span class="hljs-string">f&#x27;&lt;center&gt;Message: Hello, <span class="hljs-subst">&#123;name&#125;</span>!&lt;/center&gt;&#x27;</span><br><br><br><span class="hljs-meta">@app.before_request</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">before_request</span>():<br>    app.logger.info(<span class="hljs-string">f&#x27;Request received: <span class="hljs-subst">&#123;request.method&#125;</span> <span class="hljs-subst">&#123;request.url&#125;</span>&#x27;</span>)<br><br><br><span class="hljs-meta">@app.after_request</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">after_request</span>(<span class="hljs-params">response</span>):<br>    app.logger.info(<span class="hljs-string">f&#x27;Response sent: <span class="hljs-subst">&#123;response.status_code&#125;</span>&#x27;</span>)<br>    <span class="hljs-keyword">return</span> response<br><br><br><span class="hljs-meta">@app.teardown_request                           </span><span class="hljs-comment"># é”€æ¯å›è°ƒï¼Œå¯¹è¯·æ±‚ç»“æŸåè¿›è¡Œæ¸…ç†æ“ä½œ</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">teardown_request</span>(<span class="hljs-params">exception=<span class="hljs-literal">None</span></span>):           <span class="hljs-comment"># è¯·æ±‚ç»“æŸæ—¶teardown_requestå‡½æ•°å°†è¢«è‡ªåŠ¨è°ƒç”¨</span><br>    <span class="hljs-keyword">if</span> exception:<br>        app.logger.error(<span class="hljs-string">f&#x27;Error processing request: <span class="hljs-subst">&#123;exception&#125;</span>&#x27;</span>)<br>    <span class="hljs-keyword">else</span>:<br>        app.logger.info(<span class="hljs-string">&#x27;Request processing finished&#x27;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    app.run(debug=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><h4 id="7-ç•™æ„ä»£ç†"><a href="#7-ç•™æ„ä»£ç†" class="headerlink" title="(7) ç•™æ„ä»£ç†"></a>(7) ç•™æ„ä»£ç†</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> threading<br><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask, request, current_app<br><br>app = Flask(__name__)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">worker</span>():<br>    <span class="hljs-keyword">with</span> app.app_context():                     <span class="hljs-comment"># åœ¨æ–°çº¿ç¨‹ä¸­æ‰“å¼€åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡</span><br>        <span class="hljs-keyword">with</span> app.test_request_context():        <span class="hljs-comment"># æ¨é€æµ‹è¯•è¯·æ±‚ä¸Šä¸‹æ–‡</span><br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;è¯·æ±‚æ–¹æ³•ï¼š&quot;</span> + request.method)<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;åº”ç”¨åç§°ï¼š&quot;</span> + current_app._get_current_object().name)<br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/&#x27;</span></span>)                                 </span><span class="hljs-comment"># _get_current_object()å¯è·å–åº”ç”¨ç¨‹åºå¯¹è±¡è€Œéä»£ç†å¯¹è±¡</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">index</span>():                                    <span class="hljs-comment"># è®¿é—®[127.0.0.1:5000]</span><br>    t = threading.Thread(target=worker)<br>    t.start()<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&lt;center&gt;Hello, Flask!&lt;/center&gt;&#x27;</span><br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    app.run(debug=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><h2 id="5-3-æµ‹è¯•ä¸Šä¸‹æ–‡"><a href="#5-3-æµ‹è¯•ä¸Šä¸‹æ–‡" class="headerlink" title="5-3 æµ‹è¯•ä¸Šä¸‹æ–‡"></a>5-3 æµ‹è¯•ä¸Šä¸‹æ–‡</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> unittest                                 <span class="hljs-comment"># test_context.py</span><br><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask, request<br><br>app = Flask(__name__)<br>app.config[<span class="hljs-string">&#x27;TESTING&#x27;</span>] = <span class="hljs-literal">True</span><br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/&#x27;</span>, methods=[<span class="hljs-string">&#x27;GET&#x27;</span>, <span class="hljs-string">&#x27;POST&#x27;</span>]</span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">index</span>():<br>    <span class="hljs-keyword">if</span> request.method == <span class="hljs-string">&#x27;GET&#x27;</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">            &lt;form method=&quot;post&quot; style=&#x27;text-align: center;&#x27;&gt;</span><br><span class="hljs-string">                &lt;label for=&quot;name&quot;&gt;è¾“å…¥å§“å&lt;/label&gt;</span><br><span class="hljs-string">                &lt;input type=&quot;text&quot; id=&quot;name&quot; name=&quot;name&quot;&gt;</span><br><span class="hljs-string">                &lt;button type=&quot;submit&quot;&gt;æäº¤&lt;/button&gt;</span><br><span class="hljs-string">            &lt;/form&gt;</span><br><span class="hljs-string">        &#x27;&#x27;&#x27;</span><br>    <span class="hljs-keyword">elif</span> request.method == <span class="hljs-string">&#x27;POST&#x27;</span>:<br>        name = request.form.get(<span class="hljs-string">&#x27;name&#x27;</span>)<br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> name:<br>            <span class="hljs-keyword">return</span> <span class="hljs-string">f&#x27;&lt;center&gt;Error: Name is missing.&lt;/center&gt;&#x27;</span><br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">return</span> <span class="hljs-string">f&#x27;&lt;center&gt;Message: Hello, <span class="hljs-subst">&#123;name&#125;</span>!&lt;/center&gt;&#x27;</span><br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestApp</span>(unittest.TestCase):               <span class="hljs-comment"># å®šä¹‰äº†ä¸¤ä¸ªæµ‹è¯•ç”¨ä¾‹</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">setUp</span>(<span class="hljs-params">self</span>):<br>        self.app = app.test_client()<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_index_get</span>(<span class="hljs-params">self</span>):                   <span class="hljs-comment"># ä¸€ä¸ªæµ‹è¯•è¯·æ±‚ä¸»é¡µæ—¶çš„è¡Œä¸º</span><br>        response = self.app.get(<span class="hljs-string">&#x27;/&#x27;</span>)            <span class="hljs-comment"># ä½¿ç”¨æµ‹è¯•å®¢æˆ·ç«¯æ¥å‘é€æ¨¡æ‹Ÿè¯·æ±‚</span><br>        self.assertEqual(response.status_code, <span class="hljs-number">200</span>)<br>        self.assertIn(<span class="hljs-string">b&#x27;&lt;form&#x27;</span>, response.data)  <span class="hljs-comment"># å¹¶æ–­è¨€å“åº”æ˜¯å¦ç¬¦åˆé¢„æœŸ</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_index_post</span>(<span class="hljs-params">self</span>):                  <span class="hljs-comment"># ä¸€ä¸ªæµ‹è¯•æäº¤è¡¨å•æ—¶çš„è¡Œä¸º</span><br>        response = self.app.post(<span class="hljs-string">&#x27;/&#x27;</span>)<br>        self.assertEqual(response.status_code, <span class="hljs-number">200</span>)<br>        self.assertIn(<span class="hljs-string">b&#x27;&lt;center&gt;Error: Name is missing.&lt;/center&gt;&#x27;</span>, response.data)<br><br>        response = self.app.post(<span class="hljs-string">&#x27;/&#x27;</span>, data=&#123;<span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;Alice&#x27;</span>&#125;)<br>        self.assertEqual(response.status_code, <span class="hljs-number">200</span>)<br>        self.assertIn(<span class="hljs-string">b&#x27;&lt;center&gt;Message: Hello, Alice!&lt;/center&gt;&#x27;</span>, response.data)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:                      <span class="hljs-comment"># å‘½ä»¤python test_context.pyæ‰§è¡Œè¯¥æµ‹è¯•ç”¨ä¾‹</span><br>    unittest.main()                             <span class="hljs-comment"># éƒ½é€šè¿‡ä¸ºOKï¼Œè‹¥å…¶ä¸­ä»»ä½•ä¸€ä¸ªå¤±è´¥ï¼Œåˆ™FAILED</span><br></code></pre></td></tr></table></figure><h1 id="6-è“å›¾å®ç°æ¨¡å—åŒ–"><a href="#6-è“å›¾å®ç°æ¨¡å—åŒ–" class="headerlink" title="6 è“å›¾å®ç°æ¨¡å—åŒ–"></a>6 è“å›¾å®ç°æ¨¡å—åŒ–</h1><ul><li>è“å›¾å®ç°æ¨¡å—åŒ–<ul><li>å…è®¸æŠŠä¸åŒçš„URLè¯·æ±‚å¤„ç†ç¨‹åºç»„æˆä¸€ä¸ªè“å›¾ï¼Œç”¨äºç®¡ç†åº”ç”¨ç¨‹åºçš„ä¸åŒåŠŸèƒ½éƒ¨åˆ†ï¼Œä½¿ä»£ç æ˜“äºç»´æŠ¤å’Œæ‰©å±•ã€‚</li><li>æ¯ä¸ªæ¨¡å—ç›¸äº’ç‹¬ç«‹ï¼Œå¯ä»¥å•ç‹¬æµ‹è¯•å’Œè°ƒè¯•ï¼Œæ¯ä¸ªè“å›¾éƒ½æœ‰è‡ªå·±çš„è·¯ç”±å’Œè§†å›¾ï¼Œå¯åœ¨ä¸»åº”ç”¨ç¨‹åºä¸­æ³¨å†Œå’Œå¸è½½ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> random<br><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Blueprint                     <span class="hljs-comment"># module.py</span><br><br>blueprint = Blueprint(<span class="hljs-string">&#x27;blueprint&#x27;</span>, __name__)    <span class="hljs-comment"># Blueprintç±»çš„æ„é€ å‡½æ•°éœ€è“å›¾åç§°å’Œæ¨¡å—å¯¼å…¥åç§°</span><br><br><br><span class="hljs-meta">@blueprint.route(<span class="hljs-params"><span class="hljs-string">&#x27;/&#x27;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">index</span>():<br>    num = random.randint(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>)<br>    <span class="hljs-built_in">print</span>(num)<br>    variable = <span class="hljs-string">f&#x27;Hello, Flask! Num: <span class="hljs-subst">&#123;num&#125;</span>.&#x27;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-string">f&#x27;&lt;center&gt;<span class="hljs-subst">&#123;variable&#125;</span>&lt;/center&gt;&#x27;</span><br></code></pre></td></tr></table></figure><h2 id="6-1-æ³¨å†Œè“å›¾"><a href="#6-1-æ³¨å†Œè“å›¾" class="headerlink" title="6-1 æ³¨å†Œè“å›¾"></a>6-1 æ³¨å†Œè“å›¾</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask                         <span class="hljs-comment"># app.py</span><br><span class="hljs-keyword">from</span> module <span class="hljs-keyword">import</span> blueprint                    <span class="hljs-comment"># ä¸module.pyå…³è”</span><br><br>app = Flask(__name__)                           <span class="hljs-comment"># è®¿é—®[127.0.0.1:5000]</span><br><br>app.register_blueprint(blueprint)               <span class="hljs-comment"># åœ¨ä¸»åº”ç”¨ç¨‹åºä¸­æ³¨å†Œè¯¥è“å›¾</span><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    app.run(debug=<span class="hljs-literal">True</span>)                         <span class="hljs-comment"># å‘½ä»¤python app.pyæ‰§è¡Œè¯¥åº”ç”¨</span><br></code></pre></td></tr></table></figure><h2 id="6-2-é™æ€æ–‡ä»¶"><a href="#6-2-é™æ€æ–‡ä»¶" class="headerlink" title="6-2 é™æ€æ–‡ä»¶"></a>6-2 é™æ€æ–‡ä»¶</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Blueprint                     <span class="hljs-comment"># module.py</span><br><br><span class="hljs-comment"># ä½¿ç”¨è“å›¾å¯¹è±¡çš„static_folderå‚æ•°æŒ‡å®šé™æ€æ–‡ä»¶çš„æ–‡ä»¶å¤¹ä¸ºâ€œstaticâ€</span><br><span class="hljs-comment"># static_url_pathå‚æ•°æŒ‡å®šè®¿é—®è¯¥æ–‡ä»¶å¤¹çš„è·¯å¾„ä¸ºâ€œ/staticâ€ï¼Œå¯æ”¾ç½®ä»»ä½•é™æ€æ–‡ä»¶ï¼Œä¾‹å¦‚CSSã€JavaScriptæˆ–å›¾åƒ</span><br>blueprint = Blueprint(<span class="hljs-string">&#x27;blueprint&#x27;</span>, __name__, static_folder=<span class="hljs-string">&#x27;static&#x27;</span>, static_url_path=<span class="hljs-string">&#x27;/static&#x27;</span>)<br><br><span class="hljs-comment"># é€šè¿‡ä»¥ä¸‹æ–¹å¼åœ¨æ¨¡æ¿ä¸­å¼•ç”¨ä¸Šè¿°æŒ‡å®šçš„é™æ€æ–‡ä»¶</span><br><span class="hljs-comment"># &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;&#123;&#123;url_for(&#x27;blueprint.static&#x27;, filename=&#x27;style.css&#x27;)&#125;&#125;&quot;&gt;</span><br><span class="hljs-comment"># &lt;script type=&quot;text/javascript&quot; src=&quot;&#123;&#123;url_for(&#x27;blueprint.static&#x27;, filename=&#x27;script.js&#x27;)&#125;&#125;&quot;&gt;&lt;/script&gt;</span><br><span class="hljs-comment"># &lt;img src=&quot;&#123;&#123;url_for(&#x27;blueprint.static&#x27;, filename=&#x27;image.jpg&#x27;)&#125;&#125;&quot; alt=&quot;Image&quot;&gt;</span><br><br><br><span class="hljs-meta">@blueprint.route(<span class="hljs-params"><span class="hljs-string">&#x27;/&#x27;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">index</span>():<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&lt;center&gt;Hello, Flask!&lt;/center&gt;&#x27;</span><br></code></pre></td></tr></table></figure><h2 id="6-3-èµ„æºæ–‡ä»¶å¤¹"><a href="#6-3-èµ„æºæ–‡ä»¶å¤¹" class="headerlink" title="6-3 èµ„æºæ–‡ä»¶å¤¹"></a>6-3 èµ„æºæ–‡ä»¶å¤¹</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Markdown">&lt;!-- é¡¹ç›®ç›®å½•ç»“æ„ --&gt;<br><span class="hljs-bullet">-</span> app.py                                          &lt;!-- å†…å®¹ä¸å˜ --&gt;<br><span class="hljs-bullet">-</span> module.py                                       &lt;!-- ä¿®æ”¹æ–‡ä»¶ --&gt;<br><span class="hljs-bullet">-</span> static<br><span class="hljs-bullet">    -</span> data.json<br><span class="hljs-bullet">-</span> templates<br><span class="hljs-bullet">    -</span> index.html<br>&lt;!-- å‘½ä»¤çª—å£ä¸‹æ‰§è¡Œ&#x27;python app.py&#x27;ï¼Œè®¿é—®[http://127.0.0.1:5000] --&gt;<br></code></pre></td></tr></table></figure><h4 id="1-data-json"><a href="#1-data-json" class="headerlink" title="(1) data.json"></a>(1) data.json</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Json"><span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;My Website&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;John&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;age&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">30</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;gender&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;male&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;email&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;john@example.com&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;phone&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;123-456-7890&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;address&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>        <span class="hljs-attr">&quot;street&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;123 Main St&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;city&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Los Angeles&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;state&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;CA&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;zip&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;90012&quot;</span><br>    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;interests&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;music&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;travel&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;movies&quot;</span><span class="hljs-punctuation">]</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><h4 id="2-module-py"><a href="#2-module-py" class="headerlink" title="(2) module.py"></a>(2) module.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> json<br><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Blueprint, render_template<br><br>blueprint = Blueprint(<span class="hljs-string">&#x27;blueprint&#x27;</span>, __name__,    <span class="hljs-comment"># root_pathæŒ‡å®šåº”ç”¨ç¨‹åºçš„æ ¹ç›®å½•</span><br>                      static_folder=<span class="hljs-string">&#x27;static&#x27;</span>,<br>                      static_url_path=<span class="hljs-string">&#x27;/static&#x27;</span>,<br>                      template_folder=<span class="hljs-string">&#x27;templates&#x27;</span>,<br>                      root_path=os.path.abspath(os.path.dirname(__file__)))<br><br><br><span class="hljs-meta">@blueprint.route(<span class="hljs-params"><span class="hljs-string">&#x27;/&#x27;</span></span>)                           </span><span class="hljs-comment"># è®¿é—®[127.0.0.1:5000]</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">index</span>():<br>    <span class="hljs-keyword">with</span> blueprint.open_resource(<span class="hljs-string">&#x27;static/data.json&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>        data = json.load(f)<br>    <span class="hljs-keyword">return</span> render_template(<span class="hljs-string">&#x27;index.html&#x27;</span>, data=data)<br></code></pre></td></tr></table></figure><h4 id="3-index-html"><a href="#3-index-html" class="headerlink" title="(3) index.html"></a>(3) index.html</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs Html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>&#123;&#123; data.title &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-tag">body</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">font-family</span>: Arial, Helvetica, sans-serif;</span><br><span class="language-css">            <span class="hljs-attribute">text-align</span>: center;  <span class="hljs-comment">/* å°†é¡µé¢å†…å®¹å±…ä¸­æ˜¾ç¤º */</span></span><br><span class="language-css">        &#125;</span><br><span class="language-css">        <span class="hljs-selector-tag">h1</span> &#123;<span class="hljs-attribute">color</span>: blue;&#125;</span><br><span class="language-css">        <span class="hljs-selector-tag">p</span> &#123;<span class="hljs-attribute">line-height</span>: <span class="hljs-number">1.5em</span>;&#125;</span><br><span class="language-css">        <span class="hljs-selector-tag">ul</span> &#123;<span class="hljs-attribute">padding</span>: <span class="hljs-number">0px</span>;&#125;</span><br><span class="language-css">        <span class="hljs-selector-tag">table</span> &#123;<span class="hljs-attribute">margin</span>: auto; <span class="hljs-attribute">border-collapse</span>: collapse;&#125;</span><br><span class="language-css">        <span class="hljs-selector-tag">tr</span><span class="hljs-selector-pseudo">:hover</span> &#123;<span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f5f5f5</span>;&#125;</span><br><span class="language-css">        <span class="hljs-selector-tag">td</span> &#123;<span class="hljs-attribute">padding</span>: <span class="hljs-number">8px</span>; <span class="hljs-attribute">text-align</span>: left; <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#ddd</span>;&#125;</span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Hello, &#123;&#123;data.name&#125;&#125;!<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>You are &#123;&#123;data.age&#125;&#125; years old, and your email is &#123;&#123;data.email&#125;&#125;.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>You live in &#123;&#123;data.address.city&#125;&#125;, &#123;&#123;data.address.state&#125;&#125;.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Interests are as follows<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span><br>        &#123;% for interest in data.interests %&#125;<br>            <span class="hljs-tag">&lt;<span class="hljs-name">table</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>&#123;&#123; interest &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span><br>        &#123;% endfor %&#125;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="6-4-è“å›¾æ„é€ URL"><a href="#6-4-è“å›¾æ„é€ URL" class="headerlink" title="6-4 è“å›¾æ„é€ URL"></a>6-4 è“å›¾æ„é€ URL</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Blueprint, url_for, Flask<br><br>app = Flask(__name__)<br>app.config[<span class="hljs-string">&#x27;SERVER_NAME&#x27;</span>] = <span class="hljs-string">&#x27;localhost:5000&#x27;</span>    <span class="hljs-comment"># è®¾ç½®SERVER_NAMEé…ç½®</span><br>blueprint = Blueprint(<span class="hljs-string">&#x27;bp&#x27;</span>, __name__, url_prefix=<span class="hljs-string">&#x27;/my&#x27;</span>)<br><br><br><span class="hljs-meta">@blueprint.route(<span class="hljs-params"><span class="hljs-string">&#x27;/index&#x27;</span></span>)                      </span><span class="hljs-comment"># url_prefixæŒ‡è“å›¾çš„URLå‰ç¼€</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">index</span>():                                    <span class="hljs-comment"># è®¿é—®[http://localhost:5000/my/index]</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&lt;center&gt;Hello, Flask!&lt;/center&gt;&#x27;</span>     <span class="hljs-comment"># è®¿é—®[http://127.0.0.1:5000/my/index]æ— æ•ˆ</span><br><br><br>app.register_blueprint(blueprint)               <span class="hljs-comment"># æ³¨å†Œè“å›¾</span><br><br><span class="hljs-keyword">with</span> app.app_context():<br>    url = url_for(<span class="hljs-string">&#x27;bp.index&#x27;</span>)                   <span class="hljs-comment"># ä½¿ç”¨è“å›¾æ„é€ URL</span><br>    <span class="hljs-built_in">print</span>(url)<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    app.run(debug=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><h1 id="7-Flaskä¸Shellç»“åˆ"><a href="#7-Flaskä¸Shellç»“åˆ" class="headerlink" title="7 Flaskä¸Shellç»“åˆ"></a>7 Flaskä¸Shellç»“åˆ</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> time<br><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask, g<br><br>app = Flask(__name__)<br><br><br><span class="hljs-meta">@app.before_request</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">before_request</span>():<br>    g.request_start_time = time.time()          <span class="hljs-comment"># request_start_timeå˜é‡è®°å½•è¯·æ±‚å¼€å§‹æ—¶é—´</span><br><br><br><span class="hljs-meta">@app.after_request</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">after_request</span>(<span class="hljs-params">response</span>):                    <span class="hljs-comment"># è®¡ç®—è¯·æ±‚æ‰§è¡Œæ—¶é—´ï¼Œå¹¶ä½¿ç”¨æ—¥å¿—è®°å½•åŠŸèƒ½è®°å½•è¯¥æ—¶é—´</span><br>    request_time = time.time() - g.request_start_time<br>    app.logger.info(<span class="hljs-string">&#x27;Request Time: %f&#x27;</span>, request_time)<br>    <span class="hljs-keyword">return</span> response<br><br><br><span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">&#x27;/&#x27;</span></span>)                                 </span><span class="hljs-comment"># è®¿é—®[127.0.0.1:5000]</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">index</span>():<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&lt;center&gt;Hello, Flask!&lt;/center&gt;&#x27;</span><br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    <span class="hljs-keyword">with</span> app.app_context():                     <span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªè¯·æ±‚ä¸Šä¸‹æ–‡æ¥å¯åŠ¨Flaskåº”ç”¨ç¨‹åº</span><br>        app.run(debug=<span class="hljs-literal">True</span>)        <br><br><br><span class="hljs-string">&quot;&quot;&quot; </span><br><span class="hljs-string"># è¿›å…¥å½“å‰æ–‡ä»¶ç›®å½•ä¸­ï¼Œé¼ æ ‡å³å‡»Git Bash Hereï¼Œæ‰“å¼€ä¸€ä¸ªç»ˆç«¯æ¨¡æ‹Ÿå™¨ï¼Œè¿›è¡Œä»¥ä¸‹äº¤äº’å¼æ“ä½œ</span><br><span class="hljs-string"># è‹¥æŠ¥é”™Error: Could not locate a Flask application. Use ... in the current directory.</span><br><span class="hljs-string">$ export FLASK_APP=yourfilename                 # æ³¨æ„ï¼šè¿™é‡Œæ–‡ä»¶ä¸éœ€è¦æ‰©å±•å</span><br><span class="hljs-string">$ flask shell</span><br><span class="hljs-string">Python 3.9.13 (main, Oct 25 2021, 23:51:50) [MSC v.1916 64 bit (AMD64)] on win32</span><br><span class="hljs-string">App: app</span><br><span class="hljs-string">Instance: D:\...\Flask\instance</span><br><span class="hljs-string"><span class="hljs-meta">&gt;&gt;&gt; </span>app                                         # è¿”å›Flaskåº”ç”¨ç¨‹åºå®šä¹‰çš„å¯¹è±¡</span><br><span class="hljs-string">&lt;Flask &#x27;app&#x27;&gt;</span><br><span class="hljs-string"><span class="hljs-meta">&gt;&gt;&gt; </span>ctx = app.test_request_context()            # åˆ›å»ºä¸€ä¸ªæµ‹è¯•è¯·æ±‚ä¸Šä¸‹æ–‡å¯¹è±¡ctx</span><br><span class="hljs-string"><span class="hljs-meta">&gt;&gt;&gt; </span>ctx.push()                                  # å°†ctxæ¨åˆ°æ ˆä¸­ï¼Œä»¥ä¾¿è®¿é—®ä¸Šä¸‹æ–‡ä¸­çš„å˜é‡å’Œå¯¹è±¡</span><br><span class="hljs-string"><span class="hljs-meta">&gt;&gt;&gt; </span>app.preprocess_request()                    # æ¿€æ´»é¢„å¤„ç†å™¨å‡½æ•°ï¼Œå°†åœ¨è¯·æ±‚å¤„ç†ä¹‹å‰è‡ªåŠ¨è°ƒç”¨</span><br><span class="hljs-string"><span class="hljs-meta">&gt;&gt;&gt; </span>app.process_response(app.response_class())  # æ¿€æ´»ç›¸åº”å¤„ç†å™¨å‡½æ•°ï¼Œè´Ÿè´£å¤„ç†äº§ç”ŸHTTPå“åº”çš„å†…å®¹</span><br><span class="hljs-string">&lt;Response 0 bytes [200 OK]&gt;</span><br><span class="hljs-string"><span class="hljs-meta">&gt;&gt;&gt; </span>ctx.pop()                                   # å½“æµ‹è¯•è¯·æ±‚ä¸Šä¸‹æ–‡å¤„ç†å®Œæ¯•åï¼Œéœ€è¦å°†å…¶ä»æ ˆä¸­å¼¹å‡º</span><br><span class="hljs-string"><span class="hljs-meta">&gt;&gt;&gt; </span>exit()                                      # é€€å‡ºShellä¼šè¯</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Flask</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python MongoDB</title>
    <link href="/2021/11/03/python/python12-python-mongodb/"/>
    <url>/2021/11/03/python/python12-python-mongodb/</url>
    
    <content type="html"><![CDATA[<p>MongoDBæ˜¯ä¸€ä¸ªåŸºäºåˆ†å¸ƒå¼æ–‡ä»¶å­˜å‚¨çš„æ•°æ®åº“ï¼Œç”±C++è¯­è¨€ç¼–å†™ï¼Œæ—¨åœ¨ä¸ºWebåº”ç”¨æä¾›å¯æ‰©å±•çš„é«˜æ€§èƒ½æ•°æ®å­˜å‚¨è§£å†³æ–¹æ¡ˆã€‚</p><span id="more"></span><h1 id="1-MongoDB"><a href="#1-MongoDB" class="headerlink" title="1 MongoDB"></a>1 MongoDB</h1><ul><li>MongoDB<ul><li>Pythonéœ€è¦MongoDBé©±åŠ¨ç¨‹åºï¼Œç”¨ä»¥è®¿é—®MongoDBæ•°æ®åº“ï¼Œä½¿ç”¨PyMongoé©±åŠ¨ç¨‹åºã€‚</li><li>ä½¿ç”¨PIPè¿›è¡Œä¸‹è½½å¹¶å®‰è£…é©±åŠ¨ï¼Œå‘½ä»¤çª—å£è¾“å…¥ï¼š<code>python -m pip install pymongo</code>ã€‚</li><li>å‘½ä»¤çª—å£ä¸‹è¿›å…¥Pythonäº¤äº’ç•Œé¢ï¼Œè¾“å…¥<code>import pymongo</code>å›è½¦ï¼Œæ²¡æŠ¥é”™è¯´æ˜æˆåŠŸå®‰è£…ã€‚</li><li>ä¸‹è½½å®‰è£…å¹¶é…ç½®MongoDBï¼Œå‚çœ‹â€œ<a href="https://blog.csdn.net/yuan2019035055/article/details/123031732">MongoDBæ•°æ®åº“å…¥é—¨åˆ°ç²¾é€šçœ‹è¿™ä¸€ç¯‡å°±å¤Ÿäº†</a>â€ã€‚</li></ul></li></ul><h2 id="1-1-åˆ›å»ºæ•°æ®åº“"><a href="#1-1-åˆ›å»ºæ•°æ®åº“" class="headerlink" title="1-1 åˆ›å»ºæ•°æ®åº“"></a>1-1 åˆ›å»ºæ•°æ®åº“</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pymongo<br><br>myclient = pymongo.MongoClient(<span class="hljs-string">&#x27;mongodb://localhost:27017/&#x27;</span>)<br>mydbs = myclient[<span class="hljs-string">&#x27;mydatabase&#x27;</span>]          <span class="hljs-comment"># åˆ›å»ºmydatabaseæ•°æ®åº“</span><br>mycol = mydbs[<span class="hljs-string">&#x27;customers&#x27;</span>]              <span class="hljs-comment"># åˆ›å»ºåä¸ºcustomersçš„é›†åˆ</span><br>mydic = &#123;<span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;John&#x27;</span>, <span class="hljs-string">&#x27;address&#x27;</span>: <span class="hljs-string">&#x27;Highway 37&#x27;</span>&#125;<br><br>x = mycol.insert_one(mydic)             <span class="hljs-comment"># ç»™customersé›†åˆæ’å…¥æ•°æ®</span><br><span class="hljs-built_in">print</span>(x)                                <span class="hljs-comment"># åªæœ‰ç»™åˆ›å»ºçš„æ•°æ®åº“ï¼Œåˆ›å»ºé›†åˆåŠæ’å…¥æ•°æ®åï¼Œæ‰èƒ½æŸ¥è¯¢åˆ°è¯¥æ•°æ®åº“</span><br></code></pre></td></tr></table></figure><h2 id="1-2-æŸ¥è¯¢æ•°æ®åº“"><a href="#1-2-æŸ¥è¯¢æ•°æ®åº“" class="headerlink" title="1-2 æŸ¥è¯¢æ•°æ®åº“"></a>1-2 æŸ¥è¯¢æ•°æ®åº“</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pymongo<br><br>myclient = pymongo.MongoClient(<span class="hljs-string">&#x27;mongodb://localhost:27017/&#x27;</span>)<br><span class="hljs-comment"># dbslists = myclient.database_names()  # æ—§ç‰ˆä½¿ç”¨    </span><br>dbslists = myclient.list_database_names()<br><br><span class="hljs-built_in">print</span>(dbslists)                         <span class="hljs-comment"># è¿”å›æ•°æ®åº“åˆ—è¡¨</span><br><span class="hljs-keyword">if</span> <span class="hljs-string">&#x27;mydatabase&#x27;</span> <span class="hljs-keyword">in</span> dbslists:            <span class="hljs-comment"># æŒ‰åç§°æŸ¥è¯¢ç‰¹å®šæ•°æ®åº“</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;The database &quot;mydatabase&quot; exists.&#x27;</span>)<br></code></pre></td></tr></table></figure><h2 id="1-3-æŸ¥é›†åˆæ–¹æ³•"><a href="#1-3-æŸ¥é›†åˆæ–¹æ³•" class="headerlink" title="1-3 æŸ¥é›†åˆæ–¹æ³•"></a>1-3 æŸ¥é›†åˆæ–¹æ³•</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pymongo<br><br>myclient = pymongo.MongoClient(<span class="hljs-string">&#x27;mongodb://localhost:27017/&#x27;</span>)<br>mydbs = myclient[<span class="hljs-string">&#x27;mydatabase&#x27;</span>]          <span class="hljs-comment"># åˆ›å»ºmydatabaseæ•°æ®åº“</span><br><span class="hljs-comment"># collists = mydbs.collection_names()   # æ—§ç‰ˆä½¿ç”¨</span><br>collists = mydbs.list_collection_names()<br><br><span class="hljs-built_in">print</span>(collists)                         <span class="hljs-comment"># è¿”å›é›†åˆåˆ—è¡¨</span><br><span class="hljs-keyword">if</span> <span class="hljs-string">&#x27;customers&#x27;</span> <span class="hljs-keyword">in</span> collists:             <span class="hljs-comment"># æŒ‰åç§°æŸ¥è¯¢ç‰¹å®šé›†åˆ</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;The collection &quot;customers&quot; exists.&#x27;</span>)<br></code></pre></td></tr></table></figure><h1 id="2-æ’å…¥è®°å½•"><a href="#2-æ’å…¥è®°å½•" class="headerlink" title="2 æ’å…¥è®°å½•"></a>2 æ’å…¥è®°å½•</h1><ul><li>æ’å…¥è®°å½•<ul><li>ä¸æŒ‡å®šidå­—æ®µæ—¶ï¼ŒMongoDBä¼šè‡ªåŠ¨æ·»åŠ ä¸€ä¸ªï¼Œå¹¶ç»™æ¯ä¸ªè®°å½•åˆ†é…ä¸€ä¸ªå”¯ä¸€çš„idã€‚</li><li>æ’å…¥å•è¡Œè®°å½•ï¼š<code>insert_one()</code>ã€‚</li><li>æ’å…¥å¤šè¡Œè®°å½•ï¼š<code>insert_many()</code>ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªåŒ…å«å­—å…¸çš„åˆ—è¡¨ã€‚</li></ul></li></ul><h2 id="2-1-è¿”å›idå­—æ®µ"><a href="#2-1-è¿”å›idå­—æ®µ" class="headerlink" title="2-1 è¿”å›idå­—æ®µ"></a>2-1 è¿”å›idå­—æ®µ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pymongo<br><br>myclient = pymongo.MongoClient(<span class="hljs-string">&#x27;mongodb://localhost:27017/&#x27;</span>)<br>mydbs = myclient[<span class="hljs-string">&#x27;mydatabase&#x27;</span>]          <span class="hljs-comment"># åˆ›å»ºmydatabaseæ•°æ®åº“</span><br>mycol = mydbs[<span class="hljs-string">&#x27;customers&#x27;</span>]              <span class="hljs-comment"># åˆ›å»ºåä¸ºcustomersçš„é›†åˆ</span><br>mydic = &#123;<span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;Peter&#x27;</span>, <span class="hljs-string">&#x27;address&#x27;</span>: <span class="hljs-string">&#x27;Lowstreet 27&#x27;</span>&#125;<br><br>x = mycol.insert_one(mydic)             <span class="hljs-comment"># æ’å…¥å¦ä¸€æ¡æ•°æ®</span><br><span class="hljs-built_in">print</span>(x.inserted_id)                    <span class="hljs-comment"># è¿”å›idå­—æ®µçš„å€¼</span><br></code></pre></td></tr></table></figure><h2 id="2-2-å¤šè®°å½•æ’å…¥"><a href="#2-2-å¤šè®°å½•æ’å…¥" class="headerlink" title="2-2 å¤šè®°å½•æ’å…¥"></a>2-2 å¤šè®°å½•æ’å…¥</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pymongo<br><br>myclient = pymongo.MongoClient(<span class="hljs-string">&#x27;mongodb://localhost:27017/&#x27;</span>)<br>mydbs = myclient[<span class="hljs-string">&#x27;mydatabase&#x27;</span>]         <span class="hljs-comment"># åˆ›å»ºmydatabaseæ•°æ®åº“</span><br>mycol = mydbs[<span class="hljs-string">&#x27;customers&#x27;</span>]             <span class="hljs-comment"># åˆ›å»ºåä¸ºcustomersçš„é›†åˆ</span><br>mydic = [<br>    &#123;<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Amy&quot;</span>, <span class="hljs-string">&quot;address&quot;</span>: <span class="hljs-string">&quot;Apple st 652&quot;</span>&#125;,<br>    &#123;<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Hannah&quot;</span>, <span class="hljs-string">&quot;address&quot;</span>: <span class="hljs-string">&quot;Mountain 21&quot;</span>&#125;,<br>    &#123;<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Michael&quot;</span>, <span class="hljs-string">&quot;address&quot;</span>: <span class="hljs-string">&quot;Valley 345&quot;</span>&#125;,<br>    &#123;<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Sandy&quot;</span>, <span class="hljs-string">&quot;address&quot;</span>: <span class="hljs-string">&quot;Ocean blvd 2&quot;</span>&#125;,<br>    &#123;<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Betty&quot;</span>, <span class="hljs-string">&quot;address&quot;</span>: <span class="hljs-string">&quot;Green Grass 1&quot;</span>&#125;,<br>    &#123;<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Richard&quot;</span>, <span class="hljs-string">&quot;address&quot;</span>: <span class="hljs-string">&quot;Sky st 331&quot;</span>&#125;,<br>    &#123;<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Susan&quot;</span>, <span class="hljs-string">&quot;address&quot;</span>: <span class="hljs-string">&quot;One way 98&quot;</span>&#125;,<br>    &#123;<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Vicky&quot;</span>, <span class="hljs-string">&quot;address&quot;</span>: <span class="hljs-string">&quot;Yellow Garden 2&quot;</span>&#125;,<br>    &#123;<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Ben&quot;</span>, <span class="hljs-string">&quot;address&quot;</span>: <span class="hljs-string">&quot;Park Lane 38&quot;</span>&#125;,<br>    &#123;<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;William&quot;</span>, <span class="hljs-string">&quot;address&quot;</span>: <span class="hljs-string">&quot;Central st 954&quot;</span>&#125;,<br>    &#123;<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Chuck&quot;</span>, <span class="hljs-string">&quot;address&quot;</span>: <span class="hljs-string">&quot;Main Road 989&quot;</span>&#125;,<br>    &#123;<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Viola&quot;</span>, <span class="hljs-string">&quot;address&quot;</span>: <span class="hljs-string">&quot;Sideway 1633&quot;</span>&#125;<br>]<br><br>x = mycol.insert_many(mydic)<br><span class="hljs-built_in">print</span>(x.inserted_ids)                  <span class="hljs-comment"># è¿”å›æ’å…¥çš„å¤šè¡Œè®°å½•idå€¼</span><br></code></pre></td></tr></table></figure><h2 id="2-3-æ’å…¥æŒ‡å®šid"><a href="#2-3-æ’å…¥æŒ‡å®šid" class="headerlink" title="2-3 æ’å…¥æŒ‡å®šid"></a>2-3 æ’å…¥æŒ‡å®šid</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pymongo<br><br>myclient = pymongo.MongoClient(<span class="hljs-string">&#x27;mongodb://localhost:27017/&#x27;</span>)<br>mydbs = myclient[<span class="hljs-string">&#x27;mydatabase&#x27;</span>]         <span class="hljs-comment"># åˆ›å»ºmydatabaseæ•°æ®åº“</span><br>mycol = mydbs[<span class="hljs-string">&#x27;customers&#x27;</span>]             <span class="hljs-comment"># åˆ›å»ºåä¸ºcustomersçš„é›†åˆ</span><br>mydic = [<br>    &#123;<span class="hljs-string">&quot;_id&quot;</span>: <span class="hljs-number">1</span>, <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;John&quot;</span>, <span class="hljs-string">&quot;address&quot;</span>: <span class="hljs-string">&quot;Highway 37&quot;</span>&#125;,<br>    &#123;<span class="hljs-string">&quot;_id&quot;</span>: <span class="hljs-number">2</span>, <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Peter&quot;</span>, <span class="hljs-string">&quot;address&quot;</span>: <span class="hljs-string">&quot;Lowstreet 27&quot;</span>&#125;,<br>    &#123;<span class="hljs-string">&quot;_id&quot;</span>: <span class="hljs-number">3</span>, <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Amy&quot;</span>, <span class="hljs-string">&quot;address&quot;</span>: <span class="hljs-string">&quot;Apple st 652&quot;</span>&#125;,<br>    &#123;<span class="hljs-string">&quot;_id&quot;</span>: <span class="hljs-number">4</span>, <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Hannah&quot;</span>, <span class="hljs-string">&quot;address&quot;</span>: <span class="hljs-string">&quot;Mountain 21&quot;</span>&#125;,<br>    &#123;<span class="hljs-string">&quot;_id&quot;</span>: <span class="hljs-number">5</span>, <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Michael&quot;</span>, <span class="hljs-string">&quot;address&quot;</span>: <span class="hljs-string">&quot;Valley 345&quot;</span>&#125;,<br>    &#123;<span class="hljs-string">&quot;_id&quot;</span>: <span class="hljs-number">6</span>, <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Sandy&quot;</span>, <span class="hljs-string">&quot;address&quot;</span>: <span class="hljs-string">&quot;Ocean blvd 2&quot;</span>&#125;,<br>    &#123;<span class="hljs-string">&quot;_id&quot;</span>: <span class="hljs-number">7</span>, <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Betty&quot;</span>, <span class="hljs-string">&quot;address&quot;</span>: <span class="hljs-string">&quot;Green Grass 1&quot;</span>&#125;,<br>    &#123;<span class="hljs-string">&quot;_id&quot;</span>: <span class="hljs-number">8</span>, <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Richard&quot;</span>, <span class="hljs-string">&quot;address&quot;</span>: <span class="hljs-string">&quot;Sky st 331&quot;</span>&#125;,<br>    &#123;<span class="hljs-string">&quot;_id&quot;</span>: <span class="hljs-number">9</span>, <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Susan&quot;</span>, <span class="hljs-string">&quot;address&quot;</span>: <span class="hljs-string">&quot;One way 98&quot;</span>&#125;,<br>    &#123;<span class="hljs-string">&quot;_id&quot;</span>: <span class="hljs-number">10</span>, <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Vicky&quot;</span>, <span class="hljs-string">&quot;address&quot;</span>: <span class="hljs-string">&quot;Yellow Garden 2&quot;</span>&#125;,<br>    &#123;<span class="hljs-string">&quot;_id&quot;</span>: <span class="hljs-number">11</span>, <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Ben&quot;</span>, <span class="hljs-string">&quot;address&quot;</span>: <span class="hljs-string">&quot;Park Lane 38&quot;</span>&#125;,<br>    &#123;<span class="hljs-string">&quot;_id&quot;</span>: <span class="hljs-number">12</span>, <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;William&quot;</span>, <span class="hljs-string">&quot;address&quot;</span>: <span class="hljs-string">&quot;Central st 954&quot;</span>&#125;,<br>    &#123;<span class="hljs-string">&quot;_id&quot;</span>: <span class="hljs-number">13</span>, <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Chuck&quot;</span>, <span class="hljs-string">&quot;address&quot;</span>: <span class="hljs-string">&quot;Main Road 989&quot;</span>&#125;,<br>    &#123;<span class="hljs-string">&quot;_id&quot;</span>: <span class="hljs-number">14</span>, <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Viola&quot;</span>, <span class="hljs-string">&quot;address&quot;</span>: <span class="hljs-string">&quot;Sideway 1633&quot;</span>&#125;<br>]<br><br>x = mycol.insert_many(mydic)<br><span class="hljs-built_in">print</span>(x.inserted_ids)                  <span class="hljs-comment"># è¿”å›æ’å…¥çš„å¤šè¡Œè®°å½•idå€¼</span><br></code></pre></td></tr></table></figure><h1 id="3-æŸ¥è¯¢è®°å½•"><a href="#3-æŸ¥è¯¢è®°å½•" class="headerlink" title="3 æŸ¥è¯¢è®°å½•"></a>3 æŸ¥è¯¢è®°å½•</h1><ul><li>æŸ¥è¯¢è®°å½•<ul><li>æŸ¥é›†åˆä¸­çš„ç¬¬ä¸€æ¡è®°å½•ä½¿ç”¨<code>find_one()</code>æ–¹æ³•ã€‚</li><li>æŸ¥é›†åˆä¸­çš„æ‰€æœ‰è®°å½•åˆ™å¯ä»¥ä½¿ç”¨<code>find()</code>æ–¹æ³•ã€‚<ul><li>å‚æ•°ä¸€æ˜¯ä¸€ä¸ªæŸ¥è¯¢å¯¹è±¡ï¼Œå‚æ•°äºŒæ˜¯ä¸€ä¸ªå¯¹è±¡(å¯é€‰)ï¼Œæè¿°è¦åœ¨ç»“æœä¸­åŒ…å«å“ªäº›å­—æ®µã€‚</li><li>å½“ä¸”ä»…å½“åŒä¸€ä¸ªå¯¹è±¡ä¸­çš„å…¶ä¸­ä¸€ä¸ªå€¼ä¸ºidå­—æ®µæ—¶ï¼Œæ‰èƒ½åŒæ—¶æŒ‡å®š0å’Œ1å€¼ï¼Œå¦åˆ™æŠ¥é”™ã€‚</li></ul></li><li>è¿›è¡Œé«˜çº§æŸ¥è¯¢ï¼Œå¯ä»¥ä½¿ç”¨ä¿®é¥°ç¬¦ä½œä¸ºæŸ¥è¯¢å¯¹è±¡ä¸­çš„å€¼ã€‚</li><li>ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œè¿‡æ»¤æŸ¥è¯¢ï¼Œåªèƒ½ç”¨äºæŸ¥è¯¢å­—ç¬¦ä¸²ã€‚</li><li><code>sort()</code>æ–¹æ³•æŒ‰å‡åºæˆ–é™åºå¯¹ç»“æœè¿›è¡Œæ’åº(é»˜è®¤å‡åº)ï¼Œæ¥å—fieldnameå’Œdirectionå‚æ•°ã€‚</li><li>é€šè¿‡ä½¿ç”¨<code>limit()</code>æ–¹æ³•ï¼Œå®šä¹‰éœ€è¦è¿”å›è®°å½•çš„ä¸ªæ•°ï¼Œé™åˆ¶æŸ¥è¯¢ç»“æœè¿”å›å¯¹åº”ä¸ªæ•°çš„è®°å½•ã€‚</li></ul></li></ul><h2 id="3-1-å•æ¡è®°å½•"><a href="#3-1-å•æ¡è®°å½•" class="headerlink" title="3-1 å•æ¡è®°å½•"></a>3-1 å•æ¡è®°å½•</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pymongo<br><br>myclient = pymongo.MongoClient(<span class="hljs-string">&#x27;mongodb://localhost:27017/&#x27;</span>)<br>mydbs = myclient[<span class="hljs-string">&#x27;mydatabase&#x27;</span>]          <span class="hljs-comment"># åˆ›å»ºmydatabaseæ•°æ®åº“</span><br>mycol = mydbs[<span class="hljs-string">&#x27;customers&#x27;</span>]              <span class="hljs-comment"># åˆ›å»ºåä¸ºcustomersçš„é›†åˆ</span><br><br>x = mycol.find_one()                    <span class="hljs-comment"># æŸ¥è¯¢é›†åˆä¸­çš„ç¬¬ä¸€ä¸ªè®°å½•</span><br><span class="hljs-built_in">print</span>(x)<br></code></pre></td></tr></table></figure><h2 id="3-2-æ‰€æœ‰è®°å½•"><a href="#3-2-æ‰€æœ‰è®°å½•" class="headerlink" title="3-2 æ‰€æœ‰è®°å½•"></a>3-2 æ‰€æœ‰è®°å½•</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pymongo<br><br>myclient = pymongo.MongoClient(<span class="hljs-string">&#x27;mongodb://localhost:27017/&#x27;</span>)<br>mydbs = myclient[<span class="hljs-string">&#x27;mydatabase&#x27;</span>]          <span class="hljs-comment"># åˆ›å»ºmydatabaseæ•°æ®åº“</span><br>mycol = mydbs[<span class="hljs-string">&#x27;customers&#x27;</span>]              <span class="hljs-comment"># åˆ›å»ºåä¸ºcustomersçš„é›†åˆ</span><br><br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> mycol.find():                  <span class="hljs-comment"># æŸ¥è¯¢é›†åˆä¸­çš„æ‰€æœ‰è®°å½•</span><br>    <span class="hljs-built_in">print</span>(x)<br></code></pre></td></tr></table></figure><h2 id="3-3-æŒ‡å®šè®°å½•"><a href="#3-3-æŒ‡å®šè®°å½•" class="headerlink" title="3-3 æŒ‡å®šè®°å½•"></a>3-3 æŒ‡å®šè®°å½•</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pymongo<br><br>myclient = pymongo.MongoClient(<span class="hljs-string">&#x27;mongodb://localhost:27017/&#x27;</span>)<br>mydbs = myclient[<span class="hljs-string">&#x27;mydatabase&#x27;</span>]         <span class="hljs-comment"># åˆ›å»ºmydatabaseæ•°æ®åº“</span><br>mycol = mydbs[<span class="hljs-string">&#x27;customers&#x27;</span>]             <span class="hljs-comment"># åˆ›å»ºåä¸ºcustomersçš„é›†åˆ</span><br><br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> mycol.find(&#123;&#125;, &#123;<span class="hljs-string">&quot;_id&quot;</span>: <span class="hljs-number">0</span>, <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-number">1</span>, <span class="hljs-string">&quot;address&quot;</span>: <span class="hljs-number">1</span>&#125;):<br>    <span class="hljs-built_in">print</span>(x)                           <span class="hljs-comment"># åªè¿”å›åç§°å’Œåœ°å€ï¼Œä¸è¿”å›idå€¼</span><br><br><span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> mycol.find(&#123;&#125;, &#123;<span class="hljs-string">&quot;address&quot;</span>: <span class="hljs-number">0</span>&#125;):<br>    <span class="hljs-built_in">print</span>(y)                           <span class="hljs-comment"># è¿”å›ç»“æœä¸­æ’é™¤åœ°å€</span><br><br>myque = &#123;<span class="hljs-string">&quot;address&quot;</span>: <span class="hljs-string">&quot;Park Lane 38&quot;</span>&#125;<br><span class="hljs-keyword">for</span> z <span class="hljs-keyword">in</span> mycol.find(myque):            <span class="hljs-comment"># æŸ¥æ‰¾åœ°å€ä¸ºâ€œPark Lane 38â€çš„è®°å½•</span><br>    <span class="hljs-built_in">print</span>(z)<br></code></pre></td></tr></table></figure><h2 id="3-4-é«˜çº§æŸ¥è¯¢"><a href="#3-4-é«˜çº§æŸ¥è¯¢" class="headerlink" title="3-4 é«˜çº§æŸ¥è¯¢"></a>3-4 é«˜çº§æŸ¥è¯¢</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pymongo<br><br>myclient = pymongo.MongoClient(<span class="hljs-string">&#x27;mongodb://localhost:27017/&#x27;</span>)<br>mydbs = myclient[<span class="hljs-string">&#x27;mydatabase&#x27;</span>]          <span class="hljs-comment"># åˆ›å»ºmydatabaseæ•°æ®åº“</span><br>mycol = mydbs[<span class="hljs-string">&#x27;customers&#x27;</span>]              <span class="hljs-comment"># åˆ›å»ºåä¸ºcustomersçš„é›†åˆ</span><br><br>myque = &#123;<span class="hljs-string">&quot;address&quot;</span>: &#123;<span class="hljs-string">&quot;$gt&quot;</span>: <span class="hljs-string">&quot;S&quot;</span>&#125;&#125;       <span class="hljs-comment"># æŸ¥æ‰¾åœ°å€ä»¥SåŠå¾€åå­—æ¯å¼€å¤´çš„è®°å½•</span><br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> mycol.find(myque):<br>    <span class="hljs-built_in">print</span>(x)<br></code></pre></td></tr></table></figure><h2 id="3-5-æ­£åˆ™è¿‡æ»¤"><a href="#3-5-æ­£åˆ™è¿‡æ»¤" class="headerlink" title="3-5 æ­£åˆ™è¿‡æ»¤"></a>3-5 æ­£åˆ™è¿‡æ»¤</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pymongo<br><br>myclient = pymongo.MongoClient(<span class="hljs-string">&#x27;mongodb://localhost:27017/&#x27;</span>)<br>mydbs = myclient[<span class="hljs-string">&#x27;mydatabase&#x27;</span>]          <span class="hljs-comment"># åˆ›å»ºmydatabaseæ•°æ®åº“</span><br>mycol = mydbs[<span class="hljs-string">&#x27;customers&#x27;</span>]              <span class="hljs-comment"># åˆ›å»ºåä¸ºcustomersçš„é›†åˆ</span><br><br>myque = &#123;<span class="hljs-string">&quot;address&quot;</span>: &#123;<span class="hljs-string">&quot;$regex&quot;</span>: <span class="hljs-string">&quot;^S&quot;</span>&#125;&#125;   <span class="hljs-comment"># ä»…æŸ¥æ‰¾åœ°å€ä¸ºå­—æ¯Så¼€å¤´çš„è®°å½•</span><br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> mycol.find(myque):<br>    <span class="hljs-built_in">print</span>(x)<br></code></pre></td></tr></table></figure><h2 id="3-6-å‡åºæ’åº"><a href="#3-6-å‡åºæ’åº" class="headerlink" title="3-6 å‡åºæ’åº"></a>3-6 å‡åºæ’åº</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pymongo<br><br>myclient = pymongo.MongoClient(<span class="hljs-string">&#x27;mongodb://localhost:27017/&#x27;</span>)<br>mydbs = myclient[<span class="hljs-string">&#x27;mydatabase&#x27;</span>]          <span class="hljs-comment"># åˆ›å»ºmydatabaseæ•°æ®åº“</span><br>mycol = mydbs[<span class="hljs-string">&#x27;customers&#x27;</span>]              <span class="hljs-comment"># åˆ›å»ºåä¸ºcustomersçš„é›†åˆ</span><br><br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> mycol.find().sort(<span class="hljs-string">&#x27;name&#x27;</span>):     <span class="hljs-comment"># æŒ‰åç§°å­—æ¯é¡ºåºå¯¹ç»“æœè¿›è¡Œå‡åºæ’åº</span><br>    <span class="hljs-built_in">print</span>(x)<br></code></pre></td></tr></table></figure><h2 id="3-7-é™åºæ’åº"><a href="#3-7-é™åºæ’åº" class="headerlink" title="3-7 é™åºæ’åº"></a>3-7 é™åºæ’åº</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pymongo<br><br>myclient = pymongo.MongoClient(<span class="hljs-string">&#x27;mongodb://localhost:27017/&#x27;</span>)<br>mydbs = myclient[<span class="hljs-string">&#x27;mydatabase&#x27;</span>]          <span class="hljs-comment"># åˆ›å»ºmydatabaseæ•°æ®åº“</span><br>mycol = mydbs[<span class="hljs-string">&#x27;customers&#x27;</span>]              <span class="hljs-comment"># åˆ›å»ºåä¸ºcustomersçš„é›†åˆ</span><br><br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> mycol.find().sort(<span class="hljs-string">&#x27;name&#x27;</span>, -<span class="hljs-number">1</span>):<br>    <span class="hljs-built_in">print</span>(x)                            <span class="hljs-comment"># æŒ‰åç§°å­—æ¯é¡ºåºå¯¹ç»“æœè¿›è¡Œ(åå‘)é™åºæ’åº</span><br></code></pre></td></tr></table></figure><h2 id="3-8-é™åˆ¶æŸ¥è¯¢"><a href="#3-8-é™åˆ¶æŸ¥è¯¢" class="headerlink" title="3-8 é™åˆ¶æŸ¥è¯¢"></a>3-8 é™åˆ¶æŸ¥è¯¢</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pymongo<br><br>myclient = pymongo.MongoClient(<span class="hljs-string">&#x27;mongodb://localhost:27017/&#x27;</span>)<br>mydbs = myclient[<span class="hljs-string">&#x27;mydatabase&#x27;</span>]          <span class="hljs-comment"># åˆ›å»ºmydatabaseæ•°æ®åº“</span><br>mycol = mydbs[<span class="hljs-string">&#x27;customers&#x27;</span>]              <span class="hljs-comment"># åˆ›å»ºåä¸ºcustomersçš„é›†åˆ</span><br><br>result = mycol.find().limit(<span class="hljs-number">5</span>)          <span class="hljs-comment"># é™åˆ¶ç»“æœåªè¿”å›5æ¡è®°å½•</span><br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> result:<br>    <span class="hljs-built_in">print</span>(x)<br></code></pre></td></tr></table></figure><h1 id="4-ä¿®æ”¹è®°å½•"><a href="#4-ä¿®æ”¹è®°å½•" class="headerlink" title="4 ä¿®æ”¹è®°å½•"></a>4 ä¿®æ”¹è®°å½•</h1><ul><li>ä¿®æ”¹è®°å½•<ul><li>ä¿®æ”¹ä¸€æ¡è®°å½•ï¼š<code>update_one()</code>ã€‚<ul><li>ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæŸ¥è¯¢å¯¹è±¡ï¼Œå®šä¹‰è¦ä¿®æ”¹çš„è®°å½•ã€‚</li><li>è‹¥æŸ¥è¯¢åˆ°å¤šä¸ªè®°å½•ï¼Œåˆ™åªä¿®æ”¹ç¬¬ä¸€ä¸ªå‡ºç°çš„è®°å½•ã€‚</li><li>ç¬¬äºŒä¸ªå‚æ•°æ˜¯å®šä¹‰è®°å½•æ–°å€¼çš„å¯¹è±¡ã€‚</li></ul></li><li>ä¿®æ”¹å¤šæ¡è®°å½•ï¼š<code>update_many()</code>ã€‚</li></ul></li></ul><h2 id="4-1-ä¿®æ”¹å•æ¡è®°å½•"><a href="#4-1-ä¿®æ”¹å•æ¡è®°å½•" class="headerlink" title="4-1 ä¿®æ”¹å•æ¡è®°å½•"></a>4-1 ä¿®æ”¹å•æ¡è®°å½•</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pymongo<br><br>myclient = pymongo.MongoClient(<span class="hljs-string">&#x27;mongodb://localhost:27017/&#x27;</span>)<br>mydbs = myclient[<span class="hljs-string">&#x27;mydatabase&#x27;</span>]         <span class="hljs-comment"># åˆ›å»ºmydatabaseæ•°æ®åº“</span><br>mycol = mydbs[<span class="hljs-string">&#x27;customers&#x27;</span>]             <span class="hljs-comment"># åˆ›å»ºåä¸ºcustomersçš„é›†åˆ</span><br><br>myque = &#123;<span class="hljs-string">&quot;address&quot;</span>: <span class="hljs-string">&quot;Valley 345&quot;</span>&#125;      <span class="hljs-comment"># å°†åœ°å€â€œValley 345â€æ”¹ä¸ºâ€œCanyon 123â€</span><br>mynew = &#123;<span class="hljs-string">&quot;$set&quot;</span>: &#123;<span class="hljs-string">&quot;address&quot;</span>: <span class="hljs-string">&quot;Canyon 123&quot;</span>&#125;&#125;<br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> mycol.find():<br>    <span class="hljs-built_in">print</span>(x)                           <span class="hljs-comment"># æŸ¥è¯¢ä¿®æ”¹å‰çš„è®°å½•</span><br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;**************************************************************************************&#x27;</span>)<br><br>mycol.update_one(myque, mynew)<br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> mycol.find():<br>    <span class="hljs-built_in">print</span>(x)                           <span class="hljs-comment"># æŸ¥è¯¢ä¿®æ”¹åçš„è®°å½•</span><br></code></pre></td></tr></table></figure><h2 id="4-2-ä¿®æ”¹å¤šæ¡è®°å½•"><a href="#4-2-ä¿®æ”¹å¤šæ¡è®°å½•" class="headerlink" title="4-2 ä¿®æ”¹å¤šæ¡è®°å½•"></a>4-2 ä¿®æ”¹å¤šæ¡è®°å½•</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pymongo<br><br>myclient = pymongo.MongoClient(<span class="hljs-string">&#x27;mongodb://localhost:27017/&#x27;</span>)<br>mydbs = myclient[<span class="hljs-string">&#x27;mydatabase&#x27;</span>]         <span class="hljs-comment"># åˆ›å»ºmydatabaseæ•°æ®åº“</span><br>mycol = mydbs[<span class="hljs-string">&#x27;customers&#x27;</span>]             <span class="hljs-comment"># åˆ›å»ºåä¸ºcustomersçš„é›†åˆ</span><br><br>myque = &#123;<span class="hljs-string">&quot;address&quot;</span>: &#123;<span class="hljs-string">&quot;$regex&quot;</span>: <span class="hljs-string">&quot;^S&quot;</span>&#125;&#125;  <span class="hljs-comment"># å°†åœ°å€ä»¥å­—æ¯Så¼€å¤´çš„è®°å½•ï¼Œnameéƒ½æ”¹ä¸ºâ€œMinnieâ€</span><br>mynew = &#123;<span class="hljs-string">&quot;$set&quot;</span>: &#123;<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Minnie&quot;</span>&#125;&#125;<br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> mycol.find():<br>    <span class="hljs-built_in">print</span>(x)                           <span class="hljs-comment"># æŸ¥è¯¢ä¿®æ”¹å‰çš„è®°å½•</span><br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;**************************************************************************************&#x27;</span>)<br><br>y = mycol.update_many(myque, mynew)<br><span class="hljs-built_in">print</span>(y.modified_count, <span class="hljs-string">&#x27;documents updated.&#x27;</span>)<br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> mycol.find():<br>    <span class="hljs-built_in">print</span>(x)                           <span class="hljs-comment"># æŸ¥è¯¢ä¿®æ”¹åçš„è®°å½•</span><br></code></pre></td></tr></table></figure><h1 id="5-åˆ é™¤è®°å½•"><a href="#5-åˆ é™¤è®°å½•" class="headerlink" title="5 åˆ é™¤è®°å½•"></a>5 åˆ é™¤è®°å½•</h1><ul><li>åˆ é™¤è®°å½•<ul><li>åˆ é™¤å•ä¸ªè®°å½•ï¼š<code>delete_one()</code>æ–¹æ³•ã€‚<ul><li>ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæŸ¥è¯¢å¯¹è±¡ï¼Œå®šä¹‰è¦åˆ é™¤çš„æ–‡æ¡£ã€‚</li><li>è‹¥æ‰¾åˆ°å¤šä¸ªæ–‡æ¡£ï¼Œåˆ™åªä¼šåˆ é™¤ç¬¬ä¸€ä¸ªå‡ºç°çš„æ–‡æ¡£ã€‚</li></ul></li><li>åˆ é™¤å¤šä¸ªè®°å½•ï¼š<code>delete_many()</code>æ–¹æ³•ã€‚<ul><li>ç¬¬ä¸€ä¸ªå‚æ•°å®šä¹‰äº†è¦åˆ é™¤å“ªäº›æ–‡æ¡£çš„æŸ¥è¯¢å¯¹è±¡ã€‚</li><li>è¦åˆ é™¤æ‰€æœ‰è®°å½•ï¼Œå°†ç©ºæŸ¥è¯¢å¯¹è±¡ä¼ é€’ç»™è¯¥æ–¹æ³•ã€‚</li></ul></li></ul></li></ul><h2 id="5-1-åˆ é™¤å•ä¸ªè®°å½•"><a href="#5-1-åˆ é™¤å•ä¸ªè®°å½•" class="headerlink" title="5-1 åˆ é™¤å•ä¸ªè®°å½•"></a>5-1 åˆ é™¤å•ä¸ªè®°å½•</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pymongo<br><br>myclient = pymongo.MongoClient(<span class="hljs-string">&#x27;mongodb://localhost:27017/&#x27;</span>)<br>mydbs = myclient[<span class="hljs-string">&#x27;mydatabase&#x27;</span>]          <span class="hljs-comment"># åˆ›å»ºmydatabaseæ•°æ®åº“</span><br>mycol = mydbs[<span class="hljs-string">&#x27;customers&#x27;</span>]              <span class="hljs-comment"># åˆ›å»ºåä¸ºcustomersçš„é›†åˆ</span><br><br>myque = &#123;<span class="hljs-string">&quot;address&quot;</span>: <span class="hljs-string">&quot;Mountain 21&quot;</span>&#125;      <span class="hljs-comment"># åˆ é™¤åœ°å€ä¸ºâ€œMountain 21â€çš„è®°å½•</span><br>mycol.delete_one(myque)<br></code></pre></td></tr></table></figure><h2 id="5-2-åˆ é™¤å¤šä¸ªè®°å½•"><a href="#5-2-åˆ é™¤å¤šä¸ªè®°å½•" class="headerlink" title="5-2 åˆ é™¤å¤šä¸ªè®°å½•"></a>5-2 åˆ é™¤å¤šä¸ªè®°å½•</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pymongo<br><br>myclient = pymongo.MongoClient(<span class="hljs-string">&#x27;mongodb://localhost:27017/&#x27;</span>)<br>mydbs = myclient[<span class="hljs-string">&#x27;mydatabase&#x27;</span>]          <span class="hljs-comment"># åˆ›å»ºmydatabaseæ•°æ®åº“</span><br>mycol = mydbs[<span class="hljs-string">&#x27;customers&#x27;</span>]              <span class="hljs-comment"># åˆ›å»ºåä¸ºcustomersçš„é›†åˆ</span><br><br>myque = &#123;<span class="hljs-string">&quot;address&quot;</span>: &#123;<span class="hljs-string">&quot;$regex&quot;</span>: <span class="hljs-string">&quot;^S&quot;</span>&#125;&#125;   <span class="hljs-comment"># åˆ é™¤åœ°å€ä»¥å­—æ¯Så¼€å¤´çš„æ‰€æœ‰è®°å½•</span><br>x = mycol.delete_many(myque)<br><span class="hljs-built_in">print</span>(x.deleted_count, <span class="hljs-string">&#x27;documents deleted.&#x27;</span>)<br></code></pre></td></tr></table></figure><h2 id="5-3-åˆ é™¤æ‰€æœ‰è®°å½•"><a href="#5-3-åˆ é™¤æ‰€æœ‰è®°å½•" class="headerlink" title="5-3 åˆ é™¤æ‰€æœ‰è®°å½•"></a>5-3 åˆ é™¤æ‰€æœ‰è®°å½•</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pymongo<br><br>myclient = pymongo.MongoClient(<span class="hljs-string">&#x27;mongodb://localhost:27017/&#x27;</span>)<br>mydbs = myclient[<span class="hljs-string">&#x27;mydatabase&#x27;</span>]          <span class="hljs-comment"># åˆ›å»ºmydatabaseæ•°æ®åº“</span><br>mycol = mydbs[<span class="hljs-string">&#x27;customers&#x27;</span>]              <span class="hljs-comment"># åˆ›å»ºåä¸ºcustomersçš„é›†åˆ</span><br><br>x = mycol.delete_many(&#123;&#125;)               <span class="hljs-comment"># åˆ é™¤é›†åˆä¸­çš„æ‰€æœ‰è®°å½•</span><br><span class="hljs-built_in">print</span>(x.deleted_count, <span class="hljs-string">&#x27;documents deleted.&#x27;</span>)<br></code></pre></td></tr></table></figure><h1 id="6-åˆ é™¤é›†åˆ"><a href="#6-åˆ é™¤é›†åˆ" class="headerlink" title="6 åˆ é™¤é›†åˆ"></a>6 åˆ é™¤é›†åˆ</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pymongo<br><br>myclient = pymongo.MongoClient(<span class="hljs-string">&#x27;mongodb://localhost:27017/&#x27;</span>)<br>mydbs = myclient[<span class="hljs-string">&#x27;mydatabase&#x27;</span>]         <span class="hljs-comment"># åˆ›å»ºmydatabaseæ•°æ®åº“</span><br>mycol = mydbs[<span class="hljs-string">&#x27;customers&#x27;</span>]             <span class="hljs-comment"># åˆ›å»ºåä¸ºcustomersçš„é›†åˆ</span><br><br>mycol.drop()                           <span class="hljs-comment"># åˆ é™¤åä¸ºcustomersçš„é›†åˆ</span><br><br><span class="hljs-comment"># collists = mydbs.collection_names()  # æ—§ç‰ˆä½¿ç”¨</span><br>collists = mydbs.list_collection_names()<br><span class="hljs-built_in">print</span>(collists)                        <span class="hljs-comment"># æŸ¥è¯¢è¯¥æ•°æ®åº“å‰©ä½™çš„é›†åˆåˆ—è¡¨</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>MongoDB</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python MySQL</title>
    <link href="/2021/10/07/python/python11-python-mysql/"/>
    <url>/2021/10/07/python/python11-python-mysql/</url>
    
    <content type="html"><![CDATA[<p>Pythonå¯ç”¨äºæ•°æ®åº“åº”ç”¨ç¨‹åºï¼Œå½“å‰è¾ƒä¸ºæµè¡Œçš„ä¸€ä¸ªå¼€æºå…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿæ˜¯MySQLï¼Œç”±ç‘å…¸MySQL ABå…¬å¸1995å¹´å¼€å‘ã€‚</p><span id="more"></span><h1 id="1-MySQL"><a href="#1-MySQL" class="headerlink" title="1 MySQL"></a>1 MySQL</h1><ul><li>MySQL<ul><li>Pythonéœ€ä¸€ä¸ªMySQLé©±åŠ¨ç¨‹åºï¼Œç”¨äºè®¿é—®MySQLæ•°æ®åº“ï¼Œè¿™é‡Œä½¿ç”¨MySQL Connectoré©±åŠ¨ç¨‹åºã€‚</li><li>ä¸‹è½½å®‰è£…MySQLè¿æ¥å™¨ï¼Œå‘½ä»¤çª—å£è¾“å…¥ï¼š<code>python -m pip install mysql-connector-python</code>ã€‚</li><li>å‘½ä»¤çª—å£ä¸‹è¿›å…¥Pythonäº¤äº’ç•Œé¢ï¼Œè¾“å…¥<code>import mysql.connector</code>å›è½¦ï¼Œæ²¡æœ‰æŠ¥é”™è¯´æ˜æˆåŠŸå®‰è£…ã€‚</li><li>MySQLï¼šåˆ›å»ºæ•°æ®åº“-&gt;<code>CREATE DATABASE &lt;database-name&gt;</code>ã€æŸ¥çœ‹æ•°æ®åº“-&gt;<code>SHOW DATABASES</code>ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> mysql.connector<br><br>mydb = mysql.connector.connect(    <span class="hljs-comment"># åˆ›å»ºè¿æ¥</span><br>    host=<span class="hljs-string">&#x27;localhost&#x27;</span>,<br>    port=<span class="hljs-string">&#x27;3366&#x27;</span>,                   <span class="hljs-comment"># è‡ªå®šä¹‰æœ¬åœ°MySQLç«¯å£å·ä¸º3366</span><br>    user=<span class="hljs-string">&#x27;root&#x27;</span>,<br>    password=<span class="hljs-string">&#x27;123456&#x27;</span>              <span class="hljs-comment"># MySQLé»˜è®¤å¯†ç </span><br>)<br><br><span class="hljs-built_in">print</span>(mydb)<br></code></pre></td></tr></table></figure><h2 id="1-1-åˆ›å»ºæ•°æ®åº“"><a href="#1-1-åˆ›å»ºæ•°æ®åº“" class="headerlink" title="1-1 åˆ›å»ºæ•°æ®åº“"></a>1-1 åˆ›å»ºæ•°æ®åº“</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> mysql.connector<br><br>mydb = mysql.connector.connect(<br>    host=<span class="hljs-string">&#x27;localhost&#x27;</span>,<br>    port=<span class="hljs-string">&#x27;3366&#x27;</span>,<br>    user=<span class="hljs-string">&#x27;root&#x27;</span>,<br>    password=<span class="hljs-string">&#x27;123456&#x27;</span><br>)<br><br>mycursor = mydb.cursor()<br>mycursor.execute(<span class="hljs-string">&#x27;CREATE DATABASE mydatabase&#x27;</span>)<br></code></pre></td></tr></table></figure><h2 id="1-2-æŸ¥çœ‹æ•°æ®åº“"><a href="#1-2-æŸ¥çœ‹æ•°æ®åº“" class="headerlink" title="1-2 æŸ¥çœ‹æ•°æ®åº“"></a>1-2 æŸ¥çœ‹æ•°æ®åº“</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> mysql.connector<br><br>mydb = mysql.connector.connect(<br>    host=<span class="hljs-string">&#x27;localhost&#x27;</span>,<br>    port=<span class="hljs-string">&#x27;3366&#x27;</span>,<br>    user=<span class="hljs-string">&#x27;root&#x27;</span>,<br>    password=<span class="hljs-string">&#x27;123456&#x27;</span><br>)<br><br>mycursor = mydb.cursor()<br>mycursor.execute(<span class="hljs-string">&#x27;SHOW DATABASES&#x27;</span>)<br><br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> mycursor:<br>    <span class="hljs-built_in">print</span>(x)<br></code></pre></td></tr></table></figure><h2 id="1-3-è¿æ¥æ•°æ®åº“"><a href="#1-3-è¿æ¥æ•°æ®åº“" class="headerlink" title="1-3 è¿æ¥æ•°æ®åº“"></a>1-3 è¿æ¥æ•°æ®åº“</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> mysql.connector<br><br>mydb = mysql.connector.connect(<br>    host=<span class="hljs-string">&#x27;localhost&#x27;</span>,<br>    port=<span class="hljs-string">&#x27;3366&#x27;</span>,<br>    user=<span class="hljs-string">&#x27;root&#x27;</span>,<br>    password=<span class="hljs-string">&#x27;123456&#x27;</span>,<br>    database=<span class="hljs-string">&#x27;mydatabase&#x27;</span>           <span class="hljs-comment"># å°è¯•è¿æ¥æ•°æ®åº“ï¼Œè‹¥ä¸å­˜åœ¨å°†æŠ¥é”™</span><br>)<br></code></pre></td></tr></table></figure><h1 id="2-åˆ›å»ºæ•°æ®è¡¨"><a href="#2-åˆ›å»ºæ•°æ®è¡¨" class="headerlink" title="2 åˆ›å»ºæ•°æ®è¡¨"></a>2 åˆ›å»ºæ•°æ®è¡¨</h1><ul><li>åˆ›å»ºæ•°æ®è¡¨<ul><li>MySQLï¼š<code>CREATE TABLE &lt;table-name&gt; (&lt;variable-name&gt; VARCHAR(255), ... , &lt;variable-name&gt; VARCHAR(255))</code>ã€‚</li><li>æŸ¥çœ‹è¡¨ä½¿ç”¨çš„å‘½ä»¤-&gt;<code>SHOW TABLES</code>ã€‚</li><li>è¡¨å­˜åœ¨æ—¶æ·»åŠ ä¸»é”®-&gt;<code>ALTER TABLE &lt;table-name&gt; ADD COLUMN &lt;variable-name&gt; INT AUTO_INCREMENT PRIMARY KEY</code>ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> mysql.connector<br><br>mydb = mysql.connector.connect(<br>    host=<span class="hljs-string">&#x27;localhost&#x27;</span>,<br>    port=<span class="hljs-string">&#x27;3366&#x27;</span>,<br>    user=<span class="hljs-string">&#x27;root&#x27;</span>,<br>    password=<span class="hljs-string">&#x27;123456&#x27;</span>,<br>    database=<span class="hljs-string">&#x27;mydatabase&#x27;</span><br>)<br><br>mycursor = mydb.cursor()           <span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªåä¸ºcustomersçš„æ•°æ®è¡¨</span><br>mycursor.execute(<span class="hljs-string">&#x27;CREATE TABLE customers (name VARCHAR(255), address VARCHAR(255))&#x27;</span>)<br></code></pre></td></tr></table></figure><h2 id="2-1-æŸ¥çœ‹æ•°æ®è¡¨"><a href="#2-1-æŸ¥çœ‹æ•°æ®è¡¨" class="headerlink" title="2-1 æŸ¥çœ‹æ•°æ®è¡¨"></a>2-1 æŸ¥çœ‹æ•°æ®è¡¨</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> mysql.connector<br><br>mydb = mysql.connector.connect(<br>    host=<span class="hljs-string">&#x27;localhost&#x27;</span>,<br>    port=<span class="hljs-string">&#x27;3366&#x27;</span>,<br>    user=<span class="hljs-string">&#x27;root&#x27;</span>,<br>    password=<span class="hljs-string">&#x27;123456&#x27;</span>,<br>    database=<span class="hljs-string">&#x27;mydatabase&#x27;</span><br>)<br><br>mycursor = mydb.cursor()<br>mycursor.execute(<span class="hljs-string">&#x27;SHOW TABLES&#x27;</span>)<br><br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> mycursor:<br>    <span class="hljs-built_in">print</span>(x)<br></code></pre></td></tr></table></figure><h2 id="2-2-åˆ›å»ºå”¯ä¸€é”®"><a href="#2-2-åˆ›å»ºå”¯ä¸€é”®" class="headerlink" title="2-2 åˆ›å»ºå”¯ä¸€é”®"></a>2-2 åˆ›å»ºå”¯ä¸€é”®</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> mysql.connector<br><br>mydb = mysql.connector.connect(<br>    host=<span class="hljs-string">&#x27;localhost&#x27;</span>,<br>    port=<span class="hljs-string">&#x27;3366&#x27;</span>,<br>    user=<span class="hljs-string">&#x27;root&#x27;</span>,<br>    password=<span class="hljs-string">&#x27;123456&#x27;</span>,<br>    database=<span class="hljs-string">&#x27;mydatabase&#x27;</span><br>)<br><br>mycursor = mydb.cursor()<br><span class="hljs-comment"># mycursor.execute(&#x27;CREATE TABLE customers \</span><br><span class="hljs-comment">#                 (id INT AUTO_INCREMENT PRIMARY KEY, \</span><br><span class="hljs-comment">#                 name VARCHAR(255), address VARCHAR(255))&#x27;</span><br><span class="hljs-comment">#                  )</span><br><br><span class="hljs-comment"># è¯¥è¡¨å·²å­˜åœ¨çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨ALTER TABLEå…³é”®å­—è¿›è¡ŒADD COLUMN</span><br>mycursor.execute(<span class="hljs-string">&#x27;ALTER TABLE customers ADD COLUMN id INT AUTO_INCREMENT PRIMARY KEY&#x27;</span>)<br></code></pre></td></tr></table></figure><h1 id="3-æ’å…¥æ•°æ®è¡¨"><a href="#3-æ’å…¥æ•°æ®è¡¨" class="headerlink" title="3 æ’å…¥æ•°æ®è¡¨"></a>3 æ’å…¥æ•°æ®è¡¨</h1><ul><li>æ’å…¥æ•°æ®è¡¨<ul><li>MySQLï¼š<code>INSERT INTO &lt;table-name&gt; (&lt;variable-name&gt;, ..., &lt;variable-name&gt;) VALUES (%s, ..., %s)</code>ã€‚</li><li>æ•°æ®è¡¨åŒæ—¶æ’å…¥å¤šè¡Œæ•°æ®ï¼š<code>executemany()</code>æ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯å…ƒç»„åˆ—è¡¨ã€‚</li><li>è·å–è¡¨æ’å…¥æœ€åä¸€è¡Œçš„IDï¼š<code>lastrowid</code>é€šè¿‡è¯¢é—®æ¸¸æ ‡å¯¹è±¡è·å–æ’å…¥çš„è¡ŒIDã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> mysql.connector<br><br>mydb = mysql.connector.connect(<br>    host=<span class="hljs-string">&#x27;localhost&#x27;</span>,<br>    port=<span class="hljs-string">&#x27;3366&#x27;</span>,<br>    user=<span class="hljs-string">&#x27;root&#x27;</span>,<br>    password=<span class="hljs-string">&#x27;123456&#x27;</span>,<br>    database=<span class="hljs-string">&#x27;mydatabase&#x27;</span><br>)<br><br>mycursor = mydb.cursor()<br>sql = <span class="hljs-string">&#x27;INSERT INTO customers (name, address) VALUES (%s, %s)&#x27;</span><br>val = (<span class="hljs-string">&#x27;Lucy&#x27;</span>, <span class="hljs-string">&#x27;Highway 21&#x27;</span>)<br>mycursor.execute(sql, val)<br><br>mydb.commit()                      <span class="hljs-comment"># éœ€è¦commitï¼Œå¦åˆ™ä¸ä¼šå¯¹è¡¨è¿›è¡Œä»»ä½•æ›´æ”¹</span><br><span class="hljs-built_in">print</span>(mycursor.rowcount, <span class="hljs-string">&#x27;record inserted.&#x27;</span>)<br></code></pre></td></tr></table></figure><h2 id="3-1-è¡¨æ’å…¥å¤šè¡Œ"><a href="#3-1-è¡¨æ’å…¥å¤šè¡Œ" class="headerlink" title="3-1 è¡¨æ’å…¥å¤šè¡Œ"></a>3-1 è¡¨æ’å…¥å¤šè¡Œ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> mysql.connector<br><br>mydb = mysql.connector.connect(<br>    host=<span class="hljs-string">&#x27;localhost&#x27;</span>,<br>    port=<span class="hljs-string">&#x27;3366&#x27;</span>,<br>    user=<span class="hljs-string">&#x27;root&#x27;</span>,<br>    password=<span class="hljs-string">&#x27;123456&#x27;</span>,<br>    database=<span class="hljs-string">&#x27;mydatabase&#x27;</span><br>)<br><br>mycursor = mydb.cursor()<br>sql = <span class="hljs-string">&#x27;INSERT INTO customers (name, address) VALUES (%s, %s)&#x27;</span><br>val = [                            <span class="hljs-comment"># executemany()æ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°valæ˜¯å…ƒç»„åˆ—è¡¨</span><br>    (<span class="hljs-string">&#x27;Peter&#x27;</span>, <span class="hljs-string">&#x27;Lowstreet 4&#x27;</span>),<br>    (<span class="hljs-string">&#x27;Amy&#x27;</span>, <span class="hljs-string">&#x27;Apple st 652&#x27;</span>),<br>    (<span class="hljs-string">&#x27;Hannah&#x27;</span>, <span class="hljs-string">&#x27;Mountain 21&#x27;</span>),<br>    (<span class="hljs-string">&#x27;Michael&#x27;</span>, <span class="hljs-string">&#x27;Valley 345&#x27;</span>),<br>    (<span class="hljs-string">&#x27;Sandy&#x27;</span>, <span class="hljs-string">&#x27;Ocean blvd 2&#x27;</span>),<br>    (<span class="hljs-string">&#x27;Betty&#x27;</span>, <span class="hljs-string">&#x27;Green Grass 1&#x27;</span>),<br>    (<span class="hljs-string">&#x27;Richard&#x27;</span>, <span class="hljs-string">&#x27;Sky st 331&#x27;</span>),<br>    (<span class="hljs-string">&#x27;Susan&#x27;</span>, <span class="hljs-string">&#x27;One way 98&#x27;</span>),<br>    (<span class="hljs-string">&#x27;Vicky&#x27;</span>, <span class="hljs-string">&#x27;Yellow Garden 2&#x27;</span>),<br>    (<span class="hljs-string">&#x27;Ben&#x27;</span>, <span class="hljs-string">&#x27;Park Lane 38&#x27;</span>),<br>    (<span class="hljs-string">&#x27;William&#x27;</span>, <span class="hljs-string">&#x27;Central st 954&#x27;</span>),<br>    (<span class="hljs-string">&#x27;Chuck&#x27;</span>, <span class="hljs-string">&#x27;Main Road 989&#x27;</span>),<br>    (<span class="hljs-string">&#x27;Viola&#x27;</span>, <span class="hljs-string">&#x27;Sideway 1633&#x27;</span>)<br>]<br>mycursor.executemany(sql, val)<br><br>mydb.commit()<br><span class="hljs-built_in">print</span>(mycursor.rowcount, <span class="hljs-string">&#x27;was inserted.&#x27;</span>)<br></code></pre></td></tr></table></figure><h2 id="3-2-è·å–æ’å…¥ID"><a href="#3-2-è·å–æ’å…¥ID" class="headerlink" title="3-2 è·å–æ’å…¥ID"></a>3-2 è·å–æ’å…¥ID</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> mysql.connector<br><br>mydb = mysql.connector.connect(<br>    host=<span class="hljs-string">&#x27;localhost&#x27;</span>,<br>    port=<span class="hljs-string">&#x27;3366&#x27;</span>,<br>    user=<span class="hljs-string">&#x27;root&#x27;</span>,<br>    password=<span class="hljs-string">&#x27;123456&#x27;</span>,<br>    database=<span class="hljs-string">&#x27;mydatabase&#x27;</span><br>)<br><br>mycursor = mydb.cursor()<br>sql = <span class="hljs-string">&#x27;INSERT INTO customers (name, address) VALUES (%s, %s)&#x27;</span><br>val = (<span class="hljs-string">&#x27;John&#x27;</span>, <span class="hljs-string">&#x27;Blue Village&#x27;</span>)<br>mycursor.execute(sql, val)<br><br>mydb.commit()                      <span class="hljs-comment"># é€šè¿‡è¯¢é—®æ¸¸æ ‡å¯¹è±¡æ¥è·å–æ’å…¥çš„è¡ŒID</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;1 record inserted, ID: &#x27;</span>, mycursor.lastrowid)<br></code></pre></td></tr></table></figure><h1 id="4-æŸ¥è¯¢æ•°æ®è¡¨"><a href="#4-æŸ¥è¯¢æ•°æ®è¡¨" class="headerlink" title="4 æŸ¥è¯¢æ•°æ®è¡¨"></a>4 æŸ¥è¯¢æ•°æ®è¡¨</h1><ul><li>æŸ¥è¯¢æ•°æ®è¡¨<ul><li>MySQLï¼š<code>SELECT * FROM &lt;table-name&gt;</code>ï¼ŒåªæŸ¥è¯¢ç¬¬ä¸€è¡Œæ•°æ®å¯ä»¥ä½¿ç”¨<code>fetchone()</code>æ–¹æ³•ã€‚</li><li>æŸ¥è¯¢é€‰æ‹©åˆ—-&gt;<code>SELECT &lt;variable-name&gt;, ..., &lt;variable-name&gt; FROM &lt;table-name&gt;</code>ã€‚</li><li>æŸ¥è¯¢æŒ‡å®šå€¼-&gt;<code>SELECT * FROM &lt;table-name&gt; WHERE &lt;variable-name&gt; = &quot; &lt;value&gt; &quot;</code>ã€‚</li><li>é€šé…ç¬¦æŸ¥è¯¢-&gt;<code>SELECT * FROM &lt;table-name&gt; WHERE &lt;variable-name&gt; LIKE &quot;%&lt;value&gt;%&quot;</code>ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> mysql.connector<br><br>mydb = mysql.connector.connect(<br>    host=<span class="hljs-string">&#x27;localhost&#x27;</span>,<br>    port=<span class="hljs-string">&#x27;3366&#x27;</span>,<br>    user=<span class="hljs-string">&#x27;root&#x27;</span>,<br>    password=<span class="hljs-string">&#x27;123456&#x27;</span>,<br>    database=<span class="hljs-string">&#x27;mydatabase&#x27;</span><br>)<br><br>mycursor = mydb.cursor()<br>mycursor.execute(<span class="hljs-string">&#x27;SELECT * FROM customers&#x27;</span>)<br>myresult = mycursor.fetchall()     <span class="hljs-comment"># è·å–è¡¨æ‰€æœ‰è¡Œ</span><br><br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> myresult:<br>    <span class="hljs-built_in">print</span>(x)<br></code></pre></td></tr></table></figure><h2 id="4-1-æŸ¥è¯¢é€‰æ‹©åˆ—"><a href="#4-1-æŸ¥è¯¢é€‰æ‹©åˆ—" class="headerlink" title="4-1 æŸ¥è¯¢é€‰æ‹©åˆ—"></a>4-1 æŸ¥è¯¢é€‰æ‹©åˆ—</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> mysql.connector<br><br>mydb = mysql.connector.connect(<br>    host=<span class="hljs-string">&#x27;localhost&#x27;</span>,<br>    port=<span class="hljs-string">&#x27;3366&#x27;</span>,<br>    user=<span class="hljs-string">&#x27;root&#x27;</span>,<br>    password=<span class="hljs-string">&#x27;123456&#x27;</span>,<br>    database=<span class="hljs-string">&#x27;mydatabase&#x27;</span><br>)<br><br>mycursor = mydb.cursor()<br>mycursor.execute(<span class="hljs-string">&#x27;SELECT name, address FROM customers&#x27;</span>)<br>myresult = mycursor.fetchall()     <span class="hljs-comment"># è·å–nameå’Œaddressåˆ—æ•°æ®</span><br><br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> myresult:<br>    <span class="hljs-built_in">print</span>(x)<br></code></pre></td></tr></table></figure><h2 id="4-2-åªæŸ¥è¯¢ä¸€è¡Œ"><a href="#4-2-åªæŸ¥è¯¢ä¸€è¡Œ" class="headerlink" title="4-2 åªæŸ¥è¯¢ä¸€è¡Œ"></a>4-2 åªæŸ¥è¯¢ä¸€è¡Œ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> mysql.connector<br><br>mydb = mysql.connector.connect(<br>    host=<span class="hljs-string">&#x27;localhost&#x27;</span>,<br>    port=<span class="hljs-string">&#x27;3366&#x27;</span>,<br>    user=<span class="hljs-string">&#x27;root&#x27;</span>,<br>    password=<span class="hljs-string">&#x27;123456&#x27;</span>,<br>    database=<span class="hljs-string">&#x27;mydatabase&#x27;</span><br>)<br><br>mycursor = mydb.cursor()<br>mycursor.execute(<span class="hljs-string">&#x27;SELECT * FROM customers&#x27;</span>)<br>myresult = mycursor.fetchone()     <span class="hljs-comment"># ä½¿ç”¨fetchone()æ–¹æ³•è·å–ç¬¬ä¸€è¡Œæ•°æ®</span><br><span class="hljs-built_in">print</span>(myresult)<br></code></pre></td></tr></table></figure><h2 id="4-3-æŸ¥è¯¢æŒ‡å®šå€¼"><a href="#4-3-æŸ¥è¯¢æŒ‡å®šå€¼" class="headerlink" title="4-3 æŸ¥è¯¢æŒ‡å®šå€¼"></a>4-3 æŸ¥è¯¢æŒ‡å®šå€¼</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> mysql.connector<br><br>mydb = mysql.connector.connect(<br>    host=<span class="hljs-string">&#x27;localhost&#x27;</span>,<br>    port=<span class="hljs-string">&#x27;3366&#x27;</span>,<br>    user=<span class="hljs-string">&#x27;root&#x27;</span>,<br>    password=<span class="hljs-string">&#x27;123456&#x27;</span>,<br>    database=<span class="hljs-string">&#x27;mydatabase&#x27;</span><br>)<br><br>mycursor = mydb.cursor()<br>sql = <span class="hljs-string">&#x27;SELECT * FROM customers WHERE address = &quot;Park Lane 38&quot;&#x27;</span><br>mycursor.execute(sql)<br>myresult = mycursor.fetchall()<br><br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> myresult:<br>    <span class="hljs-built_in">print</span>(x)<br></code></pre></td></tr></table></figure><h2 id="4-4-é€šé…ç¬¦æŸ¥è¯¢"><a href="#4-4-é€šé…ç¬¦æŸ¥è¯¢" class="headerlink" title="4-4 é€šé…ç¬¦æŸ¥è¯¢"></a>4-4 é€šé…ç¬¦æŸ¥è¯¢</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> mysql.connector<br><br>mydb = mysql.connector.connect(<br>    host=<span class="hljs-string">&#x27;localhost&#x27;</span>,<br>    port=<span class="hljs-string">&#x27;3366&#x27;</span>,<br>    user=<span class="hljs-string">&#x27;root&#x27;</span>,<br>    password=<span class="hljs-string">&#x27;123456&#x27;</span>,<br>    database=<span class="hljs-string">&#x27;mydatabase&#x27;</span><br>)<br><br>mycursor = mydb.cursor()<br>sql = <span class="hljs-string">&#x27;SELECT * FROM customers WHERE address LIKE &quot;%way%&quot;&#x27;</span><br>mycursor.execute(sql)<br>myresult = mycursor.fetchall()<br><br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> myresult:<br>    <span class="hljs-built_in">print</span>(x)<br></code></pre></td></tr></table></figure><h2 id="4-5-é˜²SQLæ³¨å…¥"><a href="#4-5-é˜²SQLæ³¨å…¥" class="headerlink" title="4-5 é˜²SQLæ³¨å…¥"></a>4-5 é˜²SQLæ³¨å…¥</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> mysql.connector<br><br>mydb = mysql.connector.connect(<br>    host=<span class="hljs-string">&#x27;localhost&#x27;</span>,<br>    port=<span class="hljs-string">&#x27;3366&#x27;</span>,<br>    user=<span class="hljs-string">&#x27;root&#x27;</span>,<br>    password=<span class="hljs-string">&#x27;123456&#x27;</span>,<br>    database=<span class="hljs-string">&#x27;mydatabase&#x27;</span><br>)<br><br>mycursor = mydb.cursor()<br>sql = <span class="hljs-string">&#x27;SELECT * FROM customers WHERE address = %s&#x27;</span><br>adr = (<span class="hljs-string">&#x27;Yellow Garden 2&#x27;</span>, )<br>mycursor.execute(sql, adr)<br>myresult = mycursor.fetchall()<br><br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> myresult:<br>    <span class="hljs-built_in">print</span>(x)<br></code></pre></td></tr></table></figure><h2 id="4-6-æ•°æ®è¡¨æ’åº"><a href="#4-6-æ•°æ®è¡¨æ’åº" class="headerlink" title="4-6 æ•°æ®è¡¨æ’åº"></a>4-6 æ•°æ®è¡¨æ’åº</h2><ul><li>æ•°æ®è¡¨æ’åº<ul><li>å‡åº-&gt;<code>SELECT * FROM &lt;table-name&gt; ORDER BY &lt;variable-name&gt;</code>ã€‚</li><li>é™åº-&gt;<code>SELECT * FROM &lt;table-name&gt; ORDER BY &lt;variable-name&gt; DESC</code>ã€‚</li></ul></li></ul><h4 id="1-å‡åºæ’åº"><a href="#1-å‡åºæ’åº" class="headerlink" title="(1) å‡åºæ’åº"></a>(1) å‡åºæ’åº</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> mysql.connector<br><br>mydb = mysql.connector.connect(<br>    host=<span class="hljs-string">&#x27;localhost&#x27;</span>,<br>    port=<span class="hljs-string">&#x27;3366&#x27;</span>,<br>    user=<span class="hljs-string">&#x27;root&#x27;</span>,<br>    password=<span class="hljs-string">&#x27;123456&#x27;</span>,<br>    database=<span class="hljs-string">&#x27;mydatabase&#x27;</span><br>)<br><br>mycursor = mydb.cursor()<br>sql = <span class="hljs-string">&#x27;SELECT * FROM customers ORDER BY name&#x27;</span><br>mycursor.execute(sql)<br>myresult = mycursor.fetchall()<br><br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> myresult:<br>    <span class="hljs-built_in">print</span>(x)<br></code></pre></td></tr></table></figure><h4 id="2-é™åºæ’åº"><a href="#2-é™åºæ’åº" class="headerlink" title="(2) é™åºæ’åº"></a>(2) é™åºæ’åº</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> mysql.connector<br><br>mydb = mysql.connector.connect(<br>    host=<span class="hljs-string">&#x27;localhost&#x27;</span>,<br>    port=<span class="hljs-string">&#x27;3366&#x27;</span>,<br>    user=<span class="hljs-string">&#x27;root&#x27;</span>,<br>    password=<span class="hljs-string">&#x27;123456&#x27;</span>,<br>    database=<span class="hljs-string">&#x27;mydatabase&#x27;</span><br>)<br><br>mycursor = mydb.cursor()<br>sql = <span class="hljs-string">&#x27;SELECT * FROM customers ORDER BY name DESC&#x27;</span><br>mycursor.execute(sql)<br>myresult = mycursor.fetchall()<br><br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> myresult:<br>    <span class="hljs-built_in">print</span>(x)<br></code></pre></td></tr></table></figure><h2 id="4-7-æŸ¥è¯¢è¡¨è®°å½•"><a href="#4-7-æŸ¥è¯¢è¡¨è®°å½•" class="headerlink" title="4-7 æŸ¥è¯¢è¡¨è®°å½•"></a>4-7 æŸ¥è¯¢è¡¨è®°å½•</h2><ul><li>æŸ¥è¯¢è¡¨è®°å½•<ul><li>æŸ¥è¯¢æ•°æ®è¡¨çš„å‰äº”æ¡è®°å½•-&gt;<code>SELECT * FROM &lt;table-name&gt; LIMIT 5</code>ã€‚</li><li>ä½ç½®ä¸‰å¼€å§‹è¿”å›äº”æ¡è®°å½•-&gt;<code>SELECT * FROM &lt;table-name&gt; LIMIT 5 OFFSET 2</code>ã€‚</li></ul></li></ul><h4 id="1-æŸ¥è¯¢å‰äº”æ¡"><a href="#1-æŸ¥è¯¢å‰äº”æ¡" class="headerlink" title="(1) æŸ¥è¯¢å‰äº”æ¡"></a>(1) æŸ¥è¯¢å‰äº”æ¡</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> mysql.connector<br><br>mydb = mysql.connector.connect(<br>    host=<span class="hljs-string">&#x27;localhost&#x27;</span>,<br>    port=<span class="hljs-string">&#x27;3366&#x27;</span>,<br>    user=<span class="hljs-string">&#x27;root&#x27;</span>,<br>    password=<span class="hljs-string">&#x27;123456&#x27;</span>,<br>    database=<span class="hljs-string">&#x27;mydatabase&#x27;</span><br>)<br><br>mycursor = mydb.cursor()<br>mycursor.execute(<span class="hljs-string">&#x27;SELECT * FROM customers LIMIT 5&#x27;</span>)<br>myresult = mycursor.fetchall()<br><br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> myresult:<br>    <span class="hljs-built_in">print</span>(x)<br></code></pre></td></tr></table></figure><h4 id="2-æŸ¥æŒ‡å®šäº”æ¡"><a href="#2-æŸ¥æŒ‡å®šäº”æ¡" class="headerlink" title="(2) æŸ¥æŒ‡å®šäº”æ¡"></a>(2) æŸ¥æŒ‡å®šäº”æ¡</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> mysql.connector<br><br>mydb = mysql.connector.connect(<br>    host=<span class="hljs-string">&#x27;localhost&#x27;</span>,<br>    port=<span class="hljs-string">&#x27;3366&#x27;</span>,<br>    user=<span class="hljs-string">&#x27;root&#x27;</span>,<br>    password=<span class="hljs-string">&#x27;123456&#x27;</span>,<br>    database=<span class="hljs-string">&#x27;mydatabase&#x27;</span><br>)<br><br>mycursor = mydb.cursor()           <span class="hljs-comment"># ä»ä½ç½®3å¼€å§‹ï¼Œè¿”å›5æ¡è®°å½•</span><br>mycursor.execute(<span class="hljs-string">&#x27;SELECT * FROM customers LIMIT 5 OFFSET 2&#x27;</span>)<br>myresult = mycursor.fetchall()<br><br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> myresult:<br>    <span class="hljs-built_in">print</span>(x)<br></code></pre></td></tr></table></figure><h2 id="4-8-å…³è”æ•°æ®è¡¨"><a href="#4-8-å…³è”æ•°æ®è¡¨" class="headerlink" title="4-8 å…³è”æ•°æ®è¡¨"></a>4-8 å…³è”æ•°æ®è¡¨</h2><ul><li>å…³è”æ•°æ®è¡¨<ul><li>å°†ä¸¤ä¸ªè¡¨å…³è”-&gt;<code>INNER JOIN</code>ã€‚</li><li>ä¸»è¡¨ä¸ºä¸»å·¦è¿æ¥-&gt;<code>LEFT JOIN</code>ã€‚</li><li>å‰¯è¡¨ä¸ºä¸»å³è¿æ¥-&gt;<code>RIGHT JOIN</code>ã€‚</li></ul></li></ul><h4 id="1-åˆ›å»ºä¸¤è¡¨"><a href="#1-åˆ›å»ºä¸¤è¡¨" class="headerlink" title="(1) åˆ›å»ºä¸¤è¡¨"></a>(1) åˆ›å»ºä¸¤è¡¨</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> mysql.connector<br><br>mydb = mysql.connector.connect(<br>    host=<span class="hljs-string">&#x27;localhost&#x27;</span>,<br>    port=<span class="hljs-string">&#x27;3366&#x27;</span>,<br>    user=<span class="hljs-string">&#x27;root&#x27;</span>,<br>    password=<span class="hljs-string">&#x27;123456&#x27;</span>,<br>    database=<span class="hljs-string">&#x27;mydatabase&#x27;</span><br>)<br><br>mycursor = mydb.cursor()<br>mycursor.execute(<span class="hljs-string">&#x27;CREATE TABLE users \</span><br><span class="hljs-string">                (id INT AUTO_INCREMENT PRIMARY KEY, \</span><br><span class="hljs-string">                name VARCHAR(255), fav VARCHAR(255))&#x27;</span><br>                 )                 <span class="hljs-comment"># usersè¡¨</span><br><br>mycursor.execute(<span class="hljs-string">&#x27;CREATE TABLE product \</span><br><span class="hljs-string">                (id INT AUTO_INCREMENT PRIMARY KEY, \</span><br><span class="hljs-string">                name VARCHAR(255))&#x27;</span><br>                 )                 <span class="hljs-comment"># productè¡¨</span><br></code></pre></td></tr></table></figure><h4 id="2-usersæ•°æ®"><a href="#2-usersæ•°æ®" class="headerlink" title="(2) usersæ•°æ®"></a>(2) usersæ•°æ®</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> mysql.connector<br><br>mydb = mysql.connector.connect(<br>    host=<span class="hljs-string">&#x27;localhost&#x27;</span>,<br>    port=<span class="hljs-string">&#x27;3366&#x27;</span>,<br>    user=<span class="hljs-string">&#x27;root&#x27;</span>,<br>    password=<span class="hljs-string">&#x27;123456&#x27;</span>,<br>    database=<span class="hljs-string">&#x27;mydatabase&#x27;</span><br>)<br><br>mycursor = mydb.cursor()<br>sql = <span class="hljs-string">&#x27;INSERT INTO users (id, name, fav) VALUES (%s, %s, %s)&#x27;</span><br>val = [<br>    (<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;John&#x27;</span>, <span class="hljs-string">&#x27;154&#x27;</span>),<br>    (<span class="hljs-number">2</span>, <span class="hljs-string">&#x27;Peter&#x27;</span>, <span class="hljs-string">&#x27;154&#x27;</span>),<br>    (<span class="hljs-number">3</span>, <span class="hljs-string">&#x27;Amy&#x27;</span>, <span class="hljs-string">&#x27;155&#x27;</span>),<br>    (<span class="hljs-number">4</span>, <span class="hljs-string">&#x27;Hannah&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>),<br>    (<span class="hljs-number">5</span>, <span class="hljs-string">&#x27;Michael&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>)<br>]<br>mycursor.executemany(sql, val)<br><br>mydb.commit()<br><span class="hljs-built_in">print</span>(mycursor.rowcount, <span class="hljs-string">&#x27;was inserted.&#x27;</span>)<br></code></pre></td></tr></table></figure><h4 id="3-productæ•°æ®"><a href="#3-productæ•°æ®" class="headerlink" title="(3) productæ•°æ®"></a>(3) productæ•°æ®</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> mysql.connector<br><br>mydb = mysql.connector.connect(<br>    host=<span class="hljs-string">&#x27;localhost&#x27;</span>,<br>    port=<span class="hljs-string">&#x27;3366&#x27;</span>,<br>    user=<span class="hljs-string">&#x27;root&#x27;</span>,<br>    password=<span class="hljs-string">&#x27;123456&#x27;</span>,<br>    database=<span class="hljs-string">&#x27;mydatabase&#x27;</span><br>)<br><br>mycursor = mydb.cursor()<br>sql = <span class="hljs-string">&#x27;INSERT INTO product (id, name) VALUES (%s, %s)&#x27;</span><br>val = [<br>    (<span class="hljs-number">154</span>, <span class="hljs-string">&#x27;Chocolate Heaven&#x27;</span>),<br>    (<span class="hljs-number">155</span>, <span class="hljs-string">&#x27;Tasty Lemons&#x27;</span>),<br>    (<span class="hljs-number">156</span>, <span class="hljs-string">&#x27;Vanilla Dreams&#x27;</span>)<br>]<br>mycursor.executemany(sql, val)<br><br>mydb.commit()<br><span class="hljs-built_in">print</span>(mycursor.rowcount, <span class="hljs-string">&#x27;was inserted.&#x27;</span>)<br></code></pre></td></tr></table></figure><h4 id="4-å°†ä¸¤ä¸ªè¡¨å…³è”"><a href="#4-å°†ä¸¤ä¸ªè¡¨å…³è”" class="headerlink" title="(4) å°†ä¸¤ä¸ªè¡¨å…³è”"></a>(4) å°†ä¸¤ä¸ªè¡¨å…³è”</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> mysql.connector<br><br>mydb = mysql.connector.connect(<br>    host=<span class="hljs-string">&#x27;localhost&#x27;</span>,<br>    port=<span class="hljs-string">&#x27;3366&#x27;</span>,<br>    user=<span class="hljs-string">&#x27;root&#x27;</span>,<br>    password=<span class="hljs-string">&#x27;123456&#x27;</span>,<br>    database=<span class="hljs-string">&#x27;mydatabase&#x27;</span><br>)<br><br>mycursor = mydb.cursor()           <span class="hljs-comment"># INNER JOINåªæ˜¾ç¤ºåŒ¹é…çš„è®°å½•</span><br>sql = <span class="hljs-string">&#x27;SELECT users.name As user, product.name As favorite FROM users \</span><br><span class="hljs-string">       INNER JOIN product ON users.fav = product.id&#x27;</span><br>mycursor.execute(sql)<br>myresult = mycursor.fetchall()<br><br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> myresult:<br>    <span class="hljs-built_in">print</span>(x)<br></code></pre></td></tr></table></figure><h4 id="5-å·¦è¿æ¥ä¸¤ä¸ªè¡¨"><a href="#5-å·¦è¿æ¥ä¸¤ä¸ªè¡¨" class="headerlink" title="(5) å·¦è¿æ¥ä¸¤ä¸ªè¡¨"></a>(5) å·¦è¿æ¥ä¸¤ä¸ªè¡¨</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> mysql.connector<br><br>mydb = mysql.connector.connect(<br>    host=<span class="hljs-string">&#x27;localhost&#x27;</span>,<br>    port=<span class="hljs-string">&#x27;3366&#x27;</span>,<br>    user=<span class="hljs-string">&#x27;root&#x27;</span>,<br>    password=<span class="hljs-string">&#x27;123456&#x27;</span>,<br>    database=<span class="hljs-string">&#x27;mydatabase&#x27;</span><br>)<br><br>mycursor = mydb.cursor()           <span class="hljs-comment"># LEFT JOINæ˜¾ç¤ºæ‰€æœ‰ç”¨æˆ·</span><br>sql = <span class="hljs-string">&#x27;SELECT users.name As user, product.name As favorite FROM users \</span><br><span class="hljs-string">       LEFT JOIN product ON users.fav = product.id&#x27;</span><br>mycursor.execute(sql)<br>myresult = mycursor.fetchall()<br><br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> myresult:                 <span class="hljs-comment"># usersä¸»è¡¨ä¸ºä¸»æ˜¾ç¤º</span><br>    <span class="hljs-built_in">print</span>(x)<br></code></pre></td></tr></table></figure><h4 id="6-å³è¿æ¥ä¸¤ä¸ªè¡¨"><a href="#6-å³è¿æ¥ä¸¤ä¸ªè¡¨" class="headerlink" title="(6) å³è¿æ¥ä¸¤ä¸ªè¡¨"></a>(6) å³è¿æ¥ä¸¤ä¸ªè¡¨</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> mysql.connector<br><br>mydb = mysql.connector.connect(<br>    host=<span class="hljs-string">&#x27;localhost&#x27;</span>,<br>    port=<span class="hljs-string">&#x27;3366&#x27;</span>,<br>    user=<span class="hljs-string">&#x27;root&#x27;</span>,<br>    password=<span class="hljs-string">&#x27;123456&#x27;</span>,<br>    database=<span class="hljs-string">&#x27;mydatabase&#x27;</span><br>)<br><br>mycursor = mydb.cursor()           <span class="hljs-comment"># RIGHT JOINè¿”å›æ‰€æœ‰äº§å“åŠæ”¶è—å®ƒä»¬çš„ç”¨æˆ·</span><br>sql = <span class="hljs-string">&#x27;SELECT users.name As user, product.name As favorite FROM users \</span><br><span class="hljs-string">       RIGHT JOIN product ON users.fav = product.id&#x27;</span><br>mycursor.execute(sql)<br>myresult = mycursor.fetchall()<br><br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> myresult:                 <span class="hljs-comment"># productå‰¯è¡¨ä¸ºä¸»æ˜¾ç¤º</span><br>    <span class="hljs-built_in">print</span>(x)<br></code></pre></td></tr></table></figure><h1 id="5-åˆ é™¤æ•°æ®è¡¨"><a href="#5-åˆ é™¤æ•°æ®è¡¨" class="headerlink" title="5 åˆ é™¤æ•°æ®è¡¨"></a>5 åˆ é™¤æ•°æ®è¡¨</h1><ul><li>åˆ é™¤æ•°æ®è¡¨<ul><li>MySQLï¼šåˆ é™¤æ•°æ®åº“ä¸­ç°æœ‰çš„æ•°æ®è¡¨-&gt;<code>DROP TABLE &lt;table-name&gt;</code>ã€‚</li><li>ä»…å­˜åœ¨è¯¥è¡¨çš„æƒ…å†µä¸‹è¿›è¡Œåˆ é™¤ï¼Œé¿å…æŠ¥é”™-&gt;<code>DROP TABLE IF EXISTS &lt;table-name&gt;</code>ã€‚</li><li>åˆ é™¤è¡¨æ•°æ®-&gt;<code>DELETE FROM &lt;table-name&gt; WHERE &lt;variable-name&gt; = &quot;&lt;value&gt;&quot;</code>ã€‚</li></ul></li></ul><h2 id="5-1-åˆ é™¤ç°æœ‰è¡¨"><a href="#5-1-åˆ é™¤ç°æœ‰è¡¨" class="headerlink" title="5-1 åˆ é™¤ç°æœ‰è¡¨"></a>5-1 åˆ é™¤ç°æœ‰è¡¨</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> mysql.connector<br><br>mydb = mysql.connector.connect(<br>    host=<span class="hljs-string">&#x27;localhost&#x27;</span>,<br>    port=<span class="hljs-string">&#x27;3366&#x27;</span>,<br>    user=<span class="hljs-string">&#x27;root&#x27;</span>,<br>    password=<span class="hljs-string">&#x27;123456&#x27;</span>,<br>    database=<span class="hljs-string">&#x27;mydatabase&#x27;</span><br>)<br><br>mycursor = mydb.cursor()           <span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªåä¸ºtestçš„æ•°æ®è¡¨</span><br>mycursor.execute(<span class="hljs-string">&#x27;CREATE TABLE test (name VARCHAR(255), address VARCHAR(255))&#x27;</span>)<br>mycursor.execute(<span class="hljs-string">&#x27;SHOW TABLES&#x27;</span>)    <span class="hljs-comment"># æŸ¥è¯¢ç°æœ‰è¡¨</span><br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> mycursor:<br>    <span class="hljs-built_in">print</span>(x)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;******************&#x27;</span>)<br><br>sql = <span class="hljs-string">&#x27;DROP TABLE test&#x27;</span>            <span class="hljs-comment"># åˆ é™¤åˆšåˆ›å»ºçš„testè¡¨</span><br>mycursor.execute(sql)<br>mycursor.execute(<span class="hljs-string">&#x27;SHOW TABLES&#x27;</span>)    <span class="hljs-comment"># æŸ¥è¯¢ç°æœ‰è¡¨</span><br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> mycursor:<br>    <span class="hljs-built_in">print</span>(x)<br></code></pre></td></tr></table></figure><h2 id="5-2-ä»…å­˜åœ¨æ—¶åˆ "><a href="#5-2-ä»…å­˜åœ¨æ—¶åˆ " class="headerlink" title="5-2 ä»…å­˜åœ¨æ—¶åˆ "></a>5-2 ä»…å­˜åœ¨æ—¶åˆ </h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> mysql.connector<br><br>mydb = mysql.connector.connect(<br>    host=<span class="hljs-string">&#x27;localhost&#x27;</span>,<br>    port=<span class="hljs-string">&#x27;3366&#x27;</span>,<br>    user=<span class="hljs-string">&#x27;root&#x27;</span>,<br>    password=<span class="hljs-string">&#x27;123456&#x27;</span>,<br>    database=<span class="hljs-string">&#x27;mydatabase&#x27;</span><br>)<br><br>mycursor = mydb.cursor()<br>sql = <span class="hljs-string">&#x27;DROP TABLE IF EXISTS test&#x27;</span><br>mycursor.execute(sql)<br></code></pre></td></tr></table></figure><h2 id="5-3-åˆ é™¤è¡¨æ•°æ®"><a href="#5-3-åˆ é™¤è¡¨æ•°æ®" class="headerlink" title="5-3 åˆ é™¤è¡¨æ•°æ®"></a>5-3 åˆ é™¤è¡¨æ•°æ®</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> mysql.connector<br><br>mydb = mysql.connector.connect(<br>    host=<span class="hljs-string">&#x27;localhost&#x27;</span>,<br>    port=<span class="hljs-string">&#x27;3366&#x27;</span>,<br>    user=<span class="hljs-string">&#x27;root&#x27;</span>,<br>    password=<span class="hljs-string">&#x27;123456&#x27;</span>,<br>    database=<span class="hljs-string">&#x27;mydatabase&#x27;</span><br>)<br><br>mycursor = mydb.cursor()           <span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªåä¸ºtestçš„æ•°æ®è¡¨</span><br>mycursor.execute(<span class="hljs-string">&#x27;CREATE TABLE test (name VARCHAR(255), address VARCHAR(255))&#x27;</span>)<br>mycursor.execute(<span class="hljs-string">&#x27;ALTER TABLE test ADD COLUMN id INT AUTO_INCREMENT PRIMARY KEY&#x27;</span>)<br>sql_insert = <span class="hljs-string">&#x27;INSERT INTO test (name, address) VALUES (%s, %s)&#x27;</span><br>val = [                            <span class="hljs-comment"># executemany()æ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°valæ˜¯å…ƒç»„åˆ—è¡¨</span><br>    (<span class="hljs-string">&#x27;Peter&#x27;</span>, <span class="hljs-string">&#x27;Lowstreet 4&#x27;</span>),<br>    (<span class="hljs-string">&#x27;Amy&#x27;</span>, <span class="hljs-string">&#x27;Apple st 652&#x27;</span>),<br>    (<span class="hljs-string">&#x27;Hannah&#x27;</span>, <span class="hljs-string">&#x27;Mountain 21&#x27;</span>),<br>    (<span class="hljs-string">&#x27;Michael&#x27;</span>, <span class="hljs-string">&#x27;Valley 345&#x27;</span>),<br>    (<span class="hljs-string">&#x27;Sandy&#x27;</span>, <span class="hljs-string">&#x27;Ocean blvd 2&#x27;</span>),<br>    (<span class="hljs-string">&#x27;Betty&#x27;</span>, <span class="hljs-string">&#x27;Green Grass 1&#x27;</span>),<br>    (<span class="hljs-string">&#x27;Richard&#x27;</span>, <span class="hljs-string">&#x27;Sky st 331&#x27;</span>),<br>    (<span class="hljs-string">&#x27;Susan&#x27;</span>, <span class="hljs-string">&#x27;One way 98&#x27;</span>),<br>    (<span class="hljs-string">&#x27;Vicky&#x27;</span>, <span class="hljs-string">&#x27;Yellow Garden 2&#x27;</span>),<br>    (<span class="hljs-string">&#x27;Ben&#x27;</span>, <span class="hljs-string">&#x27;Park Lane 38&#x27;</span>),<br>    (<span class="hljs-string">&#x27;William&#x27;</span>, <span class="hljs-string">&#x27;Central st 954&#x27;</span>),<br>    (<span class="hljs-string">&#x27;Chuck&#x27;</span>, <span class="hljs-string">&#x27;Main Road 989&#x27;</span>),<br>    (<span class="hljs-string">&#x27;Viola&#x27;</span>, <span class="hljs-string">&#x27;Sideway 1633&#x27;</span>)<br>]<br>mycursor.executemany(sql_insert, val)<br>mydb.commit()                      <span class="hljs-comment"># éœ€è¦commitï¼Œå¦åˆ™ä¸ä¼šå¯¹è¡¨è¿›è¡Œä»»ä½•æ›´æ”¹</span><br><span class="hljs-built_in">print</span>(mycursor.rowcount, <span class="hljs-string">&#x27;was inserted.&#x27;</span>)<br>mycursor.execute(<span class="hljs-string">&#x27;SELECT * FROM test&#x27;</span>)<br>myresult = mycursor.fetchall()     <span class="hljs-comment"># è·å–è¡¨æ‰€æœ‰è¡Œ</span><br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> myresult:<br>    <span class="hljs-built_in">print</span>(x)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;************************************&#x27;</span>)<br><br>sql_delete = <span class="hljs-string">&#x27;DELETE FROM test WHERE address = &quot;Mountain 21&quot;&#x27;</span><br>mycursor.execute(sql_delete)       <span class="hljs-comment"># åˆ é™¤è¡¨æŒ‡å®šè¡Œæ•°æ®</span><br>mydb.commit()                      <span class="hljs-comment"># éœ€è¦commitï¼Œå¦åˆ™ä¸ä¼šå¯¹è¡¨è¿›è¡Œä»»ä½•æ›´æ”¹</span><br><span class="hljs-built_in">print</span>(mycursor.rowcount, <span class="hljs-string">&#x27;record(s) deleted.&#x27;</span>)<br>mycursor.execute(<span class="hljs-string">&#x27;SELECT * FROM test&#x27;</span>)<br>myresult = mycursor.fetchall()     <span class="hljs-comment"># è·å–è¡¨æ‰€æœ‰è¡Œ</span><br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> myresult:<br>    <span class="hljs-built_in">print</span>(x)<br></code></pre></td></tr></table></figure><h2 id="5-4-é˜²SQLæ³¨å…¥"><a href="#5-4-é˜²SQLæ³¨å…¥" class="headerlink" title="5-4 é˜²SQLæ³¨å…¥"></a>5-4 é˜²SQLæ³¨å…¥</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> mysql.connector<br><br>mydb = mysql.connector.connect(<br>    host=<span class="hljs-string">&#x27;localhost&#x27;</span>,<br>    port=<span class="hljs-string">&#x27;3366&#x27;</span>,<br>    user=<span class="hljs-string">&#x27;root&#x27;</span>,<br>    password=<span class="hljs-string">&#x27;123456&#x27;</span>,<br>    database=<span class="hljs-string">&#x27;mydatabase&#x27;</span><br>)<br><br>mycursor = mydb.cursor()<br>sql = <span class="hljs-string">&#x27;DELETE FROM test WHERE address = %s&#x27;</span><br>adr = (<span class="hljs-string">&#x27;Yellow Garden 2&#x27;</span>, )<br>mycursor.execute(sql, adr)<br><br>mydb.commit()<br><span class="hljs-built_in">print</span>(mycursor.rowcount, <span class="hljs-string">&#x27;record(s) deleted.&#x27;</span>)<br></code></pre></td></tr></table></figure><h1 id="6-ä¿®æ”¹æ•°æ®è¡¨"><a href="#6-ä¿®æ”¹æ•°æ®è¡¨" class="headerlink" title="6 ä¿®æ”¹æ•°æ®è¡¨"></a>6 ä¿®æ”¹æ•°æ®è¡¨</h1><ul><li>ä¿®æ”¹æ•°æ®è¡¨<ul><li>MySQLï¼š<code>UPDATE &lt;table-name&gt; SET &lt;variable-name&gt; = &quot;&lt;value1&gt;&quot; WHERE &lt;variable-name&gt; = &quot;&lt;value2&gt;&quot;</code>ã€‚</li><li>ä½¿ç”¨MySQLçš„UPDATEå‘½ä»¤è¿›è¡Œæ•°æ®è¡¨æ•°å€¼çš„ä¿®æ”¹æ“ä½œï¼Œå…¶ä¸­value1ä¸ºè¯¥æ•°æ®è¡¨ä¿®æ”¹åçš„å€¼ï¼Œvalue2ä¸ºä¿®æ”¹å‰çš„å€¼ã€‚</li></ul></li></ul><h2 id="6-1-è¡¨æ•°å€¼ä¿®æ”¹"><a href="#6-1-è¡¨æ•°å€¼ä¿®æ”¹" class="headerlink" title="6-1 è¡¨æ•°å€¼ä¿®æ”¹"></a>6-1 è¡¨æ•°å€¼ä¿®æ”¹</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> mysql.connector<br><br>mydb = mysql.connector.connect(<br>    host=<span class="hljs-string">&#x27;localhost&#x27;</span>,<br>    port=<span class="hljs-string">&#x27;3366&#x27;</span>,<br>    user=<span class="hljs-string">&#x27;root&#x27;</span>,<br>    password=<span class="hljs-string">&#x27;123456&#x27;</span>,<br>    database=<span class="hljs-string">&#x27;mydatabase&#x27;</span><br>)<br><br>mycursor = mydb.cursor()<br>sql = <span class="hljs-string">&#x27;UPDATE test SET address = &quot;Canyon 123&quot; WHERE address = &quot;Valley 345&quot;&#x27;</span><br>mycursor.execute(sql)<br><br>mydb.commit()                      <span class="hljs-comment"># éœ€è¦commitï¼Œå¦åˆ™ä¸ä¼šå¯¹è¡¨è¿›è¡Œä»»ä½•æ›´æ”¹</span><br><span class="hljs-built_in">print</span>(mycursor.rowcount, <span class="hljs-string">&#x27;record(s) affected.&#x27;</span>)<br></code></pre></td></tr></table></figure><h2 id="6-2-é˜²SQLæ³¨å…¥"><a href="#6-2-é˜²SQLæ³¨å…¥" class="headerlink" title="6-2 é˜²SQLæ³¨å…¥"></a>6-2 é˜²SQLæ³¨å…¥</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> mysql.connector<br><br>mydb = mysql.connector.connect(<br>    host=<span class="hljs-string">&#x27;localhost&#x27;</span>,<br>    port=<span class="hljs-string">&#x27;3366&#x27;</span>,<br>    user=<span class="hljs-string">&#x27;root&#x27;</span>,<br>    password=<span class="hljs-string">&#x27;123456&#x27;</span>,<br>    database=<span class="hljs-string">&#x27;mydatabase&#x27;</span><br>)<br><br>mycursor = mydb.cursor()<br>sql = <span class="hljs-string">&#x27;UPDATE test SET address = %s WHERE address = %s&#x27;</span><br>val = (<span class="hljs-string">&#x27;Green Grass 1&#x27;</span>, <span class="hljs-string">&#x27;Apple st 652&#x27;</span>)<br>mycursor.execute(sql, val)<br><br>mydb.commit()<br><span class="hljs-built_in">print</span>(mycursor.rowcount, <span class="hljs-string">&#x27;record(s) affected.&#x27;</span>)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>MySQL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python æœºå™¨å­¦ä¹ </title>
    <link href="/2021/09/04/python/python10-python-ji-qi-xue-xi/"/>
    <url>/2021/09/04/python/python10-python-ji-qi-xue-xi/</url>
    
    <content type="html"><![CDATA[<p>æœºå™¨å­¦ä¹ æ˜¯ä¸€ç§åˆ†ææ•°æ®å¹¶å­¦ä¹ é¢„æµ‹ç»“æœçš„ç¨‹åºï¼Œæ˜¯è®©è®¡ç®—æœºä»ç ”ç©¶æ•°æ®å’Œç»Ÿè®¡æ•°æ®ä¸­å­¦ä¹ ï¼Œæ˜¯è¿ˆå‘äººå·¥æ™ºèƒ½(AI)æ–¹å‘çš„ä¸€æ­¥ã€‚</p><span id="more"></span><h1 id="1-æœºå™¨å­¦ä¹ "><a href="#1-æœºå™¨å­¦ä¹ " class="headerlink" title="1 æœºå™¨å­¦ä¹ "></a>1 æœºå™¨å­¦ä¹ </h1><ul><li>æœºå™¨å­¦ä¹ <ul><li>æ•°æ®ç±»å‹ä¸‰å¤§ç±»ï¼šæ•°å€¼çš„ã€ç»å¯¹çš„ã€åºæ•°ã€‚<ul><li>æ•°å€¼æ•°æ®æ˜¯æ•°å­—ï¼Œä¸¤ä¸ªç±»åˆ«ï¼šç¦»æ•£æ•°æ®(ä»…é™äºæ•´æ•°)ã€è¿ç»­æ•°æ®(å…·æœ‰æ— é™ä»·å€¼)ã€‚</li><li>åˆ†ç±»æ•°æ®æ˜¯æ— æ³•ç›¸äº’æ¯”è¾ƒçš„å€¼ï¼Œè€Œåºæ•°æ•°æ®ç±»ä¼¼äºåˆ†ç±»æ•°æ®ï¼Œä½†æ˜¯å¯ä»¥ç›¸äº’æ¯”è¾ƒã€‚</li></ul></li><li>å¹³å‡æ•°<code>mean</code>ã€ä¸­ä½æ•°<code>median</code>ã€ä¼—æ•°<code>mode</code>ã€æ ‡å‡†å·®<code>std</code>ã€‚</li><li>æ–¹å·®<code>var</code>ã€æ–¹å·®çš„å¹³æ–¹æ ¹&#x3D;æ ‡å‡†å·®ã€ç™¾åˆ†ä½æ•°<code>percentile()</code>ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy<br><span class="hljs-keyword">from</span> scipy <span class="hljs-keyword">import</span> stats<br><span class="hljs-keyword">from</span> warnings <span class="hljs-keyword">import</span> simplefilter              <span class="hljs-comment"># å¿½ç•¥è­¦å‘Šä¿¡æ¯</span><br>simplefilter(action=<span class="hljs-string">&#x27;ignore&#x27;</span>, category=FutureWarning)<br><br>speed = [<span class="hljs-number">99</span>, <span class="hljs-number">86</span>, <span class="hljs-number">87</span>, <span class="hljs-number">88</span>, <span class="hljs-number">111</span>, <span class="hljs-number">86</span>, <span class="hljs-number">103</span>, <span class="hljs-number">87</span>, <span class="hljs-number">94</span>, <span class="hljs-number">78</span>, <span class="hljs-number">77</span>, <span class="hljs-number">85</span>, <span class="hljs-number">86</span>]<br>a = numpy.mean(speed)                          <span class="hljs-comment"># å¹³å‡æ•°</span><br>b = numpy.median(speed)                        <span class="hljs-comment"># ä¸­ä½æ•°</span><br>c = stats.mode(speed)                          <span class="hljs-comment"># ä¼—æ•°</span><br>d = numpy.std(speed)                           <span class="hljs-comment"># æ ‡å‡†å·®ï¼Œæ–¹å·®çš„å¹³æ–¹æ ¹ï¼Œé€šå¸¸ç”¨ç¬¦å·Sigmaè¡¨ç¤ºÏƒ</span><br>e = numpy.var(speed)                           <span class="hljs-comment"># æ–¹å·®ï¼ŒSigma SquaredæŒ‡Ïƒ2</span><br>f = numpy.percentile(speed, <span class="hljs-number">80</span>)                <span class="hljs-comment"># æŸ¥æ‰¾ç™¾åˆ†ä½æ•°</span><br><br><span class="hljs-built_in">print</span>(a)<br><span class="hljs-built_in">print</span>(b)<br><span class="hljs-built_in">print</span>(c)<br><span class="hljs-built_in">print</span>(d)<br><span class="hljs-built_in">print</span>(e)                                       <span class="hljs-comment"># æ–¹å·®ï¼Œæ¯ä¸ªå€¼ä¸å¹³å‡æ•°çš„å·®å€¼çš„å¹³æ–¹å€¼çš„å’Œçš„å¹³å‡æ•°</span><br><span class="hljs-built_in">print</span>(f)<br></code></pre></td></tr></table></figure><h2 id="1-1-æ•°æ®åˆ†å¸ƒ"><a href="#1-1-æ•°æ®åˆ†å¸ƒ" class="headerlink" title="1-1 æ•°æ®åˆ†å¸ƒ"></a>1-1 æ•°æ®åˆ†å¸ƒ</h2><ul><li>æ•°æ®åˆ†å¸ƒ<ul><li>æ­£æ€æ•°æ®åˆ†å¸ƒï¼šé«˜æ–¯æ•°æ®åˆ†å¸ƒï¼Œæ­£æ€åˆ†å¸ƒå›¾ä¹Ÿè¢«å«åšé’Ÿå½¢æ›²çº¿ï¼Œå…·æœ‰é’Ÿå½¢ç‰¹å¾ã€‚</li><li>éšæœºæ•°æ®åˆ†å¸ƒï¼šæµ‹è¯•ç®—æ³•æ—¶å¯èƒ½æ²¡æœ‰çœŸå®ä¸–ç•Œçš„æ•°æ®ï¼Œæ­¤æ—¶éœ€ç”¨éšæœºç”Ÿæˆçš„å€¼ã€‚</li></ul></li></ul><h4 id="1-ç›´æ–¹å›¾"><a href="#1-ç›´æ–¹å›¾" class="headerlink" title="(1) ç›´æ–¹å›¾"></a>(1) ç›´æ–¹å›¾</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>x = numpy.random.uniform(<span class="hljs-number">0.0</span>, <span class="hljs-number">5.0</span>, <span class="hljs-number">250</span>)         <span class="hljs-comment"># 250ä¸ªä»‹äº0å’Œ5ä¹‹é—´çš„éšæœºæµ®ç‚¹æ•°æ•°ç»„</span><br><br><span class="hljs-built_in">print</span>(x)<br>plt.hist(x, <span class="hljs-number">5</span>)                                  <span class="hljs-comment"># ç»˜åˆ¶ç›´æ–¹å›¾</span><br>plt.show()<br></code></pre></td></tr></table></figure><h4 id="2-æ­£æ€åˆ†å¸ƒ"><a href="#2-æ­£æ€åˆ†å¸ƒ" class="headerlink" title="(2) æ­£æ€åˆ†å¸ƒ"></a>(2) æ­£æ€åˆ†å¸ƒ</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>x = numpy.random.normal(<span class="hljs-number">5.0</span>, <span class="hljs-number">1.0</span>, <span class="hljs-number">100000</span>)       <span class="hljs-comment"># 100000ä¸ªå¹³å‡æ•°ä¸º5.0ï¼Œæ ‡å‡†å·®ä¸º1.0çš„æ•°ç»„</span><br><br><span class="hljs-built_in">print</span>(x)<br>plt.hist(x, <span class="hljs-number">100</span>)                                <span class="hljs-comment"># æ­£æ€æ•°æ®åˆ†å¸ƒï¼Œç»˜åˆ¶åŒ…å«100ä¸ªæŸ±çš„ç›´æ–¹å›¾</span><br>plt.show()<br></code></pre></td></tr></table></figure><h4 id="3-æ•£ç‚¹å›¾"><a href="#3-æ•£ç‚¹å›¾" class="headerlink" title="(3) æ•£ç‚¹å›¾"></a>(3) æ•£ç‚¹å›¾</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt                 <span class="hljs-comment"># Matplotlibæœ‰ä¸ªç»˜åˆ¶æ•£ç‚¹å›¾çš„æ–¹æ³•ï¼Œéœ€ä¸¤ä¸ªç›¸åŒé•¿åº¦çš„æ•°ç»„</span><br><br>x = [<span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">7</span>, <span class="hljs-number">2</span>, <span class="hljs-number">17</span>, <span class="hljs-number">2</span>, <span class="hljs-number">9</span>, <span class="hljs-number">4</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">9</span>, <span class="hljs-number">6</span>]  <span class="hljs-comment"># xæ•°ç»„ä»£è¡¨æ¯è¾†æ±½è½¦çš„å¹´é¾„ï¼Œyæ•°ç»„ä»£è¡¨æ¯è¾†è½¦çš„é€Ÿåº¦</span><br>y = [<span class="hljs-number">99</span>, <span class="hljs-number">86</span>, <span class="hljs-number">87</span>, <span class="hljs-number">88</span>, <span class="hljs-number">111</span>, <span class="hljs-number">86</span>, <span class="hljs-number">103</span>, <span class="hljs-number">87</span>, <span class="hljs-number">94</span>, <span class="hljs-number">78</span>, <span class="hljs-number">77</span>, <span class="hljs-number">85</span>, <span class="hljs-number">86</span>]<br><br>plt.scatter(x, y)                               <span class="hljs-comment"># ç»˜åˆ¶æ•£ç‚¹å›¾</span><br>plt.show()                                      <span class="hljs-comment"># è¶Šæ–°çš„è½¦è¶Šå¿«ï¼Œä¹Ÿå¯èƒ½æ˜¯å·§åˆï¼Œæ•°æ®é‡å°‘</span><br></code></pre></td></tr></table></figure><h4 id="4-éšæœºåˆ†å¸ƒ"><a href="#4-éšæœºåˆ†å¸ƒ" class="headerlink" title="(4) éšæœºåˆ†å¸ƒ"></a>(4) éšæœºåˆ†å¸ƒ</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>x = numpy.random.normal(<span class="hljs-number">5.0</span>, <span class="hljs-number">1.0</span>, <span class="hljs-number">1000</span>)         <span class="hljs-comment"># 1000ä¸ªæ•°ç»„ï¼Œå¹³å‡å€¼ä¸º5.0ï¼Œæ ‡å‡†å·®ä¸º1.0çš„éšæœºæ•°</span><br>y = numpy.random.normal(<span class="hljs-number">10.0</span>, <span class="hljs-number">2.0</span>, <span class="hljs-number">1000</span>)        <span class="hljs-comment"># 1000ä¸ªæ•°ç»„ï¼Œå¹³å‡å€¼ä¸º10.0ï¼Œæ ‡å‡†å·®ä¸º2.0çš„éšæœºæ•°</span><br><br>plt.scatter(x, y)                               <span class="hljs-comment"># éšæœºæ•°æ®åˆ†å¸ƒï¼Œå…·æœ‰1000ä¸ªç‚¹çš„æ•£ç‚¹å›¾</span><br>plt.show()<br></code></pre></td></tr></table></figure><h2 id="1-2-çº¿æ€§å›å½’"><a href="#1-2-çº¿æ€§å›å½’" class="headerlink" title="1-2 çº¿æ€§å›å½’"></a>1-2 çº¿æ€§å›å½’</h2><ul><li>çº¿æ€§å›å½’<ul><li>çŸ¥é“xå’Œyè½´çš„å€¼ä¹‹é—´çš„å…³ç³»ï¼Œæ²¡æœ‰å…³ç³»åˆ™çº¿æ€§å›å½’ä¸èƒ½ç”¨äºé¢„æµ‹ç»“æœã€‚</li><li>Rå…³ç³»çš„å–å€¼èŒƒå›´ä¸º-1åˆ°1ï¼Œ0è¡¨ç¤ºæ²¡æœ‰å…³ç³»ï¼Œ1å’Œ-1åˆ™è¡¨ç¤º100%ç›¸å…³ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> scipy <span class="hljs-keyword">import</span> stats<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt                <span class="hljs-comment"># 13è¾†æ±½è½¦ç»è¿‡æ”¶è´¹ç«™æ—¶çš„è½¦é¾„å’Œé€Ÿåº¦</span><br><br>x = [<span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">7</span>, <span class="hljs-number">2</span>, <span class="hljs-number">17</span>, <span class="hljs-number">2</span>, <span class="hljs-number">9</span>, <span class="hljs-number">4</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">9</span>, <span class="hljs-number">6</span>]<br>y = [<span class="hljs-number">99</span>, <span class="hljs-number">86</span>, <span class="hljs-number">87</span>, <span class="hljs-number">88</span>, <span class="hljs-number">111</span>, <span class="hljs-number">86</span>, <span class="hljs-number">103</span>, <span class="hljs-number">87</span>, <span class="hljs-number">94</span>, <span class="hljs-number">78</span>, <span class="hljs-number">77</span>, <span class="hljs-number">85</span>, <span class="hljs-number">86</span>]<br>slope, intercept, r, p, std_err = stats.linregress(x, y)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">func</span>(<span class="hljs-params">x</span>):                                   <span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªä½¿ç”¨slopeå’Œinterceptå€¼è¿”å›æ–°å€¼çš„å‡½æ•°</span><br>    <span class="hljs-keyword">return</span> slope * x + intercept               <span class="hljs-comment"># è¿™ä¸ªæ–°å€¼è¡¨ç¤ºå¯¹åº”çš„xå€¼åœ¨yè½´ä¸Šçš„ä½ç½®</span><br><br><br>model = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">map</span>(func, x))                     <span class="hljs-comment"># è¿è¡Œxæ•°ç»„çš„æ¯ä¸ªå€¼ï¼Œç”Ÿæˆä¸€ä¸ªæ–°æ•°ç»„ï¼ŒåŒ…å«yè½´çš„æ–°å€¼</span><br>plt.scatter(x, y)                              <span class="hljs-comment"># ç»˜åˆ¶åŸå§‹æ•£ç‚¹å›¾</span><br>plt.plot(x, model)                             <span class="hljs-comment"># ç»˜åˆ¶çº¿æ€§å›å½’çº¿</span><br>plt.show()                                     <span class="hljs-comment"># æ˜¾ç¤ºå›¾è¡¨</span><br></code></pre></td></tr></table></figure><h4 id="1-Rå…³ç³»"><a href="#1-Rå…³ç³»" class="headerlink" title="(1) Rå…³ç³»"></a>(1) Rå…³ç³»</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> scipy <span class="hljs-keyword">import</span> stats<br><br>x = [<span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">7</span>, <span class="hljs-number">2</span>, <span class="hljs-number">17</span>, <span class="hljs-number">2</span>, <span class="hljs-number">9</span>, <span class="hljs-number">4</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">9</span>, <span class="hljs-number">6</span>]  <span class="hljs-comment"># æ•°æ®åœ¨çº¿æ€§å›å½’ä¸­çš„æ‹Ÿåˆç¨‹åº¦</span><br>y = [<span class="hljs-number">99</span>, <span class="hljs-number">86</span>, <span class="hljs-number">87</span>, <span class="hljs-number">88</span>, <span class="hljs-number">111</span>, <span class="hljs-number">86</span>, <span class="hljs-number">103</span>, <span class="hljs-number">87</span>, <span class="hljs-number">94</span>, <span class="hljs-number">78</span>, <span class="hljs-number">77</span>, <span class="hljs-number">85</span>, <span class="hljs-number">86</span>]<br><br>slope, intercept, r, p, std_err = stats.linregress(x, y)<br><span class="hljs-built_in">print</span>(r)                                        <span class="hljs-comment"># -0.76è¡¨æ˜å­˜åœ¨å…³ç³»ï¼Œä½†å¹¶ä¸å®Œç¾</span><br></code></pre></td></tr></table></figure><h4 id="2-é¢„æµ‹æœªæ¥ä»·å€¼"><a href="#2-é¢„æµ‹æœªæ¥ä»·å€¼" class="headerlink" title="(2) é¢„æµ‹æœªæ¥ä»·å€¼"></a>(2) é¢„æµ‹æœªæ¥ä»·å€¼</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> scipy <span class="hljs-keyword">import</span> stats<br><br>x = [<span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">7</span>, <span class="hljs-number">2</span>, <span class="hljs-number">17</span>, <span class="hljs-number">2</span>, <span class="hljs-number">9</span>, <span class="hljs-number">4</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">9</span>, <span class="hljs-number">6</span>]<br>y = [<span class="hljs-number">99</span>, <span class="hljs-number">86</span>, <span class="hljs-number">87</span>, <span class="hljs-number">88</span>, <span class="hljs-number">111</span>, <span class="hljs-number">86</span>, <span class="hljs-number">103</span>, <span class="hljs-number">87</span>, <span class="hljs-number">94</span>, <span class="hljs-number">78</span>, <span class="hljs-number">77</span>, <span class="hljs-number">85</span>, <span class="hljs-number">86</span>]<br><br>slope, intercept, r, p, std_err = stats.linregress(x, y)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">func</span>(<span class="hljs-params">x</span>):<br>    <span class="hljs-keyword">return</span> slope * x + intercept<br><br><br>speed = func(<span class="hljs-number">10</span>)                               <span class="hljs-comment"># é¢„æµ‹ä¸€è¾†10å¹´è½¦é¾„çš„æ±½è½¦é€Ÿåº¦</span><br><span class="hljs-built_in">print</span>(speed)                                   <span class="hljs-comment"># 85.6ï¼Œä¹Ÿå¯ä»¥ä»å›¾è¡¨ä¸­è¯»å–</span><br></code></pre></td></tr></table></figure><h4 id="3-éé¢„æµ‹æœ€ä½³æ³•"><a href="#3-éé¢„æµ‹æœ€ä½³æ³•" class="headerlink" title="(3) éé¢„æµ‹æœ€ä½³æ³•"></a>(3) éé¢„æµ‹æœ€ä½³æ³•</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> scipy <span class="hljs-keyword">import</span> stats                        <span class="hljs-comment"># çº¿æ€§å›å½’ä¸æ˜¯é¢„æµ‹æœªæ¥å€¼çš„æœ€ä½³æ–¹æ³•</span><br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>x = [<span class="hljs-number">89</span>, <span class="hljs-number">43</span>, <span class="hljs-number">36</span>, <span class="hljs-number">36</span>, <span class="hljs-number">95</span>, <span class="hljs-number">10</span>, <span class="hljs-number">66</span>, <span class="hljs-number">34</span>, <span class="hljs-number">38</span>, <span class="hljs-number">20</span>, <span class="hljs-number">26</span>, <span class="hljs-number">29</span>, <span class="hljs-number">48</span>, <span class="hljs-number">64</span>, <span class="hljs-number">6</span>, <span class="hljs-number">5</span>, <span class="hljs-number">36</span>, <span class="hljs-number">66</span>, <span class="hljs-number">72</span>, <span class="hljs-number">40</span>]<br>y = [<span class="hljs-number">21</span>, <span class="hljs-number">46</span>, <span class="hljs-number">3</span>, <span class="hljs-number">35</span>, <span class="hljs-number">67</span>, <span class="hljs-number">95</span>, <span class="hljs-number">53</span>, <span class="hljs-number">72</span>, <span class="hljs-number">58</span>, <span class="hljs-number">10</span>, <span class="hljs-number">26</span>, <span class="hljs-number">34</span>, <span class="hljs-number">90</span>, <span class="hljs-number">33</span>, <span class="hljs-number">38</span>, <span class="hljs-number">20</span>, <span class="hljs-number">56</span>, <span class="hljs-number">2</span>, <span class="hljs-number">47</span>, <span class="hljs-number">15</span>]<br>slope, intercept, r, p, std_err = stats.linregress(x, y)<br><span class="hljs-built_in">print</span>(r)                                       <span class="hljs-comment"># 0.013ï¼Œå¾—åˆ°çš„Rå€¼å°ï¼Œè¡¨æ˜å…³ç³»å¾ˆå·®ï¼Œä¸é€‚åˆåšçº¿æ€§å›å½’</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">func</span>(<span class="hljs-params">x</span>):<br>    <span class="hljs-keyword">return</span> slope * x + intercept<br><br><br>model = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">map</span>(func, x))<br>plt.scatter(x, y)<br>plt.plot(x, model)<br>plt.show()                                     <span class="hljs-comment"># xè½´å’Œyè½´çš„å€¼å¯¼è‡´çº¿æ€§å›å½’çš„æ‹Ÿåˆéå¸¸å·®</span><br></code></pre></td></tr></table></figure><h2 id="1-3-å¤šé¡¹å¼å›å½’"><a href="#1-3-å¤šé¡¹å¼å›å½’" class="headerlink" title="1-3 å¤šé¡¹å¼å›å½’"></a>1-3 å¤šé¡¹å¼å›å½’</h2><ul><li>å¤šé¡¹å¼å›å½’<ul><li>è‹¥xå’Œyè½´çš„å€¼ä¹‹é—´æ²¡æœ‰å…³ç³»ï¼Œåˆ™å¤šé¡¹å¼å›å½’ä¸èƒ½ç”¨äºé¢„æµ‹ç»“æœã€‚</li><li>Rå¹³æ–¹å€¼çš„å–å€¼èŒƒå›´ä¸º0åˆ°1ï¼Œ0è¡¨ç¤ºæ²¡æœ‰å…³ç³»ï¼Œ1è¡¨ç¤º100%ç›¸å…³ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt                <span class="hljs-comment"># æ”¶é›†äº†é€šè¿‡æŸæ”¶è´¹ç«™çš„18è¾†æ±½è½¦çš„è¶…è½¦å‘ç”Ÿæ—¶é—´å’Œæ±½è½¦é€Ÿåº¦</span><br><br>x = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">12</span>, <span class="hljs-number">13</span>, <span class="hljs-number">14</span>, <span class="hljs-number">15</span>, <span class="hljs-number">16</span>, <span class="hljs-number">18</span>, <span class="hljs-number">19</span>, <span class="hljs-number">21</span>, <span class="hljs-number">22</span>]<br>y = [<span class="hljs-number">100</span>, <span class="hljs-number">90</span>, <span class="hljs-number">80</span>, <span class="hljs-number">60</span>, <span class="hljs-number">60</span>, <span class="hljs-number">55</span>, <span class="hljs-number">60</span>, <span class="hljs-number">65</span>, <span class="hljs-number">70</span>, <span class="hljs-number">70</span>, <span class="hljs-number">75</span>, <span class="hljs-number">76</span>, <span class="hljs-number">78</span>, <span class="hljs-number">79</span>, <span class="hljs-number">90</span>, <span class="hljs-number">99</span>, <span class="hljs-number">99</span>, <span class="hljs-number">100</span>]<br><br>model = numpy.poly1d(numpy.polyfit(x, y, <span class="hljs-number">3</span>))   <span class="hljs-comment"># æ³¨æ„poly1dæ˜¯1dä¸æ˜¯ldï¼Œå»ºç«‹å¤šé¡¹å¼æ¨¡å‹</span><br>lines = numpy.linspace(<span class="hljs-number">1</span>, <span class="hljs-number">22</span>, <span class="hljs-number">100</span>)             <span class="hljs-comment"># æŒ‡å®šè¯¥è¡Œå°†å¦‚ä½•æ˜¾ç¤ºï¼Œä»ä½ç½®1å¼€å§‹ï¼Œåˆ°ä½ç½®22ç»“æŸ</span><br><br>plt.scatter(x, y)                              <span class="hljs-comment"># ç»˜åˆ¶åŸå§‹æ•£ç‚¹å›¾</span><br>plt.plot(lines, model(lines))                  <span class="hljs-comment"># ç»˜åˆ¶å¤šé¡¹å¼å›å½’çº¿</span><br>plt.show()                                     <span class="hljs-comment"># æ˜¾ç¤ºå›¾è¡¨</span><br></code></pre></td></tr></table></figure><h4 id="1-Rå¹³æ–¹"><a href="#1-Rå¹³æ–¹" class="headerlink" title="(1) Rå¹³æ–¹"></a>(1) Rå¹³æ–¹</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy<br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> r2_score<br><br>x = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">12</span>, <span class="hljs-number">13</span>, <span class="hljs-number">14</span>, <span class="hljs-number">15</span>, <span class="hljs-number">16</span>, <span class="hljs-number">18</span>, <span class="hljs-number">19</span>, <span class="hljs-number">21</span>, <span class="hljs-number">22</span>]<br>y = [<span class="hljs-number">100</span>, <span class="hljs-number">90</span>, <span class="hljs-number">80</span>, <span class="hljs-number">60</span>, <span class="hljs-number">60</span>, <span class="hljs-number">55</span>, <span class="hljs-number">60</span>, <span class="hljs-number">65</span>, <span class="hljs-number">70</span>, <span class="hljs-number">70</span>, <span class="hljs-number">75</span>, <span class="hljs-number">76</span>, <span class="hljs-number">78</span>, <span class="hljs-number">79</span>, <span class="hljs-number">90</span>, <span class="hljs-number">99</span>, <span class="hljs-number">99</span>, <span class="hljs-number">100</span>]<br><br>model = numpy.poly1d(numpy.polyfit(x, y, <span class="hljs-number">3</span>))    <span class="hljs-comment"># æ³¨æ„poly1dæ˜¯1dä¸æ˜¯ldï¼Œå»ºç«‹å¤šé¡¹å¼æ¨¡å‹</span><br><span class="hljs-built_in">print</span>(r2_score(y, model(x)))                    <span class="hljs-comment"># æ•°æ®åœ¨å¤šé¡¹å¼å›å½’ä¸­çš„æ‹Ÿåˆç¨‹åº¦ï¼Œ0.94è¡¨æ˜å…³ç³»éå¸¸å¥½</span><br></code></pre></td></tr></table></figure><h4 id="2-é¢„æµ‹æœªæ¥ä»·å€¼-1"><a href="#2-é¢„æµ‹æœªæ¥ä»·å€¼-1" class="headerlink" title="(2) é¢„æµ‹æœªæ¥ä»·å€¼"></a>(2) é¢„æµ‹æœªæ¥ä»·å€¼</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy<br><br>x = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">12</span>, <span class="hljs-number">13</span>, <span class="hljs-number">14</span>, <span class="hljs-number">15</span>, <span class="hljs-number">16</span>, <span class="hljs-number">18</span>, <span class="hljs-number">19</span>, <span class="hljs-number">21</span>, <span class="hljs-number">22</span>]<br>y = [<span class="hljs-number">100</span>, <span class="hljs-number">90</span>, <span class="hljs-number">80</span>, <span class="hljs-number">60</span>, <span class="hljs-number">60</span>, <span class="hljs-number">55</span>, <span class="hljs-number">60</span>, <span class="hljs-number">65</span>, <span class="hljs-number">70</span>, <span class="hljs-number">70</span>, <span class="hljs-number">75</span>, <span class="hljs-number">76</span>, <span class="hljs-number">78</span>, <span class="hljs-number">79</span>, <span class="hljs-number">90</span>, <span class="hljs-number">99</span>, <span class="hljs-number">99</span>, <span class="hljs-number">100</span>]<br><br>model = numpy.poly1d(numpy.polyfit(x, y, <span class="hljs-number">3</span>))    <span class="hljs-comment"># æ³¨æ„poly1dæ˜¯1dä¸æ˜¯ldï¼Œå»ºç«‹å¤šé¡¹å¼æ¨¡å‹</span><br>speed = model(<span class="hljs-number">17</span>)                               <span class="hljs-comment"># é¢„æµ‹17:00å·¦å³é€šè¿‡æŸæ”¶è´¹ç«™çš„æ±½è½¦é€Ÿåº¦</span><br><span class="hljs-built_in">print</span>(speed)                                    <span class="hljs-comment"># 88.87ï¼Œä¹Ÿå¯ä»¥ä»å›¾ä¸­è¯»å–è¯¥å€¼</span><br></code></pre></td></tr></table></figure><h4 id="3-éé¢„æµ‹æœ€ä½³æ³•-1"><a href="#3-éé¢„æµ‹æœ€ä½³æ³•-1" class="headerlink" title="(3) éé¢„æµ‹æœ€ä½³æ³•"></a>(3) éé¢„æµ‹æœ€ä½³æ³•</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> r2_score           <span class="hljs-comment"># å¤šé¡¹å¼å›å½’ä¸æ˜¯é¢„æµ‹æœªæ¥å€¼çš„æœ€ä½³æ–¹æ³•</span><br><br>x = [<span class="hljs-number">89</span>, <span class="hljs-number">43</span>, <span class="hljs-number">36</span>, <span class="hljs-number">36</span>, <span class="hljs-number">95</span>, <span class="hljs-number">10</span>, <span class="hljs-number">66</span>, <span class="hljs-number">34</span>, <span class="hljs-number">38</span>, <span class="hljs-number">20</span>, <span class="hljs-number">26</span>, <span class="hljs-number">29</span>, <span class="hljs-number">48</span>, <span class="hljs-number">64</span>, <span class="hljs-number">6</span>, <span class="hljs-number">5</span>, <span class="hljs-number">36</span>, <span class="hljs-number">66</span>, <span class="hljs-number">72</span>, <span class="hljs-number">40</span>]<br>y = [<span class="hljs-number">21</span>, <span class="hljs-number">46</span>, <span class="hljs-number">3</span>, <span class="hljs-number">35</span>, <span class="hljs-number">67</span>, <span class="hljs-number">95</span>, <span class="hljs-number">53</span>, <span class="hljs-number">72</span>, <span class="hljs-number">58</span>, <span class="hljs-number">10</span>, <span class="hljs-number">26</span>, <span class="hljs-number">34</span>, <span class="hljs-number">90</span>, <span class="hljs-number">33</span>, <span class="hljs-number">38</span>, <span class="hljs-number">20</span>, <span class="hljs-number">56</span>, <span class="hljs-number">2</span>, <span class="hljs-number">47</span>, <span class="hljs-number">15</span>]<br><br>model = numpy.poly1d(numpy.polyfit(x, y, <span class="hljs-number">3</span>))   <span class="hljs-comment"># æ³¨æ„poly1dæ˜¯1dä¸æ˜¯ldï¼Œå»ºç«‹å¤šé¡¹å¼æ¨¡å‹</span><br>lines = numpy.linspace(<span class="hljs-number">2</span>, <span class="hljs-number">95</span>, <span class="hljs-number">100</span>)<br><span class="hljs-built_in">print</span>(r2_score(y, model(x)))                   <span class="hljs-comment"># 0.00995è¡¨æ˜å…³ç³»å¾ˆå·®ï¼Œè¯¥æ•°æ®é›†ä¸é€‚åˆåšå¤šé¡¹å¼å›å½’</span><br><br>plt.scatter(x, y)<br>plt.plot(lines, model(lines))<br>plt.show()                                     <span class="hljs-comment"># xè½´å’Œyè½´çš„å€¼å¯¼è‡´å¤šé¡¹å¼å›å½’çš„æ‹Ÿåˆéå¸¸å·®</span><br></code></pre></td></tr></table></figure><h2 id="1-4-å¤šå…ƒçº¿æ€§å›å½’"><a href="#1-4-å¤šå…ƒçº¿æ€§å›å½’" class="headerlink" title="1-4 å¤šå…ƒçº¿æ€§å›å½’"></a>1-4 å¤šå…ƒçº¿æ€§å›å½’</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pandas<br><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> linear_model               <span class="hljs-comment"># data.csvæ”¹åä¸ºvehicle_info.csv</span><br><br>df = pandas.read_csv(<span class="hljs-string">&#x27;data/vehicle_info.csv&#x27;</span>)  <span class="hljs-comment"># æ±½è½¦çš„ä¿¡æ¯ï¼šhttps://www.w3schools.com/python/data.csv</span><br><br>X = df[[<span class="hljs-string">&#x27;Weight&#x27;</span>, <span class="hljs-string">&#x27;Volume&#x27;</span>]]                   <span class="hljs-comment"># åˆ—å‡ºç‹¬ç«‹å€¼å¹¶è°ƒç”¨Xå˜é‡</span><br>y = df[<span class="hljs-string">&#x27;CO2&#x27;</span>]                                  <span class="hljs-comment"># å°†ä¾èµ–å€¼æ”¾åœ¨ä¸€ä¸ªåä¸ºyçš„å˜é‡ä¸­</span><br><br>regr = linear_model.LinearRegression()         <span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªçº¿æ€§å›å½’å¯¹è±¡ï¼Œå°†ç‹¬ç«‹å€¼å’Œç›¸å…³å€¼ä½œä¸ºå‚æ•°</span><br>regr.fit(X.values, y.values)                   <span class="hljs-comment"># å¹¶ç”¨æè¿°å…³ç³»çš„æ•°æ®å¡«å……å›å½’å¯¹è±¡</span><br><br><span class="hljs-comment"># æ ¹æ®æ±½è½¦çš„é‡é‡å’Œä½“ç§¯é¢„æµ‹CO2å€¼ï¼Œé¢„æµ‹ä¸€è¾†é…å¤‡1.3å‡å‘åŠ¨æœºã€é‡é‡ä¸º2300kgçš„æ±½è½¦æ¯è¡Œé©¶ä¸€å…¬é‡Œé‡Šæ”¾107å…‹CO2</span><br>predictedCO2 = regr.predict([[<span class="hljs-number">2300</span>, <span class="hljs-number">1300</span>]])<br><span class="hljs-built_in">print</span>(predictedCO2)<br></code></pre></td></tr></table></figure><h4 id="1-ç³»æ•°"><a href="#1-ç³»æ•°" class="headerlink" title="(1) ç³»æ•°"></a>(1) ç³»æ•°</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pandas                                  <span class="hljs-comment"># ç³»æ•°æ˜¯æè¿°ä¸æœªçŸ¥å˜é‡ä¹‹é—´å…³ç³»çš„å› å­</span><br><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> linear_model               <span class="hljs-comment"># data.csvæ”¹åä¸ºvehicle_info.csv</span><br><br>df = pandas.read_csv(<span class="hljs-string">&#x27;data/vehicle_info.csv&#x27;</span>)  <span class="hljs-comment"># æ±½è½¦çš„ä¿¡æ¯ï¼šhttps://www.w3schools.com/python/data.csv</span><br><br>X = df[[<span class="hljs-string">&#x27;Weight&#x27;</span>, <span class="hljs-string">&#x27;Volume&#x27;</span>]]                   <span class="hljs-comment"># åˆ—å‡ºç‹¬ç«‹å€¼å¹¶è°ƒç”¨Xå˜é‡</span><br>y = df[<span class="hljs-string">&#x27;CO2&#x27;</span>]                                  <span class="hljs-comment"># å°†ä¾èµ–å€¼æ”¾åœ¨ä¸€ä¸ªåä¸ºyçš„å˜é‡ä¸­</span><br><br>regr = linear_model.LinearRegression()         <span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªçº¿æ€§å›å½’å¯¹è±¡ï¼Œå°†ç‹¬ç«‹å€¼å’Œç›¸å…³å€¼ä½œä¸ºå‚æ•°</span><br>regr.fit(X.values, y.values)                   <span class="hljs-comment"># å¹¶ç”¨æè¿°å…³ç³»çš„æ•°æ®å¡«å……å›å½’å¯¹è±¡</span><br><br><span class="hljs-comment"># ä½“é‡å¢åŠ 1kgï¼ŒCO2æ’æ”¾é‡å°±ä¼šå¢åŠ 0.00755095gï¼Œå‘åŠ¨æœºå°ºå¯¸å¢åŠ 1cm3ï¼ŒCO2æ’æ”¾é‡å¢åŠ 0.00780526g</span><br><span class="hljs-built_in">print</span>(regr.coef_)                              <span class="hljs-comment"># å›å½’å¯¹è±¡çš„ç³»æ•°å€¼[é‡é‡0.00755095 ä½“ç§¯0.00780526]</span><br></code></pre></td></tr></table></figure><h4 id="2-é¢„æµ‹æœªæ¥ä»·å€¼-2"><a href="#2-é¢„æµ‹æœªæ¥ä»·å€¼-2" class="headerlink" title="(2) é¢„æµ‹æœªæ¥ä»·å€¼"></a>(2) é¢„æµ‹æœªæ¥ä»·å€¼</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pandas<br><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> linear_model               <span class="hljs-comment"># data.csvæ”¹åä¸ºvehicle_info.csv</span><br><br>df = pandas.read_csv(<span class="hljs-string">&#x27;data/vehicle_info.csv&#x27;</span>)  <span class="hljs-comment"># æ±½è½¦çš„ä¿¡æ¯ï¼šhttps://www.w3schools.com/python/data.csv</span><br><br>X = df[[<span class="hljs-string">&#x27;Weight&#x27;</span>, <span class="hljs-string">&#x27;Volume&#x27;</span>]]                   <span class="hljs-comment"># åˆ—å‡ºç‹¬ç«‹å€¼å¹¶è°ƒç”¨Xå˜é‡</span><br>y = df[<span class="hljs-string">&#x27;CO2&#x27;</span>]                                  <span class="hljs-comment"># å°†ä¾èµ–å€¼æ”¾åœ¨ä¸€ä¸ªåä¸ºyçš„å˜é‡ä¸­</span><br><br>regr = linear_model.LinearRegression()         <span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªçº¿æ€§å›å½’å¯¹è±¡ï¼Œå°†ç‹¬ç«‹å€¼å’Œç›¸å…³å€¼ä½œä¸ºå‚æ•°</span><br>regr.fit(X.values, y.values)                   <span class="hljs-comment"># å¹¶ç”¨æè¿°å…³ç³»çš„æ•°æ®å¡«å……å›å½’å¯¹è±¡</span><br><br><span class="hljs-comment"># å°†æƒé‡ä»2300æ›´æ”¹ä¸º3300ï¼Œä¸€è¾†é…å¤‡1.3å‡å‘åŠ¨æœºã€é‡é‡ä¸º3300kgçš„æ±½è½¦æ¯è¡Œé©¶ä¸€å…¬é‡Œå°†é‡Šæ”¾115å…‹CO2</span><br>predictedCO2 = regr.predict([[<span class="hljs-number">3300</span>, <span class="hljs-number">1300</span>]])<br><span class="hljs-built_in">print</span>(predictedCO2)<br></code></pre></td></tr></table></figure><h2 id="1-5-æ¯”ä¾‹ç‰¹å¾æ–¹æ³•"><a href="#1-5-æ¯”ä¾‹ç‰¹å¾æ–¹æ³•" class="headerlink" title="1-5 æ¯”ä¾‹ç‰¹å¾æ–¹æ³•"></a>1-5 æ¯”ä¾‹ç‰¹å¾æ–¹æ³•</h2><ul><li>æ¯”ä¾‹ç‰¹å¾æ–¹æ³•<ul><li>å½“æ•°æ®å…·æœ‰ä¸åŒçš„å€¼ï¼Œç”šè‡³ä¸åŒçš„æµ‹é‡å•ä½æ—¶ï¼Œå¾ˆéš¾æ¯”è¾ƒï¼Œå¯å°†æ•°æ®ç¼©æ”¾ä¸ºå®¹æ˜“æ¯”è¾ƒçš„æ–°å€¼ã€‚</li><li>æ ‡å‡†åŒ–æ–¹æ³•ä½¿ç”¨çš„å…¬å¼ï¼š<code>z = (x - u) / s</code>ï¼Œzæ˜¯æ–°å€¼ï¼Œxæ˜¯åŸå§‹å€¼ï¼Œuæ˜¯å¹³å‡å€¼ï¼Œsæ˜¯æ ‡å‡†å·®ã€‚</li></ul></li></ul><h4 id="1-æ¯”ä¾‹ç‰¹å¾ç¼©æ”¾"><a href="#1-æ¯”ä¾‹ç‰¹å¾ç¼©æ”¾" class="headerlink" title="(1) æ¯”ä¾‹ç‰¹å¾ç¼©æ”¾"></a>(1) æ¯”ä¾‹ç‰¹å¾ç¼©æ”¾</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pandas<br><span class="hljs-keyword">from</span> sklearn.preprocessing <span class="hljs-keyword">import</span> StandardScaler<br>scale = StandardScaler()                        <span class="hljs-comment"># data.csvæ”¹åä¸ºvehicle_info.csv</span><br><br>df = pandas.read_csv(<span class="hljs-string">&#x27;data/vehicle_info.csv&#x27;</span>)   <span class="hljs-comment"># æ±½è½¦çš„ä¿¡æ¯ï¼šhttps://www.w3schools.com/python/data.csv</span><br>X = df[[<span class="hljs-string">&#x27;Weight&#x27;</span>, <span class="hljs-string">&#x27;Volume&#x27;</span>]]                    <span class="hljs-comment"># åˆ—å‡ºç‹¬ç«‹å€¼å¹¶è°ƒç”¨Xå˜é‡</span><br>scaledX = scale.fit_transform(X)                <span class="hljs-comment"># ç¼©æ”¾é‡é‡å’Œä½“ç§¯åˆ—ä¸­çš„æ‰€æœ‰å€¼</span><br><br><span class="hljs-built_in">print</span>(scaledX)<br></code></pre></td></tr></table></figure><h4 id="2-é¢„æµ‹CO2çš„å€¼"><a href="#2-é¢„æµ‹CO2çš„å€¼" class="headerlink" title="(2) é¢„æµ‹CO2çš„å€¼"></a>(2) é¢„æµ‹CO2çš„å€¼</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pandas<br><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> linear_model<br><span class="hljs-keyword">from</span> sklearn.preprocessing <span class="hljs-keyword">import</span> StandardScaler<br>scale = StandardScaler()                       <span class="hljs-comment"># data.csvæ”¹åä¸ºvehicle_info.csv</span><br><br>df = pandas.read_csv(<span class="hljs-string">&#x27;data/vehicle_info.csv&#x27;</span>)  <span class="hljs-comment"># æ±½è½¦çš„ä¿¡æ¯ï¼šhttps://www.w3schools.com/python/data.csv</span><br><br>X = df[[<span class="hljs-string">&#x27;Weight&#x27;</span>, <span class="hljs-string">&#x27;Volume&#x27;</span>]]                   <span class="hljs-comment"># åˆ—å‡ºç‹¬ç«‹å€¼å¹¶è°ƒç”¨Xå˜é‡</span><br>y = df[<span class="hljs-string">&#x27;CO2&#x27;</span>]<br><br>scaledX = scale.fit_transform(X.values)        <span class="hljs-comment"># ç¼©æ”¾é‡é‡å’Œä½“ç§¯åˆ—ä¸­çš„æ‰€æœ‰å€¼</span><br><br>regr = linear_model.LinearRegression()<br>regr.fit(scaledX, y.values)<br><br>scaled = scale.transform([[<span class="hljs-number">2300</span>, <span class="hljs-number">1.3</span>]])        <span class="hljs-comment"># é¢„æµ‹ä¸€è¾†é‡2300å…¬æ–¤çš„1.3å‡æ±½è½¦çš„äºŒæ°§åŒ–ç¢³æ’æ”¾é‡</span><br><br>predictedCO2 = regr.predict([scaled[<span class="hljs-number">0</span>]])<br><span class="hljs-built_in">print</span>(predictedCO2)<br></code></pre></td></tr></table></figure><h1 id="2-è®­ç»ƒ-x2F-æµ‹è¯•"><a href="#2-è®­ç»ƒ-x2F-æµ‹è¯•" class="headerlink" title="2 è®­ç»ƒ&#x2F;æµ‹è¯•"></a>2 è®­ç»ƒ&#x2F;æµ‹è¯•</h1><ul><li>è®­ç»ƒ&#x2F;æµ‹è¯•<ul><li>ä¸€ç§è¡¡é‡æ¨¡å‹å‡†ç¡®æ€§çš„æ–¹æ³•ï¼Œå°†æ•°æ®é›†åˆ†æˆäº†ä¸¤ä¸ªç»„ï¼šè®­ç»ƒé›†(è®­ç»ƒæ¨¡å‹)ã€æµ‹è¯•é›†(æµ‹è¯•æ¨¡å‹)ã€‚</li><li>80%ç”¨äºè®­ç»ƒ(è®­ç»ƒæ¨¡å‹æ„å‘³ç€åˆ›å»ºæ¨¡å‹)ï¼Œ20%ç”¨äºæµ‹è¯•(æµ‹è¯•æ¨¡å‹æ„å‘³ç€æµ‹è¯•æ¨¡å‹çš„å‡†ç¡®æ€§)ã€‚</li></ul></li></ul><h2 id="2-1-æ•°æ®é›†"><a href="#2-1-æ•°æ®é›†" class="headerlink" title="2-1 æ•°æ®é›†"></a>2-1 æ•°æ®é›†</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt                 <span class="hljs-comment"># å±•ç¤ºäº†ä¸€å®¶å•†åº—ä¸­çš„100ä½é¡¾å®¢ï¼Œä»¥åŠä»–ä»¬çš„è´­ç‰©ä¹ æƒ¯</span><br><br>numpy.random.seed(<span class="hljs-number">2</span>)<br>x = numpy.random.normal(<span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">100</span>)              <span class="hljs-comment"># xè½´è¡¨ç¤ºè´­ä¹°å‰çš„åˆ†é’Ÿæ•°</span><br>y = numpy.random.normal(<span class="hljs-number">150</span>, <span class="hljs-number">40</span>, <span class="hljs-number">100</span>) / x       <span class="hljs-comment"># yè½´è¡¨ç¤ºè´­ä¹°æ—¶èŠ±è´¹çš„é‡‘é¢</span><br><br>plt.scatter(x, y)<br>plt.show()<br></code></pre></td></tr></table></figure><h2 id="2-2-æ˜¾ç¤ºè®­ç»ƒé›†"><a href="#2-2-æ˜¾ç¤ºè®­ç»ƒé›†" class="headerlink" title="2-2 æ˜¾ç¤ºè®­ç»ƒé›†"></a>2-2 æ˜¾ç¤ºè®­ç»ƒé›†</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>numpy.random.seed(<span class="hljs-number">2</span>)<br>x = numpy.random.normal(<span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">100</span>)<br>y = numpy.random.normal(<span class="hljs-number">150</span>, <span class="hljs-number">40</span>, <span class="hljs-number">100</span>) / x<br><br>train_x = x[:<span class="hljs-number">80</span>]                               <span class="hljs-comment"># æ‹†åˆ†æˆè®­ç»ƒé›†ï¼Œéšæœºé€‰æ‹©80%çš„åŸå§‹æ•°æ®</span><br>train_y = y[:<span class="hljs-number">80</span>]<br><br>test_x = x[<span class="hljs-number">80</span>:]                                <span class="hljs-comment"># æ‹†åˆ†æˆæµ‹è¯•é›†ï¼Œå‰©ä¸‹çš„20%</span><br>test_y = y[<span class="hljs-number">80</span>:]<br><br>plt.scatter(train_x, train_y)                  <span class="hljs-comment"># æ˜¾ç¤ºè®­ç»ƒé›†ï¼Œçœ‹èµ·æ¥åƒåŸå§‹æ•°æ®é›†</span><br>plt.show()<br><br><span class="hljs-comment"># plt.scatter(test_x, test_y)                  # æ˜¾ç¤ºæµ‹è¯•é›†ï¼Œçœ‹èµ·æ¥åƒåŸå§‹æ•°æ®é›†</span><br><span class="hljs-comment"># plt.show()</span><br></code></pre></td></tr></table></figure><h2 id="2-3-æ‹Ÿåˆæ•°æ®é›†"><a href="#2-3-æ‹Ÿåˆæ•°æ®é›†" class="headerlink" title="2-3 æ‹Ÿåˆæ•°æ®é›†"></a>2-3 æ‹Ÿåˆæ•°æ®é›†</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>numpy.random.seed(<span class="hljs-number">2</span>)<br>x = numpy.random.normal(<span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">100</span>)<br>y = numpy.random.normal(<span class="hljs-number">150</span>, <span class="hljs-number">40</span>, <span class="hljs-number">100</span>) / x<br><br>train_x = x[:<span class="hljs-number">80</span>]                               <span class="hljs-comment"># æ‹†åˆ†æˆè®­ç»ƒé›†ï¼Œéšæœºé€‰æ‹©80%çš„åŸå§‹æ•°æ®</span><br>train_y = y[:<span class="hljs-number">80</span>]<br><br>test_x = x[<span class="hljs-number">80</span>:]                                <span class="hljs-comment"># æ‹†åˆ†æˆæµ‹è¯•é›†ï¼Œå‰©ä¸‹çš„20%</span><br>test_y = y[<span class="hljs-number">80</span>:]<br><br>model = numpy.poly1d(numpy.polyfit(train_x, train_y, <span class="hljs-number">4</span>))<br>lines = numpy.linspace(<span class="hljs-number">0</span>, <span class="hljs-number">6</span>, <span class="hljs-number">100</span>)              <span class="hljs-comment"># é€šè¿‡æ•°æ®ç‚¹ç”»ä¸€æ¡çº¿</span><br><br>plt.scatter(train_x, train_y)                  <span class="hljs-comment"># æ˜¾ç¤ºè®­ç»ƒé›†</span><br>plt.plot(lines, model(lines))                  <span class="hljs-comment"># è¿™æ¡çº¿è¡¨ç¤ºé¡¾å®¢åœ¨å•†åº—é‡ŒèŠ±è´¹6åˆ†é’Ÿå¯èƒ½è´­ä¹°ä»·å€¼200çš„å•†å“</span><br>plt.show()                                     <span class="hljs-comment"># æœ‰è¿‡åº¦æ‹Ÿåˆçš„è¿¹è±¡</span><br></code></pre></td></tr></table></figure><h2 id="2-4-Rå¹³æ–¹åˆ†æ•°"><a href="#2-4-Rå¹³æ–¹åˆ†æ•°" class="headerlink" title="2-4 Rå¹³æ–¹åˆ†æ•°"></a>2-4 Rå¹³æ–¹åˆ†æ•°</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy<br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> r2_score<br><br>numpy.random.seed(<span class="hljs-number">2</span>)<br>x = numpy.random.normal(<span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">100</span>)<br>y = numpy.random.normal(<span class="hljs-number">150</span>, <span class="hljs-number">40</span>, <span class="hljs-number">100</span>) / x<br><br>train_x = x[:<span class="hljs-number">80</span>]                               <span class="hljs-comment"># æ‹†åˆ†æˆè®­ç»ƒé›†</span><br>train_y = y[:<span class="hljs-number">80</span>]<br><br>test_x = x[<span class="hljs-number">80</span>:]                                <span class="hljs-comment"># æ‹†åˆ†æˆæµ‹è¯•é›†</span><br>test_y = y[<span class="hljs-number">80</span>:]<br><br>model = numpy.poly1d(numpy.polyfit(train_x, train_y, <span class="hljs-number">4</span>))<br>r2 = r2_score(train_y, model(train_x))         <span class="hljs-comment"># è®­ç»ƒæ•°æ®åœ¨å¤šé¡¹å¼å›å½’ä¸­çš„æ‹Ÿåˆç¨‹åº¦</span><br><span class="hljs-built_in">print</span>(r2)                                      <span class="hljs-comment"># ç»“æœ0.799è¯´æ˜å­˜åœ¨å…³ç³»</span><br></code></pre></td></tr></table></figure><h2 id="2-5-å¼•å…¥æµ‹è¯•é›†"><a href="#2-5-å¼•å…¥æµ‹è¯•é›†" class="headerlink" title="2-5 å¼•å…¥æµ‹è¯•é›†"></a>2-5 å¼•å…¥æµ‹è¯•é›†</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy<br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> r2_score<br><br>numpy.random.seed(<span class="hljs-number">2</span>)<br>x = numpy.random.normal(<span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">100</span>)<br>y = numpy.random.normal(<span class="hljs-number">150</span>, <span class="hljs-number">40</span>, <span class="hljs-number">100</span>) / x<br><br>train_x = x[:<span class="hljs-number">80</span>]                               <span class="hljs-comment"># æ‹†åˆ†æˆè®­ç»ƒé›†</span><br>train_y = y[:<span class="hljs-number">80</span>]<br><br>test_x = x[<span class="hljs-number">80</span>:]                                <span class="hljs-comment"># æ‹†åˆ†æˆæµ‹è¯•é›†</span><br>test_y = y[<span class="hljs-number">80</span>:]<br><br>model = numpy.poly1d(numpy.polyfit(train_x, train_y, <span class="hljs-number">4</span>))<br>r2 = r2_score(test_y, model(test_x))<br><span class="hljs-built_in">print</span>(r2)                                      <span class="hljs-comment"># ç»“æœ0.809è¯´æ˜è¯¥æ¨¡å‹é€‚åˆæµ‹è¯•é›†</span><br></code></pre></td></tr></table></figure><h2 id="2-6-é¢„æµ‹æœªæ¥ä»·å€¼"><a href="#2-6-é¢„æµ‹æœªæ¥ä»·å€¼" class="headerlink" title="2-6 é¢„æµ‹æœªæ¥ä»·å€¼"></a>2-6 é¢„æµ‹æœªæ¥ä»·å€¼</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy<br><br>numpy.random.seed(<span class="hljs-number">2</span>)<br>x = numpy.random.normal(<span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">100</span>)<br>y = numpy.random.normal(<span class="hljs-number">150</span>, <span class="hljs-number">40</span>, <span class="hljs-number">100</span>) / x<br><br>train_x = x[:<span class="hljs-number">80</span>]                               <span class="hljs-comment"># æ‹†åˆ†æˆè®­ç»ƒé›†</span><br>train_y = y[:<span class="hljs-number">80</span>]<br><br>test_x = x[<span class="hljs-number">80</span>:]                                <span class="hljs-comment"># æ‹†åˆ†æˆæµ‹è¯•é›†</span><br>test_y = y[<span class="hljs-number">80</span>:]<br><br>model = numpy.poly1d(numpy.polyfit(train_x, train_y, <span class="hljs-number">4</span>))<br><span class="hljs-built_in">print</span>(model(<span class="hljs-number">5</span>))                                <span class="hljs-comment"># å¦‚æœä¸€ä½è´­ç‰©é¡¾å®¢åœ¨åº—é‡Œåœç•™5åˆ†é’Ÿï¼Œé¢„æµ‹èŠ±è´¹22.88ç¾å…ƒ</span><br></code></pre></td></tr></table></figure><h1 id="3-å¸¸è§åˆ†ç±»ç®—æ³•"><a href="#3-å¸¸è§åˆ†ç±»ç®—æ³•" class="headerlink" title="3 å¸¸è§åˆ†ç±»ç®—æ³•"></a>3 å¸¸è§åˆ†ç±»ç®—æ³•</h1><ul><li>å¸¸è§åˆ†ç±»ç®—æ³•<ul><li>ç›‘ç£å­¦ä¹ ç®—æ³•ï¼ŒSupervised Algorithmsã€‚<ul><li>åœ¨ç›‘ç£å­¦ä¹ è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œå¯ä»¥ç”±è®­ç»ƒæ•°æ®é›†å­¦åˆ°æˆ–å»ºç«‹ä¸€ä¸ªæ¨¡å¼(å‡½æ•°&#x2F;Learning model)ï¼Œå¹¶ä¾æ­¤æ¨¡å¼æ¨æµ‹æ–°çš„å®ä¾‹ã€‚</li><li>è¦æ±‚ç‰¹å®šçš„è¾“å…¥&#x2F;è¾“å‡ºï¼Œé¦–å…ˆéœ€è¦å†³å®šä½¿ç”¨å“ªç§æ•°æ®ä½œä¸ºèŒƒä¾‹ï¼ŒåŒ…æ‹¬ç¥ç»ç½‘ç»œã€æ”¯æŒå‘é‡æœºã€æœ€è¿‘é‚»å±…æ³•ã€å†³ç­–æ ‘ç­‰ã€‚</li></ul></li><li>æ— ç›‘ç£å­¦ä¹ ç®—æ³•ï¼ŒUnsupervised Algorithmsï¼šæ²¡æœ‰ç‰¹å®šçš„ç›®æ ‡è¾“å‡ºï¼Œç®—æ³•å°†æ•°æ®é›†åˆ†ä¸ºä¸åŒçš„ç»„ã€‚</li><li>å¼ºåŒ–å­¦ä¹ ç®—æ³•ï¼ŒReinforcement Algorithmsã€‚<ul><li>ä¸»è¦åŸºäºå†³ç­–è¿›è¡Œè®­ç»ƒï¼Œæ ¹æ®è¾“å‡ºç»“æœçš„æˆåŠŸæˆ–é”™è¯¯è®­ç»ƒï¼Œé€šè¿‡å¤§é‡ç»éªŒè®­ç»ƒä¼˜åŒ–åçš„ç®—æ³•å°†èƒ½å¤Ÿç»™å‡ºè¾ƒå¥½çš„é¢„æµ‹ã€‚</li><li>åœ¨è¿ç­¹å­¦å’Œæ§åˆ¶è®ºçš„è¯­å¢ƒä¸‹ï¼Œå¼ºåŒ–å­¦ä¹ è¢«ç§°ä½œâ€œè¿‘ä¼¼åŠ¨æ€è§„åˆ’â€ï¼Œå³Approximate Dynamic Programmingï¼Œç®€ç§°ADPã€‚</li></ul></li></ul></li></ul><h2 id="3-1-å†³ç­–æ ‘"><a href="#3-1-å†³ç­–æ ‘" class="headerlink" title="3-1 å†³ç­–æ ‘"></a>3-1 å†³ç­–æ ‘</h2><ul><li>å†³ç­–æ ‘<ul><li>ä¸€ä¸ªæµç¨‹å›¾ï¼Œå¯æ ¹æ®ä»¥å‰çš„ç»éªŒåšå‡ºå†³ç­–ï¼Œå†³ç­–æ ‘éœ€æ»¡è¶³æ‰€æœ‰æ•°æ®éƒ½æ˜¯æ•°å­—ã€‚</li><li>è¿è¡Œå†³ç­–æ ‘çš„æ¬¡æ•°è¶³å¤Ÿå¤šæ—¶ï¼Œä¼šçœ‹åˆ°å®ƒç»™å‡ºä¸åŒç»“æœï¼Œå³ä¾¿æä¾›äº†ç›¸åŒçš„æ•°æ®ã€‚</li><li>å†³ç­–æ ‘å¹¶æœªç»™å®š100%ç¡®å®šçš„ç­”æ¡ˆï¼Œåªæ˜¯åŸºäºç»“æœçš„æ¦‚ç‡ï¼Œå› è€Œç»“æœä¼šæœ‰æ‰€ä¸åŒã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pandas<br><br><span class="hljs-string">&quot;&quot;&quot; data/actor_info.csv</span><br><span class="hljs-string">AgeExperienceRankNationalityGo</span><br><span class="hljs-string">36  10          9    UK          NO</span><br><span class="hljs-string">42  12          4    USA         NO</span><br><span class="hljs-string">23  4           6    N           NO</span><br><span class="hljs-string">52  4           4    USA         NO</span><br><span class="hljs-string">43  21          8    USA         YES</span><br><span class="hljs-string">44  14          5    UK          NO</span><br><span class="hljs-string">66  3           7    N           YES</span><br><span class="hljs-string">35  14          9    UK          YES</span><br><span class="hljs-string">52  13          7    N           YES</span><br><span class="hljs-string">35  5           9    N           YES</span><br><span class="hljs-string">24  3           5    USA         NO</span><br><span class="hljs-string">18  3           7    UK          YES</span><br><span class="hljs-string">45  9           9    UK          YES</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br>df = pandas.read_csv(<span class="hljs-string">&#x27;data/actor_info.csv&#x27;</span>)    <span class="hljs-comment"># å–œå‰§æ¼”å‘˜çš„ä¿¡æ¯ï¼Œæ˜¯å¦å†³å®šçœ‹èŠ‚ç›®</span><br><span class="hljs-built_in">print</span>(df)                                      <span class="hljs-comment"># è¯»å–å¹¶æ‰“å°æ•°æ®é›†</span><br></code></pre></td></tr></table></figure><h4 id="1-æ•°å€¼è½¬æ¢"><a href="#1-æ•°å€¼è½¬æ¢" class="headerlink" title="(1) æ•°å€¼è½¬æ¢"></a>(1) æ•°å€¼è½¬æ¢</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pandas<br><br>df = pandas.read_csv(<span class="hljs-string">&#x27;data/actor_info.csv&#x27;</span>)<br>ds = &#123;<span class="hljs-string">&#x27;UK&#x27;</span>: <span class="hljs-number">0</span>, <span class="hljs-string">&#x27;USA&#x27;</span>: <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;N&#x27;</span>: <span class="hljs-number">2</span>&#125;                <span class="hljs-comment"># å°†éæ•°å­—åˆ—è½¬æ¢ä¸ºæ•°å­—åˆ—</span><br>df[<span class="hljs-string">&#x27;Nationality&#x27;</span>] = df[<span class="hljs-string">&#x27;Nationality&#x27;</span>].<span class="hljs-built_in">map</span>(ds)<br>ds = &#123;<span class="hljs-string">&#x27;YES&#x27;</span>: <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;NO&#x27;</span>: <span class="hljs-number">0</span>&#125;<br>df[<span class="hljs-string">&#x27;Go&#x27;</span>] = df[<span class="hljs-string">&#x27;Go&#x27;</span>].<span class="hljs-built_in">map</span>(ds)<br><br><span class="hljs-built_in">print</span>(df)                                       <span class="hljs-comment"># è¯»å–å¹¶æ‰“å°æ•°æ®é›†</span><br></code></pre></td></tr></table></figure><h4 id="2-åˆ›å»ºå†³ç­–æ ‘"><a href="#2-åˆ›å»ºå†³ç­–æ ‘" class="headerlink" title="(2) åˆ›å»ºå†³ç­–æ ‘"></a>(2) åˆ›å»ºå†³ç­–æ ‘</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pandas<br><span class="hljs-keyword">import</span> graphviz                                <span class="hljs-comment"># éœ€è¦å®‰è£…graphvizåº“å’ŒPlantUMLæ’ä»¶</span><br><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> tree<br><span class="hljs-keyword">from</span> sklearn.tree <span class="hljs-keyword">import</span> DecisionTreeClassifier<br><br>df = pandas.read_csv(<span class="hljs-string">&#x27;data/actor_info.csv&#x27;</span>)<br>ds = &#123;<span class="hljs-string">&#x27;UK&#x27;</span>: <span class="hljs-number">0</span>, <span class="hljs-string">&#x27;USA&#x27;</span>: <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;N&#x27;</span>: <span class="hljs-number">2</span>&#125;               <span class="hljs-comment"># å°†éæ•°å­—åˆ—è½¬æ¢ä¸ºæ•°å­—åˆ—</span><br>df[<span class="hljs-string">&#x27;Nationality&#x27;</span>] = df[<span class="hljs-string">&#x27;Nationality&#x27;</span>].<span class="hljs-built_in">map</span>(ds)<br>ds = &#123;<span class="hljs-string">&#x27;YES&#x27;</span>: <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;NO&#x27;</span>: <span class="hljs-number">0</span>&#125;<br>df[<span class="hljs-string">&#x27;Go&#x27;</span>] = df[<span class="hljs-string">&#x27;Go&#x27;</span>].<span class="hljs-built_in">map</span>(ds)<br><br>features = [<span class="hljs-string">&#x27;Age&#x27;</span>, <span class="hljs-string">&#x27;Experience&#x27;</span>, <span class="hljs-string">&#x27;Rank&#x27;</span>, <span class="hljs-string">&#x27;Nationality&#x27;</span>]<br>X = df[features]                               <span class="hljs-comment"># ç‰¹å¾åˆ—ï¼Œå°è¯•ä»ä¸­é¢„æµ‹çš„åˆ—</span><br>y = df[<span class="hljs-string">&#x27;Go&#x27;</span>]                                   <span class="hljs-comment"># ç›®æ ‡åˆ—ï¼Œå°è¯•é¢„æµ‹å€¼çš„åˆ—</span><br><br><span class="hljs-built_in">print</span>(X)<br><span class="hljs-built_in">print</span>(y)<br><br>dtree = DecisionTreeClassifier()               <span class="hljs-comment"># åˆ†å‰²æ ·æœ¬çš„GINIæ–¹æ³•ï¼šGini=1-(x/n)2+(y/n)2</span><br>dtree = dtree.fit(X, y)<br><span class="hljs-comment"># tree.plot_tree(dtree, feature_names=features)</span><br><span class="hljs-comment"># plt.savefig(sys.stdout.buffer)               # è¿èƒŒäº†å¯è§†åŒ–çš„åˆè¡·ï¼Œç®€å•ç²—æš´ï¼Œä¸å»ºè®®ä½¿ç”¨</span><br><span class="hljs-comment"># sys.stdout.flush()</span><br><br>dot_data = tree.export_graphviz(dtree, feature_names=features)<br>graph = graphviz.Source(dot_data)<br>graph.render(<span class="hljs-string">&#x27;data/decision_tree&#x27;</span>)             <span class="hljs-comment"># ç”Ÿæˆdecision_tree.pdfå¯è§†åŒ–å†³ç­–æ ‘</span><br></code></pre></td></tr></table></figure><h4 id="3-é¢„æµ‹æœªæ¥ä»·å€¼"><a href="#3-é¢„æµ‹æœªæ¥ä»·å€¼" class="headerlink" title="(3) é¢„æµ‹æœªæ¥ä»·å€¼"></a>(3) é¢„æµ‹æœªæ¥ä»·å€¼</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pandas<br><span class="hljs-keyword">from</span> sklearn.tree <span class="hljs-keyword">import</span> DecisionTreeClassifier<br><br>df = pandas.read_csv(<span class="hljs-string">&#x27;data/actor_info.csv&#x27;</span>)<br>ds = &#123;<span class="hljs-string">&#x27;UK&#x27;</span>: <span class="hljs-number">0</span>, <span class="hljs-string">&#x27;USA&#x27;</span>: <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;N&#x27;</span>: <span class="hljs-number">2</span>&#125;               <span class="hljs-comment"># å°†éæ•°å­—åˆ—è½¬æ¢ä¸ºæ•°å€¼</span><br>df[<span class="hljs-string">&#x27;Nationality&#x27;</span>] = df[<span class="hljs-string">&#x27;Nationality&#x27;</span>].<span class="hljs-built_in">map</span>(ds)<br>ds = &#123;<span class="hljs-string">&#x27;YES&#x27;</span>: <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;NO&#x27;</span>: <span class="hljs-number">0</span>&#125;<br>df[<span class="hljs-string">&#x27;Go&#x27;</span>] = df[<span class="hljs-string">&#x27;Go&#x27;</span>].<span class="hljs-built_in">map</span>(ds)<br><br>features = [<span class="hljs-string">&#x27;Age&#x27;</span>, <span class="hljs-string">&#x27;Experience&#x27;</span>, <span class="hljs-string">&#x27;Rank&#x27;</span>, <span class="hljs-string">&#x27;Nationality&#x27;</span>]<br>X = df[features]                               <span class="hljs-comment"># ç‰¹å¾åˆ—ï¼Œå°è¯•ä»ä¸­é¢„æµ‹çš„åˆ—</span><br>y = df[<span class="hljs-string">&#x27;Go&#x27;</span>]                                   <span class="hljs-comment"># ç›®æ ‡åˆ—ï¼Œå°è¯•é¢„æµ‹å€¼çš„åˆ—</span><br><br>dtree = DecisionTreeClassifier()<br>dtree = dtree.fit(X.values, y.values)<br><span class="hljs-built_in">print</span>(dtree.predict([[<span class="hljs-number">40</span>, <span class="hljs-number">10</span>, <span class="hljs-number">6</span>, <span class="hljs-number">1</span>]]))         <span class="hljs-comment"># æ˜¯å¦è¯¥çœ‹40å²10å¹´ç»éªŒå–œå‰§æ’åä¸º7çš„æ¼”å‘˜ä¸»æ¼”çš„èŠ‚ç›®</span><br></code></pre></td></tr></table></figure><h2 id="3-2-K-å‡å€¼"><a href="#3-2-K-å‡å€¼" class="headerlink" title="3-2 K-å‡å€¼"></a>3-2 K-å‡å€¼</h2><ul><li>K-å‡å€¼<ul><li>ä¸€ç§ç”¨äºèšç±»æ•°æ®ç‚¹çš„æ— ç›‘ç£å­¦ä¹ æ–¹æ³•ï¼Œè¯¥ç®—æ³•é€šè¿‡æœ€å°åŒ–æ¯ä¸ªç°‡ä¸­çš„æ–¹å·®å°†æ•°æ®ç‚¹è¿­ä»£åˆ’åˆ†ä¸ºKä¸ªç°‡ã€‚<ul><li>é¦–å…ˆï¼Œæ¯ä¸ªæ•°æ®ç‚¹è¢«éšæœºåˆ†é…åˆ°Kä¸ªé›†ç¾¤ä¸­çš„ä»»æ„ä¸€ä¸ªï¼Œç„¶åï¼Œè®¡ç®—æ¯ä¸ªé›†ç¾¤çš„è´¨å¿ƒ(å³åŠŸèƒ½ä¸Šçš„ä¸­å¿ƒ)ã€‚</li><li>å¹¶å°†æ¯ä¸ªæ•°æ®ç‚¹é‡æ–°åˆ†é…ç»™å…·æœ‰æœ€æ¥è¿‘è´¨å¿ƒçš„é›†ç¾¤ï¼Œé‡å¤è¯¥è¿‡ç¨‹ï¼Œç›´åˆ°æ¯ä¸ªæ•°æ®ç‚¹çš„é›†ç¾¤åˆ†é…ä¸å†å˜åŒ–ã€‚</li></ul></li><li>K-å‡å€¼èšç±»è¦æ±‚é€‰æ‹©Kï¼Œå³è¦å°†æ•°æ®åˆ†ç»„åˆ°çš„èšç±»æ•°ã€‚eblowæ–¹æ³•ç»˜åˆ¶æƒ¯æ€§(åŸºäºè·ç¦»çš„åº¦é‡)ã€‚</li><li>å¹¶å¯è§†åŒ–æƒ¯æ€§å¼€å§‹çº¿æ€§ä¸‹é™çš„ç‚¹ï¼Œè¯¥ç‚¹è¢«ç§°ä¸ºeblowï¼Œæ˜¯æ ¹æ®æ•°æ®å¯¹Kæœ€ä½³å€¼çš„ä¸€ä¸ªå¾ˆå¥½ä¼°è®¡ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>x = [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">10</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">11</span>, <span class="hljs-number">14</span>, <span class="hljs-number">6</span>, <span class="hljs-number">10</span>, <span class="hljs-number">12</span>]<br>y = [<span class="hljs-number">21</span>, <span class="hljs-number">19</span>, <span class="hljs-number">24</span>, <span class="hljs-number">17</span>, <span class="hljs-number">16</span>, <span class="hljs-number">25</span>, <span class="hljs-number">24</span>, <span class="hljs-number">22</span>, <span class="hljs-number">21</span>, <span class="hljs-number">21</span>]<br><br>plt.scatter(x, y)<br>plt.show()                                      <span class="hljs-comment"># å¯è§†åŒ–ä¸€äº›æ•°æ®ç‚¹</span><br></code></pre></td></tr></table></figure><h4 id="1-eblowæ³•"><a href="#1-eblowæ³•" class="headerlink" title="(1) eblowæ³•"></a>(1) eblowæ³•</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> warnings<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">from</span> sklearn.cluster <span class="hljs-keyword">import</span> KMeans<br><br>x = [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">10</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">11</span>, <span class="hljs-number">14</span>, <span class="hljs-number">6</span>, <span class="hljs-number">10</span>, <span class="hljs-number">12</span>]<br>y = [<span class="hljs-number">21</span>, <span class="hljs-number">19</span>, <span class="hljs-number">24</span>, <span class="hljs-number">17</span>, <span class="hljs-number">16</span>, <span class="hljs-number">25</span>, <span class="hljs-number">24</span>, <span class="hljs-number">22</span>, <span class="hljs-number">21</span>, <span class="hljs-number">21</span>]<br><br>data = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">zip</span>(x, y))                         <span class="hljs-comment"># å°†æ•°æ®è½¬æ¢ä¸ºä¸€ç»„ç‚¹</span><br><br>inertias = []                                  <span class="hljs-comment"># æ‰¾åˆ°Kçš„æœ€ä½³å€¼ï¼Œéœ€å¯¹æ•°æ®è¿è¡ŒKå‡å€¼ä»¥è·å¾—ä¸€ç³»åˆ—å¯èƒ½å€¼</span><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-number">11</span>):                         <span class="hljs-comment"># åªæœ‰10ä¸ªæ•°æ®ç‚¹ï¼Œå› æ­¤æœ€å¤§ç°‡æ•°ä¸º10</span><br>    kmeans = KMeans(n_clusters=i)<br>    <span class="hljs-keyword">with</span> warnings.catch_warnings():<br>        warnings.simplefilter(<span class="hljs-string">&#x27;ignore&#x27;</span>)<br>        kmeans.fit(data)<br>    inertias.append(kmeans.inertia_)<br><br>plt.plot(<span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-number">11</span>), inertias, marker=<span class="hljs-string">&#x27;o&#x27;</span>)<br>plt.title(<span class="hljs-string">&#x27;Elbow method&#x27;</span>)<br>plt.xlabel(<span class="hljs-string">&#x27;Number of clusters&#x27;</span>)<br>plt.ylabel(<span class="hljs-string">&#x27;Inertia&#x27;</span>)                          <span class="hljs-comment"># åˆ©ç”¨eblowæ³•å¯è§†åŒ–ä¸åŒKå€¼çš„æƒ¯é‡</span><br>plt.show()                                     <span class="hljs-comment"># å›¾ä¸­å€¼2æ˜¯Kçš„ä¸€ä¸ªå¾ˆå¥½çš„å€¼</span><br></code></pre></td></tr></table></figure><h4 id="2-é‡æ–°è®­ç»ƒ"><a href="#2-é‡æ–°è®­ç»ƒ" class="headerlink" title="(2) é‡æ–°è®­ç»ƒ"></a>(2) é‡æ–°è®­ç»ƒ</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> warnings<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">from</span> sklearn.cluster <span class="hljs-keyword">import</span> KMeans<br><br>x = [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">10</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">11</span>, <span class="hljs-number">14</span>, <span class="hljs-number">6</span>, <span class="hljs-number">10</span>, <span class="hljs-number">12</span>]<br>y = [<span class="hljs-number">21</span>, <span class="hljs-number">19</span>, <span class="hljs-number">24</span>, <span class="hljs-number">17</span>, <span class="hljs-number">16</span>, <span class="hljs-number">25</span>, <span class="hljs-number">24</span>, <span class="hljs-number">22</span>, <span class="hljs-number">21</span>, <span class="hljs-number">21</span>]<br><br>data = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">zip</span>(x, y))                         <span class="hljs-comment"># å°†æ•°æ®è½¬æ¢ä¸ºä¸€ç»„ç‚¹</span><br><br>kmeans = KMeans(n_clusters=<span class="hljs-number">2</span>)<br><span class="hljs-keyword">with</span> warnings.catch_warnings():<br>    warnings.simplefilter(<span class="hljs-string">&#x27;ignore&#x27;</span>)<br>    kmeans.fit(data)<br><br>plt.scatter(x, y, c=kmeans.labels_)<br>plt.show()                                     <span class="hljs-comment"># å¯è§†åŒ–æ•°æ®ç‚¹</span><br></code></pre></td></tr></table></figure><h2 id="3-3-æ··æ·†çŸ©é˜µ"><a href="#3-3-æ··æ·†çŸ©é˜µ" class="headerlink" title="3-3 æ··æ·†çŸ©é˜µ"></a>3-3 æ··æ·†çŸ©é˜µ</h2><ul><li>æ··æ·†çŸ©é˜µ<ul><li>ä¸€ä¸ªç”¨äºåˆ†ç±»é—®é¢˜çš„è¡¨æ ¼ï¼Œç”¨äºè¯„ä¼°æ¨¡å‹ä¸­å‡ºç°é”™è¯¯çš„ä½ç½®ï¼Œè¡Œä»£è¡¨ç»“æœåº”è¯¥å±äºçš„å®é™…ç±»åˆ«ï¼Œåˆ—ä»£è¡¨æ‰€åšçš„é¢„æµ‹ã€‚</li><li>åˆ›å»ºçš„æ··æ·†çŸ©é˜µæœ‰4ä¸ªè±¡é™ï¼šçœŸé˜´æ€§ã€å‡é˜³æ€§ã€å‡é˜´æ€§ã€çœŸé˜³æ€§ï¼ŒTrueè¡¨å‡†ç¡®é¢„æµ‹å€¼ï¼ŒFalseè¡¨å­˜åœ¨é”™è¯¯æˆ–é”™è¯¯é¢„æµ‹ã€‚</li><li>è¯¥çŸ©é˜µæä¾›äº†è®¸å¤šæŒ‡æ ‡ï¼Œå¯è¯„ä¼°åˆ†ç±»æ¨¡å‹ï¼Œä¸åŒçš„è¡¡é‡æ ‡å‡†åŒ…æ‹¬ï¼šå‡†ç¡®åº¦ã€ç²¾ç¡®åº¦ã€çµæ•åº¦(å¬å›ç‡)ã€ç‰¹å¼‚æ€§å’ŒF-scoreã€‚<ul><li>å‡†ç¡®åº¦ï¼šè¡¡é‡æ¨¡å‹æ­£ç¡®çš„é¢‘ç‡ï¼Œè®¡ç®—æ–¹æ³•ä¸º(çœŸé˜³æ€§+çœŸé˜´æ€§)&#x2F;æ€»é¢„æµ‹ã€‚</li><li>ç²¾ç¡®åº¦ï¼šåœ¨é¢„æµ‹çš„ç§¯æå› ç´ ä¸­ï¼ŒçœŸæ­£ç§¯æçš„ç™¾åˆ†æ¯”ï¼Œè®¡ç®—æ–¹æ³•ä¸ºçœŸé˜³æ€§&#x2F;(çœŸé˜³æ€§+å‡é˜³æ€§)ã€‚</li><li>çµæ•åº¦ï¼šåœ¨æ‰€æœ‰çš„é˜³æ€§ç—…ä¾‹ä¸­ï¼Œé¢„æµ‹é˜³æ€§çš„ç™¾åˆ†æ¯”ï¼Œè®¡ç®—æ–¹æ³•ä¸ºçœŸé˜³æ€§&#x2F;(çœŸé˜³æ€§+å‡é˜´æ€§)ã€‚</li><li>ç‰¹å¼‚æ€§ï¼šç±»ä¼¼äºçµæ•åº¦ï¼Œä½†ä»é˜´æ€§ç»“æœçš„è§’åº¦æ¥çœ‹ï¼Œè®¡ç®—æ–¹æ³•ä¸ºçœŸé˜´æ€§&#x2F;(çœŸé˜´æ€§+å‡é˜³æ€§)ã€‚</li><li>F-scoreï¼šå³ç²¾åº¦å’Œçµæ•åº¦çš„è°ƒå’Œå¹³å‡å€¼ï¼Œè®¡ç®—æ–¹æ³•ä¸º2*((ç²¾åº¦*çµæ•åº¦)&#x2F;(ç²¾åº¦+çµæ•åº¦))ã€‚</li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy                                                 <span class="hljs-comment"># é€šè¿‡é€»è¾‘å›å½’çš„é¢„æµ‹æ¥åˆ›å»ºæ··æ·†çŸ©é˜µ</span><br><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> metrics<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>actual = numpy.random.binomial(<span class="hljs-number">1</span>, <span class="hljs-number">0.9</span>, size=<span class="hljs-number">1000</span>)            <span class="hljs-comment"># ç”Ÿæˆå®é™…å€¼</span><br>predic = numpy.random.binomial(<span class="hljs-number">1</span>, <span class="hljs-number">0.9</span>, size=<span class="hljs-number">1000</span>)            <span class="hljs-comment"># ç”Ÿæˆé¢„æµ‹å€¼</span><br><br>confusion_matrix = metrics.confusion_matrix(actual, predic)  <span class="hljs-comment"># å¯¹å®é™…å€¼å’Œé¢„æµ‹å€¼ä½¿ç”¨æ··æ·†çŸ©é˜µå‡½æ•°</span><br>cm_display = metrics.ConfusionMatrixDisplay(                 <span class="hljs-comment"># å°†è¡¨æ ¼è½¬æ¢ä¸ºæ··æ·†çŸ©é˜µæ˜¾ç¤º</span><br>    confusion_matrix=confusion_matrix,<br>    display_labels=[<span class="hljs-literal">False</span>, <span class="hljs-literal">True</span>]<br>)<br><br>cm_display.plot()                                            <span class="hljs-comment"># æ˜¾ç¤ºç»˜å›¾</span><br>plt.show()<br></code></pre></td></tr></table></figure><h4 id="1-å‡†ç¡®åº¦"><a href="#1-å‡†ç¡®åº¦" class="headerlink" title="(1) å‡†ç¡®åº¦"></a>(1) å‡†ç¡®åº¦</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy<br><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> metrics<br><br>actual = numpy.random.binomial(<span class="hljs-number">1</span>, <span class="hljs-number">0.9</span>, size=<span class="hljs-number">1000</span>)             <span class="hljs-comment"># ç”Ÿæˆå®é™…å€¼</span><br>predic = numpy.random.binomial(<span class="hljs-number">1</span>, <span class="hljs-number">0.9</span>, size=<span class="hljs-number">1000</span>)             <span class="hljs-comment"># ç”Ÿæˆé¢„æµ‹å€¼</span><br><br>Accuracy = metrics.accuracy_score(actual, predic)             <span class="hljs-comment"># å‡†ç¡®åº¦ï¼Œè¡¡é‡æ¨¡å‹æ­£ç¡®çš„é¢‘ç‡</span><br><span class="hljs-built_in">print</span>(Accuracy)<br></code></pre></td></tr></table></figure><h4 id="2-ç²¾ç¡®åº¦"><a href="#2-ç²¾ç¡®åº¦" class="headerlink" title="(2) ç²¾ç¡®åº¦"></a>(2) ç²¾ç¡®åº¦</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy<br><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> metrics<br><br>actual = numpy.random.binomial(<span class="hljs-number">1</span>, <span class="hljs-number">0.9</span>, size=<span class="hljs-number">1000</span>)             <span class="hljs-comment"># ç”Ÿæˆå®é™…å€¼</span><br>predic = numpy.random.binomial(<span class="hljs-number">1</span>, <span class="hljs-number">0.9</span>, size=<span class="hljs-number">1000</span>)             <span class="hljs-comment"># ç”Ÿæˆé¢„æµ‹å€¼</span><br><br>Precision = metrics.precision_score(actual, predic)           <span class="hljs-comment"># ç²¾ç¡®åº¦ï¼Œä¸è¯„ä¼°æ­£ç¡®é¢„æµ‹çš„è´Ÿé¢æ¡ˆä¾‹</span><br><span class="hljs-built_in">print</span>(Precision)<br></code></pre></td></tr></table></figure><h4 id="3-çµæ•åº¦"><a href="#3-çµæ•åº¦" class="headerlink" title="(3) çµæ•åº¦"></a>(3) çµæ•åº¦</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy<br><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> metrics<br><br>actual = numpy.random.binomial(<span class="hljs-number">1</span>, <span class="hljs-number">0.9</span>, size=<span class="hljs-number">1000</span>)             <span class="hljs-comment"># ç”Ÿæˆå®é™…å€¼</span><br>predic = numpy.random.binomial(<span class="hljs-number">1</span>, <span class="hljs-number">0.9</span>, size=<span class="hljs-number">1000</span>)             <span class="hljs-comment"># ç”Ÿæˆé¢„æµ‹å€¼</span><br><br>Sensitivity_recall = metrics.recall_score(actual, predic)     <span class="hljs-comment"># çµæ•åº¦ï¼Œè¡¡é‡æ¨¡å‹é¢„æµ‹é˜³æ€§çš„å¥½åç¨‹åº¦</span><br><span class="hljs-built_in">print</span>(Sensitivity_recall)<br></code></pre></td></tr></table></figure><h4 id="4-ç‰¹å¼‚æ€§"><a href="#4-ç‰¹å¼‚æ€§" class="headerlink" title="(4) ç‰¹å¼‚æ€§"></a>(4) ç‰¹å¼‚æ€§</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy<br><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> metrics<br><br>actual = numpy.random.binomial(<span class="hljs-number">1</span>, <span class="hljs-number">0.9</span>, size=<span class="hljs-number">1000</span>)             <span class="hljs-comment"># ç”Ÿæˆå®é™…å€¼</span><br>predic = numpy.random.binomial(<span class="hljs-number">1</span>, <span class="hljs-number">0.9</span>, size=<span class="hljs-number">1000</span>)             <span class="hljs-comment"># ç”Ÿæˆé¢„æµ‹å€¼</span><br><br>Specificity = metrics.recall_score(actual, predic, pos_label=<span class="hljs-number">0</span>)<br><span class="hljs-built_in">print</span>(Specificity)                                            <span class="hljs-comment"># ç‰¹å¼‚æ€§ï¼Œç±»ä¼¼æ•æ„Ÿæ€§ï¼Œä»é˜´æ€§ç»“æœè§’åº¦çœ‹</span><br></code></pre></td></tr></table></figure><h4 id="5-F-score"><a href="#5-F-score" class="headerlink" title="(5) F-score"></a>(5) F-score</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy<br><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> metrics<br><br>actual = numpy.random.binomial(<span class="hljs-number">1</span>, <span class="hljs-number">0.9</span>, size=<span class="hljs-number">1000</span>)             <span class="hljs-comment"># ç”Ÿæˆå®é™…å€¼</span><br>predic = numpy.random.binomial(<span class="hljs-number">1</span>, <span class="hljs-number">0.9</span>, size=<span class="hljs-number">1000</span>)             <span class="hljs-comment"># ç”Ÿæˆé¢„æµ‹å€¼</span><br><br>F1_score = metrics.f1_score(actual, predic)                   <span class="hljs-comment"># åŒæ—¶è€ƒè™‘å‡é˜³æ€§å’Œå‡é˜´æ€§</span><br><span class="hljs-built_in">print</span>(F1_score)                                               <span class="hljs-comment"># é€‚ç”¨äºä¸å¹³è¡¡çš„æ•°æ®é›†ï¼ŒF-score</span><br></code></pre></td></tr></table></figure><h2 id="3-4-å±‚æ¬¡èšç±»"><a href="#3-4-å±‚æ¬¡èšç±»" class="headerlink" title="3-4 å±‚æ¬¡èšç±»"></a>3-4 å±‚æ¬¡èšç±»</h2><ul><li>å±‚æ¬¡èšç±»<ul><li>æ˜¯ä¸€ç§ç”¨äºèšç±»æ•°æ®ç‚¹çš„æ— ç›‘ç£å­¦ä¹ æ–¹æ³•ï¼Œè¯¥ç®—æ³•é€šè¿‡æµ‹é‡æ•°æ®ä¹‹é—´çš„å·®å¼‚æ¥æ„å»ºé›†ç¾¤ã€‚</li><li>æ— ç›‘ç£å­¦ä¹ æ„å‘³ç€æ¨¡å‹ä¸éœ€è¦è®­ç»ƒï¼Œå¯ç”¨äºä»»ä½•æ•°æ®ï¼Œä»¥å¯è§†åŒ–å’Œè§£é‡Šå„ä¸ªæ•°æ®ç‚¹ä¹‹é—´çš„å…³ç³»ã€‚<ul><li>é¦–å…ˆå°†æ¯ä¸ªæ•°æ®ç‚¹è§†ä¸ºå…¶è‡ªå·±çš„é›†ç¾¤ï¼Œç„¶åå°†å®ƒä»¬ä¹‹é—´è·ç¦»æœ€çŸ­çš„é›†ç¾¤è¿æ¥åœ¨ä¸€èµ·ï¼Œä»¥åˆ›å»ºæ›´å¤§çš„é›†ç¾¤ã€‚</li><li>é‡å¤æ­¤æ­¥éª¤ï¼Œç›´åˆ°å½¢æˆä¸€ä¸ªåŒ…å«æ‰€æœ‰æ•°æ®ç‚¹çš„å¤§é›†ç¾¤ï¼Œå‡èšèšç±»(å³ä¸€ç§éµå¾ªè‡ªä¸‹è€Œä¸Šæ–¹æ³•çš„å±‚æ¬¡èšç±»)ã€‚</li></ul></li><li>åœ¨è¿™é‡Œå°†ä½¿ç”¨å±‚æ¬¡èšç±»å¯¹æ•°æ®ç‚¹è¿›è¡Œåˆ†ç»„ï¼Œå¹¶ä½¿ç”¨æ ‘çŠ¶å›¾å’Œæ•£ç‚¹å›¾å¯è§†åŒ–èšç±»ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>x = [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">10</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">11</span>, <span class="hljs-number">14</span> , <span class="hljs-number">6</span>, <span class="hljs-number">10</span>, <span class="hljs-number">12</span>]<br>y = [<span class="hljs-number">21</span>, <span class="hljs-number">19</span>, <span class="hljs-number">24</span>, <span class="hljs-number">17</span>, <span class="hljs-number">16</span>, <span class="hljs-number">25</span>, <span class="hljs-number">24</span>, <span class="hljs-number">22</span>, <span class="hljs-number">21</span>, <span class="hljs-number">21</span>]<br><br>plt.scatter(x, y)                                  <span class="hljs-comment"># å¯è§†åŒ–ä¸€äº›æ•°æ®ç‚¹</span><br>plt.show()<br></code></pre></td></tr></table></figure><h4 id="1-æ ‘çŠ¶å›¾å¯è§†åŒ–"><a href="#1-æ ‘çŠ¶å›¾å¯è§†åŒ–" class="headerlink" title="(1) æ ‘çŠ¶å›¾å¯è§†åŒ–"></a>(1) æ ‘çŠ¶å›¾å¯è§†åŒ–</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">from</span> scipy.cluster.hierarchy <span class="hljs-keyword">import</span> dendrogram, linkage<br><br>x = [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">10</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">11</span>, <span class="hljs-number">14</span>, <span class="hljs-number">6</span>, <span class="hljs-number">10</span>, <span class="hljs-number">12</span>]<br>y = [<span class="hljs-number">21</span>, <span class="hljs-number">19</span>, <span class="hljs-number">24</span>, <span class="hljs-number">17</span>, <span class="hljs-number">16</span>, <span class="hljs-number">25</span>, <span class="hljs-number">24</span>, <span class="hljs-number">22</span>, <span class="hljs-number">21</span>, <span class="hljs-number">21</span>]<br><br>data = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">zip</span>(x, y))<br><br>linkage_data = linkage(data, method=<span class="hljs-string">&#x27;ward&#x27;</span>, metric=<span class="hljs-string">&#x27;euclidean&#x27;</span>)<br>dendrogram(linkage_data)                          <span class="hljs-comment"># ä½¿ç”¨æ¬§å‡ é‡Œå¾—è·ç¦»åº¦é‡ï¼Œå¹¶ä½¿ç”¨æ ‘çŠ¶å›¾å°†å…¶å¯è§†åŒ–</span><br><br>plt.show()<br></code></pre></td></tr></table></figure><h4 id="2-æ•£ç‚¹å›¾å¯è§†åŒ–"><a href="#2-æ•£ç‚¹å›¾å¯è§†åŒ–" class="headerlink" title="(2) æ•£ç‚¹å›¾å¯è§†åŒ–"></a>(2) æ•£ç‚¹å›¾å¯è§†åŒ–</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">from</span> sklearn.cluster <span class="hljs-keyword">import</span> AgglomerativeClustering<br><br>x = [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">10</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">11</span>, <span class="hljs-number">14</span>, <span class="hljs-number">6</span>, <span class="hljs-number">10</span>, <span class="hljs-number">12</span>]<br>y = [<span class="hljs-number">21</span>, <span class="hljs-number">19</span>, <span class="hljs-number">24</span>, <span class="hljs-number">17</span>, <span class="hljs-number">16</span>, <span class="hljs-number">25</span>, <span class="hljs-number">24</span>, <span class="hljs-number">22</span>, <span class="hljs-number">21</span>, <span class="hljs-number">21</span>]<br><br>data = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">zip</span>(x, y))<br><br>hierarchical_cluster = AgglomerativeClustering(n_clusters=<span class="hljs-number">2</span>, affinity=<span class="hljs-string">&#x27;euclidean&#x27;</span>, linkage=<span class="hljs-string">&#x27;ward&#x27;</span>)<br>labels = hierarchical_cluster.fit_predict(data)   <span class="hljs-comment"># AgglomerativeClustering()ä½¿ç”¨äº†scikit-learnåº“</span><br><br>plt.scatter(x, y, c=labels)<br>plt.show()<br></code></pre></td></tr></table></figure><h2 id="3-5-é€»è¾‘å›å½’"><a href="#3-5-é€»è¾‘å›å½’" class="headerlink" title="3-5 é€»è¾‘å›å½’"></a>3-5 é€»è¾‘å›å½’</h2><ul><li>é€»è¾‘å›å½’<ul><li>æ—¨åœ¨è§£å†³åˆ†ç±»é—®é¢˜ï¼Œé€šè¿‡é¢„æµ‹åˆ†ç±»ç»“æœæ¥åšåˆ°è¿™ä¸€ç‚¹ï¼Œä¸é¢„æµ‹è¿ç»­ç»“æœçš„çº¿æ€§å›å½’ä¸åŒã€‚<ul><li>æœ€ç®€å•çš„æƒ…å†µæœ‰ä¸¤ä¸ªç»“æœï¼Œç§°ä¸ºäºŒé¡¹å¼ï¼Œä¾‹å¦‚ï¼šé¢„æµ‹è‚¿ç˜¤æ˜¯æ¶æ€§è‚¿ç˜¤è¿˜æ˜¯è‰¯æ€§è‚¿ç˜¤ã€‚</li><li>ä¸¤ä¸ªä»¥ä¸Šç»“æœçš„åˆ†ç±»æƒ…å†µï¼Œç§°ä¸ºå¤šé¡¹å¼ï¼Œä¾‹å¦‚ï¼šé¢„æµ‹3ç§ä¸åŒç‰©ç§ä¹‹é—´çš„é¸¢å°¾èŠ±ç±»åˆ«ã€‚</li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy<br><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> linear_model                  <span class="hljs-comment"># å°†è‡ªå˜é‡å­˜å‚¨åœ¨Xä¸­ï¼Œå°†å› å˜é‡å­˜å‚¨åœ¨yä¸­</span><br><br>X = numpy.array([<span class="hljs-number">3.78</span>, <span class="hljs-number">2.44</span>, <span class="hljs-number">2.09</span>, <span class="hljs-number">0.14</span>, <span class="hljs-number">1.72</span>, <span class="hljs-number">1.65</span>, <span class="hljs-number">4.92</span>, <span class="hljs-number">4.37</span>, <span class="hljs-number">4.96</span>, <span class="hljs-number">4.52</span>, <span class="hljs-number">3.69</span>, <span class="hljs-number">5.88</span>]).reshape(-<span class="hljs-number">1</span>, <span class="hljs-number">1</span>)<br>y = numpy.array([<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>])<br><br>logr = linear_model.LogisticRegression()          <span class="hljs-comment"># åˆ›å»ºé€»è¾‘å›å½’å¯¹è±¡ï¼Œå°†ç‹¬ç«‹å€¼å’Œç›¸å…³å€¼ä½œä¸ºå‚æ•°</span><br>logr.fit(X, y)                                    <span class="hljs-comment"># å¹¶ç”¨æè¿°å…³ç³»çš„æ•°æ®å¡«å……å›å½’å¯¹è±¡</span><br><br>predicted = logr.predict(numpy.array([<span class="hljs-number">3.46</span>]).reshape(-<span class="hljs-number">1</span>, <span class="hljs-number">1</span>))<br><span class="hljs-built_in">print</span>(predicted)                                  <span class="hljs-comment"># ç»“æœä¸º[0]ï¼Œé¢„æµ‹3.46mmçš„è‚¿ç˜¤ä¸ä¼šç™Œå˜</span><br></code></pre></td></tr></table></figure><h4 id="1-ç³»æ•°-1"><a href="#1-ç³»æ•°-1" class="headerlink" title="(1) ç³»æ•°"></a>(1) ç³»æ•°</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy<br><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> linear_model<br><br>X = numpy.array([<span class="hljs-number">3.78</span>, <span class="hljs-number">2.44</span>, <span class="hljs-number">2.09</span>, <span class="hljs-number">0.14</span>, <span class="hljs-number">1.72</span>, <span class="hljs-number">1.65</span>, <span class="hljs-number">4.92</span>, <span class="hljs-number">4.37</span>, <span class="hljs-number">4.96</span>, <span class="hljs-number">4.52</span>, <span class="hljs-number">3.69</span>, <span class="hljs-number">5.88</span>]).reshape(-<span class="hljs-number">1</span>, <span class="hljs-number">1</span>)<br>y = numpy.array([<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>])<br><br>logr = linear_model.LogisticRegression()          <span class="hljs-comment"># åˆ›å»ºé€»è¾‘å›å½’å¯¹è±¡ï¼Œå°†ç‹¬ç«‹å€¼å’Œç›¸å…³å€¼ä½œä¸ºå‚æ•°</span><br>logr.fit(X, y)                                    <span class="hljs-comment"># å¹¶ç”¨æè¿°å…³ç³»çš„æ•°æ®å¡«å……å›å½’å¯¹è±¡</span><br><br>log_odds = logr.coef_                             <span class="hljs-comment"># ç³»æ•°æ˜¯Xä¸­æ¯å•ä½å˜åŒ–çš„ç»“æœçš„å¯¹æ•°å‡ ç‡çš„é¢„æœŸå˜åŒ–</span><br>odds = numpy.exp(log_odds)                        <span class="hljs-comment"># èµ”ç‡ï¼Œéšç€è‚¿ç˜¤å¤§å°å¢åŠ 1æ¯«ç±³ï¼Œæˆä¸ºè‚¿ç˜¤çš„å‡ ç‡å¢åŠ 4å€</span><br><br><span class="hljs-built_in">print</span>(odds)<br></code></pre></td></tr></table></figure><h4 id="2-æ¦‚ç‡"><a href="#2-æ¦‚ç‡" class="headerlink" title="(2) æ¦‚ç‡"></a>(2) æ¦‚ç‡</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy<br><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> linear_model<br><br>X = numpy.array([<span class="hljs-number">3.78</span>, <span class="hljs-number">2.44</span>, <span class="hljs-number">2.09</span>, <span class="hljs-number">0.14</span>, <span class="hljs-number">1.72</span>, <span class="hljs-number">1.65</span>, <span class="hljs-number">4.92</span>, <span class="hljs-number">4.37</span>, <span class="hljs-number">4.96</span>, <span class="hljs-number">4.52</span>, <span class="hljs-number">3.69</span>, <span class="hljs-number">5.88</span>]).reshape(-<span class="hljs-number">1</span>, <span class="hljs-number">1</span>)<br>y = numpy.array([<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>])<br><br>logr = linear_model.LogisticRegression()          <span class="hljs-comment"># åˆ›å»ºé€»è¾‘å›å½’å¯¹è±¡ï¼Œå°†ç‹¬ç«‹å€¼å’Œç›¸å…³å€¼ä½œä¸ºå‚æ•°</span><br>logr.fit(X, y)                                    <span class="hljs-comment"># å¹¶ç”¨æè¿°å…³ç³»çš„æ•°æ®å¡«å……å›å½’å¯¹è±¡</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">logit2prob</span>(<span class="hljs-params">logr, X</span>):<br>    log_odds = logr.coef_ * X + logr.intercept_   <span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªçœ‹èµ·æ¥ç±»ä¼¼äºçº¿æ€§å›å½’çš„å…¬å¼ï¼Œæå–ç³»æ•°å’Œæˆªè·</span><br>    odds = numpy.exp(log_odds)                    <span class="hljs-comment"># ä¸ºäº†å°†å¯¹æ•°èµ”ç‡è½¬æ¢ä¸ºèµ”ç‡ï¼Œå¿…é¡»å¯¹å¯¹æ•°èµ”ç‡å–å¹‚</span><br>    probability = odds / (<span class="hljs-number">1</span> + odds)               <span class="hljs-comment"># æœ‰äº†èµ”ç‡ï¼Œå¯ä»¥å°†å…¶é™¤ä»¥1åŠ ä¸Šèµ”ç‡ï¼Œå°†å…¶è½¬æ¢ä¸ºæ¦‚ç‡</span><br>    <span class="hljs-keyword">return</span> probability<br><br><br><span class="hljs-built_in">print</span>(logit2prob(logr, X))                        <span class="hljs-comment"># æ‰¾å‡ºæ¯ä¸ªè‚¿ç˜¤ç™Œå˜çš„æ¦‚ç‡ï¼Œ3.78cmçš„è‚¿ç˜¤ç™Œå˜çš„æ¦‚ç‡ä¸º61%</span><br></code></pre></td></tr></table></figure><h2 id="3-6-ç½‘æ ¼æœç´¢"><a href="#3-6-ç½‘æ ¼æœç´¢" class="headerlink" title="3-6 ç½‘æ ¼æœç´¢"></a>3-6 ç½‘æ ¼æœç´¢</h2><ul><li>ç½‘æ ¼æœç´¢<ul><li>ç©·ä¸¾æœç´¢ï¼šåœ¨æ‰€æœ‰å€™é€‰å‚æ•°çš„é€‰æ‹©ä¸­ï¼Œé€šè¿‡å¾ªç¯éå†å°è¯•æ¯ä¸€ç§å¯èƒ½æ€§ï¼Œè¡¨ç°æœ€å¥½çš„å‚æ•°å°±æ˜¯æœ€ç»ˆçš„ç»“æœã€‚</li><li>å¤§å¤šæ•°æœºå™¨å­¦ä¹ æ¨¡å‹éƒ½åŒ…å«å¯ä»¥è°ƒæ•´ä»¥æ”¹å˜æ¨¡å‹å­¦ä¹ æ–¹å¼çš„å‚æ•°ï¼Œä¾‹å¦‚ï¼šé€»è¾‘å›å½’æ¨¡å‹ã€‚<ul><li>æœ‰ä¸ªCæ§åˆ¶æ­£åˆ™åŒ–å‚æ•°ï¼Œå½±å“æ¨¡å‹çš„å¤æ‚æ€§ï¼Œé€‰æ‹©æœ€ä½³å€¼Cå–å†³äºè®­ç»ƒæ¨¡å‹çš„æ•°æ®ã€‚</li><li>ä¸€ç§æ–¹æ³•æ˜¯å°è¯•ä¸åŒçš„å€¼ï¼Œç„¶åé€‰æ‹©ç»™å‡ºæœ€ä½³åˆ†æ•°çš„å€¼ï¼Œè¿™ç§æŠ€æœ¯ç§°ä¸ºç½‘æ ¼æœç´¢ã€‚</li><li>è‹¥å¿…é¡»ä¸ºä¸¤ä¸ªåŠä¸¤ä¸ªä»¥ä¸Šå‚æ•°é€‰æ‹©å€¼ï¼Œå°†è¯„ä¼°å€¼é›†çš„æ‰€æœ‰ç»„åˆï¼Œä»è€Œå½¢æˆå€¼ç½‘æ ¼ã€‚</li></ul></li><li>ä½¿ç”¨è®­ç»ƒæ•°æ®å¯¹é€»è¾‘å›å½’æ¨¡å‹è¿›è¡Œè¯„åˆ†<ul><li>è‹¥æ¨¡å‹ä¸æ•°æ®è¿‡äºæ¥è¿‘ï¼Œå¯èƒ½æ— æ³•å¾ˆå¥½åœ°é¢„æµ‹æœªçŸ¥æ•°æ®ï¼Œè¿™ç§ç»Ÿè®¡è¯¯å·®è¢«ç§°ä¸ºè¿‡åº¦æ‹Ÿåˆã€‚</li><li>ä¸ºäº†é¿å…è¢«è®­ç»ƒçš„æ•°æ®è¿‡åº¦æ‹Ÿåˆå¯¼è‡´çš„è¯¯å·®ï¼Œå¯ä»¥ä¿ç•™ä¸€éƒ¨åˆ†æ•°æ®ï¼Œä¸“é—¨ç”¨äºæµ‹è¯•æ¨¡å‹ã€‚</li></ul></li></ul></li></ul><h4 id="1-é»˜è®¤å‚æ•°"><a href="#1-é»˜è®¤å‚æ•°" class="headerlink" title="(1) é»˜è®¤å‚æ•°"></a>(1) é»˜è®¤å‚æ•°</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> datasets                      <span class="hljs-comment"># å°†åŠ è½½ç”¨äºå¯¹é¸¢å°¾èŠ±è¿›è¡Œåˆ†ç±»çš„é€»è¾‘æ¨¡å‹</span><br><span class="hljs-keyword">from</span> sklearn.linear_model <span class="hljs-keyword">import</span> LogisticRegression<br><br>iris = datasets.load_iris()                       <span class="hljs-comment"># åŠ è½½å°†ä½¿ç”¨çš„æ•°æ®é›†</span><br><br>X = iris[<span class="hljs-string">&#x27;data&#x27;</span>]                                  <span class="hljs-comment"># åˆ›å»ºä¸€ç»„è‡ªå˜é‡Xå’Œä¸€ä¸ªå› å˜é‡y</span><br>y = iris[<span class="hljs-string">&#x27;target&#x27;</span>]<br><br>logit = LogisticRegression(max_iter=<span class="hljs-number">10000</span>)        <span class="hljs-comment"># æŸ¥çœ‹irisæ•°æ®é›†å¹¶å°è¯•åœ¨é€»è¾‘å›å½’ä¸­è®­ç»ƒä¸åŒå€¼çš„æ¨¡å‹</span><br><br><span class="hljs-built_in">print</span>(logit.fit(X, y))                            <span class="hljs-comment"># ä½¿æ¨¡å‹é€‚åˆæ•°æ®</span><br><span class="hljs-built_in">print</span>(logit.score(X, y))                          <span class="hljs-comment"># è¿è¡Œè¯„åˆ†æ–¹æ³•ï¼Œé»˜è®¤è®¾ç½®Cä¸º1ï¼Œå¾—åˆ†ä¸º0.973</span><br></code></pre></td></tr></table></figure><h4 id="2-è®¾ç½®èŒƒå›´"><a href="#2-è®¾ç½®èŒƒå›´" class="headerlink" title="(2) è®¾ç½®èŒƒå›´"></a>(2) è®¾ç½®èŒƒå›´</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> datasets                      <span class="hljs-comment"># å°†åŠ è½½ç”¨äºå¯¹é¸¢å°¾èŠ±è¿›è¡Œåˆ†ç±»çš„é€»è¾‘æ¨¡å‹</span><br><span class="hljs-keyword">from</span> sklearn.linear_model <span class="hljs-keyword">import</span> LogisticRegression<br><br>iris = datasets.load_iris()                       <span class="hljs-comment"># åŠ è½½å°†ä½¿ç”¨çš„æ•°æ®é›†</span><br><br>X = iris[<span class="hljs-string">&#x27;data&#x27;</span>]                                  <span class="hljs-comment"># åˆ›å»ºä¸€ç»„è‡ªå˜é‡Xå’Œä¸€ä¸ªå› å˜é‡y</span><br>y = iris[<span class="hljs-string">&#x27;target&#x27;</span>]<br><br>logit = LogisticRegression(max_iter=<span class="hljs-number">10000</span>)        <span class="hljs-comment"># æŸ¥çœ‹irisæ•°æ®é›†å¹¶å°è¯•åœ¨é€»è¾‘å›å½’ä¸­è®­ç»ƒä¸åŒå€¼çš„æ¨¡å‹</span><br><br>C = [<span class="hljs-number">0.25</span>, <span class="hljs-number">0.5</span>, <span class="hljs-number">0.75</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1.25</span>, <span class="hljs-number">1.5</span>, <span class="hljs-number">1.75</span>, <span class="hljs-number">2</span>]      <span class="hljs-comment"># å°†Cè®¾ç½®ä¸ºä¸€ç³»åˆ—å€¼</span><br>scores = []                                       <span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªç©ºåˆ—è¡¨æ¥å­˜å‚¨åˆ†æ•°</span><br><br><span class="hljs-keyword">for</span> choice <span class="hljs-keyword">in</span> C:                                  <span class="hljs-comment"># forå¾ªç¯æ›´æ”¹æ¨¡å‹çš„Cå€¼å¹¶åœ¨æ¯æ¬¡æ›´æ”¹æ—¶è¯„ä¼°æ¨¡å‹</span><br>    logit.set_params(C=choice)<br>    logit.fit(X, y)<br>    scores.append(logit.score(X, y))<br><br><span class="hljs-built_in">print</span>(scores)                                     <span class="hljs-comment"># é€šè¿‡å­˜å‚¨åœ¨åˆ—è¡¨ä¸­çš„åˆ†æ•°ï¼Œè¯„ä¼°æœ€ä½³Cå€¼1.75å·¦å³</span><br></code></pre></td></tr></table></figure><h2 id="3-7-åˆ†ç±»æ•°æ®"><a href="#3-7-åˆ†ç±»æ•°æ®" class="headerlink" title="3-7 åˆ†ç±»æ•°æ®"></a>3-7 åˆ†ç±»æ•°æ®</h2><ul><li>åˆ†ç±»æ•°æ®<ul><li>å½“æ•°æ®ç”±å­—ç¬¦ä¸²è¡¨ç¤ºç±»åˆ«æ—¶ï¼Œå¾ˆéš¾ä½¿ç”¨å®ƒä»¬æ¥è®­ç»ƒåªæ¥å—æ•°å­—æ•°æ®çš„æœºå™¨å­¦ä¹ æ¨¡å‹ã€‚</li><li>æ­¤æ—¶å¯ä»¥è½¬æ¢æ•°æ®ï¼Œä»¥ä¾¿åœ¨æ¨¡å‹ä¸­ä½¿ç”¨ï¼Œè€Œä¸æ˜¯å¿½ç•¥åˆ†ç±»æ•°æ®å¹¶ä»æ¨¡å‹ä¸­æ’é™¤ä¿¡æ¯ã€‚</li><li>çƒ­ç¼–ç ï¼šç”¨ä¸€åˆ—ä»£è¡¨ç±»åˆ«ä¸­çš„æ¯ä¸ªç»„ï¼Œå¯¹äºæ¯ä¸€åˆ—ï¼Œå€¼å°†ä¸º1æˆ–0ï¼Œ1è¡¨ç¤ºåŒ…å«ç»„ï¼Œ0è¡¨ç¤ºæ’é™¤ç»„ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd                         <span class="hljs-comment"># data.csvæ”¹åä¸ºvehicle_info.csv</span><br><br>cars = pd.read_csv(<span class="hljs-string">&#x27;data/vehicle_info.csv&#x27;</span>)<br><span class="hljs-built_in">print</span>(cars.to_string())                     <span class="hljs-comment"># åœ¨&quot;å¤šå…ƒçº¿æ€§å›å½’&quot;ä¸­é¢„æµ‹CO2çš„æ’æ”¾é‡ï¼Œæ’é™¤äº†æ±½è½¦å“ç‰Œå’Œå‹å·</span><br></code></pre></td></tr></table></figure><h4 id="1-çƒ­ç¼–ç "><a href="#1-çƒ­ç¼–ç " class="headerlink" title="(1) çƒ­ç¼–ç "></a>(1) çƒ­ç¼–ç </h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd                         <span class="hljs-comment"># data.csvæ”¹åä¸ºvehicle_info.csv</span><br><br>cars = pd.read_csv(<span class="hljs-string">&#x27;data/vehicle_info.csv&#x27;</span>)<br>ohe_cars = pd.get_dummies(cars[[<span class="hljs-string">&#x27;Car&#x27;</span>]])    <span class="hljs-comment"># æ‰§è¡Œä¸€æ¬¡çƒ­ç¼–ç </span><br><br><span class="hljs-built_in">print</span>(ohe_cars.to_string())                 <span class="hljs-comment"># ä¸ºCaråˆ—ä¸­çš„æ¯ä¸ªæ±½è½¦å“ç‰Œåˆ›å»ºäº†ä¸€ä¸ªåˆ—</span><br></code></pre></td></tr></table></figure><h4 id="2-é¢„æµ‹CO2"><a href="#2-é¢„æµ‹CO2" class="headerlink" title="(2) é¢„æµ‹CO2"></a>(2) é¢„æµ‹CO2</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd                        <span class="hljs-comment"># data.csvæ”¹åä¸ºvehicle_info.csv</span><br><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> linear_model           <span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªçº¿æ€§æ¨¡å‹</span><br><br>cars = pd.read_csv(<span class="hljs-string">&#x27;data/vehicle_info.csv&#x27;</span>)<br>ohe_cars = pd.get_dummies(cars[[<span class="hljs-string">&#x27;Car&#x27;</span>]])   <span class="hljs-comment"># æ‰§è¡Œä¸€æ¬¡çƒ­ç¼–ç ï¼Œåˆ›å»ºè™šæ‹Ÿå˜é‡</span><br><br>X = pd.concat([cars[[<span class="hljs-string">&#x27;Volume&#x27;</span>, <span class="hljs-string">&#x27;Weight&#x27;</span>]], ohe_cars], axis=<span class="hljs-number">1</span>)<br>y = cars[<span class="hljs-string">&#x27;CO2&#x27;</span>]                            <span class="hljs-comment"># é€‰æ‹©è‡ªå˜é‡Xå¹¶æŒ‰åˆ—æ·»åŠ è™šæ‹Ÿå˜é‡ï¼Œå°†å› å˜é‡å­˜å‚¨åœ¨yä¸­</span><br><br>regr = linear_model.LinearRegression()     <span class="hljs-comment"># å°†æ•°æ®æ‹Ÿåˆä¸ºçº¿æ€§å›å½’</span><br>regr.fit(X.values, y.values)<br><br>predictedCO2 = regr.predict([[<span class="hljs-number">2300</span>, <span class="hljs-number">1300</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>]])<br><span class="hljs-built_in">print</span>(predictedCO2)                        <span class="hljs-comment"># æ ¹æ®æ±½è½¦çš„é‡é‡ã€ä½“ç§¯å’Œåˆ¶é€ å•†æ¥é¢„æµ‹CO2æ’æ”¾é‡</span><br></code></pre></td></tr></table></figure><h4 id="3-Dummifying"><a href="#3-Dummifying" class="headerlink" title="(3) Dummifying"></a>(3) Dummifying</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br>colors1 = pd.DataFrame(&#123;<span class="hljs-string">&#x27;color&#x27;</span>: [<span class="hljs-string">&#x27;blue&#x27;</span>, <span class="hljs-string">&#x27;pink&#x27;</span>]&#125;)<br><span class="hljs-built_in">print</span>(colors1)                             <span class="hljs-comment"># æœ‰ä¸€ä¸ªè¡¨ç¤ºé¢œè‰²çš„åˆ—ï¼Œ2ä¸ªç»„</span><br>dummies = pd.get_dummies(colors1, drop_first=<span class="hljs-literal">True</span>)<br><span class="hljs-built_in">print</span>(dummies)                             <span class="hljs-comment"># ä½¿ç”¨ç”¨äºä¸€æ¬¡çƒ­ç¼–ç çš„å‡½æ•°ï¼Œç„¶ååˆ é™¤å…¶ä¸­ä¸€åˆ—</span><br><br>colors2 = pd.DataFrame(&#123;<span class="hljs-string">&#x27;color&#x27;</span>: [<span class="hljs-string">&#x27;blue&#x27;</span>, <span class="hljs-string">&#x27;pink&#x27;</span>, <span class="hljs-string">&#x27;grey&#x27;</span>]&#125;)<br><span class="hljs-built_in">print</span>(colors2)                             <span class="hljs-comment"># æœ‰ä¸€ä¸ªè¡¨ç¤ºé¢œè‰²çš„åˆ—ï¼Œ3ä¸ªç»„</span><br>dummies = pd.get_dummies(colors2, drop_first=<span class="hljs-literal">True</span>)<br>dummies[<span class="hljs-string">&#x27;color2&#x27;</span>] = colors2[<span class="hljs-string">&#x27;color&#x27;</span>]<br><span class="hljs-built_in">print</span>(dummies)                             <span class="hljs-comment"># ä½¿ç”¨ç”¨äºä¸€æ¬¡çƒ­ç¼–ç çš„å‡½æ•°ï¼Œç„¶ååˆ é™¤å…¶ä¸­ä¸€åˆ—</span><br></code></pre></td></tr></table></figure><h2 id="3-8-K-æœ€è¿‘é‚»"><a href="#3-8-K-æœ€è¿‘é‚»" class="headerlink" title="3-8 K-æœ€è¿‘é‚»"></a>3-8 K-æœ€è¿‘é‚»</h2><ul><li>K-æœ€è¿‘é‚»<ul><li>K-Nearest Neighborï¼ŒKNNï¼Œå³ä¸€ç§åˆ†ç±»(Classification)ç®—æ³•ï¼Œè¾“å…¥åŸºäºå®ä¾‹çš„å­¦ä¹ ï¼Œå±äºæ‡’æƒ°å­¦ä¹ ã€‚</li><li>å³æ²¡æœ‰è®­ç»ƒé˜¶æ®µï¼Œæ•°æ®é›†äº‹å…ˆå·²æœ‰äº†åˆ†ç±»å’Œç‰¹å¾å€¼ï¼Œå¾…æ”¶åˆ°æ–°æ ·æœ¬åç›´æ¥è¿›è¡Œå¤„ç†ï¼Œä¸æ€¥åˆ‡å­¦ä¹ ç›¸å¯¹åº”ã€‚</li><li>åŸºæœ¬æ€æƒ³ï¼šå¦‚æœä¸€ä¸ªæ ·æœ¬åœ¨ç‰¹å¾ç©ºé—´ä¸­çš„kä¸ªæœ€é‚»è¿‘çš„æ ·æœ¬ä¸­çš„å¤§å¤šæ•°å±äºæŸä¸€ä¸ªç±»åˆ«ï¼Œåˆ™è¯¥æ ·æœ¬ä¹Ÿåˆ’åˆ†ä¸ºè¿™ä¸ªç±»åˆ«ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>x = [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">10</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">11</span>, <span class="hljs-number">14</span>, <span class="hljs-number">8</span>, <span class="hljs-number">10</span>, <span class="hljs-number">12</span>]          <span class="hljs-comment"># ä¸¤ä¸ªè¾“å…¥ç‰¹å¾xå’Œy</span><br>y = [<span class="hljs-number">21</span>, <span class="hljs-number">19</span>, <span class="hljs-number">24</span>, <span class="hljs-number">17</span>, <span class="hljs-number">16</span>, <span class="hljs-number">25</span>, <span class="hljs-number">24</span>, <span class="hljs-number">22</span>, <span class="hljs-number">21</span>, <span class="hljs-number">21</span>]<br>classes = [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>]         <span class="hljs-comment"># ä¸€ä¸ªç›®æ ‡ç±»classes</span><br><br>plt.scatter(x, y, c=classes)<br>plt.show()                                       <span class="hljs-comment"># å¯è§†åŒ–ä¸€äº›æ•°æ®ç‚¹</span><br></code></pre></td></tr></table></figure><h4 id="1-K-x3D-1æ‹ŸåˆKNN"><a href="#1-K-x3D-1æ‹ŸåˆKNN" class="headerlink" title="(1) K&#x3D;1æ‹ŸåˆKNN"></a>(1) K&#x3D;1æ‹ŸåˆKNN</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># Three lines to make our compiler able to draw</span><br><span class="hljs-comment"># import sys</span><br><span class="hljs-comment"># import matplotlib</span><br><span class="hljs-comment"># matplotlib.use(&#x27;Agg&#x27;)</span><br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">from</span> warnings <span class="hljs-keyword">import</span> simplefilter               <span class="hljs-comment"># å¿½è§†æ‰€æœ‰çš„è­¦å‘Šæ¶ˆæ¯</span><br><span class="hljs-keyword">from</span> sklearn.neighbors <span class="hljs-keyword">import</span> KNeighborsClassifier<br>simplefilter(action=<span class="hljs-string">&#x27;ignore&#x27;</span>, category=FutureWarning)<br><br>x = [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">10</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">11</span>, <span class="hljs-number">14</span>, <span class="hljs-number">8</span>, <span class="hljs-number">10</span>, <span class="hljs-number">12</span>]         <span class="hljs-comment"># ä¸¤ä¸ªè¾“å…¥ç‰¹å¾xå’Œy</span><br>y = [<span class="hljs-number">21</span>, <span class="hljs-number">19</span>, <span class="hljs-number">24</span>, <span class="hljs-number">17</span>, <span class="hljs-number">16</span>, <span class="hljs-number">25</span>, <span class="hljs-number">24</span>, <span class="hljs-number">22</span>, <span class="hljs-number">21</span>, <span class="hljs-number">21</span>]<br>classes = [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>]        <span class="hljs-comment"># ä¸€ä¸ªç›®æ ‡ç±»classes</span><br><br>data = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">zip</span>(x, y))                          <span class="hljs-comment"># å°†è¾“å…¥ç‰¹å¾è½¬æ¢ä¸ºä¸€ç»„ç‚¹</span><br>knn = KNeighborsClassifier(n_neighbors=<span class="hljs-number">1</span>)       <span class="hljs-comment"># K=1æ‹ŸåˆKNNç®—æ³•</span><br><br>knn.fit(data, classes)<br><br>new_x = <span class="hljs-number">8</span>                                       <span class="hljs-comment"># åˆ›å»ºæ–°çš„xå’Œyç‰¹å¾</span><br>new_y = <span class="hljs-number">21</span><br>new_point = [(new_x, new_y)]<br><br>prediction = knn.predict(new_point)             <span class="hljs-comment"># è°ƒç”¨knn.predict()åˆ†ç±»ä¸€ä¸ªæ–°çš„æ•°æ®ç‚¹</span><br><br>plt.scatter(x + [new_x], y + [new_y], c=classes + [prediction[<span class="hljs-number">0</span>]])<br>plt.text(x=new_x - <span class="hljs-number">1.7</span>, y=new_y - <span class="hljs-number">0.7</span>, s=<span class="hljs-string">f&quot;new point, class: <span class="hljs-subst">&#123;prediction[<span class="hljs-number">0</span>]&#125;</span>&quot;</span>)<br>plt.show()                                      <span class="hljs-comment"># å¯è§†åŒ–ä¸€äº›æ•°æ®ç‚¹ï¼Œtext()çªå‡ºæ–°ç‚¹çš„ä½ç½®</span><br><br><span class="hljs-comment"># Two lines to make our compiler able to draw</span><br><span class="hljs-comment"># plt.savefig(sys.stdout.buffer)</span><br><span class="hljs-comment"># sys.stdout.flush()</span><br></code></pre></td></tr></table></figure><h4 id="2-K-x3D-5æ‹ŸåˆKNN"><a href="#2-K-x3D-5æ‹ŸåˆKNN" class="headerlink" title="(2) K&#x3D;5æ‹ŸåˆKNN"></a>(2) K&#x3D;5æ‹ŸåˆKNN</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># Three lines to make our compiler able to draw</span><br><span class="hljs-comment"># import sys</span><br><span class="hljs-comment"># import matplotlib</span><br><span class="hljs-comment"># matplotlib.use(&#x27;Agg&#x27;)</span><br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">from</span> warnings <span class="hljs-keyword">import</span> simplefilter               <span class="hljs-comment"># å¿½è§†æ‰€æœ‰çš„è­¦å‘Šæ¶ˆæ¯</span><br><span class="hljs-keyword">from</span> sklearn.neighbors <span class="hljs-keyword">import</span> KNeighborsClassifier<br>simplefilter(action=<span class="hljs-string">&#x27;ignore&#x27;</span>, category=FutureWarning)<br><br>x = [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">10</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">11</span>, <span class="hljs-number">14</span>, <span class="hljs-number">8</span>, <span class="hljs-number">10</span>, <span class="hljs-number">12</span>]         <span class="hljs-comment"># ä¸¤ä¸ªè¾“å…¥ç‰¹å¾xå’Œy</span><br>y = [<span class="hljs-number">21</span>, <span class="hljs-number">19</span>, <span class="hljs-number">24</span>, <span class="hljs-number">17</span>, <span class="hljs-number">16</span>, <span class="hljs-number">25</span>, <span class="hljs-number">24</span>, <span class="hljs-number">22</span>, <span class="hljs-number">21</span>, <span class="hljs-number">21</span>]<br>classes = [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>]        <span class="hljs-comment"># ä¸€ä¸ªç›®æ ‡ç±»classes</span><br><br>data = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">zip</span>(x, y))                          <span class="hljs-comment"># å°†è¾“å…¥ç‰¹å¾è½¬æ¢ä¸ºä¸€ç»„ç‚¹</span><br>knn = KNeighborsClassifier(n_neighbors=<span class="hljs-number">5</span>)       <span class="hljs-comment"># K=5æ‹ŸåˆKNNç®—æ³•ï¼Œæ›´é«˜çš„Kå€¼æ¥æ”¹å˜é¢„æµ‹</span><br><br>knn.fit(data, classes)<br><br>new_x = <span class="hljs-number">8</span>                                       <span class="hljs-comment"># åˆ›å»ºæ–°çš„xå’Œyç‰¹å¾</span><br>new_y = <span class="hljs-number">21</span><br>new_point = [(new_x, new_y)]<br><br>prediction = knn.predict(new_point)             <span class="hljs-comment"># è°ƒç”¨knn.predict()åˆ†ç±»ä¸€ä¸ªæ–°çš„æ•°æ®ç‚¹</span><br><br>plt.scatter(x + [new_x], y + [new_y], c=classes + [prediction[<span class="hljs-number">0</span>]])<br>plt.text(x=new_x - <span class="hljs-number">1.7</span>, y=new_y - <span class="hljs-number">0.7</span>, s=<span class="hljs-string">f&quot;new point, class: <span class="hljs-subst">&#123;prediction[<span class="hljs-number">0</span>]&#125;</span>&quot;</span>)<br>plt.show()                                      <span class="hljs-comment"># å¯è§†åŒ–ä¸€äº›æ•°æ®ç‚¹ï¼Œtext()çªå‡ºæ–°ç‚¹çš„ä½ç½®</span><br><br><span class="hljs-comment"># Two lines to make our compiler able to draw</span><br><span class="hljs-comment"># plt.savefig(sys.stdout.buffer)</span><br><span class="hljs-comment"># sys.stdout.flush()</span><br></code></pre></td></tr></table></figure><h1 id="4-Bootstrapèšåˆ"><a href="#4-Bootstrapèšåˆ" class="headerlink" title="4 Bootstrapèšåˆ"></a>4 Bootstrapèšåˆ</h1><ul><li>Bootstrapèšåˆ<ul><li>ä¹Ÿå«Baggingç®—æ³•æˆ–å¼•å¯¼èšé›†ç®—æ³•ï¼Œåˆç§°è£…è¢‹ç®—æ³•ï¼Œè¯•å›¾è§£å†³åˆ†ç±»æˆ–å›å½’çš„è¿‡åº¦æ‹Ÿåˆé—®é¢˜ã€‚<ul><li>ä¸»è¦æƒ³æ³•æ˜¯åˆ†åˆ«è®­ç»ƒå‡ ä¸ªä¸åŒçš„æ¨¡å‹ï¼Œç„¶åè®©æ‰€æœ‰çš„æ¨¡å‹è¡¨å†³æµ‹è¯•æ ·ä¾‹çš„è¾“å‡ºã€‚</li><li>æ˜¯æœºå™¨å­¦ä¹ ä¸­å¸¸è§„ç­–ç•¥çš„ä¸€ä¸ªä¾‹å­ï¼Œè¢«ç§°ä¸ºæ¨¡å‹å¹³å‡ï¼Œè¯¥æŠ€æœ¯è¢«ç§°ä¸ºé›†æˆæ–¹æ³•ã€‚</li></ul></li><li>äº†è§£è£…è¢‹æé«˜æ¨¡å‹æ€§èƒ½çš„æ–¹æ³•ï¼Œå¿…é¡»å…ˆè¯„ä¼°åˆ†ç±»å™¨åœ¨æ•°æ®é›†ä¸Šçš„è¡¨ç°ï¼Œè£…è¢‹æ˜¯å†³ç­–æ ‘æ¦‚å¿µçš„å»¶ç»­ã€‚</li></ul></li></ul><h2 id="4-1-åˆ†ç±»å™¨è¯„ä¼°"><a href="#4-1-åˆ†ç±»å™¨è¯„ä¼°" class="headerlink" title="4-1 åˆ†ç±»å™¨è¯„ä¼°"></a>4-1 åˆ†ç±»å™¨è¯„ä¼°</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> datasets                    <span class="hljs-comment"># é€šè¿‡Sklearnçš„è‘¡è„é…’æ•°æ®é›†å‘ç°ä¸åŒç±»åˆ«çš„è‘¡è„é…’</span><br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> accuracy_score<br><span class="hljs-keyword">from</span> sklearn.tree <span class="hljs-keyword">import</span> DecisionTreeClassifier<br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> train_test_split<br><br>data = datasets.load_wine(as_frame=<span class="hljs-literal">True</span>)        <span class="hljs-comment"># as_frameè®¾ä¸ºTrueï¼Œåœ¨åŠ è½½æ•°æ®æ—¶ä¸ä¼šä¸¢å¤±ç‰¹å¾åç§°</span><br><br>X = data.data                                   <span class="hljs-comment"># å°†å…¶å­˜å‚¨åˆ°X(è¾“å…¥ç‰¹å¾)å’Œy(ç›®æ ‡)ä¸­</span><br>y = data.target<br><br>X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=<span class="hljs-number">0.25</span>, random_state=<span class="hljs-number">22</span>)<br><br>dtree = DecisionTreeClassifier(random_state=<span class="hljs-number">22</span>)<br>dtree.fit(X_train, y_train)                     <span class="hljs-comment"># å®ä¾‹åŒ–ä¸€ä¸ªåŸºç¡€åˆ†ç±»å™¨å¹¶å°†å…¶æ‹Ÿåˆåˆ°è®­ç»ƒæ•°æ®ä¸­</span><br><br>y_pred = dtree.predict(X_test)                  <span class="hljs-comment"># é¢„æµ‹æœªè§è¿‡æµ‹è¯•é›†çš„è‘¡è„é…’ç±»åˆ«å¹¶è¯„ä¼°æ¨¡å‹æ€§èƒ½</span><br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Train data accuracy:&quot;</span>, accuracy_score(y_true=y_train, y_pred=dtree.predict(X_train)))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Test data accuracy:&quot;</span>, accuracy_score(y_true=y_test, y_pred=y_pred))<br></code></pre></td></tr></table></figure><h2 id="4-2-è£…è¢‹åˆ†ç±»å™¨"><a href="#4-2-è£…è¢‹åˆ†ç±»å™¨" class="headerlink" title="4-2 è£…è¢‹åˆ†ç±»å™¨"></a>4-2 è£…è¢‹åˆ†ç±»å™¨</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> datasets<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> accuracy_score<br><span class="hljs-keyword">from</span> sklearn.ensemble <span class="hljs-keyword">import</span> BaggingClassifier<br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> train_test_split<br><br>data = datasets.load_wine(as_frame=<span class="hljs-literal">True</span>)<br><br>X = data.data<br>y = data.target<br><br>X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=<span class="hljs-number">0.25</span>, random_state=<span class="hljs-number">22</span>)<br><br>estimator_range = [<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>, <span class="hljs-number">10</span>, <span class="hljs-number">12</span>, <span class="hljs-number">14</span>, <span class="hljs-number">16</span>]  <span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªå€¼èŒƒå›´ï¼Œä»£è¡¨æƒ³è¦åœ¨æ¯ä¸ªé›†æˆä¸­ä½¿ç”¨çš„ä¼°è®¡æ•°é‡</span><br><br>models = []<br>scores = []<br><br><span class="hljs-keyword">for</span> n_estimators <span class="hljs-keyword">in</span> estimator_range:            <span class="hljs-comment"># forå¾ªç¯å°†æ¨¡å‹å’Œåˆ†æ•°å­˜å‚¨åœ¨å•ç‹¬çš„åˆ—è¡¨ä¸­ä»¥ä¾›åç»­å¯è§†åŒ–</span><br>    <span class="hljs-comment"># Create bagging classifier</span><br>    clf = BaggingClassifier(n_estimators=n_estimators, random_state=<span class="hljs-number">22</span>)<br>    <span class="hljs-comment"># Fit the model</span><br>    clf.fit(X_train, y_train)<br><br>    <span class="hljs-comment"># Append the model and score to their respective list</span><br>    models.append(clf)<br>    scores.append(accuracy_score(y_true=y_test, y_pred=clf.predict(X_test)))<br><br><span class="hljs-comment"># Generate the plot of scores against number of estimators</span><br>plt.figure(figsize=(<span class="hljs-number">9</span>, <span class="hljs-number">6</span>))<br>plt.plot(estimator_range, scores)<br><br><span class="hljs-comment"># Adjust labels and font (to make visable)</span><br>plt.xlabel(<span class="hljs-string">&quot;n_estimators&quot;</span>, fontsize=<span class="hljs-number">18</span>)         <span class="hljs-comment"># é€šè¿‡è¿­ä»£ä¼°è®¡å™¨æ•°é‡çš„ä¸åŒå€¼</span><br>plt.ylabel(<span class="hljs-string">&quot;score&quot;</span>, fontsize=<span class="hljs-number">18</span>)                <span class="hljs-comment"># å¯çœ‹åˆ°æ¨¡å‹æ€§èƒ½ä»82.2%æé«˜åˆ°95.5%</span><br>plt.tick_params(labelsize=<span class="hljs-number">16</span>)                   <span class="hljs-comment"># 14åç²¾åº¦å¼€å§‹ä¸‹é™</span><br><br><span class="hljs-comment"># Visualize plot                                # å¦‚æœè®¾ç½®ä¸åŒçš„random_stateå€¼ï¼Œç»“æœä¹Ÿä¼šä¸åŒ</span><br>plt.show()<br></code></pre></td></tr></table></figure><h2 id="4-3-å¦ä¸€ç§å½¢å¼"><a href="#4-3-å¦ä¸€ç§å½¢å¼" class="headerlink" title="4-3 å¦ä¸€ç§å½¢å¼"></a>4-3 å¦ä¸€ç§å½¢å¼</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> datasets<br><span class="hljs-keyword">from</span> sklearn.ensemble <span class="hljs-keyword">import</span> BaggingClassifier<br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> train_test_split<br><br>data = datasets.load_wine(as_frame=<span class="hljs-literal">True</span>)<br><br>X = data.data                                   <span class="hljs-comment"># è¢‹å¤–ä¼°è®¡å¯èƒ½ä¼šé«˜ä¼°äºŒå…ƒåˆ†ç±»é—®é¢˜ä¸­çš„é”™è¯¯</span><br>y = data.target                                 <span class="hljs-comment"># å› æ­¤åªèƒ½ç”¨ä½œå¯¹å…¶ä»–æŒ‡æ ‡çš„è¡¥å……</span><br><br>X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=<span class="hljs-number">0.25</span>, random_state=<span class="hljs-number">22</span>)<br><br>oob_model = BaggingClassifier(n_estimators=<span class="hljs-number">12</span>, oob_score=<span class="hljs-literal">True</span>, random_state=<span class="hljs-number">22</span>)<br>oob_model.fit(X_train, y_train)                 <span class="hljs-comment"># ä½¿ç”¨è¢‹å¤–æŒ‡æ ‡åˆ›å»ºæ¨¡å‹ï¼Œç±»ä¼¼äºæµ‹è¯•é›†</span><br><br><span class="hljs-comment"># OOBå’Œæµ‹è¯•é›†ä½¿ç”¨çš„æ ·æœ¬ä¸åŒï¼Œå¹¶ä¸”æ•°æ®é›†æ¯”è¾ƒå°ï¼Œæ‰€ä»¥åœ¨å‡†ç¡®ç‡ä¸Šå­˜åœ¨å·®å¼‚</span><br><span class="hljs-built_in">print</span>(oob_model.oob_score_)<br></code></pre></td></tr></table></figure><h2 id="4-4-ç”Ÿæˆå†³ç­–æ ‘"><a href="#4-4-ç”Ÿæˆå†³ç­–æ ‘" class="headerlink" title="4-4 ç”Ÿæˆå†³ç­–æ ‘"></a>4-4 ç”Ÿæˆå†³ç­–æ ‘</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># import sys</span><br><span class="hljs-keyword">import</span> graphviz<br><span class="hljs-comment"># import matplotlib</span><br><span class="hljs-comment"># matplotlib.use(&#x27;Agg&#x27;)</span><br><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> tree<br><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> datasets<br><span class="hljs-comment"># from sklearn.tree import plot_tree</span><br><span class="hljs-keyword">from</span> matplotlib <span class="hljs-keyword">import</span> pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">from</span> sklearn.ensemble <span class="hljs-keyword">import</span> BaggingClassifier<br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> train_test_split<br><br>data = datasets.load_wine(as_frame=<span class="hljs-literal">True</span>)<br><br>X = data.data<br>y = data.target<br><br>X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=<span class="hljs-number">0.25</span>, random_state=<span class="hljs-number">22</span>)<br><br>oob_model = BaggingClassifier(n_estimators=<span class="hljs-number">12</span>, oob_score=<span class="hljs-literal">True</span>, random_state=<span class="hljs-number">22</span>)<br>oob_model.fit(X_train, y_train)<br><br>clf = BaggingClassifier(n_estimators=<span class="hljs-number">12</span>, oob_score=<span class="hljs-literal">True</span>, random_state=<span class="hljs-number">22</span>)<br>clf.fit(X_train, y_train)<br><br>plt.figure(figsize=(<span class="hljs-number">30</span>, <span class="hljs-number">20</span>))<br>dtree = clf.estimators_[<span class="hljs-number">0</span>]                      <span class="hljs-comment"># clf.estimators_æ˜¯3ä¸ªæ‹Ÿåˆå†³ç­–æ ‘çš„åˆ—è¡¨</span><br><span class="hljs-built_in">print</span>(dtree)                                    <span class="hljs-comment"># å¯ä»¥éå†åˆ—è¡¨è®¿é—®æ¯ä¸ªæ ‘ï¼Œè¿™é‡Œå–ç¬¬ä¸€ä¸ª</span><br><br><span class="hljs-comment"># plot_tree(clf.estimators_[0], feature_names = X.columns)</span><br><span class="hljs-comment"># plt.savefig(sys.stdout.buffer)</span><br><span class="hljs-comment"># sys.stdout.flush()</span><br><br>dot_data = tree.export_graphviz(dtree, filled=<span class="hljs-literal">True</span>, rounded=<span class="hljs-literal">True</span>, special_characters=<span class="hljs-literal">True</span>)<br>graph = graphviz.Source(dot_data)<br>graph.render(<span class="hljs-string">&#x27;data/visual_dtree&#x27;</span>)               <span class="hljs-comment"># ç”Ÿæˆvisual_dtree.pdfå¯è§†åŒ–å†³ç­–æ ‘</span><br></code></pre></td></tr></table></figure><h1 id="5-äº¤å‰éªŒè¯-å»ºæ¨¡"><a href="#5-äº¤å‰éªŒè¯-å»ºæ¨¡" class="headerlink" title="5 äº¤å‰éªŒè¯(å»ºæ¨¡)"></a>5 äº¤å‰éªŒè¯(å»ºæ¨¡)</h1><ul><li>äº¤å‰éªŒè¯(å»ºæ¨¡)<ul><li>åœ¨æœºå™¨å­¦ä¹ å»ºç«‹æ¨¡å‹å’ŒéªŒè¯æ¨¡å‹å‚æ•°æ—¶å¸¸ç”¨çš„åŠæ³•ï¼Œä¸€èˆ¬è¢«ç”¨äºè¯„ä¼°ä¸€ä¸ªæœºå™¨å­¦ä¹ æ¨¡å‹çš„è¡¨ç°ã€‚</li><li>é‡å¤ä½¿ç”¨æ•°æ®ï¼Œåˆ‡åˆ†å¾—åˆ°çš„æ ·æœ¬ï¼Œç»„åˆä¸ºä¸åŒçš„è®­ç»ƒé›†å’Œæµ‹è¯•é›†ï¼Œè®­ç»ƒåŠè¯„ä¼°æ¨¡å‹é¢„æµ‹çš„å¥½åã€‚</li><li>ä¼˜åŒ–æµ‹è¯•é›†çš„å‚æ•°å¯èƒ½ä¼šå¯¼è‡´ä¿¡æ¯æ³„æ¼ï¼Œå¯¼è‡´æ¨¡å‹åœ¨çœ‹ä¸è§çš„æ•°æ®ä¸Šè¡¨ç°æ›´å·®ï¼Œä¸ºçº æ­£è¯¥é—®é¢˜ï¼Œæ‰§è¡Œäº¤å‰éªŒè¯ã€‚</li><li>K-Fold<ul><li>é¦–å…ˆï¼Œæ¨¡å‹ä¸­ä½¿ç”¨çš„è®­ç»ƒæ•°æ®è¢«åˆ†æˆäº†kä¸ªè¾ƒå°çš„é›†åˆï¼Œç”¨äºéªŒè¯æ¨¡å‹ã€‚</li><li>ç„¶åï¼Œåœ¨k-1å€çš„è®­ç»ƒé›†ä¸Šè®­ç»ƒæ¨¡å‹ï¼Œå‰©ä½™çš„é›†åˆç”¨ä½œéªŒè¯é›†è¯„ä¼°æ¨¡å‹ã€‚</li></ul></li><li>åˆ†å±‚K-Fold<ul><li>åœ¨ç±»åˆ«ä¸å¹³è¡¡çš„æƒ…å†µä¸‹ï¼Œéœ€è¦ä¸€ç§æ–¹æ³•æ¥è§£é‡Šè®­ç»ƒé›†å’ŒéªŒè¯é›†çš„ä¸å¹³è¡¡ã€‚</li><li>å¯¹ç›®æ ‡ç±»åˆ«è¿›è¡Œåˆ†å±‚ï¼Œæ„å‘³ç€è¿™ä¸¤ä¸ªé›†åˆåœ¨æ‰€æœ‰ç±»åˆ«ä¸­æ‰€å çš„æ¯”ä¾‹ç›¸ç­‰ã€‚</li></ul></li><li>ç•™ä¸€æ³•ï¼ŒLeave-One-Outï¼Œç®€ç§°LOOã€‚<ul><li>ä½¿kç­‰äºæ•°æ®é›†ä¸­æ•°æ®çš„ä¸ªæ•°ï¼Œæ¯æ¬¡åªä½¿ç”¨ä¸€ä¸ªä½œä¸ºæµ‹è¯•é›†ï¼Œå‰©ä¸‹çš„å…¨ä½œä¸ºè®­ç»ƒé›†ã€‚</li><li>è¿™ç§æ–¹æ³•å¾—å‡ºçš„ç»“æœï¼Œä¸è®­ç»ƒæ•´ä¸ªæµ‹è¯•é›†çš„æœŸæœ›å€¼æœ€ä¸ºæ¥è¿‘ï¼Œä½†æ˜¯æˆæœ¬ä¹Ÿååˆ†åºå¤§ã€‚</li></ul></li><li>ç•™Pæ³•ï¼ŒLeave-P-Outï¼Œç®€ç§°LPOã€‚<ul><li>ä½¿ç”¨æ ·æœ¬ä¸­çš„æŸå‡ é¡¹å½“åšæµ‹è¯•é›†ï¼Œå†ä»æ ·æœ¬ä¸­é€‰å–æŸå‡ é¡¹çš„å¯èƒ½ç§ç±»ç§°ä¸ºPå€¼ã€‚</li><li>Leave-P-Outå¯è¿…é€Ÿæé«˜æ¨¡å‹çš„ç²¾ç¡®åº¦ï¼Œå‡†ç¡®çš„ææ‘¹å¤§æ ·æœ¬æ•°æ®é›†çš„ç‰¹å¾ä¿¡æ¯ã€‚</li></ul></li><li>è’™ç‰¹å¡ç½—äº¤å‰éªŒè¯ï¼Œä¹Ÿç§°ä¸ºShuffle Splitäº¤å‰éªŒè¯ã€‚<ul><li>ä¸€ç§éå¸¸çµæ´»çš„äº¤å‰éªŒè¯ç­–ç•¥ï¼Œåœ¨è¿™ç§æŠ€æœ¯ä¸­ï¼Œæ•°æ®é›†è¢«éšæœºåˆ’åˆ†ä¸ºè®­ç»ƒé›†å’ŒéªŒè¯é›†ã€‚</li><li>å‡è®¾100ä¸ªæ ·æœ¬ï¼Œ60%çš„æ ·æœ¬ç”¨ä½œè®­ç»ƒé›†ï¼Œ20%ç”¨ä½œæµ‹è¯•é›†ï¼Œå‰©ä¸‹çš„20%å°†ä¸è¢«ä½¿ç”¨ã€‚</li></ul></li></ul></li></ul><h2 id="5-1-K-Fold"><a href="#5-1-K-Fold" class="headerlink" title="5-1 K-Fold"></a>5-1 K-Fold</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> datasets<br><span class="hljs-keyword">from</span> sklearn.tree <span class="hljs-keyword">import</span> DecisionTreeClassifier     <span class="hljs-comment"># å°è¯•å¯¹ä¸åŒç§ç±»çš„é¸¢å°¾èŠ±è¿›è¡Œåˆ†ç±»</span><br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> KFold, cross_val_score<br><br>X, y = datasets.load_iris(return_X_y=<span class="hljs-literal">True</span>)          <span class="hljs-comment"># åŠ è½½æ•°æ®</span><br><br>clf = DecisionTreeClassifier(random_state=<span class="hljs-number">42</span>)       <span class="hljs-comment"># åˆ›å»ºå¹¶æ‹Ÿåˆæ¨¡å‹ä»¥è¿›è¡Œè¯„ä¼°</span><br><br>k_folds = KFold(n_splits=<span class="hljs-number">5</span>)                         <span class="hljs-comment"># è¯„ä¼°æ¨¡å‹ï¼Œçœ‹åœ¨æ¯ä¸ªk-foldä¸Šçš„è¡¨ç°</span><br><br>scores = cross_val_score(clf, X, y, cv=k_folds)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Cross Validation Scores: &quot;</span>, scores)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Average CV Score: &quot;</span>, scores.mean())<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Number of CV Scores used in Average: &quot;</span>, <span class="hljs-built_in">len</span>(scores))<br></code></pre></td></tr></table></figure><h2 id="5-2-åˆ†å±‚K-Fold"><a href="#5-2-åˆ†å±‚K-Fold" class="headerlink" title="5-2 åˆ†å±‚K-Fold"></a>5-2 åˆ†å±‚K-Fold</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> datasets<br><span class="hljs-keyword">from</span> sklearn.tree <span class="hljs-keyword">import</span> DecisionTreeClassifier     <span class="hljs-comment"># å°è¯•å¯¹ä¸åŒç§ç±»çš„é¸¢å°¾èŠ±è¿›è¡Œåˆ†ç±»</span><br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> StratifiedKFold, cross_val_score<br><br>X, y = datasets.load_iris(return_X_y=<span class="hljs-literal">True</span>)          <span class="hljs-comment"># åŠ è½½æ•°æ®</span><br><br>clf = DecisionTreeClassifier(random_state=<span class="hljs-number">42</span>)<br><br>sk_folds = StratifiedKFold(n_splits=<span class="hljs-number">5</span>)              <span class="hljs-comment"># æŠ˜å æ•°ä¿æŒç›¸åŒ</span><br><br>scores = cross_val_score(clf, X, y, cv=sk_folds)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Cross Validation Scores: &quot;</span>, scores)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Average CV Score: &quot;</span>, scores.mean())          <span class="hljs-comment"># åœ¨ç¡®ä¿å­˜åœ¨åˆ†å±‚ç±»åˆ«æ—¶ï¼Œå¹³å‡CVä»åŸºæœ¬kå€å¢åŠ </span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Number of CV Scores used in Average: &quot;</span>, <span class="hljs-built_in">len</span>(scores))<br></code></pre></td></tr></table></figure><h2 id="5-3-ç•™ä¸€æ³•-LOO"><a href="#5-3-ç•™ä¸€æ³•-LOO" class="headerlink" title="5-3 ç•™ä¸€æ³•(LOO)"></a>5-3 ç•™ä¸€æ³•(LOO)</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> datasets<br><span class="hljs-keyword">from</span> sklearn.tree <span class="hljs-keyword">import</span> DecisionTreeClassifier     <span class="hljs-comment"># å°è¯•å¯¹ä¸åŒç§ç±»çš„é¸¢å°¾èŠ±è¿›è¡Œåˆ†ç±»</span><br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> LeaveOneOut, cross_val_score<br><br>X, y = datasets.load_iris(return_X_y=<span class="hljs-literal">True</span>)          <span class="hljs-comment"># åŠ è½½æ•°æ®</span><br><br>clf = DecisionTreeClassifier(random_state=<span class="hljs-number">42</span>)       <span class="hljs-comment"># åˆ›å»ºå¹¶æ‹Ÿåˆæ¨¡å‹ä»¥è¿›è¡Œè¯„ä¼°</span><br><br>loo = LeaveOneOut()<br><br>scores = cross_val_score(clf, X, y, cv=loo)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Cross Validation Scores: &quot;</span>, scores)          <span class="hljs-comment"># æ‰§è¡Œäº¤å‰éªŒè¯åˆ†æ•°çš„æ•°é‡ç­‰äºæ•°æ®é›†ä¸­è§‚å¯Ÿçš„æ•°é‡</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Average CV Score: &quot;</span>, scores.mean())          <span class="hljs-comment"># é¸¢å°¾èŠ±æ•°æ®é›†ä¸­æœ‰150ä¸ªè§‚æµ‹å€¼ï¼Œå¹³å‡CVå¾—åˆ†ä¸º94%</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Number of CV Scores used in Average: &quot;</span>, <span class="hljs-built_in">len</span>(scores))<br></code></pre></td></tr></table></figure><h2 id="5-4-ç•™PéªŒè¯-LPO"><a href="#5-4-ç•™PéªŒè¯-LPO" class="headerlink" title="5-4 ç•™PéªŒè¯(LPO)"></a>5-4 ç•™PéªŒè¯(LPO)</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> datasets<br><span class="hljs-keyword">from</span> sklearn.tree <span class="hljs-keyword">import</span> DecisionTreeClassifier     <span class="hljs-comment"># å°è¯•å¯¹ä¸åŒç§ç±»çš„é¸¢å°¾èŠ±è¿›è¡Œåˆ†ç±»</span><br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> LeavePOut, cross_val_score<br><br>X, y = datasets.load_iris(return_X_y=<span class="hljs-literal">True</span>)          <span class="hljs-comment"># åŠ è½½æ•°æ®</span><br><br>clf = DecisionTreeClassifier(random_state=<span class="hljs-number">42</span>)       <span class="hljs-comment"># åˆ›å»ºå¹¶æ‹Ÿåˆæ¨¡å‹ä»¥è¿›è¡Œè¯„ä¼°</span><br><br>lpo = LeavePOut(p=<span class="hljs-number">2</span>)<br><br>scores = cross_val_score(clf, X, y, cv=lpo)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Cross Validation Scores: &quot;</span>, scores)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Average CV Score: &quot;</span>, scores.mean())          <span class="hljs-comment"># è§‚æµ‹å€¼æ•°é‡è¶³å¤Ÿå¤šï¼Œå®ç°äº†å¤§è‡´ç›¸åŒçš„å¹³å‡CVåˆ†æ•°</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Number of CV Scores used in Average: &quot;</span>, <span class="hljs-built_in">len</span>(scores))<br></code></pre></td></tr></table></figure><h2 id="5-5-è’™ç‰¹å¡ç½—éªŒè¯"><a href="#5-5-è’™ç‰¹å¡ç½—éªŒè¯" class="headerlink" title="5-5 è’™ç‰¹å¡ç½—éªŒè¯"></a>5-5 è’™ç‰¹å¡ç½—éªŒè¯</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> datasets<br><span class="hljs-keyword">from</span> sklearn.tree <span class="hljs-keyword">import</span> DecisionTreeClassifier     <span class="hljs-comment"># å°è¯•å¯¹ä¸åŒç§ç±»çš„é¸¢å°¾èŠ±è¿›è¡Œåˆ†ç±»</span><br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> ShuffleSplit, cross_val_score<br><br>X, y = datasets.load_iris(return_X_y=<span class="hljs-literal">True</span>)          <span class="hljs-comment"># åŠ è½½æ•°æ®</span><br><br>clf = DecisionTreeClassifier(random_state=<span class="hljs-number">42</span>)       <span class="hljs-comment"># åˆ›å»ºå¹¶æ‹Ÿåˆæ¨¡å‹ä»¥è¿›è¡Œè¯„ä¼°</span><br><br>ss = ShuffleSplit(train_size=<span class="hljs-number">0.6</span>, test_size=<span class="hljs-number">0.3</span>, n_splits=<span class="hljs-number">5</span>)<br><br>scores = cross_val_score(clf, X, y, cv=ss)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Cross Validation Scores: &quot;</span>, scores)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Average CV Score: &quot;</span>, scores.mean())<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Number of CV Scores used in Average: &quot;</span>, <span class="hljs-built_in">len</span>(scores))<br></code></pre></td></tr></table></figure><h1 id="6-AUC-ROCæ›²çº¿"><a href="#6-AUC-ROCæ›²çº¿" class="headerlink" title="6 AUC-ROCæ›²çº¿"></a>6 AUC-ROCæ›²çº¿</h1><ul><li>AUC-ROCæ›²çº¿<ul><li>åœ¨ä¸åŒé˜ˆå€¼è®¾ç½®çš„æ¡ä»¶ä¸‹ï¼Œåˆ†ç±»é—®é¢˜çš„æ€§èƒ½åº¦é‡ï¼ŒROCæŒ‡æ¦‚ç‡æ›²çº¿ï¼ŒAUCæŒ‡æ­£è´Ÿç±»å¯æ­£ç¡®åˆ†ç±»çš„ç¨‹åº¦ã€‚<ul><li>å‘Šè¯‰æ¨¡å‹èƒ½å¤Ÿåœ¨å¤šå¤§ç¨‹åº¦ä¸ŠåŒºåˆ†ç±»ï¼ŒAUCè¶Šé«˜ï¼Œæ¨¡å‹è¶Šèƒ½é¢„æµ‹0ä¸º0å’Œ1ä¸º1ã€‚</li><li>ç±»æ¯”ç–¾ç—…è¯Šæ–­æ¨¡å‹ï¼Œè‹¥AUCè¶Šé«˜ï¼Œæ¨¡å‹å¯¹æœ‰ç–¾ç—…å’Œæ— ç–¾ç—…çš„åŒºåˆ†å°±ä¼šè¶Šå¥½ã€‚</li></ul></li><li>æœ¯è¯­å®šä¹‰ï¼šçœŸé˜³æ€§(TP)ã€å‡é˜³æ€§(FP)ã€‚<ul><li>ç‰¹å¼‚åº¦(Specificity)&#x3D;TN&#x2F;(TN+FP)</li><li>å‡é˜³ç‡(FPR)&#x3D;1-Specificity&#x3D;FP&#x2F;(TN+FP)</li><li>çœŸé˜³ç‡(TPR)&#x2F;å¬å›ç‡(Recall)&#x2F;æ•æ„Ÿåº¦(Sensitivity)&#x3D;TP&#x2F;(TP+FN)</li></ul></li></ul></li></ul><h2 id="6-1-ä¸å¹³è¡¡æ•°æ®"><a href="#6-1-ä¸å¹³è¡¡æ•°æ®" class="headerlink" title="6-1 ä¸å¹³è¡¡æ•°æ®"></a>6-1 ä¸å¹³è¡¡æ•°æ®</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> accuracy_score, confusion_matrix<br><br>n = <span class="hljs-number">10000</span>                                       <span class="hljs-comment"># å‡è®¾æœ‰ä¸€ä¸ªä¸å¹³è¡¡çš„æ•°æ®é›†</span><br>ratio = <span class="hljs-number">.95</span>                                     <span class="hljs-comment"># å…¶ä¸­å¤§éƒ¨åˆ†æ•°æ®éƒ½æ˜¯ä¸€ä¸ªå€¼</span><br>n_0 = <span class="hljs-built_in">int</span>((<span class="hljs-number">1</span>-ratio) * n)                        <span class="hljs-comment"># å¯é€šè¿‡é¢„æµ‹å¤šæ•°ç±»æ¥è·å¾—æ¨¡å‹çš„é«˜ç²¾åº¦</span><br>n_1 = <span class="hljs-built_in">int</span>(ratio * n)<br><br>y = np.array([<span class="hljs-number">0</span>] * n_0 + [<span class="hljs-number">1</span>] * n_1)<br>y_proba = np.array([<span class="hljs-number">1</span>]*n)<br>y_pred = y_proba &gt; <span class="hljs-number">.5</span><br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;accuracy score: <span class="hljs-subst">&#123;accuracy_score(y, y_pred)&#125;</span>&#x27;</span>)<br>cf_mat = confusion_matrix(y, y_pred)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Confusion matrix&#x27;</span>)<br><span class="hljs-built_in">print</span>(cf_mat)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;class 0 accuracy: <span class="hljs-subst">&#123;cf_mat[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>]/n_0&#125;</span>&#x27;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;class 1 accuracy: <span class="hljs-subst">&#123;cf_mat[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>]/n_1&#125;</span>&#x27;</span>)<br></code></pre></td></tr></table></figure><h2 id="6-2-å‡†ç¡®æ€§è¯„ä¼°"><a href="#6-2-å‡†ç¡®æ€§è¯„ä¼°" class="headerlink" title="6-2 å‡†ç¡®æ€§è¯„ä¼°"></a>6-2 å‡†ç¡®æ€§è¯„ä¼°</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> accuracy_score, confusion_matrix<br><br>n = <span class="hljs-number">10000</span>                                       <span class="hljs-comment"># å‡è®¾æœ‰ä¸€ä¸ªä¸å¹³è¡¡çš„æ•°æ®é›†</span><br>ratio = <span class="hljs-number">.95</span>                                     <span class="hljs-comment"># å…¶ä¸­å¤§éƒ¨åˆ†æ•°æ®éƒ½æ˜¯ä¸€ä¸ªå€¼</span><br>n_0 = <span class="hljs-built_in">int</span>((<span class="hljs-number">1</span>-ratio) * n)                        <span class="hljs-comment"># å¯é€šè¿‡é¢„æµ‹å¤šæ•°ç±»æ¥è·å¾—æ¨¡å‹çš„é«˜ç²¾åº¦</span><br>n_1 = <span class="hljs-built_in">int</span>(ratio * n)<br><br>y = np.array([<span class="hljs-number">0</span>] * n_0 + [<span class="hljs-number">1</span>] * n_1)<br>y_proba_1 = np.array([<span class="hljs-number">1</span>]*n)<br>y_pred_1 = y_proba_1 &gt; <span class="hljs-number">.5</span><br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;accuracy score: <span class="hljs-subst">&#123;accuracy_score(y, y_pred_1)&#125;</span>&#x27;</span>)<br>cf_mat = confusion_matrix(y, y_pred_1)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Confusion matrix&#x27;</span>)                       <span class="hljs-comment"># è™½è·å¾—äº†é«˜å‡†ç¡®æ€§ï¼Œä½†è¯¥æ¨¡å‹æ²¡æœ‰æä¾›æœ‰å…³æ•°æ®çš„ä¿¡æ¯</span><br><span class="hljs-built_in">print</span>(cf_mat)                                   <span class="hljs-comment"># åœ¨100%çš„æ—¶é—´å†…å‡†ç¡®åœ°é¢„æµ‹äº†1ç±»</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;class 0 accuracy: <span class="hljs-subst">&#123;cf_mat[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>]/n_0&#125;</span>&#x27;</span>)  <span class="hljs-comment"># åœ¨0%çš„æ—¶é—´å†…å¹¶æœªå‡†ç¡®åœ°é¢„æµ‹åˆ°ç±»</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;class 1 accuracy: <span class="hljs-subst">&#123;cf_mat[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>]/n_1&#125;</span>&#x27;</span>)  <span class="hljs-comment"># ä»¥ç‰ºç‰²å‡†ç¡®æ€§ä¸ºä»£ä»·</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;*****************************&#x27;</span>)          <span class="hljs-comment"># æ‹¥æœ‰ä¸€ä¸ªå¯åœ¨æŸç¨‹åº¦ä¸ŠåŒºåˆ†è¿™ä¸¤ç±»çš„æ¨¡å‹å¯èƒ½æ›´å¥½</span><br><br><span class="hljs-comment"># below are the probabilities obtained from a hypothetical model that doesn&#x27;t always predict the mode</span><br>y_proba_2 = np.array(np.random.uniform(<span class="hljs-number">0</span>, <span class="hljs-number">.7</span>, n_0).tolist() + np.random.uniform(<span class="hljs-number">.3</span>, <span class="hljs-number">1</span>, n_1).tolist())<br>y_pred_2 = y_proba_2 &gt; <span class="hljs-number">.5</span><br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;accuracy score: <span class="hljs-subst">&#123;accuracy_score(y, y_pred_2)&#125;</span>&#x27;</span>)<br>cf_mat = confusion_matrix(y, y_pred_2)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Confusion matrix&#x27;</span>)                       <span class="hljs-comment"># ç¬¬äºŒç»„é¢„æµ‹å‡†ç¡®åº¦åˆ†æ•°æ²¡æœ‰ç¬¬ä¸€ç»„é«˜</span><br><span class="hljs-built_in">print</span>(cf_mat)                                   <span class="hljs-comment"># ä½†æ¯ä¸ªç±»åˆ«çš„å‡†ç¡®åº¦æ›´åŠ å¹³è¡¡</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;class 0 accuracy: <span class="hljs-subst">&#123;cf_mat[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>]/n_0&#125;</span>&#x27;</span>)  <span class="hljs-comment"># å‡†ç¡®æ€§ä½œä¸ºè¯„ä¼°æŒ‡æ ‡ä¼šä½¿ç¬¬ä¸€ä¸ªæ¨¡å‹è¯„åˆ†é«˜äºç¬¬äºŒä¸ªæ¨¡å‹</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;class 1 accuracy: <span class="hljs-subst">&#123;cf_mat[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>]/n_1&#125;</span>&#x27;</span>)  <span class="hljs-comment"># åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæœ€å¥½ä½¿ç”¨å…¶ä»–è¯„ä¼°æŒ‡æ ‡ï¼Œä¾‹å¦‚AUC</span><br></code></pre></td></tr></table></figure><h4 id="1-ç¬¬ä¸€ä¸ªæ¨¡å‹"><a href="#1-ç¬¬ä¸€ä¸ªæ¨¡å‹" class="headerlink" title="(1) ç¬¬ä¸€ä¸ªæ¨¡å‹"></a>(1) ç¬¬ä¸€ä¸ªæ¨¡å‹</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># Three lines to make our compiler able to draw</span><br><span class="hljs-comment"># import sys</span><br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-comment"># import matplotlib</span><br><span class="hljs-comment"># matplotlib.use(&#x27;Agg&#x27;)</span><br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> roc_auc_score, roc_curve<br><br>n = <span class="hljs-number">10000</span>                                       <span class="hljs-comment"># å‡è®¾æœ‰ä¸€ä¸ªä¸å¹³è¡¡çš„æ•°æ®é›†</span><br>ratio = <span class="hljs-number">.95</span>                                     <span class="hljs-comment"># å…¶ä¸­å¤§éƒ¨åˆ†æ•°æ®éƒ½æ˜¯ä¸€ä¸ªå€¼</span><br>n_0 = <span class="hljs-built_in">int</span>((<span class="hljs-number">1</span>-ratio) * n)                        <span class="hljs-comment"># å¯é€šè¿‡é¢„æµ‹å¤šæ•°ç±»æ¥è·å¾—æ¨¡å‹çš„é«˜ç²¾åº¦</span><br>n_1 = <span class="hljs-built_in">int</span>(ratio * n)<br><br>y = np.array([<span class="hljs-number">0</span>] * n_0 + [<span class="hljs-number">1</span>] * n_1)<br>y_proba_1 = np.array([<span class="hljs-number">1</span>] * n)<br>y_pred_1 = y_proba_1 &gt; <span class="hljs-number">.5</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">plot_roc_curve</span>(<span class="hljs-params">true_y, y_prob</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    plots the roc curve based of the probabilities</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    fpr, tpr, thresholds = roc_curve(true_y, y_prob)<br>    plt.plot(fpr, tpr)<br>    plt.xlabel(<span class="hljs-string">&#x27;False Positive Rate&#x27;</span>)<br>    plt.ylabel(<span class="hljs-string">&#x27;True Positive Rate&#x27;</span>)<br>    plt.show()                                  <span class="hljs-comment"># AUCåˆ†æ•°çº¦ä¸º0.5ï¼Œæ„å‘³ç€è¯¥æ¨¡å‹æ— æ³•åŒºåˆ†ä¸¤ä¸ªç±»åˆ«</span><br><br><br>plot_roc_curve(y, y_proba_1)                    <span class="hljs-comment"># æ›²çº¿çœ‹èµ·æ¥åƒä¸€æ¡æ–œç‡ä¸º1çš„çº¿</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;model 1 AUC score: <span class="hljs-subst">&#123;roc_auc_score(y, y_proba_1)&#125;</span>&#x27;</span>)<br><br><span class="hljs-comment"># Two lines to make our compiler able to draw</span><br><span class="hljs-comment"># plt.savefig(sys.stdout.buffer)</span><br><span class="hljs-comment"># sys.stdout.flush()</span><br></code></pre></td></tr></table></figure><h4 id="2-ç¬¬äºŒä¸ªæ¨¡å‹"><a href="#2-ç¬¬äºŒä¸ªæ¨¡å‹" class="headerlink" title="(2) ç¬¬äºŒä¸ªæ¨¡å‹"></a>(2) ç¬¬äºŒä¸ªæ¨¡å‹</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># Three lines to make our compiler able to draw</span><br><span class="hljs-comment"># import sys</span><br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-comment"># import matplotlib</span><br><span class="hljs-comment"># matplotlib.use(&#x27;Agg&#x27;)</span><br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> roc_auc_score, roc_curve<br><br>n = <span class="hljs-number">10000</span>                                       <span class="hljs-comment"># å‡è®¾æœ‰ä¸€ä¸ªä¸å¹³è¡¡çš„æ•°æ®é›†</span><br>ratio = <span class="hljs-number">.95</span>                                     <span class="hljs-comment"># å…¶ä¸­å¤§éƒ¨åˆ†æ•°æ®éƒ½æ˜¯ä¸€ä¸ªå€¼</span><br>n_0 = <span class="hljs-built_in">int</span>((<span class="hljs-number">1</span>-ratio) * n)                        <span class="hljs-comment"># å¯é€šè¿‡é¢„æµ‹å¤šæ•°ç±»æ¥è·å¾—æ¨¡å‹çš„é«˜ç²¾åº¦</span><br>n_1 = <span class="hljs-built_in">int</span>(ratio * n)<br><br>y = np.array([<span class="hljs-number">0</span>] * n_0 + [<span class="hljs-number">1</span>] * n_1)<br><br><span class="hljs-comment"># below are the probabilities obtained from a hypothetical model that doesn&#x27;t always predict the mode</span><br>y_proba_2 = np.array(np.random.uniform(<span class="hljs-number">0</span>, <span class="hljs-number">.7</span>, n_0).tolist() + np.random.uniform(<span class="hljs-number">.3</span>, <span class="hljs-number">1</span>, n_1).tolist())<br>y_pred_2 = y_proba_2 &gt; <span class="hljs-number">.5</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">plot_roc_curve</span>(<span class="hljs-params">true_y, y_prob</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    plots the roc curve based of the probabilities</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    fpr, tpr, thresholds = roc_curve(true_y, y_prob)<br>    plt.plot(fpr, tpr)<br>    plt.xlabel(<span class="hljs-string">&#x27;False Positive Rate&#x27;</span>)<br>    plt.ylabel(<span class="hljs-string">&#x27;True Positive Rate&#x27;</span>)<br>    plt.show()                                  <span class="hljs-comment"># AUCåˆ†æ•°æ¥è¿‘1ï¼Œæ„å‘³ç€è¯¥æ¨¡å‹æœ‰èƒ½åŠ›å°†ä¸¤ä¸ªç±»åˆ†å¼€</span><br><br><br>plot_roc_curve(y, y_proba_2)                    <span class="hljs-comment"># æ›²çº¿å°†æ›´é è¿‘å›¾è¡¨çš„å·¦ä¸Šè§’</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;model 2 AUC score: <span class="hljs-subst">&#123;roc_auc_score(y, y_proba_2)&#125;</span>&#x27;</span>)<br><br><span class="hljs-comment"># Two lines to make our compiler able to draw</span><br><span class="hljs-comment"># plt.savefig(sys.stdout.buffer)</span><br><span class="hljs-comment"># sys.stdout.flush()</span><br></code></pre></td></tr></table></figure><h2 id="6-3-ç±»åˆ«é¢„æµ‹æ¦‚ç‡"><a href="#6-3-ç±»åˆ«é¢„æµ‹æ¦‚ç‡" class="headerlink" title="6-3 ç±»åˆ«é¢„æµ‹æ¦‚ç‡"></a>6-3 ç±»åˆ«é¢„æµ‹æ¦‚ç‡</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> accuracy_score, roc_auc_score<br><br>n = <span class="hljs-number">10000</span><br>y = np.array([<span class="hljs-number">0</span>] * n + [<span class="hljs-number">1</span>] * n)<br><br>y_prob_1 = np.array(                            <span class="hljs-comment"># æœ‰ä¸¤ç»„æ¥è‡ªå‡è®¾æ¨¡å‹çš„æ¦‚ç‡</span><br>    np.random.uniform(<span class="hljs-number">.25</span>, <span class="hljs-number">.5</span>, n//<span class="hljs-number">2</span>).tolist()   <span class="hljs-comment"># ç¬¬ä¸€ä¸ªåœ¨é¢„æµ‹ä¸¤ä¸ªç±»åˆ«æ—¶ï¼Œæ¦‚ç‡æ¥è¿‘.5</span><br>    + np.random.uniform(<span class="hljs-number">.3</span>, <span class="hljs-number">.7</span>, n).tolist()     <span class="hljs-comment"># ç¬¬äºŒä¸ªåœ¨é¢„æµ‹ä¸¤ä¸ªç±»åˆ«æ—¶ï¼Œæ¦‚ç‡æ¥è¿‘0æˆ–1çš„æç«¯å€¼</span><br>    + np.random.uniform(<span class="hljs-number">.5</span>, <span class="hljs-number">.75</span>, n//<span class="hljs-number">2</span>).tolist()<br>)<br>y_prob_2 = np.array(<br>    np.random.uniform(<span class="hljs-number">0</span>, <span class="hljs-number">.4</span>, n//<span class="hljs-number">2</span>).tolist() +<br>    np.random.uniform(<span class="hljs-number">.3</span>, <span class="hljs-number">.7</span>, n).tolist() +<br>    np.random.uniform(<span class="hljs-number">.6</span>, <span class="hljs-number">1</span>, n//<span class="hljs-number">2</span>).tolist()<br>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;model 1 accuracy score: <span class="hljs-subst">&#123;accuracy_score(y, y_prob_1&gt;<span class="hljs-number">.5</span>)&#125;</span>&#x27;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;model 2 accuracy score: <span class="hljs-subst">&#123;accuracy_score(y, y_prob_2&gt;<span class="hljs-number">.5</span>)&#125;</span>&#x27;</span>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;model 1 AUC score: <span class="hljs-subst">&#123;roc_auc_score(y, y_prob_1)&#125;</span>&#x27;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;model 2 AUC score: <span class="hljs-subst">&#123;roc_auc_score(y, y_prob_2)&#125;</span>&#x27;</span>)<br></code></pre></td></tr></table></figure><h4 id="1-ç¬¬ä¸€ä¸ªæ¨¡å‹-1"><a href="#1-ç¬¬ä¸€ä¸ªæ¨¡å‹-1" class="headerlink" title="(1) ç¬¬ä¸€ä¸ªæ¨¡å‹"></a>(1) ç¬¬ä¸€ä¸ªæ¨¡å‹</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># import sys</span><br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-comment"># import matplotlib</span><br><span class="hljs-comment"># matplotlib.use(&#x27;Agg&#x27;)</span><br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> roc_curve<br><br>n = <span class="hljs-number">10000</span><br>y = np.array([<span class="hljs-number">0</span>] * n + [<span class="hljs-number">1</span>] * n)<br><br>y_prob_1 = np.array(                            <span class="hljs-comment"># æœ‰ä¸¤ç»„æ¥è‡ªå‡è®¾æ¨¡å‹çš„æ¦‚ç‡</span><br>    np.random.uniform(<span class="hljs-number">.25</span>, <span class="hljs-number">.5</span>, n//<span class="hljs-number">2</span>).tolist()   <span class="hljs-comment"># ç¬¬ä¸€ä¸ªåœ¨é¢„æµ‹ä¸¤ä¸ªç±»åˆ«æ—¶ï¼Œæ¦‚ç‡æ¥è¿‘.5</span><br>    + np.random.uniform(<span class="hljs-number">.3</span>, <span class="hljs-number">.7</span>, n).tolist()     <span class="hljs-comment"># ç¬¬äºŒä¸ªåœ¨é¢„æµ‹ä¸¤ä¸ªç±»åˆ«æ—¶ï¼Œæ¦‚ç‡æ¥è¿‘0æˆ–1çš„æç«¯å€¼</span><br>    + np.random.uniform(<span class="hljs-number">.5</span>, <span class="hljs-number">.75</span>, n//<span class="hljs-number">2</span>).tolist()<br>)<br>y_prob_2 = np.array(<br>    np.random.uniform(<span class="hljs-number">0</span>, <span class="hljs-number">.4</span>, n // <span class="hljs-number">2</span>).tolist() +<br>    np.random.uniform(<span class="hljs-number">.3</span>, <span class="hljs-number">.7</span>, n).tolist() +<br>    np.random.uniform(<span class="hljs-number">.6</span>, <span class="hljs-number">1</span>, n // <span class="hljs-number">2</span>).tolist()<br>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">plot_roc_curve</span>(<span class="hljs-params">true_y, y_prob</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    plots the roc curve based of the probabilities</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    fpr, tpr, thresholds = roc_curve(true_y, y_prob)<br>    plt.plot(fpr, tpr)<br>    plt.xlabel(<span class="hljs-string">&#x27;False Positive Rate&#x27;</span>)<br>    plt.ylabel(<span class="hljs-string">&#x27;True Positive Rate&#x27;</span>)<br>    plt.show()<br><br><br>plot_roc_curve(y, y_prob_1)<br><br><span class="hljs-comment"># Two lines to make our compiler able to draw</span><br><span class="hljs-comment"># plt.savefig(sys.stdout.buffer)</span><br><span class="hljs-comment"># sys.stdout.flush()</span><br></code></pre></td></tr></table></figure><h4 id="2-ç¬¬äºŒä¸ªæ¨¡å‹-1"><a href="#2-ç¬¬äºŒä¸ªæ¨¡å‹-1" class="headerlink" title="(2) ç¬¬äºŒä¸ªæ¨¡å‹"></a>(2) ç¬¬äºŒä¸ªæ¨¡å‹</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># import sys</span><br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-comment"># import matplotlib</span><br><span class="hljs-comment"># matplotlib.use(&#x27;Agg&#x27;)</span><br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> roc_curve<br><br>n = <span class="hljs-number">10000</span><br>y = np.array([<span class="hljs-number">0</span>] * n + [<span class="hljs-number">1</span>] * n)<br><br>y_prob_1 = np.array(                            <span class="hljs-comment"># æœ‰ä¸¤ç»„æ¥è‡ªå‡è®¾æ¨¡å‹çš„æ¦‚ç‡</span><br>    np.random.uniform(<span class="hljs-number">.25</span>, <span class="hljs-number">.5</span>, n//<span class="hljs-number">2</span>).tolist()   <span class="hljs-comment"># ç¬¬ä¸€ä¸ªåœ¨é¢„æµ‹ä¸¤ä¸ªç±»åˆ«æ—¶ï¼Œæ¦‚ç‡æ¥è¿‘.5</span><br>    + np.random.uniform(<span class="hljs-number">.3</span>, <span class="hljs-number">.7</span>, n).tolist()     <span class="hljs-comment"># ç¬¬äºŒä¸ªåœ¨é¢„æµ‹ä¸¤ä¸ªç±»åˆ«æ—¶ï¼Œæ¦‚ç‡æ¥è¿‘0æˆ–1çš„æç«¯å€¼</span><br>    + np.random.uniform(<span class="hljs-number">.5</span>, <span class="hljs-number">.75</span>, n//<span class="hljs-number">2</span>).tolist()<br>)<br>y_prob_2 = np.array(<br>    np.random.uniform(<span class="hljs-number">0</span>, <span class="hljs-number">.4</span>, n // <span class="hljs-number">2</span>).tolist() +<br>    np.random.uniform(<span class="hljs-number">.3</span>, <span class="hljs-number">.7</span>, n).tolist() +<br>    np.random.uniform(<span class="hljs-number">.6</span>, <span class="hljs-number">1</span>, n // <span class="hljs-number">2</span>).tolist()<br>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">plot_roc_curve</span>(<span class="hljs-params">true_y, y_prob</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    plots the roc curve based of the probabilities</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    fpr, tpr, thresholds = roc_curve(true_y, y_prob)<br>    plt.plot(fpr, tpr)<br>    <span class="hljs-comment"># plt.xlabel(&#x27;False Positive Rate&#x27;)</span><br>    <span class="hljs-comment"># plt.ylabel(&#x27;True Positive Rate&#x27;)</span><br><br><br>fpr, tpr, thresholds = roc_curve(y, y_prob_2)<br>plt.plot(fpr, tpr)<br>plt.xlabel(<span class="hljs-string">&#x27;False Positive Rate&#x27;</span>)               <span class="hljs-comment"># å°½ç®¡ä¸¤æ¨¡å‹çš„å‡†ç¡®åº¦ç›¸ä¼¼ï¼Œä½†AUCåˆ†æ•°é«˜çš„æ¨¡å‹æ›´å¯é </span><br>plt.ylabel(<span class="hljs-string">&#x27;True Positive Rate&#x27;</span>)                <span class="hljs-comment"># è€ƒè™‘äº†é¢„æµ‹æ¦‚ç‡ï¼Œé¢„æµ‹æœªæ¥æ•°æ®æ—¶æ›´å¯èƒ½æä¾›é«˜å‡†ç¡®æ€§</span><br>plt.show()<br><br><span class="hljs-comment"># Two lines to make our compiler able to draw</span><br><span class="hljs-comment"># plt.savefig(sys.stdout.buffer)</span><br><span class="hljs-comment"># sys.stdout.flush()</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æœºå™¨å­¦ä¹ </tag>
      
      <tag>äººå·¥æ™ºèƒ½</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python Matplotlib</title>
    <link href="/2021/08/02/python/python09-python-matplotlib/"/>
    <url>/2021/08/02/python/python09-python-matplotlib/</url>
    
    <content type="html"><![CDATA[<p>Matplotlibæ˜¯Pythonçš„ä½çº§å›¾å½¢ç»˜åˆ¶åº“ï¼Œç”±John D.Hunteråˆ›å»ºï¼Œå¤§éƒ¨åˆ†ç”¨Pythonç¼–å†™ï¼Œå¼€æºå…è´¹ï¼Œç”¨ä½œå¯è§†åŒ–å®ç”¨ç¨‹åºã€‚</p><span id="more"></span><h1 id="1-Matplotlib"><a href="#1-Matplotlib" class="headerlink" title="1 Matplotlib"></a>1 Matplotlib</h1><ul><li>Matplotlib<ul><li>å‘½ä»¤çª—å£ä¸‹ä½¿ç”¨<code>pip install Matplotlib</code>è¿›è¡Œå®‰è£…ã€‚</li><li>é€šè¿‡importå…³é”®å­—å°†å…¶å¯¼å…¥åº”ç”¨ç¨‹åºï¼š<code>import matplotlib</code>ã€‚</li><li>æ£€æŸ¥Matplotlibç‰ˆæœ¬ï¼Œç‰ˆæœ¬å­—ç¬¦ä¸²å­˜å‚¨åœ¨<code>__version__</code>å±æ€§ä¸‹ã€‚</li><li>å¤§å¤šæ•°å®ç”¨ç¨‹åºä½äºPyplotå­æ¨¡å—ä¸‹ï¼Œé€šå¸¸ä½¿ç”¨åˆ«åpltå¯¼å…¥ï¼š<code>import matplotlib.pyplot as plt</code>ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> matplotlib<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt         <span class="hljs-comment"># Pyplotå­æ¨¡å—</span><br><br><span class="hljs-built_in">print</span>(matplotlib.__version__)           <span class="hljs-comment"># æ£€æŸ¥Matplotlibç‰ˆæœ¬</span><br><br>xpoints = np.array([<span class="hljs-number">0</span>, <span class="hljs-number">6</span>])<br>ypoints = np.array([<span class="hljs-number">0</span>, <span class="hljs-number">250</span>])<br>plt.plot(xpoints, ypoints)<br>plt.show()<br></code></pre></td></tr></table></figure><h1 id="2-ç»˜å›¾æ“ä½œ"><a href="#2-ç»˜å›¾æ“ä½œ" class="headerlink" title="2 ç»˜å›¾æ“ä½œ"></a>2 ç»˜å›¾æ“ä½œ</h1><ul><li>ç»˜å›¾æ“ä½œ<ul><li><code>plot()</code>å‡½æ•°ç”¨äºåœ¨å›¾è¡¨ä¸­ç»˜åˆ¶ç‚¹ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œæ˜¯ä»ä¸€ç‚¹åˆ°å¦ä¸€ç‚¹ç»˜åˆ¶ä¸€æ¡çº¿ã€‚</li><li>é‡‡ç”¨å‚æ•°æŒ‡å®šå›¾ä¸­çš„ç‚¹ï¼Œå‚æ•°ä¸€åŒ…å«xè½´ä¸Šç‚¹çš„æ•°ç»„ï¼Œå‚æ•°äºŒåŒ…å«yè½´ä¸Šç‚¹çš„æ•°ç»„ã€‚</li><li>xè½´æ˜¯æ°´å¹³è½´ï¼Œyè½´æ˜¯å‚ç›´è½´ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>xpoints = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">8</span>])               <span class="hljs-comment"># åœ¨å›¾ä¸­ä»ä½ç½®(1, 3)åˆ°ä½ç½®(8, 10)ç”»ä¸€æ¡çº¿</span><br>ypoints = np.array([<span class="hljs-number">3</span>, <span class="hljs-number">10</span>])<br><br>plt.plot(xpoints, ypoints)<br>plt.show()<br></code></pre></td></tr></table></figure><h2 id="2-1-æ— çº¿ç»˜å›¾"><a href="#2-1-æ— çº¿ç»˜å›¾" class="headerlink" title="2-1 æ— çº¿ç»˜å›¾"></a>2-1 æ— çº¿ç»˜å›¾</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>xpoints = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">8</span>])               <span class="hljs-comment"># åœ¨å›¾ä¸­ä»ä½ç½®(1, 3)åˆ°ä½ç½®(8, 10)ç”»ä¸€æ¡çº¿</span><br>ypoints = np.array([<span class="hljs-number">3</span>, <span class="hljs-number">10</span>])<br><br>plt.plot(xpoints, ypoints, <span class="hljs-string">&#x27;o&#x27;</span>)          <span class="hljs-comment"># ä»…ç»˜åˆ¶æ ‡è®°ï¼Œå¯ä»¥ä½¿ç”¨å¿«æ·å­—ç¬¦ä¸²ç¬¦å·å‚æ•°â€œoâ€</span><br>plt.show()<br></code></pre></td></tr></table></figure><h2 id="2-2-å¤šç‚¹ç»˜å›¾"><a href="#2-2-å¤šç‚¹ç»˜å›¾" class="headerlink" title="2-2 å¤šç‚¹ç»˜å›¾"></a>2-2 å¤šç‚¹ç»˜å›¾</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>xpoints = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>])         <span class="hljs-comment"># ç»˜åˆ¶ä»»æ„å¤šçš„ç‚¹ï¼Œç¡®ä¿ä¸¤ä¸ªè½´ä¸Šçš„ç‚¹æ•°ç›¸åŒ</span><br>ypoints = np.array([<span class="hljs-number">3</span>, <span class="hljs-number">8</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>])        <span class="hljs-comment"># åœ¨å›¾ä¸­ç”»ä¸€æ¡çº¿ï¼Œä»ä½ç½®(1, 3)åˆ°(2, 8)ï¼Œ(6, 1)ï¼Œæœ€ååˆ°(8, 10)</span><br><br>plt.plot(xpoints, ypoints)<br>plt.show()<br></code></pre></td></tr></table></figure><h2 id="2-3-é»˜è®¤Xè½´ç‚¹"><a href="#2-3-é»˜è®¤Xè½´ç‚¹" class="headerlink" title="2-3 é»˜è®¤Xè½´ç‚¹"></a>2-3 é»˜è®¤Xè½´ç‚¹</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>ypoints = np.array([<span class="hljs-number">3</span>, <span class="hljs-number">8</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>])<br><br>plt.plot(ypoints)                        <span class="hljs-comment"># xè½´ä¸Šçš„ç‚¹é»˜è®¤å€¼å–å†³äºyç‚¹çš„é•¿åº¦</span><br>plt.show()<br></code></pre></td></tr></table></figure><h1 id="3-ä½¿ç”¨æ ‡è®°"><a href="#3-ä½¿ç”¨æ ‡è®°" class="headerlink" title="3 ä½¿ç”¨æ ‡è®°"></a>3 ä½¿ç”¨æ ‡è®°</h1><ul><li>ä½¿ç”¨æ ‡è®°<ul><li>ä½¿ç”¨å…³é”®å­—å‚æ•°markeræ¥å¼ºè°ƒå¸¦æœ‰æŒ‡å®šæ ‡è®°çš„æ¯ä¸ªç‚¹ã€‚</li><li>æ ‡è®°å‚è€ƒ<ul><li><code>&#39;*&#39;</code>ã€<code>&#39;,&#39;</code>ã€<code>&#39;x&#39;</code>ã€<code>&#39;X&#39;</code>ã€<code>&#39;+&#39;</code>ã€<code>&#39;P&#39;</code>ã€<code>&#39;s&#39;</code>ã€<code>&#39;D&#39;</code>ã€<code>&#39;d&#39;</code>ã€<code>&#39;p&#39;</code>ã€<code>&#39;H&#39;</code></li><li><code>&#39;h&#39;</code>ã€<code>&#39;v&#39;</code>ã€<code>&#39;^&#39;</code>ã€<code>&#39;&lt;&#39;</code>ã€<code>&#39;&gt;&#39;</code>ã€<code>&#39;1&#39;</code>ã€<code>&#39;2&#39;</code>ã€<code>&#39;3&#39;</code>ã€<code>&#39;4&#39;</code>ã€<code>&#39;|&#39;</code>ã€<code>&#39;_&#39;</code></li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>ypoints = np.array([<span class="hljs-number">3</span>, <span class="hljs-number">8</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>])<br><br>plt.plot(ypoints, marker=<span class="hljs-string">&#x27;o&#x27;</span>)                    <span class="hljs-comment"># å…³é”®å­—å‚æ•°markeræ¥å¼ºè°ƒå¸¦æœ‰æŒ‡å®šæ ‡è®°çš„æ¯ä¸ªç‚¹</span><br>plt.show()<br></code></pre></td></tr></table></figure><h2 id="3-1-fmt"><a href="#3-1-fmt" class="headerlink" title="3-1 fmt"></a>3-1 fmt</h2><ul><li>fmt<ul><li>å¿«æ·å­—ç¬¦ä¸²è¡¨ç¤ºæ³•å‚æ•°ï¼Œ<code>marker|line|color</code>ã€‚</li><li>ç”»çº¿å‚è€ƒï¼š<code>&#39;-&#39;</code>å³<code>solid</code>ã€<code>&#39;:&#39;</code>å³<code>dotted</code>ã€<code>&#39;--&#39;</code>å³<code>dashed</code>ã€<code>&#39;-.&#39;</code>å³<code>dashdot</code>ã€‚</li><li>å…³é”®å­—å‚æ•°linestyleæˆ–lsæ›´æ”¹ç»˜åˆ¶çº¿çš„æ ·å¼ï¼Œè‹¥åœ¨fmtä¸­çœç•¥çº¿å€¼ï¼Œåˆ™ä¸ä¼šç»˜åˆ¶ä»»ä½•çº¿ã€‚</li><li>é¢œè‰²å‚è€ƒï¼š<code>&#39;r&#39;</code>ã€<code>&#39;g&#39;</code>ã€<code>&#39;b&#39;</code>ã€<code>&#39;c&#39;</code>ã€<code>&#39;m&#39;</code>ã€<code>&#39;y&#39;</code>ã€<code>&#39;k&#39;</code>ã€<code>&#39;w&#39;</code>ã€‚</li><li>å…³é”®å­—å‚æ•°coloræˆ–cè®¾ç½®çº¿æ¡çš„é¢œè‰²ï¼Œæ”¯æŒä½¿ç”¨åå…­è¿›åˆ¶é¢œè‰²å€¼å’Œ<a href="https://www.w3schools.com/colors/colors_names.asp">140ç§æ”¯æŒçš„é¢œè‰²å</a>ã€‚</li><li>ä½¿ç”¨å…³é”®å­—å‚æ•°linewidthæˆ–lwæ¥æ›´æ”¹è®¾ç½®çº¿æ¡çš„å®½åº¦ï¼Œè¯¥å€¼æ˜¯ä¸€ä¸ªæµ®ç‚¹æ•°ï¼Œä»¥ç‚¹ä¸ºå•ä½ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>ypoints = np.array([<span class="hljs-number">3</span>, <span class="hljs-number">8</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>])<br><br>plt.plot(ypoints, <span class="hljs-string">&#x27;o:r&#x27;</span>)                         <span class="hljs-comment"># é¢œè‰²æ ‡è®°</span><br>plt.show()<br></code></pre></td></tr></table></figure><h4 id="1-ç‚¹è™šçº¿"><a href="#1-ç‚¹è™šçº¿" class="headerlink" title="(1) ç‚¹è™šçº¿"></a>(1) ç‚¹è™šçº¿</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>ypoints = np.array([<span class="hljs-number">3</span>, <span class="hljs-number">8</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>])<br><br>plt.plot(ypoints, linestyle=<span class="hljs-string">&#x27;dotted&#x27;</span>)            <span class="hljs-comment"># å…³é”®å­—å‚æ•°linestyleæˆ–lsæ›´æ”¹ç»˜åˆ¶çº¿çš„æ ·å¼</span><br>plt.show()<br></code></pre></td></tr></table></figure><h4 id="2-é•¿è™šçº¿"><a href="#2-é•¿è™šçº¿" class="headerlink" title="(2) é•¿è™šçº¿"></a>(2) é•¿è™šçº¿</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>ypoints = np.array([<span class="hljs-number">3</span>, <span class="hljs-number">8</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>])<br><br>plt.plot(ypoints, linestyle=<span class="hljs-string">&#x27;dashed&#x27;</span>)            <span class="hljs-comment"># å…³é”®å­—å‚æ•°linestyleæˆ–lsæ›´æ”¹ç»˜åˆ¶çº¿çš„æ ·å¼</span><br>plt.show()<br></code></pre></td></tr></table></figure><h4 id="3-çº¿æ¡é¢œè‰²"><a href="#3-çº¿æ¡é¢œè‰²" class="headerlink" title="(3) çº¿æ¡é¢œè‰²"></a>(3) çº¿æ¡é¢œè‰²</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>ypoints = np.array([<span class="hljs-number">3</span>, <span class="hljs-number">8</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>])<br><br>plt.plot(ypoints, color=<span class="hljs-string">&#x27;g&#x27;</span>)                     <span class="hljs-comment"># å…³é”®å­—å‚æ•°coloræˆ–cè®¾ç½®çº¿æ¡çš„é¢œè‰²</span><br>plt.show()<br></code></pre></td></tr></table></figure><h4 id="4-åå…­è¿›åˆ¶é¢œè‰²å€¼"><a href="#4-åå…­è¿›åˆ¶é¢œè‰²å€¼" class="headerlink" title="(4) åå…­è¿›åˆ¶é¢œè‰²å€¼"></a>(4) åå…­è¿›åˆ¶é¢œè‰²å€¼</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>ypoints = np.array([<span class="hljs-number">3</span>, <span class="hljs-number">8</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>])<br><br>plt.plot(ypoints, c=<span class="hljs-string">&#x27;#4CAF50&#x27;</span>)                   <span class="hljs-comment"># åå…­è¿›åˆ¶é¢œè‰²å€¼</span><br>plt.show()<br></code></pre></td></tr></table></figure><h4 id="5-140ç§æ”¯æŒçš„é¢œè‰²"><a href="#5-140ç§æ”¯æŒçš„é¢œè‰²" class="headerlink" title="(5) 140ç§æ”¯æŒçš„é¢œè‰²"></a>(5) 140ç§æ”¯æŒçš„é¢œè‰²</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>ypoints = np.array([<span class="hljs-number">3</span>, <span class="hljs-number">8</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>])<br><br>plt.plot(ypoints, c=<span class="hljs-string">&#x27;hotpink&#x27;</span>)                   <span class="hljs-comment"># 140ç§æ”¯æŒçš„é¢œè‰²</span><br>plt.show()<br></code></pre></td></tr></table></figure><h4 id="6-æ›´æ”¹è®¾ç½®çº¿æ¡è¡Œå®½"><a href="#6-æ›´æ”¹è®¾ç½®çº¿æ¡è¡Œå®½" class="headerlink" title="(6) æ›´æ”¹è®¾ç½®çº¿æ¡è¡Œå®½"></a>(6) æ›´æ”¹è®¾ç½®çº¿æ¡è¡Œå®½</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>ypoints = np.array([<span class="hljs-number">3</span>, <span class="hljs-number">8</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>])<br><br>plt.plot(ypoints, linewidth=<span class="hljs-string">&#x27;20.5&#x27;</span>)              <span class="hljs-comment"># å…³é”®å­—å‚æ•°linewidthæˆ–lwæ›´æ”¹è®¾ç½®çº¿æ¡çš„å®½åº¦</span><br>plt.show()<br></code></pre></td></tr></table></figure><h2 id="3-2-æ ‡è®°å¤§å°"><a href="#3-2-æ ‡è®°å¤§å°" class="headerlink" title="3-2 æ ‡è®°å¤§å°"></a>3-2 æ ‡è®°å¤§å°</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>ypoints = np.array([<span class="hljs-number">3</span>, <span class="hljs-number">8</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>])<br><br>plt.plot(ypoints, marker=<span class="hljs-string">&#x27;o&#x27;</span>, ms=<span class="hljs-number">20</span>)             <span class="hljs-comment"># å…³é”®å­—å‚æ•°markersizeæˆ–msæ¥è®¾ç½®æ ‡è®°çš„å¤§å°</span><br>plt.show()<br></code></pre></td></tr></table></figure><h2 id="3-3-æ ‡è®°é¢œè‰²"><a href="#3-3-æ ‡è®°é¢œè‰²" class="headerlink" title="3-3 æ ‡è®°é¢œè‰²"></a>3-3 æ ‡è®°é¢œè‰²</h2><ul><li>æ ‡è®°é¢œè‰²<ul><li>ä½¿ç”¨å…³é”®å­—å‚æ•°markeredgecoloræˆ–mecæ¥è®¾ç½®æ ‡è®°çš„è¾¹ç¼˜å¤–é¢œè‰²ã€‚</li><li>ä½¿ç”¨å…³é”®å­—å‚æ•°markerfacecoloræˆ–mfcæ¥è®¾ç½®æ ‡è®°çš„è¾¹ç¼˜å†…é¢œè‰²ã€‚</li><li>å‚è§ï¼š<a href="https://www.w3schools.com/colors/colors_names.asp">140ç§æ”¯æŒçš„é¢œè‰²åç§°</a>ã€‚</li></ul></li></ul><h4 id="1-è¾¹ç¼˜å¤–é¢œè‰²"><a href="#1-è¾¹ç¼˜å¤–é¢œè‰²" class="headerlink" title="(1) è¾¹ç¼˜å¤–é¢œè‰²"></a>(1) è¾¹ç¼˜å¤–é¢œè‰²</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>ypoints = np.array([<span class="hljs-number">3</span>, <span class="hljs-number">8</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>])<br><br>plt.plot(ypoints, marker=<span class="hljs-string">&#x27;o&#x27;</span>, ms=<span class="hljs-number">20</span>, mec=<span class="hljs-string">&#x27;r&#x27;</span>)    <span class="hljs-comment"># å…³é”®å­—å‚æ•°markeredgecoloræˆ–mecæ¥è®¾ç½®æ ‡è®°çš„é¢œè‰²</span><br>plt.show()<br></code></pre></td></tr></table></figure><h4 id="2-è¾¹ç¼˜å†…é¢œè‰²"><a href="#2-è¾¹ç¼˜å†…é¢œè‰²" class="headerlink" title="(2) è¾¹ç¼˜å†…é¢œè‰²"></a>(2) è¾¹ç¼˜å†…é¢œè‰²</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>ypoints = np.array([<span class="hljs-number">3</span>, <span class="hljs-number">8</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>])<br><br>plt.plot(ypoints, marker=<span class="hljs-string">&#x27;o&#x27;</span>, ms=<span class="hljs-number">20</span>, mfc=<span class="hljs-string">&#x27;r&#x27;</span>)    <span class="hljs-comment"># å…³é”®å­—å‚æ•°markerfacecoloræˆ–mfcæ¥è®¾ç½®æ ‡è®°çš„é¢œè‰²</span><br>plt.show()<br></code></pre></td></tr></table></figure><h4 id="3-mecå’Œmfcç€è‰²"><a href="#3-mecå’Œmfcç€è‰²" class="headerlink" title="(3) mecå’Œmfcç€è‰²"></a>(3) mecå’Œmfcç€è‰²</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>ypoints = np.array([<span class="hljs-number">3</span>, <span class="hljs-number">8</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>])<br><br>plt.plot(ypoints, marker=<span class="hljs-string">&#x27;o&#x27;</span>, ms=<span class="hljs-number">20</span>, mec=<span class="hljs-string">&#x27;r&#x27;</span>, mfc=<span class="hljs-string">&#x27;r&#x27;</span>)<br>plt.show()<br></code></pre></td></tr></table></figure><h4 id="4-åå…­è¿›åˆ¶é¢œè‰²å€¼-1"><a href="#4-åå…­è¿›åˆ¶é¢œè‰²å€¼-1" class="headerlink" title="(4) åå…­è¿›åˆ¶é¢œè‰²å€¼"></a>(4) åå…­è¿›åˆ¶é¢œè‰²å€¼</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>ypoints = np.array([<span class="hljs-number">3</span>, <span class="hljs-number">8</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>])<br><br>plt.plot(ypoints, marker=<span class="hljs-string">&#x27;o&#x27;</span>, ms=<span class="hljs-number">20</span>, mec=<span class="hljs-string">&#x27;#4CAF50&#x27;</span>, mfc=<span class="hljs-string">&#x27;#4CAF50&#x27;</span>)<br>plt.show()<br></code></pre></td></tr></table></figure><h4 id="5-140ç§æ”¯æŒçš„é¢œè‰²-1"><a href="#5-140ç§æ”¯æŒçš„é¢œè‰²-1" class="headerlink" title="(5) 140ç§æ”¯æŒçš„é¢œè‰²"></a>(5) 140ç§æ”¯æŒçš„é¢œè‰²</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>ypoints = np.array([<span class="hljs-number">3</span>, <span class="hljs-number">8</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>])<br><br>plt.plot(ypoints, marker=<span class="hljs-string">&#x27;o&#x27;</span>, ms=<span class="hljs-number">20</span>, mec=<span class="hljs-string">&#x27;hotpink&#x27;</span>, mfc=<span class="hljs-string">&#x27;hotpink&#x27;</span>)<br>plt.show()<br></code></pre></td></tr></table></figure><h2 id="3-4-å¤šçº¿ç»˜åˆ¶"><a href="#3-4-å¤šçº¿ç»˜åˆ¶" class="headerlink" title="3-4 å¤šçº¿ç»˜åˆ¶"></a>3-4 å¤šçº¿ç»˜åˆ¶</h2><ul><li>å¤šçº¿ç»˜åˆ¶<ul><li>é€šè¿‡<code>plt.plot()</code>å‡½æ•°ç®€å•åœ°ç»˜åˆ¶ä»»æ„å¤šæ¡çº¿ã€‚</li><li>é€šè¿‡åŒä¸€å‡½æ•°ä¸­ä¸ºæ¯æ¡çº¿æ·»åŠ xå’Œyè½´çš„ç‚¹ç»˜åˆ¶ã€‚</li></ul></li></ul><h4 id="1-æŒ‡å®šç»˜åˆ¶"><a href="#1-æŒ‡å®šç»˜åˆ¶" class="headerlink" title="(1) æŒ‡å®šç»˜åˆ¶"></a>(1) æŒ‡å®šç»˜åˆ¶</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>y1 = np.array([<span class="hljs-number">3</span>, <span class="hljs-number">8</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>])<br>y2 = np.array([<span class="hljs-number">6</span>, <span class="hljs-number">2</span>, <span class="hljs-number">7</span>, <span class="hljs-number">11</span>])<br><br>plt.plot(y1)                                    <span class="hljs-comment"># ä¸ºæ¯æ¡çº¿æŒ‡å®šä¸€ä¸ªå‡½æ•°è¿›è¡Œç»˜åˆ¶</span><br>plt.plot(y2)<br><br>plt.show()<br></code></pre></td></tr></table></figure><h4 id="2-xå’Œyè½´ç‚¹"><a href="#2-xå’Œyè½´ç‚¹" class="headerlink" title="(2) xå’Œyè½´ç‚¹"></a>(2) xå’Œyè½´ç‚¹</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>x1 = np.array([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])                     <span class="hljs-comment"># æŒ‡å®šä¸¤æ¡çº¿çš„xå’Œyç‚¹å€¼è¿›è¡Œç»˜åˆ¶</span><br>y1 = np.array([<span class="hljs-number">3</span>, <span class="hljs-number">8</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>])<br>x2 = np.array([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])<br>y2 = np.array([<span class="hljs-number">6</span>, <span class="hljs-number">2</span>, <span class="hljs-number">7</span>, <span class="hljs-number">11</span>])<br><br>plt.plot(x1, y1, x2, y2)<br>plt.show()<br></code></pre></td></tr></table></figure><h1 id="4-æ·»åŠ æ ‡ç­¾"><a href="#4-æ·»åŠ æ ‡ç­¾" class="headerlink" title="4 æ·»åŠ æ ‡ç­¾"></a>4 æ·»åŠ æ ‡ç­¾</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>x = np.array([<span class="hljs-number">80</span>, <span class="hljs-number">85</span>, <span class="hljs-number">90</span>, <span class="hljs-number">95</span>, <span class="hljs-number">100</span>, <span class="hljs-number">105</span>, <span class="hljs-number">110</span>, <span class="hljs-number">115</span>, <span class="hljs-number">120</span>, <span class="hljs-number">125</span>])<br>y = np.array([<span class="hljs-number">240</span>, <span class="hljs-number">250</span>, <span class="hljs-number">260</span>, <span class="hljs-number">270</span>, <span class="hljs-number">280</span>, <span class="hljs-number">290</span>, <span class="hljs-number">300</span>, <span class="hljs-number">310</span>, <span class="hljs-number">320</span>, <span class="hljs-number">330</span>])<br><br>plt.plot(x, y)<br><br>plt.xlabel(<span class="hljs-string">&quot;Average Pulse&quot;</span>)                     <span class="hljs-comment"># å‘xè½´å’Œyè½´æ·»åŠ æ ‡ç­¾</span><br>plt.ylabel(<span class="hljs-string">&quot;Calorie Burnage&quot;</span>)<br><br>plt.show()<br></code></pre></td></tr></table></figure><h2 id="4-1-æ ‡é¢˜"><a href="#4-1-æ ‡é¢˜" class="headerlink" title="4-1 æ ‡é¢˜"></a>4-1 æ ‡é¢˜</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>x = np.array([<span class="hljs-number">80</span>, <span class="hljs-number">85</span>, <span class="hljs-number">90</span>, <span class="hljs-number">95</span>, <span class="hljs-number">100</span>, <span class="hljs-number">105</span>, <span class="hljs-number">110</span>, <span class="hljs-number">115</span>, <span class="hljs-number">120</span>, <span class="hljs-number">125</span>])<br>y = np.array([<span class="hljs-number">240</span>, <span class="hljs-number">250</span>, <span class="hljs-number">260</span>, <span class="hljs-number">270</span>, <span class="hljs-number">280</span>, <span class="hljs-number">290</span>, <span class="hljs-number">300</span>, <span class="hljs-number">310</span>, <span class="hljs-number">320</span>, <span class="hljs-number">330</span>])<br><br>plt.plot(x, y)<br><br>plt.title(<span class="hljs-string">&quot;Sports Watch Data&quot;</span>)                  <span class="hljs-comment"># ä¸ºxè½´å’Œyè½´æ·»åŠ æ ‡é¢˜</span><br>plt.xlabel(<span class="hljs-string">&quot;Average Pulse&quot;</span>)                     <span class="hljs-comment"># å‘xè½´å’Œyè½´æ·»åŠ æ ‡ç­¾</span><br>plt.ylabel(<span class="hljs-string">&quot;Calorie Burnage&quot;</span>)<br><br>plt.show()<br></code></pre></td></tr></table></figure><h2 id="4-2-å­—ä½“å±æ€§"><a href="#4-2-å­—ä½“å±æ€§" class="headerlink" title="4-2 å­—ä½“å±æ€§"></a>4-2 å­—ä½“å±æ€§</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>x = np.array([<span class="hljs-number">80</span>, <span class="hljs-number">85</span>, <span class="hljs-number">90</span>, <span class="hljs-number">95</span>, <span class="hljs-number">100</span>, <span class="hljs-number">105</span>, <span class="hljs-number">110</span>, <span class="hljs-number">115</span>, <span class="hljs-number">120</span>, <span class="hljs-number">125</span>])<br>y = np.array([<span class="hljs-number">240</span>, <span class="hljs-number">250</span>, <span class="hljs-number">260</span>, <span class="hljs-number">270</span>, <span class="hljs-number">280</span>, <span class="hljs-number">290</span>, <span class="hljs-number">300</span>, <span class="hljs-number">310</span>, <span class="hljs-number">320</span>, <span class="hljs-number">330</span>])<br><br>font1 = &#123;<span class="hljs-string">&#x27;family&#x27;</span>: <span class="hljs-string">&#x27;serif&#x27;</span>, <span class="hljs-string">&#x27;color&#x27;</span>: <span class="hljs-string">&#x27;blue&#x27;</span>, <span class="hljs-string">&#x27;size&#x27;</span>: <span class="hljs-number">20</span>&#125;<br>font2 = &#123;<span class="hljs-string">&#x27;family&#x27;</span>: <span class="hljs-string">&#x27;serif&#x27;</span>, <span class="hljs-string">&#x27;color&#x27;</span>: <span class="hljs-string">&#x27;darkred&#x27;</span>, <span class="hljs-string">&#x27;size&#x27;</span>: <span class="hljs-number">15</span>&#125;<br><br>plt.title(<span class="hljs-string">&quot;Sports Watch Data&quot;</span>, fontdict=font1)  <span class="hljs-comment"># è®¾ç½®æ ‡é¢˜å’Œæ ‡ç­¾çš„å­—ä½“å±æ€§</span><br>plt.xlabel(<span class="hljs-string">&quot;Average Pulse&quot;</span>, fontdict=font2)<br>plt.ylabel(<span class="hljs-string">&quot;Calorie Burnage&quot;</span>, fontdict=font2)<br><br>plt.plot(x, y)<br>plt.show()<br></code></pre></td></tr></table></figure><h2 id="4-3-å®šä½æ ‡é¢˜"><a href="#4-3-å®šä½æ ‡é¢˜" class="headerlink" title="4-3 å®šä½æ ‡é¢˜"></a>4-3 å®šä½æ ‡é¢˜</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>x = np.array([<span class="hljs-number">80</span>, <span class="hljs-number">85</span>, <span class="hljs-number">90</span>, <span class="hljs-number">95</span>, <span class="hljs-number">100</span>, <span class="hljs-number">105</span>, <span class="hljs-number">110</span>, <span class="hljs-number">115</span>, <span class="hljs-number">120</span>, <span class="hljs-number">125</span>])<br>y = np.array([<span class="hljs-number">240</span>, <span class="hljs-number">250</span>, <span class="hljs-number">260</span>, <span class="hljs-number">270</span>, <span class="hljs-number">280</span>, <span class="hljs-number">290</span>, <span class="hljs-number">300</span>, <span class="hljs-number">310</span>, <span class="hljs-number">320</span>, <span class="hljs-number">330</span>])<br><br>plt.title(<span class="hljs-string">&quot;Sports Watch Data&quot;</span>, loc=<span class="hljs-string">&#x27;left&#x27;</span>)      <span class="hljs-comment"># åˆæ³•å€¼ä¸ºleftã€rightå’Œcenterï¼Œé»˜è®¤å€¼ä¸ºcenter</span><br>plt.xlabel(<span class="hljs-string">&quot;Average Pulse&quot;</span>)<br>plt.ylabel(<span class="hljs-string">&quot;Calorie Burnage&quot;</span>)<br><br>plt.plot(x, y)<br>plt.show()<br></code></pre></td></tr></table></figure><h1 id="5-æ·»åŠ ç½‘æ ¼"><a href="#5-æ·»åŠ ç½‘æ ¼" class="headerlink" title="5 æ·»åŠ ç½‘æ ¼"></a>5 æ·»åŠ ç½‘æ ¼</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>x = np.array([<span class="hljs-number">80</span>, <span class="hljs-number">85</span>, <span class="hljs-number">90</span>, <span class="hljs-number">95</span>, <span class="hljs-number">100</span>, <span class="hljs-number">105</span>, <span class="hljs-number">110</span>, <span class="hljs-number">115</span>, <span class="hljs-number">120</span>, <span class="hljs-number">125</span>])<br>y = np.array([<span class="hljs-number">240</span>, <span class="hljs-number">250</span>, <span class="hljs-number">260</span>, <span class="hljs-number">270</span>, <span class="hljs-number">280</span>, <span class="hljs-number">290</span>, <span class="hljs-number">300</span>, <span class="hljs-number">310</span>, <span class="hljs-number">320</span>, <span class="hljs-number">330</span>])<br><br>plt.title(<span class="hljs-string">&quot;Sports Watch Data&quot;</span>)<br>plt.xlabel(<span class="hljs-string">&quot;Average Pulse&quot;</span>)<br>plt.ylabel(<span class="hljs-string">&quot;Calorie Burnage&quot;</span>)<br><br>plt.plot(x, y)<br>plt.grid()                                      <span class="hljs-comment"># æ·»åŠ ç½‘æ ¼çº¿</span><br>plt.show()<br></code></pre></td></tr></table></figure><h2 id="5-1-xè½´ç½‘æ ¼"><a href="#5-1-xè½´ç½‘æ ¼" class="headerlink" title="5-1 xè½´ç½‘æ ¼"></a>5-1 xè½´ç½‘æ ¼</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>x = np.array([<span class="hljs-number">80</span>, <span class="hljs-number">85</span>, <span class="hljs-number">90</span>, <span class="hljs-number">95</span>, <span class="hljs-number">100</span>, <span class="hljs-number">105</span>, <span class="hljs-number">110</span>, <span class="hljs-number">115</span>, <span class="hljs-number">120</span>, <span class="hljs-number">125</span>])<br>y = np.array([<span class="hljs-number">240</span>, <span class="hljs-number">250</span>, <span class="hljs-number">260</span>, <span class="hljs-number">270</span>, <span class="hljs-number">280</span>, <span class="hljs-number">290</span>, <span class="hljs-number">300</span>, <span class="hljs-number">310</span>, <span class="hljs-number">320</span>, <span class="hljs-number">330</span>])<br><br>plt.title(<span class="hljs-string">&quot;Sports Watch Data&quot;</span>)<br>plt.xlabel(<span class="hljs-string">&quot;Average Pulse&quot;</span>)<br>plt.ylabel(<span class="hljs-string">&quot;Calorie Burnage&quot;</span>)<br><br>plt.plot(x, y)<br>plt.grid(axis=<span class="hljs-string">&#x27;x&#x27;</span>)                              <span class="hljs-comment"># xè½´ç½‘æ ¼çº¿</span><br>plt.show()<br></code></pre></td></tr></table></figure><h2 id="5-2-yè½´ç½‘æ ¼"><a href="#5-2-yè½´ç½‘æ ¼" class="headerlink" title="5-2 yè½´ç½‘æ ¼"></a>5-2 yè½´ç½‘æ ¼</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>x = np.array([<span class="hljs-number">80</span>, <span class="hljs-number">85</span>, <span class="hljs-number">90</span>, <span class="hljs-number">95</span>, <span class="hljs-number">100</span>, <span class="hljs-number">105</span>, <span class="hljs-number">110</span>, <span class="hljs-number">115</span>, <span class="hljs-number">120</span>, <span class="hljs-number">125</span>])<br>y = np.array([<span class="hljs-number">240</span>, <span class="hljs-number">250</span>, <span class="hljs-number">260</span>, <span class="hljs-number">270</span>, <span class="hljs-number">280</span>, <span class="hljs-number">290</span>, <span class="hljs-number">300</span>, <span class="hljs-number">310</span>, <span class="hljs-number">320</span>, <span class="hljs-number">330</span>])<br><br>plt.title(<span class="hljs-string">&quot;Sports Watch Data&quot;</span>)<br>plt.xlabel(<span class="hljs-string">&quot;Average Pulse&quot;</span>)<br>plt.ylabel(<span class="hljs-string">&quot;Calorie Burnage&quot;</span>)<br><br>plt.plot(x, y)<br>plt.grid(axis=<span class="hljs-string">&#x27;y&#x27;</span>)                              <span class="hljs-comment"># yè½´ç½‘æ ¼çº¿</span><br>plt.show()<br></code></pre></td></tr></table></figure><h2 id="5-3-ç½‘æ ¼çº¿å±æ€§"><a href="#5-3-ç½‘æ ¼çº¿å±æ€§" class="headerlink" title="5-3 ç½‘æ ¼çº¿å±æ€§"></a>5-3 ç½‘æ ¼çº¿å±æ€§</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>x = np.array([<span class="hljs-number">80</span>, <span class="hljs-number">85</span>, <span class="hljs-number">90</span>, <span class="hljs-number">95</span>, <span class="hljs-number">100</span>, <span class="hljs-number">105</span>, <span class="hljs-number">110</span>, <span class="hljs-number">115</span>, <span class="hljs-number">120</span>, <span class="hljs-number">125</span>])<br>y = np.array([<span class="hljs-number">240</span>, <span class="hljs-number">250</span>, <span class="hljs-number">260</span>, <span class="hljs-number">270</span>, <span class="hljs-number">280</span>, <span class="hljs-number">290</span>, <span class="hljs-number">300</span>, <span class="hljs-number">310</span>, <span class="hljs-number">320</span>, <span class="hljs-number">330</span>])<br><br>plt.title(<span class="hljs-string">&quot;Sports Watch Data&quot;</span>)<br>plt.xlabel(<span class="hljs-string">&quot;Average Pulse&quot;</span>)<br>plt.ylabel(<span class="hljs-string">&quot;Calorie Burnage&quot;</span>)<br><br>plt.plot(x, y)<br>plt.grid(color=<span class="hljs-string">&#x27;green&#x27;</span>, linestyle=<span class="hljs-string">&#x27;--&#x27;</span>, linewidth=<span class="hljs-number">0.5</span>)<br>plt.show()<br></code></pre></td></tr></table></figure><h1 id="6-ç»˜åˆ¶å­å›¾"><a href="#6-ç»˜åˆ¶å­å›¾" class="headerlink" title="6 ç»˜åˆ¶å­å›¾"></a>6 ç»˜åˆ¶å­å›¾</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>x = np.array([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])<br>y = np.array([<span class="hljs-number">3</span>, <span class="hljs-number">8</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>])<br>plt.subplot(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>)<br>plt.plot(x, y)                                  <span class="hljs-comment"># ç»˜åˆ¶2ä¸ªå›¾ï¼Œplot 1ï¼Œå¸ƒå±€æŒ‰è¡Œå’Œåˆ—ç»„ç»‡</span><br><br>x = np.array([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])<br>y = np.array([<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>, <span class="hljs-number">40</span>])<br>plt.subplot(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>)<br>plt.plot(x, y)                                  <span class="hljs-comment"># ç»˜åˆ¶2ä¸ªå›¾ï¼Œplot 2ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°æŒ‡å½“å‰å›¾çš„ç´¢å¼•</span><br><br>plt.show()<br></code></pre></td></tr></table></figure><h2 id="6-1-å½¼æ­¤ç»˜åˆ¶"><a href="#6-1-å½¼æ­¤ç»˜åˆ¶" class="headerlink" title="6-1 å½¼æ­¤ç»˜åˆ¶"></a>6-1 å½¼æ­¤ç»˜åˆ¶</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>x = np.array([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])<br>y = np.array([<span class="hljs-number">3</span>, <span class="hljs-number">8</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>])<br>plt.subplot(<span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>)<br>plt.plot(x, y)                                  <span class="hljs-comment"># plot 1</span><br><br>x = np.array([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])<br>y = np.array([<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>, <span class="hljs-number">40</span>])<br>plt.subplot(<span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>)<br>plt.plot(x, y)                                  <span class="hljs-comment"># plot 2</span><br><br>plt.show()<br></code></pre></td></tr></table></figure><h2 id="6-2-ç»˜åˆ¶6ä¸ªå›¾"><a href="#6-2-ç»˜åˆ¶6ä¸ªå›¾" class="headerlink" title="6-2 ç»˜åˆ¶6ä¸ªå›¾"></a>6-2 ç»˜åˆ¶6ä¸ªå›¾</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>x = np.array([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])<br>y = np.array([<span class="hljs-number">3</span>, <span class="hljs-number">8</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>])<br>plt.subplot(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>)<br>plt.plot(x, y)<br><br>x = np.array([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])<br>y = np.array([<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>, <span class="hljs-number">40</span>])<br>plt.subplot(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>)<br>plt.plot(x, y)<br><br>x = np.array([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])<br>y = np.array([<span class="hljs-number">3</span>, <span class="hljs-number">8</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>])<br>plt.subplot(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>)<br>plt.plot(x, y)<br><br>x = np.array([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])<br>y = np.array([<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>, <span class="hljs-number">40</span>])<br>plt.subplot(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>)<br>plt.plot(x, y)<br><br>x = np.array([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])<br>y = np.array([<span class="hljs-number">3</span>, <span class="hljs-number">8</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>])<br>plt.subplot(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>)<br>plt.plot(x, y)<br><br>x = np.array([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])<br>y = np.array([<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>, <span class="hljs-number">40</span>])<br>plt.subplot(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">6</span>)<br>plt.plot(x, y)<br><br>plt.show()<br></code></pre></td></tr></table></figure><h2 id="6-3-æ¯å›¾æ·»åŠ æ ‡é¢˜"><a href="#6-3-æ¯å›¾æ·»åŠ æ ‡é¢˜" class="headerlink" title="6-3 æ¯å›¾æ·»åŠ æ ‡é¢˜"></a>6-3 æ¯å›¾æ·»åŠ æ ‡é¢˜</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>x = np.array([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])<br>y = np.array([<span class="hljs-number">3</span>, <span class="hljs-number">8</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>])<br>plt.subplot(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>)<br>plt.plot(x, y)                                  <span class="hljs-comment"># plot 1</span><br>plt.title(<span class="hljs-string">&quot;SALES&quot;</span>)<br><br>x = np.array([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])<br>y = np.array([<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>, <span class="hljs-number">40</span>])<br>plt.subplot(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>)<br>plt.plot(x, y)                                  <span class="hljs-comment"># plot 2</span><br>plt.title(<span class="hljs-string">&quot;INCOME&quot;</span>)<br><br>plt.show()<br></code></pre></td></tr></table></figure><h2 id="6-4-æ·»åŠ è¶…ææ ‡é¢˜"><a href="#6-4-æ·»åŠ è¶…ææ ‡é¢˜" class="headerlink" title="6-4 æ·»åŠ è¶…ææ ‡é¢˜"></a>6-4 æ·»åŠ è¶…ææ ‡é¢˜</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>x = np.array([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])<br>y = np.array([<span class="hljs-number">3</span>, <span class="hljs-number">8</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>])<br>plt.subplot(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>)<br>plt.plot(x, y)                                  <span class="hljs-comment"># plot 1</span><br>plt.title(<span class="hljs-string">&quot;SALES&quot;</span>)<br><br>x = np.array([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])<br>y = np.array([<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>, <span class="hljs-number">40</span>])<br>plt.subplot(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>)<br>plt.plot(x, y)                                  <span class="hljs-comment"># plot 2</span><br>plt.title(<span class="hljs-string">&quot;INCOME&quot;</span>)<br><br>plt.suptitle(<span class="hljs-string">&quot;MY SHOP&quot;</span>)                         <span class="hljs-comment"># è¶…çº§æ ‡é¢˜</span><br>plt.show()<br></code></pre></td></tr></table></figure><h1 id="7-ç»˜åˆ¶å›¾å½¢"><a href="#7-ç»˜åˆ¶å›¾å½¢" class="headerlink" title="7 ç»˜åˆ¶å›¾å½¢"></a>7 ç»˜åˆ¶å›¾å½¢</h1><ul><li>ç»˜åˆ¶å›¾å½¢<ul><li>æ•£ç‚¹å›¾ï¼š<code>scatter()</code>å‡½æ•°ï¼Œéœ€è¦ä¸¤ä¸ªç›¸åŒé•¿åº¦çš„æ•°ç»„ï¼Œé¢œè‰²å›¾å‚è€ƒ<a href="https://www.w3schools.com/python/matplotlib_scatter.asp">Available ColorMaps</a>ã€‚</li><li>æ¡å½¢å›¾ï¼š<code>bar()</code>å‡½æ•°ï¼Œä½¿ç”¨<code>width</code>å’Œ<code>height</code>è®¾ç½®å‚ç›´æ¡å’Œæ°´å¹³æ¡çš„å®½åº¦ï¼Œé»˜è®¤å€¼ä¸º0.8ã€‚</li><li>ç›´æ–¹å›¾ï¼š<code>hist()</code>å‡½æ•°ï¼Œä½¿ç”¨ä¸€ä¸ªæ•°å­—æ•°ç»„æ¥åˆ›å»ºç›´æ–¹å›¾ï¼Œè¯¥æ•°ç»„ä½œä¸ºå‚æ•°å‘é€åˆ°å‡½æ•°ä¸­ã€‚</li><li>é¥¼çŠ¶å›¾ï¼š<code>pie()</code>å‡½æ•°ï¼Œç¬¬ä¸€ä¸ªæ¥”å½¢çš„ç»˜åˆ¶ä»xè½´å¼€å§‹(å³èµ·å§‹è§’ä¸º0Â°å¼€å§‹)ï¼Œå¹¶é€†æ—¶é’ˆç§»åŠ¨ã€‚<ul><li>æ¥”å½¢é¢œè‰²å¯ä»¥ä½¿ç”¨åå…­è¿›åˆ¶é¢œè‰²å€¼ã€ä¹Ÿå¯ä»¥ä½¿ç”¨140ç§æ”¯æŒçš„é¢œè‰²åç§°ã€‚</li><li>æˆ–<code>&#39;r&#39;</code>ã€<code>&#39;g&#39;</code>ã€<code>&#39;b&#39;</code>ã€<code>&#39;c&#39;</code>ã€<code>&#39;m&#39;</code>ã€<code>&#39;y&#39;</code>ã€<code>&#39;k&#39;</code>ã€<code>&#39;w&#39;</code>ç­‰å¿«æ·æ–¹å¼ã€‚</li></ul></li></ul></li></ul><h2 id="7-1-æ•£ç‚¹å›¾"><a href="#7-1-æ•£ç‚¹å›¾" class="headerlink" title="7-1 æ•£ç‚¹å›¾"></a>7-1 æ•£ç‚¹å›¾</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>x = np.array([<span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">7</span>, <span class="hljs-number">2</span>, <span class="hljs-number">17</span>, <span class="hljs-number">2</span>, <span class="hljs-number">9</span>, <span class="hljs-number">4</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">9</span>, <span class="hljs-number">6</span>])<br>y = np.array([<span class="hljs-number">99</span>, <span class="hljs-number">86</span>, <span class="hljs-number">87</span>, <span class="hljs-number">88</span>, <span class="hljs-number">111</span>, <span class="hljs-number">86</span>, <span class="hljs-number">103</span>, <span class="hljs-number">87</span>, <span class="hljs-number">94</span>, <span class="hljs-number">78</span>, <span class="hljs-number">77</span>, <span class="hljs-number">85</span>, <span class="hljs-number">86</span>])<br><br>plt.scatter(x, y)<br>plt.show()<br></code></pre></td></tr></table></figure><h4 id="1-æ¯”è¾ƒå›¾"><a href="#1-æ¯”è¾ƒå›¾" class="headerlink" title="(1) æ¯”è¾ƒå›¾"></a>(1) æ¯”è¾ƒå›¾</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>x = np.array([<span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">7</span>, <span class="hljs-number">2</span>, <span class="hljs-number">17</span>, <span class="hljs-number">2</span>, <span class="hljs-number">9</span>, <span class="hljs-number">4</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">9</span>, <span class="hljs-number">6</span>])<br>y = np.array([<span class="hljs-number">99</span>, <span class="hljs-number">86</span>, <span class="hljs-number">87</span>, <span class="hljs-number">88</span>, <span class="hljs-number">111</span>, <span class="hljs-number">86</span>, <span class="hljs-number">103</span>, <span class="hljs-number">87</span>, <span class="hljs-number">94</span>, <span class="hljs-number">78</span>, <span class="hljs-number">77</span>, <span class="hljs-number">85</span>, <span class="hljs-number">86</span>])<br>plt.scatter(x, y)<br><br>x = np.array([<span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">8</span>, <span class="hljs-number">1</span>, <span class="hljs-number">15</span>, <span class="hljs-number">8</span>, <span class="hljs-number">12</span>, <span class="hljs-number">9</span>, <span class="hljs-number">7</span>, <span class="hljs-number">3</span>, <span class="hljs-number">11</span>, <span class="hljs-number">4</span>, <span class="hljs-number">7</span>, <span class="hljs-number">14</span>, <span class="hljs-number">12</span>])<br>y = np.array([<span class="hljs-number">100</span>, <span class="hljs-number">105</span>, <span class="hljs-number">84</span>, <span class="hljs-number">105</span>, <span class="hljs-number">90</span>, <span class="hljs-number">99</span>, <span class="hljs-number">90</span>, <span class="hljs-number">95</span>, <span class="hljs-number">94</span>, <span class="hljs-number">100</span>, <span class="hljs-number">79</span>, <span class="hljs-number">112</span>, <span class="hljs-number">91</span>, <span class="hljs-number">80</span>, <span class="hljs-number">85</span>])<br>plt.scatter(x, y)<br><br>plt.show()<br></code></pre></td></tr></table></figure><h4 id="2-è®¾ç½®é¢œè‰²"><a href="#2-è®¾ç½®é¢œè‰²" class="headerlink" title="(2) è®¾ç½®é¢œè‰²"></a>(2) è®¾ç½®é¢œè‰²</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>x = np.array([<span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">7</span>, <span class="hljs-number">2</span>, <span class="hljs-number">17</span>, <span class="hljs-number">2</span>, <span class="hljs-number">9</span>, <span class="hljs-number">4</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">9</span>, <span class="hljs-number">6</span>])<br>y = np.array([<span class="hljs-number">99</span>, <span class="hljs-number">86</span>, <span class="hljs-number">87</span>, <span class="hljs-number">88</span>, <span class="hljs-number">111</span>, <span class="hljs-number">86</span>, <span class="hljs-number">103</span>, <span class="hljs-number">87</span>, <span class="hljs-number">94</span>, <span class="hljs-number">78</span>, <span class="hljs-number">77</span>, <span class="hljs-number">85</span>, <span class="hljs-number">86</span>])<br>plt.scatter(x, y, color=<span class="hljs-string">&#x27;hotpink&#x27;</span>)<br><br>x = np.array([<span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">8</span>, <span class="hljs-number">1</span>, <span class="hljs-number">15</span>, <span class="hljs-number">8</span>, <span class="hljs-number">12</span>, <span class="hljs-number">9</span>, <span class="hljs-number">7</span>, <span class="hljs-number">3</span>, <span class="hljs-number">11</span>, <span class="hljs-number">4</span>, <span class="hljs-number">7</span>, <span class="hljs-number">14</span>, <span class="hljs-number">12</span>])<br>y = np.array([<span class="hljs-number">100</span>, <span class="hljs-number">105</span>, <span class="hljs-number">84</span>, <span class="hljs-number">105</span>, <span class="hljs-number">90</span>, <span class="hljs-number">99</span>, <span class="hljs-number">90</span>, <span class="hljs-number">95</span>, <span class="hljs-number">94</span>, <span class="hljs-number">100</span>, <span class="hljs-number">79</span>, <span class="hljs-number">112</span>, <span class="hljs-number">91</span>, <span class="hljs-number">80</span>, <span class="hljs-number">85</span>])<br>plt.scatter(x, y, color=<span class="hljs-string">&#x27;#88c999&#x27;</span>)<br><br>plt.show()<br></code></pre></td></tr></table></figure><h4 id="3-ç»™ç‚¹ä¸Šè‰²"><a href="#3-ç»™ç‚¹ä¸Šè‰²" class="headerlink" title="(3) ç»™ç‚¹ä¸Šè‰²"></a>(3) ç»™ç‚¹ä¸Šè‰²</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>x = np.array([<span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">7</span>, <span class="hljs-number">2</span>, <span class="hljs-number">17</span>, <span class="hljs-number">2</span>, <span class="hljs-number">9</span>, <span class="hljs-number">4</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">9</span>, <span class="hljs-number">6</span>])<br>y = np.array([<span class="hljs-number">99</span>, <span class="hljs-number">86</span>, <span class="hljs-number">87</span>, <span class="hljs-number">88</span>, <span class="hljs-number">111</span>, <span class="hljs-number">86</span>, <span class="hljs-number">103</span>, <span class="hljs-number">87</span>, <span class="hljs-number">94</span>, <span class="hljs-number">78</span>, <span class="hljs-number">77</span>, <span class="hljs-number">85</span>, <span class="hljs-number">86</span>])<br>colors = np.array(<br>    [<span class="hljs-string">&quot;red&quot;</span>, <span class="hljs-string">&quot;green&quot;</span>, <span class="hljs-string">&quot;blue&quot;</span>, <span class="hljs-string">&quot;yellow&quot;</span>, <span class="hljs-string">&quot;pink&quot;</span>, <span class="hljs-string">&quot;black&quot;</span>, <span class="hljs-string">&quot;orange&quot;</span>,<br>     <span class="hljs-string">&quot;purple&quot;</span>, <span class="hljs-string">&quot;beige&quot;</span>, <span class="hljs-string">&quot;brown&quot;</span>, <span class="hljs-string">&quot;gray&quot;</span>, <span class="hljs-string">&quot;cyan&quot;</span>, <span class="hljs-string">&quot;magenta&quot;</span>])<br><br>plt.scatter(x, y, c=colors)<br>plt.show()<br></code></pre></td></tr></table></figure><h4 id="4-ä½¿ç”¨é¢œè‰²å›¾"><a href="#4-ä½¿ç”¨é¢œè‰²å›¾" class="headerlink" title="(4) ä½¿ç”¨é¢œè‰²å›¾"></a>(4) ä½¿ç”¨é¢œè‰²å›¾</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>x = np.array([<span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">7</span>, <span class="hljs-number">2</span>, <span class="hljs-number">17</span>, <span class="hljs-number">2</span>, <span class="hljs-number">9</span>, <span class="hljs-number">4</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">9</span>, <span class="hljs-number">6</span>])<br>y = np.array([<span class="hljs-number">99</span>, <span class="hljs-number">86</span>, <span class="hljs-number">87</span>, <span class="hljs-number">88</span>, <span class="hljs-number">111</span>, <span class="hljs-number">86</span>, <span class="hljs-number">103</span>, <span class="hljs-number">87</span>, <span class="hljs-number">94</span>, <span class="hljs-number">78</span>, <span class="hljs-number">77</span>, <span class="hljs-number">85</span>, <span class="hljs-number">86</span>])<br>colors = np.array([<span class="hljs-number">0</span>, <span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>, <span class="hljs-number">40</span>, <span class="hljs-number">45</span>, <span class="hljs-number">50</span>, <span class="hljs-number">55</span>, <span class="hljs-number">60</span>, <span class="hljs-number">70</span>, <span class="hljs-number">80</span>, <span class="hljs-number">90</span>, <span class="hljs-number">100</span>])<br><br>plt.scatter(x, y, c=colors, cmap=<span class="hljs-string">&#x27;viridis&#x27;</span>)<br>plt.show()<br></code></pre></td></tr></table></figure><h4 id="5-åŒ…å«é¢œè‰²å›¾ä¾‹"><a href="#5-åŒ…å«é¢œè‰²å›¾ä¾‹" class="headerlink" title="(5) åŒ…å«é¢œè‰²å›¾ä¾‹"></a>(5) åŒ…å«é¢œè‰²å›¾ä¾‹</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>x = np.array([<span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">7</span>, <span class="hljs-number">2</span>, <span class="hljs-number">17</span>, <span class="hljs-number">2</span>, <span class="hljs-number">9</span>, <span class="hljs-number">4</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">9</span>, <span class="hljs-number">6</span>])<br>y = np.array([<span class="hljs-number">99</span>, <span class="hljs-number">86</span>, <span class="hljs-number">87</span>, <span class="hljs-number">88</span>, <span class="hljs-number">111</span>, <span class="hljs-number">86</span>, <span class="hljs-number">103</span>, <span class="hljs-number">87</span>, <span class="hljs-number">94</span>, <span class="hljs-number">78</span>, <span class="hljs-number">77</span>, <span class="hljs-number">85</span>, <span class="hljs-number">86</span>])<br>colors = np.array([<span class="hljs-number">0</span>, <span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>, <span class="hljs-number">40</span>, <span class="hljs-number">45</span>, <span class="hljs-number">50</span>, <span class="hljs-number">55</span>, <span class="hljs-number">60</span>, <span class="hljs-number">70</span>, <span class="hljs-number">80</span>, <span class="hljs-number">90</span>, <span class="hljs-number">100</span>])<br><br>plt.scatter(x, y, c=colors, cmap=<span class="hljs-string">&#x27;viridis&#x27;</span>)<br>plt.colorbar()<br>plt.show()<br></code></pre></td></tr></table></figure><h4 id="6-æ›´æ”¹ç‚¹çš„å¤§å°"><a href="#6-æ›´æ”¹ç‚¹çš„å¤§å°" class="headerlink" title="(6) æ›´æ”¹ç‚¹çš„å¤§å°"></a>(6) æ›´æ”¹ç‚¹çš„å¤§å°</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>x = np.array([<span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">7</span>, <span class="hljs-number">2</span>, <span class="hljs-number">17</span>, <span class="hljs-number">2</span>, <span class="hljs-number">9</span>, <span class="hljs-number">4</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">9</span>, <span class="hljs-number">6</span>])<br>y = np.array([<span class="hljs-number">99</span>, <span class="hljs-number">86</span>, <span class="hljs-number">87</span>, <span class="hljs-number">88</span>, <span class="hljs-number">111</span>, <span class="hljs-number">86</span>, <span class="hljs-number">103</span>, <span class="hljs-number">87</span>, <span class="hljs-number">94</span>, <span class="hljs-number">78</span>, <span class="hljs-number">77</span>, <span class="hljs-number">85</span>, <span class="hljs-number">86</span>])<br>sizes = np.array([<span class="hljs-number">20</span>, <span class="hljs-number">50</span>, <span class="hljs-number">100</span>, <span class="hljs-number">200</span>, <span class="hljs-number">500</span>, <span class="hljs-number">1000</span>, <span class="hljs-number">60</span>, <span class="hljs-number">90</span>, <span class="hljs-number">10</span>, <span class="hljs-number">300</span>, <span class="hljs-number">600</span>, <span class="hljs-number">800</span>, <span class="hljs-number">75</span>])<br><br>plt.scatter(x, y, s=sizes)<br>plt.show()<br></code></pre></td></tr></table></figure><h4 id="7-è°ƒæ•´ç‚¹çš„é€æ˜åº¦"><a href="#7-è°ƒæ•´ç‚¹çš„é€æ˜åº¦" class="headerlink" title="(7) è°ƒæ•´ç‚¹çš„é€æ˜åº¦"></a>(7) è°ƒæ•´ç‚¹çš„é€æ˜åº¦</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>x = np.array([<span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">7</span>, <span class="hljs-number">2</span>, <span class="hljs-number">17</span>, <span class="hljs-number">2</span>, <span class="hljs-number">9</span>, <span class="hljs-number">4</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">9</span>, <span class="hljs-number">6</span>])<br>y = np.array([<span class="hljs-number">99</span>, <span class="hljs-number">86</span>, <span class="hljs-number">87</span>, <span class="hljs-number">88</span>, <span class="hljs-number">111</span>, <span class="hljs-number">86</span>, <span class="hljs-number">103</span>, <span class="hljs-number">87</span>, <span class="hljs-number">94</span>, <span class="hljs-number">78</span>, <span class="hljs-number">77</span>, <span class="hljs-number">85</span>, <span class="hljs-number">86</span>])<br>sizes = np.array([<span class="hljs-number">20</span>, <span class="hljs-number">50</span>, <span class="hljs-number">100</span>, <span class="hljs-number">200</span>, <span class="hljs-number">500</span>, <span class="hljs-number">1000</span>, <span class="hljs-number">60</span>, <span class="hljs-number">90</span>, <span class="hljs-number">10</span>, <span class="hljs-number">300</span>, <span class="hljs-number">600</span>, <span class="hljs-number">800</span>, <span class="hljs-number">75</span>])<br><br>plt.scatter(x, y, s=sizes, alpha=<span class="hljs-number">0.5</span>)<br>plt.show()<br></code></pre></td></tr></table></figure><h4 id="8-é¢œè‰²ç»“åˆé€æ˜åº¦"><a href="#8-é¢œè‰²ç»“åˆé€æ˜åº¦" class="headerlink" title="(8) é¢œè‰²ç»“åˆé€æ˜åº¦"></a>(8) é¢œè‰²ç»“åˆé€æ˜åº¦</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>x = np.random.randint(<span class="hljs-number">100</span>, size=<span class="hljs-number">100</span>)<br>y = np.random.randint(<span class="hljs-number">100</span>, size=<span class="hljs-number">100</span>)<br>colors = np.random.randint(<span class="hljs-number">100</span>, size=<span class="hljs-number">100</span>)<br>sizes = <span class="hljs-number">10</span> * np.random.randint(<span class="hljs-number">100</span>, size=<span class="hljs-number">100</span>)<br><br>plt.scatter(x, y, c=colors, s=sizes, alpha=<span class="hljs-number">0.5</span>, cmap=<span class="hljs-string">&#x27;nipy_spectral&#x27;</span>)<br>plt.colorbar()<br>plt.show()<br></code></pre></td></tr></table></figure><h2 id="7-2-æ¡å½¢å›¾"><a href="#7-2-æ¡å½¢å›¾" class="headerlink" title="7-2 æ¡å½¢å›¾"></a>7-2 æ¡å½¢å›¾</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>x = np.array([<span class="hljs-string">&quot;A&quot;</span>, <span class="hljs-string">&quot;B&quot;</span>, <span class="hljs-string">&quot;C&quot;</span>, <span class="hljs-string">&quot;D&quot;</span>])<br>y = np.array([<span class="hljs-number">3</span>, <span class="hljs-number">8</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>])<br><br>plt.bar(x, y)<br>plt.show()<br></code></pre></td></tr></table></figure><h4 id="1-æ°´å¹³æ˜¾ç¤º"><a href="#1-æ°´å¹³æ˜¾ç¤º" class="headerlink" title="(1) æ°´å¹³æ˜¾ç¤º"></a>(1) æ°´å¹³æ˜¾ç¤º</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>x = np.array([<span class="hljs-string">&quot;A&quot;</span>, <span class="hljs-string">&quot;B&quot;</span>, <span class="hljs-string">&quot;C&quot;</span>, <span class="hljs-string">&quot;D&quot;</span>])<br>y = np.array([<span class="hljs-number">3</span>, <span class="hljs-number">8</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>])<br><br>plt.barh(x, y)<br>plt.show()<br></code></pre></td></tr></table></figure><h4 id="2-æ¡å½¢é¢œè‰²"><a href="#2-æ¡å½¢é¢œè‰²" class="headerlink" title="(2) æ¡å½¢é¢œè‰²"></a>(2) æ¡å½¢é¢œè‰²</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>x = np.array([<span class="hljs-string">&quot;A&quot;</span>, <span class="hljs-string">&quot;B&quot;</span>, <span class="hljs-string">&quot;C&quot;</span>, <span class="hljs-string">&quot;D&quot;</span>])<br>y = np.array([<span class="hljs-number">3</span>, <span class="hljs-number">8</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>])<br><br>plt.bar(x, y, color=<span class="hljs-string">&#x27;red&#x27;</span>)<br>plt.show()<br></code></pre></td></tr></table></figure><h4 id="3-åå…­è¿›åˆ¶é¢œè‰²å€¼"><a href="#3-åå…­è¿›åˆ¶é¢œè‰²å€¼" class="headerlink" title="(3) åå…­è¿›åˆ¶é¢œè‰²å€¼"></a>(3) åå…­è¿›åˆ¶é¢œè‰²å€¼</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>x = np.array([<span class="hljs-string">&quot;A&quot;</span>, <span class="hljs-string">&quot;B&quot;</span>, <span class="hljs-string">&quot;C&quot;</span>, <span class="hljs-string">&quot;D&quot;</span>])<br>y = np.array([<span class="hljs-number">3</span>, <span class="hljs-number">8</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>])<br><br>plt.bar(x, y, color=<span class="hljs-string">&#x27;#4CAF50&#x27;</span>)<br>plt.show()<br></code></pre></td></tr></table></figure><h4 id="4-140ç§æ”¯æŒçš„é¢œè‰²"><a href="#4-140ç§æ”¯æŒçš„é¢œè‰²" class="headerlink" title="(4) 140ç§æ”¯æŒçš„é¢œè‰²"></a>(4) 140ç§æ”¯æŒçš„é¢œè‰²</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>x = np.array([<span class="hljs-string">&quot;A&quot;</span>, <span class="hljs-string">&quot;B&quot;</span>, <span class="hljs-string">&quot;C&quot;</span>, <span class="hljs-string">&quot;D&quot;</span>])<br>y = np.array([<span class="hljs-number">3</span>, <span class="hljs-number">8</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>])<br><br>plt.bar(x, y, color=<span class="hljs-string">&#x27;hotpink&#x27;</span>)<br>plt.show()<br></code></pre></td></tr></table></figure><h4 id="5-è®¾ç½®å‚ç›´æ¡çš„å®½åº¦"><a href="#5-è®¾ç½®å‚ç›´æ¡çš„å®½åº¦" class="headerlink" title="(5) è®¾ç½®å‚ç›´æ¡çš„å®½åº¦"></a>(5) è®¾ç½®å‚ç›´æ¡çš„å®½åº¦</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>x = np.array([<span class="hljs-string">&quot;A&quot;</span>, <span class="hljs-string">&quot;B&quot;</span>, <span class="hljs-string">&quot;C&quot;</span>, <span class="hljs-string">&quot;D&quot;</span>])<br>y = np.array([<span class="hljs-number">3</span>, <span class="hljs-number">8</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>])<br><br>plt.bar(x, y, width=<span class="hljs-number">0.1</span>)<br>plt.show()<br></code></pre></td></tr></table></figure><h4 id="6-è®¾ç½®æ°´å¹³æ¡çš„é«˜åº¦"><a href="#6-è®¾ç½®æ°´å¹³æ¡çš„é«˜åº¦" class="headerlink" title="(6) è®¾ç½®æ°´å¹³æ¡çš„é«˜åº¦"></a>(6) è®¾ç½®æ°´å¹³æ¡çš„é«˜åº¦</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>x = np.array([<span class="hljs-string">&quot;A&quot;</span>, <span class="hljs-string">&quot;B&quot;</span>, <span class="hljs-string">&quot;C&quot;</span>, <span class="hljs-string">&quot;D&quot;</span>])<br>y = np.array([<span class="hljs-number">3</span>, <span class="hljs-number">8</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>])<br><br>plt.barh(x, y, height=<span class="hljs-number">0.1</span>)<br>plt.show()<br></code></pre></td></tr></table></figure><h2 id="7-3-ç›´æ–¹å›¾"><a href="#7-3-ç›´æ–¹å›¾" class="headerlink" title="7-3 ç›´æ–¹å›¾"></a>7-3 ç›´æ–¹å›¾</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>x = np.random.normal(<span class="hljs-number">170</span>, <span class="hljs-number">10</span>, <span class="hljs-number">250</span>)<br><br>plt.hist(x)<br>plt.show()<br></code></pre></td></tr></table></figure><h2 id="7-4-é¥¼çŠ¶å›¾"><a href="#7-4-é¥¼çŠ¶å›¾" class="headerlink" title="7-4 é¥¼çŠ¶å›¾"></a>7-4 é¥¼çŠ¶å›¾</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>y = np.array([<span class="hljs-number">35</span>, <span class="hljs-number">25</span>, <span class="hljs-number">25</span>, <span class="hljs-number">15</span>])<br><br>plt.pie(y)<br>plt.show()<br></code></pre></td></tr></table></figure><h4 id="1-æ ‡ç­¾"><a href="#1-æ ‡ç­¾" class="headerlink" title="(1) æ ‡ç­¾"></a>(1) æ ‡ç­¾</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>y = np.array([<span class="hljs-number">35</span>, <span class="hljs-number">25</span>, <span class="hljs-number">25</span>, <span class="hljs-number">15</span>])<br>labels = [<span class="hljs-string">&quot;Apples&quot;</span>, <span class="hljs-string">&quot;Bananas&quot;</span>, <span class="hljs-string">&quot;Cherries&quot;</span>, <span class="hljs-string">&quot;Dates&quot;</span>]<br><br>plt.pie(y, labels=labels)<br>plt.show()<br></code></pre></td></tr></table></figure><h4 id="2-èµ·å§‹è§’"><a href="#2-èµ·å§‹è§’" class="headerlink" title="(2) èµ·å§‹è§’"></a>(2) èµ·å§‹è§’</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>y = np.array([<span class="hljs-number">35</span>, <span class="hljs-number">25</span>, <span class="hljs-number">25</span>, <span class="hljs-number">15</span>])<br>labels = [<span class="hljs-string">&quot;Apples&quot;</span>, <span class="hljs-string">&quot;Bananas&quot;</span>, <span class="hljs-string">&quot;Cherries&quot;</span>, <span class="hljs-string">&quot;Dates&quot;</span>]<br><br>plt.pie(y, labels=labels, startangle=<span class="hljs-number">90</span>)<br>plt.show()<br></code></pre></td></tr></table></figure><h4 id="3-æ¥”å½¢è„±ç¦»"><a href="#3-æ¥”å½¢è„±ç¦»" class="headerlink" title="(3) æ¥”å½¢è„±ç¦»"></a>(3) æ¥”å½¢è„±ç¦»</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>y = np.array([<span class="hljs-number">35</span>, <span class="hljs-number">25</span>, <span class="hljs-number">25</span>, <span class="hljs-number">15</span>])<br>labels = [<span class="hljs-string">&quot;Apples&quot;</span>, <span class="hljs-string">&quot;Bananas&quot;</span>, <span class="hljs-string">&quot;Cherries&quot;</span>, <span class="hljs-string">&quot;Dates&quot;</span>]<br>explode = [<span class="hljs-number">0.2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>]<br><br>plt.pie(y, labels=labels, explode=explode)<br>plt.show()<br></code></pre></td></tr></table></figure><h4 id="4-é¥¼å›¾é˜´å½±"><a href="#4-é¥¼å›¾é˜´å½±" class="headerlink" title="(4) é¥¼å›¾é˜´å½±"></a>(4) é¥¼å›¾é˜´å½±</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>y = np.array([<span class="hljs-number">35</span>, <span class="hljs-number">25</span>, <span class="hljs-number">25</span>, <span class="hljs-number">15</span>])<br>labels = [<span class="hljs-string">&quot;Apples&quot;</span>, <span class="hljs-string">&quot;Bananas&quot;</span>, <span class="hljs-string">&quot;Cherries&quot;</span>, <span class="hljs-string">&quot;Dates&quot;</span>]<br>explode = [<span class="hljs-number">0.2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>]<br><br>plt.pie(y, labels=labels, explode=explode, shadow=<span class="hljs-literal">True</span>)<br>plt.show()<br></code></pre></td></tr></table></figure><h4 id="5-æ¥”å½¢é¢œè‰²"><a href="#5-æ¥”å½¢é¢œè‰²" class="headerlink" title="(5) æ¥”å½¢é¢œè‰²"></a>(5) æ¥”å½¢é¢œè‰²</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>y = np.array([<span class="hljs-number">35</span>, <span class="hljs-number">25</span>, <span class="hljs-number">25</span>, <span class="hljs-number">15</span>])<br>labels = [<span class="hljs-string">&quot;Apples&quot;</span>, <span class="hljs-string">&quot;Bananas&quot;</span>, <span class="hljs-string">&quot;Cherries&quot;</span>, <span class="hljs-string">&quot;Dates&quot;</span>]<br>colors = [<span class="hljs-string">&#x27;black&#x27;</span>, <span class="hljs-string">&#x27;hotpink&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;#4CAF50&#x27;</span>]<br><br>plt.pie(y, labels=labels, colors=colors)<br>plt.show()<br></code></pre></td></tr></table></figure><h4 id="6-æ·»åŠ å›¾ä¾‹"><a href="#6-æ·»åŠ å›¾ä¾‹" class="headerlink" title="(6) æ·»åŠ å›¾ä¾‹"></a>(6) æ·»åŠ å›¾ä¾‹</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>y = np.array([<span class="hljs-number">35</span>, <span class="hljs-number">25</span>, <span class="hljs-number">25</span>, <span class="hljs-number">15</span>])<br>labels = [<span class="hljs-string">&quot;Apples&quot;</span>, <span class="hljs-string">&quot;Bananas&quot;</span>, <span class="hljs-string">&quot;Cherries&quot;</span>, <span class="hljs-string">&quot;Dates&quot;</span>]<br><br>plt.pie(y, labels=labels)<br>plt.legend()<br>plt.show()<br></code></pre></td></tr></table></figure><h4 id="7-å›¾ä¾‹æ ‡é¢˜"><a href="#7-å›¾ä¾‹æ ‡é¢˜" class="headerlink" title="(7) å›¾ä¾‹æ ‡é¢˜"></a>(7) å›¾ä¾‹æ ‡é¢˜</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>y = np.array([<span class="hljs-number">35</span>, <span class="hljs-number">25</span>, <span class="hljs-number">25</span>, <span class="hljs-number">15</span>])<br>labels = [<span class="hljs-string">&quot;Apples&quot;</span>, <span class="hljs-string">&quot;Bananas&quot;</span>, <span class="hljs-string">&quot;Cherries&quot;</span>, <span class="hljs-string">&quot;Dates&quot;</span>]<br><br>plt.pie(y, labels=labels)<br>plt.legend(title=<span class="hljs-string">&#x27;Four Fruits:&#x27;</span>)<br>plt.show()<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Matplotlib</tag>
      
      <tag>å›¾å½¢ç»˜åˆ¶</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python SciPy</title>
    <link href="/2021/07/09/python/python08-python-scipy/"/>
    <url>/2021/07/09/python/python08-python-scipy/</url>
    
    <content type="html"><![CDATA[<p>SciPyæ˜¯ä¸€ä¸ªåœ¨åº•å±‚ä½¿ç”¨NumPyçš„ç§‘å­¦è®¡ç®—åº“ï¼Œä¸ºä¼˜åŒ–ã€ç»Ÿè®¡å’Œä¿¡å·å¤„ç†æä¾›äº†å®ç”¨åŠŸèƒ½ï¼Œç”±NumPyåˆ›å»ºè€…Travis Olliphantåˆ›å»ºã€‚</p><span id="more"></span><h1 id="1-SciPy"><a href="#1-SciPy" class="headerlink" title="1 SciPy"></a>1 SciPy</h1><ul><li>SciPy<ul><li>å‘½ä»¤çª—å£ä¸‹ä½¿ç”¨<code>pip install scipy</code>è¿›è¡Œå®‰è£…ã€‚</li><li>é€šè¿‡importå…³é”®å­—å°†å…¶å¯¼å…¥åº”ç”¨ç¨‹åºï¼š<code>import scipy</code>ã€‚</li><li>æ£€æŸ¥SciPyç‰ˆæœ¬ï¼Œç‰ˆæœ¬å­—ç¬¦ä¸²å­˜åœ¨<code>__version__</code>å±æ€§ä¸‹ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> scipy<br><span class="hljs-keyword">from</span> scipy <span class="hljs-keyword">import</span> constants          <span class="hljs-comment"># å¯¼å…¥</span><br><br><span class="hljs-built_in">print</span>(constants.liter)<br><span class="hljs-built_in">print</span>(scipy.__version__)             <span class="hljs-comment"># æ£€æŸ¥SciPyç‰ˆæœ¬</span><br></code></pre></td></tr></table></figure><h1 id="2-å¸¸é‡"><a href="#2-å¸¸é‡" class="headerlink" title="2 å¸¸é‡"></a>2 å¸¸é‡</h1><ul><li>å¸¸é‡<ul><li>PIæ˜¯ç§‘å­¦å¸¸æ•°çš„ä¸€ä¸ªä¾‹å­ï¼Œ<code>dir()</code>å‡½æ•°å¯ä»¥çœ‹åˆ°å¸¸é‡æ¨¡å—ä¸‹æ‰€æœ‰å•å…ƒçš„åˆ—è¡¨ã€‚</li><li>å•ä½ç±»åˆ«<ul><li>è´¨é‡ï¼šè¿”å›ä»¥kgä¸ºå•ä½çš„æŒ‡å®šå•ä½ã€‚</li><li>æ—¶é—´ï¼šè¿”å›ä»¥ç§’ä¸ºå•ä½çš„æŒ‡å®šå•ä½ã€‚</li><li>é•¿åº¦ï¼šè¿”å›ä»¥ç±³ä¸ºå•ä½çš„æŒ‡å®šå•ä½ã€‚</li><li>è§’åº¦ï¼šè¿”å›ä»¥å¼§åº¦ä¸ºå•ä½çš„æŒ‡å®šå•ä½ã€‚</li><li>çƒ­é‡ï¼šè¿”å›ä»¥ç„¦è€³ä¸ºå•ä½çš„æŒ‡å®šå•ä½ã€‚</li><li>åŠŸç‡ï¼šè¿”å›ä»¥ç“¦ç‰¹ä¸ºå•ä½çš„æŒ‡å®šå•ä½ã€‚</li><li>åŠ›é‡ï¼šè¿”å›ä»¥ç‰›é¡¿ä¸ºå•ä½çš„æŒ‡å®šå•ä½ã€‚</li><li>å‹åŠ›ï¼šè¿”å›ä»¥å¸•æ–¯å¡ä¸ºå•ä½çš„æŒ‡å®šå•ä½ã€‚</li><li>åŒºåŸŸï¼šè¿”å›ä»¥å¹³æ–¹ç±³ä¸ºå•ä½çš„æŒ‡å®šå•ä½ã€‚</li><li>ä½“ç§¯ï¼šè¿”å›ä»¥ç«‹æ–¹ç±³ä¸ºå•ä½çš„æŒ‡å®šå•ä½ã€‚</li><li>é€Ÿåº¦ï¼šè¿”å›ä»¥ç±³æ¯ç§’ä¸ºå•ä½çš„æŒ‡å®šå•ä½ã€‚</li><li>æ¸©åº¦ï¼šè¿”å›ä»¥å¼€å°”æ–‡ä¸ºå•ä½çš„æŒ‡å®šå•ä½ã€‚</li><li>äºŒè¿›åˆ¶ï¼šè¿”å›ä»¥å­—èŠ‚ä¸ºå•ä½çš„æŒ‡å®šå•ä½ã€‚</li><li>å…¬åˆ¶(SI)ï¼šè¿”å›ä»¥ç±³ä¸ºå•ä½çš„æŒ‡å®šå•ä½ã€‚</li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> scipy <span class="hljs-keyword">import</span> constants<br><br><span class="hljs-built_in">print</span>(constants.pi)                  <span class="hljs-comment"># æ‰“å°PIçš„å¸¸æ•°å€¼</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">dir</span>(constants))                <span class="hljs-comment"># åˆ—å‡ºæ‰€æœ‰å¸¸é‡</span><br></code></pre></td></tr></table></figure><h2 id="2-1-è´¨é‡ä¸æ—¶é—´"><a href="#2-1-è´¨é‡ä¸æ—¶é—´" class="headerlink" title="2-1 è´¨é‡ä¸æ—¶é—´"></a>2-1 è´¨é‡ä¸æ—¶é—´</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> scipy <span class="hljs-keyword">import</span> constants<br><br><span class="hljs-built_in">print</span>(constants.gram)               <span class="hljs-comment"># 0.001ï¼Œå…‹ã€è´¨é‡ã€‘</span><br><span class="hljs-built_in">print</span>(constants.metric_ton)         <span class="hljs-comment"># 1000.0ï¼Œå…¬å¨</span><br><span class="hljs-built_in">print</span>(constants.grain)              <span class="hljs-comment"># 6.479891e-05ï¼Œæ ¼ä»¤</span><br><span class="hljs-built_in">print</span>(constants.lb)                 <span class="hljs-comment"># 0.45359236999999997ï¼Œç£…</span><br><span class="hljs-built_in">print</span>(constants.pound)              <span class="hljs-comment"># 0.45359236999999997ï¼Œç£…</span><br><span class="hljs-built_in">print</span>(constants.oz)                 <span class="hljs-comment"># 0.028349523124999998ï¼Œç›å¸</span><br><span class="hljs-built_in">print</span>(constants.ounce)              <span class="hljs-comment"># 0.028349523124999998ï¼Œç›å¸</span><br><span class="hljs-built_in">print</span>(constants.stone)              <span class="hljs-comment"># 6.3502931799999995ï¼Œè‹±çŸ³</span><br><span class="hljs-built_in">print</span>(constants.long_ton)           <span class="hljs-comment"># 1016.0469088ï¼Œè‹±é•¿å¨</span><br><span class="hljs-built_in">print</span>(constants.short_ton)          <span class="hljs-comment"># 907.1847399999999ï¼Œè‹±çŸ­å¨</span><br><span class="hljs-built_in">print</span>(constants.troy_ounce)         <span class="hljs-comment"># 0.031103476799999998ï¼Œé‡‘è¡¡ç›å¸</span><br><span class="hljs-built_in">print</span>(constants.troy_pound)         <span class="hljs-comment"># 0.37324172159999996ï¼Œé‡‘è¡¡ç£…</span><br><span class="hljs-built_in">print</span>(constants.carat)              <span class="hljs-comment"># 0.0002ï¼Œå…‹æ‹‰</span><br><span class="hljs-built_in">print</span>(constants.atomic_mass)        <span class="hljs-comment"># 1.66053904e-27ï¼ŒåŸå­è´¨é‡</span><br><span class="hljs-built_in">print</span>(constants.m_u)                <span class="hljs-comment"># 1.66053904e-27ï¼Œè´¨å­æˆ–åŸå­çš„åŸå­é‡(åŸå­è´¨é‡)</span><br><span class="hljs-built_in">print</span>(constants.u)                  <span class="hljs-comment"># 1.66053904e-27ï¼Œç›¸å¯¹åŸå­è´¨é‡</span><br><br><span class="hljs-built_in">print</span>(constants.minute)             <span class="hljs-comment"># 60.0ï¼Œåˆ†é’Ÿã€æ—¶é—´ã€‘</span><br><span class="hljs-built_in">print</span>(constants.hour)               <span class="hljs-comment"># 3600.0ï¼Œå°æ—¶</span><br><span class="hljs-built_in">print</span>(constants.day)                <span class="hljs-comment"># 86400.0ï¼Œæ—¥</span><br><span class="hljs-built_in">print</span>(constants.week)               <span class="hljs-comment"># 604800.0ï¼Œæ˜ŸæœŸ</span><br><span class="hljs-built_in">print</span>(constants.year)               <span class="hljs-comment"># 31536000.0ï¼Œå¹´</span><br><span class="hljs-built_in">print</span>(constants.Julian_year)        <span class="hljs-comment"># 31557600.0ï¼Œå„’ç•¥å¹´(ç”¨äºå¤©æ–‡å­¦)ï¼Œä¸Gregorian year(å…¬å†å¹´)ç•¥æœ‰ä¸åŒ</span><br></code></pre></td></tr></table></figure><h2 id="2-2-é•¿åº¦ä¸è§’åº¦"><a href="#2-2-é•¿åº¦ä¸è§’åº¦" class="headerlink" title="2-2 é•¿åº¦ä¸è§’åº¦"></a>2-2 é•¿åº¦ä¸è§’åº¦</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> scipy <span class="hljs-keyword">import</span> constants<br><br><span class="hljs-built_in">print</span>(constants.inch)               <span class="hljs-comment"># 0.0254ï¼Œè‹±å¯¸ã€é•¿åº¦ã€‘</span><br><span class="hljs-built_in">print</span>(constants.foot)               <span class="hljs-comment"># 0.30479999999999996ï¼Œè‹±å°º</span><br><span class="hljs-built_in">print</span>(constants.yard)               <span class="hljs-comment"># 0.9143999999999999ï¼Œç </span><br><span class="hljs-built_in">print</span>(constants.mile)               <span class="hljs-comment"># 1609.3439999999998ï¼Œè‹±é‡Œ</span><br><span class="hljs-built_in">print</span>(constants.mil)                <span class="hljs-comment"># 2.5399999999999997e-05ï¼Œåƒåˆ†ä¹‹ä¸€è‹±å¯¸</span><br><span class="hljs-built_in">print</span>(constants.pt)                 <span class="hljs-comment"># 0.00035277777777777776ï¼Œç‚¹</span><br><span class="hljs-built_in">print</span>(constants.point)              <span class="hljs-comment"># 0.00035277777777777776ï¼Œç£…</span><br><span class="hljs-built_in">print</span>(constants.survey_foot)        <span class="hljs-comment"># 0.3048006096012192ï¼Œæµ‹é‡è‹±å°º(ç”¨äºåœŸåœ°æµ‹é‡)</span><br><span class="hljs-built_in">print</span>(constants.survey_mile)        <span class="hljs-comment"># 1609.3472186944373ï¼Œæµ‹é‡è‹±é‡Œ(ç”¨äºåœŸåœ°æµ‹é‡)</span><br><span class="hljs-built_in">print</span>(constants.nautical_mile)      <span class="hljs-comment"># 1852.0ï¼Œæµ·é‡Œ(ç”¨äºæµ·ä¸Šæµ‹é‡)</span><br><span class="hljs-built_in">print</span>(constants.fermi)              <span class="hljs-comment"># 1e-15ï¼Œè´¹ç±³(ç”¨äºè¡¨ç¤ºåŸå­æ ¸å¤§å°)</span><br><span class="hljs-built_in">print</span>(constants.angstrom)           <span class="hljs-comment"># 1e-10ï¼ŒåŸƒ(ç”¨äºè¡¨ç¤ºåˆ†å­å’ŒåŸå­çš„å¤§å°)</span><br><span class="hljs-built_in">print</span>(constants.micron)             <span class="hljs-comment"># 1e-06ï¼Œå¾®ç±³</span><br><span class="hljs-built_in">print</span>(constants.au)                 <span class="hljs-comment"># 149597870691.0ï¼Œå¤©æ–‡å•ä½(ç”¨äºè¡¨ç¤ºå¤©ä½“é—´è·ç¦»)</span><br><span class="hljs-built_in">print</span>(constants.astronomical_unit)  <span class="hljs-comment"># 149597870691.0ï¼Œå¤©æ–‡å•ä½(ç”¨äºè¡¨ç¤ºå¤©ä½“é—´è·ç¦»)</span><br><span class="hljs-built_in">print</span>(constants.light_year)         <span class="hljs-comment"># 9460730472580800.0ï¼Œå…‰å¹´(ç”¨äºè¡¨ç¤ºæ˜Ÿé™…è·ç¦»)</span><br><span class="hljs-built_in">print</span>(constants.parsec)             <span class="hljs-comment"># 3.0856775813057292e+16ï¼Œç§’å·®è·(ç”¨äºè¡¨ç¤ºæ˜Ÿé™…è·ç¦»)</span><br><br><span class="hljs-built_in">print</span>(constants.degree)             <span class="hljs-comment"># 0.017453292519943295ï¼Œåº¦ã€è§’åº¦ã€‘</span><br><span class="hljs-built_in">print</span>(constants.arcmin)             <span class="hljs-comment"># 0.0002908882086657216ï¼Œè§’åº¦çš„1/60</span><br><span class="hljs-built_in">print</span>(constants.arcminute)          <span class="hljs-comment"># 0.0002908882086657216ï¼Œè§’åº¦çš„1/60</span><br><span class="hljs-built_in">print</span>(constants.arcsec)             <span class="hljs-comment"># 4.84813681109536e-06ï¼Œè§’åº¦çš„1/3600</span><br><span class="hljs-built_in">print</span>(constants.arcsecond)          <span class="hljs-comment"># 4.84813681109536e-06ï¼Œè§’åº¦çš„1/3600</span><br></code></pre></td></tr></table></figure><h2 id="2-3-çƒ­é‡ä¸åŠŸç‡"><a href="#2-3-çƒ­é‡ä¸åŠŸç‡" class="headerlink" title="2-3 çƒ­é‡ä¸åŠŸç‡"></a>2-3 çƒ­é‡ä¸åŠŸç‡</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> scipy <span class="hljs-keyword">import</span> constants<br><br><span class="hljs-built_in">print</span>(constants.eV)                 <span class="hljs-comment"># 1.6021766208e-19ï¼Œç”µå­ä¼ç‰¹ã€çƒ­é‡ã€‘</span><br><span class="hljs-built_in">print</span>(constants.electron_volt)      <span class="hljs-comment"># 1.6021766208e-19ï¼Œç”µå­ä¼ç‰¹</span><br><span class="hljs-built_in">print</span>(constants.calorie)            <span class="hljs-comment"># 4.184ï¼Œå¡è·¯é‡Œ</span><br><span class="hljs-built_in">print</span>(constants.calorie_th)         <span class="hljs-comment"># 4.184ï¼Œçƒ­åŠ›å­¦å¡è·¯é‡Œ</span><br><span class="hljs-built_in">print</span>(constants.calorie_IT)         <span class="hljs-comment"># 4.1868ï¼Œå›½é™…æ ‡å‡†å¡è·¯é‡Œ</span><br><span class="hljs-built_in">print</span>(constants.erg)                <span class="hljs-comment"># 1e-07ï¼Œå°èƒ½é‡å•ä½(1å˜ç±³è·ç¦»å†…çš„åŠ›ä¸º1è¾¾å› çš„ç‰©ä½“æ‰€å…·æœ‰çš„èƒ½é‡)</span><br><span class="hljs-built_in">print</span>(constants.Btu)                <span class="hljs-comment"># 1055.05585262ï¼Œè‹±å›½çƒ­é‡å•ä½</span><br><span class="hljs-built_in">print</span>(constants.Btu_IT)             <span class="hljs-comment"># 1055.05585262ï¼Œè‹±å›½çƒ­é‡å•ä½(å›½é™…æ ‡å‡†)</span><br><span class="hljs-built_in">print</span>(constants.Btu_th)             <span class="hljs-comment"># 1054.3502644888888ï¼Œçƒ­åŠ›å­¦çƒ­é‡å•ä½</span><br><span class="hljs-built_in">print</span>(constants.ton_TNT)            <span class="hljs-comment"># 4184000000.0ï¼Œçˆ†ç‚¸å½“é‡å•ä½(ä¸€å¨ä¸‰ç¡åŸºç”²è‹¯TNTçˆ†ç‚¸æ—¶æ‰€é‡Šæ”¾çš„èƒ½é‡)</span><br><br><span class="hljs-built_in">print</span>(constants.hp)                 <span class="hljs-comment"># 745.6998715822701ï¼Œé©¬åŠ›ã€åŠŸç‡ã€‘</span><br><span class="hljs-built_in">print</span>(constants.horsepower)         <span class="hljs-comment"># 745.6998715822701ï¼Œè‹±åˆ¶é©¬åŠ›</span><br></code></pre></td></tr></table></figure><h2 id="2-4-åŠ›é‡ä¸å‹åŠ›"><a href="#2-4-åŠ›é‡ä¸å‹åŠ›" class="headerlink" title="2-4 åŠ›é‡ä¸å‹åŠ›"></a>2-4 åŠ›é‡ä¸å‹åŠ›</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> scipy <span class="hljs-keyword">import</span> constants<br><br><span class="hljs-built_in">print</span>(constants.dyn)                <span class="hljs-comment"># 1e-05ï¼Œå˜ç±³-å…‹-ç§’åˆ¶(CGSå•ä½åˆ¶)ã€åŠ›é‡ã€‘</span><br><span class="hljs-built_in">print</span>(constants.dyne)               <span class="hljs-comment"># 1e-05ï¼Œå˜ç±³-å…‹-ç§’åˆ¶(CGSå•ä½åˆ¶)</span><br><span class="hljs-built_in">print</span>(constants.lbf)                <span class="hljs-comment"># 4.4482216152605ï¼Œè‹±åˆ¶ç£…åŠ›</span><br><span class="hljs-built_in">print</span>(constants.pound_force)        <span class="hljs-comment"># 4.4482216152605ï¼Œè‹±åˆ¶ç£…åŠ›</span><br><span class="hljs-built_in">print</span>(constants.kgf)                <span class="hljs-comment"># 9.80665ï¼Œåƒå…‹åŠ›(å…¬åˆ¶å•ä½)</span><br><span class="hljs-built_in">print</span>(constants.kilogram_force)     <span class="hljs-comment"># 9.80665ï¼Œåƒå…‹åŠ›</span><br><br><span class="hljs-built_in">print</span>(constants.atm)                <span class="hljs-comment"># 101325.0ï¼Œæ ‡å‡†å¤§æ°”å‹ã€å‹åŠ›ã€‘</span><br><span class="hljs-built_in">print</span>(constants.atmosphere)         <span class="hljs-comment"># 101325.0ï¼Œæ ‡å‡†å¤§æ°”å‹</span><br><span class="hljs-built_in">print</span>(constants.bar)                <span class="hljs-comment"># 100000.0ï¼Œå·´(ç”¨äºæè¿°æ°”ä½“ã€æ¶²ä½“å’Œå›ºä½“çš„å‹åŠ›)</span><br><span class="hljs-built_in">print</span>(constants.torr)               <span class="hljs-comment"># 133.32236842105263ï¼Œæ‰˜(ç”¨äºæè¿°ä½å‹æ°”ä½“çš„å‹åŠ›)</span><br><span class="hljs-built_in">print</span>(constants.mmHg)               <span class="hljs-comment"># 133.32236842105263ï¼Œæ¯«ç±³æ±æŸ±</span><br><span class="hljs-built_in">print</span>(constants.psi)                <span class="hljs-comment"># 6894.757293168361ï¼Œç£…åŠ›/å¹³æ–¹è‹±å¯¸</span><br></code></pre></td></tr></table></figure><h2 id="2-5-åŒºåŸŸä¸ä½“ç§¯"><a href="#2-5-åŒºåŸŸä¸ä½“ç§¯" class="headerlink" title="2-5 åŒºåŸŸä¸ä½“ç§¯"></a>2-5 åŒºåŸŸä¸ä½“ç§¯</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> scipy <span class="hljs-keyword">import</span> constants<br><br><span class="hljs-built_in">print</span>(constants.hectare)            <span class="hljs-comment"># 10000.0ï¼Œå…¬é¡·ã€åŒºåŸŸã€‘</span><br><span class="hljs-built_in">print</span>(constants.acre)               <span class="hljs-comment"># 4046.8564223999992ï¼Œè‹±äº©(æµ‹é‡åœŸåœ°é¢ç§¯)</span><br><br><span class="hljs-built_in">print</span>(constants.liter)              <span class="hljs-comment"># 0.001ï¼Œå‡ã€ä½“ç§¯ã€‘</span><br><span class="hljs-built_in">print</span>(constants.litre)              <span class="hljs-comment"># 0.001ï¼Œå‡</span><br><span class="hljs-built_in">print</span>(constants.gallon)             <span class="hljs-comment"># 0.0037854117839999997ï¼ŒåŠ ä»‘</span><br><span class="hljs-built_in">print</span>(constants.gallon_US)          <span class="hljs-comment"># 0.0037854117839999997ï¼Œç¾åˆ¶åŠ ä»‘</span><br><span class="hljs-built_in">print</span>(constants.gallon_imp)         <span class="hljs-comment"># 0.00454609ï¼Œè‹±åˆ¶åŠ ä»‘</span><br><span class="hljs-built_in">print</span>(constants.fluid_ounce)        <span class="hljs-comment"># 2.9573529562499998e-05ï¼Œæ¶²é‡ç›å¸</span><br><span class="hljs-built_in">print</span>(constants.fluid_ounce_US)     <span class="hljs-comment"># 2.9573529562499998e-05ï¼Œç¾åˆ¶æ¶²é‡ç›å¸</span><br><span class="hljs-built_in">print</span>(constants.fluid_ounce_imp)    <span class="hljs-comment"># 2.84130625e-05ï¼Œè‹±åˆ¶æ¶²é‡ç›å¸</span><br><span class="hljs-built_in">print</span>(constants.barrel)             <span class="hljs-comment"># 0.15898729492799998ï¼Œæ¡¶(ç”¨äºè¡¨ç¤ºåŸæ²¹ã€çŸ³æ²¹ç­‰å…¶ä»–æ¶²ä½“çš„å®¹é‡)</span><br><span class="hljs-built_in">print</span>(constants.bbl)                <span class="hljs-comment"># 0.15898729492799998ï¼Œæ¡¶(barrelç¼©å†™ï¼Œé€šå¸¸æŒ‡ç¾å›½çŸ³æ²¹æ¡¶)</span><br></code></pre></td></tr></table></figure><h2 id="2-6-é€Ÿåº¦ä¸æ¸©åº¦"><a href="#2-6-é€Ÿåº¦ä¸æ¸©åº¦" class="headerlink" title="2-6 é€Ÿåº¦ä¸æ¸©åº¦"></a>2-6 é€Ÿåº¦ä¸æ¸©åº¦</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> scipy <span class="hljs-keyword">import</span> constants<br><br><span class="hljs-built_in">print</span>(constants.kmh)                <span class="hljs-comment"># 0.2777777777777778ï¼Œåƒç±³æ¯å°æ—¶ã€é€Ÿåº¦ã€‘</span><br><span class="hljs-built_in">print</span>(constants.mph)                <span class="hljs-comment"># 0.44703999999999994ï¼Œè‹±é‡Œæ¯å°æ—¶</span><br><span class="hljs-built_in">print</span>(constants.mach)               <span class="hljs-comment"># 340.5ï¼Œé©¬èµ«(æ— é‡çº²å•ä½ï¼Œé©¬èµ«æ•°ä¸º1è¡¨ç‰©ä½“é€Ÿåº¦ç­‰äºå£°é€Ÿï¼Œå³éŸ³é€Ÿ)</span><br><span class="hljs-built_in">print</span>(constants.speed_of_sound)     <span class="hljs-comment"># 340.5ï¼Œå£°é€Ÿ(æ ‡å‡†å¤§æ°”å‹ä¸‹ï¼Œç©ºæ°”ä¸­çš„å£°é€Ÿçº¦æ¯ç§’343ç±³)</span><br><span class="hljs-built_in">print</span>(constants.knot)               <span class="hljs-comment"># 0.5144444444444445ï¼ŒèŠ‚</span><br><br><span class="hljs-built_in">print</span>(constants.zero_Celsius)       <span class="hljs-comment"># 273.15ï¼Œæ‘„æ°æ¸©æ ‡ä¸‹çš„é›¶åº¦ï¼Œå³æ°´çš„å†°ç‚¹æ¸©åº¦ã€æ¸©åº¦ã€‘</span><br><span class="hljs-built_in">print</span>(constants.degree_Fahrenheit)  <span class="hljs-comment"># 0.5555555555555556ï¼Œåæ°æ¸©æ ‡ä¸‹çš„æ¸©åº¦</span><br></code></pre></td></tr></table></figure><h2 id="2-7-äºŒè¿›åˆ¶ä¸å…¬åˆ¶"><a href="#2-7-äºŒè¿›åˆ¶ä¸å…¬åˆ¶" class="headerlink" title="2-7 äºŒè¿›åˆ¶ä¸å…¬åˆ¶"></a>2-7 äºŒè¿›åˆ¶ä¸å…¬åˆ¶</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> scipy <span class="hljs-keyword">import</span> constants<br><br><span class="hljs-built_in">print</span>(constants.kibi)               <span class="hljs-comment"># 1024ï¼Œåƒå­—èŠ‚ï¼ŒKBã€äºŒè¿›åˆ¶ã€‘</span><br><span class="hljs-built_in">print</span>(constants.mebi)               <span class="hljs-comment"># 1048576ï¼Œå…†å­—èŠ‚ï¼ŒMB</span><br><span class="hljs-built_in">print</span>(constants.gibi)               <span class="hljs-comment"># 1073741824ï¼Œå‰å­—èŠ‚ï¼ŒGB</span><br><span class="hljs-built_in">print</span>(constants.tebi)               <span class="hljs-comment"># 1099511627776ï¼Œå¤ªå­—èŠ‚ï¼ŒTB</span><br><span class="hljs-built_in">print</span>(constants.pebi)               <span class="hljs-comment"># 1125899906842624ï¼Œæ‹å­—èŠ‚ï¼ŒPB</span><br><span class="hljs-built_in">print</span>(constants.exbi)               <span class="hljs-comment"># 1152921504606846976ï¼Œè‰¾å­—èŠ‚ï¼ŒEB</span><br><span class="hljs-built_in">print</span>(constants.zebi)               <span class="hljs-comment"># 1180591620717411303424ï¼Œé½æ¯”å­—èŠ‚ï¼ŒZiB</span><br><span class="hljs-built_in">print</span>(constants.yobi)               <span class="hljs-comment"># 1208925819614629174706176ï¼Œå°§æ¯”å­—èŠ‚ï¼ŒYiB</span><br><br><span class="hljs-built_in">print</span>(constants.yotta)              <span class="hljs-comment"># 1e+24ï¼Œ10çš„24æ¬¡æ–¹ã€å…¬åˆ¶ã€‘</span><br><span class="hljs-built_in">print</span>(constants.zetta)              <span class="hljs-comment"># 1e+21ï¼Œ10çš„21æ¬¡æ–¹</span><br><span class="hljs-built_in">print</span>(constants.exa)                <span class="hljs-comment"># 1e+18ï¼Œ10çš„18æ¬¡æ–¹</span><br><span class="hljs-built_in">print</span>(constants.peta)               <span class="hljs-comment"># 1000000000000000.0ï¼Œ10çš„15æ¬¡æ–¹</span><br><span class="hljs-built_in">print</span>(constants.tera)               <span class="hljs-comment"># 1000000000000.0ï¼Œ10çš„12æ¬¡æ–¹</span><br><span class="hljs-built_in">print</span>(constants.giga)               <span class="hljs-comment"># 1000000000.0ï¼Œ10çš„9æ¬¡æ–¹</span><br><span class="hljs-built_in">print</span>(constants.mega)               <span class="hljs-comment"># 1000000.0ï¼Œ10çš„6æ¬¡æ–¹</span><br><span class="hljs-built_in">print</span>(constants.kilo)               <span class="hljs-comment"># 1000.0ï¼Œ10çš„3æ¬¡æ–¹</span><br><span class="hljs-built_in">print</span>(constants.hecto)              <span class="hljs-comment"># 100.0ï¼Œ10çš„2æ¬¡æ–¹</span><br><span class="hljs-built_in">print</span>(constants.deka)               <span class="hljs-comment"># 10.0ï¼Œ10çš„1æ¬¡æ–¹</span><br><span class="hljs-built_in">print</span>(constants.deci)               <span class="hljs-comment"># 0.1ï¼Œ10çš„è´Ÿ1æ¬¡æ–¹</span><br><span class="hljs-built_in">print</span>(constants.centi)              <span class="hljs-comment"># 0.01ï¼Œ10çš„è´Ÿ2æ¬¡æ–¹</span><br><span class="hljs-built_in">print</span>(constants.milli)              <span class="hljs-comment"># 0.001ï¼Œ10çš„è´Ÿ3æ¬¡æ–¹</span><br><span class="hljs-built_in">print</span>(constants.micro)              <span class="hljs-comment"># 1e-06ï¼Œ10çš„è´Ÿ6æ¬¡æ–¹</span><br><span class="hljs-built_in">print</span>(constants.nano)               <span class="hljs-comment"># 1e-09ï¼Œ10çš„è´Ÿ9æ¬¡æ–¹</span><br><span class="hljs-built_in">print</span>(constants.pico)               <span class="hljs-comment"># 1e-12ï¼Œ10çš„è´Ÿ12æ¬¡æ–¹</span><br><span class="hljs-built_in">print</span>(constants.femto)              <span class="hljs-comment"># 1e-15ï¼Œ10çš„è´Ÿ15æ¬¡æ–¹</span><br><span class="hljs-built_in">print</span>(constants.atto)               <span class="hljs-comment"># 1e-18ï¼Œ10çš„è´Ÿ18æ¬¡æ–¹</span><br><span class="hljs-built_in">print</span>(constants.zepto)              <span class="hljs-comment"># 1e-21ï¼Œ10çš„è´Ÿ21æ¬¡æ–¹</span><br></code></pre></td></tr></table></figure><h1 id="3-ä¼˜åŒ–å™¨"><a href="#3-ä¼˜åŒ–å™¨" class="headerlink" title="3 ä¼˜åŒ–å™¨"></a>3 ä¼˜åŒ–å™¨</h1><ul><li>ä¼˜åŒ–å™¨<ul><li>åœ¨SciPyä¸­å®šä¹‰çš„ä¸€ç»„è¿‡ç¨‹ï¼Œæ‰¾åˆ°å‡½æ•°çš„æœ€å°å€¼ï¼Œæˆ–æ‰¾åˆ°æ–¹ç¨‹çš„æ ¹ã€‚</li><li>NumPyèƒ½å¤Ÿä¸ºå¤šé¡¹å¼å’Œçº¿æ€§æ–¹ç¨‹æ±‚æ ¹ï¼Œä½†æ˜¯ä¸èƒ½ä¸ºéçº¿æ€§æ–¹ç¨‹æ±‚æ ¹ã€‚</li><li>ä¾‹å¦‚ï¼š<code>x+cos(x)</code>ï¼Œä½¿ç”¨SciPyçš„optimize.rootåŠŸèƒ½ï¼Œæ¥å—ä¸¤ä¸ªå¿…éœ€çš„å‚æ•°ã€‚<ul><li>x0ï¼Œå¯¹æ ¹çš„åˆå§‹çŒœæµ‹ã€‚</li><li>funï¼Œè¡¨ç¤ºæ–¹ç¨‹çš„å‡½æ•°ã€‚</li></ul></li><li>optimze.rootè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«æœ‰å…³è§£å†³æ–¹æ¡ˆçš„ä¿¡æ¯ã€‚</li><li>æœ€å°åŒ–å‡½æ•°<ul><li>éçº¿æ€§æ–¹ç¨‹ä¸‹ä¸€ä¸ªå‡½æ•°ä»£è¡¨ä¸€æ¡æ›²çº¿ã€‚</li><li>æ›²çº¿æœ‰é«˜ç‚¹å’Œä½ç‚¹ï¼Œé«˜ç‚¹ç§°ä¸ºæœ€å¤§å€¼ï¼Œä½ç‚¹ç§°ä¸ºæœ€å°å€¼ã€‚</li><li>æ•´ä¸ªæ›²çº¿çš„æœ€é«˜ç‚¹ç§°ä¸ºå…¨å±€æœ€å¤§å€¼ï¼Œå…¶ä½™çš„ç§°ä¸ºå±€éƒ¨æœ€å¤§å€¼ã€‚</li><li>æ•´ä¸ªæ›²çº¿çš„æœ€ä½ç‚¹ç§°ä¸ºå…¨å±€æœ€å°å€¼ï¼Œå…¶ä½™çš„ç§°ä¸ºå±€éƒ¨æœ€å°å€¼ã€‚</li></ul></li><li>ä½¿ç”¨<code>scipy.optimize.minimize()</code>æ¥æœ€å°åŒ–å‡½æ•°ï¼Œæ¥å—ä»¥ä¸‹å‚æ•°ã€‚<ul><li>x0ï¼Œå¯¹æ ¹çš„åˆå§‹çŒœæµ‹ã€‚</li><li>funï¼Œè¡¨ç¤ºæ–¹ç¨‹çš„å‡½æ•°ã€‚</li><li>optionsï¼Œå®šä¹‰é¢å¤–å‚æ•°çš„å­—å…¸ã€‚</li><li>callbackï¼Œæ¯æ¬¡ä¼˜åŒ–è¿­ä»£åè°ƒç”¨çš„å‡½æ•°ã€‚</li><li>methodï¼Œè¦ä½¿ç”¨çš„æ–¹æ³•åç§°ï¼Œ<code>CG</code>ã€<code>BFGS</code>ã€<code>Newton-CG</code>ã€<code>L-BFGS-B</code>ã€<code>TNC</code>ã€<code>COBYLA</code>ã€<code>SLSQP</code>ã€‚</li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> math <span class="hljs-keyword">import</span> cos<br><span class="hljs-keyword">from</span> scipy.optimize <span class="hljs-keyword">import</span> root<br><span class="hljs-keyword">from</span> scipy.optimize <span class="hljs-keyword">import</span> minimize<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">eqn</span>(<span class="hljs-params">x</span>):<br>    <span class="hljs-keyword">return</span> x + cos(x)<br><br><br>myroot = root(eqn, <span class="hljs-number">0</span>)               <span class="hljs-comment"># æ±‚æ–¹ç¨‹x + cos(x)çš„æ ¹</span><br><span class="hljs-built_in">print</span>(myroot)                       <span class="hljs-comment"># æ‰“å°æœ‰å…³è§£å†³æ–¹æ¡ˆçš„æ‰€æœ‰ä¿¡æ¯</span><br><span class="hljs-built_in">print</span>(myroot.x)                     <span class="hljs-comment"># è¿”å›çš„å¯¹è±¡åŒ…å«æœ‰å…³è§£å†³æ–¹æ¡ˆçš„æ›´å¤šä¿¡æ¯</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">eqnr</span>(<span class="hljs-params">y</span>):<br>    <span class="hljs-keyword">return</span> y**<span class="hljs-number">2</span> + y + <span class="hljs-number">2</span><br><br><br>mymin = minimize(eqnr, <span class="hljs-number">0</span>, method=<span class="hljs-string">&#x27;BFGS&#x27;</span>)<br><span class="hljs-built_in">print</span>(mymin)                        <span class="hljs-comment"># ä½¿ç”¨BFGSæ–¹æ³•æœ€å°åŒ–y^2 + y + 2å‡½æ•°</span><br></code></pre></td></tr></table></figure><h1 id="4-ç¨€ç–æ•°æ®"><a href="#4-ç¨€ç–æ•°æ®" class="headerlink" title="4 ç¨€ç–æ•°æ®"></a>4 ç¨€ç–æ•°æ®</h1><ul><li>ç¨€ç–æ•°æ®<ul><li>å…·æœ‰å¤§éƒ¨åˆ†æœªä½¿ç”¨å…ƒç´ çš„æ•°æ®ï¼Œå…ƒç´ ä¸æºå¸¦ä»»ä½•ä¿¡æ¯ã€‚<ul><li>ç¨€ç–æ•°æ®ï¼šè¡¨ç¤ºå¤§å¤šæ•°é¡¹ç›®å€¼ä¸º0çš„æ•°æ®é›†ã€‚</li><li>å¯†é›†æ•°ç»„ï¼šä¸ç¨€ç–æ•°ç»„ç›¸åï¼Œå¤§å¤šæ•°å€¼ä¸ä¸º0ã€‚</li></ul></li><li>ç§‘å­¦è®¡ç®—ä¸­å¤„ç†çº¿æ€§ä»£æ•°çš„åå¯¼æ•°æ—¶ä¼šé‡åˆ°ç¨€ç–æ•°æ®ã€‚</li><li>SciPyæœ‰ä¸€ä¸ªscipy.sparseæ¨¡å—ï¼Œç”¨äºå¤„ç†ç¨€ç–æ•°æ®ï¼Œä¸»è¦ä½¿ç”¨ä¸¤ç§ç±»å‹çš„ç¨€ç–çŸ©é˜µã€‚<ul><li>CSCï¼šå‹ç¼©ç¨€ç–åˆ—ã€‚</li><li>CSRï¼šå‹ç¼©ç¨€ç–è¡Œï¼Œé€šè¿‡å°†æ•°ç»„ä¼ é€’ç»™<code>scipy.sparse.csr_matrix()</code>å‡½æ•°æ¥åˆ›å»ºã€‚</li></ul></li><li>è¿˜å¯ä»¥ä½¿ç”¨dataå±æ€§ï¼Œç”¨äºæŸ¥çœ‹å­˜å‚¨çš„æ•°æ®ï¼Œ<code>count_nonzero()</code>æ–¹æ³•å¯ä»¥è®¡ç®—éé›¶æ•°ã€‚</li><li><code>eliminate_zeros()</code>æ–¹æ³•ä»çŸ©é˜µä¸­åˆ é™¤é›¶æ¡ç›®ï¼Œ<code>sum_duplicates()</code>æ–¹æ³•æ¶ˆé™¤é‡å¤æ¡ç›®ã€‚</li><li><code>tocsc()</code>æ–¹æ³•ä»CSRç±»å‹è½¬æ¢ä¸ºCSCç±»å‹ï¼Œç¨€ç–çŸ©é˜µåŒæ ·è¿˜æ”¯æŒæ™®é€šçŸ©é˜µæ”¯æŒçš„æ‰€æœ‰æ“ä½œã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">from</span> scipy.sparse <span class="hljs-keyword">import</span> csr_matrix<br><br>arr1 = np.array([<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>])<br><span class="hljs-built_in">print</span>(csr_matrix(arr1))                       <span class="hljs-comment"># ä»æ•°ç»„åˆ›å»ºCSRçŸ©é˜µ</span><br><br>arr2 = np.array([[<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>], [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>], [<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>]])<br><span class="hljs-built_in">print</span>(csr_matrix(arr2).data)                  <span class="hljs-comment"># æŸ¥çœ‹å­˜å‚¨çš„æ•°æ®ï¼Œéé›¶é¡¹</span><br><span class="hljs-built_in">print</span>(csr_matrix(arr2).count_nonzero())       <span class="hljs-comment"># è®¡ç®—éé›¶æ•°</span><br><br>mat1 = csr_matrix(arr2)<br>mat1.eliminate_zeros()                        <span class="hljs-comment"># åˆ é™¤é›¶æ¡ç›®</span><br><span class="hljs-built_in">print</span>(mat1)<br><br>mat2 = csr_matrix(arr2)<br>mat2.sum_duplicates()                         <span class="hljs-comment"># æ¶ˆé™¤é‡å¤é¡¹</span><br><span class="hljs-built_in">print</span>(mat2)<br><br>arr3 = csr_matrix(arr2).tocsc()               <span class="hljs-comment"># ä»CSRç±»å‹è½¬æ¢ä¸ºCSCç±»å‹</span><br><span class="hljs-built_in">print</span>(arr3)<br></code></pre></td></tr></table></figure><h1 id="5-å›¾è¡¨æ•°æ®"><a href="#5-å›¾è¡¨æ•°æ®" class="headerlink" title="5 å›¾è¡¨æ•°æ®"></a>5 å›¾è¡¨æ•°æ®</h1><ul><li>å›¾è¡¨æ•°æ®<ul><li>ä½¿ç”¨scipy.sparse.csgraphæ¨¡å—å¤„ç†å›¾è¡¨æ•°æ®ç»“æ„ã€‚</li><li>é‚»æ¥çŸ©é˜µï¼šAdjacency Matrixï¼Œè¡¨ç¤ºé¡¶ç‚¹ä¹‹é—´ç›¸é‚»å…³ç³»çš„çŸ©é˜µã€‚<ul><li>é€šè¿‡<code>connected_components()</code>æ–¹æ³•æŸ¥æ‰¾æ‰€æœ‰è¿æ¥çš„ç»„ä»¶ã€‚</li><li>è¿ªæ°æ–¯ç‰¹æ‹‰ï¼šé€šè¿‡<code>dijkstra()</code>æ–¹æ³•åœ¨å›¾ä¸­æ‰¾åˆ°ä»ä¸€ä¸ªå…ƒç´ åˆ°å¦ä¸€ä¸ªå…ƒç´ çš„æœ€çŸ­è·¯å¾„ã€‚<ul><li>limitï¼šè·¯å¾„çš„æœ€å¤§æƒé‡ã€‚</li><li>indicesï¼šå…ƒç´ çš„ç´¢å¼•ï¼Œä»…è¿”å›è¯¥å…ƒç´ çš„æ‰€æœ‰è·¯å¾„ã€‚</li><li>return_predecessorsï¼šå¸ƒå°”å€¼ï¼ŒTrueå°†è¿”å›æ•´ä¸ªéå†è·¯å¾„ï¼Œå¦åˆ™ä¸ºFalseã€‚</li></ul></li><li>å¼—æ´›ä¼Šå¾·Â·æ²ƒæ­‡å°”ï¼š<code>floyd_warshall()</code>æ–¹æ³•æ‰¾åˆ°æ‰€æœ‰å…ƒç´ å¯¹ä¹‹é—´çš„æœ€çŸ­è·¯å¾„ã€‚</li><li>è´å°”æ›¼ç¦ç‰¹ï¼š<code>bellman_ford()</code>æ–¹æ³•æ‰¾åˆ°æ‰€æœ‰å…ƒç´ å¯¹ä¹‹é—´çš„æœ€çŸ­è·¯å¾„ï¼Œä¹Ÿå¯å¤„ç†è´Ÿæƒé‡ã€‚</li><li>æ·±åº¦ä¸€é˜¶<ul><li><code>depth_first_order()</code>æ–¹æ³•ä»èŠ‚ç‚¹è¿”å›æ·±åº¦ä¼˜å…ˆéå†ã€‚</li><li>è¿™ä¸€æ–¹æ³•é‡‡ç”¨äº†ä¸¤ä¸ªå‚æ•°ï¼Œå³å›¾è¡¨å’Œéå†å›¾çš„èµ·å§‹å…ƒç´ ã€‚</li></ul></li><li>å¹¿åº¦ä¼˜å…ˆé¡ºåº<ul><li><code>breadth_first_order()</code>æ–¹æ³•ä»èŠ‚ç‚¹è¿”å›å¹¿åº¦ä¼˜å…ˆéå†ã€‚</li><li>è¿™ä¸€æ–¹æ³•é‡‡ç”¨äº†ä¸¤ä¸ªå‚æ•°ï¼ŒåŒ…æ‹¬å›¾è¡¨å’Œéå†å›¾çš„èµ·å§‹å…ƒç´ ã€‚</li></ul></li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">from</span> scipy.sparse <span class="hljs-keyword">import</span> csr_matrix<br><span class="hljs-keyword">from</span> scipy.sparse.csgraph <span class="hljs-keyword">import</span> dijkstra<br><span class="hljs-keyword">from</span> scipy.sparse.csgraph <span class="hljs-keyword">import</span> bellman_ford<br><span class="hljs-keyword">from</span> scipy.sparse.csgraph <span class="hljs-keyword">import</span> floyd_warshall<br><span class="hljs-keyword">from</span> scipy.sparse.csgraph <span class="hljs-keyword">import</span> depth_first_order<br><span class="hljs-keyword">from</span> scipy.sparse.csgraph <span class="hljs-keyword">import</span> breadth_first_order<br><span class="hljs-keyword">from</span> scipy.sparse.csgraph <span class="hljs-keyword">import</span> connected_components<br><br>arr1 = np.array([[<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>], [<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>], [<span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>]])<br>arr2 = csr_matrix(arr1)<br><span class="hljs-built_in">print</span>(connected_components(arr2))             <span class="hljs-comment"># æŸ¥æ‰¾æ‰€æœ‰è¿æ¥çš„ç»„ä»¶</span><br><br>arr3 = csr_matrix(arr1)                       <span class="hljs-comment"># å…ƒç´ 1åˆ°å…ƒç´ 2çš„æœ€çŸ­è·¯å¾„</span><br><span class="hljs-built_in">print</span>(dijkstra(arr3, return_predecessors=<span class="hljs-literal">True</span>, indices=<span class="hljs-number">0</span>))<br><br>arr4 = csr_matrix(arr1)                       <span class="hljs-comment"># æ‰€æœ‰å…ƒç´ å¯¹ä¹‹é—´çš„æœ€çŸ­è·¯å¾„</span><br><span class="hljs-built_in">print</span>(floyd_warshall(arr4, return_predecessors=<span class="hljs-literal">True</span>))<br><br>arr5 = csr_matrix(arr1)                       <span class="hljs-comment"># ç”¨ç»™å®šçš„è´Ÿæƒé‡æ‰¾åˆ°å…ƒç´ 1åˆ°å…ƒç´ 2çš„æœ€çŸ­è·¯å¾„</span><br><span class="hljs-built_in">print</span>(bellman_ford(arr5, return_predecessors=<span class="hljs-literal">True</span>, indices=<span class="hljs-number">0</span>))<br><br>arr6 = np.array([<br>    [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>], <br>    [<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>], <br>    [<span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>], <br>    [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>]<br>])<br>arr7 = csr_matrix(arr6)<br><span class="hljs-built_in">print</span>(depth_first_order(arr7, <span class="hljs-number">1</span>))             <span class="hljs-comment"># å¯¹äºç»™å®šçš„é‚»æ¥çŸ©é˜µï¼Œé¦–å…ˆéå†å›¾æ·±åº¦</span><br><br>arr8 = csr_matrix(arr6)<br><span class="hljs-built_in">print</span>(breadth_first_order(arr8, <span class="hljs-number">1</span>))           <span class="hljs-comment"># å¯¹äºç»™å®šçš„é‚»æ¥çŸ©é˜µï¼Œé¦–å…ˆéå†å›¾å®½åº¦</span><br></code></pre></td></tr></table></figure><h1 id="6-ç©ºé—´æ•°æ®"><a href="#6-ç©ºé—´æ•°æ®" class="headerlink" title="6 ç©ºé—´æ•°æ®"></a>6 ç©ºé—´æ•°æ®</h1><ul><li>ç©ºé—´æ•°æ®<ul><li>æŒ‡åœ¨å‡ ä½•ç©ºé—´ä¸­è¡¨ç¤ºçš„æ•°æ®ï¼Œä¾‹å¦‚åæ ‡ç³»ä¸Šçš„ç‚¹ï¼ŒSciPyæä¾›äº†scipy.spatialæ¨¡å—ã€‚</li><li>ä¸‰è§’æµ‹é‡ï¼šåˆ©ç”¨ä¸‰è§’å½¢è®¡ç®—å¤šè¾¹å½¢çš„é¢ç§¯ï¼Œé€šè¿‡ç‚¹ç”Ÿæˆä¸‰è§’éƒ¨åˆ†çš„æ–¹æ³•ç”¨<code>Delaunay()</code>ã€‚</li><li>å‡¸åŒ…ï¼šè¦†ç›–äº†æ‰€æœ‰ç»™å®šç‚¹çš„æœ€å°å¤šè¾¹å½¢ï¼Œå¯ä»¥ä½¿ç”¨<code>ConvexHull()</code>æ–¹æ³•è¿›è¡Œå‡¸åŒ…çš„åˆ›å»ºã€‚</li><li>KDTreesï¼šæŒ‡é’ˆå¯¹æœ€è¿‘é‚»æŸ¥è¯¢ä¼˜åŒ–çš„æ•°æ®ç»“æ„ï¼Œæœ‰æ•ˆåœ°è¯¢é—®äº†å“ªäº›ç‚¹æœ€æ¥è¿‘æŸä¸ªç»™å®šç‚¹ã€‚<ul><li><code>KDTree()</code>ï¼šè¿”å›ä¸€ä¸ªKDTreeå¯¹è±¡ã€‚</li><li><code>query()</code>ï¼šè¿”å›æœ€è¿‘é‚»ç‚¹çš„è·ç¦»å’Œé‚»ç‚¹çš„ä½ç½®ã€‚</li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">from</span> scipy.spatial <span class="hljs-keyword">import</span> KDTree<br><span class="hljs-keyword">from</span> scipy.spatial <span class="hljs-keyword">import</span> Delaunay<br><span class="hljs-keyword">from</span> scipy.spatial <span class="hljs-keyword">import</span> ConvexHull<br><br>points1 = np.array([[<span class="hljs-number">2</span>, <span class="hljs-number">4</span>], [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>], [<span class="hljs-number">3</span>, <span class="hljs-number">0</span>], [<span class="hljs-number">2</span>, <span class="hljs-number">2</span>], [<span class="hljs-number">4</span>, <span class="hljs-number">1</span>]])<br>simplices = Delaunay(points1).simplices       <span class="hljs-comment"># simpliceså±æ€§åˆ›å»ºäº†ä¸‰è§’å½¢ç¬¦å·çš„ä¸€èˆ¬åŒ–</span><br>plt.triplot(points1[:, <span class="hljs-number">0</span>], points1[:, <span class="hljs-number">1</span>], simplices)<br>plt.scatter(points1[:, <span class="hljs-number">0</span>], points1[:, <span class="hljs-number">1</span>], color=<span class="hljs-string">&#x27;r&#x27;</span>)<br>plt.show()                                    <span class="hljs-comment"># ä¸ºpoints1çŸ©é˜µåˆ›å»ºä¸‰è§’éƒ¨åˆ†</span><br><br>points2 = np.array([[<span class="hljs-number">2</span>, <span class="hljs-number">4</span>], [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>], [<span class="hljs-number">3</span>, <span class="hljs-number">0</span>], [<span class="hljs-number">2</span>, <span class="hljs-number">2</span>], [<span class="hljs-number">4</span>, <span class="hljs-number">1</span>],<br>                    [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>], [<span class="hljs-number">5</span>, <span class="hljs-number">0</span>], [<span class="hljs-number">3</span>, <span class="hljs-number">1</span>], [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>], [<span class="hljs-number">0</span>, <span class="hljs-number">2</span>]])<br>hull = ConvexHull(points2)<br>hull_points = hull.simplices<br>plt.scatter(points2[:, <span class="hljs-number">0</span>], points2[:, <span class="hljs-number">1</span>])<br><span class="hljs-keyword">for</span> simplex <span class="hljs-keyword">in</span> hull_points:<br>    plt.plot(points2[simplex, <span class="hljs-number">0</span>], points2[simplex, <span class="hljs-number">1</span>], <span class="hljs-string">&#x27;k-&#x27;</span>)<br>plt.show()                                    <span class="hljs-comment"># ä¸ºpoints2çŸ©é˜µåˆ›å»ºå‡¸åŒ…</span><br><br>points3 = [(<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>), (<span class="hljs-number">2</span>, <span class="hljs-number">3</span>), (-<span class="hljs-number">2</span>, <span class="hljs-number">3</span>), (<span class="hljs-number">2</span>, -<span class="hljs-number">3</span>)]<br>kdtree = KDTree(points3)<br>res = kdtree.query((<span class="hljs-number">1</span>, <span class="hljs-number">1</span>))<br><span class="hljs-built_in">print</span>(res)                                    <span class="hljs-comment"># æ‰¾åˆ°ç‚¹(1, 1)çš„æœ€è¿‘é‚»ç‚¹</span><br></code></pre></td></tr></table></figure><ul><li>è·ç¦»çŸ©é˜µ<ul><li>ä¸¤ä¸ªå‘é‡ä¹‹é—´çš„è·ç¦»ä¸ä»…å¯ä»¥æ˜¯ç›´çº¿é•¿åº¦ï¼Œè¿˜å¯ä»¥æ˜¯å®ƒä»¬ä¸åŸç‚¹çš„å¤¹è§’ï¼Œæˆ–æ‰€éœ€çš„å•ä½æ­¥æ•°ç­‰ã€‚</li><li>æ¬§å‡ é‡Œå¾—è·ç¦»ï¼š<code>euclidean()</code>ã€‚</li><li>ä½™å¼¦è·ç¦»ï¼šæ˜¯Aå’ŒBä¸¤ç‚¹ä¹‹é—´çš„ä½™å¼¦è§’å€¼ï¼Œ<code>cosine()</code>ã€‚</li><li>åŸå¸‚è¡—åŒºè·ç¦»(æ›¼å“ˆé¡¿è·ç¦»)ï¼šé‡‡ç”¨å››æ–¹å‘ç§»åŠ¨è®¡ç®—çš„è·ç¦»ï¼Œ<code>cityblock()</code>ã€‚</li><li>æ±‰æ˜è·ç¦»ï¼šä¸¤ä½ä¸åŒçš„ä½æ¯”ä¾‹ï¼Œæµ‹é‡äºŒè¿›åˆ¶åºåˆ—è·ç¦»çš„æ–¹æ³•ï¼Œ<code>hamming()</code>ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> scipy.spatial.distance <span class="hljs-keyword">import</span> cosine<br><span class="hljs-keyword">from</span> scipy.spatial.distance <span class="hljs-keyword">import</span> hamming<br><span class="hljs-keyword">from</span> scipy.spatial.distance <span class="hljs-keyword">import</span> euclidean<br><span class="hljs-keyword">from</span> scipy.spatial.distance <span class="hljs-keyword">import</span> cityblock<br><br>p1 = (<span class="hljs-number">1</span>, <span class="hljs-number">0</span>)<br>p2 = (<span class="hljs-number">10</span>, <span class="hljs-number">2</span>)<br>res1 = euclidean(p1, p2)<br><span class="hljs-built_in">print</span>(res1)                                   <span class="hljs-comment"># ç»™å®šç‚¹ä¹‹é—´çš„æ¬§å‡ é‡Œå¾—è·ç¦»</span><br><br>res2 = cosine(p1, p2)<br><span class="hljs-built_in">print</span>(res2)                                   <span class="hljs-comment"># ç»™å®šç‚¹ä¹‹é—´çš„ä½™å¼¦è·ç¦»</span><br><br>res3 = cityblock(p1, p2)<br><span class="hljs-built_in">print</span>(res3)                                   <span class="hljs-comment"># ç»™å®šç‚¹ä¹‹é—´çš„è¡—åŒºè·ç¦»</span><br><br>p3 = (<span class="hljs-literal">True</span>, <span class="hljs-literal">False</span>, <span class="hljs-literal">True</span>)<br>p4 = (<span class="hljs-literal">False</span>, <span class="hljs-literal">True</span>, <span class="hljs-literal">True</span>)<br>res4 = hamming(p3, p4)<br><span class="hljs-built_in">print</span>(res4)                                   <span class="hljs-comment"># ç»™å®šç‚¹ä¹‹é—´çš„æ±‰æ˜è·ç¦»</span><br></code></pre></td></tr></table></figure><h1 id="7-Matlabæ•°ç»„"><a href="#7-Matlabæ•°ç»„" class="headerlink" title="7 Matlabæ•°ç»„"></a>7 Matlabæ•°ç»„</h1><ul><li>Matlabæ•°ç»„<ul><li>SciPyæä¾›äº†æ¨¡å—scipy.ioï¼Œå…·æœ‰å¤„ç†Matlabæ•°ç»„çš„åŠŸèƒ½ã€‚</li><li><code>savemat()</code>ï¼šä»¥Matlabæ ¼å¼å¯¼å‡ºæ•°æ®ã€‚<ul><li>mdictï¼šåŒ…å«æ•°æ®çš„å­—å…¸ã€‚</li><li>filenameï¼šä¿å­˜æ•°æ®çš„æ–‡ä»¶åã€‚</li><li>do_compressionï¼šå¸ƒå°”å€¼ï¼ŒæŒ‡å®šæ˜¯å¦å‹ç¼©ç»“æœï¼Œé»˜è®¤ä¸ºå‡ã€‚</li></ul></li><li><code>loadmat()</code>ï¼šä»Matlabæ–‡ä»¶ä¸­å¯¼å…¥æ•°æ®ï¼Œfilenameæ˜¯å¿…é¡»å‚æ•°ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">from</span> scipy <span class="hljs-keyword">import</span> io<br><br>arr1 = np.arange(<span class="hljs-number">10</span>)                          <span class="hljs-comment"># å°†arr1æ•°ç»„ä½œä¸ºå˜é‡åvecå¯¼å‡ºåˆ°arr1_file.matæ–‡ä»¶</span><br>io.savemat(<span class="hljs-string">&#x27;matlab/arr1_file.mat&#x27;</span>, &#123;<span class="hljs-string">&quot;vec&quot;</span>: arr1&#125;)<br><br>arr2 = np.array([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, ])<br>io.savemat(<span class="hljs-string">&#x27;matlab/arr2_file.mat&#x27;</span>, &#123;<span class="hljs-string">&quot;vec&quot;</span>: arr2&#125;)<br>mydata = io.loadmat(<span class="hljs-string">&#x27;matlab/arr2_file.mat&#x27;</span>)   <span class="hljs-comment"># savematå¯¼å‡ºExportï¼Œloadmatå¯¼å…¥Import</span><br><span class="hljs-built_in">print</span>(mydata)                                 <span class="hljs-comment"># ä»arr2_file.matæ–‡ä»¶å¯¼å…¥æ•°ç»„ï¼Œè¿”å›ä¸€ä¸ªç»“æ„åŒ–æ•°ç»„</span><br><span class="hljs-built_in">print</span>(mydata[<span class="hljs-string">&#x27;vec&#x27;</span>])                          <span class="hljs-comment"># ä»…æ˜¾ç¤ºæ¥è‡ªmatlabæ•°æ®çš„æ•°ç»„</span><br><br>mydata = io.loadmat(<span class="hljs-string">&#x27;matlab/arr2_file.mat&#x27;</span>, squeeze_me=<span class="hljs-literal">True</span>)<br><span class="hljs-built_in">print</span>(mydata[<span class="hljs-string">&#x27;vec&#x27;</span>])                          <span class="hljs-comment"># å‚æ•°å»é™¤é¢å¤–å¢åŠ çš„ä¸€ç»´[]</span><br></code></pre></td></tr></table></figure><h1 id="8-æ’å€¼"><a href="#8-æ’å€¼" class="headerlink" title="8 æ’å€¼"></a>8 æ’å€¼</h1><ul><li>æ’å€¼<ul><li>åœ¨ç»™å®šç‚¹ä¹‹é—´ç”Ÿæˆç‚¹çš„æ–¹æ³•ï¼Œä¾‹å¦‚ç‚¹1å’Œ2ï¼Œæ’å€¼å¹¶æ‰¾åˆ°ç‚¹1.33å’Œ1.66ã€‚</li><li>æœºå™¨å­¦ä¹ ä¸­ç»å¸¸å¤„ç†æ•°æ®é›†ä¸­çš„ç¼ºå¤±æ•°æ®ï¼Œæ’å€¼é€šå¸¸ç”¨äºæ›¿æ¢è¿™äº›å€¼ã€‚</li><li>SciPyçš„scipy.interpolateæ¨¡å—å…·æœ‰è®¸å¤šå¤„ç†æ’å€¼çš„å‡½æ•°ã€‚<ul><li>ä¸€ç»´æ’å€¼ï¼š<code>interp1d()</code>ï¼Œç”¨äºå¯¹å…·æœ‰1ä¸ªå˜é‡çš„åˆ†å¸ƒè¿›è¡Œæ’å€¼ï¼Œç‚¹è¢«æ‹Ÿåˆä¸ºæ›²çº¿ã€‚</li><li>æ ·æ¡æ’å€¼ï¼š<code>UnivariateSpline()</code>ï¼Œç‚¹è¢«æ‹Ÿåˆä¸ºä¸€ä¸ªå«æ ·æ¡å¤šé¡¹å¼å®šä¹‰çš„åˆ†æ®µå‡½æ•°ã€‚</li><li>å¾„å‘åŸºå‡½æ•°æ’å€¼ï¼šä½¿ç”¨<code>Rbf()</code>å‡½æ•°ï¼Œå¾„å‘åŸºå‡½æ•°æ˜¯å¯¹åº”äºå›ºå®šå‚è€ƒç‚¹å®šä¹‰çš„å‡½æ•°ã€‚</li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">from</span> scipy.interpolate <span class="hljs-keyword">import</span> Rbf<br><span class="hljs-keyword">from</span> scipy.interpolate <span class="hljs-keyword">import</span> interp1d<br><span class="hljs-keyword">from</span> scipy.interpolate <span class="hljs-keyword">import</span> UnivariateSpline<br><br>xs1 = np.arange(<span class="hljs-number">10</span>)<br>ys1 = <span class="hljs-number">2</span>*xs1 + <span class="hljs-number">1</span><br>interp_func = interp1d(xs1, ys1)<br>newarr1 = interp_func(np.arange(<span class="hljs-number">2.1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">0.1</span>))<br><span class="hljs-built_in">print</span>(newarr1)                                <span class="hljs-comment"># å¯¹äºç»™å®šçš„xs1å’Œys1æ’å€¼ä»2.1ã€2.2...åˆ°2.9</span><br><br>xs2 = np.arange(<span class="hljs-number">10</span>)<br>ys2 = xs2**<span class="hljs-number">2</span> + np.sin(xs2) + <span class="hljs-number">1</span><br>interp_func = UnivariateSpline(xs2, ys2)<br>newarr2 = interp_func(np.arange(<span class="hljs-number">2.1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">0.1</span>))<br><span class="hljs-built_in">print</span>(newarr2)                                <span class="hljs-comment"># ä¸ºéçº¿æ€§ç‚¹æ‰¾åˆ°2.1ã€2.2...2.9çš„å•å˜é‡æ ·æ¡æ’å€¼</span><br><br>xs3 = np.arange(<span class="hljs-number">10</span>)<br>ys3 = xs3**<span class="hljs-number">2</span> + np.sin(xs3) + <span class="hljs-number">1</span><br>interp_func = Rbf(xs3, ys3)<br>newarr3 = interp_func(np.arange(<span class="hljs-number">2.1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">0.1</span>))<br><span class="hljs-built_in">print</span>(newarr3)                                <span class="hljs-comment"># æ’å…¥xs3å’Œys3å¹¶æ‰¾åˆ°2.1ã€2.2...2.9çš„å€¼</span><br></code></pre></td></tr></table></figure><h1 id="9-æ˜¾è‘—æ€§æµ‹è¯•"><a href="#9-æ˜¾è‘—æ€§æµ‹è¯•" class="headerlink" title="9 æ˜¾è‘—æ€§æµ‹è¯•"></a>9 æ˜¾è‘—æ€§æµ‹è¯•</h1><ul><li>æ˜¾è‘—æ€§æµ‹è¯•<ul><li>SciPyæä¾›çš„scipy.statsæ¨¡å—ï¼Œå…·æœ‰æ‰§è¡Œç»Ÿè®¡æ˜¾è‘—æ€§æ£€éªŒçš„åŠŸèƒ½ã€‚</li><li>æŠ€æœ¯åŠå…³é”®å­—<ul><li>ç»Ÿè®¡å­¦å‡è®¾ï¼šå…³äºæ€»ä½“å‚æ•°çš„å‡è®¾ã€‚</li><li>é›¶å‡è®¾ï¼šå‡è®¾è§‚å¯Ÿç»“æœåœ¨ç»Ÿè®¡ä¸Šä¸æ˜¾è‘—ã€‚</li><li>æ›¿ä»£å‡è®¾ï¼šå‡è®¾è§‚å¯Ÿç»“æœæ˜¯ç”±äºæŸç§åŸå› ï¼Œé›¶å‡è®¾çš„æ›¿ä»£å“ã€‚</li><li>ä¸€å°¾æµ‹è¯•ï¼šå½“å‡è®¾ä»…æµ‹è¯•å€¼çš„ä¸€ä¾§æ—¶ï¼Œç§°ä¸ºå•å°¾æ£€éªŒã€‚</li><li>äºŒå°¾æµ‹è¯•ï¼šå½“å‡è®¾æ­£åœ¨æµ‹è¯•å€¼çš„ä¸¤ä¾§æ—¶ï¼Œç§°äºŒå°¾æµ‹è¯•ã€‚</li><li>é˜¿å°”æ³•å€¼ï¼šAlphaå€¼æ˜¯æ˜¾è‘—æ€§æ°´å¹³ã€‚</li><li>På€¼ï¼šæ•°æ®å®é™…ä¸æç«¯çš„æ¥è¿‘ç¨‹åº¦ã€‚</li><li>å¦‚æœPå€¼&lt;&#x3D;Alphaå€¼ï¼Œæ‹’ç»åŸå‡è®¾å¹¶è¯´æ•°æ®å…·æœ‰ç»Ÿè®¡æ˜¾è‘—æ€§ï¼Œå¦åˆ™æ¥å—åŸå‡è®¾ã€‚</li></ul></li><li>Tæ£€éªŒ(åŒå°¾æµ‹è¯•)<ul><li>ç”¨äºç¡®å®šä¸¤ä¸ªå˜é‡çš„å¹³å‡å€¼ä¹‹é—´æ˜¯å¦å­˜åœ¨æ˜¾è‘—å·®å¼‚ï¼Œæ˜¯å¦å±äºåŒä¸€åˆ†å¸ƒã€‚</li><li><code>ttest_ind()</code>ï¼šç”¨ä¸¤ä¸ªç›¸åŒå¤§å°çš„æ ·æœ¬ï¼Œç”Ÿæˆä¸€ä¸ªtç»Ÿè®¡é‡å’Œpå€¼çš„å…ƒç»„ã€‚</li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">from</span> scipy.stats <span class="hljs-keyword">import</span> ttest_ind<br><br>v1 = np.random.normal(size=<span class="hljs-number">100</span>)<br>v2 = np.random.normal(size=<span class="hljs-number">100</span>)<br><br>res = ttest_ind(v1, v2)                       <span class="hljs-comment"># æŸ¥æ‰¾ç»™å®šå€¼v1å’Œv2æ˜¯å¦æ¥è‡ªåŒä¸€åˆ†å¸ƒ</span><br>pes = ttest_ind(v1, v2).pvalue                <span class="hljs-comment"># åªè¿”å›på€¼</span><br><span class="hljs-built_in">print</span>(res)<br><span class="hljs-built_in">print</span>(pes)<br></code></pre></td></tr></table></figure><h2 id="9-1-KSæµ‹è¯•"><a href="#9-1-KSæµ‹è¯•" class="headerlink" title="9-1 KSæµ‹è¯•"></a>9-1 KSæµ‹è¯•</h2><ul><li>KSæµ‹è¯•<ul><li>ç”¨äºæ£€æŸ¥ç»™å®šå€¼æ˜¯å¦æœä»åˆ†å¸ƒï¼Œå¯ä»¥ç”¨ä½œä¸€å°¾æˆ–äºŒå°¾æµ‹è¯•ï¼Œé»˜è®¤æƒ…å†µä¸‹æ˜¯ä¸¤ä¸ªå°¾çš„ã€‚</li><li><code>kstest()</code>å°†è¦æµ‹è¯•çš„å€¼å’ŒCDFä½œä¸ºä¸¤ä¸ªå‚æ•°ï¼ŒCDFå¯ä»¥æ˜¯å­—ç¬¦ä¸²æˆ–è¿”å›æ¦‚ç‡çš„å¯è°ƒç”¨å‡½æ•°ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">from</span> scipy.stats <span class="hljs-keyword">import</span> kstest<br><br>v = np.random.normal(size=<span class="hljs-number">100</span>)<br>res = kstest(v, <span class="hljs-string">&#x27;norm&#x27;</span>)                        <span class="hljs-comment"># æŸ¥æ‰¾ç»™å®šå€¼æ˜¯å¦æœä»æ­£æ€åˆ†å¸ƒ</span><br><span class="hljs-built_in">print</span>(res)<br></code></pre></td></tr></table></figure><h2 id="9-2-ç»Ÿè®¡æè¿°"><a href="#9-2-ç»Ÿè®¡æè¿°" class="headerlink" title="9-2 ç»Ÿè®¡æè¿°"></a>9-2 ç»Ÿè®¡æè¿°</h2><ul><li>ç»Ÿè®¡æè¿°<ul><li>ä½¿ç”¨<code>describe()</code>å‡½æ•°ï¼ŒæŸ¥çœ‹æ•°ç»„ä¸­å€¼çš„æ‘˜è¦ã€‚</li><li>è¿”å›å‚æ•°ï¼šè§‚å¯Ÿæ¬¡æ•°ã€æœ€å°å€¼å’Œæœ€å¤§å€¼ã€å¹³å‡å€¼ã€æ–¹å·®ã€ååº¦ã€å³°åº¦ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">from</span> scipy.stats <span class="hljs-keyword">import</span> describe<br><br>v = np.random.normal(size=<span class="hljs-number">100</span>)<br>res = describe(v)                              <span class="hljs-comment"># æ˜¾ç¤ºæ•°ç»„ä¸­å€¼çš„ç»Ÿè®¡æè¿°</span><br><span class="hljs-built_in">print</span>(res)<br></code></pre></td></tr></table></figure><h2 id="9-3-æ­£æ€æ€§æ£€éªŒ"><a href="#9-3-æ­£æ€æ€§æ£€éªŒ" class="headerlink" title="9-3 æ­£æ€æ€§æ£€éªŒ"></a>9-3 æ­£æ€æ€§æ£€éªŒ</h2><ul><li>æ­£æ€æ€§æ£€éªŒ<ul><li>åŸºäºååº¦å’Œå³°åº¦ï¼Œä½¿ç”¨<code>normaltest()</code>å‡½æ•°è¿”å›åŸå‡è®¾çš„på€¼ã€‚</li><li>ååº¦ï¼šæ•°æ®å¯¹ç§°æ€§çš„åº¦é‡ï¼Œæ­£æ€åˆ†å¸ƒæ—¶æ˜¯0ï¼Œè´Ÿæ•°æ•°æ®å‘å·¦å€¾æ–œï¼Œæ­£æ•°æ•°æ®å‘å³å€¾æ–œã€‚</li><li>å³°åº¦ï¼šè¡¡é‡æ•°æ®æ˜¯é‡å°¾è¿˜æ˜¯è½»å°¾æ­£æ€åˆ†å¸ƒçš„åº¦é‡ï¼Œæ­£å³°åº¦æ˜¯é‡å°¾ï¼Œè´Ÿå³°åº¦åˆ™è½»å¾®æ‹–å°¾ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">from</span> scipy.stats <span class="hljs-keyword">import</span> normaltest<br><span class="hljs-keyword">from</span> scipy.stats <span class="hljs-keyword">import</span> skew, kurtosis<br><br>v = np.random.normal(size=<span class="hljs-number">100</span>)<br><span class="hljs-built_in">print</span>(skew(v))                                 <span class="hljs-comment"># ååº¦</span><br><span class="hljs-built_in">print</span>(kurtosis(v))                             <span class="hljs-comment"># å³°åº¦</span><br><span class="hljs-built_in">print</span>(normaltest(v))                           <span class="hljs-comment"># æŸ¥æ‰¾æ•°æ®æ˜¯å¦æ¥è‡ªæ­£æ€åˆ†å¸ƒ</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>SciPy</tag>
      
      <tag>ç§‘å­¦è®¡ç®—</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python Pandas</title>
    <link href="/2021/06/08/python/python07-python-pandas/"/>
    <url>/2021/06/08/python/python07-python-pandas/</url>
    
    <content type="html"><![CDATA[<p>Pandasæ—¢æŒ‡Panel Dataï¼ŒåˆæŒ‡Data Analysisï¼Œå…·æœ‰åˆ†æã€æ¸…ç†ã€æ¢ç´¢å’Œæ“ä½œæ•°æ®çš„åŠŸèƒ½ï¼Œç”±Wes McKinneyäº2008å¹´åˆ›å»ºã€‚</p><span id="more"></span><h1 id="1-Pandas"><a href="#1-Pandas" class="headerlink" title="1 Pandas"></a>1 Pandas</h1><ul><li>Pandas<ul><li>å‘½ä»¤çª—å£ä¸‹ä½¿ç”¨<code>pip install pandas</code>è¿›è¡Œå®‰è£…ã€‚</li><li>é€šè¿‡importå…³é”®å­—å°†å…¶å¯¼å…¥åº”ç”¨ç¨‹åºï¼Œé€šå¸¸ä»¥<code>pd</code>åˆ«åæ›¿ä»£ã€‚</li><li>æ£€æŸ¥Pandasç‰ˆæœ¬ï¼Œç‰ˆæœ¬å­—ç¬¦ä¸²å­˜å‚¨åœ¨<code>__version__</code>å±æ€§ä¸‹ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd                 <span class="hljs-comment"># å¯¼å…¥æ—¶ä½¿ç”¨å…³é”®å­—åˆ«å</span><br><br>dataset = &#123;<br>    <span class="hljs-string">&quot;cars&quot;</span>: [<span class="hljs-string">&quot;BMW&quot;</span>, <span class="hljs-string">&quot;Volvo&quot;</span>, <span class="hljs-string">&quot;Ford&quot;</span>],<br>    <span class="hljs-string">&quot;passing&quot;</span>: [<span class="hljs-number">3</span>, <span class="hljs-number">7</span>, <span class="hljs-number">2</span>]<br>&#125;<br>var = pd.DataFrame(dataset)<br><span class="hljs-built_in">print</span>(var)<br><br><span class="hljs-built_in">print</span>(pd.__version__)               <span class="hljs-comment"># æ£€æŸ¥Pandasç‰ˆæœ¬</span><br></code></pre></td></tr></table></figure><h1 id="2-åˆ›å»ºç³»åˆ—"><a href="#2-åˆ›å»ºç³»åˆ—" class="headerlink" title="2 åˆ›å»ºç³»åˆ—"></a>2 åˆ›å»ºç³»åˆ—</h1><ul><li>åˆ›å»ºç³»åˆ—<ul><li>Pandas Serieså°±åƒè¡¨æ ¼ä¸­çš„ä¸€åˆ—ï¼Œæ˜¯ä¸€ä¸ªä¿å­˜ä»»ä½•ç±»å‹æ•°æ®çš„ä¸€ç»´æ•°ç»„ã€‚</li><li>è‹¥æœªæŒ‡å®šå…¶ä»–å†…å®¹ï¼Œä½¿ç”¨ç´¢å¼•å·æ ‡è®°å€¼ï¼Œç¬¬ä¸€ä¸ªå€¼ç´¢å¼•ä¸º0ï¼Œç¬¬äºŒä¸ªä¸º1ï¼Œä»¥æ­¤ç±»æ¨ã€‚</li><li>indexå‚æ•°åˆ›å»ºè‡ªå®šä¹‰æ ‡ç­¾ï¼Œåˆ›å»ºç³»åˆ—æ—¶è¿˜å¯ç”¨é”®å€¼å¯¹è±¡ï¼ŒåŒç†indexå‚æ•°æŒ‡å®šæ ‡ç­¾ã€‚</li><li>Pandasä¸­çš„æ•°æ®é›†é€šå¸¸æ˜¯å¤šç»´è¡¨ï¼Œå³DataFramesï¼ŒSeriesæ˜¯åˆ—ï¼ŒDataFrameå°±æ˜¯è¡¨ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br><span class="hljs-built_in">set</span> = [<span class="hljs-number">1</span>, <span class="hljs-number">5</span>, <span class="hljs-number">3</span>]<br>var = pd.Series(<span class="hljs-built_in">set</span>)<br><span class="hljs-built_in">print</span>(var)<br><span class="hljs-built_in">print</span>(var[<span class="hljs-number">0</span>])                       <span class="hljs-comment"># è¿”å›Seriesçš„ç¬¬ä¸€ä¸ªå€¼</span><br><br>var = pd.Series(<span class="hljs-built_in">set</span>, index=[<span class="hljs-string">&quot;x&quot;</span>, <span class="hljs-string">&quot;y&quot;</span>, <span class="hljs-string">&quot;z&quot;</span>])<br><span class="hljs-built_in">print</span>(var)                          <span class="hljs-comment"># åˆ›å»ºè‡ªå®šä¹‰æ ‡ç­¾</span><br><span class="hljs-built_in">print</span>(var[<span class="hljs-string">&quot;y&quot;</span>])                     <span class="hljs-comment"># è¿”å›æ ‡ç­¾ä¸ºyçš„å€¼</span><br><br>dic = &#123;<span class="hljs-string">&quot;day1&quot;</span>: <span class="hljs-number">420</span>, <span class="hljs-string">&quot;day2&quot;</span>: <span class="hljs-number">260</span>, <span class="hljs-string">&quot;day3&quot;</span>: <span class="hljs-number">300</span>&#125;<br>var = pd.Series(dic)                <span class="hljs-comment"># ä»å­—å…¸åˆ›å»ºä¸€ä¸ªç®€å•çš„Pandasç³»åˆ—</span><br><span class="hljs-built_in">print</span>(var)                          <span class="hljs-comment"># å­—å…¸çš„é”®æˆä¸ºæ ‡ç­¾</span><br>var = pd.Series(dic, index=[<span class="hljs-string">&quot;day1&quot;</span>, <span class="hljs-string">&quot;day2&quot;</span>])<br><span class="hljs-built_in">print</span>(var)<br><br>dat = &#123;<br><span class="hljs-string">&quot;cal&quot;</span>: [<span class="hljs-number">210</span>, <span class="hljs-number">260</span>, <span class="hljs-number">300</span>],<br><span class="hljs-string">&quot;dur&quot;</span>: [<span class="hljs-number">50</span>, <span class="hljs-number">30</span>, <span class="hljs-number">10</span>]<br>&#125;<br>var = pd.DataFrame(dat)             <span class="hljs-comment"># ä»ä¸¤ä¸ªç³»åˆ—åˆ›å»ºä¸€ä¸ªæ•°æ®æ¡†DataFrame</span><br><span class="hljs-built_in">print</span>(var)<br></code></pre></td></tr></table></figure><h1 id="3-DataFrame"><a href="#3-DataFrame" class="headerlink" title="3 DataFrame"></a>3 DataFrame</h1><ul><li>DataFrame<ul><li>ä¸€ç§äºŒç»´æ•°æ®ç»“æ„ï¼Œä¾‹å¦‚äºŒç»´æ•°ç»„æˆ–å…·æœ‰è¡Œå’Œåˆ—çš„è¡¨ã€‚</li><li>ä½¿ç”¨locå±æ€§è¿”å›ä¸€ä¸ªæˆ–å¤šä¸ªæŒ‡å®šè¡Œï¼Œindexå‚æ•°è‡ªå®šä¹‰ç´¢å¼•ã€‚</li><li>è‹¥æ•°æ®é›†å­˜å‚¨åœ¨æ–‡ä»¶ä¸­ï¼ŒPandaså¯å°†å…¶åŠ è½½åˆ°DataFrameä¸­ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br>dat = &#123;<br><span class="hljs-string">&quot;cal&quot;</span>: [<span class="hljs-number">210</span>, <span class="hljs-number">260</span>, <span class="hljs-number">300</span>],<br><span class="hljs-string">&quot;dur&quot;</span>: [<span class="hljs-number">50</span>, <span class="hljs-number">30</span>, <span class="hljs-number">10</span>]<br>&#125;<br>var = pd.DataFrame(dat)             <span class="hljs-comment"># ä»ä¸¤ä¸ªç³»åˆ—åˆ›å»ºä¸€ä¸ªæ•°æ®æ¡†DataFrame</span><br><span class="hljs-built_in">print</span>(var)<br><br><span class="hljs-built_in">print</span>(var.loc[<span class="hljs-number">0</span>])                   <span class="hljs-comment"># è¿”å›ç¬¬0è¡Œï¼Œè¿”å›Pandas Series</span><br><span class="hljs-built_in">print</span>(var.loc[[<span class="hljs-number">0</span>, <span class="hljs-number">1</span>]])              <span class="hljs-comment"># è¿”å›ç¬¬0è¡Œå’Œç¬¬1è¡Œï¼Œè¿”å›Pandas DataFrame</span><br><br>var = pd.DataFrame(dat, index=[<span class="hljs-string">&quot;day1&quot;</span>, <span class="hljs-string">&quot;day2&quot;</span>, <span class="hljs-string">&quot;day3&quot;</span>])<br><span class="hljs-built_in">print</span>(var)                          <span class="hljs-comment"># æ·»åŠ åç§°åˆ—è¡¨ç»™æ¯è¡Œå‘½ä»¤</span><br><span class="hljs-built_in">print</span>(var.loc[<span class="hljs-string">&quot;day2&quot;</span>])              <span class="hljs-comment"># ç´¢å¼•è¿”å›æŒ‡å®šçš„è¡Œ</span><br><br><span class="hljs-string">&quot;&quot;&quot; data/demension_data.csv</span><br><span class="hljs-string">    Language    Number</span><br><span class="hljs-string">    Python      50</span><br><span class="hljs-string">    Java        120</span><br><span class="hljs-string">    Golang      112</span><br><span class="hljs-string">    C++         155</span><br><span class="hljs-string">    C#          110</span><br><span class="hljs-string">    C           78</span><br><span class="hljs-string">    JavaScript  99</span><br><span class="hljs-string">    HTML        35</span><br><span class="hljs-string">    CSS         45</span><br><span class="hljs-string">    PHP         75</span><br><span class="hljs-string">    React       15</span><br><span class="hljs-string">    R           25</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br>df = pd.read_csv(<span class="hljs-string">r&quot;data/demension_data.csv&quot;</span>)<br><span class="hljs-built_in">print</span>(df)                           <span class="hljs-comment"># æ–‡ä»¶æ•°æ®é›†åŠ è½½åˆ°DataFrameä¸­ï¼Œæ³¨æ„æ–‡ä»¶è·¯å¾„</span><br></code></pre></td></tr></table></figure><h2 id="3-1-è¯»å–CSV"><a href="#3-1-è¯»å–CSV" class="headerlink" title="3-1 è¯»å–CSV"></a>3-1 è¯»å–CSV</h2><ul><li>è¯»å–CSV<ul><li><code>to_string()</code>ï¼šç”¨äºæ‰“å°æ•´ä¸ªDataFrameã€‚</li><li>è‹¥åŒ…å«å¤šè¡Œçš„å¤§å‹DataFrameï¼ŒPandaså°†åªè¿”å›å‰5è¡Œå’Œæœ€å5è¡Œã€‚</li><li>å¯ä½¿ç”¨<code>pd.options.display.max_rows</code>è¯­å¥æ£€æŸ¥ç³»ç»Ÿçš„æœ€å¤§è¡Œæ•°ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br><span class="hljs-string">&quot;&quot;&quot; data/demension_data.csv</span><br><span class="hljs-string">    Language    Number</span><br><span class="hljs-string">    Python      50</span><br><span class="hljs-string">    Java        120</span><br><span class="hljs-string">    Golang      112</span><br><span class="hljs-string">    C++         155</span><br><span class="hljs-string">    C#          110</span><br><span class="hljs-string">    C           78</span><br><span class="hljs-string">    JavaScript  99</span><br><span class="hljs-string">    HTML        35</span><br><span class="hljs-string">    CSS         45</span><br><span class="hljs-string">    PHP         75</span><br><span class="hljs-string">    React       15</span><br><span class="hljs-string">    R           25</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br>df = pd.read_csv(<span class="hljs-string">r&quot;data/demension_data.csv&quot;</span>)<br><span class="hljs-built_in">print</span>(df.to_string())               <span class="hljs-comment"># æ–‡ä»¶æ•°æ®é›†åŠ è½½åˆ°DataFrameä¸­ï¼Œæ³¨æ„æ–‡ä»¶è·¯å¾„</span><br><span class="hljs-built_in">print</span>(pd.options.display.max_rows)  <span class="hljs-comment"># æ£€æŸ¥è¿”å›çš„æœ€å¤§è¡Œæ•°</span><br><br>pd.options.display.max_rows = <span class="hljs-number">5</span><br>df = pd.read_csv(<span class="hljs-string">r&quot;data/demension_data.csv&quot;</span>)<br><span class="hljs-built_in">print</span>(df)                           <span class="hljs-comment"># æ›´æ”¹æœ€å¤§è¡Œæ•°ï¼Œåªæ˜¾ç¤ºäº”è¡Œ</span><br></code></pre></td></tr></table></figure><h2 id="3-2-è¯»å–JSON"><a href="#3-2-è¯»å–JSON" class="headerlink" title="3-2 è¯»å–JSON"></a>3-2 è¯»å–JSON</h2><ul><li>è¯»å–JSON<ul><li><code>to_string()</code>ï¼šç”¨äºæ‰“å°æ•´ä¸ªDataFrameï¼ŒJSONå¯¹è±¡å…·æœ‰ä¸å­—å…¸ç›¸åŒçš„æ ¼å¼ã€‚</li><li>è‹¥JSONä»£ç ä¸åœ¨æ–‡ä»¶ä¸­ï¼Œåœ¨Pythonå­—å…¸é‡Œï¼Œåˆ™å¯ç›´æ¥å°†å…¶åŠ è½½åˆ°DataFrameä¸­ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br><span class="hljs-string">&quot;&quot;&quot; data/demension_data.json</span><br><span class="hljs-string">&#123;</span><br><span class="hljs-string">    &quot;Duration&quot;: &#123; &quot;0&quot;: 60, &quot;1&quot;: 60, &quot;2&quot;: 60, &quot;3&quot;: 45, &quot;4&quot;: 45, &quot;5&quot;: 60 &#125;,</span><br><span class="hljs-string">    &quot;Pulse&quot;: &#123; &quot;0&quot;: 110, &quot;1&quot;: 117, &quot;2&quot;: 103, &quot;3&quot;: 109, &quot;4&quot;: 117, &quot;5&quot;: 102 &#125;,</span><br><span class="hljs-string">    &quot;Maxpulse&quot;: &#123; &quot;0&quot;: 130, &quot;1&quot;: 145, &quot;2&quot;: 135, &quot;3&quot;: 175, &quot;4&quot;: 148, &quot;5&quot;: 127 &#125;</span><br><span class="hljs-string">&#125;</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br>df = pd.read_json(<span class="hljs-string">r&quot;data/demension_data.json&quot;</span>)<br><span class="hljs-built_in">print</span>(df.to_string())               <span class="hljs-comment"># æ–‡ä»¶æ•°æ®é›†åŠ è½½åˆ°DataFrameä¸­ï¼Œæ³¨æ„æ–‡ä»¶è·¯å¾„</span><br><br>data = &#123;<br>    <span class="hljs-string">&quot;Duration&quot;</span>: &#123;<span class="hljs-string">&quot;0&quot;</span>: <span class="hljs-number">71</span>, <span class="hljs-string">&quot;1&quot;</span>: <span class="hljs-number">73</span>, <span class="hljs-string">&quot;2&quot;</span>: <span class="hljs-number">75</span>&#125;,<br>    <span class="hljs-string">&quot;Pulse&quot;</span>: &#123;<span class="hljs-string">&quot;0&quot;</span>: <span class="hljs-number">30</span>, <span class="hljs-string">&quot;1&quot;</span>: <span class="hljs-number">35</span>, <span class="hljs-string">&quot;2&quot;</span>: <span class="hljs-number">37</span>&#125;,<br>    <span class="hljs-string">&quot;Calories&quot;</span>: &#123;<span class="hljs-string">&quot;0&quot;</span>: <span class="hljs-number">55</span>, <span class="hljs-string">&quot;1&quot;</span>: <span class="hljs-number">57</span>, <span class="hljs-string">&quot;2&quot;</span>: <span class="hljs-number">59</span>&#125;<br>&#125;<br>df = pd.DataFrame(data)             <span class="hljs-comment"># Pythonå­—å…¸åŠ è½½åˆ°DataFrameä¸­</span><br><span class="hljs-built_in">print</span>(df)<br></code></pre></td></tr></table></figure><h1 id="4-åˆ†ææ•°æ®"><a href="#4-åˆ†ææ•°æ®" class="headerlink" title="4 åˆ†ææ•°æ®"></a>4 åˆ†ææ•°æ®</h1><ul><li>åˆ†ææ•°æ®<ul><li><code>head()</code>ï¼šä»é¡¶éƒ¨å¼€å§‹è¿”å›æ ‡é¢˜å’ŒæŒ‡å®šæ•°é‡çš„è¡Œï¼Œä¸æŒ‡å®šè¡Œæ•°æ—¶é»˜è®¤è¿”å›å‰5è¡Œã€‚</li><li><code>tail()</code>ï¼šä»åº•éƒ¨å¼€å§‹è¿”å›æ ‡é¢˜å’ŒæŒ‡å®šæ•°é‡çš„è¡Œï¼Œä¸æŒ‡å®šè¡Œæ•°æ—¶é»˜è®¤è¿”å›å5è¡Œã€‚</li><li><code>info()</code>ï¼šæ‰“å°æœ‰å…³æ•°æ®çš„ä¿¡æ¯ï¼Œè¿”å›RangeIndexè¡Œæ•°å’ŒColumnsåˆ—æ•°ã€æ¯åˆ—åç§°å’Œæ•°æ®ç±»å‹ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br><span class="hljs-string">&quot;&quot;&quot; data/demension_data.csv</span><br><span class="hljs-string">    Language    Number</span><br><span class="hljs-string">    Python      50</span><br><span class="hljs-string">    Java        120</span><br><span class="hljs-string">    Golang      112</span><br><span class="hljs-string">    C++         155</span><br><span class="hljs-string">    C#          110</span><br><span class="hljs-string">    C           78</span><br><span class="hljs-string">    JavaScript  99</span><br><span class="hljs-string">    HTML        35</span><br><span class="hljs-string">    CSS         45</span><br><span class="hljs-string">    PHP         75</span><br><span class="hljs-string">    React       15</span><br><span class="hljs-string">    R           25</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br>df = pd.read_csv(<span class="hljs-string">r&quot;data/demension_data.csv&quot;</span>)<br><span class="hljs-built_in">print</span>(df.head())                    <span class="hljs-comment"># æ‰“å°å‰5è¡Œ</span><br><span class="hljs-built_in">print</span>(df.head(<span class="hljs-number">3</span>))                   <span class="hljs-comment"># æ‰“å°å‰3è¡Œ</span><br><br><span class="hljs-built_in">print</span>(df.tail())                    <span class="hljs-comment"># æ‰“å°å5è¡Œ</span><br><span class="hljs-built_in">print</span>(df.tail(<span class="hljs-number">3</span>))                   <span class="hljs-comment"># æ‰“å°å3è¡Œ</span><br><br><span class="hljs-built_in">print</span>(df.info())                    <span class="hljs-comment"># æ‰“å°æœ‰å…³æ•°æ®çš„ä¿¡æ¯</span><br></code></pre></td></tr></table></figure><h1 id="5-æ¸…ç†æ•°æ®"><a href="#5-æ¸…ç†æ•°æ®" class="headerlink" title="5 æ¸…ç†æ•°æ®"></a>5 æ¸…ç†æ•°æ®</h1><ul><li>æ¸…ç†æ•°æ®<ul><li>æ¸…ç†æ„å‘³ç€ä¿®å¤æ•°æ®é›†ä¸­çš„ä¸è‰¯æ•°æ®ï¼Œå¯èƒ½æ˜¯ç©ºå•å…ƒæ ¼ã€æ•°æ®æ ¼å¼é”™è¯¯ã€é”™è¯¯æ•°æ®æˆ–é‡å¤æ•°æ®ã€‚</li><li><code>dropna()</code>ï¼šåˆ é™¤åŒ…å«ç©ºå•å…ƒæ ¼çš„è¡Œï¼Œè¿”å›æ–°DataFrameä¸”ä¸æ”¹å˜åŸæ¥çš„ï¼Œinplaceå‚æ•°å¯ä»¥æ”¹å˜ã€‚</li><li><code>fillna()</code>ï¼šå…è®¸ç”¨ä¸€ä¸ªå€¼æ›¿æ¢ç©ºå•å…ƒæ ¼ï¼Œé€šè¿‡æŒ‡å®šDataFrameçš„åˆ—åï¼Œå¯ä»¥æ›¿æ¢æŒ‡å®šåˆ—çš„ç©ºå€¼ã€‚</li><li>å¹³å‡å€¼<code>mean()</code>ã€ä¸­ä½æ•°<code>median()</code>å’Œä¼—æ•°<code>mode()</code>æ–¹æ³•è®¡ç®—æŒ‡å®šåˆ—çš„ç›¸åº”å€¼ï¼Œç”¨äºæ›¿æ¢ç©ºå•å…ƒæ ¼ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br>data1 = data2 = data3 = data4 = data5 = data6 = &#123;<br>    <span class="hljs-string">&quot;Duration&quot;</span>: &#123;<span class="hljs-string">&quot;0&quot;</span>: <span class="hljs-number">60</span>, <span class="hljs-string">&quot;1&quot;</span>: <span class="hljs-number">45</span>, <span class="hljs-string">&quot;2&quot;</span>: <span class="hljs-number">45</span>, <span class="hljs-string">&quot;3&quot;</span>: <span class="hljs-number">60</span>&#125;,<br>    <span class="hljs-string">&quot;Date&quot;</span>: &#123;<span class="hljs-string">&quot;0&quot;</span>: <span class="hljs-string">&quot;2020/12/21&quot;</span>, <span class="hljs-string">&quot;1&quot;</span>: np.NaN, <span class="hljs-string">&quot;2&quot;</span>: <span class="hljs-string">&quot;2020/12/18&quot;</span>, <span class="hljs-string">&quot;3&quot;</span>: <span class="hljs-string">&quot;2020/12/28&quot;</span>&#125;,<br>    <span class="hljs-string">&quot;Pulse&quot;</span>: &#123;<span class="hljs-string">&quot;0&quot;</span>: <span class="hljs-number">108</span>, <span class="hljs-string">&quot;1&quot;</span>: <span class="hljs-number">100</span>, <span class="hljs-string">&quot;2&quot;</span>: <span class="hljs-number">90</span>, <span class="hljs-string">&quot;3&quot;</span>: <span class="hljs-number">103</span>&#125;,<br>    <span class="hljs-string">&quot;Maxpulse&quot;</span>: &#123;<span class="hljs-string">&quot;0&quot;</span>: <span class="hljs-number">131</span>, <span class="hljs-string">&quot;1&quot;</span>: <span class="hljs-number">119</span>, <span class="hljs-string">&quot;2&quot;</span>: <span class="hljs-number">112</span>, <span class="hljs-string">&quot;3&quot;</span>: <span class="hljs-number">132</span>&#125;,<br>    <span class="hljs-string">&quot;Calories&quot;</span>: &#123;<span class="hljs-string">&quot;0&quot;</span>: <span class="hljs-number">364.2</span>, <span class="hljs-string">&quot;1&quot;</span>: <span class="hljs-number">282.0</span>, <span class="hljs-string">&quot;2&quot;</span>: np.NaN, <span class="hljs-string">&quot;3&quot;</span>: np.NaN&#125;<br>&#125;<br>df = pd.DataFrame(data1)            <span class="hljs-comment"># Pythonå­—å…¸åŠ è½½åˆ°DataFrameä¸­</span><br>new_df = df.dropna()                <span class="hljs-comment"># è¿”å›æ²¡æœ‰ç©ºå•å…ƒæ ¼çš„DataFrame</span><br><span class="hljs-built_in">print</span>(new_df.to_string())<br><br><span class="hljs-built_in">print</span>(df.to_string())<br>df.dropna(inplace=<span class="hljs-literal">True</span>)             <span class="hljs-comment"># æ”¹å˜åŸå§‹DataFrame</span><br><span class="hljs-built_in">print</span>(df.to_string())<br><br>df = pd.DataFrame(data2)<br>df.fillna(<span class="hljs-number">120</span>, inplace=<span class="hljs-literal">True</span>)        <span class="hljs-comment"># æ•°å­—120æ›¿æ¢NULLå€¼</span><br><span class="hljs-built_in">print</span>(df.to_string())<br><br>df = pd.DataFrame(data3)<br>df[<span class="hljs-string">&quot;Calories&quot;</span>].fillna(<span class="hljs-number">150</span>, inplace=<span class="hljs-literal">True</span>)<br><span class="hljs-built_in">print</span>(df.to_string())               <span class="hljs-comment"># æ›¿æ¢æŒ‡å®šåˆ—çš„NULLå€¼</span><br><br>df = pd.DataFrame(data4)<br>dx = df[<span class="hljs-string">&quot;Calories&quot;</span>].mean()          <span class="hljs-comment"># è®¡ç®—å¹³å‡å€¼ï¼Œå¹¶æ›¿æ¢ç©ºå€¼</span><br>df[<span class="hljs-string">&quot;Calories&quot;</span>].fillna(dx, inplace=<span class="hljs-literal">True</span>)<br><span class="hljs-built_in">print</span>(df.to_string())<br><br>df = pd.DataFrame(data5)<br>dx = df[<span class="hljs-string">&quot;Calories&quot;</span>].median()        <span class="hljs-comment"># è®¡ç®—ä¸­ä½æ•°ï¼Œå¹¶æ›¿æ¢ç©ºå€¼</span><br>df[<span class="hljs-string">&quot;Calories&quot;</span>].fillna(dx, inplace=<span class="hljs-literal">True</span>)<br><span class="hljs-built_in">print</span>(df.to_string())<br><br>df = pd.DataFrame(data6)<br>dx = df[<span class="hljs-string">&quot;Calories&quot;</span>].mode()[<span class="hljs-number">0</span>]       <span class="hljs-comment"># è®¡ç®—ä¼—æ•°ï¼Œå¹¶æ›¿æ¢ç©ºå€¼</span><br>df[<span class="hljs-string">&quot;Calories&quot;</span>].fillna(dx, inplace=<span class="hljs-literal">True</span>)<br><span class="hljs-built_in">print</span>(df.to_string())<br></code></pre></td></tr></table></figure><ul><li>é”™è¯¯æ ¼å¼<ul><li>åˆ é™¤ç›¸åº”è¡Œï¼Œæˆ–å°†åˆ—ä¸­çš„æ‰€æœ‰å•å…ƒæ ¼è½¬æ¢ä¸ºç›¸åŒæ ¼å¼ã€‚</li><li><code>to_datetime()</code>ï¼šå°†åˆ—ä¸­çš„æ—¥æœŸå…ƒç´ è½¬æ¢ä¸ºæ—¥æœŸæ ¼å¼ã€‚</li><li><code>dropna()</code>ï¼šNaTå€¼å³ç©ºæ—¥æœŸï¼Œå¯å°†å…¶å¤„ç†ä¸ºNULLå€¼ï¼Œåˆ é™¤å¯¹åº”è¡Œã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br>data1 = data2 = &#123;<br>    <span class="hljs-string">&quot;Duration&quot;</span>: &#123;<span class="hljs-string">&quot;0&quot;</span>: <span class="hljs-number">45</span>, <span class="hljs-string">&quot;1&quot;</span>: <span class="hljs-number">60</span>, <span class="hljs-string">&quot;2&quot;</span>: <span class="hljs-number">45</span>, <span class="hljs-string">&quot;3&quot;</span>: <span class="hljs-number">60</span>&#125;,<br>    <span class="hljs-string">&quot;Date&quot;</span>: &#123;<span class="hljs-string">&quot;0&quot;</span>: np.NaN, <span class="hljs-string">&quot;1&quot;</span>: <span class="hljs-string">&quot;2020/12/23&quot;</span>, <span class="hljs-string">&quot;2&quot;</span>: <span class="hljs-string">&quot;2020/12/24&quot;</span>, <span class="hljs-string">&quot;3&quot;</span>: <span class="hljs-number">20201226</span>&#125;,<br>    <span class="hljs-string">&quot;Pulse&quot;</span>: &#123;<span class="hljs-string">&quot;0&quot;</span>: <span class="hljs-number">100</span>, <span class="hljs-string">&quot;1&quot;</span>: <span class="hljs-number">130</span>, <span class="hljs-string">&quot;2&quot;</span>: <span class="hljs-number">105</span>, <span class="hljs-string">&quot;3&quot;</span>: <span class="hljs-number">100</span>&#125;,<br>    <span class="hljs-string">&quot;Maxpulse&quot;</span>: &#123;<span class="hljs-string">&quot;0&quot;</span>: <span class="hljs-number">119</span>, <span class="hljs-string">&quot;1&quot;</span>: <span class="hljs-number">101</span>, <span class="hljs-string">&quot;2&quot;</span>: <span class="hljs-number">132</span>, <span class="hljs-string">&quot;3&quot;</span>: <span class="hljs-number">120</span>&#125;,<br>    <span class="hljs-string">&quot;Calories&quot;</span>: &#123;<span class="hljs-string">&quot;0&quot;</span>: <span class="hljs-number">282.0</span>, <span class="hljs-string">&quot;1&quot;</span>: <span class="hljs-number">300.0</span>, <span class="hljs-string">&quot;2&quot;</span>: <span class="hljs-number">246.0</span>, <span class="hljs-string">&quot;3&quot;</span>: <span class="hljs-number">250.0</span>&#125;<br>&#125;<br>df = pd.DataFrame(data1)            <span class="hljs-comment"># Pythonå­—å…¸åŠ è½½åˆ°DataFrameä¸­</span><br>df[<span class="hljs-string">&quot;Date&quot;</span>] = pd.to_datetime(df[<span class="hljs-string">&quot;Date&quot;</span>])<br><span class="hljs-built_in">print</span>(df.to_string())               <span class="hljs-comment"># è½¬æ¢ä¸ºæ—¥æœŸ</span><br><br>df = pd.DataFrame(data2)<br>df.dropna(subset=[<span class="hljs-string">&quot;Date&quot;</span>], inplace=<span class="hljs-literal">True</span>)<br><span class="hljs-built_in">print</span>(df.to_string())               <span class="hljs-comment"># åˆ é™¤æ—¥æœŸä¸ºNULLå€¼çš„è¡Œ</span><br></code></pre></td></tr></table></figure><ul><li>é”™è¯¯æ•°æ®<ul><li>é”™è¯¯æ•°æ®ä¸ä¸€å®šæ˜¯ç©ºå•å…ƒæ ¼æˆ–é”™è¯¯æ ¼å¼ï¼Œä¹Ÿå¯èƒ½åªæ˜¯é”™è¯¯çš„ã€‚</li><li>é”™è¯¯æ•°æ®å¯èƒ½æ˜¯æ‹¼å†™é”™è¯¯ï¼Œå¯ä»¥åœ¨å¯¹åº”è¡Œæ’å…¥æ•°æ®è¿›è¡Œæ›¿æ¢ã€‚</li><li>å¦ä¸€ç§å¤„ç†æ–¹æ³•å°±æ˜¯ä½¿ç”¨<code>drop()</code>æ–¹æ³•åˆ é™¤åŒ…å«é”™è¯¯æ•°æ®çš„è¡Œã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br><span class="hljs-string">&quot;&quot;&quot; data/erroneous_data.csv</span><br><span class="hljs-string">    Duration    Date          Pulse     Maxpulse    Calories</span><br><span class="hljs-string">    60          2020/12/01    110       130         409.1</span><br><span class="hljs-string">    60          2020/12/02    117       145         479.0</span><br><span class="hljs-string">    600         2020/12/03    103       135         340.0</span><br><span class="hljs-string">    45          2020/12/04    109       175         282.4</span><br><span class="hljs-string">    450         2020/12/05    117       148         406.0</span><br><span class="hljs-string">    60          2020/12/06    102       127         300.0</span><br><span class="hljs-string">    60          2020/12/07    110       136         374.0</span><br><span class="hljs-string">    30          2020/12/09    109       133         195.1</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br>df = pd.read_csv(<span class="hljs-string">&quot;data/erroneous_data.csv&quot;</span>)<br>df.loc[<span class="hljs-number">2</span>, <span class="hljs-string">&quot;Duration&quot;</span>] = <span class="hljs-number">50</span>          <span class="hljs-comment"># ç¬¬2è¡ŒDurationè®¾ç½®ä¸º50</span><br><span class="hljs-built_in">print</span>(df.to_string())<br><br>df = pd.read_csv(<span class="hljs-string">&quot;data/erroneous_data.csv&quot;</span>)<br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> df.index:                  <span class="hljs-comment"># è‹¥æ˜¯å¤§æ•°æ®é›†æ›¿æ¢ï¼Œå¯åˆ›å»ºä¸€äº›è§„åˆ™</span><br>    <span class="hljs-keyword">if</span> df.loc[x, <span class="hljs-string">&quot;Duration&quot;</span>] &gt; <span class="hljs-number">100</span>:<br>        df.loc[x, <span class="hljs-string">&quot;Duration&quot;</span>] = <span class="hljs-number">100</span><br><span class="hljs-built_in">print</span>(df.to_string())<br><br>df = pd.read_csv(<span class="hljs-string">&quot;data/erroneous_data.csv&quot;</span>)<br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> df.index:                  <span class="hljs-comment"># åˆ›å»ºè§„åˆ™ï¼Œåˆ é™¤è¡Œ</span><br>    <span class="hljs-keyword">if</span> df.loc[x, <span class="hljs-string">&quot;Duration&quot;</span>] &gt; <span class="hljs-number">50</span>:<br>        df.drop(x, inplace=<span class="hljs-literal">True</span>)<br><span class="hljs-built_in">print</span>(df.to_string())<br></code></pre></td></tr></table></figure><ul><li>é‡å¤æ•°æ®<ul><li><code>duplicated()</code>ï¼šä¸ºæ¯ä¸€è¡Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œé‡å¤å°†è¿”å›Trueï¼Œå¦åˆ™ä¸ºFalseã€‚</li><li><code>drop_duplicates()</code>ï¼šåˆ é™¤é‡å¤é¡¹ï¼Œinplaceå‚æ•°ä¼šä»åŸå§‹DataFrameä¸­åˆ é™¤ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br><span class="hljs-string">&quot;&quot;&quot; data/duplicate_data.csv</span><br><span class="hljs-string">    Duration    Date        Pulse   Maxpulse    Calories</span><br><span class="hljs-string">    65          2020/12/01  110     130         409.1</span><br><span class="hljs-string">    60          2020/12/02  117     145         479.0</span><br><span class="hljs-string">    60          2020/12/02  117     145         479.0</span><br><span class="hljs-string">    45          2020/12/04  109     175         282.4</span><br><span class="hljs-string">    45          2020/12/05  117     148         406.0</span><br><span class="hljs-string">    60          2020/12/06  102     127         300.0</span><br><span class="hljs-string">    60          2020/12/07  110     136         374.0</span><br><span class="hljs-string">    30          2020/12/09  109     133         195.1</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br>df = pd.read_csv(<span class="hljs-string">r&quot;data/duplicate_data.csv&quot;</span>)<br><span class="hljs-built_in">print</span>(df.duplicated())              <span class="hljs-comment"># é‡å¤çš„è¡Œå°†è¿”å›Trueï¼Œå¦åˆ™ä¸ºFalse</span><br><br>df.drop_duplicates(inplace=<span class="hljs-literal">True</span>)<br><span class="hljs-built_in">print</span>(df.to_string())<br></code></pre></td></tr></table></figure><h1 id="6-æ•°æ®ç›¸å…³æ€§"><a href="#6-æ•°æ®ç›¸å…³æ€§" class="headerlink" title="6 æ•°æ®ç›¸å…³æ€§"></a>6 æ•°æ®ç›¸å…³æ€§</h1><ul><li>æ•°æ®ç›¸å…³æ€§<ul><li><code>corr()</code>ï¼šè®¡ç®—æ•°æ®é›†ä¸­æ¯ä¸€åˆ—ä¹‹é—´çš„å…³ç³»ï¼Œè¯¥æ–¹æ³•å°†å¿½ç•¥éæ•°å­—åˆ—ã€‚</li><li>è¿”å›ç»“æœæ˜¯ä¸€ä¸ªåŒ…å«å¤§é‡æ•°å­—çš„è¡¨æ ¼ï¼Œè¿™äº›æ•°å­—è¡¨ç¤ºä¸¤åˆ—ä¹‹é—´çš„å…³ç³»ã€‚</li><li>æ•°å­—ä»-1åˆ°1ä¸ç­‰ã€‚<ul><li>1è¡¨ç¤ºå®Œå…¨ç›¸å…³ï¼Œæ•°æ®é›†ä¸­ï¼Œæ¯æ¬¡ç¬¬ä¸€åˆ—ä¸­çš„å€¼ä¸Šå‡ï¼Œå¦ä¸€ä¸ªå€¼ä¹Ÿä¼šä¸Šå‡ã€‚</li><li>0.9è¡¨ç¤ºè‰¯å¥½ç›¸å…³ï¼Œå¢åŠ ä¸€ä¸ªå€¼ï¼Œå¦ä¸€ä¸ªå¯èƒ½ä¹Ÿå¢åŠ ã€‚</li><li>-0.9ä¹Ÿæ˜¯è‰¯å¥½ç›¸å…³ï¼Œå¢åŠ ä¸€ä¸ªå€¼ï¼Œå¦ä¸€ä¸ªå¯èƒ½ä¼šä¸‹é™ã€‚</li><li>0.2è¡¨ç¤ºä¸è‰¯ç›¸å…³ï¼Œæ„å‘³ç€å¦‚æœä¸€ä¸ªå€¼ä¸Šå‡ï¼Œå¦ä¸€ä¸ªå€¼ä¸ä¸€å®šä¸Šå‡ã€‚</li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br><span class="hljs-string">&quot;&quot;&quot; data/data_dependency.csv</span><br><span class="hljs-string">    Duration    Pulse   Maxpulse    Calories</span><br><span class="hljs-string">    60          110     130         409.1</span><br><span class="hljs-string">    60          117     145         479.0</span><br><span class="hljs-string">    60          103     135         340.0</span><br><span class="hljs-string">    45          109     175         282.4</span><br><span class="hljs-string">    45          117     148         406.0</span><br><span class="hljs-string">    60          102     127         300.0</span><br><span class="hljs-string">    60          110     136         374.0</span><br><span class="hljs-string">    45          104     134         253.3</span><br><span class="hljs-string">    30          109     133         195.1</span><br><span class="hljs-string">    60          98      124         269.0</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br>df = pd.read_csv(<span class="hljs-string">r&quot;data/data_dependency.csv&quot;</span>)<br><span class="hljs-built_in">print</span>(df.to_string())<br><span class="hljs-built_in">print</span>(df.corr())                    <span class="hljs-comment"># æ˜¾ç¤ºåˆ—ä¹‹é—´çš„å…³ç³»</span><br></code></pre></td></tr></table></figure><h1 id="7-å¯è§†åŒ–å›¾è¡¨"><a href="#7-å¯è§†åŒ–å›¾è¡¨" class="headerlink" title="7 å¯è§†åŒ–å›¾è¡¨"></a>7 å¯è§†åŒ–å›¾è¡¨</h1><ul><li>å¯è§†åŒ–å›¾è¡¨<ul><li><code>plot()</code>æ–¹æ³•åˆ›å»ºå›¾è¡¨ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨Matplotlibåº“çš„å­æ¨¡å—Pyplotåˆ›å»ºã€‚</li><li>ç›´æ–¹å›¾ï¼šæŒ‡å®šå‚æ•°<code>kind=&quot;hist&quot;</code>ï¼Œå¹¶ä¸”åªéœ€è¦ä¸€åˆ—ã€‚</li><li>æ•£ç‚¹å›¾ï¼šæŒ‡å®šå‚æ•°<code>kind=&quot;scatter&quot;</code>ï¼Œå¹¶éœ€xè½´å’Œyè½´ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt     <span class="hljs-comment"># ä»Matplotlibå¯¼å…¥pyplot</span><br><br><span class="hljs-string">&quot;&quot;&quot; data/data_dependency.csv</span><br><span class="hljs-string">    Duration    Pulse   Maxpulse    Calories</span><br><span class="hljs-string">    60          110     130         409.1</span><br><span class="hljs-string">    60          117     145         479.0</span><br><span class="hljs-string">    60          103     135         340.0</span><br><span class="hljs-string">    45          109     175         282.4</span><br><span class="hljs-string">    45          117     148         406.0</span><br><span class="hljs-string">    60          102     127         300.0</span><br><span class="hljs-string">    60          110     136         374.0</span><br><span class="hljs-string">    45          104     134         253.3</span><br><span class="hljs-string">    30          109     133         195.1</span><br><span class="hljs-string">    60          98      124         269.0</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br>df = pd.read_csv(<span class="hljs-string">r&quot;data/data_dependency.csv&quot;</span>)<br>df.plot()<br>plt.show()<br><br>df[<span class="hljs-string">&quot;Duration&quot;</span>].plot(kind=<span class="hljs-string">&quot;hist&quot;</span>)<br>plt.show()                          <span class="hljs-comment"># ç›´æ–¹å›¾</span><br><br>df.plot(kind=<span class="hljs-string">&quot;scatter&quot;</span>, x=<span class="hljs-string">&quot;Duration&quot;</span>, y=<span class="hljs-string">&quot;Calories&quot;</span>)<br>plt.show()                          <span class="hljs-comment"># æ•£ç‚¹å›¾</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Pandas</tag>
      
      <tag>æ•°æ®åˆ†æ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python NumPy å‡½æ•°</title>
    <link href="/2021/05/05/python/python06-python-numpy-han-shu/"/>
    <url>/2021/05/05/python/python06-python-numpy-han-shu/</url>
    
    <content type="html"><![CDATA[<p>NumPyæ•°ç»„å­˜å‚¨åœ¨å†…å­˜ä¸­çš„ä¸€ä¸ªè¿ç»­ä½ç½®ï¼Œå› æ­¤è¿›ç¨‹å¯ä»¥éå¸¸æœ‰æ•ˆåœ°è®¿é—®å’Œæ“ä½œï¼Œæ­¤è¡Œä¸ºåœ¨è®¡ç®—æœºç§‘å­¦ä¸­è¢«ç§°ä¸ºå±€éƒ¨æ€§ã€‚</p><span id="more"></span><h1 id="1-Ufunc"><a href="#1-Ufunc" class="headerlink" title="1 Ufunc"></a>1 Ufunc</h1><ul><li>Ufunc<ul><li>å³é€šç”¨å‡½æ•°ï¼ŒæŒ‡å¯¹ndarrayå¯¹è±¡è¿›è¡Œæ“ä½œçš„NumPyå‡½æ•°ï¼Œç”¨äºå®ç°çŸ¢é‡åŒ–ã€‚</li><li>ufuncæä¾›äº†å¹¿æ’­å’Œå…¶ä»–æ–¹æ³•ï¼Œå¯¹è®¡ç®—éå¸¸æœ‰å¸®åŠ©ï¼Œä¹Ÿæä¾›äº†é¢å¤–çš„å‚æ•°ã€‚<ul><li>outï¼šå¤åˆ¶è¿”å›å€¼çš„è¾“å‡ºæ•°ç»„ã€‚</li><li>dtypeï¼šå®šä¹‰å…ƒç´ çš„è¿”å›ç±»å‹ã€‚</li><li>whereï¼šå¸ƒå°”æ•°ç»„æˆ–æ¡ä»¶å®šä¹‰æ“ä½œåº”åœ¨å“ªé‡Œå‘ç”Ÿã€‚</li></ul></li><li>çŸ¢é‡åŒ–ï¼šå°†è¿­ä»£è¯­å¥è½¬æ¢ä¸ºåŸºäºå‘é‡çš„æ“ä½œï¼Œç°ä»£CPUä¼˜åŒ–äº†æ­¤ç±»æ“ä½œï¼Œé€Ÿåº¦æ›´å¿«ã€‚</li><li>ä¾‹å¦‚ï¼šæ·»åŠ ä¸¤ä¸ªåˆ—è¡¨<code>[1ã€2ã€3ã€4]</code>å’Œ<code>[4ã€5ã€6ã€7]</code>çš„å…ƒç´ ã€‚<ul><li>æ–¹æ³•ä¸€ï¼šå…ˆéå†ä¸¤ä¸ªåˆ—è¡¨ï¼Œç„¶åå†å¯¹åˆ—è¡¨çš„æ¯ä¸ªå…ƒç´ æ±‚å’Œã€‚</li><li>æ–¹æ³•äºŒï¼šufuncæä¾›äº†<code>add(x, y)</code>å‡½æ•°ï¼Œä¼šäº§ç”Ÿç›¸åŒçš„ç»“æœã€‚</li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>x = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]<br>y = [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>]<br>z = []<br><span class="hljs-keyword">for</span> i, j <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(x, y):              <span class="hljs-comment"># ä½¿ç”¨Pythonçš„å†…ç½®zip()</span><br>    z.append(i + j)<br><span class="hljs-built_in">print</span>(z)<br><br>k = np.add(x, y)                    <span class="hljs-comment"># ä½¿ç”¨ufuncçš„add()å‡½æ•°</span><br><span class="hljs-built_in">print</span>(k)<br></code></pre></td></tr></table></figure><ul><li>åˆ›å»ºUfunc<ul><li>åˆ›å»ºufuncï¼Œå¿…é¡»å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œç±»ä¼¼Pythonä¸­ä½¿ç”¨æ™®é€šå‡½æ•°ã€‚</li><li>ç”¨<code>frompyfunc()</code>å°†å…¶æ·»åŠ åˆ°NumPy ufuncåº“ä¸­ï¼Œæœ‰ä»¥ä¸‹å‚æ•°ã€‚<ul><li>functionï¼šå‡½æ•°åç§°ã€‚</li><li>inputsï¼šè¾“å…¥å‚æ•°(æ•°ç»„)çš„æ•°é‡ã€‚</li><li>outputsï¼šè¾“å‡ºå‚æ•°(æ•°ç»„)çš„æ•°é‡ã€‚</li></ul></li><li>æ£€æŸ¥æ˜¯å¦ä¸ºufuncå‡½æ•°ï¼Œåº”è¿”å›<code>&lt;class &#39;numpy.ufunc&#39;&gt;</code>ã€‚</li><li>ifè¯­å¥ä¸­æµ‹è¯•å‡½æ•°æ˜¯å¦ä¸ºufuncï¼Œéœ€è¦ä½¿ç”¨<code>numpy.ufunc</code>å€¼ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">myadd</span>(<span class="hljs-params">x, y</span>):<br>    <span class="hljs-keyword">return</span> x+y<br><br><br>myadd = np.frompyfunc(myadd, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>)  <span class="hljs-comment"># åˆ›å»ºufuncå‡½æ•°</span><br><span class="hljs-built_in">print</span>(myadd([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>], [<span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>]))<br><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(myadd))<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(np.add))                 <span class="hljs-comment"># æ£€æŸ¥å‡½æ•°æ˜¯å¦ä¸ºufunc</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(np.concatenate))<br><span class="hljs-comment"># print(type(np.blahblah))          # å‡½æ•°æ— æ³•è¯†åˆ«ï¼Œè¿”å›é”™è¯¯</span><br><br><span class="hljs-keyword">if</span> <span class="hljs-built_in">type</span>(np.add) == np.ufunc:        <span class="hljs-comment"># numpy.ufunc</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Add is ufunc.&quot;</span>)<br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Add is not ufunc.&quot;</span>)<br></code></pre></td></tr></table></figure><h1 id="2-ç®€å•ç®—æœ¯"><a href="#2-ç®€å•ç®—æœ¯" class="headerlink" title="2 ç®€å•ç®—æœ¯"></a>2 ç®€å•ç®—æœ¯</h1><ul><li>ç®€å•ç®—æœ¯<ul><li>åŠ ï¼š<code>add()</code>å‡½æ•°å°†ä¸¤ä¸ªæ•°ç»„çš„å†…å®¹ç›¸åŠ ï¼Œå¹¶åœ¨ä¸€ä¸ªæ–°æ•°ç»„ä¸­è¿”å›ç»“æœã€‚</li><li>å‡ï¼š<code>subtract()</code>å‡½æ•°å°†ä¸¤ä¸ªæ•°ç»„çš„å†…å®¹ç›¸å‡ï¼Œå¹¶åœ¨ä¸€ä¸ªæ–°æ•°ç»„ä¸­è¿”å›ç»“æœã€‚</li><li>ä¹˜ï¼š<code>multiply()</code>å‡½æ•°å°†ä¸¤ä¸ªæ•°ç»„çš„å†…å®¹ç›¸ä¹˜ï¼Œå¹¶åœ¨ä¸€ä¸ªæ–°æ•°ç»„ä¸­è¿”å›ç»“æœã€‚</li><li>é™¤ï¼š<code>divide()</code>å‡½æ•°å°†ä¸¤ä¸ªæ•°ç»„çš„å†…å®¹ç›¸é™¤ï¼Œå¹¶ä¸”åœ¨ä¸€ä¸ªæ–°æ•°ç»„ä¸­è¿”å›ç»“æœã€‚</li><li>å¹‚ï¼š<code>power()</code>å‡½æ•°å°†ä¸€ä¸ªæ•°ç»„çš„å€¼ä¹˜ä»¥å¦ä¸€ä¸ªæ•°ç»„å€¼çš„å¹‚å¹¶åœ¨æ–°æ•°ç»„ä¸­è¿”å›ç»“æœã€‚</li><li>ä½™ï¼š<code>mod()</code>å’Œ<code>remainder()</code>å‡½æ•°éƒ½ä¼šåœ¨ä¸€ä¸ªæ–°æ•°ç»„ä¸­è¿”å›ä¸¤ä¸ªæ•°ç»„å€¼ç›¸é™¤çš„ä½™æ•°ã€‚</li><li>å•†å’Œæ¨¡ï¼š<code>divmod()</code>å‡½æ•°ï¼Œè¿”å›å€¼æ˜¯ä¸¤ä¸ªæ•°ç»„ï¼Œç¬¬ä¸€ä¸ªæ•°ç»„åŒ…å«å•†ï¼Œç¬¬äºŒä¸ªæ•°ç»„åŒ…å«æ¨¡ã€‚</li><li>ç»å¯¹å€¼ï¼š<code>absolute()</code>å’Œ<code>abs()</code>å‡½æ•°ï¼Œå°½é‡ç”¨<code>absolute()</code>ï¼Œé¿å…ä¸<code>math.abs()</code>æ··æ·†ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>arr1 = np.array([<span class="hljs-number">10</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">13</span>, <span class="hljs-number">14</span>, <span class="hljs-number">15</span>])<br>arr2 = np.array([<span class="hljs-number">20</span>, <span class="hljs-number">21</span>, <span class="hljs-number">22</span>, <span class="hljs-number">23</span>, <span class="hljs-number">24</span>, <span class="hljs-number">25</span>])<br>arr3 = np.add(arr1, arr2)           <span class="hljs-comment"># å°†arr1çš„å€¼æ·»åŠ åˆ°arr2ä¸­</span><br><span class="hljs-built_in">print</span>(arr3)<br><br>arr4 = np.subtract(arr1, arr2)      <span class="hljs-comment"># å°†arr1çš„å€¼å‡å»arr2çš„å€¼</span><br><span class="hljs-built_in">print</span>(arr4)<br>arr4 = np.absolute(arr4)            <span class="hljs-comment"># è¿”å›arr4å€¼çš„ç»å¯¹å€¼</span><br><span class="hljs-built_in">print</span>(arr4)<br><br>arr5 = np.divide(arr1, arr2)        <span class="hljs-comment"># å°†arr1çš„å€¼é™¤ä»¥arr2çš„å€¼</span><br><span class="hljs-built_in">print</span>(arr5)<br><br>arr6 = np.array([<span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>])<br>arr7 = np.power(arr1, arr6)         <span class="hljs-comment"># å°†arr1çš„å€¼æé«˜åˆ°arr6å€¼çš„å¹‚</span><br><span class="hljs-built_in">print</span>(arr7)<br><br>arr8 = np.mod(arr1, arr6)           <span class="hljs-comment"># è¿”å›arr1é™¤ä»¥arr6å€¼çš„ä½™æ•°</span><br><span class="hljs-built_in">print</span>(arr8)<br>arr8 = np.remainder(arr1, arr6)<br><span class="hljs-built_in">print</span>(arr8)<br><br>arr9 = np.<span class="hljs-built_in">divmod</span>(arr1, arr6)        <span class="hljs-comment"># è¿”å›arr1é™¤ä»¥arr6çš„å•†å’Œæ¨¡</span><br><span class="hljs-built_in">print</span>(arr9)<br></code></pre></td></tr></table></figure><h2 id="2-1-å››èˆäº”å…¥"><a href="#2-1-å››èˆäº”å…¥" class="headerlink" title="2-1 å››èˆäº”å…¥"></a>2-1 å››èˆäº”å…¥</h2><ul><li>å››èˆäº”å…¥<ul><li>NumPyä¸­ä¸»è¦æœ‰å¦‚ä¸‹äº”ç§å¯¹å°æ•°è¿›è¡Œå››èˆäº”å…¥çš„æ–¹æ³•ã€‚</li><li>é€šè¿‡<code>around()</code>å‡½æ•°å°†å…ƒç´ å››èˆäº”å…¥åˆ°å°æ•°ç‚¹åæŒ‡å®šä½ã€‚</li><li><code>trunc()</code>å’Œ<code>fix()</code>å‡½æ•°åˆ é™¤å°æ•°å¹¶è¿”å›æœ€æ¥è¿‘é›¶çš„æµ®ç‚¹æ•°ã€‚</li><li>ä½¿ç”¨<code>ceil()</code>å‡½æ•°å°†å°æ•°å››èˆäº”å…¥åˆ°æœ€æ¥è¿‘çš„è¾ƒé«˜æ•´æ•°(å‘ä¸Šå–æ•´)ã€‚</li><li>ä½¿ç”¨<code>floor()</code>å‡½æ•°å°†å°æ•°å››èˆäº”å…¥åˆ°æœ€æ¥è¿‘çš„è¾ƒä½æ•´æ•°(å‘ä¸‹å–æ•´)ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>arr1 = np.around(<span class="hljs-number">3.1666</span>, <span class="hljs-number">2</span>)<br><span class="hljs-built_in">print</span>(arr1)                         <span class="hljs-comment"># å°†3.1666å››èˆäº”å…¥åˆ°å°æ•°ç‚¹å2ä½</span><br><br>arr2 = np.trunc([-<span class="hljs-number">3.1666</span>, <span class="hljs-number">3.6667</span>])<br><span class="hljs-built_in">print</span>(arr2)                         <span class="hljs-comment"># æˆªæ–­æ•°ç»„å…ƒç´ </span><br><br>arr3 = np.fix([-<span class="hljs-number">3.1666</span>, <span class="hljs-number">3.6667</span>])<br><span class="hljs-built_in">print</span>(arr3)<br><br>arr4 = np.ceil([-<span class="hljs-number">3.1666</span>, <span class="hljs-number">3.6667</span>])<br><span class="hljs-built_in">print</span>(arr4)                         <span class="hljs-comment"># å‘ä¸Šå–æ•´</span><br><br>arr5 = np.floor([-<span class="hljs-number">3.1666</span>, <span class="hljs-number">3.6667</span>])<br><span class="hljs-built_in">print</span>(arr5)                         <span class="hljs-comment"># è¿”å›ä¸€ä¸ªæµ®ç‚¹æ•°ï¼Œå‘ä¸‹å–æ•´ï¼Œä¸trunc()å‡½æ•°è¿”å›çš„ä¸åŒ</span><br></code></pre></td></tr></table></figure><h2 id="2-2-å¯¹æ•°å‡½æ•°"><a href="#2-2-å¯¹æ•°å‡½æ•°" class="headerlink" title="2-2 å¯¹æ•°å‡½æ•°"></a>2-2 å¯¹æ•°å‡½æ•°</h2><ul><li>å¯¹æ•°å‡½æ•°<ul><li>NumPyæä¾›äº†ä»¥eã€2å’Œ10ä¸ºåº•çš„logå‡½æ•°ï¼Œä¸æä¾›æŒ‡å®šåº•æ•°çš„logå‡½æ•°ã€‚</li><li>è‹¥æ— æ³•è®¡ç®—logå‡½æ•°ï¼Œé‚£ä¹ˆæ‰€æœ‰çš„logå‡½æ•°éƒ½å°†åœ¨å…ƒç´ ä¸­æ”¾ç½®-infæˆ–infã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">from</span> math <span class="hljs-keyword">import</span> log<br><br>arr = np.arange(<span class="hljs-number">1</span>, <span class="hljs-number">10</span>)              <span class="hljs-comment"># è¿”å›ä¸€ä¸ªä»1-10çš„æ•´æ•°æ•°ç»„</span><br><span class="hljs-built_in">print</span>(np.log(arr))                  <span class="hljs-comment"># è‡ªç„¶å¯¹æ•°</span><br><span class="hljs-built_in">print</span>(np.log2(arr))<br><span class="hljs-built_in">print</span>(np.log10(arr))<br><br>nplog = np.frompyfunc(log, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>)<br><span class="hljs-built_in">print</span>(nplog(<span class="hljs-number">100</span>, <span class="hljs-number">15</span>))               <span class="hljs-comment"># æŒ‡å®šåº•æ•°ä¸º15çš„logå‡½æ•°</span><br></code></pre></td></tr></table></figure><h2 id="2-3-æ•°ç»„æ±‚å’Œ"><a href="#2-3-æ•°ç»„æ±‚å’Œ" class="headerlink" title="2-3 æ•°ç»„æ±‚å’Œ"></a>2-3 æ•°ç»„æ±‚å’Œ</h2><ul><li>æ•°ç»„æ±‚å’Œ<ul><li>åŠ æ³•æ˜¯åœ¨ä¸¤ä¸ªå‚æ•°ä¹‹é—´å®Œæˆçš„ï¼Œè€Œæ±‚å’Œåˆ™æ˜¯åœ¨nä¸ªå…ƒç´ ä¹‹é—´è¿›è¡Œçš„ã€‚</li><li>è½´ä¸Šæ±‚å’Œï¼šæŒ‡å®š<code>axis=1</code>ï¼ŒNumPyå°†å¯¹æ¯ä¸ªæ•°ç»„ä¸­çš„æ•°å­—è¿›è¡Œæ±‚å’Œã€‚</li><li>éƒ¨åˆ†æ±‚å’Œï¼šä½¿ç”¨<code>cumsum()</code>å‡½æ•°ï¼Œä¾‹å¦‚<code>[1, 2, 3]</code>éƒ¨åˆ†æ±‚å’Œä¸º<code>[1, 1+2, 1+2+3]</code>ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>arr1 = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])<br>arr2 = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])<br>arr3 = np.add(arr1, arr2)           <span class="hljs-comment"># å°†arr1çš„å€¼æ·»åŠ åˆ°arr2çš„å€¼ï¼ŒåŠ æ³•</span><br><span class="hljs-built_in">print</span>(arr3)<br>arr3 = np.<span class="hljs-built_in">sum</span>([arr1, arr2])         <span class="hljs-comment"># å°†arr1çš„å€¼ä¸arr2çš„å€¼ç›¸åŠ ï¼Œæ±‚å’Œ</span><br><span class="hljs-built_in">print</span>(arr3)<br><br>arr4 = np.<span class="hljs-built_in">sum</span>([arr1, arr2], axis=<span class="hljs-number">1</span>)<br><span class="hljs-built_in">print</span>(arr4)                         <span class="hljs-comment"># åœ¨arr1çš„è½´ä¸Šæ±‚å’Œ</span><br><br>arr5 = np.cumsum(arr1)              <span class="hljs-comment"># ç´¯è®¡æ±‚å’Œ(éƒ¨åˆ†æ±‚å’Œ)</span><br><span class="hljs-built_in">print</span>(arr5)<br></code></pre></td></tr></table></figure><h2 id="2-4-æ•°ç»„ä¹˜ç§¯"><a href="#2-4-æ•°ç»„ä¹˜ç§¯" class="headerlink" title="2-4 æ•°ç»„ä¹˜ç§¯"></a>2-4 æ•°ç»„ä¹˜ç§¯</h2><ul><li>æ•°ç»„ä¹˜ç§¯<ul><li>æŸ¥æ‰¾æ•°ç»„ä¸­å…ƒç´ çš„ä¹˜ç§¯ï¼Œå¯ä»¥ä½¿ç”¨<code>prod()</code>å‡½æ•°ã€‚</li><li>è½´ä¸Šä¹˜ç§¯ï¼šæŒ‡å®š<code>axis=1</code>ï¼ŒNumPyå°†è¿”å›æ¯ä¸ªæ•°ç»„çš„ä¹˜ç§¯ã€‚</li><li>éƒ¨åˆ†ä¹˜ç§¯ï¼šä½¿ç”¨<code>cumprod()</code>å‡½æ•°ï¼Œä¾‹å¦‚<code>[1, 2, 3]</code>éƒ¨åˆ†ä¹˜ç§¯ä¸º<code>[1, 1*2, 1*2*3]</code>ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>arr1 = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>])<br>arr2 = np.array([<span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>])<br>arr3 = np.prod(arr1)                <span class="hljs-comment"># arr1æ•°ç»„å…ƒç´ çš„ä¹˜ç§¯ï¼Œ1*2*3*4</span><br><span class="hljs-built_in">print</span>(arr3)<br>arr3 = np.prod([arr1, arr2])        <span class="hljs-comment"># arr1å’Œarr2å…ƒç´ çš„ä¹˜ç§¯ï¼Œ1*2*3*4*5*6*7*8</span><br><span class="hljs-built_in">print</span>(arr3)<br><br>arr4 = np.prod([arr1, arr2], axis=<span class="hljs-number">1</span>)<br><span class="hljs-built_in">print</span>(arr4)                         <span class="hljs-comment"># åœ¨arr1çš„è½´ä¸Šä¹˜ç§¯</span><br><br>arr5 = np.cumprod(arr2)             <span class="hljs-comment"># ç´¯è®¡ä¹˜ç§¯(éƒ¨åˆ†ä¹˜ç§¯)</span><br><span class="hljs-built_in">print</span>(arr5)<br></code></pre></td></tr></table></figure><h2 id="2-5-æ•°ç»„å·®é›†"><a href="#2-5-æ•°ç»„å·®é›†" class="headerlink" title="2-5 æ•°ç»„å·®é›†"></a>2-5 æ•°ç»„å·®é›†</h2><ul><li>æ•°ç»„å·®é›†<ul><li>ä½¿ç”¨<code>diff()</code>å‡½æ•°ï¼Œä¾‹å¦‚<code>[1, 2, 3]</code>å·®é›†æ˜¯<code>[2-1, 3-2]</code>ã€‚</li><li>é€šè¿‡ç»™å®šå‚æ•°né‡å¤æ‰§è¡Œæ“ä½œï¼Œä¾‹å¦‚n&#x3D;2ï¼Œ<code>[1, 2, 3]</code>å·®é›†å†å·®é›†æ˜¯<code>[1-1]</code>ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>arr1 = np.array([<span class="hljs-number">10</span>, <span class="hljs-number">15</span>, <span class="hljs-number">25</span>, <span class="hljs-number">5</span>])<br>arr2 = np.diff(arr1)                 <span class="hljs-comment"># arr1æ•°ç»„å…ƒç´ çš„å·®é›†ï¼Œ[15-10, 25-15, 5-25]</span><br><span class="hljs-built_in">print</span>(arr2)<br><br>arr3 = np.diff(arr1, n=<span class="hljs-number">2</span>)            <span class="hljs-comment"># arr1æ•°ç»„å…ƒç´ çš„å·®é›†å†å·®é›†ï¼Œ[10-5, -20-10]</span><br><span class="hljs-built_in">print</span>(arr3)<br></code></pre></td></tr></table></figure><h1 id="3-ä¸‰è§’å‡½æ•°"><a href="#3-ä¸‰è§’å‡½æ•°" class="headerlink" title="3 ä¸‰è§’å‡½æ•°"></a>3 ä¸‰è§’å‡½æ•°</h1><ul><li>ä¸‰è§’å‡½æ•°<ul><li>NumPyæä¾›æ­£å¼¦å‡½æ•°<code>sin()</code>ã€ä½™å¼¦å‡½æ•°<code>cos()</code>å’Œæ­£åˆ‡å‡½æ•°<code>tan()</code>ã€‚</li><li>ä¸‰è§’å‡½æ•°é»˜è®¤å°†å¼§åº¦ä½œä¸ºå‚æ•°<ul><li>é€šè¿‡<code>deg2rad()</code>å‡½æ•°ï¼Œå¯ä»¥å°†æ•°ç»„ä¸­çš„æ‰€æœ‰å€¼è½¬æ¢ä¸ºå¼§åº¦ã€‚</li><li>ä½¿ç”¨<code>rad2deg()</code>å‡½æ•°ï¼Œå¯ä»¥å°†æ•°ç»„ä¸­çš„æ‰€æœ‰å€¼è½¬æ¢ä¸ºåº¦æ•°ã€‚</li></ul></li><li>è¿˜æä¾›äº†åæ­£å¼¦<code>arcsin()</code>ã€åä½™å¼¦<code>arccos()</code>å’Œåæ­£åˆ‡<code>arctan()</code>ï¼Œç”Ÿæˆå¼§åº¦å€¼(è§’åº¦)ã€‚</li><li>NumPyæä¾›<code>hypot()</code>å‡½æ•°ï¼ŒåŸºäºæ¯•è¾¾å“¥æ‹‰æ–¯å®šç†(å³å‹¾è‚¡å®šç†)è·å–åŸºå€¼å’Œå‚ç›´å€¼å¹¶äº§ç”Ÿæ–œè¾¹ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>x = np.sin(np.pi/<span class="hljs-number">2</span>)                 <span class="hljs-comment"># PI/2çš„æ­£å¼¦å€¼</span><br><span class="hljs-built_in">print</span>(x)<br>arr1 = np.array([np.pi/<span class="hljs-number">2</span>, np.pi/<span class="hljs-number">3</span>, np.pi/<span class="hljs-number">4</span>, np.pi/<span class="hljs-number">5</span>])<br>arr2 = np.sin(arr1)                 <span class="hljs-comment"># æ•°ç»„arr1æ‰€æœ‰å€¼çš„æ­£å¼¦å€¼</span><br><span class="hljs-built_in">print</span>(arr2)<br><br>arr3 = np.array([<span class="hljs-number">90</span>, <span class="hljs-number">180</span>, <span class="hljs-number">270</span>, <span class="hljs-number">360</span>])<br>arr4 = np.deg2rad(arr3)             <span class="hljs-comment"># å°†æ•°ç»„arr3æ‰€æœ‰å€¼è½¬æ¢ä¸ºå¼§åº¦</span><br><span class="hljs-built_in">print</span>(arr4)<br>arr5 = np.array([np.pi/<span class="hljs-number">2</span>, np.pi, <span class="hljs-number">1.5</span>*np.pi, <span class="hljs-number">2</span>*np.pi])<br>arr6 = np.rad2deg(arr5)             <span class="hljs-comment"># å°†æ•°ç»„arr5æ‰€æœ‰å€¼è½¬æ¢ä¸ºåº¦æ•°</span><br><span class="hljs-built_in">print</span>(arr5)<br><br>y = np.arcsin(<span class="hljs-number">1.0</span>)                  <span class="hljs-comment"># 1.0çš„è§’åº¦</span><br><span class="hljs-built_in">print</span>(y)<br>arr7 = np.array([<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>, <span class="hljs-number">0.1</span>])<br>arr8 = np.arcsin(arr7)              <span class="hljs-comment"># æ•°ç»„arr7ä¸­æ‰€æœ‰æ­£å¼¦å€¼çš„è§’åº¦</span><br><span class="hljs-built_in">print</span>(arr8)<br><br>base = <span class="hljs-number">3</span><br>perp = <span class="hljs-number">4</span><br>z = np.hypot(base, perp)            <span class="hljs-comment"># å‹¾è‚¡å®šç†æ±‚æ–œè¾¹</span><br><span class="hljs-built_in">print</span>(z)<br></code></pre></td></tr></table></figure><h1 id="4-åŒæ›²å‡½æ•°"><a href="#4-åŒæ›²å‡½æ•°" class="headerlink" title="4 åŒæ›²å‡½æ•°"></a>4 åŒæ›²å‡½æ•°</h1><ul><li>åŒæ›²å‡½æ•°<ul><li>NumPyæä¾›åŒæ›²æ­£å¼¦å‡½æ•°<code>sinh()</code>ã€åŒæ›²ä½™å¼¦å‡½æ•°<code>cosh()</code>å’ŒåŒæ›²æ­£åˆ‡å‡½æ•°<code>tanh()</code>ã€‚</li><li>è¿˜æä¾›äº†ååŒæ›²æ­£å¼¦<code>arcsinh()</code>ã€ååŒæ›²ä½™å¼¦<code>arccosh()</code>å’ŒååŒæ›²æ­£åˆ‡<code>arctanh()</code>ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>x = np.sinh(np.pi/<span class="hljs-number">2</span>)                <span class="hljs-comment"># PI/2çš„åŒæ›²æ­£å¼¦å€¼</span><br><span class="hljs-built_in">print</span>(x)<br>arr1 = np.array([np.pi/<span class="hljs-number">2</span>, np.pi/<span class="hljs-number">3</span>, np.pi/<span class="hljs-number">4</span>, np.pi/<span class="hljs-number">5</span>])<br>arr2 = np.cosh(arr1)                <span class="hljs-comment"># æ•°ç»„arr1æ‰€æœ‰å€¼çš„åŒæ›²ä½™å¼¦å€¼</span><br><span class="hljs-built_in">print</span>(arr2)<br><br>y = np.arcsinh(<span class="hljs-number">1.0</span>)                 <span class="hljs-comment"># 1.0çš„è§’åº¦</span><br><span class="hljs-built_in">print</span>(y)<br>arr3 = np.array([<span class="hljs-number">0.1</span>, <span class="hljs-number">0.2</span>, <span class="hljs-number">0.5</span>])<br>arr4 = np.arctanh(arr3)             <span class="hljs-comment"># æ•°ç»„arr3æ‰€æœ‰tanhå€¼çš„è§’åº¦</span><br><span class="hljs-built_in">print</span>(arr4)<br></code></pre></td></tr></table></figure><h1 id="5-é›†åˆæ“ä½œ"><a href="#5-é›†åˆæ“ä½œ" class="headerlink" title="5 é›†åˆæ“ä½œ"></a>5 é›†åˆæ“ä½œ</h1><ul><li>é›†åˆæ“ä½œ<ul><li>åˆ›å»ºä¸€ä¸ªé›†åˆæ•°ç»„ï¼Œé›†åˆæ•°ç»„åªèƒ½æ˜¯ä¸€ç»´æ•°ç»„ã€‚</li><li><code>unique()</code>ï¼šå¯ä»¥ä»æ•°ç»„ä¸­æŸ¥æ‰¾å”¯ä¸€å…ƒç´ (é›†åˆ)ã€‚</li><li><code>union1d()</code>ï¼šå¯ä»¥æŸ¥æ‰¾ä¸¤ä¸ªæ•°ç»„çš„å”¯ä¸€å€¼(å¹¶é›†)ã€‚</li><li><code>intersect1d()</code>ï¼šä»…æŸ¥æ‰¾ä¸¤ä¸ªæ•°ç»„éƒ½å­˜åœ¨çš„å€¼(äº¤é›†)ã€‚<ul><li>å¯é€‰å‚æ•°assume_uniqueä¸ºTrueæ—¶åŠ å¿«è®¡ç®—é€Ÿåº¦ã€‚</li><li>åœ¨å¤„ç†é›†åˆæ—¶ï¼Œassume_uniqueåº”å§‹ç»ˆè®¾ç½®ä¸ºTrueã€‚</li></ul></li><li><code>setdiff1d()</code>ï¼šä»…æŸ¥æ‰¾ä¸€ä¸ªæ•°ç»„ä¸­ä¸å­˜åœ¨äºå¦ä¸€ä¸ªæ•°ç»„ä¸­çš„å€¼(å·®é›†)ï¼Œå‚æ•°assume_uniqueåŒä¸Šã€‚</li><li><code>setxor1d()</code>ï¼šåªå±äºä¸€ä¸ªé›†åˆä¸å±äºå¦ä¸€é›†åˆçš„å…ƒç´ é›†åˆ(å¯¹ç§°å·®é›†)ï¼Œå‚æ•°assume_uniqueåŒä¸Šã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>arr1 = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>])<br>arr2 = np.unique(arr1)              <span class="hljs-comment"># å°†å…·æœ‰é‡å¤å…ƒç´ çš„æ•°ç»„è½¬æ¢ä¸ºé›†åˆ</span><br><span class="hljs-built_in">print</span>(arr2)<br><br>arr3 = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>])<br>arr4 = np.array([<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>])<br>arr5 = np.union1d(arr3, arr4)       <span class="hljs-comment"># arr3å’Œarr4çš„å¹¶é›†</span><br><span class="hljs-built_in">print</span>(arr5)<br><br>arr6 = np.intersect1d(arr3, arr4, assume_unique=<span class="hljs-literal">True</span>)<br><span class="hljs-built_in">print</span>(arr6)                         <span class="hljs-comment"># arr3å’Œarr4çš„äº¤é›†</span><br><br>arr7 = np.setdiff1d(arr3, arr4, assume_unique=<span class="hljs-literal">True</span>)<br><span class="hljs-built_in">print</span>(arr7)                         <span class="hljs-comment"># arr3å’Œarr4çš„å·®é›†</span><br><br>arr8 = np.setxor1d(arr3, arr4, assume_unique=<span class="hljs-literal">True</span>)<br><span class="hljs-built_in">print</span>(arr8)                         <span class="hljs-comment"># arr3å’Œarr4çš„å¯¹ç§°å·®é›†</span><br></code></pre></td></tr></table></figure><h1 id="6-æœ€å°å…¬å€æ•°"><a href="#6-æœ€å°å…¬å€æ•°" class="headerlink" title="6 æœ€å°å…¬å€æ•°"></a>6 æœ€å°å…¬å€æ•°</h1><ul><li>æœ€å°å…¬å€æ•°<ul><li>ä½¿ç”¨<code>lcm()</code>å‡½æ•°ï¼Œå¯ä»¥æŸ¥æ‰¾ä¸¤ä¸ªæ•°çš„æœ€å°å…¬å€æ•°ã€‚</li><li>æŸ¥æ‰¾æ•°ç»„ä¸­æ‰€æœ‰å€¼çš„æœ€å°å…¬å€æ•°ç”¨<code>reduce()</code>æ–¹æ³•ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>num1 = <span class="hljs-number">4</span><br>num2 = <span class="hljs-number">6</span><br>x = np.lcm(num1, num2)              <span class="hljs-comment"># num1å’Œnum2çš„æœ€å°å…¬å€æ•°</span><br><span class="hljs-built_in">print</span>(x)<br><br>arr1 = np.array([<span class="hljs-number">3</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>])<br>y = np.lcm.reduce(arr1)             <span class="hljs-comment"># æ•°ç»„arr1æ‰€æœ‰å…ƒç´ çš„æœ€å°å…¬å€æ•°</span><br><span class="hljs-built_in">print</span>(y)<br><br>arr2 = np.arange(<span class="hljs-number">1</span>, <span class="hljs-number">11</span>)             <span class="hljs-comment"># åŒ…å«1-10æ‰€æœ‰æ•´æ•°çš„æ•°ç»„æœ€å°å…¬å€æ•°</span><br>z = np.lcm.reduce(arr2)<br><span class="hljs-built_in">print</span>(z)<br></code></pre></td></tr></table></figure><h1 id="7-æœ€å¤§å…¬çº¦æ•°"><a href="#7-æœ€å¤§å…¬çº¦æ•°" class="headerlink" title="7 æœ€å¤§å…¬çº¦æ•°"></a>7 æœ€å¤§å…¬çº¦æ•°</h1><ul><li>æœ€å¤§å…¬çº¦æ•°<ul><li>ä½¿ç”¨<code>gcd()</code>å‡½æ•°ï¼Œå¯ä»¥æŸ¥æ‰¾ä¸¤ä¸ªæ•°çš„æœ€å¤§å…¬çº¦æ•°ã€‚</li><li>æŸ¥æ‰¾æ•°ç»„ä¸­æ‰€æœ‰å€¼çš„æœ€å¤§å…¬çº¦æ•°ç”¨<code>reduce()</code>æ–¹æ³•ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>num1 = <span class="hljs-number">6</span><br>num2 = <span class="hljs-number">9</span><br>x = np.gcd(num1, num2)              <span class="hljs-comment"># num1å’Œnum2çš„æœ€å¤§å…¬çº¦æ•°</span><br><span class="hljs-built_in">print</span>(x)<br><br>arr = np.array([<span class="hljs-number">20</span>, <span class="hljs-number">8</span>, <span class="hljs-number">32</span>, <span class="hljs-number">36</span>, <span class="hljs-number">16</span>])<br>y = np.gcd.reduce(arr)              <span class="hljs-comment"># æ•°ç»„arræ‰€æœ‰å…ƒç´ çš„æœ€å¤§å…¬çº¦æ•°</span><br><span class="hljs-built_in">print</span>(y)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>NumPy</tag>
      
      <tag>æ•°æ®å¤„ç†</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python NumPy éšæœº</title>
    <link href="/2021/04/06/python/python05-python-numpy-sui-ji/"/>
    <url>/2021/04/06/python/python05-python-numpy-sui-ji/</url>
    
    <content type="html"><![CDATA[<p>NumPyåº“å¤šæ•°éœ€è¦å¿«é€Ÿè®¡ç®—çš„éƒ¨åˆ†ä¸»è¦ç”±Cæˆ–C++ç¼–å†™ï¼Œæ—¨åœ¨æä¾›ä¸€ä¸ªæ¯”ä¼ ç»ŸPythonåˆ—è¡¨å¿«50å€çš„æ•°ç»„å¯¹è±¡ï¼Œå³ndarrayã€‚</p><span id="more"></span><h1 id="1-éšæœºæ•°"><a href="#1-éšæœºæ•°" class="headerlink" title="1 éšæœºæ•°"></a>1 éšæœºæ•°</h1><ul><li>éšæœºæ•°<ul><li>ä¼ªéšæœºæ•°ï¼šé€šè¿‡ä¸€äº›ç®—æ³•ç”Ÿæˆçš„éšæœºæ•°ã€‚<ul><li>é€šè¿‡randomå¤„ç†éšæœºæ•°ï¼Œ<code>randint()</code>è¿”å›éšæœºæ•´æ•°ï¼Œ<code>rand()</code>è¿”å›0-1ä¹‹é—´çš„éšæœºæµ®ç‚¹æ•°ã€‚</li><li><code>randint()</code>ä½¿ç”¨sizeå‚æ•°æ¥åˆ¶ä½œéšæœºæ•°ç»„ï¼Œ<code>randint()</code>å’Œ<code>rand()</code>éƒ½å…è®¸æŒ‡å®šæ•°ç»„çš„å½¢çŠ¶ã€‚</li><li><code>choice()</code>å…è®¸æ ¹æ®æ•°ç»„å€¼ç”Ÿæˆéšæœºå€¼ï¼Œæ·»åŠ ä¸€ä¸ªsizeå‚æ•°æ¥æŒ‡å®šæ•°ç»„çš„å½¢çŠ¶ã€‚</li></ul></li><li>çœŸéšæœºæ•°ï¼šæ²¡æœ‰è§„å¾‹ï¼Œä¸èƒ½é¢„è§çš„æ•°ï¼Œä½¿ç”¨ç‰©ç†ç°è±¡äº§ç”Ÿï¼Œä¾‹å¦‚æŠ•ç¡¬å¸çŒœæµ‹æ­£åé¢ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> numpy <span class="hljs-keyword">import</span> random<br><br>x = random.randint(<span class="hljs-number">100</span>)<br><span class="hljs-built_in">print</span>(x)                    <span class="hljs-comment"># 0-100çš„éšæœºæ•´æ•°</span><br>y = random.rand()<br><span class="hljs-built_in">print</span>(y)                    <span class="hljs-comment"># 0-1çš„éšæœºæµ®ç‚¹æ•°</span><br><br>x = random.randint(<span class="hljs-number">100</span>, size=(<span class="hljs-number">5</span>))<br><span class="hljs-built_in">print</span>(x)                    <span class="hljs-comment"># ç”Ÿæˆä¸€ä¸ªä¸€ç»´æ•°ç»„ï¼ŒåŒ…å«5ä¸ªä»0-100çš„éšæœºæ•´æ•°</span><br>y = random.randint(<span class="hljs-number">100</span>, size=(<span class="hljs-number">3</span>, <span class="hljs-number">5</span>))<br><span class="hljs-built_in">print</span>(y)                    <span class="hljs-comment"># ç”Ÿæˆä¸€ä¸ª3è¡Œçš„äºŒç»´æ•°ç»„ï¼Œæ¯è¡ŒåŒ…å«5ä¸ªä»0-100çš„éšæœºæ•´æ•°</span><br><br>x = random.rand(<span class="hljs-number">5</span>)<br><span class="hljs-built_in">print</span>(x)                    <span class="hljs-comment"># ç”Ÿæˆä¸€ä¸ªä¸€ç»´æ•°ç»„ï¼ŒåŒ…å«5ä¸ª0-1ä¹‹é—´çš„éšæœºæµ®ç‚¹æ•°</span><br>y = random.rand(<span class="hljs-number">3</span>, <span class="hljs-number">5</span>)<br><span class="hljs-built_in">print</span>(y)                    <span class="hljs-comment"># ç”Ÿæˆä¸€ä¸ª3è¡Œçš„äºŒç»´æ•°ç»„ï¼Œæ¯è¡ŒåŒ…å«5ä¸ª0-1ä¹‹é—´çš„éšæœºæµ®ç‚¹æ•°</span><br><br>x = random.choice([<span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>])<br><span class="hljs-built_in">print</span>(x)                    <span class="hljs-comment"># è¿”å›æ•°ç»„ä¸­çš„ä¸€ä¸ªå€¼</span><br>y = random.choice([<span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>], size=(<span class="hljs-number">3</span>, <span class="hljs-number">5</span>))<br><span class="hljs-built_in">print</span>(y)                    <span class="hljs-comment"># ç”Ÿæˆä¸€ä¸ªç”±æ•°ç»„å‚æ•°3ã€5ã€7å’Œ9ä¸­çš„å€¼ç»„æˆçš„äºŒç»´æ•°ç»„</span><br></code></pre></td></tr></table></figure><h1 id="2-æ•°æ®åˆ†å¸ƒ"><a href="#2-æ•°æ®åˆ†å¸ƒ" class="headerlink" title="2 æ•°æ®åˆ†å¸ƒ"></a>2 æ•°æ®åˆ†å¸ƒ</h1><ul><li>æ•°æ®åˆ†å¸ƒ<ul><li>æŒ‡åœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸­é€šè¿‡åˆç†åˆ†å¸ƒæ•°æ®ï¼Œæé«˜æ•°æ®æ“ä½œè‡ªç„¶å¹¶è¡Œåº¦ï¼Œä»¥è¾¾åˆ°æœ€ä¼˜æ‰§è¡Œæ•ˆç‡çš„ç›®çš„ã€‚</li><li>ä¸»è¦å†…å®¹æ˜¯æ•°æ®ä½ç½®çš„å­˜æ”¾å’Œé«˜æ•ˆçš„æ•°æ®åˆ’åˆ†é—®é¢˜ï¼Œæ˜¯æ‰€æœ‰å¯èƒ½å€¼çš„åˆ—è¡¨åŠæ¯ä¸ªå€¼å‡ºç°çš„é¢‘ç‡ã€‚</li><li>éšæœºåˆ†å¸ƒï¼šä¸€ç»„éµå¾ªä¸€å®šæ¦‚ç‡å¯†åº¦å‡½æ•°çš„éšæœºæ•°ã€‚<ul><li>æ¦‚ç‡å¯†åº¦å‡½æ•°ï¼šæè¿°è¿ç»­æ¦‚ç‡çš„å‡½æ•°ï¼Œå³æ•°ç»„ä¸­æ‰€æœ‰å€¼çš„æ¦‚ç‡ã€‚</li><li><code>choice()</code>æ–¹æ³•ä¾æ®å®šä¹‰çš„æ¦‚ç‡ç”Ÿæˆéšæœºæ•°ï¼Œå…è®¸æŒ‡å®šæ¯ä¸ªå€¼çš„æ¦‚ç‡ã€‚</li><li>æ¦‚ç‡ç”±0-1ä¹‹é—´çš„æ•°å­—è®¾ç½®ï¼Œ0è¡¨ç¤ºè¯¥å€¼æ°¸è¿œä¸ä¼šå‡ºç°ï¼Œ1è¡¨ç¤ºå§‹ç»ˆå‡ºç°ã€‚</li><li>æ‰€æœ‰çš„æ¦‚ç‡æ•°ä¹‹å’Œä¸º1ï¼Œè¿˜å¯ä»¥é€šè¿‡sizeå‚æ•°æŒ‡å®šæ•°ç»„çš„å½¢çŠ¶æ¥è¿”å›æ•°ç»„ã€‚</li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> numpy <span class="hljs-keyword">import</span> random<br><br><span class="hljs-comment"># ç”Ÿæˆä¸€ä¸ªåŒ…å«100ä¸ªå€¼çš„ä¸€ç»´æ•°ç»„ï¼Œå…¶ä¸­ç”Ÿæˆ3çš„æ¦‚ç‡ä¸º0.1ï¼Œ5æ¦‚ç‡0.3ï¼Œ7æ¦‚ç‡0.6ï¼Œ9æ¦‚ç‡0</span><br>x = random.choice([<span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>], p=[<span class="hljs-number">0.1</span>, <span class="hljs-number">0.3</span>, <span class="hljs-number">0.6</span>, <span class="hljs-number">0.0</span>], size=<span class="hljs-number">100</span>)<br><span class="hljs-built_in">print</span>(x)<br></code></pre></td></tr></table></figure><h1 id="3-éšæœºæ’åˆ—"><a href="#3-éšæœºæ’åˆ—" class="headerlink" title="3 éšæœºæ’åˆ—"></a>3 éšæœºæ’åˆ—</h1><ul><li>éšæœºæ’åˆ—<ul><li><code>shuffle()</code>ï¼šå°±åœ°æ”¹å˜æ•°ç»„å…ƒç´ çš„æ’åºï¼Œå³å¯¹åŸå§‹æ•°ç»„è¿›è¡Œçš„æ›´æ”¹ã€‚</li><li><code>permutation()</code>ï¼šè¿”å›ä¸€ä¸ªé‡æ–°æ’åˆ—çš„æ•°ç»„ï¼Œå¹¶ä¿æŒåŸå§‹æ•°ç»„ä¸å˜ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">from</span> numpy <span class="hljs-keyword">import</span> random<br><br>arr1 = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>])<br>random.shuffle(arr1)                 <span class="hljs-comment"># éšæœºæ‰“ä¹±æ•°ç»„å…ƒç´ </span><br><span class="hljs-built_in">print</span>(arr1)<br><br>arr2 = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>])<br><span class="hljs-built_in">print</span>(random.permutation(arr2))      <span class="hljs-comment"># ç”Ÿæˆæ•°ç»„å…ƒç´ çš„éšæœºæ’åˆ—</span><br></code></pre></td></tr></table></figure><h1 id="4-Seaborn"><a href="#4-Seaborn" class="headerlink" title="4 Seaborn"></a>4 Seaborn</h1><ul><li>Seaborn<ul><li>ä¸€ä¸ªåœ¨åº•å±‚ä½¿ç”¨Matplotlibç»˜åˆ¶å›¾å½¢çš„åº“ï¼Œç”¨äºå¯è§†åŒ–éšæœºåˆ†å¸ƒã€‚</li><li>æ‰“å¼€ç³»ç»Ÿä¸Šçš„å‘½ä»¤çª—å£ï¼Œè¾“å…¥å‘½ä»¤è¿›è¡Œå®‰è£…ï¼š<code>pip install seaborn</code>ã€‚</li><li>ä½¿ç”¨å‰éœ€è¦å…ˆå¯¼å…¥Matplotlibæ¨¡å—çš„pyplotå¯¹è±¡ï¼Œä»¥åŠå®‰è£…å¥½çš„ç¬¬ä¸‰æ–¹åº“seabornæ¨¡å—ã€‚</li><li>Distplotä»£è¡¨åˆ†å¸ƒå›¾ï¼Œå°†ä¸€ä¸ªæ•°ç»„ä½œä¸ºè¾“å…¥ï¼Œå¹¶ç»˜åˆ¶ä¸€æ¡ä¸æ•°ç»„ä¸­ç‚¹çš„åˆ†å¸ƒç›¸å¯¹åº”çš„æ›²çº¿ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> warnings                     <span class="hljs-comment"># å¿½ç•¥è­¦å‘Šæç¤º</span><br><span class="hljs-keyword">import</span> seaborn <span class="hljs-keyword">as</span> sns<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>warnings.filterwarnings(<span class="hljs-string">&quot;ignore&quot;</span>, message=<span class="hljs-string">&quot;`distplot` is a deprecated function&quot;</span>)<br><br>sns.distplot([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>])    <span class="hljs-comment"># FutureWarningè­¦å‘Šï¼Œdistplotå·²å¼ƒç”¨</span><br>plt.show()                          <span class="hljs-comment"># ç»˜åˆ¶åˆ†å¸ƒå›¾</span><br><br>sns.distplot([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>], hist=<span class="hljs-literal">False</span>)<br>plt.show()                          <span class="hljs-comment"># ç»˜åˆ¶æ²¡æœ‰ç›´æ–¹å›¾çš„åˆ†å¸ƒå›¾</span><br></code></pre></td></tr></table></figure><h1 id="5-è¿ç»­åˆ†å¸ƒ"><a href="#5-è¿ç»­åˆ†å¸ƒ" class="headerlink" title="5 è¿ç»­åˆ†å¸ƒ"></a>5 è¿ç»­åˆ†å¸ƒ</h1><ul><li>è¿ç»­åˆ†å¸ƒ<ul><li>Continuous Distributionï¼Œä¸€ä¸ªéšæœºå˜é‡åœ¨å…¶åŒºé—´å†…èƒ½å¤Ÿå–ä»»ä½•æ•°å€¼æ—¶æ‰€å…·æœ‰çš„åˆ†å¸ƒã€‚</li><li>å¸¸ç”¨åˆ†ç±»<ul><li>æ­£æ€åˆ†å¸ƒï¼šæœ€å¸¸ç”¨ï¼Œç‰¹ç‚¹æ˜¯å¯†åº¦å‡½æ•°ä»¥å‡å€¼ä¸ºä¸­å¿ƒå¯¹ç§°åˆ†å¸ƒï¼Œé€‚ç”¨äºæè¿°ä¸€èˆ¬ç»æµå˜é‡çš„æ¦‚ç‡åˆ†å¸ƒã€‚</li><li>å‡åŒ€åˆ†å¸ƒï¼šæ¦‚ç‡è®ºå’Œç»Ÿè®¡å­¦ä¸­å«çŸ©å½¢åˆ†å¸ƒï¼Œæ˜¯å¯¹ç§°æ¦‚ç‡åˆ†å¸ƒï¼Œç›¸åŒé•¿åº¦é—´éš”çš„åˆ†å¸ƒæ¦‚ç‡æ˜¯ç­‰å¯èƒ½çš„ã€‚</li><li>æŒ‡æ•°åˆ†å¸ƒï¼šç”¨æ¥è¡¨ç¤ºç‹¬ç«‹éšæœºäº‹ä»¶å‘ç”Ÿçš„æ—¶é—´é—´éš”ï¼Œé‡è¦ç‰¹å¾æ˜¯æ— è®°å¿†æ€§ï¼Œåˆç§°é—å¤±è®°å¿†æ€§ã€‚</li><li>è´å¡”åˆ†å¸ƒï¼šç‰¹ç‚¹æ˜¯å¯†åº¦å‡½æ•°ä¸ºæœ€å¤§å€¼ä¸¤è¾¹çš„ä¸å¯¹ç§°åˆ†å¸ƒï¼Œé€‚ç”¨äºæè¿°å·¥æœŸç­‰ä¸å¯¹ç§°åˆ†å¸ƒçš„å˜é‡ã€‚</li><li>ç»éªŒåˆ†å¸ƒï¼šå¯¹äº§ç”Ÿæ ·æœ¬ç‚¹ç´¯ç§¯åˆ†å¸ƒå‡½æ•°çš„ä¼°è®¡ï¼Œç»Ÿè®¡å­¦ä¸­æ˜¯ä¸æ ·æœ¬çš„ç»éªŒæµ‹åº¦ç›¸å…³çš„åˆ†å¸ƒå‡½æ•°ã€‚</li><li>ä¸‰è§’å‹åˆ†å¸ƒï¼šå¯†åº¦æ•°ç”±æœ€å¤§å€¼ã€æœ€å¯èƒ½å€¼å’Œæœ€å°å€¼æ„æˆçš„å¯¹ç§°æˆ–ä¸å¯¹ç§°çš„ä¸‰è§’å‹ã€‚</li></ul></li></ul></li></ul><h2 id="5-1-æ­£æ€åˆ†å¸ƒ"><a href="#5-1-æ­£æ€åˆ†å¸ƒ" class="headerlink" title="5-1 æ­£æ€åˆ†å¸ƒ"></a>5-1 æ­£æ€åˆ†å¸ƒ</h2><ul><li>æ­£æ€åˆ†å¸ƒ<ul><li>Normal Distributionï¼Œåˆå«å¸¸æ€åˆ†å¸ƒæˆ–é«˜æ–¯åˆ†å¸ƒï¼ŒGaussian Distributionã€‚</li><li>é‡è¦åˆ†å¸ƒä¹‹ä¸€ï¼Œé€‚åˆè®¸å¤šäº‹ä»¶çš„æ¦‚ç‡åˆ†å¸ƒï¼Œæ­£æ€æ›²çº¿å‘ˆé’Ÿå‹(å³é’Ÿå½¢æ›²çº¿)ã€‚</li><li>ä½¿ç”¨<code>random.normal()</code>æ–¹æ³•è·å–æ­£æ€åˆ†å¸ƒæ•°æ®ï¼Œæœ‰ä»¥ä¸‹ä¸‰ä¸ªå‚æ•°ã€‚<ul><li>sizeï¼šè¿”å›æ•°ç»„çš„å½¢çŠ¶ã€‚</li><li>locï¼šå¹³å‡å€¼ï¼Œé’Ÿå‹å³°å€¼æ‰€åœ¨çš„ä½ç½®ã€‚</li><li>scaleï¼šæ ‡å‡†åå·®ï¼Œåå·®è¶Šå°ï¼Œå€¼åç¦»ç®—æœ¯å¹³å‡å€¼å°±è¶Šå°‘ï¼Œåä¹‹äº¦ç„¶ã€‚</li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> warnings             <span class="hljs-comment"># å¿½ç•¥è­¦å‘Šæç¤º</span><br><span class="hljs-keyword">import</span> seaborn <span class="hljs-keyword">as</span> sns<br><span class="hljs-keyword">from</span> numpy <span class="hljs-keyword">import</span> random<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>warnings.filterwarnings(<span class="hljs-string">&quot;ignore&quot;</span>, message=<span class="hljs-string">&quot;`distplot` is a deprecated function&quot;</span>)<br><br>x = random.normal(size=(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>))<br><span class="hljs-built_in">print</span>(x)                    <span class="hljs-comment"># ç”Ÿæˆå¤§å°ä¸º2x3çš„éšæœºæ­£æ€åˆ†å¸ƒ</span><br><br>y = random.normal(loc=<span class="hljs-number">1</span>, scale=<span class="hljs-number">2</span>, size=(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>))<br><span class="hljs-built_in">print</span>(y)                    <span class="hljs-comment"># ç”Ÿæˆå¤§å°ä¸º2x3çš„éšæœºæ­£æ€åˆ†å¸ƒï¼Œå¹³å‡å€¼ä¸º1ï¼Œæ ‡å‡†å·®ä¸º2</span><br><br>sns.distplot(random.normal(size=<span class="hljs-number">1000</span>), hist=<span class="hljs-literal">False</span>)<br>plt.show()                  <span class="hljs-comment"># æ­£æ€åˆ†å¸ƒçš„å¯è§†åŒ–</span><br></code></pre></td></tr></table></figure><h2 id="5-2-å‡åŒ€åˆ†å¸ƒ"><a href="#5-2-å‡åŒ€åˆ†å¸ƒ" class="headerlink" title="5-2 å‡åŒ€åˆ†å¸ƒ"></a>5-2 å‡åŒ€åˆ†å¸ƒ</h2><ul><li>å‡åŒ€åˆ†å¸ƒ<ul><li>Uniform Distributionï¼Œç”¨äºæè¿°æ¯ä¸ªäº‹ä»¶å‘ç”Ÿæœºä¼šå‡ç­‰çš„æ¦‚ç‡ã€‚</li><li>ç”¨<code>random.uniform()</code>æ–¹æ³•è·å–å‡åŒ€åˆ†å¸ƒæ•°æ®ï¼Œæœ‰ä»¥ä¸‹3ä¸ªå‚æ•°ã€‚<ul><li>aï¼šä¸‹é™ï¼Œé»˜è®¤0.0ã€‚</li><li>bï¼šä¸Šé™ï¼Œé»˜è®¤1.0ã€‚</li><li>sizeï¼šè¿”å›æ•°ç»„çš„å½¢çŠ¶ã€‚</li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> warnings             <span class="hljs-comment"># å¿½ç•¥è­¦å‘Šæç¤º</span><br><span class="hljs-keyword">import</span> seaborn <span class="hljs-keyword">as</span> sns<br><span class="hljs-keyword">from</span> numpy <span class="hljs-keyword">import</span> random<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>warnings.filterwarnings(<span class="hljs-string">&quot;ignore&quot;</span>, message=<span class="hljs-string">&quot;`distplot` is a deprecated function&quot;</span>)<br><br>x = random.uniform(size=(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>))<br><span class="hljs-built_in">print</span>(x)                    <span class="hljs-comment"># åˆ›å»ºä¸€ä¸ª2x3å‡åŒ€åˆ†å¸ƒæ ·æœ¬</span><br><br>sns.distplot(random.uniform(size=<span class="hljs-number">1000</span>), hist=<span class="hljs-literal">False</span>)<br>plt.show()                  <span class="hljs-comment"># å‡åŒ€åˆ†å¸ƒçš„å¯è§†åŒ–</span><br></code></pre></td></tr></table></figure><h2 id="5-3-å¢é•¿åˆ†å¸ƒ"><a href="#5-3-å¢é•¿åˆ†å¸ƒ" class="headerlink" title="5-3 å¢é•¿åˆ†å¸ƒ"></a>5-3 å¢é•¿åˆ†å¸ƒ</h2><ul><li>å¢é•¿åˆ†å¸ƒ<ul><li>Logistic Distributionï¼Œåˆå«é€»è¾‘æ–¯è°›åˆ†å¸ƒï¼Œç”¨äºæè¿°å¢é•¿ã€‚</li><li>å¹¿æ³›ç”¨äºé€»è¾‘å›å½’ã€ç¥ç»ç½‘ç»œç­‰æœºå™¨å­¦ä¹ ï¼Œè¿ç»­å‹æ¦‚ç‡åˆ†å¸ƒçš„ä¸€ç§ã€‚</li><li>ä½¿ç”¨<code>random.logistic()</code>æ–¹æ³•è·å–å¢é•¿åˆ†å¸ƒæ•°æ®ï¼Œæœ‰ä»¥ä¸‹ä¸‰ä¸ªå‚æ•°ã€‚<ul><li>sizeï¼šè¿”å›æ•°ç»„çš„å½¢çŠ¶ã€‚</li><li>locï¼šå³°å€¼çš„ä½ç½®ï¼Œé»˜è®¤ä¸º0ã€‚</li><li>scaleï¼šæ ‡å‡†åå·®ï¼Œé»˜è®¤ä¸º1ã€‚</li></ul></li><li>å¢é•¿åˆ†å¸ƒä¸æ­£æ€åˆ†å¸ƒçš„åŒºåˆ«<ul><li>å¢é•¿åˆ†å¸ƒçš„å°¾éƒ¨ä¸‹æ–¹é¢ç§¯æ›´å¤§ï¼Œæ„å‘³ç€ä»£è¡¨äº†æ›´è¿œç¦»å‡å€¼çš„äº‹ä»¶å‘ç”Ÿå¯èƒ½æ€§ã€‚</li><li>å¯¹äºè¾ƒé«˜çš„å°ºåº¦å€¼(æ ‡å‡†åå·®)ï¼Œé™¤å³°å€¼å¤–ï¼Œæ­£æ€åˆ†å¸ƒå’Œå¢é•¿åˆ†å¸ƒå‡ ä¹æ˜¯ç›¸åŒã€‚</li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> warnings             <span class="hljs-comment"># å¿½ç•¥è­¦å‘Šæç¤º</span><br><span class="hljs-keyword">import</span> seaborn <span class="hljs-keyword">as</span> sns<br><span class="hljs-keyword">from</span> numpy <span class="hljs-keyword">import</span> random<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>warnings.filterwarnings(<span class="hljs-string">&quot;ignore&quot;</span>, message=<span class="hljs-string">&quot;`distplot` is a deprecated function&quot;</span>)<br><br>x = random.logistic(loc=<span class="hljs-number">1</span>, scale=<span class="hljs-number">2</span>, size=(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>))<br><span class="hljs-built_in">print</span>(x)                    <span class="hljs-comment"># ä»å‡å€¼ä¸º1ä¸”æ ‡å‡†å·®ä¸º2çš„å¢é•¿åˆ†å¸ƒä¸­æŠ½å–2x3ä¸ªæ ·æœ¬</span><br><br>sns.distplot(random.logistic(size=<span class="hljs-number">1000</span>), hist=<span class="hljs-literal">False</span>)<br>plt.show()                  <span class="hljs-comment"># å¢é•¿åˆ†å¸ƒçš„å¯è§†åŒ–</span><br><br>sns.distplot(random.normal(scale=<span class="hljs-number">2</span>, size=<span class="hljs-number">1000</span>), hist=<span class="hljs-literal">False</span>, label=<span class="hljs-string">&quot;normal&quot;</span>)<br>sns.distplot(random.logistic(size=<span class="hljs-number">1000</span>), hist=<span class="hljs-literal">False</span>, label=<span class="hljs-string">&quot;logistic&quot;</span>)<br>plt.show()<br></code></pre></td></tr></table></figure><h2 id="5-4-æŒ‡æ•°åˆ†å¸ƒ"><a href="#5-4-æŒ‡æ•°åˆ†å¸ƒ" class="headerlink" title="5-4 æŒ‡æ•°åˆ†å¸ƒ"></a>5-4 æŒ‡æ•°åˆ†å¸ƒ</h2><ul><li>æŒ‡æ•°åˆ†å¸ƒ<ul><li>Exponential Distributionï¼Œä¹Ÿå«è´ŸæŒ‡æ•°åˆ†å¸ƒã€‚</li><li>ç”¨äºæè¿°ç›´åˆ°ä¸‹ä¸€ä¸ªäº‹ä»¶çš„æ—¶é—´ï¼Œä¾‹å¦‚å¤±è´¥æˆ–æˆåŠŸç­‰ã€‚</li><li>ä½¿ç”¨<code>random.exponential()</code>æ–¹æ³•è·å–æŒ‡æ•°åˆ†å¸ƒæ•°æ®ã€‚<ul><li>sizeï¼šè¿”å›æ•°ç»„çš„å½¢çŠ¶ã€‚</li><li>scaleï¼šé€Ÿç‡çš„å€’æ•°ï¼Œé»˜è®¤ä¸º1.0ã€‚</li></ul></li><li>æ³Šæ¾åˆ†å¸ƒå¤„ç†äº‹ä»¶åœ¨ä¸€æ®µæ—¶é—´å†…å‘ç”Ÿçš„æ¬¡æ•°ï¼Œè€ŒæŒ‡æ•°åˆ†å¸ƒå¤„ç†è¿™äº›äº‹ä»¶ä¹‹é—´çš„æ—¶é—´ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> warnings             <span class="hljs-comment"># å¿½ç•¥è­¦å‘Šæç¤º</span><br><span class="hljs-keyword">import</span> seaborn <span class="hljs-keyword">as</span> sns<br><span class="hljs-keyword">from</span> numpy <span class="hljs-keyword">import</span> random<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>warnings.filterwarnings(<span class="hljs-string">&quot;ignore&quot;</span>, message=<span class="hljs-string">&quot;`distplot` is a deprecated function&quot;</span>)<br><br>x = random.exponential(scale=<span class="hljs-number">2</span>, size=(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>))<br><span class="hljs-built_in">print</span>(x)                    <span class="hljs-comment"># ä»¥2x3å¤§å°ç»˜åˆ¶ä¸€ä¸ª2.0æ¯”ä¾‹çš„æŒ‡æ•°åˆ†å¸ƒæ ·æœ¬</span><br><br>sns.distplot(random.exponential(size=<span class="hljs-number">1000</span>), hist=<span class="hljs-literal">False</span>)<br>plt.show()                  <span class="hljs-comment"># æŒ‡æ•°åˆ†å¸ƒçš„å¯è§†åŒ–</span><br></code></pre></td></tr></table></figure><h2 id="5-5-å¡æ–¹åˆ†å¸ƒ"><a href="#5-5-å¡æ–¹åˆ†å¸ƒ" class="headerlink" title="5-5 å¡æ–¹åˆ†å¸ƒ"></a>5-5 å¡æ–¹åˆ†å¸ƒ</h2><ul><li>å¡æ–¹åˆ†å¸ƒ<ul><li>Chi-Square Distributionï¼Œåˆå«è¥¿æ ¼ç›åˆ†å¸ƒï¼Œç”¨äºéªŒè¯å‡è®¾çš„åŸºç¡€ã€‚</li><li>ç”¨<code>random.chisquare()</code>æ–¹æ³•è·å–å¡æ–¹åˆ†å¸ƒæ•°æ®ï¼Œæœ‰ä»¥ä¸‹ä¸¤ä¸ªå‚æ•°ã€‚<ul><li>dfï¼šè‡ªç”±åº¦ã€‚</li><li>sizeï¼šè¿”å›æ•°ç»„çš„å½¢çŠ¶ã€‚</li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> warnings             <span class="hljs-comment"># å¿½ç•¥è­¦å‘Šæç¤º</span><br><span class="hljs-keyword">import</span> seaborn <span class="hljs-keyword">as</span> sns<br><span class="hljs-keyword">from</span> numpy <span class="hljs-keyword">import</span> random<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>warnings.filterwarnings(<span class="hljs-string">&quot;ignore&quot;</span>, message=<span class="hljs-string">&quot;`distplot` is a deprecated function&quot;</span>)<br><br>x = random.chisquare(df=<span class="hljs-number">2</span>, size=(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>))<br><span class="hljs-built_in">print</span>(x)                    <span class="hljs-comment"># æŠ½å–ä¸€ä¸ªè‡ªç”±åº¦ä¸º2ï¼Œå¤§å°ä¸º2x3çš„å¡æ–¹åˆ†å¸ƒæ ·æœ¬</span><br><br>sns.distplot(random.chisquare(df=<span class="hljs-number">1</span>, size=<span class="hljs-number">1000</span>), hist=<span class="hljs-literal">False</span>)<br>plt.show()                  <span class="hljs-comment"># å¡æ–¹åˆ†å¸ƒçš„å¯è§†åŒ–</span><br></code></pre></td></tr></table></figure><h2 id="5-6-ç‘åˆ©åˆ†å¸ƒ"><a href="#5-6-ç‘åˆ©åˆ†å¸ƒ" class="headerlink" title="5-6 ç‘åˆ©åˆ†å¸ƒ"></a>5-6 ç‘åˆ©åˆ†å¸ƒ</h2><ul><li>ç‘åˆ©åˆ†å¸ƒ<ul><li>Rayleigh Distributionï¼Œç”¨äºä¿¡å·å¤„ç†ã€‚</li><li>ä½¿ç”¨<code>random.rayleigh()</code>æ–¹æ³•è·å–ç‘åˆ©åˆ†å¸ƒæ•°æ®ï¼Œæœ‰ä»¥ä¸‹ä¸¤ä¸ªå‚æ•°ã€‚<ul><li>sizeï¼šè¿”å›æ•°ç»„çš„å½¢çŠ¶ã€‚</li><li>scaleï¼šæ ‡å‡†åå·®ï¼Œé»˜è®¤ä¸º1.0ã€‚</li></ul></li><li>åœ¨å•ä½StdDev(æ ‡å‡†åå·®)ä¸­ï¼Œè‡ªç”±åº¦ä¸º2çš„ç‘åˆ©åˆ†å¸ƒå’Œå¡æ–¹åˆ†å¸ƒç›¸åŒã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> warnings             <span class="hljs-comment"># å¿½ç•¥è­¦å‘Šæç¤º</span><br><span class="hljs-keyword">import</span> seaborn <span class="hljs-keyword">as</span> sns<br><span class="hljs-keyword">from</span> numpy <span class="hljs-keyword">import</span> random<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>warnings.filterwarnings(<span class="hljs-string">&quot;ignore&quot;</span>, message=<span class="hljs-string">&quot;`distplot` is a deprecated function&quot;</span>)<br><br>x = random.rayleigh(scale=<span class="hljs-number">2</span>, size=(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>))<br><span class="hljs-built_in">print</span>(x)                    <span class="hljs-comment"># ç»˜åˆ¶ä¸€ä¸ªå°ºåº¦ä¸º2ä¸”å¤§å°ä¸º2x3çš„ç‘åˆ©åˆ†å¸ƒæ ·æœ¬</span><br><br>sns.distplot(random.rayleigh(size=<span class="hljs-number">1000</span>), hist=<span class="hljs-literal">False</span>)<br>plt.show()                  <span class="hljs-comment"># ç‘åˆ©åˆ†å¸ƒçš„å¯è§†åŒ–</span><br></code></pre></td></tr></table></figure><h2 id="5-7-å¸•ç´¯æ‰˜åˆ†å¸ƒ"><a href="#5-7-å¸•ç´¯æ‰˜åˆ†å¸ƒ" class="headerlink" title="5-7 å¸•ç´¯æ‰˜åˆ†å¸ƒ"></a>5-7 å¸•ç´¯æ‰˜åˆ†å¸ƒ</h2><ul><li>å¸•ç´¯æ‰˜åˆ†å¸ƒ<ul><li>Pareto Distributionï¼Œç»æµå­¦ä»¥å¤–åˆè¢«å«å¸ƒæ‹‰å¾·ç¦åˆ†å¸ƒã€‚</li><li>å¸•ç´¯æ‰˜åˆ†å¸ƒå³80-20åˆ†å¸ƒï¼ŒæŒ‡çš„æ˜¯20%çš„å› ç´ å¯¼è‡´80%çš„ç»“æœã€‚</li><li>ç”¨<code>random.pareto()</code>æ–¹æ³•è·å–å¸•ç´¯æ‰˜åˆ†å¸ƒæ•°æ®ï¼Œæœ‰ä»¥ä¸‹2ä¸ªå‚æ•°ã€‚<ul><li>aï¼šå½¢çŠ¶å‚æ•°ã€‚</li><li>sizeï¼šè¿”å›æ•°ç»„çš„å½¢çŠ¶ã€‚</li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> warnings             <span class="hljs-comment"># å¿½ç•¥è­¦å‘Šæç¤º</span><br><span class="hljs-keyword">import</span> seaborn <span class="hljs-keyword">as</span> sns<br><span class="hljs-keyword">from</span> numpy <span class="hljs-keyword">import</span> random<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>warnings.filterwarnings(<span class="hljs-string">&quot;ignore&quot;</span>, message=<span class="hljs-string">&quot;`distplot` is a deprecated function&quot;</span>)<br><br>x = random.pareto(a=<span class="hljs-number">2</span>, size=(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>))<br><span class="hljs-built_in">print</span>(x)                    <span class="hljs-comment"># ç»˜åˆ¶ä¸€ä¸ªå½¢çŠ¶ä¸º2ä¸”å¤§å°ä¸º2x3çš„å¸•ç´¯æ‰˜åˆ†å¸ƒæ ·æœ¬</span><br><br>sns.distplot(random.pareto(a=<span class="hljs-number">2</span>, size=<span class="hljs-number">1000</span>), kde=<span class="hljs-literal">False</span>)<br>plt.show()                  <span class="hljs-comment"># å¸•ç´¯æ‰˜åˆ†å¸ƒçš„å¯è§†åŒ–</span><br></code></pre></td></tr></table></figure><h1 id="6-ç¦»æ•£åˆ†å¸ƒ"><a href="#6-ç¦»æ•£åˆ†å¸ƒ" class="headerlink" title="6 ç¦»æ•£åˆ†å¸ƒ"></a>6 ç¦»æ•£åˆ†å¸ƒ</h1><ul><li>ç¦»æ•£åˆ†å¸ƒ<ul><li>Discrete Distributionï¼Œéšæœºå˜é‡åªèƒ½å–æœ‰é™æˆ–å¯æ•°æ— é™æ•°é‡çš„å€¼çš„æ¦‚ç‡åˆ†å¸ƒã€‚</li><li>å¸¸ç”¨åˆ†ç±»<ul><li>äºŒé¡¹åˆ†å¸ƒï¼šåœ¨æ¦‚ç‡è®ºå’Œç»Ÿè®¡å­¦ä¸­ï¼Œnä¸ªç‹¬ç«‹çš„æˆåŠŸæˆ–å¤±è´¥è¯•éªŒé‡ŒæˆåŠŸæ¬¡æ•°çš„ç¦»æ•£æ¦‚ç‡åˆ†å¸ƒã€‚</li><li>æ³Šæ¾åˆ†å¸ƒï¼šç»Ÿè®¡ä¸æ¦‚ç‡å­¦é‡Œå¸¸è§çš„ç¦»æ•£æ¦‚ç‡åˆ†å¸ƒï¼Œæ³•å›½æ•°å­¦å®¶è¥¿è«æ©Â·å¾·å°¼Â·æ³Šæ¾åœ¨1838å¹´æ—¶å‘è¡¨ã€‚</li><li>å‡ ä½•åˆ†å¸ƒï¼šnæ¬¡ä¼¯åŠªåˆ©è¯•éªŒä¸­è¯•éªŒkæ¬¡æ‰å¾—åˆ°é¦–æ¬¡æˆåŠŸçš„æœºç‡ï¼Œå³å‰k-1æ¬¡å¤±è´¥ï¼Œç¬¬kæ¬¡æˆåŠŸçš„æ¦‚ç‡ã€‚</li><li>è´ŸäºŒé¡¹åˆ†å¸ƒï¼šNegative Binomial Distributionï¼Œç»Ÿè®¡å­¦ä¸Šä¸€ç§ç¦»æ•£æ¦‚ç‡åˆ†å¸ƒã€‚</li></ul></li></ul></li></ul><h2 id="6-1-äºŒé¡¹åˆ†å¸ƒ"><a href="#6-1-äºŒé¡¹åˆ†å¸ƒ" class="headerlink" title="6-1 äºŒé¡¹åˆ†å¸ƒ"></a>6-1 äºŒé¡¹åˆ†å¸ƒ</h2><ul><li>äºŒé¡¹åˆ†å¸ƒ<ul><li>Binomial Distributionï¼Œåˆå«ä¼¯åŠªåˆ©åˆ†å¸ƒï¼Œç¦»æ•£æ¦‚ç‡åˆ†å¸ƒçš„ä¸€ç§ã€‚</li><li>äºŒé¡¹åˆ†å¸ƒæè¿°äºŒé¡¹å¼åœºæ™¯çš„ç»“æœï¼Œä¾‹å¦‚æŠ›ç¡¬å¸ï¼Œè¦ä¹ˆæ­£é¢è¦ä¹ˆåé¢ã€‚</li><li>ä½¿ç”¨<code>random.binomial()</code>æ–¹æ³•è·å–äºŒé¡¹åˆ†å¸ƒæ•°æ®ï¼Œæœ‰ä»¥ä¸‹ä¸‰ä¸ªå‚æ•°ã€‚<ul><li>nï¼šè¯•éªŒæ¬¡æ•°ã€‚</li><li>sizeï¼šè¿”å›æ•°ç»„çš„å½¢çŠ¶ã€‚</li><li>pï¼šæ¯æ¬¡è¯•éªŒçš„å‘ç”Ÿæ¦‚ç‡ï¼Œä¾‹å¦‚æ¯æ¬¡æŠ›ç¡¬å¸æ­£åé¢æ¦‚ç‡éƒ½æ˜¯0.5ã€‚</li></ul></li><li>å¦‚æœäºŒé¡¹åˆ†å¸ƒæœ‰è¶³å¤Ÿçš„æ•°æ®ç‚¹ï¼Œå°†ä¸å…·æœ‰ä¸€å®šä½ç½®å’Œå°ºåº¦çš„æ­£æ€åˆ†å¸ƒç›¸ä¼¼ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> warnings             <span class="hljs-comment"># å¿½ç•¥è­¦å‘Šæç¤º</span><br><span class="hljs-keyword">import</span> seaborn <span class="hljs-keyword">as</span> sns<br><span class="hljs-keyword">from</span> numpy <span class="hljs-keyword">import</span> random<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>warnings.filterwarnings(<span class="hljs-string">&quot;ignore&quot;</span>, message=<span class="hljs-string">&quot;`distplot` is a deprecated function&quot;</span>)<br><br>x = random.binomial(n=<span class="hljs-number">10</span>, p=<span class="hljs-number">0.5</span>, size=<span class="hljs-number">10</span>)<br><span class="hljs-built_in">print</span>(x)                    <span class="hljs-comment"># ç»™å®š10æ¬¡æŠ›ç¡¬å¸è¯•éªŒï¼Œç”Ÿæˆ10ä¸ªæ•°æ®ç‚¹</span><br><br>sns.distplot(random.binomial(n=<span class="hljs-number">10</span>, p=<span class="hljs-number">0.5</span>, size=<span class="hljs-number">1000</span>), hist=<span class="hljs-literal">True</span>, kde=<span class="hljs-literal">False</span>)<br>plt.show()                  <span class="hljs-comment"># äºŒé¡¹åˆ†å¸ƒçš„å¯è§†åŒ–</span><br><br>sns.distplot(random.normal(loc=<span class="hljs-number">50</span>, scale=<span class="hljs-number">5</span>, size=<span class="hljs-number">1000</span>), hist=<span class="hljs-literal">False</span>, label=<span class="hljs-string">&quot;normal&quot;</span>)<br>sns.distplot(random.binomial(n=<span class="hljs-number">100</span>, p=<span class="hljs-number">0.5</span>, size=<span class="hljs-number">1000</span>), hist=<span class="hljs-literal">False</span>, label=<span class="hljs-string">&quot;binomial&quot;</span>)<br>plt.show()<br></code></pre></td></tr></table></figure><h2 id="6-2-å¤šé¡¹åˆ†å¸ƒ"><a href="#6-2-å¤šé¡¹åˆ†å¸ƒ" class="headerlink" title="6-2 å¤šé¡¹åˆ†å¸ƒ"></a>6-2 å¤šé¡¹åˆ†å¸ƒ</h2><ul><li>å¤šé¡¹åˆ†å¸ƒ<ul><li>Multinomial Distributionï¼Œæ˜¯äºŒé¡¹åˆ†å¸ƒçš„æ¨å¹¿ã€‚</li><li>æè¿°äº†å¤šé¡¹å¼åœºæ™¯çš„ç»“æœï¼Œä¾‹å¦‚äººç¾¤è¡€å‹ï¼Œæ·éª°ç»“æœç­‰ã€‚</li><li>ä½¿ç”¨<code>random.multinomial()</code>æ–¹æ³•å¯è·å–å¤šé¡¹åˆ†å¸ƒæ•°æ®ã€‚<ul><li>sizeï¼šè¿”å›æ•°ç»„çš„å½¢çŠ¶ã€‚</li><li>nï¼šå¯èƒ½ç»“æœçš„æ•°é‡ï¼Œä¾‹å¦‚æ·éª°å­æœ‰6ä¸ªç»“æœã€‚</li><li>pvalsï¼šç»“æœæ¦‚ç‡åˆ—è¡¨ï¼Œä¾‹å¦‚æ·éª°å­çš„æ¦‚ç‡ä¸º6ä¸ª1&#x2F;6ã€‚</li></ul></li><li>è¿”å›çš„å¤šé¡¹æ ·æœ¬ä¸ä¼šåªäº§ç”Ÿå•ä¸ªå€¼ï¼Œç»“æœä¼šç”Ÿæˆpvalsä¸­çš„å¯¹åº”å€¼ã€‚</li><li>ç”±äºæ˜¯äºŒé¡¹åˆ†å¸ƒçš„æ¨å¹¿ï¼Œè§†è§‰æ•ˆæœå’Œæ­£æ€åˆ†å¸ƒçš„ç›¸ä¼¼æ€§ä¸äºŒé¡¹åˆ†å¸ƒçš„ç›¸åŒã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> numpy <span class="hljs-keyword">import</span> random<br><br>x = random.multinomial(n=<span class="hljs-number">6</span>, pvals=[<span class="hljs-number">1</span>/<span class="hljs-number">6</span>, <span class="hljs-number">1</span>/<span class="hljs-number">6</span>, <span class="hljs-number">1</span>/<span class="hljs-number">6</span>, <span class="hljs-number">1</span>/<span class="hljs-number">6</span>, <span class="hljs-number">1</span>/<span class="hljs-number">6</span>, <span class="hljs-number">1</span>/<span class="hljs-number">6</span>])<br><span class="hljs-built_in">print</span>(x)                     <span class="hljs-comment"># æŠ½å‡ºä¸€ä¸ªæ·éª°å­çš„æ ·æœ¬</span><br></code></pre></td></tr></table></figure><h2 id="6-3-æ³Šæ¾åˆ†å¸ƒ"><a href="#6-3-æ³Šæ¾åˆ†å¸ƒ" class="headerlink" title="6-3 æ³Šæ¾åˆ†å¸ƒ"></a>6-3 æ³Šæ¾åˆ†å¸ƒ</h2><ul><li>æ³Šæ¾åˆ†å¸ƒ<ul><li>Poisson Distributionï¼Œç¦»æ•£æ¦‚ç‡åˆ†å¸ƒçš„ä¸€ç§ã€‚</li><li>æ³Šæ¾åˆ†å¸ƒä¼°è®¡äº‹ä»¶åœ¨æŒ‡å®šæ—¶é—´å†…å¯ä»¥å‘ç”Ÿçš„æ¬¡æ•°ã€‚</li><li>ä½¿ç”¨<code>random.poisson()</code>æ–¹æ³•è·å–æ³Šæ¾åˆ†å¸ƒæ•°æ®ã€‚<ul><li>sizeï¼šè¿”å›æ•°ç»„çš„å½¢çŠ¶ã€‚</li><li>lamï¼šå‘ç”Ÿç‡æˆ–å·²çŸ¥æ¬¡æ•°ã€‚</li></ul></li><li>è¶³å¤Ÿå¤§çš„æ³Šæ¾åˆ†å¸ƒï¼Œç±»ä¼¼äºäºŒé¡¹åˆ†å¸ƒå’Œå…·æœ‰ç‰¹å®šæ ‡å‡†åå·®å’Œå‡å€¼çš„æ­£æ€åˆ†å¸ƒã€‚</li><li>æ³Šæ¾åˆ†å¸ƒä¸äºŒé¡¹åˆ†å¸ƒçš„åŒºåˆ«<ul><li>äºŒé¡¹åˆ†å¸ƒé€‚ç”¨äºç¦»æ•£è¯•éªŒï¼Œæ³Šæ¾åˆ†å¸ƒé€‚ç”¨äºè¿ç»­è¯•éªŒã€‚</li><li>néå¸¸å¤§ä¸”pæ¥è¿‘äº0çš„äºŒé¡¹åˆ†å¸ƒï¼Œå‡ ä¹ä¸æ³Šæ¾åˆ†å¸ƒç›¸åŒï¼Œn*pçº¦ç­‰äºlamã€‚</li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> warnings             <span class="hljs-comment"># å¿½ç•¥è­¦å‘Šæç¤º</span><br><span class="hljs-keyword">import</span> seaborn <span class="hljs-keyword">as</span> sns<br><span class="hljs-keyword">from</span> numpy <span class="hljs-keyword">import</span> random<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>warnings.filterwarnings(<span class="hljs-string">&quot;ignore&quot;</span>, message=<span class="hljs-string">&quot;`distplot` is a deprecated function&quot;</span>)<br><br>x = random.poisson(lam=<span class="hljs-number">2</span>, size=<span class="hljs-number">10</span>)<br><span class="hljs-built_in">print</span>(x)                    <span class="hljs-comment"># ç”Ÿæˆéšæœº1x10å‘ç”Ÿæ¬¡æ•°ä¸º2çš„åˆ†å¸ƒ</span><br><br>sns.distplot(random.poisson(lam=<span class="hljs-number">2</span>, size=<span class="hljs-number">1000</span>), kde=<span class="hljs-literal">False</span>)<br>plt.show()                  <span class="hljs-comment"># æ³Šæ¾åˆ†å¸ƒçš„å¯è§†åŒ–</span><br><br>sns.distplot(random.normal(loc=<span class="hljs-number">50</span>, scale=<span class="hljs-number">7</span>, size=<span class="hljs-number">1000</span>), hist=<span class="hljs-literal">False</span>, label=<span class="hljs-string">&quot;normal&quot;</span>)<br>sns.distplot(random.poisson(lam=<span class="hljs-number">50</span>, size=<span class="hljs-number">1000</span>), hist=<span class="hljs-literal">False</span>, label=<span class="hljs-string">&quot;poisson&quot;</span>)<br>plt.show()<br><br>sns.distplot(random.binomial(n=<span class="hljs-number">1000</span>, p=<span class="hljs-number">0.01</span>, size=<span class="hljs-number">1000</span>), hist=<span class="hljs-literal">False</span>, label=<span class="hljs-string">&quot;binomial&quot;</span>)<br>sns.distplot(random.poisson(lam=<span class="hljs-number">10</span>, size=<span class="hljs-number">1000</span>), hist=<span class="hljs-literal">False</span>, label=<span class="hljs-string">&quot;poisson&quot;</span>)<br>plt.show()<br></code></pre></td></tr></table></figure><h2 id="6-4-é½æ™®å¤«åˆ†å¸ƒ"><a href="#6-4-é½æ™®å¤«åˆ†å¸ƒ" class="headerlink" title="6-4 é½æ™®å¤«åˆ†å¸ƒ"></a>6-4 é½æ™®å¤«åˆ†å¸ƒ</h2><ul><li>é½æ™®å¤«åˆ†å¸ƒ<ul><li>Zipf Distributionï¼Œåˆå«Zetaåˆ†å¸ƒï¼Œç”¨äºæ ¹æ®Zipfå®šå¾‹å¯¹æ•°æ®è¿›è¡Œé‡‡æ ·ã€‚</li><li>é½å¤«å®šå¾‹(Zipf)ï¼šå®éªŒå®šå¾‹ï¼Œä¸€é›†åˆä¸­ç¬¬nä¸ªå¸¸ç”¨é¡¹æ˜¯æœ€å¸¸ç”¨é¡¹çš„1&#x2F;nå€ã€‚</li><li>ä½¿ç”¨<code>random.zipf()</code>æ–¹æ³•å¯ä»¥è·å–é½æ™®å¤«åˆ†å¸ƒæ•°æ®ï¼Œæœ‰ä»¥ä¸‹ä¸¤ä¸ªå‚æ•°ã€‚<ul><li>aï¼šåˆ†å¸ƒå‚æ•°ã€‚</li><li>sizeï¼šè¿”å›æ•°ç»„çš„å½¢çŠ¶ã€‚</li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> warnings             <span class="hljs-comment"># å¿½ç•¥è­¦å‘Šæç¤º</span><br><span class="hljs-keyword">import</span> seaborn <span class="hljs-keyword">as</span> sns<br><span class="hljs-keyword">from</span> numpy <span class="hljs-keyword">import</span> random<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>warnings.filterwarnings(<span class="hljs-string">&quot;ignore&quot;</span>, message=<span class="hljs-string">&quot;`distplot` is a deprecated function&quot;</span>)<br><br>x = random.zipf(a=<span class="hljs-number">2</span>, size=(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>))<br><span class="hljs-built_in">print</span>(x)                    <span class="hljs-comment"># æŠ½å–ä¸€ä¸ªåˆ†å¸ƒå‚æ•°ä¸º2ä¸”å¤§å°ä¸º2x3çš„é½æ™®å¤«åˆ†å¸ƒæ ·æœ¬</span><br><br>y = random.zipf(a=<span class="hljs-number">2</span>, size=<span class="hljs-number">1000</span>)<br>sns.distplot(y[y &lt; <span class="hljs-number">10</span>], kde=<span class="hljs-literal">False</span>)<br>plt.show()                  <span class="hljs-comment"># é½æ™®å¤«åˆ†å¸ƒçš„å¯è§†åŒ–</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>NumPy</tag>
      
      <tag>æ•°æ®å¤„ç†</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python NumPy åŸºç¡€</title>
    <link href="/2021/03/01/python/python04-python-numpy-ji-chu/"/>
    <url>/2021/03/01/python/python04-python-numpy-ji-chu/</url>
    
    <content type="html"><![CDATA[<p>NumPyæ˜¯ä¸€ä¸ªç”¨äºå¤„ç†æ•°ç»„çš„Pythonåº“ï¼Œå…·æœ‰åœ¨çº¿æ€§ä»£æ•°ã€å‚…é‡Œå¶å˜æ¢å’ŒçŸ©é˜µé¢†åŸŸå·¥ä½œçš„åŠŸèƒ½ï¼Œç”±Travis Oliphantäº2005å¹´åˆ›å»ºã€‚</p><span id="more"></span><h1 id="1-NumPy"><a href="#1-NumPy" class="headerlink" title="1 NumPy"></a>1 NumPy</h1><ul><li>Numpy<ul><li>é€šè¿‡importå…³é”®å­—å°†å…¶å¯¼å…¥åº”ç”¨ç¨‹åºï¼Œé€šå¸¸ä»¥npåˆ«åæ›¿ä»£ã€‚</li><li>æ£€æŸ¥NumPyç‰ˆæœ¬ï¼Œç‰ˆæœ¬å­—ç¬¦ä¸²å­˜å‚¨åœ¨<code>__version__</code>å±æ€§ä¸‹ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np           <span class="hljs-comment"># å¯¼å…¥æ—¶ä½¿ç”¨å…³é”®å­—åˆ«å</span><br><br>arr = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>])<br><span class="hljs-built_in">print</span>(arr)<br><br><span class="hljs-built_in">print</span>(np.__version__)        <span class="hljs-comment"># æ£€æŸ¥NumPyç‰ˆæœ¬</span><br></code></pre></td></tr></table></figure><h1 id="2-åˆ›å»ºæ•°ç»„"><a href="#2-åˆ›å»ºæ•°ç»„" class="headerlink" title="2 åˆ›å»ºæ•°ç»„"></a>2 åˆ›å»ºæ•°ç»„</h1><ul><li>åˆ›å»ºæ•°ç»„<ul><li>NumPyä¸­çš„æ•°ç»„å¯¹è±¡ç§°ä¸ºndarrayï¼Œä½¿ç”¨æ•°ç»„å¯¹è±¡çš„<code>array()</code>å‡½æ•°åˆ›å»ºNumPyå¯¹è±¡ã€‚</li><li><code>type()</code>ç”¨äºæ˜¾ç¤ºæ•°ç»„ç±»å‹numpy.ndarrayï¼Œæ•°ç»„ä¸­çš„ç»´åº¦æ˜¯ä¸€çº§æ•°ç»„æ·±åº¦(åµŒå¥—æ•°ç»„)ã€‚<ul><li>0-Dæ•°ç»„ï¼šé›¶ç»´æ•°ç»„ï¼Œåˆå«æ ‡é‡ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªå€¼éƒ½æ˜¯ä¸€ä¸ª0-Dæ•°ç»„ã€‚</li><li>1-Dæ•°ç»„ï¼šä¸€ç»´æ•°ç»„ï¼Œä»¥é›¶ç»´æ•°ç»„ä½œä¸ºå…ƒç´ çš„æ•°ç»„ï¼Œæ˜¯æœ€åŸºæœ¬çš„æ•°ç»„ã€‚</li><li>2-Dæ•°ç»„ï¼šäºŒç»´æ•°ç»„ï¼Œä»¥ä¸€ç»´æ•°ç»„ä½œä¸ºå…ƒç´ çš„æ•°ç»„ï¼Œç”¨äºè¡¨ç¤ºäºŒé˜¶å¼ é‡ã€‚</li><li>3-Dæ•°ç»„ï¼šä¸‰ç»´æ•°ç»„ï¼Œä»¥äºŒç»´æ•°ç»„ä½œä¸ºå…ƒç´ çš„æ•°ç»„ï¼Œç”¨äºè¡¨ç¤ºä¸‰é˜¶å¼ é‡ã€‚</li><li>é«˜ç»´æ•°ç»„ï¼šæ•°ç»„å¯æœ‰ä»»æ„æ•°é‡çš„ç»´åº¦ï¼Œåˆ›å»ºæ—¶ä½¿ç”¨ndminå‚æ•°å®šä¹‰ç»´æ•°ã€‚</li></ul></li><li>äºŒé˜¶å¼ é‡åˆå«çŸ©é˜µï¼Œä½¿ç”¨ndimæ£€æŸ¥æ•°ç»„çš„ç»´æ•°ï¼Œè¿”å›æ•´æ•°çš„å±æ€§ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>arr = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>])<br><span class="hljs-built_in">print</span>(arr)<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(arr))            <span class="hljs-comment"># &lt;class &#x27;numpy.ndarray&#x27;&gt;</span><br><br>arr0 = np.array(<span class="hljs-number">30</span>)         <span class="hljs-comment"># 0-D</span><br><span class="hljs-built_in">print</span>(arr0)<br>arr1 = np.array((<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>))  <span class="hljs-comment"># 1-D</span><br><span class="hljs-built_in">print</span>(arr1)<br>arr2 = np.array([[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>], [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>]])<br><span class="hljs-built_in">print</span>(arr2)                 <span class="hljs-comment"># 2-D</span><br>arr3 = np.array([[[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>], [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>]], [[<span class="hljs-number">5</span>, <span class="hljs-number">6</span>], [<span class="hljs-number">7</span>, <span class="hljs-number">8</span>]]])<br><span class="hljs-built_in">print</span>(arr3)                 <span class="hljs-comment"># 3-D</span><br>arr5 = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>], ndmin=<span class="hljs-number">5</span>)<br><span class="hljs-built_in">print</span>(arr5)                 <span class="hljs-comment"># 5-D</span><br><br><span class="hljs-built_in">print</span>(arr0.ndim)            <span class="hljs-comment"># æ£€æŸ¥æ•°ç»„çš„ç»´æ•°</span><br><span class="hljs-built_in">print</span>(arr1.ndim)<br><span class="hljs-built_in">print</span>(arr2.ndim)<br><span class="hljs-built_in">print</span>(arr3.ndim)<br><span class="hljs-built_in">print</span>(arr5.ndim)<br></code></pre></td></tr></table></figure><h2 id="2-1-æ•°ç»„ç´¢å¼•"><a href="#2-1-æ•°ç»„ç´¢å¼•" class="headerlink" title="2-1 æ•°ç»„ç´¢å¼•"></a>2-1 æ•°ç»„ç´¢å¼•</h2><ul><li>æ•°ç»„ç´¢å¼•<ul><li>æ•°ç»„ç´¢å¼•ä¸è®¿é—®æ•°ç»„å…ƒç´ ç›¸åŒï¼Œé€šè¿‡å¼•ç”¨ç´¢å¼•å·è®¿é—®æ•°ç»„å…ƒç´ ã€‚</li><li>ç´¢å¼•ä»0å¼€å§‹ï¼Œç¬¬ä¸€ä¸ªå…ƒç´ ç´¢å¼•ä¸º0ï¼Œç¬¬äºŒä¸ªå…ƒç´ ç´¢å¼•ä¸º1ï¼Œä»¥æ­¤ç±»æ¨ã€‚</li><li>äºŒç»´æ•°ç»„å’Œä¸‰ç»´æ•°ç»„éƒ½ä½¿ç”¨é€—å·åˆ†éš”çš„æ•´æ•°æ¥è¡¨ç¤ºå…ƒç´ çš„ç»´åº¦å’Œç´¢å¼•ã€‚</li><li>äºŒç»´æ•°ç»„ç´¢å¼•å¯ä»¥æƒ³è±¡ä¸ºå…·æœ‰è¡Œå’Œåˆ—çš„è¡¨ï¼Œè¡Œè¡¨ç¤ºç»´åº¦ï¼Œç´¢å¼•è¡¨ç¤ºåˆ—ã€‚</li><li>å¯ä»¥ä½¿ç”¨è´Ÿç´¢å¼•ä»æœ«å°¾è®¿é—®æ•°ç»„ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>arr1 = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>])<br><span class="hljs-built_in">print</span>(arr1[<span class="hljs-number">0</span>])              <span class="hljs-comment"># è®¿é—®ä¸€ç»´æ•°ç»„å…ƒç´ </span><br><span class="hljs-built_in">print</span>(arr1[<span class="hljs-number">1</span>])<br><span class="hljs-built_in">print</span>(arr1[<span class="hljs-number">2</span>])<br><span class="hljs-built_in">print</span>(arr1[<span class="hljs-number">3</span>])<br><br>arr2 = np.array([[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>], [<span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>]])<br><span class="hljs-built_in">print</span>(arr2[<span class="hljs-number">0</span>, <span class="hljs-number">1</span>])           <span class="hljs-comment"># è®¿é—®äºŒç»´æ•°ç»„å…ƒç´ ï¼Œç¬¬ä¸€è¡Œç¬¬äºŒåˆ—çš„å…ƒç´ </span><br><br>arr3 = np.array([[[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>], [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>]], [[<span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>], [<span class="hljs-number">10</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>]]])<br><span class="hljs-built_in">print</span>(arr3[<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>])        <span class="hljs-comment"># è®¿é—®ä¸‰ç»´æ•°ç»„å…ƒç´ ï¼Œç¬¬ä¸€ä¸ªæ•°ç»„çš„ç¬¬äºŒä¸ªæ•°ç»„çš„ç¬¬ä¸‰ä¸ªå…ƒç´ </span><br><br><span class="hljs-built_in">print</span>(arr2[<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>])          <span class="hljs-comment"># è®¿é—®äºŒç»´æ•°ç»„å…ƒç´ ï¼Œç¬¬äºŒè¡Œçš„æœ€åä¸€ä¸ªå…ƒç´ </span><br></code></pre></td></tr></table></figure><h2 id="2-2-æ•°ç»„åˆ‡ç‰‡"><a href="#2-2-æ•°ç»„åˆ‡ç‰‡" class="headerlink" title="2-2 æ•°ç»„åˆ‡ç‰‡"></a>2-2 æ•°ç»„åˆ‡ç‰‡</h2><ul><li>æ•°ç»„åˆ‡ç‰‡<ul><li>æ ¼å¼ï¼š<code>[start: end]</code>æˆ–<code>[start: end: step]</code>ï¼Œç»“æœåŒ…æ‹¬å¼€å§‹ç´¢å¼•ï¼Œä¸åŒ…æ‹¬ç»“æŸç´¢å¼•ã€‚</li><li>starté»˜è®¤ä¸º0ï¼Œendåœ¨ç»´åº¦ä¸­è€ƒè™‘æ•°ç»„çš„é•¿åº¦ï¼Œstepé»˜è®¤ä¸º1ï¼Œä½¿ç”¨è´Ÿå·å¯ä»æœ«å°¾å¼•ç”¨ç´¢å¼•ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>arr1 = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>])<br><span class="hljs-built_in">print</span>(arr1[<span class="hljs-number">1</span>: <span class="hljs-number">5</span>])           <span class="hljs-comment"># ç´¢å¼•1åˆ°5çš„å…ƒç´ ï¼Œä¸åŒ…æ‹¬5</span><br><span class="hljs-built_in">print</span>(arr1[<span class="hljs-number">4</span>:  ])           <span class="hljs-comment"># ç´¢å¼•4åˆ°æ•°ç»„æœ«å°¾çš„å…ƒç´ åˆ‡ç‰‡</span><br><span class="hljs-built_in">print</span>(arr1[ : <span class="hljs-number">4</span>])           <span class="hljs-comment"># ç´¢å¼•å¼€å§‹åˆ°4çš„åˆ‡ç‰‡å…ƒç´ ï¼Œä¸åŒ…æ‹¬4</span><br><span class="hljs-built_in">print</span>(arr1[-<span class="hljs-number">3</span>: -<span class="hljs-number">1</span>])         <span class="hljs-comment"># è´Ÿç´¢å¼•ä»-1å¼€å§‹ï¼Œç´¢å¼•æœ«å°¾-1åˆ°-3çš„å…ƒç´ ï¼Œä¸åŒ…æ‹¬-1</span><br><span class="hljs-built_in">print</span>(arr1[<span class="hljs-number">1</span>: <span class="hljs-number">5</span>: <span class="hljs-number">2</span>])        <span class="hljs-comment"># ç´¢å¼•1åˆ°5çš„æ‰€æœ‰å…ƒç´ ï¼Œå…¶ä¸­æ­¥é•¿ä¸º2</span><br><span class="hljs-built_in">print</span>(arr1[ :  : <span class="hljs-number">2</span>])        <span class="hljs-comment"># ç´¢å¼•æ•´ä¸ªæ•°ç»„ä¸­æ­¥é•¿ä¸º2çš„æ‰€æœ‰å…ƒç´ </span><br><br>arr2 = np.array([[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>], [<span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>]])<br><span class="hljs-built_in">print</span>(arr2[<span class="hljs-number">1</span>, <span class="hljs-number">1</span>: <span class="hljs-number">4</span>])        <span class="hljs-comment"># ç¬¬äºŒä¸ªå…ƒç´ å¼€å§‹ï¼Œç´¢å¼•1åˆ°4çš„å…ƒç´ ï¼Œä¸åŒ…æ‹¬4</span><br><span class="hljs-built_in">print</span>(arr2[<span class="hljs-number">0</span>: <span class="hljs-number">2</span>, <span class="hljs-number">2</span>])        <span class="hljs-comment"># ä¸¤ä¸ªå…ƒç´ ä¸­è¿”å›ç´¢å¼•2</span><br><span class="hljs-built_in">print</span>(arr2[<span class="hljs-number">0</span>: <span class="hljs-number">2</span>, <span class="hljs-number">1</span>: <span class="hljs-number">4</span>])     <span class="hljs-comment"># ä¸¤ä¸ªå…ƒç´ ä¸­ï¼Œè¿”å›ç´¢å¼•1åˆ°4çš„å…ƒç´ ï¼Œä¸åŒ…æ‹¬4ï¼Œè¿”å›ä¸€ä¸ªäºŒç»´æ•°ç»„</span><br></code></pre></td></tr></table></figure><h2 id="2-3-æ•°æ®ç±»å‹"><a href="#2-3-æ•°æ®ç±»å‹" class="headerlink" title="2-3 æ•°æ®ç±»å‹"></a>2-3 æ•°æ®ç±»å‹</h2><ul><li>æ•°æ®ç±»å‹<ul><li>Pythonä¸­çš„æ•°æ®ç±»å‹ï¼šfloatã€integerã€booleanã€complexã€stringsã€‚</li><li>NumPyæ¨¡å—ä¹Ÿæœ‰ä¸€äº›é¢å¤–çš„æ•°æ®ç±»å‹ï¼Œå¹¶ä¸”æ˜¯æŒ‡ä»£å…·æœ‰ä¸€ä¸ªå­—ç¬¦çš„æ•°æ®ç±»å‹ã€‚<ul><li>i(æ•´æ•°)ã€b(å¸ƒå°”å€¼)ã€u(æ— ç¬¦å·æ•´æ•°)ã€f(æµ®ç‚¹æ•°)ã€c(å¤æ•°)ã€m(æ—¶é—´å¢é‡)ã€‚</li><li>M(æ—¥æœŸæ—¶é—´)ã€O(å¯¹è±¡)ã€S(å­—ç¬¦ä¸²)ã€U(Unicodeå­—ç¬¦ä¸²)ã€V(å…¶ä»–ç±»å‹çš„å›ºå®šå†…å­˜å—void)ã€‚</li></ul></li><li>NumPyæ•°ç»„å¯¹è±¡æœ‰ä¸ªdtypeå±æ€§ï¼Œç”¨äºè¿”å›æ•°ç»„çš„æ•°æ®ç±»å‹ã€‚</li><li><code>array()</code>åˆ›å»ºå…·æœ‰å·²å®šä¹‰æ•°æ®ç±»å‹çš„æ•°ç»„ï¼Œå¸¦å¯é€‰å‚æ•°dtypeï¼Œå…è®¸å®šä¹‰æ•°ç»„å…ƒç´ çš„é¢„æœŸæ•°æ®ç±»å‹ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>arr1 = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])<br><span class="hljs-built_in">print</span>(arr1.dtype)           <span class="hljs-comment"># è·å–æ•°ç»„å¯¹è±¡çš„æ•°æ®ç±»å‹</span><br>arr2 = np.array([<span class="hljs-string">&quot;Apple&quot;</span>, <span class="hljs-string">&quot;Banana&quot;</span>])<br><span class="hljs-built_in">print</span>(arr2.dtype)           <span class="hljs-comment"># è·å–åŒ…å«å­—ç¬¦ä¸²æ•°ç»„çš„æ•°æ®ç±»å‹</span><br><br>arr3 = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>], dtype=<span class="hljs-string">&quot;S&quot;</span>)<br><span class="hljs-built_in">print</span>(arr3)                 <span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªæ•°æ®ç±»å‹ä¸ºå­—ç¬¦ä¸²çš„æ•°ç»„</span><br><span class="hljs-built_in">print</span>(arr3.dtype)<br>arr4 = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>], dtype=<span class="hljs-string">&quot;i4&quot;</span>)<br><span class="hljs-built_in">print</span>(arr4)                 <span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªæ•°æ®ç±»å‹ä¸º4å­—èŠ‚æ•´æ•°çš„æ•°ç»„</span><br><span class="hljs-built_in">print</span>(arr4.dtype)<br></code></pre></td></tr></table></figure><ul><li>ç±»å‹è½¬æ¢<ul><li>è‹¥ç»™å®šç±»å‹æ— æ³•è½¬æ¢å…ƒç´ ï¼ŒNumPyå°†å¼•å‘ValueError(ä¼ é€’ç»™å‡½æ•°çš„å‚æ•°ç±»å‹æ„å¤–æˆ–ä¸æ­£ç¡®æ—¶æ˜¾ç¤º)ã€‚</li><li>ä½¿ç”¨<code>astype()</code>æ–¹æ³•åˆ¶ä½œæ•°ç»„çš„å‰¯æœ¬ï¼Œå…è®¸å°†æ•°æ®ç±»å‹æŒ‡å®šä¸ºå‚æ•°ï¼Œå¯ä»¥æ›´æ”¹ç°æœ‰æ•°ç»„çš„æ•°æ®ç±»å‹ã€‚</li><li>å¯ç”¨å­—ç¬¦ä¸²æŒ‡å®šæ•°æ®ç±»å‹ï¼Œä¾‹å¦‚f(æµ®ç‚¹æ•°)ã€i(æ•´æ•°)ç­‰ï¼Œæˆ–ç›´æ¥ä½¿ç”¨æ•°æ®ç±»å‹ï¼Œä¾‹å¦‚floatã€intç­‰ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br><br><span class="hljs-comment"># arr1 = np.array([&quot;a&quot;, &quot;2&quot;], dtype=&quot;i&quot;)</span><br>arr2 = np.array([<span class="hljs-number">1.1</span>, <span class="hljs-number">2.1</span>, <span class="hljs-number">3.1</span>])<br>arr3 = arr2.astype(<span class="hljs-string">&quot;i&quot;</span>)     <span class="hljs-comment"># åƒaè¿™æ ·çš„éæ•´æ•°å­—ç¬¦ä¸²ä¸èƒ½è½¬æ¢ä¸ºæ•´æ•°ï¼Œä¼šå¼•å‘é”™è¯¯</span><br><span class="hljs-built_in">print</span>(arr3)                 <span class="hljs-comment"># é€šè¿‡ä½¿ç”¨iä½œä¸ºå‚æ•°å€¼å°†æ•°æ®ç±»å‹ä»æµ®ç‚¹æ•°æ›´æ”¹ä¸ºæ•´æ•°</span><br><span class="hljs-built_in">print</span>(arr3.dtype)<br><br>arr4 = arr2.astype(<span class="hljs-built_in">int</span>)     <span class="hljs-comment"># é€šè¿‡ä½¿ç”¨intä½œä¸ºå‚æ•°å€¼å°†æ•°æ®ç±»å‹ä»æµ®ç‚¹æ•°æ›´æ”¹ä¸ºæ•´æ•°</span><br><span class="hljs-built_in">print</span>(arr4)<br><span class="hljs-built_in">print</span>(arr4.dtype)<br><br>arr5 = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">3</span>])  <span class="hljs-comment"># å°†æ•°æ®ç±»å‹ä»æ•´æ•°æ›´æ”¹ä¸ºå¸ƒå°”å€¼</span><br>arr6 = arr5.astype(<span class="hljs-built_in">bool</span>)<br><span class="hljs-built_in">print</span>(arr6)<br><span class="hljs-built_in">print</span>(arr6.dtype)<br></code></pre></td></tr></table></figure><h1 id="3-å‰¯æœ¬ä¸è§†å›¾"><a href="#3-å‰¯æœ¬ä¸è§†å›¾" class="headerlink" title="3 å‰¯æœ¬ä¸è§†å›¾"></a>3 å‰¯æœ¬ä¸è§†å›¾</h1><ul><li>å‰¯æœ¬ä¸è§†å›¾<ul><li>å‰¯æœ¬æ˜¯ä¸€ä¸ªæ–°æ•°ç»„ï¼Œè€Œè§†å›¾åªæ˜¯åŸå§‹æ•°ç»„çš„è§†å›¾ã€‚<ul><li>å‰¯æœ¬æ‹¥æœ‰æ•°æ®ï¼Œå¯¹å‰¯æœ¬æ‰€åšçš„æ›´æ”¹ä¸ä¼šå½±å“åŸå§‹æ•°ç»„ï¼Œå¯¹åŸå§‹æ•°ç»„æ‰€åšçš„æ›´æ”¹ä¸ä¼šå½±å“å‰¯æœ¬ã€‚</li><li>è§†å›¾æ²¡æœ‰æ•°æ®ï¼Œå¯¹è§†å›¾æ‰€åšçš„æ›´æ”¹å°†ä¼šå½±å“åŸå§‹æ•°ç»„ï¼Œå¯¹åŸå§‹æ•°ç»„æ‰€åšçš„æ›´æ”¹ä¹Ÿä¼šå½±å“è§†å›¾ã€‚</li></ul></li><li>æ¯ä¸ªNumPyæ•°ç»„éƒ½æœ‰baseå±æ€§ï¼Œå¦‚æœæ•°ç»„æ‹¥æœ‰æ•°æ®ï¼Œé‚£ä¹ˆè¿”å›Noneï¼Œå¦åˆ™baseå±æ€§å¼•ç”¨åŸå§‹å¯¹è±¡ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>arr1 = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>])<br>arr2 = arr1.copy()          <span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªå‰¯æœ¬</span><br>arr1[<span class="hljs-number">0</span>] = <span class="hljs-number">3</span>                 <span class="hljs-comment"># æ›´æ”¹åŸå§‹æ•°ç»„</span><br><span class="hljs-built_in">print</span>(arr1)                 <span class="hljs-comment"># æ˜¾ç¤ºä¸¤ä¸ªæ•°ç»„</span><br><span class="hljs-built_in">print</span>(arr2)                 <span class="hljs-comment"># å‰¯æœ¬ä¸åº”å—åˆ°å¯¹åŸå§‹æ•°ç»„æ‰€åšæ›´æ”¹çš„å½±å“</span><br><br>arr3 = arr1.view()          <span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªè§†å›¾</span><br>arr1[<span class="hljs-number">0</span>] = <span class="hljs-number">30</span>                <span class="hljs-comment"># æ›´æ”¹åŸå§‹æ•°ç»„</span><br><span class="hljs-built_in">print</span>(arr1)                 <span class="hljs-comment"># æ˜¾ç¤ºä¸¤ä¸ªæ•°ç»„</span><br><span class="hljs-built_in">print</span>(arr3)                 <span class="hljs-comment"># è§†å›¾åº”è¯¥å—åˆ°å¯¹åŸå§‹æ•°ç»„æ‰€åšæ›´æ”¹çš„å½±å“</span><br><br>arr4 = arr1.view()          <span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªè§†å›¾</span><br>arr4[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>                 <span class="hljs-comment"># æ›´æ”¹è§†å›¾</span><br><span class="hljs-built_in">print</span>(arr1)                 <span class="hljs-comment"># æ˜¾ç¤ºä¸¤ä¸ªæ•°ç»„</span><br><span class="hljs-built_in">print</span>(arr4)                 <span class="hljs-comment"># åŸå§‹æ•°ç»„åº”è¯¥å—åˆ°å¯¹è§†å›¾æ‰€åšæ›´æ”¹çš„å½±å“</span><br><br>arr5 = arr1.copy()          <span class="hljs-comment"># æ‰“å°baseå±æ€§çš„å€¼ï¼Œæ£€æŸ¥æ•°ç»„æ˜¯å¦æ‹¥æœ‰æ•°æ®</span><br>arr6 = arr1.view()<br><span class="hljs-built_in">print</span>(arr5.base)            <span class="hljs-comment"># å‰¯æœ¬è¿”å›None</span><br><span class="hljs-built_in">print</span>(arr6.base)            <span class="hljs-comment"># è§†å›¾è¿”å›åŸå§‹æ•°ç»„</span><br></code></pre></td></tr></table></figure><h1 id="4-å½¢çŠ¶ä¸é‡å¡‘"><a href="#4-å½¢çŠ¶ä¸é‡å¡‘" class="headerlink" title="4 å½¢çŠ¶ä¸é‡å¡‘"></a>4 å½¢çŠ¶ä¸é‡å¡‘</h1><ul><li>å½¢çŠ¶<ul><li>æ•°ç»„å½¢çŠ¶æ˜¯æ¯ä¸ªç»´åº¦ä¸­å…ƒç´ çš„æ•°é‡ï¼ŒNumPyæ•°ç»„æœ‰shapeå±æ€§ã€‚</li><li>shapeå±æ€§è¿”å›ä¸€ä¸ªå…ƒç»„ï¼Œæ¯ä¸ªç´¢å¼•éƒ½æœ‰ä¸ä¹‹å¯¹åº”å…ƒç´ çš„æ•°é‡ã€‚</li><li>å½¢çŠ¶å…ƒç»„ï¼šæ¯ä¸ªç´¢å¼•å¤„çš„æ•´æ•°éƒ½è¡¨ç¤ºç›¸åº”ç»´åº¦å…·æœ‰çš„å…ƒç´ æ•°é‡ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>arr1 = np.array([[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>], [<span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>]])<br><span class="hljs-built_in">print</span>(arr1.shape)                <span class="hljs-comment"># äºŒç»´æ•°ç»„çš„å½¢çŠ¶(2, 4)ï¼Œ2ä¸ªç»´åº¦ï¼Œç»´åº¦ä¸€æœ‰2ä¸ªå…ƒç´ ï¼Œç»´åº¦äºŒæœ‰4ä¸ªå…ƒç´ </span><br>arr2 = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>], ndmin=<span class="hljs-number">5</span>)<br><span class="hljs-built_in">print</span>(arr2)                      <span class="hljs-comment"># ä½¿ç”¨å€¼ä¸º1ã€2ã€3ã€4çš„ndminå‘é‡åˆ›å»ºä¸€ä¸ª5ç»´æ•°ç»„ï¼Œå¹¶æ‰“å°æœ€åä¸€ç»´çš„å€¼</span><br><span class="hljs-built_in">print</span>(arr2.shape)<br></code></pre></td></tr></table></figure><ul><li>é‡å¡‘<ul><li>æ•°ç»„é‡å¡‘æ„å‘³ç€æ”¹å˜æ•°ç»„å½¢çŠ¶ï¼Œå¯æ·»åŠ æˆ–åˆ é™¤ç»´åº¦ï¼Œæˆ–æ›´æ”¹æ¯ä¸ªç»´åº¦å…ƒç´ çš„æ•°é‡ã€‚</li><li>åªè¦æ•°ç»„é‡å¡‘æ‰€éœ€è¦çš„å…ƒç´ åœ¨ä¸¤ç§å½¢çŠ¶ä¸­éƒ½ç›¸åŒï¼Œå°±å¯ä»¥å°†æ•°ç»„é‡å¡‘æˆä»»ä½•å½¢çŠ¶ã€‚</li><li>ä¸å¿…ä¸ºreshapeæ–¹æ³•çš„å…¶ä¸­ä¸€ä¸ªç»´åº¦æŒ‡å®šç¡®åˆ‡çš„æ•°å­—ï¼Œæ‹¥æœ‰æœªçŸ¥ç»´åº¦ï¼Œä½œä¸º-1å€¼ä¼ é€’ã€‚</li><li>æ‰å¹³åŒ–æ•°ç»„æ„å‘³ç€å°†å¤šç»´æ•°ç»„è½¬æ¢ä¸ºä¸€ç»´æ•°ç»„ï¼Œå¯ä½¿ç”¨<code>reshape(-1)</code>æ¥åšåˆ°è¿™ä¸€ç‚¹ã€‚</li><li>æ”¹å˜æ•°ç»„å½¢çŠ¶è¿˜æœ‰flattenã€revelå‡½æ•°ï¼Œrot90ã€flipã€fliplrå’Œflipudç­‰åˆ™å¯é‡æ–°æ’åˆ—å…ƒç´ ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>arr1 = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>])<br>arr2 = arr1.reshape(<span class="hljs-number">4</span>, <span class="hljs-number">3</span>)       <span class="hljs-comment"># ä»ä¸€ç»´é‡å¡‘åˆ°äºŒç»´</span><br><span class="hljs-built_in">print</span>(arr2)                     <span class="hljs-comment"># æœ€å¤–å±‚ç»´åº¦æœ‰4ä¸ªæ•°ç»„ï¼Œæ¯ä¸ªæ•°ç»„åŒ…å«3ä¸ªå…ƒç´ </span><br><br>arr3 = arr1.reshape(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>)    <span class="hljs-comment"># ä»ä¸€ç»´é‡å¡‘åˆ°ä¸‰ç»´</span><br><span class="hljs-built_in">print</span>(arr3)                     <span class="hljs-comment"># æœ€å¤–å±‚ç»´åº¦æœ‰2ä¸ªæ•°ç»„ï¼Œå…¶ä¸­åŒ…å«3ä¸ªæ•°ç»„ï¼Œæ¯ä¸ªæ•°ç»„æœ‰2ä¸ªå…ƒç´ </span><br><br>arr4 = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>])<br><span class="hljs-comment"># arr5 = arr4.reshape(3, 3)</span><br><span class="hljs-comment"># print(arr5)                   # 8ä¸ªå…ƒç´ çš„1-Dæ•°ç»„è½¬æ¢ä¸ºæ¯ä¸ªç»´åº¦å…·æœ‰3ä¸ªå…ƒç´ çš„2-Dæ•°ç»„ï¼Œä¼šå¼•å‘é”™è¯¯</span><br><br><span class="hljs-built_in">print</span>(arr4.reshape(<span class="hljs-number">2</span>, <span class="hljs-number">4</span>).base)  <span class="hljs-comment"># æ£€æŸ¥è¿”å›çš„æ•°ç»„æ˜¯å‰¯æœ¬æˆ–è§†å›¾ï¼Œè¿”å›åŸå§‹æ•°ç»„ï¼Œæ˜¯è§†å›¾</span><br>arr6 = arr4.reshape(<span class="hljs-number">2</span>, <span class="hljs-number">2</span>, -<span class="hljs-number">1</span>)   <span class="hljs-comment"># 8ä¸ªå…ƒç´ çš„1-Dæ•°ç»„è½¬æ¢ä¸º2x2å…ƒç´ çš„3-Dæ•°ç»„ï¼Œä¸èƒ½ä¼ é€’-1å€¼åˆ°å¤šä¸ªç»´åº¦</span><br><span class="hljs-built_in">print</span>(arr6)<br><br>arr7 = np.array([[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>], [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>]])<br>arr8 = arr7.reshape(-<span class="hljs-number">1</span>)         <span class="hljs-comment"># å°†æ•°ç»„è½¬æ¢ä¸ºä¸€ç»´æ•°ç»„</span><br><span class="hljs-built_in">print</span>(arr8)<br></code></pre></td></tr></table></figure><h1 id="5-è¿æ¥ä¸æ‹†åˆ†"><a href="#5-è¿æ¥ä¸æ‹†åˆ†" class="headerlink" title="5 è¿æ¥ä¸æ‹†åˆ†"></a>5 è¿æ¥ä¸æ‹†åˆ†</h1><ul><li>è¿æ¥<ul><li>SQLä¸­åŸºäºé”®è¿æ¥è¡¨ï¼ŒNumPyä¸­é€šè¿‡è½´è¿æ¥æ•°ç»„ã€‚</li><li>é€šè¿‡<code>concatenate()</code>å‡½æ•°å°†æ•°ç»„ä¸è½´ä¸€èµ·è¿›è¡Œä¼ é€’è¿æ¥ï¼Œå‚æ•°axisé»˜è®¤ä¸º0ã€‚</li><li>ä½¿ç”¨å †æ ˆå‡½æ•°<code>stack()</code>è¿æ¥æ•°ç»„(å †å ï¼Œä¸€ä¸ªè½´åœ¨å¦ä¸€ä¸ªè½´ä¸Š)ï¼Œå‚æ•°axisé»˜è®¤ä¸º0ã€‚<ul><li><code>hstack()</code>ï¼šæ²¿è¡Œå †å ã€‚</li><li><code>vstack()</code>ï¼šæ²¿åˆ—å †å ã€‚</li><li><code>dstack()</code>ï¼šæ²¿é«˜åº¦æˆ–æ·±åº¦å †å ã€‚</li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>arr1 = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])<br>arr2 = np.array([<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>])<br>arr3 = np.concatenate((arr1, arr2))           <span class="hljs-comment"># è¿æ¥ä¸¤ä¸ªä¸€ç»´æ•°ç»„</span><br><span class="hljs-built_in">print</span>(arr3)<br><br>arr4 = np.array([[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>], [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>]])<br>arr5 = np.array([[<span class="hljs-number">5</span>, <span class="hljs-number">6</span>], [<span class="hljs-number">7</span>, <span class="hljs-number">8</span>]])<br>arr6 = np.concatenate((arr4, arr5), axis=<span class="hljs-number">1</span>)   <span class="hljs-comment"># è¿æ¥ä¸¤ä¸ªäºŒç»´æ•°ç»„</span><br><span class="hljs-built_in">print</span>(arr6)<br><br>arr7 = np.stack((arr1, arr2), axis=<span class="hljs-number">1</span>)         <span class="hljs-comment"># å †å </span><br><span class="hljs-built_in">print</span>(arr7)<br>arrh = np.hstack((arr1, arr2))                <span class="hljs-comment"># æ²¿è¡Œå †å </span><br><span class="hljs-built_in">print</span>(arrh)<br>arrv = np.vstack((arr1, arr2))                <span class="hljs-comment"># æ²¿åˆ—å †å </span><br><span class="hljs-built_in">print</span>(arrv)<br>arrd = np.dstack((arr1, arr2))                <span class="hljs-comment"># æ²¿é«˜åº¦æˆ–æ·±åº¦å †å </span><br><span class="hljs-built_in">print</span>(arrd)<br></code></pre></td></tr></table></figure><ul><li>æ‹†åˆ†<ul><li>æ‹†åˆ†æ˜¯è¿æ¥çš„é€†æ“ä½œï¼Œ<code>array_split()</code>æ–¹æ³•ç”¨äºæ‹†åˆ†æ•°ç»„ã€‚<ul><li>å¦‚æœæ•°ç»„çš„å…ƒç´ å°‘äºæ‰€éœ€è¦çš„å…ƒç´ ï¼Œé‚£ä¹ˆå°†ç›¸åº”åœ°ä»æœ«å°¾è¿›è¡Œè‡ªåŠ¨è°ƒæ•´ã€‚</li><li>ä¹Ÿå¯ä»¥ä½¿ç”¨<code>split()</code>æ–¹æ³•ï¼Œä½†è‹¥å…ƒç´ è¾ƒå°‘ï¼Œä¸ä¼šè‡ªåŠ¨è°ƒæ•´ï¼Œå°†è¿”å›é”™è¯¯ã€‚</li></ul></li><li><code>array_split()</code>æ–¹æ³•çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­åŒ…å«æ¯ä¸ªæ•°ç»„æ‹†åˆ†ä¸ºä¸€ä¸ªæ•°ç»„ã€‚<ul><li>è‹¥å°†ä¸€ä¸ªæ•°ç»„æ‹†åˆ†ä¸º3ä¸ªæ•°ç»„ï¼Œå¯ä»¥åƒè®¿é—®ä»»ä½•æ•°ç»„å…ƒç´ ä¸€æ ·ä»ç»“æœä¸­è¿›è¡Œè®¿é—®ã€‚</li><li>å¯æŒ‡å®šè¦å›´ç»•å“ªä¸ªè½´è¿›è¡Œæ‹†åˆ†ï¼Œä½¿ç”¨axiså‚æ•°è¿›è¡Œæ‹†åˆ†ï¼Œæˆ–ä½¿ç”¨<code>hsplit()</code>æ›¿ä»£ã€‚</li><li><code>vstack()</code>å’Œ<code>dstack()</code>å‡½æ•°å¯¹åº”æ²¿åˆ—æ‹†åˆ†<code>vsplit()</code>ä»¥åŠæ²¿é«˜åº¦æ‹†åˆ†<code>dsplit()</code>ã€‚</li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>arr1 = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>])<br>arr2 = np.array_split(arr1, <span class="hljs-number">3</span>)                <span class="hljs-comment"># å°†ä¸€ç»´æ•°ç»„æ‹†åˆ†ä¸º3éƒ¨åˆ†</span><br><span class="hljs-built_in">print</span>(arr2)                                   <span class="hljs-comment"># è¿”å›ä¸€ä¸ªåŒ…å«3ä¸ªæ•°ç»„çš„æ•°ç»„</span><br><br>arr3 = np.array_split(arr1, <span class="hljs-number">4</span>)                <span class="hljs-comment"># å°†ä¸€ç»´æ•°ç»„æ‹†åˆ†ä¸º4éƒ¨åˆ†</span><br><span class="hljs-built_in">print</span>(arr3)                                   <span class="hljs-comment"># æ•°ç»„å…ƒç´ å°‘äºæ‰€éœ€çš„å…ƒç´ </span><br>arr4 = np.split(arr1, <span class="hljs-number">3</span>)                      <span class="hljs-comment"># å°†ä¸€ç»´æ•°ç»„æ‹†åˆ†ä¸º3éƒ¨åˆ†</span><br><span class="hljs-built_in">print</span>(arr4)<br><br><span class="hljs-built_in">print</span>(arr2[<span class="hljs-number">0</span>])                                <span class="hljs-comment"># æ‰“å°æ‹†åˆ†åçš„æ•°ç»„</span><br><span class="hljs-built_in">print</span>(arr2[<span class="hljs-number">1</span>])<br><span class="hljs-built_in">print</span>(arr2[<span class="hljs-number">2</span>])<br><br>arr5 = np.array([[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>], [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>], [<span class="hljs-number">5</span>, <span class="hljs-number">6</span>], [<span class="hljs-number">7</span>, <span class="hljs-number">8</span>], [<span class="hljs-number">9</span>, <span class="hljs-number">10</span>], [<span class="hljs-number">11</span>, <span class="hljs-number">12</span>]])<br>arr6 = np.array_split(arr5, <span class="hljs-number">3</span>)                <span class="hljs-comment"># å°†äºŒç»´æ•°ç»„æ‹†åˆ†ä¸º3ä¸ªäºŒç»´æ•°ç»„</span><br><span class="hljs-built_in">print</span>(arr6)<br><br>arr7 = np.array([[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>], [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>], [<span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>], [<span class="hljs-number">10</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>], [<span class="hljs-number">13</span>, <span class="hljs-number">14</span>, <span class="hljs-number">15</span>], [<span class="hljs-number">16</span>, <span class="hljs-number">17</span>, <span class="hljs-number">18</span>]])<br>arr8 = np.array_split(arr7, <span class="hljs-number">3</span>)                <span class="hljs-comment"># å°†äºŒç»´æ•°ç»„æ‹†åˆ†ä¸º3ä¸ªäºŒç»´æ•°ç»„</span><br><span class="hljs-built_in">print</span>(arr8)<br><br>arr9 = np.array_split(arr7, <span class="hljs-number">3</span>, axis=<span class="hljs-number">1</span>)        <span class="hljs-comment"># å°†äºŒç»´æ•°ç»„æ²¿è¡Œæ‹†åˆ†ä¸º3ä¸ªäºŒç»´æ•°ç»„</span><br><span class="hljs-built_in">print</span>(arr9)<br>arrh = np.hsplit(arr7, <span class="hljs-number">3</span>)                     <span class="hljs-comment"># å°†äºŒç»´æ•°ç»„æ²¿è¡Œæ‹†åˆ†ä¸º3ä¸ªäºŒç»´æ•°ç»„</span><br><span class="hljs-built_in">print</span>(arrh)<br></code></pre></td></tr></table></figure><h1 id="6-æ•°ç»„è¿­ä»£"><a href="#6-æ•°ç»„è¿­ä»£" class="headerlink" title="6 æ•°ç»„è¿­ä»£"></a>6 æ•°ç»„è¿­ä»£</h1><ul><li>æ•°ç»„è¿­ä»£<ul><li>è¿­ä»£æ„å‘³ç€ä¸€ä¸ªä¸€ä¸ªåœ°éå†å…ƒç´ ï¼Œåœ¨NumPyä¸­å¤„ç†å¤šç»´æ•°ç»„æ—¶ï¼Œä½¿ç”¨forå¾ªç¯å¯ä»¥è¿›è¡Œè¿­ä»£ã€‚</li><li>è‹¥è¿­ä»£ä¸€ä¸ªn-Dæ•°ç»„ï¼Œå°†éå†n-1ç»´ï¼Œè¦è¿”å›å®é™…å€¼ï¼Œå³æ ‡é‡ï¼Œå¿…é¡»åœ¨æ¯ä¸ªç»´åº¦ä¸­è¿­ä»£æ•°ç»„ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>arr1 = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])<br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> arr1:                      <span class="hljs-comment"># è¿­ä»£ä¸€ç»´æ•°ç»„çš„å…ƒç´ </span><br>    <span class="hljs-built_in">print</span>(x)<br><br>arr2 = np.array([[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>], [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>]])<br><span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> arr2:                      <span class="hljs-comment"># è¿­ä»£äºŒç»´æ•°ç»„çš„å…ƒç´ </span><br>    <span class="hljs-built_in">print</span>(y)<br><br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> arr2:                      <span class="hljs-comment"># è¿­ä»£äºŒç»´æ•°ç»„çš„æ¯ä¸ªæ ‡é‡å…ƒç´ </span><br>    <span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> x:<br>        <span class="hljs-built_in">print</span>(y)<br><br>arr3 = np.array([[[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>], [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>]], [[<span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>], [<span class="hljs-number">10</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>]]])<br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> arr3:                      <span class="hljs-comment"># è¿­ä»£ä¸‰ç»´æ•°ç»„çš„å…ƒç´ </span><br>    <span class="hljs-built_in">print</span>(x)<br><br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> arr3:                      <span class="hljs-comment"># è¿­ä»£ä¸‰ç»´æ•°ç»„çš„æ¯ä¸ªæ ‡é‡å…ƒç´ </span><br>    <span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> x:<br>        <span class="hljs-keyword">for</span> z <span class="hljs-keyword">in</span> y:<br>            <span class="hljs-built_in">print</span>(z)<br></code></pre></td></tr></table></figure><ul><li>è¿­ä»£æ–¹æ³•<ul><li><code>nditer()</code>æ˜¯ä¸€ä¸ªå¸®åŠ©å‡½æ•°ï¼Œå¯ä»¥è§£å†³è¿­ä»£ä¸­çš„ä¸€äº›åŸºæœ¬é—®é¢˜ã€‚<ul><li>ä½¿ç”¨op_dtypeså‚æ•°å¹¶å°†é¢„æœŸçš„æ•°æ®ç±»å‹ä¼ é€’ç»™å®ƒï¼Œå¯ä»¥åœ¨è¿­ä»£æ—¶æ›´æ”¹å…ƒç´ çš„æ•°æ®ç±»å‹ã€‚</li><li>å…ƒç´ åœ¨æ•°ç»„ä¸­æ—¶ï¼ŒNumPyä¸ä¼šå°±åœ°æ›´æ”¹å…ƒç´ çš„æ•°æ®ç±»å‹ï¼Œéœ€ä¸€äº›å…¶ä»–ç©ºé—´æ¥æ‰§è¡Œæ­¤æ“ä½œã€‚</li><li>å…¶ä»–ç©ºé—´å³ç¼“å†²åŒºï¼Œä¸ºå¯ç”¨é¢å¤–ç©ºé—´ï¼Œè¿˜éœ€è¦ä½¿ç”¨<code>nditer()</code>å‡½æ•°çš„<code>flags=[&quot;buffered&quot;]</code>ã€‚</li></ul></li><li>ä½¿ç”¨è¿‡æ»¤å¯ä»¥ä»¥ä¸åŒçš„æ­¥é•¿è¿›è¡Œè¿­ä»£ï¼Œè‹¥éœ€å…ƒç´ çš„ç›¸åº”ç´¢å¼•ï¼Œå¯ç”¨<code>ndenumerate()</code>è¿›è¡Œæšä¸¾è¿­ä»£ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>arr1 = np.array([[[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>], [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>]], [[<span class="hljs-number">5</span>, <span class="hljs-number">6</span>], [<span class="hljs-number">7</span>, <span class="hljs-number">8</span>]]])<br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> np.nditer(arr1):           <span class="hljs-comment"># éå†3-Dæ•°ç»„</span><br>    <span class="hljs-built_in">print</span>(x)<br><br>arr2 = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])          <span class="hljs-comment"># ä½œä¸ºå­—ç¬¦ä¸²éå†æ•°ç»„</span><br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> np.nditer(arr2, flags=[<span class="hljs-string">&quot;buffered&quot;</span>], op_dtypes=[<span class="hljs-string">&quot;S&quot;</span>]):<br>    <span class="hljs-built_in">print</span>(x)<br><br>arr3 = np.array([[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>], [<span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>]])<br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> np.nditer(arr3[:, ::<span class="hljs-number">2</span>]):   <span class="hljs-comment"># æ¯è·³è¿‡1ä¸ªå…ƒç´ ï¼Œéå†2-Dæ•°ç»„çš„æ¯ä¸ªæ ‡é‡å…ƒç´ </span><br>    <span class="hljs-built_in">print</span>(x)<br><br><span class="hljs-keyword">for</span> idx, x <span class="hljs-keyword">in</span> np.ndenumerate(arr2): <span class="hljs-comment"># æšä¸¾ä¸€ç»´æ•°ç»„å…ƒç´ </span><br>    <span class="hljs-built_in">print</span>(idx, x)<br><span class="hljs-keyword">for</span> idx, x <span class="hljs-keyword">in</span> np.ndenumerate(arr3): <span class="hljs-comment"># æšä¸¾äºŒç»´æ•°ç»„å…ƒç´ </span><br>    <span class="hljs-built_in">print</span>(idx, x)<br></code></pre></td></tr></table></figure><h1 id="7-æ•°ç»„æœç´¢"><a href="#7-æ•°ç»„æœç´¢" class="headerlink" title="7 æ•°ç»„æœç´¢"></a>7 æ•°ç»„æœç´¢</h1><ul><li>æ•°ç»„æœç´¢<ul><li><code>where()</code>æ–¹æ³•å¯ä»¥è¿›è¡Œæ•°ç»„æœç´¢ã€‚</li><li><code>searchsorted()</code>æ–¹æ³•ï¼šè€ƒè™‘å…ˆæ’å…¥ï¼Œå†æ’åºï¼Œæœ€åç´¢å¼•ã€‚<ul><li>æ•°ç»„ä¸­æ‰§è¡ŒäºŒè¿›åˆ¶æœç´¢ï¼Œå¹¶è¿”å›å°†æ’å…¥æŒ‡å®šå€¼çš„ç´¢å¼•ä»¥ä¿æŒæœç´¢é¡ºåºã€‚</li><li>é»˜è®¤æƒ…å†µä¸‹è¿”å›å·¦ä¾§ç´¢å¼•ï¼Œä½¿ç”¨<code>side=&quot;right&quot;</code>å¯ä»¥æ”¹ä¸ºè¿”å›å³ä¾§ç´¢å¼•ã€‚</li><li>å¦‚æœéœ€è¦æœç´¢å¤šä¸ªå€¼ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨å…·æœ‰æŒ‡å®šå€¼çš„æ•°ç»„è¿›è¡Œæ•°ç»„çš„æœç´¢ã€‚</li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>arr1 = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>])<br>val4 = np.where(arr1 == <span class="hljs-number">4</span>)          <span class="hljs-comment"># æŸ¥æ‰¾å€¼ä¸º4çš„ç´¢å¼•</span><br><span class="hljs-built_in">print</span>(val4)                         <span class="hljs-comment"># è¿”å›å…ƒç»„(array([3, 5, 6], ))ï¼Œå€¼4å‡ºç°åœ¨ç´¢å¼•çš„3ã€5å’Œ6ä½ç½®å¤„</span><br>even = np.where(arr1 % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>)      <span class="hljs-comment"># æŸ¥æ‰¾å€¼ä¸ºå¶æ•°çš„ç´¢å¼•</span><br><span class="hljs-built_in">print</span>(even)<br><br>arr2 = np.array([<span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>])<br>insl = np.searchsorted(arr2, <span class="hljs-number">7</span>)     <span class="hljs-comment"># æŸ¥æ‰¾åº”æ’å…¥å€¼7çš„ç´¢å¼•</span><br><span class="hljs-built_in">print</span>(insl)                         <span class="hljs-comment"># ç´¢å¼•ä»å·¦ä¾§å¼€å§‹ï¼Œå¹¶è¿”å›ç¬¬ä¸€ä¸ªç´¢å¼•</span><br>insr = np.searchsorted(arr2, <span class="hljs-number">7</span>, side=<span class="hljs-string">&quot;right&quot;</span>)<br><span class="hljs-built_in">print</span>(insr)                         <span class="hljs-comment"># ç´¢å¼•ä»å³ä¾§å¼€å§‹ï¼Œå¹¶è¿”å›ç¬¬ä¸€ä¸ªç´¢å¼•</span><br><br>arr3 = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>])<br>ins1 = np.searchsorted(arr3, <span class="hljs-number">0</span>)<br><span class="hljs-built_in">print</span>(ins1)                         <span class="hljs-comment"># è¿”å›0</span><br>ins2 = np.searchsorted(arr3, [<span class="hljs-number">8</span>, <span class="hljs-number">9</span>])<br><span class="hljs-built_in">print</span>(ins2)                         <span class="hljs-comment"># è¿”å›æ•°ç»„[4 4]</span><br>ins3 = np.searchsorted(arr3, [<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>])<br><span class="hljs-built_in">print</span>(ins3)                         <span class="hljs-comment"># æŸ¥æ‰¾åº”æ’å…¥å€¼2ã€4å’Œ6çš„ç´¢å¼•ï¼Œè¿”å›æ•°ç»„[1 2 3]</span><br></code></pre></td></tr></table></figure><h1 id="8-æ•°ç»„æ’åº"><a href="#8-æ•°ç»„æ’åº" class="headerlink" title="8 æ•°ç»„æ’åº"></a>8 æ•°ç»„æ’åº</h1><ul><li>æ•°ç»„æ’åº<ul><li>NumPyçš„ndarrayå¯¹è±¡æœ‰ä¸€ä¸ª<code>sort()</code>å‡½æ•°ï¼Œå¯ä»¥å¯¹æŒ‡å®šçš„æ•°ç»„è¿›è¡Œæ’åºã€‚</li><li><code>sort()</code>å‡½æ•°å¯ä»¥å¯¹å­—ç¬¦ä¸²æ•°ç»„ã€å¸ƒå°”æ•°ç»„æˆ–ä»»ä½•å…¶ä»–æ•°æ®ç±»å‹è¿›è¡Œæ’åºã€‚</li><li>è‹¥å¯¹äºŒç»´æ•°ç»„ä½¿ç”¨<code>sort()</code>å‡½æ•°ï¼Œé‚£ä¹ˆäºŒç»´æ•°ç»„ä¸­çš„ä¸¤ä¸ªæ•°ç»„éƒ½å°†è¢«æ’åºã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>arr1 = np.array([<span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>])       <span class="hljs-comment"># å¯¹æ•°ç»„æ’åº</span><br><span class="hljs-built_in">print</span>(np.sort(arr1))                <span class="hljs-comment"># è¿”å›æ•°ç»„arr1çš„å‰¯æœ¬ï¼Œä¿æŒåŸå§‹æ•°ç»„ä¸å˜</span><br><br>arr2 = np.array([<span class="hljs-string">&quot;Banana&quot;</span>, <span class="hljs-string">&quot;Apple&quot;</span>, <span class="hljs-string">&quot;Cherry&quot;</span>])<br><span class="hljs-built_in">print</span>(np.sort(arr2))                <span class="hljs-comment"># æŒ‰å­—æ¯é¡ºåºå¯¹æ•°ç»„æ’åº</span><br><br>arr3 = np.array([<span class="hljs-literal">True</span>, <span class="hljs-literal">False</span>, <span class="hljs-literal">True</span>])<br><span class="hljs-built_in">print</span>(np.sort(arr3))                <span class="hljs-comment"># å¯¹å¸ƒå°”æ•°ç»„æ’åº</span><br><br>arr4 = np.array([[<span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>], [<span class="hljs-number">5</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>]])<br><span class="hljs-built_in">print</span>(np.sort(arr4))<br></code></pre></td></tr></table></figure><h1 id="9-æ•°ç»„è¿‡æ»¤å™¨"><a href="#9-æ•°ç»„è¿‡æ»¤å™¨" class="headerlink" title="9 æ•°ç»„è¿‡æ»¤å™¨"></a>9 æ•°ç»„è¿‡æ»¤å™¨</h1><ul><li>æ•°ç»„è¿‡æ»¤å™¨<ul><li>ä»ç°æœ‰æ•°ç»„ä¸­å–å‡ºä¸€äº›å…ƒç´ ï¼Œå¹¶ä»ä¸­åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ï¼Œç§°ä¸ºæ•°ç»„è¿‡æ»¤ã€‚</li><li>å¸ƒå°”ç´¢å¼•åˆ—è¡¨è¿‡æ»¤æ•°ç»„<ul><li>å¦‚æœç´¢å¼•å¤„çš„å€¼æ˜¯Trueï¼Œåˆ™è¯¥å…ƒç´ åŒ…å«åœ¨è¿‡æ»¤åçš„æ•°ç»„ä¸­ã€‚</li><li>å¦‚æœç´¢å¼•å¤„çš„å€¼æ˜¯Falseï¼Œåˆ™è¯¥å…ƒç´ ä»è¿‡æ»¤åçš„æ•°ç»„ä¸­æ’é™¤ã€‚</li></ul></li><li>æ ¹æ®æ¡ä»¶åˆ›å»ºè¿‡æ»¤å™¨æ•°ç»„ï¼Œå¯ä»¥åœ¨æ¡ä»¶ä¸­ç›´æ¥æ›¿æ¢æ•°ç»„è€Œä¸æ˜¯å¯è¿­ä»£å˜é‡ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>arr1 = np.array([<span class="hljs-number">30</span>, <span class="hljs-number">31</span>, <span class="hljs-number">32</span>, <span class="hljs-number">33</span>])<br>boo1 = [<span class="hljs-literal">True</span>, <span class="hljs-literal">False</span>, <span class="hljs-literal">True</span>, <span class="hljs-literal">False</span>]<br>new1 = arr1[boo1]                   <span class="hljs-comment"># å¯¹Trueå’ŒFalseå€¼è¿›è¡Œäº†ç¡¬ç¼–ç </span><br><span class="hljs-built_in">print</span>(new1)                         <span class="hljs-comment"># è¿”å›[30 32]ï¼Œæ–°è¿‡æ»¤å™¨ä»…åŒ…å«è¿‡æ»¤å™¨æ•°ç»„å…·æœ‰valueçš„Trueå€¼</span><br><br>filter_arr1 = []                    <span class="hljs-comment"># åˆ›å»ºç©ºåˆ—è¡¨</span><br><span class="hljs-keyword">for</span> element <span class="hljs-keyword">in</span> arr1:                <span class="hljs-comment"># éå†æ•°ç»„arr1ä¸­çš„æ¯ä¸ªå…ƒç´ </span><br>    <span class="hljs-keyword">if</span> element &gt; <span class="hljs-number">31</span>:                <span class="hljs-comment"># å…ƒç´ å¤§äº31ï¼Œå°†å€¼è®¾ä¸ºTrueï¼Œå¦åˆ™ä¸ºFalse</span><br>        filter_arr1.append(<span class="hljs-literal">True</span>)<br>    <span class="hljs-keyword">else</span>:<br>        filter_arr1.append(<span class="hljs-literal">False</span>)<br>arr2 = arr1[filter_arr1]<br><span class="hljs-built_in">print</span>(filter_arr1)                  <span class="hljs-comment"># [False, False, True, True]</span><br><span class="hljs-built_in">print</span>(arr2)                         <span class="hljs-comment"># è¿”å›[32 33]</span><br><br>filter_arr2 = arr1 &gt; <span class="hljs-number">31</span>             <span class="hljs-comment"># åœ¨æ¡ä»¶ä¸­ç›´æ¥æ›¿æ¢æ•°ç»„</span><br>arr3 = arr1[filter_arr2]<br><span class="hljs-built_in">print</span>(filter_arr2)<br><span class="hljs-built_in">print</span>(arr3)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>NumPy</tag>
      
      <tag>æ•°æ®å¤„ç†</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python æ–‡ä»¶å¤„ç†</title>
    <link href="/2021/02/03/python/python03-python-wen-jian-chu-li/"/>
    <url>/2021/02/03/python/python03-python-wen-jian-chu-li/</url>
    
    <content type="html"><![CDATA[<p>ğŸ¦ æ–‡ä»¶å°±æ˜¯æ“ä½œç³»ç»Ÿæä¾›ç»™ç”¨æˆ·æˆ–åº”ç”¨ç¨‹åºæ“ä½œç¡¬ç›˜çš„ä¸€ç§åŠŸèƒ½ï¼Œä»»ä½•è¯­è¨€éƒ½ç¦»ä¸å¼€å¯¹æ–‡ä»¶çš„æ“ä½œï¼ŒPythonè¯­è¨€æ›´ä¸ä¾‹å¤–ã€‚</p><span id="more"></span><h1 id="1-æ–‡æœ¬"><a href="#1-æ–‡æœ¬" class="headerlink" title="1 æ–‡æœ¬"></a>1 æ–‡æœ¬</h1><ul><li>æ–‡æœ¬<ul><li><code>.txt</code>ã€<code>.csv</code>ã€<code>.log</code>ç­‰æ ¼å¼çš„æ–‡æœ¬æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨å†…ç½®åº“è¿›è¡Œå¤„ç†ã€‚</li><li><code>.txt</code>ã€<code>.log</code>æ–‡ä»¶ä½¿ç”¨<code>open()</code>æ‰“å¼€ï¼Œ<code>read()</code>æˆ–<code>readlines()</code>è¯»å–ã€‚</li><li><code>.csv</code>æ–‡ä»¶åˆ™éœ€è¦ç”¨åˆ°å†…ç½®åº“csvï¼Œé€šè¿‡csvå†…ç½®åº“è§£æå’Œå¤„ç†CSVæ•°æ®ã€‚</li></ul></li></ul><h2 id="1-1-æ‰“å¼€æ–‡ä»¶"><a href="#1-1-æ‰“å¼€æ–‡ä»¶" class="headerlink" title="1-1 æ‰“å¼€æ–‡ä»¶"></a>1-1 æ‰“å¼€æ–‡ä»¶</h2><ul><li>æ‰“å¼€æ–‡ä»¶<ul><li><code>open()</code>å‡½æ•°ï¼Œæ–‡ä»¶å¤„ç†çš„å…³é”®å‡½æ•°ï¼Œæœ‰filenameå’Œmodeä¸¤ä¸ªå‚æ•°ã€‚</li><li>æ‰“å¼€æ–‡ä»¶çš„æ¨¡å¼<ul><li><code>x</code>ï¼šåˆ›å»ºæŒ‡å®šæ–‡ä»¶ï¼Œå¦‚æœæ–‡ä»¶å­˜åœ¨åˆ™è¿”å›é”™è¯¯ã€‚</li><li><code>r</code>ï¼šé»˜è®¤å€¼ï¼Œæ‰“å¼€æ–‡ä»¶è¿›è¡Œè¯»å–ï¼Œå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™å‡ºé”™ã€‚</li><li><code>w</code>ï¼šæ‰“å¼€æ–‡ä»¶è¿›è¡Œå†…å®¹çš„å†™å…¥ï¼Œå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨åˆ™åˆ›å»ºæ–‡ä»¶ã€‚</li><li><code>a</code>ï¼šæ‰“å¼€æ–‡ä»¶è¿›è¡Œå†…å®¹çš„è¿½åŠ ï¼Œå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨åˆ™åˆ›å»ºæ–‡ä»¶ã€‚</li></ul></li><li>æŒ‡å®šæ–‡ä»¶çš„å½¢å¼<ul><li><code>t</code>ï¼šé»˜è®¤å€¼ï¼Œæ–‡æœ¬æ¨¡å¼ã€‚</li><li><code>b</code>ï¼šäºŒè¿›åˆ¶ï¼Œä¾‹å¦‚å›¾åƒã€‚</li></ul></li><li>æ‰“å¼€æ–‡ä»¶è¿›è¡Œè¯»å–ï¼ŒæŒ‡å®šæ–‡ä»¶åå°±å¯ä»¥äº†ã€‚</li></ul></li></ul><h2 id="1-2-è¯»å–æ–‡ä»¶"><a href="#1-2-è¯»å–æ–‡ä»¶" class="headerlink" title="1-2 è¯»å–æ–‡ä»¶"></a>1-2 è¯»å–æ–‡ä»¶</h2><ul><li>è¯»å–æ–‡ä»¶<ul><li><code>read()</code>æ–¹æ³•<ul><li><code>open()</code>å‡½æ•°è¿”å›ä¸€ä¸ªæ–‡ä»¶å¯¹è±¡ï¼Œè¯¥å¯¹è±¡çš„<code>read()</code>æ–¹æ³•å¯ä»¥è¯»å–æ–‡ä»¶çš„å†…å®¹ã€‚</li><li>è‹¥æ–‡ä»¶ä½äºå…¶ä»–ä½ç½®ï¼Œé¡»æŒ‡å®šæ–‡ä»¶è·¯å¾„ï¼Œ<code>read()</code>æ–¹æ³•å¯æŒ‡å®šè¦è¿”å›çš„å­—ç¬¦æ•°ã€‚</li></ul></li><li><code>readline()</code>æ–¹æ³•<ul><li>ä½¿ç”¨è¯¥æ–¹æ³•å°†è¿”å›æ–‡ä»¶çš„ä¸€è¡Œå†…å®¹ï¼Œè°ƒç”¨ä¸¤æ¬¡åˆ™å¯ä»¥è·å–å‰ä¸¤è¡Œã€‚</li><li>é€šè¿‡éå†æ–‡ä»¶çš„è¡Œï¼Œå¯ä»¥é€è¡Œè¯»å–æ•´ä¸ªæ–‡ä»¶ï¼Œå®Œæˆæ“ä½œåå°†æ–‡ä»¶å…³é—­æ˜¯ä¸ªå¥½ä¹ æƒ¯ã€‚</li><li>åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œç”±äºç¼“å†²ï¼Œå¯¹æ–‡ä»¶æ‰€åšçš„æ›´æ”¹å¯èƒ½åœ¨å…³é—­æ–‡ä»¶ä¹‹å‰ä¸ä¼šæ˜¾ç¤ºå‡ºæ¥ã€‚</li></ul></li></ul></li></ul><h3 id="1-read"><a href="#1-read" class="headerlink" title="(1) read()"></a>(1) read()</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python">x = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;file/read_txt.txt&quot;</span>, <span class="hljs-string">&quot;r&quot;</span>)                         <span class="hljs-comment"># ç¡®ä¿æ–‡ä»¶å­˜åœ¨ï¼Œå¦åˆ™æŠ¥é”™</span><br><span class="hljs-built_in">print</span>(x.read())                                            <span class="hljs-comment"># è·å–æ–‡ä»¶å†…å®¹</span><br><br>y = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;file/read_txt.txt&quot;</span>, <span class="hljs-string">&quot;r&quot;</span>)                         <span class="hljs-comment"># ç›¸å¯¹è·¯å¾„</span><br><span class="hljs-built_in">print</span>(y.read(<span class="hljs-number">3</span>))                                           <span class="hljs-comment"># è¿”å›æ–‡ä»¶çš„å‰3ä¸ªå­—ç¬¦</span><br><br><span class="hljs-comment"># f = open(&quot;D:\\read_txt.txt&quot;, &quot;r&quot;)                        # æŒ‡å®šæ–‡ä»¶è·¯å¾„ï¼Œç»å¯¹è·¯å¾„</span><br><span class="hljs-comment"># print(f.read())</span><br></code></pre></td></tr></table></figure><h3 id="2-readline"><a href="#2-readline" class="headerlink" title="(2) readline()"></a>(2) readline()</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs Python">x = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;file/read_txt.txt&quot;</span>, <span class="hljs-string">&quot;r&quot;</span>)<br><span class="hljs-built_in">print</span>(x.readline())                                       <span class="hljs-comment"># è¯»å–æ–‡ä»¶çš„ä¸€è¡Œ</span><br><span class="hljs-built_in">print</span>(x.readline())                                       <span class="hljs-comment"># è¯»å–æ–‡ä»¶çš„å‰ä¸¤è¡Œ</span><br><br>y = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;file/read_txt.txt&quot;</span>, <span class="hljs-string">&quot;r&quot;</span>)<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> y:                                               <span class="hljs-comment"># é€è¡Œå¾ªç¯æ–‡ä»¶</span><br>    <span class="hljs-built_in">print</span>(i)<br><br>x.close()                                                 <span class="hljs-comment"># å®Œæˆåå…³é—­æ–‡ä»¶</span><br>y.close()<br></code></pre></td></tr></table></figure><h2 id="1-2-å†™å…¥æ–‡ä»¶"><a href="#1-2-å†™å…¥æ–‡ä»¶" class="headerlink" title="1-2 å†™å…¥æ–‡ä»¶"></a>1-2 å†™å…¥æ–‡ä»¶</h2><ul><li>å†™å…¥æ–‡ä»¶<ul><li>å†™å…¥ç°æœ‰æ–‡ä»¶ï¼Œå¿…é¡»å‘<code>open()</code>å‡½æ•°æ·»åŠ å‚æ•°ã€‚<ul><li><code>a</code>ï¼šå°†å†…å®¹è¿½åŠ åˆ°æ–‡ä»¶çš„æœ«å°¾ã€‚</li><li><code>w</code>ï¼šå°†å†…å®¹è¦†ç›–ä»»ä½•ç°æœ‰å†…å®¹ã€‚</li></ul></li><li>åˆ›å»ºæ–°æ–‡ä»¶ï¼Œä½¿ç”¨<code>open()</code>å‡½æ•°å¸¦ä»¥ä¸‹å‚æ•°ä¹‹ä¸€çš„æ–¹æ³•ã€‚<ul><li><code>x</code>ï¼šåˆ›å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œå¦‚æœæ–‡ä»¶å­˜åœ¨ï¼Œåˆ™å°†è¿”å›é”™è¯¯ã€‚</li><li><code>w</code>ï¼šæ‰“å¼€æ–‡ä»¶è¿›è¡Œå†…å®¹çš„å†™å…¥ï¼Œå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨åˆ™åˆ›å»ºæ–‡ä»¶ã€‚</li><li><code>a</code>ï¼šæ‰“å¼€æ–‡ä»¶è¿›è¡Œå†…å®¹çš„è¿½åŠ ï¼Œå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨åˆ™åˆ›å»ºæ–‡ä»¶ã€‚</li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs Python">x = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;file/write_txt.txt&quot;</span>, <span class="hljs-string">&quot;a&quot;</span>)                       <span class="hljs-comment"># æ‰“å¼€æ–‡ä»¶å¹¶å°†å†…å®¹é™„åŠ åˆ°æ–‡ä»¶ä¸­ï¼Œæ–‡ä»¶ä¸å­˜åœ¨åˆ™åˆ›å»º</span><br>x.write(<span class="hljs-string">&quot;Now the file has more content!&quot;</span>)<br>x.close()<br>x = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;file/write_txt.txt&quot;</span>, <span class="hljs-string">&quot;r&quot;</span>)<br><span class="hljs-built_in">print</span>(x.read())<br><br>y = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;file/write_txt.txt&quot;</span>, <span class="hljs-string">&quot;w&quot;</span>)                       <span class="hljs-comment"># æ‰“å¼€æ–‡ä»¶å¹¶è¦†ç›–æ•´ä¸ªæ–‡ä»¶çš„å†…å®¹ï¼Œæ–‡ä»¶ä¸å­˜åœ¨åˆ™åˆ›å»º</span><br>y.write(<span class="hljs-string">&quot;Woops! I have deleted the content!&quot;</span>)<br>y.close()<br>y = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;file/write_txt.txt&quot;</span>, <span class="hljs-string">&quot;r&quot;</span>)<br><span class="hljs-built_in">print</span>(y.read())<br></code></pre></td></tr></table></figure><h2 id="1-3-åˆ é™¤æ–‡ä»¶"><a href="#1-3-åˆ é™¤æ–‡ä»¶" class="headerlink" title="1-3 åˆ é™¤æ–‡ä»¶"></a>1-3 åˆ é™¤æ–‡ä»¶</h2><ul><li>åˆ é™¤æ–‡ä»¶<ul><li>osæ¨¡å—ï¼šåˆ é™¤æ•´ä¸ªæ–‡ä»¶å¤¹ï¼Œéœ€è¦ä½¿ç”¨<code>os.rmdir()</code>æ–¹æ³•ã€‚</li><li>å¯¼å…¥æ¨¡å—å¹¶è¿è¡Œ<code>os.remove()</code>æ–¹æ³•å¯¹æ–‡ä»¶è¿›è¡Œåˆ é™¤æ“ä½œã€‚</li><li>ä¸ºé¿å…å‡ºç°é”™è¯¯ï¼Œéœ€è¦åœ¨å°è¯•åˆ é™¤æ–‡ä»¶ä¹‹å‰æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> os<br><br>os.rmdir(<span class="hljs-string">&quot;test&quot;</span>)                                          <span class="hljs-comment"># åˆ é™¤æ–‡ä»¶å¤¹ï¼Œåªæœ‰æ–‡ä»¶å¤¹ä¸ºç©ºæ—¶æ‰å¯åˆ é™¤</span><br>os.remove(<span class="hljs-string">&quot;file/test_txt.txt&quot;</span>)                            <span class="hljs-comment"># åˆ é™¤ä¸€ä¸ªæ–‡ä»¶</span><br><br>x = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;file/test_txt.txt&quot;</span>, <span class="hljs-string">&quot;a&quot;</span>)                        <span class="hljs-comment"># æ‰“å¼€æ–‡ä»¶å¹¶å°†å†…å®¹é™„åŠ åˆ°æ–‡ä»¶ä¸­</span><br>x.write(<span class="hljs-string">&quot;Now the file has more content!&quot;</span>)<br>x.close()<br><br><span class="hljs-keyword">if</span> os.path.exists(<span class="hljs-string">&quot;file/test_txt.txt&quot;</span>):<br>    os.remove(<span class="hljs-string">&quot;file/test_txt.txt&quot;</span>)                        <span class="hljs-comment"># æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œç„¶åå°†å…¶åˆ é™¤</span><br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;The file does not exist.&quot;</span>)<br></code></pre></td></tr></table></figure><h1 id="2-CSV"><a href="#2-CSV" class="headerlink" title="2 CSV"></a>2 CSV</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> csv<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">write_csv</span>(<span class="hljs-params">file_name, data</span>):<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(file_name, <span class="hljs-string">&#x27;w&#x27;</span>, newline=<span class="hljs-string">&#x27;&#x27;</span>) <span class="hljs-keyword">as</span> file:<br>        writer = csv.writer(file)                         <span class="hljs-comment"># å†™å…¥æ•°æ®</span><br>        writer.writerows(data)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">read_csv</span>(<span class="hljs-params">file_name</span>):<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(file_name, <span class="hljs-string">&#x27;r&#x27;</span>) <span class="hljs-keyword">as</span> file:<br>        reader = csv.reader(file)                         <span class="hljs-comment"># è¯»å–æ•°æ®</span><br>        <span class="hljs-keyword">for</span> row <span class="hljs-keyword">in</span> reader:<br>            <span class="hljs-built_in">print</span>(row)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">delete_rows</span>(<span class="hljs-params">file_name, rows_to_delete</span>):<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(file_name, <span class="hljs-string">&#x27;r&#x27;</span>) <span class="hljs-keyword">as</span> file:                    <span class="hljs-comment"># åˆ é™¤æ•°æ®</span><br>        reader = csv.reader(file)<br>        rows = <span class="hljs-built_in">list</span>(reader)<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(file_name, <span class="hljs-string">&#x27;w&#x27;</span>, newline=<span class="hljs-string">&#x27;&#x27;</span>) <span class="hljs-keyword">as</span> file:<br>        writer = csv.writer(file)<br>        <span class="hljs-keyword">for</span> i, row <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(rows):<br>            <span class="hljs-keyword">if</span> i+<span class="hljs-number">1</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> rows_to_delete:                 <span class="hljs-comment"># è¡Œå·ä»1å¼€å§‹</span><br>                writer.writerow(row)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    data = [<br>        [<span class="hljs-string">&quot;Name&quot;</span>, <span class="hljs-string">&quot;Age&quot;</span>, <span class="hljs-string">&quot;Sex&quot;</span>],<br>        [<span class="hljs-string">&quot;John&quot;</span>, <span class="hljs-string">&quot;25&quot;</span>, <span class="hljs-string">&quot;ç”·&quot;</span>], [<span class="hljs-string">&quot;Lucy&quot;</span>, <span class="hljs-string">&quot;30&quot;</span>, <span class="hljs-string">&quot;å¥³&quot;</span>],<br>        [<span class="hljs-string">&quot;Ross&quot;</span>, <span class="hljs-string">&quot;20&quot;</span>, <span class="hljs-string">&quot;å¥³&quot;</span>], [<span class="hljs-string">&quot;Yves&quot;</span>, <span class="hljs-string">&quot;26&quot;</span>, <span class="hljs-string">&quot;ç”·&quot;</span>]<br>    ]<br>    file_name = <span class="hljs-string">r&quot;file/csv_file.csv&quot;</span><br>    write_csv(file_name, data)<br>    read_csv(file_name)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;----------------------&quot;</span>)<br>    delete_rows(file_name, [<span class="hljs-number">2</span>, <span class="hljs-number">4</span>])                        <span class="hljs-comment"># åˆ é™¤ç¬¬2è¡Œå’Œç¬¬4è¡Œï¼ŒCSVæ–‡ä»¶ç»“æ„ä¸æ”¯æŒç›´æ¥åˆ é™¤åˆ—</span><br>    read_csv(file_name)<br></code></pre></td></tr></table></figure><h1 id="3-XML"><a href="#3-XML" class="headerlink" title="3 XML"></a>3 XML</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> xml.etree.ElementTree <span class="hljs-keyword">as</span> ET<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">write_xml</span>(<span class="hljs-params">file_name, data</span>):                           <span class="hljs-comment"># å†™å…¥æ•°æ®</span><br>    root = ET.Element(<span class="hljs-string">&quot;data&quot;</span>)<br>    <span class="hljs-keyword">for</span> row <span class="hljs-keyword">in</span> data:<br>        child = ET.SubElement(root, <span class="hljs-string">&quot;row&quot;</span>)<br>        <span class="hljs-keyword">for</span> i, column <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(row):<br>            sub_element = ET.SubElement(child, <span class="hljs-string">&quot;column&quot;</span>)<br>            sub_element.text = column<br>    tree = ET.ElementTree(root)<br>    tree.write(file_name)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">read_xml</span>(<span class="hljs-params">file_name</span>):                                  <span class="hljs-comment"># è¯»å–æ•°æ®</span><br>    tree = ET.parse(file_name)<br>    root = tree.getroot()                                 <span class="hljs-comment"># è·å–æ ¹å…ƒç´ </span><br>    <span class="hljs-keyword">for</span> row <span class="hljs-keyword">in</span> root.<span class="hljs-built_in">iter</span>(<span class="hljs-string">&quot;row&quot;</span>):<br>        <span class="hljs-keyword">for</span> column <span class="hljs-keyword">in</span> row.<span class="hljs-built_in">iter</span>(<span class="hljs-string">&quot;column&quot;</span>):<br>            <span class="hljs-built_in">print</span>(column.text)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">delete_xml</span>(<span class="hljs-params">file_name, row_id=<span class="hljs-literal">None</span>, column_id=<span class="hljs-literal">None</span></span>):<br>    tree = ET.parse(file_name)                            <span class="hljs-comment"># è§£æXMLæ•°æ®</span><br>    root = tree.getroot()                                 <span class="hljs-comment"># è·å–æ ¹å…ƒç´ </span><br><br>    <span class="hljs-keyword">if</span> row_id <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:                                <span class="hljs-comment"># åˆ é™¤æŒ‡å®šè¡Œ</span><br>        <span class="hljs-keyword">for</span> child <span class="hljs-keyword">in</span> root.findall(<span class="hljs-string">&quot;row&quot;</span>):                 <span class="hljs-comment"># åˆ¤æ–­æ˜¯å¦ä¸ºè¦åˆ é™¤çš„è¡Œ</span><br>            <span class="hljs-keyword">if</span> child.attrib.get(<span class="hljs-string">&quot;id&quot;</span>) == <span class="hljs-built_in">str</span>(row_id):<br>                root.remove(child)                        <span class="hljs-comment"># ä»è§£ææ ‘ä¸­ç§»é™¤è¯¥è¡Œ</span><br><br>    <span class="hljs-keyword">if</span> column_id <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:                             <span class="hljs-comment"># åˆ é™¤æŒ‡å®šåˆ—</span><br>        <span class="hljs-keyword">for</span> row <span class="hljs-keyword">in</span> root.findall(<span class="hljs-string">&quot;row&quot;</span>):                   <span class="hljs-comment"># åˆ¤æ–­æ˜¯å¦ä¸ºè¦åˆ é™¤çš„åˆ—</span><br>            columns = row.findall(<span class="hljs-string">&quot;column&quot;</span>)<br>            <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(columns) &gt;= column_id:                 <span class="hljs-comment"># ä»è§£ææ ‘ä¸­ç§»é™¤è¯¥åˆ—</span><br>                row.remove(columns[column_id - <span class="hljs-number">1</span>])<br><br>    tree.write(file_name)                                 <span class="hljs-comment"># å°†ä¿®æ”¹åçš„è§£ææ ‘å†™å›XMLæ–‡ä»¶</span><br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    data = [<br>        [<span class="hljs-string">&quot;Name&quot;</span>, <span class="hljs-string">&quot;AAAA&quot;</span>, <span class="hljs-string">&quot;1111&quot;</span>],<br>        [<span class="hljs-string">&quot;John&quot;</span>, <span class="hljs-string">&quot;BBBB&quot;</span>, <span class="hljs-string">&quot;2222&quot;</span>], [<span class="hljs-string">&quot;Lucy&quot;</span>, <span class="hljs-string">&quot;DDDD&quot;</span>, <span class="hljs-string">&quot;4444&quot;</span>],<br>        [<span class="hljs-string">&quot;Ross&quot;</span>, <span class="hljs-string">&quot;CCCC&quot;</span>, <span class="hljs-string">&quot;3333&quot;</span>], [<span class="hljs-string">&quot;Yves&quot;</span>, <span class="hljs-string">&quot;EEEE&quot;</span>, <span class="hljs-string">&quot;5555&quot;</span>]<br>    ]<br>    file_name = <span class="hljs-string">r&quot;file/xml_file.xml&quot;</span><br>    write_xml(file_name, data)<br>    read_xml(file_name)                                   <span class="hljs-comment"># åˆ é™¤ç¬¬2è¡Œå’Œç¬¬3åˆ—</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;----&quot;</span>)<br>    delete_xml(file_name, row_id=<span class="hljs-number">2</span>, column_id=<span class="hljs-number">3</span>)<br>    read_xml(file_name)<br></code></pre></td></tr></table></figure><h1 id="4-Json"><a href="#4-Json" class="headerlink" title="4 Json"></a>4 Json</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> json<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">write_json</span>(<span class="hljs-params">file_name, data</span>):                          <span class="hljs-comment"># å†™å…¥æ•°æ®</span><br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(file_name, <span class="hljs-string">&quot;w&quot;</span>) <span class="hljs-keyword">as</span> file:<br>        json.dump(data, file)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">read_json</span>(<span class="hljs-params">file_name</span>):                                 <span class="hljs-comment"># è¯»å–æ•°æ®</span><br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(file_name, <span class="hljs-string">&quot;r&quot;</span>) <span class="hljs-keyword">as</span> file:<br>        data = json.load(file)<br>        <span class="hljs-keyword">return</span> data<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">delete_json</span>(<span class="hljs-params">file_name</span>):<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(file_name, <span class="hljs-string">&quot;r&quot;</span>) <span class="hljs-keyword">as</span> file:<br>        data = json.load(file)                            <span class="hljs-comment"># è¯»å–Jsonæ•°æ®</span><br>    <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> data:                                     <span class="hljs-comment"># åˆ é™¤ç‰¹å®šçš„é”®å€¼å¯¹</span><br>        <span class="hljs-keyword">if</span> item.get(<span class="hljs-string">&quot;Age&quot;</span>) == <span class="hljs-string">&quot;30&quot;</span>:<br>            <span class="hljs-keyword">del</span> item[<span class="hljs-string">&quot;Age&quot;</span>]<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(file_name, <span class="hljs-string">&quot;w&quot;</span>) <span class="hljs-keyword">as</span> file:                    <span class="hljs-comment"># å°†ä¿®æ”¹åçš„æ•°æ®å†™å›æ–‡ä»¶</span><br>        json.dump(data, file)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    data = [<br>        &#123;<span class="hljs-string">&quot;Name&quot;</span>: <span class="hljs-string">&quot;John&quot;</span>, <span class="hljs-string">&quot;Age&quot;</span>: <span class="hljs-string">&quot;25&quot;</span>, <span class="hljs-string">&quot;Sex&quot;</span>: <span class="hljs-string">&quot;ç”·&quot;</span>&#125;,<br>        &#123;<span class="hljs-string">&quot;Name&quot;</span>: <span class="hljs-string">&quot;Lucy&quot;</span>, <span class="hljs-string">&quot;Age&quot;</span>: <span class="hljs-string">&quot;30&quot;</span>, <span class="hljs-string">&quot;Sex&quot;</span>: <span class="hljs-string">&quot;å¥³&quot;</span>&#125;,<br>        &#123;<span class="hljs-string">&quot;Name&quot;</span>: <span class="hljs-string">&quot;Ross&quot;</span>, <span class="hljs-string">&quot;Age&quot;</span>: <span class="hljs-string">&quot;20&quot;</span>, <span class="hljs-string">&quot;Sex&quot;</span>: <span class="hljs-string">&quot;å¥³&quot;</span>&#125;,<br>        &#123;<span class="hljs-string">&quot;Name&quot;</span>: <span class="hljs-string">&quot;Yves&quot;</span>, <span class="hljs-string">&quot;Age&quot;</span>: <span class="hljs-string">&quot;26&quot;</span>, <span class="hljs-string">&quot;Sex&quot;</span>: <span class="hljs-string">&quot;ç”·&quot;</span>&#125;<br>    ]<br>    file_name = <span class="hljs-string">r&quot;file/json_file.json&quot;</span><br>    write_json(file_name, data)<br>    <span class="hljs-built_in">print</span>(read_json(file_name))<br>    delete_json(file_name)<br>    <span class="hljs-built_in">print</span>(read_json(file_name))<br></code></pre></td></tr></table></figure><h1 id="5-Excel"><a href="#5-Excel" class="headerlink" title="5 Excel"></a>5 Excel</h1><ul><li>Excel<ul><li>xlwtåº“ç”¨äºå°†æ•°æ®å†™å…¥Excelä¸­ï¼Œä¸æ”¯æŒxlsxæ ¼å¼ï¼Œä»…æ”¯æŒxlsæ ¼å¼çš„Excelï¼Œå‘½ä»¤<code>pip install xlwt</code>è¿›è¡Œå®‰è£…ã€‚</li><li>xlrdåº“ç”¨äºè¯»å–Excelä¸­çš„æ•°æ®ï¼Œæ–°ç‰ˆä¸æ”¯æŒxlsxæ ¼å¼ï¼Œè‹¥è¦æ”¯æŒï¼Œå‘½ä»¤<code>pip install xlrd==1.2.0</code>è¿›è¡Œå®‰è£…ã€‚<ul><li>Python3.9æ–°ç‰ˆä¸­ï¼Œxlrdåº“æ›´æ–°åˆ é™¤äº†<code>getiterator()</code>æ–¹æ³•ï¼Œxlrdç‰ˆæœ¬1.2.0åœ¨è¯»å–xlsxæ ¼å¼æ–‡æ¡£æ—¶ä¼šæŠ¥é”™ã€‚</li><li>æ‰§è¡Œæ—¶å¯èƒ½æŠ¥é”™ä¿¡æ¯ï¼š<code>AttributeError: &#39;ElementTree&#39; object has no attribute &#39;getiterator&#39;</code>ã€‚</li><li>åˆ°Pythonç›®å½•çš„\Lib\site-packages\xlrd\xlsx.pyæ–‡ä»¶ä¸­ï¼Œå°†ä¸¤ä¸ª<code>getiterator()</code>éƒ½æ”¹ä¸º<code>iter()</code>å³å¯ã€‚</li></ul></li><li>å¸¸ç”¨å•å…ƒæ ¼ä¸­çš„æ•°æ®ç±»å‹ï¼šempty(ç©ºçš„)ã€string(æ–‡æœ¬)ã€numberã€dateã€booleanã€errorã€blank(ç©ºç™½è¡¨æ ¼)ã€‚</li><li>Excelä¸­ä¸‰å¤§å¯¹è±¡ï¼šCell(å•å…ƒæ ¼å¯¹è±¡)ã€Sheet(å·¥ä½œè¡¨å¯¹è±¡)ã€WorkBook(å·¥ä½œç°¿å¯¹è±¡)ã€‚<ul><li><code>style_compression=0</code>ï¼šè¡¨ç¤ºæ˜¯å¦å‹ç¼©ã€‚</li><li><code>cell_overwrite_ok=True</code>ï¼šæ˜¯å¦å¯ä»¥è¦†ç›–å•å…ƒæ ¼(è¦†å†™)ï¼Œé»˜è®¤ä¸ºFalseã€‚</li><li><code>worksheet.write(è¡Œ, åˆ—, å€¼)</code>ï¼šå‘Sheeté¡µçš„ç¬¬ä¸€è¡Œç¬¬ä¸€åˆ—å†™å…¥æ•°æ®å€¼ã€‚</li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> xlwt<br><span class="hljs-keyword">import</span> xlrd<br><br>wbook = xlwt.Workbook(encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>, style_compression=<span class="hljs-number">0</span>)<br>sheet = wbook.add_sheet(<span class="hljs-string">&#x27;tabname&#x27;</span>, cell_overwrite_ok=<span class="hljs-literal">True</span>)<br>sheet.write(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-string">&#x27;xlwt&#x27;</span>)                                 <span class="hljs-comment"># ç¬¬1è¡Œç¬¬1åˆ—å†™å…¥xlwt</span><br>wbook.save(<span class="hljs-string">&#x27;file/excel_file.xls&#x27;</span>)                         <span class="hljs-comment"># ä¿å­˜åˆ°å½“å‰è·¯å¾„fileç›®å½•çš„excel_file.xlsä¸­</span><br><br>data = xlrd.open_workbook(<span class="hljs-string">&#x27;file/excel_file.xls&#x27;</span>)          <span class="hljs-comment"># è¯»å–excel_file.xlsä¸­çš„æ•°æ®</span><br><span class="hljs-built_in">print</span>(data)<br></code></pre></td></tr></table></figure><h2 id="5-1-å†™å…¥æ ·å¼"><a href="#5-1-å†™å…¥æ ·å¼" class="headerlink" title="5-1 å†™å…¥æ ·å¼"></a>5-1 å†™å…¥æ ·å¼</h2><ul><li>å†™å…¥æ ·å¼<ul><li>xlwtä¸­è®¾ç½®å•å…ƒæ ¼æ ·å¼ä¸»è¦é€šè¿‡XFStyleè¿™ä¸ªç±»æ¥å®Œæˆã€‚</li><li><code>font</code>ï¼šå­—ä½“ï¼ŒFontç±»å®ä¾‹ã€‚</li><li><code>pattern</code>ï¼šå¡«å……ï¼ŒPatternç±»å®ä¾‹ã€‚</li><li><code>borders</code>ï¼šè¾¹æ¡†ï¼ŒBordersç±»å®ä¾‹ã€‚</li><li><code>alignment</code>ï¼šå¯¹é½ï¼ŒAlignmentç±»å®ä¾‹ã€‚</li><li><code>protection</code>ï¼šä¿æŠ¤ï¼ŒProtectionç±»å®ä¾‹ã€‚</li><li><code>num_format_str</code>(å±æ€§å)ï¼šæ•°æ®æ ¼å¼(å±æ€§)ï¼Œstr(å€¼ç±»å‹)ã€‚</li></ul></li></ul><h4 id="1-å­—ä½“"><a href="#1-å­—ä½“" class="headerlink" title="(1) å­—ä½“"></a>(1) å­—ä½“</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> xlwt<br><br>wbook = xlwt.Workbook(encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br>sheet = wbook.add_sheet(<span class="hljs-string">&#x27;font&#x27;</span>, cell_overwrite_ok=<span class="hljs-literal">True</span>)<br><br>style = xlwt.XFStyle()                                    <span class="hljs-comment"># åˆå§‹åŒ–æ ·å¼</span><br>fonts = xlwt.Font()                                       <span class="hljs-comment"># ä¸ºæ ·å¼åˆ›å»ºå­—ä½“</span><br><br>fonts.name = <span class="hljs-string">&quot;Arial&quot;</span>                                      <span class="hljs-comment"># æŒ‡å®šå­—ä½“</span><br>fonts.height = <span class="hljs-number">200</span>                                        <span class="hljs-comment"># ä¸Excelå­—ä½“å¤§å°æ¯”ä¾‹æ˜¯1:20ï¼Œ200/20=10å·å­—ä½“</span><br>fonts.bold = <span class="hljs-literal">True</span>                                         <span class="hljs-comment"># åŠ ç²—</span><br>fonts.underline = <span class="hljs-literal">True</span>                                    <span class="hljs-comment"># åŠ ä¸‹åˆ’çº¿</span><br>fonts.struck_out = <span class="hljs-literal">True</span>                                   <span class="hljs-comment"># åŠ æ¨ªçº¿</span><br>fonts.italic = <span class="hljs-literal">True</span>                                       <span class="hljs-comment"># æ–œä½“å­—</span><br>fonts.colour_index = <span class="hljs-number">4</span>                                    <span class="hljs-comment"># å­—ä½“é¢œè‰²</span><br><br>style.font = fonts                                        <span class="hljs-comment"># è®¾å®šå­—ä½“æ ·å¼</span><br>sheet.write(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-string">&#x27;no style&#x27;</span>)                             <span class="hljs-comment"># å‘sheeté¡µæ·»åŠ æ•°æ®</span><br>sheet.write(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-string">&#x27;font&#x27;</span>, style)<br><br>wbook.save(<span class="hljs-string">&#x27;file/excel_file.xls&#x27;</span>)                         <span class="hljs-comment"># ä¿å­˜åˆ°å½“å‰è·¯å¾„fileç›®å½•çš„excel_file.xlsä¸­</span><br></code></pre></td></tr></table></figure><h4 id="2-èƒŒæ™¯é¢œè‰²"><a href="#2-èƒŒæ™¯é¢œè‰²" class="headerlink" title="(2) èƒŒæ™¯é¢œè‰²"></a>(2) èƒŒæ™¯é¢œè‰²</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> xlwt<br><br>wbook = xlwt.Workbook(encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br>sheet = wbook.add_sheet(<span class="hljs-string">&#x27;pattern&#x27;</span>, cell_overwrite_ok=<span class="hljs-literal">True</span>)<br><br>style = xlwt.XFStyle()                                    <span class="hljs-comment"># åˆå§‹åŒ–æ ·å¼</span><br>pattern = xlwt.Pattern()                                  <span class="hljs-comment"># ä¸ºæ ·å¼åˆ›å»ºèƒŒæ™¯å›¾æ¡ˆ</span><br><br>pattern.pattern = xlwt.Pattern.SOLID_PATTERN              <span class="hljs-comment"># è®¾ç½®èƒŒæ™¯é¢œè‰²æ¨¡å¼</span><br>pattern.pattern_fore_colour = <span class="hljs-number">3</span>                           <span class="hljs-comment"># ä¸åŒå€¼ä»£è¡¨ä¸åŒèƒŒæ™¯è‰²</span><br><br>style.pattern = pattern                                   <span class="hljs-comment"># è®¾å®šèƒŒæ™¯å›¾æ¡ˆæ ·å¼</span><br>sheet.write(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-string">&#x27;no style&#x27;</span>)                             <span class="hljs-comment"># å‘sheeté¡µæ·»åŠ æ•°æ®</span><br>sheet.write(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-string">&#x27;pattern&#x27;</span>, style)<br><br>wbook.save(<span class="hljs-string">&#x27;file/excel_file.xls&#x27;</span>)                         <span class="hljs-comment"># ä¿å­˜åˆ°å½“å‰è·¯å¾„fileç›®å½•çš„excel_file.xlsä¸­</span><br></code></pre></td></tr></table></figure><h4 id="3-è¾¹æ¡†è®¾ç½®"><a href="#3-è¾¹æ¡†è®¾ç½®" class="headerlink" title="(3) è¾¹æ¡†è®¾ç½®"></a>(3) è¾¹æ¡†è®¾ç½®</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> xlwt<br><br>wbook = xlwt.Workbook(encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br>sheet = wbook.add_sheet(<span class="hljs-string">&#x27;borders&#x27;</span>, cell_overwrite_ok=<span class="hljs-literal">True</span>)<br><br>style = xlwt.XFStyle()                                    <span class="hljs-comment"># åˆå§‹åŒ–æ ·å¼</span><br>borders = xlwt.Borders()                                  <span class="hljs-comment"># ä¸ºæ ·å¼åˆ›å»ºè¾¹æ¡†è®¾ç½®</span><br><br>borders.left = xlwt.Borders.THIN                          <span class="hljs-comment"># è®¾å®šè¾¹æ¡†å±æ€§</span><br>borders.right = xlwt.Borders.THIN<br>borders.top = xlwt.Borders.THIN<br>borders.bottom = xlwt.Borders.THIN<br><br>style.borders = borders                                   <span class="hljs-comment"># è®¾å®šè¾¹æ¡†æ ·å¼</span><br>sheet.write(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-string">&#x27;no style&#x27;</span>)                             <span class="hljs-comment"># å‘sheeté¡µæ·»åŠ æ•°æ®</span><br>sheet.write(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-string">&#x27;borders&#x27;</span>, style)<br><br>wbook.save(<span class="hljs-string">&#x27;file/excel_file.xls&#x27;</span>)                         <span class="hljs-comment"># ä¿å­˜åˆ°å½“å‰è·¯å¾„fileç›®å½•çš„excel_file.xlsä¸­</span><br></code></pre></td></tr></table></figure><h4 id="4-å¯¹é½æ–¹å¼"><a href="#4-å¯¹é½æ–¹å¼" class="headerlink" title="(4) å¯¹é½æ–¹å¼"></a>(4) å¯¹é½æ–¹å¼</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> xlwt<br><br>wbook = xlwt.Workbook(encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br>sheet = wbook.add_sheet(<span class="hljs-string">&#x27;alignment&#x27;</span>, cell_overwrite_ok=<span class="hljs-literal">True</span>)<br><br>style = xlwt.XFStyle()                                    <span class="hljs-comment"># åˆå§‹åŒ–æ ·å¼</span><br>alignment = xlwt.Alignment()                              <span class="hljs-comment"># ä¸ºæ ·å¼åˆ›å»ºå¯¹é½æ–¹å¼è®¾ç½®</span><br><br>alignment.vert = <span class="hljs-number">0x01</span>                                     <span class="hljs-comment"># vertå‚ç›´å¯¹é½ï¼š0x00ä¸Šã€0x01ä¸­ã€0x02ä¸‹</span><br>alignment.horz = <span class="hljs-number">0x03</span>                                     <span class="hljs-comment"># horzæ°´å¹³å¯¹é½ï¼š0x01å·¦ã€0x02ä¸­ã€0x03å³</span><br>alignment.wrap = <span class="hljs-number">1</span>                                        <span class="hljs-comment"># è®¾å®šè‡ªåŠ¨æ¢è¡Œ</span><br><br>style.alignment = alignment                               <span class="hljs-comment"># è®¾å®šå¯¹é½æ–¹å¼</span><br>sheet.write(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-string">&#x27;no style&#x27;</span>)                             <span class="hljs-comment"># å‘sheeté¡µæ·»åŠ æ•°æ®</span><br>sheet.write(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-string">&#x27;alignment\nalignment\nalignment&#x27;</span>, style)<br><br>wbook.save(<span class="hljs-string">&#x27;file/excel_file.xls&#x27;</span>)                         <span class="hljs-comment"># ä¿å­˜åˆ°å½“å‰è·¯å¾„fileç›®å½•çš„excel_file.xlsä¸­</span><br></code></pre></td></tr></table></figure><h4 id="5-å•å…ƒæ ¼æ ¼å¼"><a href="#5-å•å…ƒæ ¼æ ¼å¼" class="headerlink" title="(5) å•å…ƒæ ¼æ ¼å¼"></a>(5) å•å…ƒæ ¼æ ¼å¼</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> xlwt<br><span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime<br><br>wbook = xlwt.Workbook(encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br>sheet = wbook.add_sheet(<span class="hljs-string">&#x27;format&#x27;</span>, cell_overwrite_ok=<span class="hljs-literal">True</span>)<br><br>data = <span class="hljs-string">&#x27;2022-02-02&#x27;</span><br>style = xlwt.XFStyle()                                    <span class="hljs-comment"># åˆå§‹åŒ–æ ·å¼</span><br>num_format_str = <span class="hljs-string">&#x27;YYYY\/MM\/DD&#x27;</span>                           <span class="hljs-comment"># ..\site-packages\xlwt\Style.pyæ–‡ä»¶ä¸­å¯æŸ¥</span><br>style.num_format_str = num_format_str<br><br>sheet.write(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, data)                                   <span class="hljs-comment"># å‘sheeté¡µæ·»åŠ æ•°æ®</span><br>sheet.write(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, datetime.strptime(data, <span class="hljs-string">&#x27;%Y-%m-%d&#x27;</span>).date(), style)<br><br>wbook.save(<span class="hljs-string">&#x27;file/excel_file.xls&#x27;</span>)                         <span class="hljs-comment"># ä¿å­˜åˆ°å½“å‰è·¯å¾„fileç›®å½•çš„excel_file.xlsä¸­</span><br></code></pre></td></tr></table></figure><h4 id="6-åˆ—å®½ä¸è¡Œé«˜"><a href="#6-åˆ—å®½ä¸è¡Œé«˜" class="headerlink" title="(6) åˆ—å®½ä¸è¡Œé«˜"></a>(6) åˆ—å®½ä¸è¡Œé«˜</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> xlwt<br><br>wbook = xlwt.Workbook(encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br>sheet = wbook.add_sheet(<span class="hljs-string">&#x27;col&#x27;</span>, cell_overwrite_ok=<span class="hljs-literal">True</span>)<br><br>sheet.write(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-string">&#x27;no style&#x27;</span>)                             <span class="hljs-comment"># å‘sheeté¡µæ·»åŠ æ•°æ®</span><br>sheet.write(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;col&#x27;</span>)<br>sheet.write(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-string">&#x27;col&#x27;</span>)<br>sheet.col(<span class="hljs-number">1</span>).width = <span class="hljs-number">256</span>*<span class="hljs-number">30</span>                               <span class="hljs-comment"># è®¾å®šç¬¬1åˆ—åˆ—å®½ï¼Œçº¦ä¸º30ä¸ªå­—ç¬¦</span><br>sheet.row(<span class="hljs-number">1</span>).set_style(xlwt.easyxf(<span class="hljs-string">&#x27;font: height 720&#x27;</span>))   <span class="hljs-comment"># 44.25ç£…ï¼Œæ€ä¹ˆæ¢ç®—çš„ï¼Ÿï¼Ÿï¼Ÿ</span><br><br>wbook.save(<span class="hljs-string">&#x27;file/excel_file.xls&#x27;</span>)                         <span class="hljs-comment"># ä¿å­˜åˆ°å½“å‰è·¯å¾„fileç›®å½•çš„excel_file.xlsä¸­</span><br></code></pre></td></tr></table></figure><h4 id="7-è¡Œä¸åˆ—åˆå¹¶"><a href="#7-è¡Œä¸åˆ—åˆå¹¶" class="headerlink" title="(7) è¡Œä¸åˆ—åˆå¹¶"></a>(7) è¡Œä¸åˆ—åˆå¹¶</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> xlwt<br><br>wbook = xlwt.Workbook(encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br>sheet = wbook.add_sheet(<span class="hljs-string">&#x27;merge&#x27;</span>, cell_overwrite_ok=<span class="hljs-literal">True</span>)<br><br>sheet.write(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-string">&#x27;no style&#x27;</span>)                              <span class="hljs-comment"># å‘sheeté¡µæ·»åŠ æ•°æ®</span><br>sheet.write_merge(<span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-string">&#x27;merge&#x27;</span>)                     <span class="hljs-comment"># 1-4è¡Œï¼Œ2-5åˆ—ï¼Œåˆå¹¶å•å…ƒæ ¼</span><br><br>wbook.save(<span class="hljs-string">&#x27;file/excel_file.xls&#x27;</span>)                          <span class="hljs-comment"># ä¿å­˜åˆ°å½“å‰è·¯å¾„fileç›®å½•çš„excel_file.xlsä¸­</span><br></code></pre></td></tr></table></figure><h2 id="5-2-è¯»å–æ•°æ®"><a href="#5-2-è¯»å–æ•°æ®" class="headerlink" title="5-2 è¯»å–æ•°æ®"></a>5-2 è¯»å–æ•°æ®</h2><figure class="highlight xlsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Xlsx"># file/excel_file.xlsx                                     # æ“ä½œæ—¶å°†è¯¥è¡Œåˆ é™¤ï¼Œå¹¶å°†é¡µç­¾å‘½åä¸º<span class="hljs-built_in">info</span><br>Name  Age Language  Registration <span class="hljs-built_in">date</span><br>Sims  <span class="hljs-number">30</span>  C         <span class="hljs-number">2020</span>-<span class="hljs-number">12</span>-<span class="hljs-number">20</span><br>Peck  <span class="hljs-number">29</span>  C#        <span class="hljs-number">2020</span>-<span class="hljs-number">12</span>-<span class="hljs-number">21</span><br>Lane  <span class="hljs-number">28</span>  C++       <span class="hljs-number">2020</span>-<span class="hljs-number">12</span>-<span class="hljs-number">22</span><br>Fred  <span class="hljs-number">27</span>  Java      <span class="hljs-number">2020</span>-<span class="hljs-number">12</span>-<span class="hljs-number">23</span><br>Miya  <span class="hljs-number">26</span>  Python    <span class="hljs-number">2020</span>-<span class="hljs-number">12</span>-<span class="hljs-number">24</span><br></code></pre></td></tr></table></figure><h4 id="1-è·å–Sheet"><a href="#1-è·å–Sheet" class="headerlink" title="(1) è·å–Sheet"></a>(1) è·å–Sheet</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> xlrd<br><br>data = xlrd.open_workbook(<span class="hljs-string">&#x27;file/excel_file.xlsx&#x27;</span>)         <span class="hljs-comment"># è¯»å–æ–‡ä»¶ä¸­çš„æ•°æ®</span><br><br>sheet1 = data.sheets()[<span class="hljs-number">0</span>]                                 <span class="hljs-comment"># ç´¢å¼•é¡ºåºè·å–é¦–ä¸ªsheet</span><br>sheet2 = data.sheet_by_index(<span class="hljs-number">0</span>)                           <span class="hljs-comment"># ç´¢å¼•é¡ºåºè·å–é¦–ä¸ªsheet</span><br>sheet3 = data.sheet_by_name(<span class="hljs-string">&#x27;info&#x27;</span>)                       <span class="hljs-comment"># é€šè¿‡sheetè·å–ï¼Œä¸Šè¿°æ–¹å¼è‹¥ä¸å­˜åœ¨sheetä¼šæŠ¥é”™</span><br>sheetNames = data.sheet_names()                           <span class="hljs-comment"># è·å–æ–‡ä»¶ä¸­çš„æ‰€æœ‰sheeté¡µé¢åç§°</span><br><span class="hljs-built_in">print</span>(sheet1)<br><span class="hljs-built_in">print</span>(sheet2)<br><span class="hljs-built_in">print</span>(sheet3)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;All sheet page names: &quot;</span> + <span class="hljs-built_in">str</span>(sheetNames))<br></code></pre></td></tr></table></figure><h4 id="2-è·å–è¡Œæ“ä½œ"><a href="#2-è·å–è¡Œæ“ä½œ" class="headerlink" title="(2) è·å–è¡Œæ“ä½œ"></a>(2) è·å–è¡Œæ“ä½œ</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> xlrd<br><br>data = xlrd.open_workbook(<span class="hljs-string">&#x27;file/excel_file.xlsx&#x27;</span>)         <span class="hljs-comment"># è¯»å–æ–‡ä»¶ä¸­çš„æ•°æ®</span><br>sheet = data.sheet_by_index(<span class="hljs-number">0</span>)                            <span class="hljs-comment"># è·å–é¦–ä¸ªsheeté¡µæ•°æ®</span><br><br>nrows = sheet.nrows                                       <span class="hljs-comment"># è·å–è¯¥sheetä¸­çš„æœ‰æ•ˆè¡Œæ•°</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Number of valid nrows: &quot;</span> + <span class="hljs-built_in">str</span>(nrows))<br><br>cells = sheet.row_len(<span class="hljs-number">0</span>)                                  <span class="hljs-comment"># è·å–ç¬¬ä¸€è¡Œä¸­æœ‰æ•ˆå•å…ƒæ ¼æ•°</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Number of valid cells: &quot;</span> + <span class="hljs-built_in">str</span>(cells))<br><br>firstLine = sheet.row_values(<span class="hljs-number">0</span>)                           <span class="hljs-comment"># è·å–ç¬¬ä¸€è¡Œå†…å®¹</span><br><span class="hljs-built_in">print</span>(firstLine)<br><br><span class="hljs-keyword">for</span> r <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(nrows):                                    <span class="hljs-comment"># è·å–æ‰€æœ‰è¡Œæ•°æ®</span><br>    <span class="hljs-built_in">print</span>(sheet.row_values(r))<br><br><span class="hljs-built_in">print</span>(sheet.row_slice(<span class="hljs-number">0</span>))                                 <span class="hljs-comment"># è¿”å›ç”±è¯¥è¡Œä¸­æ‰€æœ‰çš„å•å…ƒæ ¼å¯¹è±¡ç»„æˆçš„åˆ—è¡¨</span><br></code></pre></td></tr></table></figure><h4 id="3-è·å–åˆ—æ“ä½œ"><a href="#3-è·å–åˆ—æ“ä½œ" class="headerlink" title="(3) è·å–åˆ—æ“ä½œ"></a>(3) è·å–åˆ—æ“ä½œ</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> xlrd<br><br>data = xlrd.open_workbook(<span class="hljs-string">&#x27;file/excel_file.xlsx&#x27;</span>)         <span class="hljs-comment"># è¯»å–æ–‡ä»¶ä¸­çš„æ•°æ®</span><br>sheet = data.sheet_by_index(<span class="hljs-number">0</span>)                            <span class="hljs-comment"># è·å–é¦–ä¸ªsheeté¡µæ•°æ®</span><br><br>ncols = sheet.ncols                                       <span class="hljs-comment"># è·å–è¯¥sheetä¸­çš„æœ‰æ•ˆåˆ—æ•°</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Number of valid ncols: &quot;</span> + <span class="hljs-built_in">str</span>(ncols))<br><span class="hljs-built_in">print</span>(sheet.col(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>))                                 <span class="hljs-comment"># è¿”å›ç¬¬ä¸€è¡Œå’Œç¬¬äºŒè¡Œçš„å•å…ƒæ ¼å¯¹è±¡ç»„æˆçš„åˆ—è¡¨</span><br><span class="hljs-built_in">print</span>(sheet.col_slice(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>))                           <span class="hljs-comment"># è¿”å›ç¬¬ä¸€è¡Œå’Œç¬¬äºŒè¡Œçš„å•å…ƒæ ¼å¯¹è±¡ç»„æˆçš„åˆ—è¡¨</span><br><span class="hljs-built_in">print</span>(sheet.col_values(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>))                          <span class="hljs-comment"># è¿”å›ç¬¬ä¸€è¡Œå’Œç¬¬äºŒè¡Œçš„å•å…ƒæ ¼æ•°æ®ç»„æˆçš„åˆ—è¡¨</span><br></code></pre></td></tr></table></figure><h4 id="4-è·å–å•å…ƒæ ¼"><a href="#4-è·å–å•å…ƒæ ¼" class="headerlink" title="(4) è·å–å•å…ƒæ ¼"></a>(4) è·å–å•å…ƒæ ¼</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> xlrd<br><br>data = xlrd.open_workbook(<span class="hljs-string">&#x27;file/excel_file.xlsx&#x27;</span>)          <span class="hljs-comment"># è¯»å–æ–‡ä»¶ä¸­çš„æ•°æ®</span><br>sheet = data.sheet_by_index(<span class="hljs-number">0</span>)                             <span class="hljs-comment"># è·å–é¦–ä¸ªsheeté¡µæ•°æ®</span><br><br><span class="hljs-built_in">print</span>(sheet.cell(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>))                                    <span class="hljs-comment"># è¿”å›ç¬¬ä¸€è¡Œç¬¬ä¸€åˆ—çš„å•å…ƒæ ¼å¯¹è±¡</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Data: &quot;</span> + <span class="hljs-built_in">str</span>(sheet.cell_value(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>)))              <span class="hljs-comment"># è¿”å›ç¬¬ä¸€è¡Œç¬¬ä¸€åˆ—çš„å•å…ƒæ ¼æ•°æ®</span><br></code></pre></td></tr></table></figure><h1 id="6-SQLite"><a href="#6-SQLite" class="headerlink" title="6 SQLite"></a>6 SQLite</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> sqlite3<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">connect_to_database</span>(<span class="hljs-params">file_name</span>):                       <span class="hljs-comment"># è¿æ¥æ•°æ®åº“ï¼Œä¸å­˜åœ¨åˆ™åˆ›å»º</span><br>    conn = sqlite3.connect(file_name)<br>    <span class="hljs-keyword">return</span> conn<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">create_table</span>(<span class="hljs-params">conn</span>):                                   <span class="hljs-comment"># åˆ›å»ºè¡¨æ ¼</span><br>    cursor = conn.cursor()<br>    cursor.execute(<span class="hljs-string">&#x27;&#x27;&#x27;CREATE TABLE IF NOT EXISTS employees</span><br><span class="hljs-string">                      (id INTEGER PRIMARY KEY, name TEXT, age INTEGER)&#x27;&#x27;&#x27;</span>)<br>    conn.commit()<br>    cursor.close()<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">insert_data</span>(<span class="hljs-params">conn, name, age</span>):                         <span class="hljs-comment"># æ’å…¥æ•°æ®</span><br>    cursor = conn.cursor()<br>    cursor.execute(<span class="hljs-string">&quot;INSERT INTO employees (name, age) VALUES (?, ?)&quot;</span>, (name, age))<br>    conn.commit()<br>    cursor.close()<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">select_data</span>(<span class="hljs-params">conn</span>):                                    <span class="hljs-comment"># æŸ¥è¯¢æ•°æ®</span><br>    cursor = conn.cursor()<br>    cursor.execute(<span class="hljs-string">&quot;SELECT * FROM employees&quot;</span>)<br>    rows = cursor.fetchall()<br>    <span class="hljs-keyword">for</span> row <span class="hljs-keyword">in</span> rows:<br>        <span class="hljs-built_in">print</span>(row)<br>    cursor.close()<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">update_data</span>(<span class="hljs-params">conn, name, age</span>):                         <span class="hljs-comment"># æ›´æ–°æ•°æ®</span><br>    cursor = conn.cursor()<br>    cursor.execute(<span class="hljs-string">&quot;UPDATE employees SET age = ? WHERE name = ?&quot;</span>, (age, name))<br>    conn.commit()<br>    cursor.close()<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">delete_data</span>(<span class="hljs-params">conn, name</span>):                              <span class="hljs-comment"># åˆ é™¤æ•°æ®</span><br>    cursor = conn.cursor()<br>    cursor.execute(<span class="hljs-string">&quot;DELETE FROM employees WHERE name = ?&quot;</span>, (name,))<br>    conn.commit()<br>    cursor.close()<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">close_connection</span>(<span class="hljs-params">conn</span>):                               <span class="hljs-comment"># å…³é—­æ•°æ®åº“è¿æ¥</span><br>    conn.close()<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    file_name = <span class="hljs-string">r&quot;file/sqlite3_file.db&quot;</span><br>    conn = connect_to_database(file_name)<br>    create_table(conn)<br>    insert_data(conn, <span class="hljs-string">&#x27;John&#x27;</span>, <span class="hljs-number">25</span>)<br>    insert_data(conn, <span class="hljs-string">&#x27;Jane&#x27;</span>, <span class="hljs-number">30</span>)<br>    select_data(conn)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---------------&quot;</span>)<br>    update_data(conn, <span class="hljs-string">&#x27;John&#x27;</span>, <span class="hljs-number">35</span>)<br>    delete_data(conn, <span class="hljs-string">&#x27;Jane&#x27;</span>)<br>    select_data(conn)<br>    close_connection(conn)<br></code></pre></td></tr></table></figure><h1 id="7-å‹ç¼©æ–‡ä»¶"><a href="#7-å‹ç¼©æ–‡ä»¶" class="headerlink" title="7 å‹ç¼©æ–‡ä»¶"></a>7 å‹ç¼©æ–‡ä»¶</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs Python"><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Xlwt</tag>
      
      <tag>Xlrd</tag>
      
      <tag>å†…ç½®åº“</tag>
      
      <tag>æ–‡ä»¶å¤„ç†</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python åŸºç¡€(äºŒ)</title>
    <link href="/2021/01/15/python/python02-python-ji-chu-er/"/>
    <url>/2021/01/15/python/python02-python-ji-chu-er/</url>
    
    <content type="html"><![CDATA[<p>ğŸ¦ Pythoné¢å‘å¯¹è±¡ï¼Œæ˜“äºé˜…è¯»å’Œç»´æŠ¤ï¼Œä¸°å¯Œçš„åº“å¯ç”¨äºWebå¼€å‘ã€çˆ¬è™«ã€è‡ªåŠ¨åŒ–è¿ç»´ã€è‡ªåŠ¨åŒ–æµ‹è¯•å’Œæ•°æ®åˆ†æç­‰ï¼ŒåŠŸèƒ½ååˆ†å¼ºå¤§ã€‚</p><span id="more"></span><h1 id="1-å‡½æ•°"><a href="#1-å‡½æ•°" class="headerlink" title="1 å‡½æ•°"></a>1 å‡½æ•°</h1><ul><li>å‡½æ•°<ul><li>åªæœ‰åœ¨è¢«è°ƒç”¨æ—¶æ‰ä¼šè¿è¡Œï¼Œå¯ä»¥å°†å‚æ•°ä¼ é€’ç»™å‡½æ•°ï¼Œå‡½æ•°è¿”å›æ•°æ®ä½œä¸ºç»“æœã€‚</li><li>é€šè¿‡<code>def</code>å…³é”®å­—å®šä¹‰å‡½æ•°ï¼Œè°ƒç”¨å‡½æ•°æ—¶ï¼Œéœ€è¦ä½¿ç”¨å‡½æ•°åç§°ï¼Œåè·Ÿæ‹¬å·<code>()</code>ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">myfunc</span>():                                <span class="hljs-comment"># defå®šä¹‰å‡½æ•°</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Function&quot;</span>)<br><br><br>myfunc()                                     <span class="hljs-comment"># è°ƒç”¨å‡½æ•°</span><br></code></pre></td></tr></table></figure><h2 id="1-1-å‚æ•°"><a href="#1-1-å‚æ•°" class="headerlink" title="1-1 å‚æ•°"></a>1-1 å‚æ•°</h2><ul><li>å‚æ•°<ul><li>ä¿¡æ¯å¯ä»¥ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°ï¼Œç¼©å†™ä¸º<code>args</code>ï¼Œä»»æ„å‚æ•°ç¼©å†™ä¸º<code>*args</code>ã€‚</li><li>å‚æ•°åœ¨å‡½æ•°åä¹‹åçš„æ‹¬å·å†…æŒ‡å®šï¼Œå¯æ·»åŠ ä»»æ„æ•°é‡çš„å‚æ•°ï¼Œç”¨é€—å·åˆ†éš”ã€‚</li><li>é»˜è®¤æƒ…å†µä¸‹é¡»ä½¿ç”¨æ­£ç¡®æ•°é‡çš„å‚æ•°è°ƒç”¨å‡½æ•°ï¼Œå‡½æ•°éœ€å‡ ä¸ªå‚æ•°å°±å¿…é¡»ä½¿ç”¨å‡ ä¸ªå‚æ•°è°ƒç”¨è¯¥å‡½æ•°ã€‚</li><li>è‹¥ä¸çŸ¥é“ä¼ é€’ç»™å‡½æ•°çš„å‚æ•°æ•°é‡ï¼Œåˆ™åœ¨å‡½æ•°å®šä¹‰çš„å‚æ•°åç§°å‰ä½¿ç”¨æ˜Ÿå·<code>*</code>ï¼Œæ¥æ”¶ä¸€ä¸ªå‚æ•°å…ƒç»„ã€‚</li><li>å‡½æ•°å®šä¹‰ä¸èƒ½ä¸ºç©ºï¼Œè‹¥å‡½æ•°å†…éƒ¨æ²¡æœ‰å®šä¹‰å†…å®¹ï¼Œä½¿ç”¨<code>pass</code>å…³é”®å­—å¯ä»¥é¿å…è¯­å¥æŠ¥é”™ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">myfunc</span>(<span class="hljs-params">name</span>):                           <span class="hljs-comment"># å¸¦æœ‰ä¸€ä¸ªå‚æ•°nameçš„å‡½æ•°</span><br>    <span class="hljs-built_in">print</span>(name + <span class="hljs-string">&quot; Refsnes.&quot;</span>)<br><br><br>myfunc(<span class="hljs-string">&quot;Emil&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">myfunc</span>(<span class="hljs-params">f_name, l_name</span>):                 <span class="hljs-comment"># è¯¥å‡½æ•°å¸¦æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œè°ƒç”¨æ—¶å°±ä½¿ç”¨ä¸¤ä¸ªå‚æ•°</span><br>    <span class="hljs-built_in">print</span>(f_name + <span class="hljs-string">&quot; &quot;</span> + l_name + <span class="hljs-string">&quot;.&quot;</span>)<br><br><br>myfunc(<span class="hljs-string">&quot;Lily&quot;</span>, <span class="hljs-string">&quot;Refsnes&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">my_func</span>(<span class="hljs-params">*kids</span>):                         <span class="hljs-comment"># ä»»æ„å‚æ•°</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;The youngest child is &quot;</span> + kids[<span class="hljs-number">2</span>] + <span class="hljs-string">&quot;.&quot;</span>)<br><br><br>my_func(<span class="hljs-string">&quot;Emil&quot;</span>, <span class="hljs-string">&quot;Lydia&quot;</span>, <span class="hljs-string">&quot;Linus&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">my_func</span>():<br>    <span class="hljs-keyword">pass</span>                                    <span class="hljs-comment"># passå…³é”®å­—é¿å…å‡ºé”™</span><br></code></pre></td></tr></table></figure><h2 id="1-2-å…³é”®å­—"><a href="#1-2-å…³é”®å­—" class="headerlink" title="1-2 å…³é”®å­—"></a>1-2 å…³é”®å­—</h2><ul><li>å…³é”®å­—<ul><li>ä½¿ç”¨<code>key = value</code>è¯­æ³•è¿›è¡Œå‚æ•°å‘é€ï¼Œè¿™æ ·å°±ä¸ç”¨è€ƒè™‘å‚æ•°çš„é¡ºåºäº†ã€‚</li><li>å…³é”®å­—å‚æ•°é€šå¸¸ç¼©å†™ä¸º<code>kwargs</code>ï¼Œä»»æ„å…³é”®å­—å‚æ•°åˆ™ç¼©å†™ä¸º<code>**kwargs</code>ã€‚</li><li>è‹¥ä¸çŸ¥é“ä¼ é€’ç»™å‡½æ•°çš„å…³é”®å­—å‚æ•°æ•°é‡ï¼Œåˆ™åœ¨å‡½æ•°å®šä¹‰çš„å‚æ•°åç§°å‰ä½¿ç”¨ä¸¤ä¸ªæ˜Ÿå·<code>**</code>ï¼Œæ¥æ”¶å‚æ•°å­—å…¸ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">myfunc</span>(<span class="hljs-params">child3, child2, child1</span>):         <span class="hljs-comment"># key = value</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;The youngest child is &quot;</span> + child3 + <span class="hljs-string">&quot;.&quot;</span>)<br><br><br>myfunc(child1=<span class="hljs-string">&quot;Emil&quot;</span>, child2=<span class="hljs-string">&quot;Lily&quot;</span>, child3=<span class="hljs-string">&quot;Linus&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">my_func</span>(<span class="hljs-params">**kid</span>):                         <span class="hljs-comment"># ä»»æ„å…³é”®å­—å‚æ•°</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;The youngest child&#x27;s last name is &quot;</span> + kid[<span class="hljs-string">&quot;l_name&quot;</span>] + <span class="hljs-string">&quot;.&quot;</span>)<br><br><br>my_func(f_name=<span class="hljs-string">&quot;Lily&quot;</span>, l_name=<span class="hljs-string">&quot;Refsnes&quot;</span>)<br></code></pre></td></tr></table></figure><h2 id="1-3-å‡½æ•°è°ƒç”¨"><a href="#1-3-å‡½æ•°è°ƒç”¨" class="headerlink" title="1-3 å‡½æ•°è°ƒç”¨"></a>1-3 å‡½æ•°è°ƒç”¨</h2><ul><li>å‡½æ•°è°ƒç”¨<ul><li>è°ƒç”¨ä¸å¸¦å‚æ•°çš„å‡½æ•°ï¼Œå¯ä½¿ç”¨é»˜è®¤å€¼å‚æ•°ï¼Œ<code>return</code>è¯­å¥å¯è®©å‡½æ•°è¿”å›å€¼ã€‚</li><li>å°†ä»»ä½•æ•°æ®ç±»å‹çš„å‚æ•°å‘é€ç»™å‡½æ•°ï¼Œä¼šåœ¨å‡½æ•°å†…éƒ¨è¢«è§†ä¸ºç›¸åŒçš„æ•°æ®ç±»å‹ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">myfunc</span>(<span class="hljs-params">country=<span class="hljs-string">&quot;Fujian&quot;</span></span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;I am from &quot;</span> + country + <span class="hljs-string">&quot;.&quot;</span>)<br><br><br>myfunc()                                    <span class="hljs-comment"># ä½¿ç”¨é»˜è®¤å€¼å‚æ•°</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">myfunc</span>(<span class="hljs-params">x</span>):<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">3</span> * x                            <span class="hljs-comment"># è®©å‡½æ•°è¿”å›å€¼</span><br><br><br><span class="hljs-built_in">print</span>(myfunc(<span class="hljs-number">3</span>))<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">my_func</span>(<span class="hljs-params">food</span>):<br>    <span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> food:<br>        <span class="hljs-built_in">print</span>(y)<br><br><br>fruits = [<span class="hljs-string">&quot;Apple&quot;</span>, <span class="hljs-string">&quot;Grape&quot;</span>, <span class="hljs-string">&quot;Peach&quot;</span>]<br>my_func(fruits)                             <span class="hljs-comment"># ä½¿ç”¨åˆ—è¡¨ä½œä¸ºå‚æ•°</span><br></code></pre></td></tr></table></figure><h2 id="1-4-å‡½æ•°é€’å½’"><a href="#1-4-å‡½æ•°é€’å½’" class="headerlink" title="1-4 å‡½æ•°é€’å½’"></a>1-4 å‡½æ•°é€’å½’</h2><ul><li>å‡½æ•°é€’å½’<ul><li>å‡½æ•°é€’å½’æ„å‘³ç€è‡ªå®šä¹‰çš„å‡½æ•°å¯ä»¥è°ƒç”¨è‡ªèº«ï¼Œé€’å½’æ˜¯ä¸€ä¸ªå¸¸è§çš„æ•°å­¦å’Œç¼–ç¨‹æ¦‚å¿µã€‚</li><li>ç¼–å†™æ—¶æ˜“é™·å…¥ä¸€ä¸ªæ°¸æ— æ­¢å¢ƒæˆ–ä½¿ç”¨è¿‡å¤šå†…å­˜çš„å‡½æ•°ä¸­ï¼Œé€’å½’ä¹Ÿæ˜¯æœ‰æ•ˆçš„ç¼–ç¨‹æ–¹æ³•ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">my_recursion</span>(<span class="hljs-params">i</span>):                        <span class="hljs-comment"># è‡ªå®šä¹‰my_recursionå‡½æ•°ï¼Œä½¿ç”¨å˜é‡iä½œä¸ºå‚æ•°</span><br>    <span class="hljs-keyword">if</span> i &gt; <span class="hljs-number">0</span>:<br>        result = i + my_recursion(i - <span class="hljs-number">1</span>)    <span class="hljs-comment"># æ¯æ¬¡é€’å½’æ—¶é€’å‡1</span><br>        <span class="hljs-built_in">print</span>(result)<br>    <span class="hljs-keyword">else</span>:                                   <span class="hljs-comment"># å½“æ¡ä»¶å°äºç­‰äº0æ—¶ï¼Œé€’å½’ç»“æŸ</span><br>        result = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">return</span> result<br><br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Recursion Example Results.&quot;</span>)<br>my_recursion(<span class="hljs-number">3</span>)<br></code></pre></td></tr></table></figure><h2 id="1-5-åŒ¿åå‡½æ•°"><a href="#1-5-åŒ¿åå‡½æ•°" class="headerlink" title="1-5 åŒ¿åå‡½æ•°"></a>1-5 åŒ¿åå‡½æ•°</h2><ul><li>åŒ¿åå‡½æ•°<ul><li>åŒ¿åå‡½æ•°<code>lambda</code>(å…³é”®å­—)ï¼Œå¯æ¥å—ä»»æ„æ•°é‡çš„å‚æ•°ï¼Œä½†åªèƒ½æœ‰ä¸€ä¸ªè¡¨è¾¾å¼ã€‚</li><li>åœ¨å¦ä¸€å‡½æ•°ä¸­å°†ä¸€ä¸ªå‡½æ•°ç”¨ä½œåŒ¿åå‡½æ•°æ—¶ï¼Œå¯ä»¥å¾ˆå¥½åœ°å±•ç¤º<code>lambda</code>çš„ä½œç”¨ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python">x = <span class="hljs-keyword">lambda</span> i: i+<span class="hljs-number">10</span>                          <span class="hljs-comment"># å°†10æ·»åŠ åˆ°å‚æ•°iä¸­ï¼Œå¹¶è¿”å›ç»“æœ</span><br><span class="hljs-built_in">print</span>(x(<span class="hljs-number">5</span>))<br>x = <span class="hljs-keyword">lambda</span> a, b: a*b                        <span class="hljs-comment"># å°†å‚æ•°aä¸å‚æ•°bç›¸ä¹˜ï¼Œå¹¶è¿”å›ç»“æœ</span><br><span class="hljs-built_in">print</span>(x(<span class="hljs-number">5</span>, <span class="hljs-number">6</span>))<br>x = <span class="hljs-keyword">lambda</span> a, b, c: a+b+c                   <span class="hljs-comment"># æ±‡æ€»å‚æ•°aã€bã€cï¼Œå¹¶è¿”å›ç»“æœ</span><br><span class="hljs-built_in">print</span>(x(<span class="hljs-number">10</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>))<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">myfunc</span>(<span class="hljs-params">y</span>):                              <span class="hljs-comment"># å®šä¹‰ä¸€ä¸ªå¸¦æœ‰ä¸€ä¸ªå‚æ•°çš„å‡½æ•°ï¼Œå¹¶å°†è¯¥å‚æ•°ä¹˜ä»¥ä¸€ä¸ªæœªçŸ¥æ•°</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">lambda</span> i: i*y<br><br><br>my_doubler = myfunc(<span class="hljs-number">2</span>)                      <span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªå§‹ç»ˆå‘é€æ•°å­—åŠ å€çš„å‡½æ•°</span><br><span class="hljs-built_in">print</span>(my_doubler(<span class="hljs-number">11</span>))<br>my_tripler = myfunc(<span class="hljs-number">3</span>)                      <span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªå§‹ç»ˆå‘é€æ•°å­—ä¸‰å€çš„å‡½æ•°</span><br><span class="hljs-built_in">print</span>(my_tripler(<span class="hljs-number">11</span>))<br></code></pre></td></tr></table></figure><h1 id="2-å¯¹è±¡"><a href="#2-å¯¹è±¡" class="headerlink" title="2 å¯¹è±¡"></a>2 å¯¹è±¡</h1><ul><li>å¯¹è±¡<ul><li>Pythonæ˜¯ä¸€ç§é¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€ï¼ŒPythonä¸­ä¸€åˆ‡çš†å¯¹è±¡ï¼Œéƒ½æœ‰å…¶å±æ€§å’Œæ–¹æ³•ã€‚</li><li>ä½¿ç”¨<code>class</code>å…³é”®å­—åˆ›å»ºä¸€ä¸ªç±»ï¼Œä¸€ä¸ªç±»å°±å¦‚åŒä¸€ä¸ªå¯¹è±¡æ„é€ å™¨ï¼Œç”¨äºåˆ›å»ºå¯¹è±¡ã€‚</li><li>æ‰€æœ‰ç±»éƒ½æœ‰ä¸€ä¸ªåä¸º<code>__init()</code>çš„å‡½æ•°ï¼Œ<code>__init__()</code>å‡½æ•°æ€»æ˜¯åœ¨ç±»å¯åŠ¨æ—¶æ‰§è¡Œã€‚</li><li><code>class</code>å®šä¹‰ä¸èƒ½ä¸ºç©ºï¼Œè‹¥<code>class</code>æ²¡æœ‰å®šä¹‰å†…å®¹ï¼Œä½¿ç”¨<code>pass</code>å…³é”®å­—å¯ä»¥é¿å…è¯­å¥æŠ¥é”™ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span>:                              <span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªåä¸ºMyClassçš„ç±»ï¼Œå¹¶å¸¦æœ‰ä¸€ä¸ªåä¸ºxçš„å±æ€§</span><br>    x = <span class="hljs-string">&quot;Lydia&quot;</span><br><br><br>p = MyClass()                               <span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªåä¸ºpçš„å¯¹è±¡ï¼Œå¹¶æ‰“å°xçš„å€¼</span><br><span class="hljs-built_in">print</span>(p.x)                                  <span class="hljs-comment"># è¿™æ˜¯æœ€ä¸ºç®€å•çš„ç±»å’Œå¯¹è±¡ï¼Œä½†åœ¨å®é™…åº”ç”¨ä¸­æ²¡æœ‰çœŸæ­£ç”¨å¤„</span><br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span>:                               <span class="hljs-comment"># åˆ›å»ºåä¸ºPersonçš„ç±»ï¼Œ__init__()å‡½æ•°ä¸ºnameå’Œageèµ‹å€¼</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, name, age</span>):<br>        self.name = name<br>        self.age = age<br><br><br>q = Person(<span class="hljs-string">&quot;Lydia&quot;</span>, <span class="hljs-number">26</span>)<br><span class="hljs-built_in">print</span>(q.name)<br><span class="hljs-built_in">print</span>(q.age)<br><br>q.age = <span class="hljs-number">25</span>                                  <span class="hljs-comment"># ä¿®æ”¹å¯¹è±¡å±æ€§</span><br><span class="hljs-built_in">print</span>(q.age)<br><span class="hljs-keyword">del</span> q.age                                   <span class="hljs-comment"># åˆ é™¤qå¯¹è±¡ä¸­çš„ageå±æ€§</span><br><span class="hljs-keyword">del</span> q                                       <span class="hljs-comment"># åˆ é™¤qå¯¹è±¡</span><br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span>:<br>    <span class="hljs-keyword">pass</span>                                    <span class="hljs-comment"># passå…³é”®å­—é¿å…å‡ºé”™</span><br></code></pre></td></tr></table></figure><h2 id="2-1-å¯¹è±¡æ–¹æ³•"><a href="#2-1-å¯¹è±¡æ–¹æ³•" class="headerlink" title="2-1 å¯¹è±¡æ–¹æ³•"></a>2-1 å¯¹è±¡æ–¹æ³•</h2><ul><li>å¯¹è±¡æ–¹æ³•<ul><li>å¯¹è±¡ä¹Ÿå¯ä»¥åŒ…å«æ–¹æ³•ï¼Œå¯¹è±¡ä¸­çš„æ–¹æ³•å±äºè¯¥å¯¹è±¡çš„å‡½æ•°ã€‚</li><li>å‚æ•°<code>self</code>æ˜¯å¯¹å½“å‰ç±»å®ä¾‹çš„å¼•ç”¨ï¼Œç”¨äºè®¿é—®å±äºè¯¥ç±»çš„å˜é‡ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, name, age</span>):<br>        self.name = name<br>        self.age = age<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">myfunc</span>(<span class="hljs-params">self</span>):                       <span class="hljs-comment"># åˆ›å»ºå¯¹è±¡æ–¹æ³•ï¼Œæ’å…¥ä¸€ä¸ªæ‰“å°å‡½æ•°ï¼Œå¹¶åœ¨qå¯¹è±¡ä¸Šæ‰§è¡Œ</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;My name is &quot;</span> + self.name + <span class="hljs-string">&quot;.&quot;</span>)<br><br><br>q = Person(<span class="hljs-string">&quot;Lydia&quot;</span>, <span class="hljs-number">26</span>)<br>q.myfunc()<br></code></pre></td></tr></table></figure><h2 id="2-2-selfå‚æ•°"><a href="#2-2-selfå‚æ•°" class="headerlink" title="2-2 selfå‚æ•°"></a>2-2 selfå‚æ•°</h2><ul><li>selfå‚æ•°<ul><li>å‚æ•°<code>self</code>æ˜¯å¯¹å½“å‰ç±»å®ä¾‹çš„å¼•ç”¨ï¼Œç”¨äºè®¿é—®å±äºè¯¥ç±»çš„å˜é‡ã€‚</li><li>ä¸å¿…å‘½åä¸º<code>self</code>ï¼Œå¯éšæ„è°ƒç”¨ï¼Œä½†å¿…é¡»æ˜¯ç±»ä¸­ä»»ä½•å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params"><span class="hljs-built_in">object</span>, name, age</span>):<br>        <span class="hljs-built_in">object</span>.name = name<br>        <span class="hljs-built_in">object</span>.age = age<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">myfunc</span>(<span class="hljs-params">abc</span>):                        <span class="hljs-comment"># objectå’Œabcä»£æ›¿self</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;My name is &quot;</span> + abc.name + <span class="hljs-string">&quot;.&quot;</span>)<br><br><br>q = Person(<span class="hljs-string">&quot;Lydia&quot;</span>, <span class="hljs-number">26</span>)<br>q.myfunc()<br></code></pre></td></tr></table></figure><h1 id="3-ç»§æ‰¿"><a href="#3-ç»§æ‰¿" class="headerlink" title="3 ç»§æ‰¿"></a>3 ç»§æ‰¿</h1><ul><li>ç»§æ‰¿<ul><li>è®©ç±»ä¸ç±»ä¹‹é—´äº§ç”Ÿçˆ¶å­å…³ç³»ï¼Œå³è·å–å¦ä¸€ä¸ªç±»çš„é™æ€å±æ€§æˆ–æ–¹æ³•ã€‚</li><li>çˆ¶ç±»ä¹Ÿå«åŸºç±»æˆ–è¶…ç±»ï¼Œå­ç±»æ˜¯ä»å¦ä¸€ä¸ªç±»ç»§æ‰¿çš„ç±»ï¼Œä¹Ÿå«æ´¾ç”Ÿç±»ã€‚</li><li>ä»»ä½•ç±»éƒ½å¯ä»¥æ˜¯çˆ¶ç±»ï¼Œè¯­æ³•ä¸åˆ›å»ºç±»ç›¸åŒï¼Œåˆ›å»ºå­ç±»æ—¶éœ€å°†çˆ¶ç±»ä½œä¸ºå‚æ•°å‘é€ã€‚</li><li><code>__init__()</code>å‡½æ•°æ¯æ¬¡ä½¿ç”¨ç±»åˆ›å»ºæ–°å¯¹è±¡æ—¶éƒ½ä¼šè‡ªåŠ¨è°ƒç”¨è¯¥å‡½æ•°ï¼Œå°†å…¶æ·»åŠ åˆ°å­ç±»ä¸­ã€‚<ul><li>å­ç±»ä¸å†ç»§æ‰¿çˆ¶ç±»çš„<code>__init__()</code>å‡½æ•°ï¼Œä¼šè¦†ç›–çˆ¶ç±»<code>__init__()</code>å‡½æ•°çš„ç»§æ‰¿ã€‚</li><li>ä¸ºä¿æŒçˆ¶ç±»çš„<code>__init__()</code>å‡½æ•°ç»§æ‰¿ï¼Œéœ€æ·»åŠ å¯¹çˆ¶ç±»<code>__init__()</code>å‡½æ•°çš„è°ƒç”¨ã€‚</li></ul></li><li>è¿˜å¯ä»¥ä½¿ç”¨<code>super()</code>å‡½æ•°ï¼Œè®©å­ç±»ç»§æ‰¿çˆ¶ç±»çš„æ‰€æœ‰æ–¹æ³•å’Œå±æ€§ã€‚</li><li>è‹¥åœ¨å­ç±»ä¸­æ·»åŠ ä¸çˆ¶ç±»ä¸­å‡½æ•°åŒåçš„æ–¹æ³•ï¼Œä¼šè¦†ç›–çˆ¶æ–¹æ³•çš„ç»§æ‰¿ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span>:                                   <span class="hljs-comment"># åˆ›å»ºPersonçˆ¶ç±»ï¼Œå…·æœ‰f_nameå’Œl_nameå±æ€§</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, f_name, l_name</span>):<br>        self.f_name = f_name<br>        self.l_name = l_name<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">printname</span>(<span class="hljs-params">self</span>):                        <span class="hljs-comment"># åˆ›å»ºprintnameæ–¹æ³•</span><br>        <span class="hljs-built_in">print</span>(self.f_name, self.l_name)<br><br><br>x = Person(<span class="hljs-string">&quot;Lily&quot;</span>, <span class="hljs-string">&quot;Doe&quot;</span>)<br>x.printname()<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Student1</span>(<span class="hljs-title class_ inherited__">Person</span>):                         <span class="hljs-comment"># åˆ›å»ºStudent1å­ç±»ï¼Œç»§æ‰¿Personç±»çš„å±æ€§å’Œæ–¹æ³•</span><br>    <span class="hljs-comment"># pass                                      # å°†__init__()å‡½æ•°æ·»åŠ åˆ°Student1å­ç±»ä¸­</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, f_name, l_name</span>):<br>        Person.__init__(self, f_name, l_name)   <span class="hljs-comment"># æ·»åŠ å¯¹çˆ¶ç±»å‡½æ•°çš„è°ƒç”¨ï¼Œä¿ç•™çˆ¶ç±»çš„ç»§æ‰¿</span><br><br><br>y = Student1(<span class="hljs-string">&quot;Lucy&quot;</span>, <span class="hljs-string">&quot;Doe&quot;</span>)<br>y.printname()<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Student2</span>(<span class="hljs-title class_ inherited__">Person</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, f_name, l_name, year</span>):<br>        <span class="hljs-built_in">super</span>().__init__(f_name, l_name)        <span class="hljs-comment"># superå‡½æ•°ä¸å¿…ä½¿ç”¨çˆ¶ç±»åç§°ï¼Œè‡ªåŠ¨ç»§æ‰¿</span><br>        self.graduation = year                  <span class="hljs-comment"># æ·»åŠ ä¸€ä¸ªStudent2å­ç±»çš„graduationå±æ€§</span><br><br><br>z = Student2(<span class="hljs-string">&quot;Liki&quot;</span>, <span class="hljs-string">&quot;Doe&quot;</span>, <span class="hljs-number">2019</span>)<br><span class="hljs-built_in">print</span>(z.f_name, z.l_name, z.graduation)<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Student3</span>(<span class="hljs-title class_ inherited__">Person</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, f_name, l_name, year</span>):<br>        <span class="hljs-built_in">super</span>().__init__(f_name, l_name)<br>        self.graduation = year<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">welcome</span>(<span class="hljs-params">self</span>):                          <span class="hljs-comment"># æ·»åŠ ä¸€ä¸ªè°ƒç”¨ç±»welcomeæ–¹æ³•</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Welcome&quot;</span>, self.f_name, self.l_name, <span class="hljs-string">&quot;to the class of&quot;</span>, self.graduation, <span class="hljs-string">&quot;.&quot;</span>)<br><br><br>x = Student3(<span class="hljs-string">&quot;Liki&quot;</span>, <span class="hljs-string">&quot;Doe&quot;</span>, <span class="hljs-number">2019</span>)<br>x.welcome()<br></code></pre></td></tr></table></figure><h1 id="4-è¿­ä»£å™¨"><a href="#4-è¿­ä»£å™¨" class="headerlink" title="4 è¿­ä»£å™¨"></a>4 è¿­ä»£å™¨</h1><ul><li>è¿­ä»£å™¨<ul><li>ä¸€ä¸ªå®ç°è¿­ä»£å™¨åè®®çš„å¯¹è±¡ï¼Œç”±æ–¹æ³•<code>__iter__()</code>å’Œ<code>__next__()</code>ç»„æˆã€‚</li><li>åˆ—è¡¨ã€å…ƒç»„ã€å­—å…¸å’Œé›†åˆç­‰éƒ½æ˜¯å¯è¿­ä»£å¯¹è±¡ï¼Œéƒ½æœ‰<code>iter()</code>å±æ€§ï¼Œç”¨äºè·å–è¿­ä»£å™¨ã€‚</li><li>forå¾ªç¯éå†å¯è¿­ä»£å¯¹è±¡ï¼Œå®é™…ä¸Šforå¾ªç¯å³åˆ›å»ºä¸€ä¸ªè¿­ä»£å™¨å¹¶å¾ªç¯æ‰§è¡Œ<code>next()</code>æ–¹æ³•ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python">my_tuple = (<span class="hljs-string">&quot;Apple&quot;</span>, <span class="hljs-string">&quot;Grape&quot;</span>, <span class="hljs-string">&quot;Mango&quot;</span>)<br>my_fruit = <span class="hljs-built_in">iter</span>(my_tuple)                       <span class="hljs-comment"># å…ƒç»„è¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼Œå¹¶æ‰“å°æ¯ä¸ªå€¼</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">next</span>(my_fruit))<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">next</span>(my_fruit))<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">next</span>(my_fruit))<br><br>mystring = <span class="hljs-string">&quot;apple&quot;</span>                              <span class="hljs-comment"># å­—ç¬¦ä¸²ä¹Ÿæ˜¯å¯è¿­ä»£å¯¹è±¡</span><br>alphabet = <span class="hljs-built_in">iter</span>(mystring)<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">next</span>(alphabet))<br><br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> my_tuple:                              <span class="hljs-comment"># forå¾ªç¯å³ä¸€ä¸ªè¿­ä»£å™¨</span><br>    <span class="hljs-built_in">print</span>(x)<br></code></pre></td></tr></table></figure><ul><li>ç±»å’Œå¯¹è±¡è¿­ä»£å™¨<ul><li>è¦å°†ç±»å’Œå¯¹è±¡åˆ›å»ºä¸ºä¸€ä¸ªè¿­ä»£å™¨ï¼Œå¿…é¡»ä½¿ç”¨<code>__iter__()</code>å’Œ<code>__next__()</code>æ–¹æ³•ã€‚<ul><li><code>__iter__()</code>æ–¹æ³•è¿›è¡Œåˆå§‹åŒ–ç­‰æ“ä½œï¼Œå§‹ç»ˆè¿”å›è¿­ä»£å™¨å¯¹è±¡æœ¬èº«ã€‚</li><li><code>__next__()</code>æ–¹æ³•å…è®¸æ‰§è¡Œæ“ä½œï¼Œå¹¶ä¸”å¿…é¡»è¿”å›åºåˆ—ä¸­çš„ä¸‹ä¸€é¡¹ã€‚</li><li>å¦‚æœæœ‰è¶³å¤Ÿçš„<code>next()</code>è¯­å¥æˆ–åœ¨forå¾ªç¯ä¸­ä½¿ç”¨ï¼Œè¿­ä»£å°†æ°¸è¿œè¿›è¡Œã€‚</li></ul></li><li><code>__next__()</code>ä¸­æ·»åŠ StopIterationç»ˆæ­¢æ¡ä»¶ï¼Œä»¥åœ¨è¿­ä»£å®ŒæˆæŒ‡å®šæ¬¡æ•°æ—¶å¼•å‘é”™è¯¯ï¼Œé˜²æ­¢è¿­ä»£æ°¸è¿œè¿›è¡Œã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNum1</span>:                                   <span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªè¿”å›æ•°å­—çš„è¿­ä»£å™¨</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__iter__</span>(<span class="hljs-params">self</span>):<br>        self.a = <span class="hljs-number">1</span>                              <span class="hljs-comment"># ä»1å¼€å§‹</span><br>        <span class="hljs-keyword">return</span> self<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__next__</span>(<span class="hljs-params">self</span>):<br>        x = self.a<br>        self.a += <span class="hljs-number">1</span>                             <span class="hljs-comment"># æ¯ä¸ªåºåˆ—é€’å¢1</span><br>        <span class="hljs-keyword">return</span> x<br><br><br>my_class = MyNum1()<br>my_iters = <span class="hljs-built_in">iter</span>(my_class)<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">next</span>(my_iters))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-&quot;</span>)<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNum2</span>:                                   <span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªè¿”å›æ•°å­—çš„è¿­ä»£å™¨</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__iter__</span>(<span class="hljs-params">self</span>):<br>        self.a = <span class="hljs-number">1</span>                              <span class="hljs-comment"># ä»1å¼€å§‹</span><br>        <span class="hljs-keyword">return</span> self<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__next__</span>(<span class="hljs-params">self</span>):<br>        x = self.a<br>        self.a += <span class="hljs-number">1</span>                             <span class="hljs-comment"># æ¯ä¸ªåºåˆ—é€’å¢1</span><br>        <span class="hljs-keyword">return</span> x<br><br><br>my_class = MyNum2()<br>my_iters = <span class="hljs-built_in">iter</span>(my_class)<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">next</span>(my_iters))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-&quot;</span>)<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNum3</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__iter__</span>(<span class="hljs-params">self</span>):<br>        self.a = <span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> self<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__next__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">if</span> self.a &lt;= <span class="hljs-number">9</span>:                         <span class="hljs-comment"># 9æ¬¡è¿­ä»£ååœæ­¢</span><br>            x = self.a<br>            self.a += <span class="hljs-number">1</span><br>            <span class="hljs-keyword">return</span> x<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">raise</span> StopIteration<br><br><br>my_class = MyNum3()<br>my_iters = <span class="hljs-built_in">iter</span>(my_class)<br><br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> my_iters:<br>    <span class="hljs-built_in">print</span>(x)<br></code></pre></td></tr></table></figure><h1 id="5-å˜é‡èŒƒå›´"><a href="#5-å˜é‡èŒƒå›´" class="headerlink" title="5 å˜é‡èŒƒå›´"></a>5 å˜é‡èŒƒå›´</h1><ul><li>å±€éƒ¨èŒƒå›´<ul><li>åœ¨å‡½æ•°å†…éƒ¨åˆ›å»ºçš„å˜é‡å±äºè¯¥å‡½æ•°çš„å±€éƒ¨èŒƒå›´ï¼Œå¹¶ä¸”åªèƒ½åœ¨è¯¥å‡½æ•°å†…éƒ¨ä½¿ç”¨ã€‚</li><li>å‡½æ•°å†…éƒ¨åˆ›å»ºçš„å±€éƒ¨å˜é‡ï¼Œå¯¹å‡½æ•°å†…éƒ¨çš„ä»»ä½•å‡½æ•°éƒ½å¯ç”¨(åµŒå¥—å‡½æ•°éƒ½å¯ç”¨)ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">myfunc</span>():<br>    x = <span class="hljs-number">30</span>                                      <span class="hljs-comment"># åœ¨myfuncå‡½æ•°å†…éƒ¨åˆ›å»ºçš„å˜é‡ï¼Œåœ¨è¯¥å‡½æ•°å†…éƒ¨å¯ç”¨</span><br>    <span class="hljs-built_in">print</span>(x)<br><br><br>myfunc()<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">myfunc</span>():<br>    y = <span class="hljs-number">26</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">inner_func</span>():<br>        <span class="hljs-built_in">print</span>(y)                                <span class="hljs-comment"># å¯ä»¥ä»å‡½æ•°å†…çš„å‡½æ•°è®¿é—®å±€éƒ¨å˜é‡y</span><br>    inner_func()<br><br><br>myfunc()<br></code></pre></td></tr></table></figure><ul><li>å…¨å±€èŒƒå›´<ul><li>åœ¨ä»£ç çš„ä¸»ä½“ä¸­åˆ›å»ºçš„å˜é‡æ˜¯å…¨å±€å˜é‡ï¼Œå±äºå…¨å±€èŒƒå›´ï¼Œå¯ä»¥åœ¨ä»»ä½•èŒƒå›´å†…ä½¿ç”¨ã€‚</li><li>è‹¥å‡½æ•°å†…å¤–éƒ½ä½¿ç”¨ç›¸åŒå˜é‡åï¼Œå°†è§†ä¸ºä¸¤ä¸ªå•ç‹¬çš„å˜é‡ï¼Œåˆ†åˆ«ä½œç”¨äºå‡½æ•°å†…å¤–éƒ¨ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs Python">x = <span class="hljs-number">30</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">myfunc</span>():<br>    <span class="hljs-built_in">print</span>(x)                                    <span class="hljs-comment"># å¯ä»¥åœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨</span><br><br><br>myfunc()<br><span class="hljs-built_in">print</span>(x)                                        <span class="hljs-comment"># ä¹Ÿå¯ä»¥åœ¨ä¸»ä½“ä»£ç ä¸­ä½¿ç”¨</span><br><br>y = <span class="hljs-number">30</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">myfunc</span>():<br>    y = <span class="hljs-number">26</span><br>    <span class="hljs-built_in">print</span>(y)                                    <span class="hljs-comment"># å±€éƒ¨å˜é‡ä½œç”¨äºå‡½æ•°å†…éƒ¨</span><br><br><br>myfunc()<br><span class="hljs-built_in">print</span>(y)                                        <span class="hljs-comment"># å…¨å±€å˜é‡ä½œç”¨äºå‡½æ•°å¤–éƒ¨</span><br></code></pre></td></tr></table></figure><ul><li>å…¨å±€å…³é”®å­—<ul><li>ä½¿ç”¨<code>global</code>å…³é”®å­—ï¼Œåœ¨å‡½æ•°å†…éƒ¨åˆ›å»ºå…¨å±€å˜é‡ã€‚</li><li>è‹¥è¦æ›´æ”¹å‡½æ•°å†…çš„å…¨å±€å˜é‡ï¼Œéœ€ä½¿ç”¨å…³é”®å­—å¼•ç”¨ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">myfunc</span>():<br>    <span class="hljs-keyword">global</span> x                                    <span class="hljs-comment"># globalå…³é”®å­—åˆ›å»ºå…¨å±€å˜é‡</span><br>    x = <span class="hljs-number">30</span><br><br><br>myfunc()<br><span class="hljs-built_in">print</span>(x)<br><br>y = <span class="hljs-number">30</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">myfunc</span>():<br>    <span class="hljs-keyword">global</span> y                                    <span class="hljs-comment"># ä¿®æ”¹å‡½æ•°å†…çš„å…¨å±€å˜é‡y</span><br>    y = <span class="hljs-number">26</span><br><br><br>myfunc()<br><span class="hljs-built_in">print</span>(y)<br></code></pre></td></tr></table></figure><h1 id="6-æ¨¡å—ä½¿ç”¨"><a href="#6-æ¨¡å—ä½¿ç”¨" class="headerlink" title="6 æ¨¡å—ä½¿ç”¨"></a>6 æ¨¡å—ä½¿ç”¨</h1><ul><li>æ¨¡å—ä½¿ç”¨<ul><li>æ¨¡å—å¯ä»¥çœ‹æˆä¸€ä¸ªä»£ç åº“ï¼ŒåŒ…å«äº†ä¸€ç»„è¦åŒ…å«åœ¨åº”ç”¨ç¨‹åºä¸­çš„å‡½æ•°æ–‡ä»¶ã€‚</li><li>åˆ›å»ºä¸€ä¸ªæ¨¡å—ï¼Œåªéœ€è¦å°†æ‰€éœ€çš„ä»£ç ä¿å­˜åœ¨æ–‡ä»¶æ‰©å±•åä¸º<code>.py</code>çš„æ–‡ä»¶ä¸­ã€‚</li><li>ä½¿ç”¨æ¨¡å—åˆ™é€šè¿‡<code>import</code>è¯­å¥å¯¼å…¥ï¼š<code>import module_name.function_name</code>ã€‚</li><li>æ¨¡å—ä¸­å¯åŒ…å«å‡½æ•°ï¼Œä¹Ÿå¯åŒ…å«æ‰€æœ‰ç±»å‹çš„å˜é‡ï¼Œä¾‹å¦‚ï¼šæ•°ç»„ã€å­—å…¸ã€å¯¹è±¡ç­‰ã€‚</li></ul></li></ul><h2 id="6-1-åˆ›å»ºæ¨¡å—"><a href="#6-1-åˆ›å»ºæ¨¡å—" class="headerlink" title="6-1 åˆ›å»ºæ¨¡å—"></a>6-1 åˆ›å»ºæ¨¡å—</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">greeting</span>(<span class="hljs-params">name</span>):                              <span class="hljs-comment"># å°†è¯¥å‡½æ•°ä¿å­˜åœ¨åä¸ºgreetingç›®å½•çš„greeting.pyæ–‡ä»¶ä¸­</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Hello, &quot;</span> + name + <span class="hljs-string">&quot;.&quot;</span>)<br><br><br>person = &#123;                                       <span class="hljs-comment"># è¯¥å­—å…¸ä¹Ÿå­˜åœ¨äºgreeting.pyæ–‡ä»¶ä¸­</span><br>    <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Lydia&quot;</span>,<br>    <span class="hljs-string">&quot;age&quot;</span>: <span class="hljs-string">&quot;30&quot;</span>,<br>    <span class="hljs-string">&quot;country&quot;</span>: <span class="hljs-string">&quot;China&quot;</span><br>&#125;<br></code></pre></td></tr></table></figure><h2 id="6-2-å¯¼å…¥æ¨¡å—"><a href="#6-2-å¯¼å…¥æ¨¡å—" class="headerlink" title="6-2 å¯¼å…¥æ¨¡å—"></a>6-2 å¯¼å…¥æ¨¡å—</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> greeting <span class="hljs-keyword">import</span> greeting                   <span class="hljs-comment"># ä½¿ç”¨importè¯­å¥å¯¼å…¥åˆ›å»ºçš„greetingæ¨¡å—</span><br><br>greeting.greeting(<span class="hljs-string">&quot;Lydia&quot;</span>)<br>x = greeting.person[<span class="hljs-string">&quot;age&quot;</span>]                      <span class="hljs-comment"># è®¿é—®personå­—å…¸</span><br><span class="hljs-built_in">print</span>(x)<br><br><br><span class="hljs-keyword">from</span> greeting <span class="hljs-keyword">import</span> greeting <span class="hljs-keyword">as</span> x              <span class="hljs-comment"># å°†greetingæ¨¡å—é‡å‘½åä¸ºx</span><br><br>y = x.person[<span class="hljs-string">&quot;age&quot;</span>]<br><span class="hljs-built_in">print</span>(y)<br></code></pre></td></tr></table></figure><h2 id="6-3-å†…ç½®æ¨¡å—"><a href="#6-3-å†…ç½®æ¨¡å—" class="headerlink" title="6-3 å†…ç½®æ¨¡å—"></a>6-3 å†…ç½®æ¨¡å—</h2><ul><li>å†…ç½®æ¨¡å—<ul><li>å¯¼å…¥æ¨¡å—æ—¶å¯ä»¥ä½¿ç”¨aså…³é”®å­—åˆ›å»ºåˆ«åï¼Œ<code>dir()</code>å‡½æ•°å¯ä»¥åˆ—å‡ºæ¨¡å—ä¸­çš„æ‰€æœ‰å‡½æ•°åç§°ã€‚</li><li>ä½¿ç”¨fromå…³é”®å­—ä»æ¨¡å—ä¸­å¯¼å…¥éƒ¨åˆ†å…ƒç´ ï¼Œå¯¼å…¥æ—¶å¼•ç”¨æ¨¡å—ä¸­çš„å…ƒç´ ä¸è¦ä½¿ç”¨æ¨¡å—åç§°ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> platform<br><br>z = <span class="hljs-built_in">dir</span>(platform)                               <span class="hljs-comment"># dir()å‡½æ•°å¯ç”¨äºæ‰€æœ‰æ¨¡å—ï¼ŒåŒ…æ‹¬è‡ªå®šä¹‰æ¨¡å—</span><br><span class="hljs-built_in">print</span>(z)<br><br><br><span class="hljs-keyword">from</span> greeting.greeting <span class="hljs-keyword">import</span> person<br><br><span class="hljs-built_in">print</span>(person[<span class="hljs-string">&quot;name&quot;</span>])                           <span class="hljs-comment"># ä»…ä»æ¨¡å—ä¸­å¯¼å…¥personå­—å…¸</span><br><br><br><span class="hljs-keyword">from</span> greeting <span class="hljs-keyword">import</span> greeting<br><br><span class="hljs-built_in">print</span>(greeting.person[<span class="hljs-string">&quot;name&quot;</span>])                  <span class="hljs-comment"># ä¸ä½¿ç”¨æ¨¡å—åç§°ï¼Œä¾‹å¦‚greeting.person[&quot;name&quot;]</span><br></code></pre></td></tr></table></figure><h3 id="1-Math"><a href="#1-Math" class="headerlink" title="(1) Math"></a>(1) Math</h3><ul><li>å†…ç½®å‡½æ•°<ul><li><code>min()</code>å’Œ<code>max()</code>å¯ç”¨äºæŸ¥æ‰¾å¯è¿­ä»£å¯¹è±¡ä¸­çš„æœ€å°å€¼å’Œæœ€å¤§å€¼ã€‚</li><li><code>abs()</code>è¿”å›æŒ‡å®šæ•°å­—çš„ç»å¯¹å€¼ï¼Œ<code>pow(x, y)</code>åˆ™è¿”å›xçš„yæ¬¡å¹‚ã€‚</li></ul></li><li>ä½¿ç”¨æ—¶éœ€è¦å¯¼å…¥mathæ¨¡å—ï¼Œå¯¼å…¥åå°±å¯ä»¥ä½¿ç”¨æ¨¡å—çš„æ–¹æ³•å’Œå¸¸é‡äº†ã€‚<ul><li><code>math.sqrt()</code>ï¼šè¿”å›ä¸€ä¸ªæ•°å­—çš„å¹³æ–¹æ ¹ã€‚</li><li><code>math.ceil()</code>ï¼šå°†ä¸€ä¸ªæ•°å­—å‘ä¸Šèˆå…¥å–æ•´ã€‚</li><li><code>math.floor()</code>ï¼šå°†ä¸€ä¸ªæ•°å­—å‘ä¸‹èˆå…¥å–æ•´ã€‚</li><li><code>math.pi</code>ï¼šå¸¸æ•°ï¼Œè¿”å›PIï¼Œå³åœ†å‘¨ç‡<code>3.14159265...</code>çš„å€¼ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs Python">a = <span class="hljs-built_in">min</span>(<span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>)                                <span class="hljs-comment"># 5</span><br>b = <span class="hljs-built_in">max</span>(<span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>)                                <span class="hljs-comment"># 9</span><br>c = <span class="hljs-built_in">abs</span>(-<span class="hljs-number">2</span>)                                     <span class="hljs-comment"># 2</span><br>d = <span class="hljs-built_in">pow</span>(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>)                                   <span class="hljs-comment"># 2*2*2</span><br><span class="hljs-built_in">print</span>(a)<br><span class="hljs-built_in">print</span>(b)<br><span class="hljs-built_in">print</span>(c)<br><span class="hljs-built_in">print</span>(d)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-&quot;</span>)<br><br><br><span class="hljs-keyword">import</span> math<br><br>x = math.sqrt(<span class="hljs-number">64</span>)                               <span class="hljs-comment"># è¿”å›ä¸€ä¸ªæ•°å­—çš„å¹³æ–¹æ ¹</span><br>y = math.ceil(<span class="hljs-number">1.45</span>)                             <span class="hljs-comment"># å‘ä¸Šå–æ•´ï¼Œè¿”å›2</span><br>z = math.floor(<span class="hljs-number">1.45</span>)                            <span class="hljs-comment"># å‘ä¸‹å–æ•´ï¼Œè¿”å›1</span><br><span class="hljs-built_in">print</span>(x)<br><span class="hljs-built_in">print</span>(y)<br><span class="hljs-built_in">print</span>(z)<br><span class="hljs-built_in">print</span>(math.pi)                                  <span class="hljs-comment"># è¿”å›åœ†å‘¨ç‡PI</span><br></code></pre></td></tr></table></figure><h3 id="2-Json"><a href="#2-Json" class="headerlink" title="(2) Json"></a>(2) Json</h3><ul><li>ä¸€ç§ç”¨äºå­˜å‚¨å’Œäº¤æ¢æ•°æ®çš„è¯­æ³•ï¼Œæ˜¯æ–‡æœ¬ï¼Œä½¿ç”¨JavaScriptå¯¹è±¡è¡¨ç¤ºæ³•ç¼–å†™ã€‚</li><li>Pythonä¸­æœ‰å†…ç½®åŒ…jsonï¼Œç”¨äºå¤„ç†jsonæ•°æ®ï¼Œä½¿ç”¨å‰éœ€è¦importå¯¼å…¥jsonæ¨¡å—ã€‚</li><li><code>json.loads()</code>æ–¹æ³•å¯ä»¥ç”¨æ¥è§£æjsonå­—ç¬¦ä¸²ï¼Œç»“æœå°†ä¼šè¿”å›ä¸€ä¸ªPythonå­—å…¸ã€‚</li><li><code>json.dumps()</code>æ–¹æ³•å¯ä»¥å°†Pythonå¯¹è±¡ç›´æ¥è½¬æ¢ä¸ºjsonå­—ç¬¦ä¸²ã€‚<ul><li><code>json.dumps()</code>æ–¹æ³•å…·æœ‰å‚æ•°ï¼Œç”¨indentå‚æ•°å®šä¹‰ç¼©è¿›æ•°ã€‚</li><li>ä½¿ç”¨separatorså‚æ•°å®šä¹‰åˆ†éš”ç¬¦ï¼Œé»˜è®¤å€¼ä¸º<code>(&quot;, &quot;, &quot;: &quot;)</code>ã€‚</li><li>å³ï¼šä½¿ç”¨é€—å·å’Œç©ºæ ¼åˆ†éš”æ¯ä¸ªå¯¹è±¡ï¼Œä½¿ç”¨å†’å·å’Œç©ºæ ¼åˆ†éš”é”®å’Œå€¼ã€‚</li><li>è¯¥æ–¹æ³•è¿˜å¯ç”¨äºå¯¹ç»“æœä¸­çš„é”®è¿›è¡Œæ’åºï¼Œä½¿ç”¨sort_keyså‚æ•°æŒ‡å®šã€‚</li></ul></li><li>Pythonå¯¹è±¡ä¸ç­‰æ•ˆçš„json(JavaScript)ï¼Œè½¬æ¢å¦‚ä¸‹ã€‚<ul><li>å¯¹è±¡(json)ã€dict(Object)ã€list(Array)ã€tuple(Array)ã€string(String)ã€‚</li><li>int(Number)ã€float(Number)ã€True(true)ã€False(false)ã€None(null)ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> json<br><br>x = &#123;<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Lydia&quot;</span>, <span class="hljs-string">&quot;age&quot;</span>: <span class="hljs-string">&quot;26&quot;</span>, <span class="hljs-string">&quot;city&quot;</span>: <span class="hljs-string">&quot;XiaMen&quot;</span>&#125;<br>y = json.dumps(x)                               <span class="hljs-comment"># ä»Pythonå­—å…¸è½¬æ¢ä¸ºjsonå­—ç¬¦ä¸²</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(y))<br><br>x = <span class="hljs-string">&#x27;&#123;&quot;name&quot;: &quot;Lydia&quot;, &quot;age&quot;: &quot;26&quot;, &quot;city&quot;: &quot;XiaMen&quot;&#125;&#x27;</span><br>y = json.loads(x)                               <span class="hljs-comment"># ä»jsonå­—ç¬¦ä¸²è½¬æ¢ä¸ºpythonå­—å…¸</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(y))<br><span class="hljs-built_in">print</span>(y)<br><br><span class="hljs-built_in">print</span>(json.dumps(<span class="hljs-string">&quot;Hi&quot;</span>))<br><span class="hljs-built_in">print</span>(json.dumps(<span class="hljs-number">1357</span>))<br><span class="hljs-built_in">print</span>(json.dumps(<span class="hljs-number">31.7</span>))<br><span class="hljs-built_in">print</span>(json.dumps(<span class="hljs-literal">None</span>))                         <span class="hljs-comment"># å°†Pythonå¯¹è±¡è½¬æ¢ä¸ºjsonå­—ç¬¦ä¸²å¹¶æ‰“å°</span><br><span class="hljs-built_in">print</span>(json.dumps(<span class="hljs-literal">True</span>))<br><span class="hljs-built_in">print</span>(json.dumps(<span class="hljs-literal">False</span>))<br><span class="hljs-built_in">print</span>(json.dumps([<span class="hljs-string">&quot;apple&quot;</span>, <span class="hljs-string">&quot;grape&quot;</span>]))<br><span class="hljs-built_in">print</span>(json.dumps((<span class="hljs-string">&quot;apple&quot;</span>, <span class="hljs-string">&quot;grape&quot;</span>)))<br><span class="hljs-built_in">print</span>(json.dumps(&#123;<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Lydia&quot;</span>, <span class="hljs-string">&quot;age&quot;</span>: <span class="hljs-string">&quot;30&quot;</span>, <span class="hljs-string">&quot;city&quot;</span>: <span class="hljs-string">&quot;XiaMen&quot;</span>&#125;))<br><br>z = &#123;<br>    <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Lydia&quot;</span>,<br>    <span class="hljs-string">&quot;age&quot;</span>: <span class="hljs-number">26</span>,<br>    <span class="hljs-string">&quot;married&quot;</span>: <span class="hljs-literal">True</span>,<br>    <span class="hljs-string">&quot;divorced&quot;</span>: <span class="hljs-literal">False</span>,<br>    <span class="hljs-string">&quot;children&quot;</span>: (<span class="hljs-string">&quot;Ann&quot;</span>, <span class="hljs-string">&quot;Billy&quot;</span>),<br>    <span class="hljs-string">&quot;pets&quot;</span>: <span class="hljs-literal">None</span>,<br>    <span class="hljs-string">&quot;cars&quot;</span>: [<br>        &#123;<span class="hljs-string">&quot;model&quot;</span>: <span class="hljs-string">&quot;BMW 230&quot;</span>, <span class="hljs-string">&quot;mpg&quot;</span>: <span class="hljs-number">27.5</span>&#125;,<br>        &#123;<span class="hljs-string">&quot;model&quot;</span>: <span class="hljs-string">&quot;Ford Edge&quot;</span>, <span class="hljs-string">&quot;mpg&quot;</span>: <span class="hljs-number">24.1</span>&#125;<br>    ]<br>&#125;<br><span class="hljs-built_in">print</span>(json.dumps(z))                            <span class="hljs-comment"># è½¬æ¢ä¸€ä¸ªåŒ…å«æ‰€æœ‰åˆæ³•æ•°æ®ç±»å‹çš„Pythonå¯¹è±¡</span><br><span class="hljs-built_in">print</span>(json.dumps(z, indent=<span class="hljs-number">4</span>))<br><span class="hljs-built_in">print</span>(json.dumps(z, indent=<span class="hljs-number">4</span>, separators=(<span class="hljs-string">&quot;. &quot;</span>, <span class="hljs-string">&quot; = &quot;</span>)))<br><span class="hljs-built_in">print</span>(json.dumps(z, indent=<span class="hljs-number">4</span>, sort_keys=<span class="hljs-literal">True</span>))<br></code></pre></td></tr></table></figure><h3 id="3-Datetime"><a href="#3-Datetime" class="headerlink" title="(3) Datetime"></a>(3) Datetime</h3><ul><li>å¯¼å…¥è¯¥æ¨¡å—å¯ä»¥æ˜¾ç¤ºå½“å‰æ—¥æœŸï¼ŒåŒ…å«å¹´ã€æœˆã€æ—¥ã€æ—¶ã€åˆ†ã€ç§’å’Œå¾®ç§’ã€‚</li><li>åˆ›å»ºæ—¥æœŸä½¿ç”¨æ¨¡å—çš„æ„é€ å‡½æ•°<code>datetime()</code>ï¼Œéœ€å¹´ã€æœˆã€æ—¥è¿™ä¸‰ä¸ªå‚æ•°ã€‚<ul><li>è¯¥å‡½æ•°æ¥å—æ—¶é—´å‚æ•°å’Œæ—¶åŒºå‚æ•°(ä¾‹å¦‚ï¼šæ—¶ã€åˆ†ã€ç§’ã€å¾®ç§’ã€tzone)ã€‚</li><li>è¯¥å‡½æ•°çš„æ—¶é—´å’Œæ—¶åŒºå‚æ•°éƒ½å¯é€‰ï¼Œä¸”å…·é»˜è®¤å€¼0ï¼Œæ—¶åŒºé»˜è®¤å€¼ä¸ºNoneã€‚</li></ul></li><li><code>strftime()</code>æ–¹æ³•å°†æ—¥æœŸå¯¹è±¡æ ¼å¼åŒ–ä¸ºå¯è¯»å­—ç¬¦ä¸²ï¼Œæ¥å—å‚æ•°ï¼Œä½¿ç”¨formatæŒ‡å®šè¿”å›å­—ç¬¦ä¸²çš„æ ¼å¼ã€‚</li><li>æ—¶é—´æ—¥æœŸæ ¼å¼åŒ–ç¬¦å·ï¼Œç¤ºä¾‹å¦‚ä¸‹ã€‚<ul><li><code>%a</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Wed(ç®€åŒ–æ˜ŸæœŸ)</li><li><code>%A</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Wednesday(å®Œæ•´æ˜ŸæœŸ)</li><li><code>%b</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Dec(ç®€åŒ–æœˆä»½)</li><li><code>%B</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·December(å®Œæ•´æœˆä»½)</li><li><code>%c</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Mon Dec 29 17:17:00 2019</li><li><code>%C</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·20(ä¸–çºª)</li><li><code>%d</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·31(æ—¥ï¼Œ0-31)</li><li><code>%f</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·548513(å¾®ç§’)</li><li><code>%G</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·2019(å¹´ä»½ï¼ŒISO 8601)</li><li><code>%H</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·20(æ—¶ï¼Œ00-23ï¼Œ24å°æ—¶åˆ¶)</li><li><code>%I</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·07(æ—¶ï¼Œ01-12ï¼Œ12å°æ—¶åˆ¶)</li><li><code>%j</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·365(å¹´ä¸­çš„ç¬¬nå¤©ï¼Œ001-366)</li><li><code>%m</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·06(æœˆä»½ï¼Œ01-12)</li><li><code>%M</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·15(åˆ†é’Ÿï¼Œ00-59)</li><li><code>%p</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·A.M.æˆ–P.M.</li><li><code>%S</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·15(ç§’ï¼Œ00-59)</li><li><code>%u</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·1(æ˜ŸæœŸï¼Œ1-7ï¼ŒISO 8601)</li><li><code>%U</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·52(ä¸€å¹´ä¸­çš„æ˜ŸæœŸæ•°ï¼Œ00-53ï¼Œæ˜ŸæœŸå¤©å¼€å§‹)</li><li><code>%V</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·01(ä¸€å¹´ä¸­çš„æ˜ŸæœŸæ•°ï¼Œ01-53ï¼ŒISO 8601)</li><li><code>%w</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·0(æ˜ŸæœŸï¼Œ0-6ï¼Œæ˜ŸæœŸå¤©å¼€å§‹)</li><li><code>%W</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·52(ä¸€å¹´ä¸­çš„æ˜ŸæœŸæ•°ï¼Œ00-53ï¼Œæ˜ŸæœŸä¸€å¼€å§‹)</li><li><code>%x</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·01&#x2F;01&#x2F;19</li><li><code>%X</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·17:15:00</li><li><code>%y</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·19(å¹´ä»½ï¼Œ00-99)</li><li><code>%Y</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·2019(å¹´ä»½ï¼Œ0000-9999)</li><li><code>%z</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·+0100(UTC offsetï¼Œæ ‡å‡†æ—¶é—´åç§»)</li><li><code>%Z</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·CST(å½“å‰æ—¶åŒºçš„åç§°)</li><li><code>%%</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·%(æœ¬èº«)</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> datetime<br><br>x = datetime.datetime.now()<br><span class="hljs-built_in">print</span>(x.month)                                  <span class="hljs-comment"># æ˜¾ç¤ºæœˆä»½</span><br><span class="hljs-built_in">print</span>(x.strftime(<span class="hljs-string">&quot;%a&quot;</span>))                         <span class="hljs-comment"># æ˜¾ç¤ºè‹±æ–‡æ˜ŸæœŸ</span><br><br>y = datetime.datetime(<span class="hljs-number">2019</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>)               <span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªæ—¥æœŸå¯¹è±¡</span><br><span class="hljs-built_in">print</span>(y.strftime(<span class="hljs-string">&quot;%B&quot;</span>))                         <span class="hljs-comment"># æ˜¾ç¤ºè‹±æ–‡æœˆä»½</span><br><span class="hljs-built_in">print</span>(y)<br><span class="hljs-built_in">print</span>(x)                                        <span class="hljs-comment"># æ˜¾ç¤ºå½“å‰æ—¥æœŸ</span><br></code></pre></td></tr></table></figure><h3 id="4-æ­£åˆ™è¡¨è¾¾å¼"><a href="#4-æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="(4) æ­£åˆ™è¡¨è¾¾å¼"></a>(4) æ­£åˆ™è¡¨è¾¾å¼</h3><ul><li>å½¢æˆæœç´¢æ¨¡å¼çš„å­—ç¬¦åºåˆ—ï¼Œç”¨äºæ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦åŒ…å«æŒ‡å®šçš„æœç´¢æ¨¡å¼ã€‚</li><li>Pythonæœ‰ä¸€ä¸ªreå†…ç½®åŒ…ï¼Œç”¨äºå¤„ç†æ­£åˆ™è¡¨è¾¾å¼ï¼Œä½¿ç”¨å‰éœ€å¯¼å…¥reæ¨¡å—ã€‚<ul><li><code>findall()</code>ï¼šè¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰åŒ¹é…é¡¹çš„åˆ—è¡¨ã€‚</li><li><code>sub()</code>ï¼šå°†åŒ¹é…é¡¹æ›¿æ¢ä¸ºé€‰æ‹©çš„æ–‡æœ¬ï¼Œå¯ä»¥é€šè¿‡countå‚æ•°æ¥æ§åˆ¶æ›¿æ¢æ¬¡æ•°ã€‚</li><li><code>search()</code>ï¼šåœ¨å­—ç¬¦ä¸²ä¸­æœç´¢åŒ¹é…é¡¹ï¼Œè‹¥æœ‰ï¼Œè¿”å›ä¸€ä¸ªMatchå¯¹è±¡ï¼Œè‹¥å¤šä¸ªï¼Œè¿”å›åŒ¹é…é¡¹çš„ç¬¬ä¸€ä¸ªã€‚</li><li><code>split()</code>ï¼šè¿”å›ä¸€ä¸ªåˆ—è¡¨ï¼Œå…¶ä¸­å­—ç¬¦ä¸²åœ¨æ¯æ¬¡åŒ¹é…æ—¶éƒ½è¢«æ‹†åˆ†ï¼Œå¯é€šè¿‡maxsplitå‚æ•°æ§åˆ¶å‡ºç°æ¬¡æ•°ã€‚</li></ul></li><li>å…ƒå­—ç¬¦ï¼šä»£è¡¨åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­å…·æœ‰ç‰¹æ®Šæ„ä¹‰çš„ä¸“ç”¨å­—ç¬¦ï¼Œç”¨æ¥è§„å®šå…¶å‰å¯¼å­—ç¬¦åœ¨ç›®æ ‡å¯¹è±¡ä¸­çš„å‡ºç°æ¨¡å¼ã€‚<ul><li><code>[]</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·ä¸€ç»„å­—ç¬¦ï¼Œä¾‹å¦‚<code>&quot;[a-m]&quot;</code></li><li><code>\</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·ç‰¹æ®Šåºåˆ—ï¼Œä¹Ÿå¯ç”¨äºè½¬ä¹‰å­—ç¬¦ï¼Œä¾‹å¦‚<code>&quot;\d&quot;</code></li><li><code>.</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·é™¤æ¢è¡Œç¬¦ä¹‹å¤–çš„ä»»ä½•å­—ç¬¦ï¼Œä¾‹å¦‚<code>&quot;he..o&quot;</code></li><li><code>^</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·ä»¥â€œhelloâ€å¼€å¤´ï¼Œä¾‹å¦‚<code>&quot;^hello&quot;</code></li><li><code>$</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·ä»¥â€œworldâ€ç»“å°¾ï¼Œä¾‹å¦‚<code>&quot;world$&quot;</code></li><li><code>*</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·é›¶æ¬¡æˆ–å¤šæ¬¡å‡ºç°ï¼Œä¾‹å¦‚<code>&quot;he.*o&quot;</code></li><li><code>+</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·ä¸€æ¬¡æˆ–å¤šæ¬¡å‡ºç°ï¼Œä¾‹å¦‚<code>&quot;he.+o&quot;</code></li><li><code>?</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·é›¶æ¬¡æˆ–ä¸€æ¬¡å‡ºç°ï¼Œä¾‹å¦‚<code>&quot;he.?o&quot;</code></li><li><code>&#123;&#125;</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·æŒ‡å®šå‡ºç°çš„æ¬¡æ•°ï¼Œä¾‹å¦‚<code>&quot;he.&#123;2&#125;o&quot;</code></li><li><code>\|</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·æˆ–ï¼Œä¾‹å¦‚<code>&quot;falls | stays&quot;</code></li><li><code>()</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·æ•è·å’Œåˆ†ç»„</li></ul></li><li>é›†åˆç±»ç‰¹æ®Šå­—ç¬¦<ul><li><code>[arn]</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·è¿”å›æŒ‡å®šå­—ç¬¦â€œaã€ræˆ–nâ€ä¹‹ä¸€çš„ä»»æ„åŒ¹é…é¡¹</li><li><code>[a-n]</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·è¿”å›ä»»æ„å°å†™å­—ç¬¦çš„åŒ¹é…é¡¹</li><li><code>[0-9]</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·è¿”å›0åˆ°9ä¹‹é—´ä»»æ„æ•°å­—çš„åŒ¹é…é¡¹</li><li><code>[^arn]</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·è¿”å›é™¤â€œaã€rå’Œnâ€ä¹‹å¤–çš„ä»»æ„å­—ç¬¦åŒ¹é…é¡¹</li><li><code>[0123]</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·è¿”å›æŒ‡å®šæ•°å­—â€œ0ã€1ã€2æˆ–3â€ä¹‹ä¸€çš„ä»»æ„åŒ¹é…é¡¹</li><li><code>[a-zA-Z]</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·è¿”å›aåˆ°zã€Aåˆ°Zä¹‹é—´ä»»æ„å­—æ¯çš„åŒ¹é…é¡¹</li><li><code>[0-5][0-9]</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·è¿”å›ä»00åˆ°59ä¹‹é—´ä»»æ„ä¸¤ä½æ•°å­—çš„åŒ¹é…é¡¹</li><li><code>[+]</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·é›†åˆä¸­â€œ+*.|()${} â€éƒ½æ— ç‰¹æ®Šå«ä¹‰ï¼Œè¿”å›åŒ¹é…å­—ç¬¦ä¸²ä¸­ä»»æ„â€œ+â€å­—ç¬¦</li></ul></li><li>ç‰¹æ®Šåºåˆ—ç±»å­—ç¬¦<ul><li><code>\A</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·å¦‚æœæŒ‡å®šå­—ç¬¦ä½äºå­—ç¬¦ä¸²â€œTheâ€çš„å¼€å¤´ï¼Œåˆ™è¿”å›åŒ¹é…é¡¹ï¼Œä¾‹å¦‚<code>&quot;\AThe&quot;</code></li><li><code>\b</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·è¿”å›ä½äºå•è¯â€œainâ€çš„å¼€å¤´æˆ–ç»“å°¾çš„æŒ‡å®šå­—ç¬¦åŒ¹é…é¡¹ï¼Œä¾‹å¦‚<code>r&quot;\bain&quot;</code></li><li><code>\B</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·è¿”å›ä¸ä½äºå•è¯â€œainâ€çš„å¼€å¤´æˆ–ç»“å°¾çš„æŒ‡å®šå­—ç¬¦åŒ¹é…é¡¹ï¼Œä¾‹å¦‚<code>r&quot;ain\B&quot;</code></li><li><code>\d</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·è¿”å›å­—ç¬¦ä¸²åŒ…å«0åˆ°9æ•°å­—çš„åŒ¹é…é¡¹ï¼Œä¾‹å¦‚<code>&quot;\d&quot;</code></li><li><code>\D</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·è¿”å›å­—ç¬¦ä¸²ä¸åŒ…å«æ•°å­—0åˆ°9çš„åŒ¹é…é¡¹ï¼Œä¾‹å¦‚<code>&quot;\D&quot;</code></li><li><code>\s</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·ç”¨äºåŒ¹é…å•ä¸ªç©ºæ ¼ç¬¦ï¼ŒåŒ…æ‹¬tabé”®å’Œæ¢è¡Œç¬¦ï¼Œä¾‹å¦‚<code>&quot;\s&quot;</code></li><li><code>\S</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·ç”¨äºåŒ¹é…é™¤å•ä¸ªç©ºæ ¼ç¬¦ä¹‹å¤–çš„æ‰€æœ‰å­—ç¬¦ï¼Œä¾‹å¦‚<code>&quot;\S&quot;</code></li><li><code>\w</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·ç”¨äºåŒ¹é…aåˆ°zçš„å­—ç¬¦ã€0åˆ°9çš„æ•°å­—å’Œä¸‹åˆ’çº¿(_)å­—ç¬¦ï¼Œä¾‹å¦‚<code>&quot;\w&quot;</code></li><li><code>\W</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·ç”¨äºåŒ¹é…æ‰€æœ‰ä¸\wä¸åŒ¹é…çš„å­—ç¬¦ï¼Œä¾‹å¦‚<code>&quot;\W&quot;</code></li><li><code>\Z</code>Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·å¦‚æœæŒ‡å®šå­—ç¬¦ä½äºå­—ç¬¦ä¸²â€œSpainâ€çš„æœ«å°¾ï¼Œåˆ™è¿”å›åŒ¹é…é¡¹ï¼Œä¾‹å¦‚<code>&quot;Spain\Z&quot;</code></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> re<br><br>txt = <span class="hljs-string">&quot;The rain in Spain.&quot;</span><br><br>x = re.search(<span class="hljs-string">&quot;\s&quot;</span>, txt)                        <span class="hljs-comment"># æœç´¢å­—ç¬¦ä¸²ä¸­çš„ç¬¬ä¸€ä¸ªç©ºæ ¼å­—ç¬¦çš„ä½ç½®</span><br><span class="hljs-built_in">print</span>(x.start())<br>y = re.findall(<span class="hljs-string">&quot;Portugal&quot;</span>, txt)                 <span class="hljs-comment"># æ²¡æ‰¾åˆ°åŒ¹é…é¡¹ï¼Œè¿”å›ä¸€ä¸ªç©ºåˆ—è¡¨</span><br><span class="hljs-built_in">print</span>(y)<br><br>x = re.search(<span class="hljs-string">&quot;Portugal&quot;</span>, txt)                  <span class="hljs-comment"># æ²¡æ‰¾åˆ°åŒ¹é…é¡¹ï¼Œè¿”å›None</span><br><span class="hljs-built_in">print</span>(x)<br>y = re.findall(<span class="hljs-string">&quot;ai&quot;</span>, txt)                       <span class="hljs-comment"># æŒ‰æ‰¾åˆ°çš„é¡ºåºåŒ…å«åŒ¹é…é¡¹</span><br><span class="hljs-built_in">print</span>(y)<br><br>x = re.sub(<span class="hljs-string">&quot;\s&quot;</span>, <span class="hljs-string">&quot;9&quot;</span>, txt, <span class="hljs-number">2</span>)                   <span class="hljs-comment"># æ›¿æ¢å‰ä¸¤æ¬¡å‡ºç°çš„ç©ºç™½å­—ç¬¦</span><br><span class="hljs-built_in">print</span>(x)<br>y = re.sub(<span class="hljs-string">&quot;\s&quot;</span>, <span class="hljs-string">&quot;9&quot;</span>, txt)                      <span class="hljs-comment"># ç”¨9æ›¿æ¢æ¯ä¸ªç©ºç™½å­—ç¬¦</span><br><span class="hljs-built_in">print</span>(y)<br><br>x = re.split(<span class="hljs-string">&quot;\s&quot;</span>, txt, <span class="hljs-number">1</span>)                      <span class="hljs-comment"># ä»…åœ¨ç¬¬ä¸€æ¬¡å‡ºç°æ—¶æ‹†åˆ†å­—ç¬¦ä¸²</span><br><span class="hljs-built_in">print</span>(x)<br>y = re.split(<span class="hljs-string">&quot;\s&quot;</span>, txt)                         <span class="hljs-comment"># åœ¨æ¯ä¸ªç©ºç™½å­—ç¬¦å¤„è¿›è¡Œæ‹†åˆ†</span><br><span class="hljs-built_in">print</span>(y)<br><br>x = re.search(<span class="hljs-string">&quot;^The.*Spain.$&quot;</span>, txt)             <span class="hljs-comment"># æŸ¥çœ‹æ˜¯å¦ä»¥Theå¼€å¤´ï¼Œå¹¶ä»¥Spain.ç»“å°¾</span><br><span class="hljs-built_in">print</span>(x)<br></code></pre></td></tr></table></figure><ul><li>åŒ¹é…å¯¹è±¡<ul><li>æŒ‡åŒ…å«æœ‰å…³æœç´¢å’Œç»“æœä¿¡æ¯çš„å¯¹è±¡ï¼Œè‹¥æ— åŒ¹é…ï¼Œå°†è¿”å›Noneã€‚</li><li>Matchå¯¹è±¡å…·æœ‰ç”¨äºæ£€ç´¢æœ‰å…³æœç´¢çš„ä¿¡æ¯å’Œç»“æœçš„å±æ€§ä¸æ–¹æ³•ã€‚<ul><li><code>span()</code>ï¼šè¿”å›ä¸€ä¸ªåŒ…å«åŒ¹é…â€œå¼€å§‹å’Œç»“æŸä½ç½®â€çš„å…ƒç»„ã€‚</li><li><code>string</code>ï¼šè¿”å›ä¼ é€’ç»™å‡½æ•°çš„å­—ç¬¦ä¸²ã€‚</li><li><code>group()</code>ï¼šè¿”å›å­—ç¬¦ä¸²ä¸­åŒ¹é…çš„éƒ¨åˆ†ã€‚</li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> re<br><br>txt = <span class="hljs-string">&quot;The rain in Spain.&quot;</span><br><br>a = re.search(<span class="hljs-string">r&quot;\bS\w+&quot;</span>, txt)                   <span class="hljs-comment"># æ‰“å°åŒ¹é…çš„å­—ç¬¦ä¸²éƒ¨åˆ†</span><br><span class="hljs-built_in">print</span>(a.group())<br><br>b = re.search(<span class="hljs-string">r&quot;\bS\w+&quot;</span>, txt)                   <span class="hljs-comment"># æŸ¥æ‰¾ä»¥å¤§å†™Så¼€å¤´çš„ä»»ä½•å•è¯ï¼Œå¹¶æ‰“å°ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹çš„ä½ç½®</span><br><span class="hljs-built_in">print</span>(b.span())<br><br>c = re.search(<span class="hljs-string">r&quot;\bS\w+&quot;</span>, txt)                   <span class="hljs-comment"># æ‰“å°ä¼ å…¥å‡½æ•°çš„å­—ç¬¦ä¸²</span><br><span class="hljs-built_in">print</span>(c.string)<br><br>d = re.search(<span class="hljs-string">&quot;ai&quot;</span>, txt)                        <span class="hljs-comment"># æ‰§è¡Œå°†è¿”å›åŒ¹é…å¯¹è±¡çš„æœç´¢</span><br><span class="hljs-built_in">print</span>(d)<br></code></pre></td></tr></table></figure><h1 id="7-ç”¨æˆ·è¾“å…¥"><a href="#7-ç”¨æˆ·è¾“å…¥" class="headerlink" title="7 ç”¨æˆ·è¾“å…¥"></a>7 ç”¨æˆ·è¾“å…¥</h1><ul><li>ç”¨æˆ·è¾“å…¥<ul><li>Python3.6ç‰ˆæœ¬ä½¿ç”¨<code>input()</code>æ–¹æ³•è¿›è¡Œç”¨æˆ·è¾“å…¥ã€‚</li><li>Python2.7ç‰ˆæœ¬ä½¿ç”¨<code>raw_input()</code>è¿›è¡Œç”¨æˆ·è¾“å…¥ã€‚</li><li>æ¶‰åŠåˆ°<code>input()</code>å‡½æ•°æ—¶åœæ­¢æ‰§è¡Œï¼Œå¹¶åœ¨ç”¨æˆ·ç»™å‡ºè¾“å…¥åç»§ç»­æ‰§è¡Œã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs Python">userName = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;Enter username: &quot;</span>)             <span class="hljs-comment"># Python3.6</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;The name entered is &quot;</span> + userName + <span class="hljs-string">&quot;.&quot;</span>)<br><br><span class="hljs-comment"># userName = raw_input(&quot;Enter username: &quot;)       # Python2.7ï¼Œå·²åœæ­¢ç»´æŠ¤</span><br><span class="hljs-comment"># print(&quot;The name entered is &quot; + userName + &quot;.&quot;)</span><br></code></pre></td></tr></table></figure><h1 id="8-å¼‚å¸¸å¤„ç†"><a href="#8-å¼‚å¸¸å¤„ç†" class="headerlink" title="8 å¼‚å¸¸å¤„ç†"></a>8 å¼‚å¸¸å¤„ç†</h1><ul><li>å¼‚å¸¸å¤„ç†<ul><li><code>try</code>å…è®¸æµ‹è¯•ä»£ç å—çš„é”™è¯¯ï¼Œ<code>except</code>å…è®¸å¤„ç†ä»£ç å—çš„é”™è¯¯ï¼Œ<code>else</code>ä»£ç å—å…è®¸åœ¨æ²¡æœ‰é”™è¯¯æ—¶æ‰§è¡Œä»£ç ã€‚</li><li><code>finally</code>ä»£ç å—ä¸ç®¡<code>try</code>å’Œ<code>except</code>ä»£ç å—çš„ç»“æœå¦‚ä½•ï¼Œéƒ½å…è®¸æ‰§è¡Œä»£ç ï¼Œå¯ä»¥ç”¨äºå…³é—­å¯¹è±¡å’Œæ¸…ç†èµ„æºã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">try</span>:                      <span class="hljs-comment"># å‘ç”Ÿé”™è¯¯æˆ–å¼‚å¸¸æ—¶ï¼Œä¼šåœæ­¢å¹¶ç”Ÿæˆé”™è¯¯ä¿¡æ¯ï¼Œä½¿ç”¨tryè¯­å¥å¤„ç†å¼‚å¸¸</span><br>    <span class="hljs-built_in">print</span>(a)<br><span class="hljs-keyword">except</span>:                   <span class="hljs-comment"># tryä»£ç å—å¼•å‘å¼‚å¸¸ï¼Œæ‰§è¡Œexceptè¯­å¥ï¼Œè‹¥æ— tryä»£ç å—ï¼Œåˆ™ç¨‹åºå´©æºƒ</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å‡ºç°äº†å¼‚å¸¸&quot;</span>)<br><br><br><span class="hljs-keyword">try</span>:<br>    <span class="hljs-built_in">print</span>(b)<br><span class="hljs-keyword">except</span> NameError:         <span class="hljs-comment"># tryè¯­å¥å¼‚å¸¸ï¼Œè‹¥ä¸ºNameErrorå¼‚å¸¸ï¼Œæ‰“å°è¯¥æ¡ä¿¡æ¯ï¼Œå¦åˆ™æ‰“å°exceptä»£ç å—è¯­å¥</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æœªå®šä¹‰å˜é‡&quot;</span>)<br><span class="hljs-keyword">except</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å‡ºç°äº†å¼‚å¸¸&quot;</span>)<br><br><br><span class="hljs-keyword">try</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ä½ å¥½å‘€æœ‹å‹&quot;</span>)<br><span class="hljs-keyword">except</span>:                   <span class="hljs-comment"># tryä»£ç å—è‹¥å¼‚å¸¸ï¼Œåªæ‰§è¡Œexceptä»£ç å—ä¸­çš„å†…å®¹</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å‡ºç°äº†å¼‚å¸¸&quot;</span>)<br><span class="hljs-keyword">else</span>:                     <span class="hljs-comment"># tryä»£ç å—è‹¥æ²¡æœ‰å¼‚å¸¸ï¼Œä½¿ç”¨elseå®šä¹‰è¦æ‰§è¡Œçš„ä»£ç å—å°†è¢«æ‰§è¡Œ</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æœªå‘ç”Ÿå¼‚å¸¸&quot;</span>)<br><br><br><span class="hljs-keyword">try</span>:<br>    <span class="hljs-built_in">print</span>(c)<br><span class="hljs-keyword">except</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å‡ºç°äº†å¼‚å¸¸&quot;</span>)<br><span class="hljs-keyword">finally</span>:                  <span class="hljs-comment"># æŒ‡å®šäº†finallyä»£ç å—ï¼Œæ— è®ºtryä»£ç å—æ˜¯å¦å¼‚å¸¸ï¼Œéƒ½å°†æ‰§è¡Œè¯¥ä»£ç å—</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ‰§è¡Œå®Œæˆå•¦&quot;</span>)<br><br><br><span class="hljs-keyword">try</span>:                      <span class="hljs-comment"># å°è¯•æ‰“å¼€å¹¶å†™å…¥ä¸€ä¸ªä¸å¯å†™(ä¸å­˜åœ¨)çš„æ–‡ä»¶</span><br>    f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;file.txt&quot;</span>)<br>    <span class="hljs-keyword">try</span>:<br>        f.write(<span class="hljs-string">&quot;å†…å®¹çš„å†™å…¥&quot;</span>)<br>    <span class="hljs-keyword">except</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å†™å…¥æ—¶å¼‚å¸¸&quot;</span>)<br>    <span class="hljs-keyword">finally</span>:<br>        f.close()         <span class="hljs-comment"># ç”¨äºå…³é—­å¯¹è±¡å’Œæ¸…ç†èµ„æº</span><br><span class="hljs-keyword">except</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ‰“å¼€æ—¶å¼‚å¸¸&quot;</span>)<br></code></pre></td></tr></table></figure><ul><li>å¼•å‘å¼‚å¸¸<ul><li>ä½¿ç”¨<code>raise</code>å…³é”®å­—å¯ä»¥é€‰æ‹©åœ¨æ¡ä»¶å‘ç”Ÿæ—¶æŠ›å‡ºå¼‚å¸¸ã€‚</li><li>å¯å®šä¹‰è¦å¼•å‘çš„é”™è¯¯ç±»å‹ï¼ŒåŠæŠ›å‡ºå¼‚å¸¸æ—¶è¦æ‰“å°ç»™ç”¨æˆ·æŸ¥çœ‹åˆ°çš„æ–‡æœ¬å†…å®¹ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Python">x = -<span class="hljs-number">1</span><br><span class="hljs-keyword">if</span> x &lt; <span class="hljs-number">0</span>:                  <span class="hljs-comment"># å¦‚æœxå°äº0ï¼Œå¼•å‘å¼‚å¸¸å¹¶åœæ­¢ç¨‹åº</span><br>    <span class="hljs-keyword">raise</span> Exception(<span class="hljs-string">&quot;ä¸å…è®¸å°äºé›¶&quot;</span>)<br><br>y = <span class="hljs-string">&quot;Hi~&quot;</span><br><span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> <span class="hljs-built_in">type</span>(y) <span class="hljs-keyword">is</span> <span class="hljs-built_in">int</span>:     <span class="hljs-comment"># å¦‚æœyä¸æ˜¯æ•´æ•°ï¼Œå¼•å‘TypeErrorå¼‚å¸¸</span><br>    <span class="hljs-keyword">raise</span> TypeError(<span class="hljs-string">&quot;åªèƒ½è¾“å…¥æ•´æ•°&quot;</span>)<br></code></pre></td></tr></table></figure><h1 id="9-å‘½åè§„èŒƒ"><a href="#9-å‘½åè§„èŒƒ" class="headerlink" title="9 å‘½åè§„èŒƒ"></a>9 å‘½åè§„èŒƒ</h1><ul><li>å‘½åè§„èŒƒ<ul><li>Pythonçš„å‘½åè§„èŒƒéœ€è¦éµå¾ªPEP8æ ‡å‡†ï¼Œä½¿ç”¨è‰¯å¥½çš„ç¼–ç é£æ ¼ä¼šè®©ä»£ç æ›´å…·å¤‡å¯è¯»æ€§ã€‚</li><li>å‘½åå°½é‡ä½¿ç”¨å…¨æ‹¼å†™å•è¯ï¼Œéƒ¨åˆ†å¸¸ç”¨ç¼©å†™åˆ™ä½¿ç”¨çº¦å®šä¿—æˆçš„ç¼©å†™æ–¹å¼ï¼Œå¦‚numã€IDç­‰ã€‚</li></ul></li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Yaml"><span class="hljs-string">ç±»ï¼šå¤§é©¼å³°å‘½åï¼ŒClassName</span><br><span class="hljs-string">å¼‚å¸¸ï¼šå¤§é©¼å³°å‘½åï¼ŒExceptionName</span><br><br><span class="hljs-string">æ–‡ä»¶ï¼šè›‡å½¢å‘½åï¼Œfile_name</span><br><span class="hljs-string">æ¨¡å—ï¼šè›‡å½¢å‘½åï¼Œmodule_name</span><br><span class="hljs-string">åŒ…åï¼šè›‡å½¢å‘½åï¼Œpackage_name</span><br><span class="hljs-string">é¡¹ç›®ï¼šå¤§é©¼å³°å‘½åï¼ŒProjectName</span><br><br><span class="hljs-string">æ–¹æ³•ï¼šè›‡å½¢å‘½åï¼Œmethod_name</span><br><span class="hljs-string">å‡½æ•°ï¼šè›‡å½¢å‘½åï¼Œfunction_name</span><br><span class="hljs-string">å®ä¾‹ï¼šè›‡å½¢å‘½åï¼Œinstance_variable_name</span><br><br><span class="hljs-string">å±€éƒ¨å˜é‡ï¼šè›‡å½¢å‘½åï¼Œlocal_variable_name</span><br><span class="hljs-string">å…¨å±€å˜é‡ï¼šè›‡å½¢å‘½åï¼Œglobal_variable_name</span><br><span class="hljs-string">å‡½æ•°å‚æ•°ï¼šè›‡å½¢å‘½åï¼Œfunction_parameter_name</span><br><span class="hljs-string">å…¨å±€å¸¸é‡ï¼šè›‡å½¢å‘½å</span> <span class="hljs-string">+</span> <span class="hljs-string">å…¨å¤§å†™ï¼ŒGLOBAL_CONSTANT_NAME</span><br></code></pre></td></tr></table></figure><ul><li>ä¸‹åˆ’çº¿<ul><li>ä¸€ä¸ªå‰ç¼€ä¸‹åˆ’çº¿è¡¨ç¤ºç§æœ‰ï¼Œä¸€ä¸ªåç¼€ä¸‹åˆ’çº¿å¯é¿å…å…³é”®å­—å†²çªã€‚</li><li>ä»¥å•ä¸‹åˆ’çº¿å¼€å¤´<ul><li>ä»¥å•ä¸‹åˆ’çº¿å¼€å¤´çš„æ˜¯å¼±å†…éƒ¨ä½¿ç”¨æ ‡è¯†ï¼Œå¼•åŒ…æ—¶ä¸ä¼šå¯¼å…¥è¯¥å¯¹è±¡ã€‚</li><li>é€šå¸¸ç”¨äºæŒ‡ç¤ºä¸€ä¸ªç§æœ‰çš„å˜é‡æˆ–å‡½æ•°ï¼Œä½†æ˜¯ä¸ä¼šçœŸæ­£å˜ä¸ºç§æœ‰ã€‚</li><li>è€Œæ˜¯è¢«è§†ä¸ºéå…¬å¼€çš„ï¼Œå³ä¸è¯¥è¢«ç›´æ¥è®¿é—®æˆ–è°ƒç”¨çš„å˜é‡æˆ–å‡½æ•°ã€‚</li></ul></li><li>ä»¥åŒä¸‹åˆ’çº¿å¼€å¤´ï¼šæŒ‡ç¤ºä¸€ä¸ªç‰¹æ®Šçš„å˜é‡æˆ–å‡½æ•°ï¼Œä¼šè¢«è§£é‡Šå™¨é‡å‘½åï¼Œé¿å…ä¸å­ç±»ä¸­çš„åŒåå˜é‡æˆ–å‡½æ•°å‘ç”Ÿå†²çªã€‚</li><li>ä»¥åŒä¸‹åˆ’çº¿å¼€å¤´å’Œç»“å°¾ï¼šé€šå¸¸ç”¨äºæŒ‡ç¤ºä¸€ä¸ªç‰¹æ®Šçš„å˜é‡ï¼Œä¼šè¢«è§£é‡Šå™¨é‡å‘½åï¼Œé¿å…ä¸ç”¨æˆ·å®šä¹‰çš„å˜é‡å‘ç”Ÿå†²çªã€‚</li></ul></li></ul>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŸºç¡€è¯­æ³•</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python åŸºç¡€(ä¸€)</title>
    <link href="/2021/01/01/python/python01-python-ji-chu-yi/"/>
    <url>/2021/01/01/python/python01-python-ji-chu-yi/</url>
    
    <content type="html"><![CDATA[<p>ğŸ¦ Pythonç”±è·å…°æ•°å­¦å’Œè®¡ç®—æœºç§‘å­¦ç ”ç©¶å­¦ä¼šçš„Guido van Rossumäº1990å¹´ä»£åˆè®¾è®¡ï¼Œå¹¶äº1991å¹´å‘å¸ƒï¼Œæ˜¯è·¨å¹³å°è§£é‡Šå‹è„šæœ¬è¯­è¨€ã€‚</p><span id="more"></span><h1 id="1-è¯­æ³•"><a href="#1-è¯­æ³•" class="headerlink" title="1 è¯­æ³•"></a>1 è¯­æ³•</h1><ul><li>ç¼©è¿›<ul><li>ç¼©è¿›æŒ‡çš„æ˜¯ä»£ç è¡Œå¼€å¤´çš„ç©ºæ ¼ï¼Œä¾¿äºé˜…è¯»ï¼Œéå¸¸é‡è¦ã€‚</li><li>ä½¿ç”¨ç¼©è¿›è¡¨ç¤ºä»£ç å—ï¼Œå¦‚æœè·³è¿‡ç¼©è¿›ï¼Œè¿è¡Œå°†ä¼šè¿”å›ä¸€ä¸ªé”™è¯¯ã€‚</li><li>ç©ºæ ¼æ•°é‡ç”±ç¨‹åºå‘˜å†³å®šï¼Œæœ€å¸¸è§çš„æ˜¯Tabå››ä¸ªï¼Œæˆ–Tabä¸¤ä¸ªç©ºæ ¼ã€‚</li><li>åŒä¸ªä»£ç å—ä¸­å¿…é¡»ä½¿ç”¨ç›¸åŒæ•°é‡çš„ç©ºæ ¼ç¼©è¿›ï¼Œå¦åˆ™è¿”å›ä¸€ä¸ªé”™è¯¯ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">if</span> <span class="hljs-number">7</span> &gt; <span class="hljs-number">3</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;7 &gt; 3&quot;</span>)                          <span class="hljs-comment"># ä½¿ç”¨tabå››ä¸ªç©ºæ ¼çš„ç¼©è¿›</span><br></code></pre></td></tr></table></figure><ul><li>æ³¨é‡Š<ul><li>å•è¡Œæ³¨é‡Šï¼šä»¥<code>#</code>å¼€å¤´ã€‚</li><li>å¤šè¡Œæ³¨é‡Šï¼šä»¥<code>&quot;&quot;&quot;</code>æˆ–<code>&#39;&#39;&#39;</code>å¼€å¤´ï¼Œä»¥<code>&quot;&quot;&quot;</code>æˆ–<code>&#39;&#39;&#39;</code>ç»“å°¾ï¼Œå¿…é¡»é¦–å°¾æˆå¯¹ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;This is a comment.&quot;</span>)                 <span class="hljs-comment"># å•è¡Œæ³¨é‡Š</span><br><br><span class="hljs-string">&quot;&quot;&quot;                                         # å¤šè¡Œæ³¨é‡Š</span><br><span class="hljs-string">               ã€ŠåŠå­¦ã€‹Â· å­ŸéƒŠ</span><br><span class="hljs-string">å‡»çŸ³ä¹ƒæœ‰ç«ï¼Œä¸å‡»å…ƒæ— çƒŸã€‚äººå­¦å§‹çŸ¥é“ï¼Œä¸å­¦éè‡ªç„¶ã€‚</span><br><span class="hljs-string">ä¸‡äº‹é¡»å·±è¿ï¼Œä»–å¾—éæˆ‘è´¤ã€‚é’æ˜¥é¡»æ—©ä¸ºï¼Œå²‚èƒ½é•¿å°‘å¹´ã€‚</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h1 id="2-å˜é‡"><a href="#2-å˜é‡" class="headerlink" title="2 å˜é‡"></a>2 å˜é‡</h1><ul><li>å˜é‡<ul><li>å­˜å‚¨æ•°æ®å€¼çš„å®¹å™¨ï¼Œèµ‹å€¼æ—¶åˆ›å»ºï¼ŒPythonæ²¡æœ‰ç”¨äºå£°æ˜å˜é‡çš„å‘½ä»¤ã€‚</li><li>å˜é‡ä¸éœ€è¦ä»¥ä»»ä½•ç‰¹å®šç±»å‹è¿›è¡Œå£°æ˜ï¼Œç”šè‡³å¯ä»¥åœ¨è®¾ç½®åæ›´æ”¹ç±»å‹ï¼Œé€šè¿‡å¼ºåˆ¶è½¬æ¢æ›´æ”¹ã€‚</li><li>ä½¿ç”¨å‡½æ•°<code>type()</code>è·å–å˜é‡çš„æ•°æ®ç±»å‹ï¼Œä½¿ç”¨å•å¼•å·<code>&#39; &#39;</code>æˆ–åŒå¼•å·<code>&quot; &quot;</code>å£°æ˜å­—ç¬¦ä¸²å˜é‡ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs Python">x = <span class="hljs-number">1</span>                                       <span class="hljs-comment"># å˜é‡xè®¾ä¸ºintç±»å‹</span><br>x = <span class="hljs-string">&quot;A&quot;</span>                                     <span class="hljs-comment"># å˜é‡xæ›´æ”¹ä¸ºstrç±»å‹</span><br><span class="hljs-built_in">print</span>(x)<br><br>y = <span class="hljs-built_in">int</span>(<span class="hljs-number">3.5</span>)                                <span class="hljs-comment"># å¼ºåˆ¶è½¬æ¢å˜é‡yä¸ºintç±»å‹</span><br><span class="hljs-built_in">print</span>(y)<br><br>z = <span class="hljs-string">&quot;A&quot;</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(z))                              <span class="hljs-comment"># è·å–å˜é‡zçš„æ•°æ®ç±»å‹</span><br></code></pre></td></tr></table></figure><h2 id="2-1-å˜é‡å"><a href="#2-1-å˜é‡å" class="headerlink" title="2-1 å˜é‡å"></a>2-1 å˜é‡å</h2><ul><li>å˜é‡å<ul><li>å‘½åè§„åˆ™<ul><li>åŒºåˆ†å¤§å°å†™(ageã€Ageå’ŒAGEæ˜¯ä¸åŒçš„å˜é‡)ã€‚</li><li>å¿…é¡»ä»¥å­—æ¯æˆ–ä¸‹åˆ’çº¿å¼€å¤´ï¼Œä¸èƒ½ä»¥æ•°å­—å¼€å¤´ã€‚</li><li>åªèƒ½åŒ…å«å­—æ¯æ•°å­—å­—ç¬¦å’Œä¸‹åˆ’çº¿(Azã€0-9å’Œ_)ã€‚</li></ul></li><li>å‘½åæ–¹æ³•<ul><li>è›‡å½¢å‘½åæ³•ï¼Œæ¯ä¸ªå•è¯éƒ½ä»¥ä¸‹åˆ’çº¿å­—ç¬¦(_)åˆ†éš”ã€‚</li><li>å°é©¼å³°å‘½åæ³•ï¼Œé™¤é¦–å•è¯å­—æ¯å°å†™ï¼Œå…¶ä½™å•è¯éƒ½ä»¥å¤§å†™å­—æ¯å¼€å¤´ã€‚</li><li>å¤§é©¼å³°å‘½åæ³•ï¼Œåˆå«å¸•æ–¯å¡å‘½åæ³•ï¼Œæ¯ä¸ªå•è¯éƒ½ä»¥å¤§å†™å­—æ¯å¼€å¤´ã€‚</li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs Python">myname__ = <span class="hljs-string">&quot;A&quot;</span><br>my_name_ = <span class="hljs-string">&quot;B&quot;</span><br>_my_name = <span class="hljs-string">&quot;C&quot;</span><br>my__Name = <span class="hljs-string">&quot;D&quot;</span><br>__MyName = <span class="hljs-string">&quot;E&quot;</span><br><br>variable_name = <span class="hljs-string">&quot;F&quot;</span>                         <span class="hljs-comment"># è›‡å½¢å‘½å</span><br>variableNames = <span class="hljs-string">&quot;G&quot;</span>                         <span class="hljs-comment"># å°é©¼å³°å‘½å</span><br>VariableNames = <span class="hljs-string">&quot;H&quot;</span>                         <span class="hljs-comment"># å¤§é©¼å³°å‘½å</span><br></code></pre></td></tr></table></figure><h2 id="2-2-å¤šå€¼åˆ†é…"><a href="#2-2-å¤šå€¼åˆ†é…" class="headerlink" title="2-2 å¤šå€¼åˆ†é…"></a>2-2 å¤šå€¼åˆ†é…</h2><ul><li>å¤šå€¼åˆ†é…<ul><li>å…è®¸åœ¨ä¸€è¡Œä¸­ä¸ºå¤šä¸ªå˜é‡èµ‹å€¼ï¼Œä¹Ÿå¯åœ¨ä¸€è¡Œä¸­ä¸ºå¤šä¸ªå˜é‡åˆ†é…ç›¸åŒå€¼ã€‚</li><li>å¦‚æœæœ‰ä¸€ç»„åˆ—è¡¨æˆ–è€…å…ƒç»„ï¼Œå…è®¸å°†å€¼æå–åˆ°å˜é‡ä¸­ï¼Œè¯¥æ–¹æ³•ç§°ä¸ºæ‹†åŒ…ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python">x, y, z = <span class="hljs-string">&quot;Apple&quot;</span>, <span class="hljs-string">&quot;Grape&quot;</span>, <span class="hljs-string">&quot;Peach&quot;</span>        <span class="hljs-comment"># å¤šä¸ªå˜é‡èµ‹å€¼</span><br><span class="hljs-built_in">print</span>(x)<br><span class="hljs-built_in">print</span>(y)<br><span class="hljs-built_in">print</span>(z)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-----&quot;</span>)<br><br>x = y = z = <span class="hljs-string">&quot;Lemon&quot;</span>                        <span class="hljs-comment"># å¤šä¸ªå˜é‡åˆ†é…ç›¸åŒå€¼</span><br><span class="hljs-built_in">print</span>(x)<br><span class="hljs-built_in">print</span>(y)<br><span class="hljs-built_in">print</span>(z)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-----&quot;</span>)<br><br>fruits = [<span class="hljs-string">&quot;Apple&quot;</span>, <span class="hljs-string">&quot;Grape&quot;</span>, <span class="hljs-string">&quot;Peach&quot;</span>]<br>x, y, z = fruits                           <span class="hljs-comment"># æ‹†åŒ…</span><br><span class="hljs-built_in">print</span>(x)<br><span class="hljs-built_in">print</span>(y)<br><span class="hljs-built_in">print</span>(z)<br></code></pre></td></tr></table></figure><h2 id="2-3-è¾“å‡ºå˜é‡"><a href="#2-3-è¾“å‡ºå˜é‡" class="headerlink" title="2-3 è¾“å‡ºå˜é‡"></a>2-3 è¾“å‡ºå˜é‡</h2><ul><li>è¾“å‡ºå˜é‡<ul><li>ä½¿ç”¨å‡½æ•°<code>print()</code>è¾“å‡ºå¤šä¸ªå˜é‡ï¼Œé€—å·åˆ†éš”ï¼Œæ”¯æŒä¸åŒæ•°æ®ç±»å‹ã€‚</li><li>ä½¿ç”¨<code>+</code>è¿ç®—ç¬¦è¾“å‡ºå¤šä¸ªå˜é‡ï¼Œå¯¹äºæ•°å­—ï¼Œè¯¥å­—ç¬¦ç”¨äºæ•°å­¦è¿ç®—ç¬¦ã€‚</li><li>å¦‚æœå°è¯•ä½¿ç”¨<code>+</code>æ“ä½œç¬¦ç»„åˆå­—ç¬¦ä¸²å’Œæ•°å­—ï¼Œé‚£ä¹ˆå°†TypeErroræŠ¥é”™ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Python">x = <span class="hljs-string">&quot;Apple&quot;</span><br>y = <span class="hljs-string">&quot;Grape&quot;</span><br>z = <span class="hljs-string">&quot;Peach&quot;</span><br><span class="hljs-built_in">print</span>(x, y, z)<br><span class="hljs-built_in">print</span>(x + <span class="hljs-string">&quot; &quot;</span> + y + <span class="hljs-string">&quot; &quot;</span> + z)<br><br>x = <span class="hljs-number">2</span>                                      <span class="hljs-comment"># intç±»å‹</span><br>y = <span class="hljs-number">1</span><br><span class="hljs-built_in">print</span>(x + y)                               <span class="hljs-comment"># 2 + 1 = 3</span><br><br>x = <span class="hljs-string">&quot;2&quot;</span>                                    <span class="hljs-comment"># strç±»å‹</span><br>y = <span class="hljs-string">&quot;1&quot;</span><br><span class="hljs-built_in">print</span>(x + y)                               <span class="hljs-comment"># str(2) + str(1) = 21</span><br><br>x = <span class="hljs-number">1</span><br>y = <span class="hljs-string">&quot;A&quot;</span><br><span class="hljs-comment"># print(x + y)</span><br><span class="hljs-comment"># TypeError: unsupported operand type(s) for +: &#x27;int&#x27; and &#x27;str&#x27;.</span><br></code></pre></td></tr></table></figure><h2 id="2-4-å…¨å±€å˜é‡"><a href="#2-4-å…¨å±€å˜é‡" class="headerlink" title="2-4 å…¨å±€å˜é‡"></a>2-4 å…¨å±€å˜é‡</h2><ul><li>å…¨å±€å˜é‡<ul><li>å‡½æ•°å¤–åˆ›å»ºçš„å˜é‡ï¼Œæ¯ä¸ªäººéƒ½å¯ç”¨ï¼Œæ— è®ºæ˜¯å‡½æ•°å†…éƒ¨æˆ–å¤–éƒ¨ã€‚</li><li>å‡½æ•°å†…åˆ›å»ºçš„åŒåå˜é‡ï¼Œæ˜¯å±€éƒ¨å˜é‡ï¼Œåªèƒ½åœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨ã€‚</li><li>è‹¥å‡½æ•°å†…å¤–åˆ›å»ºåŒåå˜é‡ï¼Œå…¨å±€å˜é‡å°†ä¿æŒåŸæ ·ï¼Œå…¨å±€å¹¶å…·åŸå§‹å€¼ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Python">x = <span class="hljs-string">&quot;scripting language.&quot;</span>                  <span class="hljs-comment"># åœ¨å‡½æ•°å¤–éƒ¨åˆ›å»ºå˜é‡xï¼Œå¹¶åœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">func_one</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Python is a &quot;</span> + x)<br><br><br>func_one()<br>y = <span class="hljs-string">&quot;interpret language.&quot;</span>                  <span class="hljs-comment"># åœ¨å‡½æ•°å†…éƒ¨åˆ›å»ºå˜é‡yï¼Œä¸å…¨å±€å˜é‡yåŒå</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">func_two</span>():<br>    y = <span class="hljs-string">&quot;scripting language.&quot;</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Python is a &quot;</span> + y)<br><br><br>func_two()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Python is a &quot;</span> + y)<br></code></pre></td></tr></table></figure><h2 id="2-5-å…¨å±€å…³é”®å­—"><a href="#2-5-å…¨å±€å…³é”®å­—" class="headerlink" title="2-5 å…¨å±€å…³é”®å­—"></a>2-5 å…¨å±€å…³é”®å­—</h2><ul><li>å…¨å±€å…³é”®å­—<ul><li>åœ¨å‡½æ•°å†…éƒ¨åˆ›å»ºå…¨å±€å˜é‡ï¼Œä½¿ç”¨globalå…³é”®å­—ã€‚</li><li>è‹¥æ›´æ”¹å‡½æ•°å†…çš„å…¨å±€å˜é‡ï¼Œéœ€ä½¿ç”¨å…³é”®å­—å¼•ç”¨ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">func_one</span>():                            <span class="hljs-comment"># ä½¿ç”¨globalå…³é”®å­—ï¼Œåˆ™å˜é‡xå±äºå…¨å±€èŒƒå›´</span><br>    <span class="hljs-keyword">global</span> x<br>    x = <span class="hljs-string">&quot;scripting language.&quot;</span><br><br><br>func_one()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Python is a &quot;</span> + x)<br>y = <span class="hljs-string">&quot;scripting language.&quot;</span>                  <span class="hljs-comment"># æ›´æ”¹å‡½æ•°å†…çš„å…¨å±€å˜é‡å€¼ï¼Œä½¿ç”¨globalå¼•ç”¨è¯¥å˜é‡</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">func_two</span>():<br>    <span class="hljs-keyword">global</span> y<br>    y = <span class="hljs-string">&quot;interpret language.&quot;</span><br><br><br>func_two()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Python is a &quot;</span> + y)<br></code></pre></td></tr></table></figure><h1 id="3-è¿ç®—ç¬¦"><a href="#3-è¿ç®—ç¬¦" class="headerlink" title="3 è¿ç®—ç¬¦"></a>3 è¿ç®—ç¬¦</h1><ul><li>è¿ç®—ç¬¦<ul><li>ç®—æœ¯ï¼š<code>+</code>ã€<code>-</code>ã€<code>*</code>ã€<code>/</code>ã€<code>%</code>ã€<code>**</code>ã€<code>//</code>ã€‚</li><li>èµ‹å€¼ï¼š<code>=</code>ã€<code>+=</code>ã€<code>-=</code>ã€<code>*=</code>ã€<code>/=</code>ã€<code>%=</code>ã€<code>**=</code>ã€<code>//=</code>ã€<code>&amp;=</code>ã€<code>|=</code>ã€<code>^=</code>ã€<code>&gt;&gt;=</code>ã€<code>&lt;&lt;=</code>ã€‚</li><li>æ¯”è¾ƒï¼š<code>==</code>ã€<code>!=</code>ã€<code>&gt;</code>ã€<code>&lt;</code>ã€<code>&gt;=</code>ã€<code>&lt;=</code>ã€‚</li><li>é€»è¾‘ï¼š<code>and</code>ã€<code>or</code>ã€<code>not</code>ã€‚</li><li>èº«ä»½ï¼š<code>is</code>ã€<code>is not</code>ã€‚</li><li>æˆå‘˜ï¼š<code>in</code>ã€<code>not in</code>ã€‚</li><li>ä½è¿ç®—ï¼š<code>&amp;</code>ã€<code>|</code>ã€<code>^</code>ã€<code>~</code>ã€<code>&lt;&lt;</code>ã€<code>&gt;&gt;</code>ã€‚</li></ul></li></ul><h2 id="3-1-ç®—æœ¯"><a href="#3-1-ç®—æœ¯" class="headerlink" title="3-1 ç®—æœ¯"></a>3-1 ç®—æœ¯</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs Python">a, b = <span class="hljs-number">3</span>, <span class="hljs-number">2</span><br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot; a +  b = &quot;</span>, a + b)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot; a -  b = &quot;</span>, a - b)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot; a *  b = &quot;</span>, a * b)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot; a /  b = &quot;</span>, a / b)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot; a %  b = &quot;</span>, a % b)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot; a ** b = &quot;</span>, a ** b)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot; a // b = &quot;</span>, a // b)                <span class="hljs-comment"># å‘ä¸‹å–æ•´é™¤</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-a // b = &quot;</span>, -a // b)<br></code></pre></td></tr></table></figure><h2 id="3-2-èµ‹å€¼"><a href="#3-2-èµ‹å€¼" class="headerlink" title="3-2 èµ‹å€¼"></a>3-2 èµ‹å€¼</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs Python">a, b = <span class="hljs-number">3</span>, <span class="hljs-number">2</span><br><br>b += a                                     <span class="hljs-comment"># b = b + a</span><br><span class="hljs-built_in">print</span>(b)<br><br>b -= a                                     <span class="hljs-comment"># b = b - a</span><br><span class="hljs-built_in">print</span>(b)<br><br>b *= a                                     <span class="hljs-comment"># b = b * a</span><br><span class="hljs-built_in">print</span>(b)<br></code></pre></td></tr></table></figure><h2 id="3-3-æ¯”è¾ƒ"><a href="#3-3-æ¯”è¾ƒ" class="headerlink" title="3-3 æ¯”è¾ƒ"></a>3-3 æ¯”è¾ƒ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs Python">a, b = <span class="hljs-number">3</span>, <span class="hljs-number">2</span><br><br><span class="hljs-keyword">if</span> a &gt; b:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;a &gt; b&quot;</span>)<br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;a &lt; b&quot;</span>)<br></code></pre></td></tr></table></figure><h2 id="3-4-é€»è¾‘"><a href="#3-4-é€»è¾‘" class="headerlink" title="3-4 é€»è¾‘"></a>3-4 é€»è¾‘</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs Python">a, b = <span class="hljs-number">3</span>, <span class="hljs-number">2</span><br><br><span class="hljs-keyword">if</span> a <span class="hljs-keyword">and</span> b:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;aå’Œbä¸¤ä¸ªéƒ½ä¸ºTrue.&quot;</span>)<br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;aå’Œbæœ‰ä¸ªä¸ä¸ºTrue.&quot;</span>)<br></code></pre></td></tr></table></figure><h2 id="3-5-èº«ä»½"><a href="#3-5-èº«ä»½" class="headerlink" title="3-5 èº«ä»½"></a>3-5 èº«ä»½</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs Python">a, b = <span class="hljs-number">3</span>, <span class="hljs-number">2</span><br><br><span class="hljs-keyword">if</span> a <span class="hljs-keyword">is</span> b:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;aå’Œbæœ‰ç›¸åŒçš„æ ‡è¯†.&quot;</span>)<br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;aå’Œbæ²¡æœ‰ç›¸åŒæ ‡è¯†.&quot;</span>)<br></code></pre></td></tr></table></figure><h2 id="3-6-æˆå‘˜"><a href="#3-6-æˆå‘˜" class="headerlink" title="3-6 æˆå‘˜"></a>3-6 æˆå‘˜</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Python">a, b = <span class="hljs-number">3</span>, <span class="hljs-number">2</span><br>num_list = [<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>]<br><br><span class="hljs-keyword">if</span> a <span class="hljs-keyword">in</span> num_list:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å˜é‡aåœ¨ç»™å®šçš„åˆ—è¡¨num_listä¸­.&quot;</span>)<br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å˜é‡aä¸åœ¨ç»™å®šåˆ—è¡¨num_listä¸­.&quot;</span>)<br></code></pre></td></tr></table></figure><h2 id="3-7-ä½è¿ç®—"><a href="#3-7-ä½è¿ç®—" class="headerlink" title="3-7 ä½è¿ç®—"></a>3-7 ä½è¿ç®—</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs Python">a = <span class="hljs-number">3</span><br>c = a &lt;&lt; <span class="hljs-number">2</span>                                  <span class="hljs-comment"># 3=0000 0011</span><br><br><span class="hljs-built_in">print</span>(c)                                    <span class="hljs-comment"># å·¦ç§»ä¸¤ä½ï¼Œ0000 1100=12</span><br></code></pre></td></tr></table></figure><h1 id="4-æ•°æ®ç±»å‹"><a href="#4-æ•°æ®ç±»å‹" class="headerlink" title="4 æ•°æ®ç±»å‹"></a>4 æ•°æ®ç±»å‹</h1><ul><li>æ•°æ®ç±»å‹<ul><li>æ— ç±»å‹ï¼š<code>NoneType</code>ã€‚</li><li>æ•°å­—ç±»å‹ï¼š<code>int</code>ã€<code>float</code>ã€<code>complex</code>ã€‚</li><li>æ–‡æœ¬ç±»å‹ï¼š<code>str</code>ã€‚</li><li>å¸ƒå°”ç±»å‹ï¼š<code>bool</code>ã€‚</li><li>åºåˆ—ç±»å‹ï¼š<code>list</code>ã€<code>tuple</code>ã€<code>range</code>ã€‚</li><li>é›†åˆç±»å‹ï¼š<code>set</code>ã€<code>frozenset</code>ã€‚</li><li>æ˜ å°„ç±»å‹ï¼š<code>dict</code>ã€‚</li><li>äºŒè¿›åˆ¶ç±»å‹ï¼š<code>bytes</code>ã€<code>bytearray</code>ã€<code>memoryview</code>ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python">x = <span class="hljs-number">1</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(x))                              <span class="hljs-comment"># æ‰“å°å˜é‡xçš„æ•°æ®ç±»å‹</span><br><br>y = [<span class="hljs-string">&quot;Apple&quot;</span>, <span class="hljs-string">&quot;Grape&quot;</span>, <span class="hljs-string">&quot;Peach&quot;</span>]             <span class="hljs-comment"># è®¾ç½®æ•°æ®ç±»å‹</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(y))<br><br>z = <span class="hljs-built_in">dict</span>(name=<span class="hljs-string">&quot;Lydia&quot;</span>, age=<span class="hljs-number">24</span>)              <span class="hljs-comment"># ä½¿ç”¨æ„é€ å‡½æ•°è®¾ç½®ç‰¹å®šçš„æ•°æ®ç±»å‹</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(z))<br></code></pre></td></tr></table></figure><h2 id="4-1-æ•°å­—"><a href="#4-1-æ•°å­—" class="headerlink" title="4-1 æ•°å­—"></a>4-1 æ•°å­—</h2><ul><li>æ•°å­—<ul><li><code>int</code>ï¼šæ•´æ•°ï¼Œæ­£æ•°æˆ–è´Ÿæ•°ï¼Œæ²¡æœ‰å°æ•°ï¼Œé•¿åº¦ä¸å—é™åˆ¶ã€‚</li><li><code>float</code>ï¼šæµ®ç‚¹æ•°ï¼ŒåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªå°æ•°çš„æ­£æ•°æˆ–è´Ÿæ•°ï¼Œå¯æœ‰å¸¦eçš„ç§‘å­¦æ•°å­—è¡¨10çš„å¹‚ã€‚</li><li><code>complex</code>ï¼šå¤æ•°ï¼Œä½¿ç”¨<code>j</code>ä½œä¸ºè™šéƒ¨ï¼Œå¯ç”¨<code>complex(a, b)</code>è¡¨ç¤ºï¼Œä¹Ÿå¯ç”¨<code>a + bj</code>è¡¨ç¤ºã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Python">x = -<span class="hljs-number">1</span>                                     <span class="hljs-comment"># int</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(x))<br><br>y = <span class="hljs-number">12E4</span>                                   <span class="hljs-comment"># floatï¼Œ12*10000</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(y))<br><br>z = <span class="hljs-number">3</span> + <span class="hljs-number">5j</span>                                 <span class="hljs-comment"># complexï¼Œä¹Ÿå¯è¡¨ç¤ºä¸ºcomplex(3, 5)</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(z))<br><br><br><span class="hljs-keyword">import</span> random                              <span class="hljs-comment"># ä½¿ç”¨randomå†…ç½®æ¨¡å—ï¼Œç”¨äºç”Ÿæˆéšæœºæ•°</span><br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&lt;ç”Ÿæˆçš„éšæœºæ•°ï¼š&quot;</span> + <span class="hljs-built_in">str</span>(random.randrange(<span class="hljs-number">1000</span>, <span class="hljs-number">10000</span>)) + <span class="hljs-string">&quot;&gt;&quot;</span>)<br></code></pre></td></tr></table></figure><ul><li>æ„é€ ï¼šç±»å‹è½¬æ¢å°±æ˜¯ä½¿ç”¨æ„é€ å‡½æ•°å®Œæˆçš„ã€‚<ul><li><code>int()</code>ï¼šæ•´æ•°ã€æµ®ç‚¹æ•°æˆ–å­—ç¬¦ä¸²æ„é€ æ•´æ•°ã€‚</li><li><code>str()</code>ï¼šå„ç§æ•°æ®ç±»å‹éƒ½å¯ä»¥æ„é€ å­—ç¬¦ä¸²ã€‚</li><li><code>float()</code>ï¼šæ•´æ•°ã€æµ®ç‚¹æ•°æˆ–å­—ç¬¦ä¸²æ„é€ æµ®ç‚¹æ•°ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Python">x = -<span class="hljs-number">1</span>                                     <span class="hljs-comment"># int</span><br>y = <span class="hljs-number">12E4</span>                                   <span class="hljs-comment"># floatï¼Œ12*10000</span><br>z = <span class="hljs-number">3</span> + <span class="hljs-number">5j</span>                                 <span class="hljs-comment"># complexï¼Œä¹Ÿå¯è¡¨ç¤ºä¸ºcomplex(3, 5)</span><br><br>a = <span class="hljs-built_in">float</span>(x)                               <span class="hljs-comment"># intè½¬float</span><br><span class="hljs-built_in">print</span>(a)<br><br>b = <span class="hljs-built_in">int</span>(y)                                 <span class="hljs-comment"># floatè½¬int</span><br><span class="hljs-built_in">print</span>(b)<br><br><span class="hljs-comment"># c = int(z)                               # æ³¨æ„ï¼Œè¿™é‡Œä¸èƒ½å°†å¤æ•°è½¬æ¢æˆå…¶ä»–æ•°å­—ç±»å‹ï¼Œå¦åˆ™æŠ¥é”™</span><br><span class="hljs-comment"># print(c)                                 # TypeError: can&#x27;t convert complex to float(int).</span><br><br>d = <span class="hljs-built_in">complex</span>(x)                             <span class="hljs-comment"># intè½¬complex</span><br><span class="hljs-built_in">print</span>(d)<br></code></pre></td></tr></table></figure><h2 id="4-2-å­—ç¬¦ä¸²"><a href="#4-2-å­—ç¬¦ä¸²" class="headerlink" title="4-2 å­—ç¬¦ä¸²"></a>4-2 å­—ç¬¦ä¸²</h2><ul><li>å­—ç¬¦ä¸²<ul><li>Pythonä¸­çš„å­—ç¬¦ä¸²ç”¨å•å¼•å·<code>&#39;&#39;</code>æˆ–åŒå¼•å·<code>&quot;&quot;</code>æ‹¬èµ·æ¥ã€‚</li><li>å¯ä»¥ä½¿ç”¨ä¸‰ä¸ªå¼•å·<code>&#39;&#39;&#39;&#39;&#39;&#39;</code>å°†å¤šè¡Œå­—ç¬¦ä¸²åˆ†é…ç»™å˜é‡ã€‚</li><li>å­—ç¬¦ä¸²æ˜¯è¡¨ç¤ºUnicodeå­—ç¬¦çš„å­—èŠ‚æ•°ç»„ï¼Œæ²¡æœ‰<code>char</code>å­—ç¬¦æ•°æ®ç±»å‹ï¼Œå•ä¸ªå­—ç¬¦åªæ˜¯é•¿åº¦ä¸º1çš„å­—ç¬¦ä¸²ã€‚</li><li>æ–¹æ‹¬å·å¯ä»¥ç”¨æ¥è®¿é—®å­—ç¬¦ä¸²ä¸­çš„å…ƒç´ ï¼Œç”±äºå­—ç¬¦ä¸²æ˜¯æ•°ç»„ï¼Œå¯ä»¥é€šè¿‡<code>for</code>å¾ªç¯éå†å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs Python">s = <span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">ä¸é£åˆ™å·²ï¼Œä¸€é£å†²å¤©ã€‚</span><br><span class="hljs-string">ä¸é¸£åˆ™å·²ï¼Œä¸€é¸£æƒŠäººã€‚</span><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-built_in">print</span>(s)                                   <span class="hljs-comment"># æ¢è¡Œç¬¦æ’å…¥åˆ°ä¸ä»£ç ç›¸åŒçš„ä½ç½®</span><br><br>a = <span class="hljs-string">&quot;Apple&quot;</span><br><span class="hljs-built_in">print</span>(a[<span class="hljs-number">0</span>])                                <span class="hljs-comment"># è·å–ä½ç½®0çš„å­—ç¬¦ï¼Œå³ç¬¬ä¸€ä¸ªå­—ç¬¦çš„ä½ç½®</span><br><br><span class="hljs-keyword">for</span> b <span class="hljs-keyword">in</span> <span class="hljs-string">&quot;Grape&quot;</span>:<br>    <span class="hljs-built_in">print</span>(b)                               <span class="hljs-comment"># forå¾ªç¯éå†å•è¯Grapeä¸­çš„å­—æ¯</span><br><br>c = <span class="hljs-string">&quot;Hi!&quot;</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">len</span>(c))                              <span class="hljs-comment"># ä½¿ç”¨len()å‡½æ•°è·å–å­—ç¬¦ä¸²çš„é•¿åº¦</span><br><br>txt = <span class="hljs-string">&quot;The best things in life are free!&quot;</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;free&quot;</span> <span class="hljs-keyword">in</span> txt)                       <span class="hljs-comment"># å…³é”®å­—inï¼Œæ£€æŸ¥txtæ–‡æœ¬ä¸­æ˜¯å¦å­˜åœ¨å•è¯free</span><br><span class="hljs-keyword">if</span> <span class="hljs-string">&quot;free&quot;</span> <span class="hljs-keyword">in</span> txt:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å­˜åœ¨äºæ–‡æœ¬ä¸­&quot;</span>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;expensive&quot;</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> txt)              <span class="hljs-comment"># å…³é”®å­—not inï¼Œæ£€æŸ¥txtæ–‡æœ¬ä¸­æ˜¯å¦ä¸å­˜åœ¨å•è¯expensive</span><br><span class="hljs-keyword">if</span> <span class="hljs-string">&quot;expensive&quot;</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> txt:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ä¸å­˜åœ¨æ–‡æœ¬ä¸­&quot;</span>)<br></code></pre></td></tr></table></figure><h3 id="1-åˆ‡ç‰‡"><a href="#1-åˆ‡ç‰‡" class="headerlink" title="(1) åˆ‡ç‰‡"></a>(1) åˆ‡ç‰‡</h3><ul><li>ä½¿ç”¨åˆ‡ç‰‡è¯­æ³•è¿”å›ä¸€ç³»åˆ—å­—ç¬¦ã€‚</li><li>æŒ‡å®šä»¥å†’å·<code>:</code>åˆ†éš”çš„å¼€å§‹å’Œç»“æŸç´¢å¼•ï¼Œè¿”å›å­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†ã€‚</li><li>é€šè¿‡çœç•¥å¼€å§‹ç´¢å¼•ï¼Œåˆ‡ç‰‡èŒƒå›´ä¼šä»ç¬¬ä¸€ä¸ªå­—ç¬¦å¼€å§‹ï¼Œå³ä½ç½®0ã€‚</li><li>é€šè¿‡çœç•¥ç»“æŸç´¢å¼•ï¼Œåˆ‡ç‰‡èŒƒå›´å°†åˆ°è¾¾æœ«å°¾ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è´Ÿç´¢å¼•ä»å­—ç¬¦ä¸²æœ«å°¾å¼€å§‹åˆ‡ç‰‡ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs Python">a = <span class="hljs-string">&quot;Hello, World!&quot;</span>                         <span class="hljs-comment"># ç¬¬1ä¸ªå­—ç¬¦Hçš„ç´¢å¼•ä½ç½®æ˜¯0</span><br><br><span class="hljs-built_in">print</span>(a[<span class="hljs-number">2</span>: <span class="hljs-number">5</span>])                              <span class="hljs-comment"># è·å–ä½ç½®2åˆ°5çš„å­—ç¬¦ï¼Œä¸åŒ…æ‹¬5</span><br><span class="hljs-built_in">print</span>(a[: <span class="hljs-number">3</span>])                               <span class="hljs-comment"># è·å–ä½ç½®0åˆ°3çš„å­—ç¬¦ï¼Œä¸åŒ…æ‹¬3</span><br><span class="hljs-built_in">print</span>(a[<span class="hljs-number">10</span>:])                               <span class="hljs-comment"># è·å–ä½ç½®10åˆ°æœ€åçš„å­—ç¬¦ï¼ŒåŒ…æ‹¬10</span><br><span class="hljs-built_in">print</span>(a[-<span class="hljs-number">5</span>: -<span class="hljs-number">2</span>])                            <span class="hljs-comment"># è´Ÿç´¢å¼•ï¼šæœ«å°¾å­—ç¬¦!çš„ç´¢å¼•ä½ç½®æ˜¯0ï¼Œå¾€å·¦ä¾æ¬¡æ˜¯-1ï¼Œ-2...</span><br></code></pre></td></tr></table></figure><h3 id="2-æ ¼å¼åŒ–"><a href="#2-æ ¼å¼åŒ–" class="headerlink" title="(2) æ ¼å¼åŒ–"></a>(2) æ ¼å¼åŒ–</h3><ul><li>ä½¿ç”¨<code>+</code>è¿ç®—ç¬¦è¿æ¥æˆ–ç»„åˆä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œå¦‚æœç”¨äºè¿æ¥å­—ç¬¦ä¸²å’Œæ•°å­—ï¼Œå°†æŠ¥é”™ã€‚</li><li><code>format()</code>æ–¹æ³•æ¥å—ä¼ é€’çš„å‚æ•°ï¼Œæ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼Œå¯ä»¥ç”¨æ¥ç»„åˆå­—ç¬¦ä¸²å’Œæ•°å­—ã€‚<ul><li>è¯¥æ–¹æ³•æ¥å—æ— é™æ•°é‡çš„å‚æ•°ï¼Œå¹¶æ”¾ç½®åœ¨ç›¸åº”çš„å ä½ç¬¦ä¸­ã€‚</li><li>å¯é€šè¿‡ç´¢å¼•å·<code>&#123;num&#125;</code>ç¡®ä¿å°†å‚æ•°æ”¾ç½®åœ¨æ­£ç¡®çš„å ä½ç¬¦ä¸­ã€‚</li><li>ä½¿ç”¨å‘½åç´¢å¼•<code>&#123;name&#125;</code>ï¼Œä¼ é€’å‚æ•°å€¼æ—¶å¿…é¡»ä½¿ç”¨ç›¸åº”çš„å˜é‡å<code>name</code>ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs Python">x = <span class="hljs-string">&quot;Hello &quot;</span><br>y = <span class="hljs-string">&quot;World.&quot;</span><br>z = x + y                                  <span class="hljs-comment"># ä½¿ç”¨+è¿ç®—ç¬¦è¿æ¥</span><br><span class="hljs-built_in">print</span>(z)<br><br>age = <span class="hljs-number">24</span><br>txt = <span class="hljs-string">&quot;My name is Lydia, and I am &#123;&#125; years old.&quot;</span><br><span class="hljs-built_in">print</span>(txt.<span class="hljs-built_in">format</span>(age))                     <span class="hljs-comment"># ä½¿ç”¨format()æ ¼å¼åŒ–æ–¹æ³•</span><br><br>quantity = <span class="hljs-number">3</span><br>items_no = <span class="hljs-number">567</span><br>price_li = <span class="hljs-number">49.95</span><br>order = <span class="hljs-string">&quot;I want to pay &#123;&#125; dollars for &#123;&#125; pieces of item &#123;&#125;.&quot;</span><br><span class="hljs-built_in">print</span>(order.<span class="hljs-built_in">format</span>(quantity, items_no, price_li))<br>order = <span class="hljs-string">&quot;I want to pay &#123;2&#125; dollars for &#123;0&#125; pieces of item &#123;1&#125;.&quot;</span><br><span class="hljs-built_in">print</span>(order.<span class="hljs-built_in">format</span>(quantity, items_no, price_li))<br><br>price = <span class="hljs-number">49</span><br>txt = <span class="hljs-string">&quot;The price is &#123;:.6f&#125; dollars.&quot;</span><br><span class="hljs-built_in">print</span>(txt.<span class="hljs-built_in">format</span>(price))                   <span class="hljs-comment"># å°†ä»·æ ¼æ ¼å¼åŒ–ä¸ºå¸¦å…­ä½å°æ•°çš„æ•°å­—</span><br><br>order = <span class="hljs-string">&quot;I have a &#123;carname&#125;, it is a &#123;model&#125;.&quot;</span><br><span class="hljs-built_in">print</span>(order.<span class="hljs-built_in">format</span>(carname=<span class="hljs-string">&quot;Ford&quot;</span>, model=<span class="hljs-string">&quot;Mustang&quot;</span>))<br></code></pre></td></tr></table></figure><h3 id="3-å†…ç½®æ–¹æ³•"><a href="#3-å†…ç½®æ–¹æ³•" class="headerlink" title="(3) å†…ç½®æ–¹æ³•"></a>(3) å†…ç½®æ–¹æ³•</h3><ul><li><code>upper()</code>ï¼šä»¥å¤§å†™å½¢å¼è¿”å›å­—ç¬¦ä¸²ã€‚</li><li><code>lower()</code>ï¼šä»¥å°å†™å½¢å¼è¿”å›å­—ç¬¦ä¸²ã€‚</li><li><code>strip()</code>ï¼šåˆ é™¤å¼€å¤´æˆ–ç»“å°¾çš„ä»»ä½•ç©ºæ ¼ã€‚</li><li><code>replace()</code>ï¼šç”¨å¦ä¸€ä¸ªå­—ç¬¦ä¸²æ›¿æ¢å½“å‰å­—ç¬¦ä¸²ã€‚</li><li><code>split()</code>ï¼šè¿”å›ä¸€ä¸ªåˆ—è¡¨ï¼Œå…¶ä¸­æŒ‡å®šåˆ†éš”ç¬¦ä¹‹é—´çš„æ–‡æœ¬æˆä¸ºåˆ—è¡¨é¡¹ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Python">a = <span class="hljs-string">&quot; Hello, World!&quot;</span><br><br><span class="hljs-built_in">print</span>(a.upper())                            <span class="hljs-comment"># å¤§å†™å½¢å¼</span><br><span class="hljs-built_in">print</span>(a.lower())                            <span class="hljs-comment"># å°å†™å½¢å¼</span><br><span class="hljs-built_in">print</span>(a.strip())                            <span class="hljs-comment"># åˆ é™¤ç©ºæ ¼</span><br><span class="hljs-built_in">print</span>(a.replace(<span class="hljs-string">&quot;H&quot;</span>, <span class="hljs-string">&quot;J&quot;</span>))                  <span class="hljs-comment"># ç”¨Jæ›¿æ¢H</span><br><span class="hljs-built_in">print</span>(a.split(<span class="hljs-string">&quot;,&quot;</span>))                         <span class="hljs-comment"># ä½¿ç”¨é€—å·åˆ†éš”ç¬¦æ‹†åˆ†å­—ç¬¦ä¸²</span><br></code></pre></td></tr></table></figure><h3 id="4-è½¬ä¹‰å­—ç¬¦"><a href="#4-è½¬ä¹‰å­—ç¬¦" class="headerlink" title="(4) è½¬ä¹‰å­—ç¬¦"></a>(4) è½¬ä¹‰å­—ç¬¦</h3><ul><li>æƒ³åœ¨å­—ç¬¦ä¸²ä¸­æ’å…¥éæ³•å­—ç¬¦ï¼Œå¯ä»¥ä½¿ç”¨è½¬ä¹‰å­—ç¬¦<code>\</code>ï¼Œåè·Ÿæ’å…¥çš„éæ³•å­—ç¬¦å³å¯ã€‚</li><li>å¸¸è§çš„è½¬ä¹‰å­—ç¬¦<ul><li><code>\&#39;</code>(å•å¼•å·)ã€<code>\\</code>(åæ–œæ )ã€<code>\a</code>(å“é“ƒ)ã€<code>\n</code>(æ¢è¡Œ)ã€<code>\r</code>(å›è½¦)ã€<code>\ooo</code>(å…«è¿›åˆ¶)ã€‚</li><li><code>\v</code>(çºµå‘åˆ¶è¡¨ç¬¦)ã€<code>\t</code>(æ¨ªå‘åˆ¶è¡¨ç¬¦)ã€<code>\b</code>(é€€æ ¼ç¬¦)ã€<code>\f</code>(æ¢é¡µç¬¦)ã€<code>\xhh</code>(åå…­è¿›åˆ¶)ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs Python">txt = <span class="hljs-string">&quot;We are the so-called \&quot;Vikings\&quot; from the north.&quot;</span><br><br><span class="hljs-built_in">print</span>(txt)                                  <span class="hljs-comment"># è½¬ä¹‰åŒå¼•å·</span><br></code></pre></td></tr></table></figure><h2 id="4-3-å¸ƒå°”å€¼"><a href="#4-3-å¸ƒå°”å€¼" class="headerlink" title="4-3 å¸ƒå°”å€¼"></a>4-3 å¸ƒå°”å€¼</h2><ul><li>å¸ƒå°”å€¼<ul><li>åªè¡¨ç¤ºä¸º<code>True</code>æˆ–<code>False</code>ï¼Œè¿™ä¸¤ä¸ªå€¼ä¸­çš„å…¶ä¸­ä¸€ä¸ªã€‚</li><li>å‡½æ•°<code>bool()</code>å…è®¸è¯„ä¼°ä»»ä½•å€¼å¹¶è¿”å›<code>True</code>æˆ–<code>False</code>ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs Python">a = <span class="hljs-number">26</span><br>b = <span class="hljs-number">30</span><br><span class="hljs-keyword">if</span> b &gt; a:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;b &gt; a&quot;</span>)<br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;b &lt; a&quot;</span>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">bool</span>(<span class="hljs-number">135</span>))                            <span class="hljs-comment"># è¯„ä¼°ä¸€ä¸ªæ•°å­—</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">bool</span>(<span class="hljs-string">&quot;A&quot;</span>))                            <span class="hljs-comment"># è¯„ä¼°ä¸€ä¸ªå­—ç¬¦ä¸²</span><br></code></pre></td></tr></table></figure><h3 id="1-Trueå€¼"><a href="#1-Trueå€¼" class="headerlink" title="(1) Trueå€¼"></a>(1) Trueå€¼</h3><ul><li>ä»»ä½•æ•°å­—éƒ½æ˜¯Trueï¼Œ0é™¤å¤–ã€‚</li><li>ä»»ä½•å­—ç¬¦ä¸²éƒ½æ˜¯Trueï¼Œç©ºå­—ç¬¦ä¸²é™¤å¤–ã€‚</li><li>ä»»ä½•åˆ—è¡¨ã€å…ƒç»„ã€é›†åˆå’Œå­—å…¸éƒ½æ˜¯Trueï¼Œç©ºå€¼é™¤å¤–ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-built_in">print</span>(<span class="hljs-built_in">bool</span>(<span class="hljs-number">13579</span>))<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">bool</span>(<span class="hljs-string">&quot;abc&quot;</span>))<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">bool</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]))<br></code></pre></td></tr></table></figure><h3 id="2-Falseå€¼"><a href="#2-Falseå€¼" class="headerlink" title="(2) Falseå€¼"></a>(2) Falseå€¼</h3><ul><li>ç©ºå€¼ï¼Œä¾‹å¦‚<code>[]</code>ã€<code>()</code>ã€<code>&#123;&#125;</code>ã€<code>&quot;&quot;</code>ã€æ•°å­—<code>0</code>å’Œ<code>None</code>ï¼Œè¿˜æœ‰<code>False</code>æœ¬èº«ã€‚</li><li>ç”¨æˆ·è‡ªå®šä¹‰ç±»å‹çš„å¯¹è±¡<ul><li>å¦‚æœç±»å®šä¹‰äº†<code>__len__()</code>æ–¹æ³•ï¼Œå¹¶è¿”å›0æˆ–Falseï¼Œåˆ™è¾“å‡ºFalseå€¼ã€‚</li><li>å¦‚æœç±»åŒæ—¶å®šä¹‰<code>__len__()</code>å’Œ<code>__bool__()</code>æ–¹æ³•ï¼Œåˆ™è¾“å‡ºå‚è€ƒ<code>__bool__()</code>çš„è¿”å›å€¼ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-built_in">print</span>(<span class="hljs-built_in">bool</span>(<span class="hljs-number">0</span>))<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">bool</span>(<span class="hljs-literal">None</span>))<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">bool</span>(<span class="hljs-literal">False</span>))<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClassA</span>():<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__len__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span><br><br><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">bool</span>(MyClassA()))                    <span class="hljs-comment"># å®šä¹‰äº†__len__()æ–¹æ³•ï¼Œå¹¶è¿”å›0</span><br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClassB</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__len__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;B.__len__()&quot;</span>)<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__bool__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;B.__bool__()&quot;</span>)<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;True&quot;</span> <span class="hljs-keyword">if</span> MyClassB() <span class="hljs-keyword">else</span> <span class="hljs-string">&quot;False&quot;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-built_in">bool</span>(MyClassB()))                <span class="hljs-comment"># åŒæ—¶å®šä¹‰äº†__len__()å’Œ__bool__()æ–¹æ³•</span><br></code></pre></td></tr></table></figure><h3 id="3-è¿”å›æƒ…å†µ"><a href="#3-è¿”å›æƒ…å†µ" class="headerlink" title="(3) è¿”å›æƒ…å†µ"></a>(3) è¿”å›æƒ…å†µ</h3><ul><li>åˆ›å»ºè¿”å›å¸ƒå°”å€¼çš„å‡½æ•°ï¼Œå¯è¿”å›å¸ƒå°”å€¼ã€‚</li><li>è¿”å›å¸ƒå°”å€¼çš„å†…ç½®å‡½æ•°ï¼š<code>isinstance()</code>ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">my_fun</span>():<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br><br><br><span class="hljs-built_in">print</span>(my_fun())                             <span class="hljs-comment"># åˆ›å»ºè¿”å›å¸ƒå°”å€¼çš„å‡½æ•°</span><br><br>x = <span class="hljs-number">24</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">isinstance</span>(x, <span class="hljs-built_in">int</span>))                   <span class="hljs-comment"># æ£€æŸ¥å¯¹è±¡æ˜¯å¦ä¸ºintæ•´æ•°</span><br></code></pre></td></tr></table></figure><h2 id="4-4-åˆ—è¡¨"><a href="#4-4-åˆ—è¡¨" class="headerlink" title="4-4 åˆ—è¡¨"></a>4-4 åˆ—è¡¨</h2><ul><li>åˆ—è¡¨<ul><li>ç”¨äºå°†å¤šä¸ªé¡¹ç›®å­˜å‚¨åœ¨å•ä¸ªå˜é‡ä¸­ï¼Œä½¿ç”¨æ–¹æ‹¬å·<code>[]</code>æ¥åˆ›å»ºã€‚</li><li>åˆ—è¡¨é¡¹æ˜¯æœ‰åºå¯å˜çš„ï¼Œä¸”å…è®¸é‡å¤å€¼ï¼Œç´¢å¼•æ—¶ç¬¬ä¸€é¡¹ä¸º<code>[0]</code>ã€‚</li><li>åˆ—è¡¨é•¿åº¦ä½¿ç”¨<code>len()</code>å‡½æ•°è®¡ç®—ï¼Œåˆ—è¡¨é¡¹å¯ä»¥æ˜¯ä»»ä½•æ•°æ®ç±»å‹ã€‚</li><li>åˆ—è¡¨çš„æ•°æ®ç±»å‹ä¸º<code>&lt;class &#39;list&#39;&gt;</code>ï¼Œä½¿ç”¨<code>list()</code>æ„é€ å‡½æ•°åˆ›å»ºæ–°åˆ—è¡¨ã€‚</li><li>å››ç§é›†åˆæ•°æ®ç±»å‹<ul><li>listï¼šåˆ—è¡¨ï¼Œæœ‰åºä¸”å¯å˜çš„é›†åˆï¼Œå…è®¸é‡å¤æˆå‘˜ã€‚</li><li>tupleï¼šå…ƒç»„ï¼Œæœ‰åºä¸å¯å˜çš„é›†åˆï¼Œå…è®¸é‡å¤æˆå‘˜ã€‚</li><li>setï¼šé›†åˆï¼Œæ— åºä¸”ä¸å¯å˜çš„é›†åˆ(å¯åˆ é™¤æˆ–æ·»åŠ å…ƒç´ )ï¼Œæ— ç´¢å¼•ï¼Œä¸å…è®¸é‡å¤æˆå‘˜ã€‚</li><li>dictï¼šå­—å…¸ï¼Œæœ‰åºä¸”å¯å˜çš„é›†åˆ(3.7ç‰ˆæœ¬å¼€å§‹æœ‰åºï¼Œä¹‹å‰æ— åº)ï¼Œä¸å…è®¸é‡å¤æˆå‘˜ã€‚</li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs Python">mylist = [<span class="hljs-string">&quot;Apple&quot;</span>, <span class="hljs-string">&quot;Grape&quot;</span>]<br><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">len</span>(mylist))                         <span class="hljs-comment"># è·å–åˆ—è¡¨é•¿åº¦</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(mylist))                        <span class="hljs-comment"># æŸ¥çœ‹åˆ—è¡¨çš„æ•°æ®ç±»å‹</span><br><br>list1 = [<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>]                    <span class="hljs-comment"># åˆ—è¡¨é¡¹å¯ä»¥æ˜¯æ•´æ•°ã€å¸ƒå°”æ•°æ®ç­‰ç±»å‹</span><br>list2 = [<span class="hljs-literal">True</span>, <span class="hljs-literal">False</span>, <span class="hljs-literal">False</span>]<br>list3 = [<span class="hljs-string">&quot;abc&quot;</span>, <span class="hljs-number">123</span>, <span class="hljs-literal">True</span>, <span class="hljs-string">&quot;ABC&quot;</span>]<br>list4 = <span class="hljs-built_in">list</span>((<span class="hljs-string">&quot;a&quot;</span>, <span class="hljs-string">&quot;b&quot;</span>, <span class="hljs-string">&quot;c&quot;</span>))              <span class="hljs-comment"># list()å‡½æ•°åˆ›å»ºæ–°åˆ—è¡¨</span><br><span class="hljs-built_in">print</span>(list4)<br></code></pre></td></tr></table></figure><h3 id="1-è®¿é—®è¡¨é¡¹"><a href="#1-è®¿é—®è¡¨é¡¹" class="headerlink" title="(1) è®¿é—®è¡¨é¡¹"></a>(1) è®¿é—®è¡¨é¡¹</h3><ul><li>é€šè¿‡ç´¢å¼•å·æ¥è®¿é—®åˆ—è¡¨é¡¹ï¼Œç¬¬ä¸€é¡¹çš„ç´¢å¼•ä¸º0ã€‚</li><li>è´Ÿç´¢å¼•ä»æœ«å°¾å¼€å§‹ï¼Œæœ€åä¸€é¡¹æ˜¯-1ï¼Œå€’æ•°ç¬¬äºŒé¡¹æ˜¯-2ï¼Œä»¥æ­¤ç±»æ¨ã€‚</li><li>æŒ‡å®šå¼€å§‹å’Œç»“æŸä½ç½®æ¥æŒ‡å®šç´¢å¼•èŒƒå›´ï¼Œè¿”å›å€¼å°†æ˜¯åŒ…å«æŒ‡å®šé¡¹ç›®çš„æ–°åˆ—è¡¨ã€‚</li><li>çœç•¥èµ·å§‹å€¼ï¼ŒèŒƒå›´å°†ä»ç¬¬ä¸€é¡¹å¼€å§‹ï¼Œçœç•¥ç»“æŸå€¼ï¼ŒèŒƒå›´å°†ç»§ç»­åˆ°åˆ—è¡¨æœ«å°¾ã€‚</li><li>ä»åˆ—è¡¨æœ«å°¾å¼€å§‹ç´¢å¼•éœ€æŒ‡å®šè´Ÿç´¢å¼•ï¼Œä½¿ç”¨<code>in</code>å…³é”®å­—ç¡®å®šåˆ—è¡¨ä¸­æ˜¯å¦å­˜åœ¨æŒ‡å®šé¡¹ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs Python">mylist = [<span class="hljs-string">&quot;Apple&quot;</span>, <span class="hljs-string">&quot;Grape&quot;</span>, <span class="hljs-string">&quot;Peach&quot;</span>]<br><span class="hljs-built_in">print</span>(mylist[<span class="hljs-number">1</span>])                           <span class="hljs-comment"># Grape</span><br><span class="hljs-built_in">print</span>(mylist[-<span class="hljs-number">1</span>])                          <span class="hljs-comment"># è´Ÿç´¢å¼•æœ€åä¸€é¡¹Peach</span><br><span class="hljs-built_in">print</span>(mylist[<span class="hljs-number">0</span>: <span class="hljs-number">2</span>])                        <span class="hljs-comment"># èŒƒå›´ä»0å¼€å§‹ï¼Œåˆ°2ç»“æŸï¼Œä¸åŒ…æ‹¬2</span><br><span class="hljs-built_in">print</span>(mylist[: <span class="hljs-number">2</span>])                         <span class="hljs-comment"># çœç•¥èµ·å§‹å€¼ï¼ŒèŒƒå›´ä»0åˆ°2ï¼Œä¸åŒ…æ‹¬2</span><br><span class="hljs-built_in">print</span>(mylist[<span class="hljs-number">1</span>:])                          <span class="hljs-comment"># çœç•¥ç»“æŸå€¼ï¼ŒèŒƒå›´ä»1åˆ°æœ«å°¾ç»“æŸä½ç½®</span><br><span class="hljs-built_in">print</span>(mylist[-<span class="hljs-number">2</span>: -<span class="hljs-number">1</span>])                      <span class="hljs-comment"># èŒƒå›´ä»-1åˆ°-2ï¼Œä¸åŒ…æ‹¬-1ï¼Œå³Grape</span><br><br><span class="hljs-keyword">if</span> <span class="hljs-string">&quot;Apple&quot;</span> <span class="hljs-keyword">in</span> mylist:                      <span class="hljs-comment"># ç¡®å®šmyliståˆ—è¡¨ä¸­æ˜¯å¦å­˜åœ¨æŒ‡å®šé¡¹Apple</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Yes, &#x27;Apple&#x27; is in the fruits list.&quot;</span>)<br></code></pre></td></tr></table></figure><h3 id="2-æ›´æ”¹è¡¨é¡¹"><a href="#2-æ›´æ”¹è¡¨é¡¹" class="headerlink" title="(2) æ›´æ”¹è¡¨é¡¹"></a>(2) æ›´æ”¹è¡¨é¡¹</h3><ul><li>æ›´æ”¹ç‰¹å®šé¡¹ç›®çš„å€¼ï¼Œéœ€è¦å‚è€ƒç´¢å¼•å·ã€‚</li><li>æ›´æ”¹ç‰¹å®šèŒƒå›´å†…é¡¹ç›®çš„å€¼<ul><li>ä½¿ç”¨æ–°å€¼å®šä¹‰ä¸€ä¸ªåˆ—è¡¨ï¼Œå¹¶å‚è€ƒè¦æ’å…¥æ–°å€¼çš„ç´¢å¼•å·èŒƒå›´ã€‚</li><li>æ’å…¥çš„é¡¹ç›®å¤šäºæ›¿æ¢çš„é¡¹ç›®ï¼Œåˆ™æ–°é¡¹ç›®å°†æ’å…¥æŒ‡å®šçš„ä½ç½®ï¼Œå…¶ä½™é¡¹ç›®å°†ç›¸åº”ç§»åŠ¨ã€‚</li><li>æ’å…¥çš„é¡¹ç›®å°‘äºæ›¿æ¢çš„é¡¹ç›®ï¼Œåˆ™æ–°é¡¹ç›®å°†æ’å…¥æŒ‡å®šçš„ä½ç½®ï¼Œå…¶ä½™é¡¹ç›®å°†ç›¸åº”ç§»åŠ¨ã€‚</li><li>å½“æ’å…¥çš„é¡¹ç›®æ•°å’Œæ›¿æ¢çš„é¡¹ç›®æ•°ä¸åŒ¹é…æ—¶ï¼Œåˆ—è¡¨çš„é•¿åº¦ä¼šå‘ç”Ÿæ”¹å˜ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs Python">mylist = [<span class="hljs-string">&quot;Apple&quot;</span>, <span class="hljs-string">&quot;Grape&quot;</span>, <span class="hljs-string">&quot;Peach&quot;</span>]<br>mylist[<span class="hljs-number">1</span>] = <span class="hljs-string">&quot;Lemon&quot;</span>                         <span class="hljs-comment"># æ›´æ”¹é¡¹ç›®å€¼</span><br><span class="hljs-built_in">print</span>(mylist)<br><br>mylist[<span class="hljs-number">1</span>: <span class="hljs-number">2</span>] = [<span class="hljs-string">&quot;Mango&quot;</span>, <span class="hljs-string">&quot;Olive&quot;</span>]           <span class="hljs-comment"># æ›´æ”¹é¡¹ç›®å€¼èŒƒå›´ï¼Œæ’å…¥çš„é¡¹ç›®å¤šäºæ›¿æ¢çš„é¡¹ç›®</span><br><span class="hljs-built_in">print</span>(mylist)<br><br>mylist[<span class="hljs-number">1</span>: <span class="hljs-number">3</span>] = [<span class="hljs-string">&quot;Grape&quot;</span>]                    <span class="hljs-comment"># æ’å…¥çš„é¡¹ç›®å°‘äºæ›¿æ¢çš„é¡¹ç›®ï¼Œå°†ç¬¬2å’Œç¬¬3ä¸ªå€¼æ›¿æ¢ä¸º1ä¸ªå€¼</span><br><span class="hljs-built_in">print</span>(mylist)<br></code></pre></td></tr></table></figure><h3 id="3-æ·»åŠ è¡¨é¡¹"><a href="#3-æ·»åŠ è¡¨é¡¹" class="headerlink" title="(3) æ·»åŠ è¡¨é¡¹"></a>(3) æ·»åŠ è¡¨é¡¹</h3><ul><li><code>append()</code>ï¼šå°†é¡¹ç›®æ·»åŠ åˆ°åˆ—è¡¨çš„æœ«å°¾ã€‚</li><li><code>insert()</code>ï¼šåœ¨æŒ‡å®šç´¢å¼•å¤„æ’å…¥åˆ—è¡¨é¡¹ã€‚</li><li><code>extend()</code><ul><li>å°†å¦ä¸€ä¸ªåˆ—è¡¨ä¸­çš„å…ƒç´ é™„åŠ åˆ°å½“å‰åˆ—è¡¨ï¼Œå…ƒç´ ä¼šè¢«æ·»åŠ åˆ°åˆ—è¡¨çš„æœ«å°¾ã€‚</li><li>é™„åŠ åˆ—è¡¨éå¿…é¡»ï¼Œè¿˜å¯æ·»åŠ ä»»ä½•å¯è¿­ä»£å¯¹è±¡ï¼Œä¾‹å¦‚å…ƒç»„ã€é›†åˆæˆ–å­—å…¸ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python">mylist = [<span class="hljs-string">&quot;Apple&quot;</span>, <span class="hljs-string">&quot;Grape&quot;</span>, <span class="hljs-string">&quot;Peach&quot;</span>]<br>mylist.append(<span class="hljs-string">&quot;Lemon&quot;</span>)                     <span class="hljs-comment"># å°†Lemonæ·»åŠ åˆ°åˆ—è¡¨æœ«å°¾</span><br><span class="hljs-built_in">print</span>(mylist)<br><br>mylist.insert(<span class="hljs-number">1</span>, <span class="hljs-string">&quot;Mango&quot;</span>)                  <span class="hljs-comment"># æ’å…¥Mangoä½œä¸ºç¬¬äºŒé¡¹</span><br><span class="hljs-built_in">print</span>(mylist)<br><br>tropical = [<span class="hljs-string">&quot;Mango&quot;</span>, <span class="hljs-string">&quot;Olive&quot;</span>]<br>mylist.extend(tropical)                    <span class="hljs-comment"># æ·»åŠ tropicalå…ƒç´ åˆ°myliståˆ—è¡¨</span><br><span class="hljs-built_in">print</span>(mylist)<br><br>mytuple = (<span class="hljs-string">&quot;Apple&quot;</span>, <span class="hljs-string">&quot;Olive&quot;</span>)<br>mylist.extend(mytuple)                     <span class="hljs-comment"># æ·»åŠ å…ƒç»„çš„å…ƒç´ åˆ°myliståˆ—è¡¨ä¸­</span><br><span class="hljs-built_in">print</span>(mylist)<br></code></pre></td></tr></table></figure><h3 id="4-åˆ é™¤è¡¨é¡¹"><a href="#4-åˆ é™¤è¡¨é¡¹" class="headerlink" title="(4) åˆ é™¤è¡¨é¡¹"></a>(4) åˆ é™¤è¡¨é¡¹</h3><ul><li><code>remove()</code>ï¼šåˆ é™¤æŒ‡å®šçš„é¡¹ç›®ã€‚</li><li><code>pop()</code>ï¼šåˆ é™¤æŒ‡å®šçš„ç´¢å¼•ï¼Œè‹¥ä¸æŒ‡å®šç´¢å¼•ï¼Œåˆ™åˆ é™¤æœ€åä¸€é¡¹ã€‚</li><li>ä½¿ç”¨<code>del</code>å…³é”®å­—å¯ä»¥åˆ é™¤æŒ‡å®šçš„ç´¢å¼•ï¼Œä¹Ÿå¯ä»¥å®Œå…¨åˆ é™¤åˆ—è¡¨ã€‚</li><li><code>clear()</code>ï¼šæ¸…ç©ºåˆ—è¡¨ï¼Œè¯¥åˆ—è¡¨ä»ç„¶å­˜åœ¨ï¼Œä½†åˆ—è¡¨ä¸­æ²¡æœ‰å†…å®¹ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python">mylist = [<span class="hljs-string">&quot;Apple&quot;</span>, <span class="hljs-string">&quot;Grape&quot;</span>, <span class="hljs-string">&quot;Peach&quot;</span>, <span class="hljs-string">&quot;Lemon&quot;</span>, <span class="hljs-string">&quot;Mango&quot;</span>, <span class="hljs-string">&quot;Olive&quot;</span>]<br>mylist.remove(<span class="hljs-string">&quot;Grape&quot;</span>)                     <span class="hljs-comment"># åˆ é™¤Grape</span><br><span class="hljs-built_in">print</span>(mylist)<br><br>mylist.pop(<span class="hljs-number">1</span>)                              <span class="hljs-comment"># åˆ é™¤ç¬¬äºŒé¡¹</span><br><span class="hljs-built_in">print</span>(mylist)<br><br>mylist.pop()                               <span class="hljs-comment"># åˆ é™¤æœ€åä¸€é¡¹</span><br><span class="hljs-built_in">print</span>(mylist)<br><br><span class="hljs-keyword">del</span> mylist[<span class="hljs-number">0</span>]                              <span class="hljs-comment"># åˆ é™¤ç¬¬ä¸€é¡¹</span><br><span class="hljs-built_in">print</span>(mylist)<br><span class="hljs-keyword">del</span> mylist                                 <span class="hljs-comment"># åˆ é™¤æ•´ä¸ªåˆ—è¡¨ï¼Œmylistæ­¤æ—¶ä¸å­˜åœ¨äº†</span><br><br>mylist = [<span class="hljs-string">&quot;Apple&quot;</span>, <span class="hljs-string">&quot;Grape&quot;</span>]<br>mylist.clear()                             <span class="hljs-comment"># æ¸…é™¤åˆ—è¡¨å†…å®¹</span><br><span class="hljs-built_in">print</span>(mylist)<br></code></pre></td></tr></table></figure><h3 id="5-éå†è¡¨é¡¹"><a href="#5-éå†è¡¨é¡¹" class="headerlink" title="(5) éå†è¡¨é¡¹"></a>(5) éå†è¡¨é¡¹</h3><ul><li>ä½¿ç”¨forå¾ªç¯å¯ä»¥éå†åˆ—è¡¨é¡¹ã€‚</li><li>è¿˜å¯ä»¥é€šè¿‡å¼•ç”¨ç´¢å¼•å·éå†åˆ—è¡¨é¡¹ï¼Œä½¿ç”¨<code>range()</code>å’Œ<code>len()</code>å‡½æ•°åˆ›å»ºåˆé€‚çš„è¿­ä»£å™¨ã€‚</li><li>ä½¿ç”¨whileå¾ªç¯éå†åˆ—è¡¨é¡¹ï¼Œ<code>len()</code>å‡½æ•°ç¡®å®šåˆ—è¡¨çš„é•¿åº¦ï¼Œä»0å¼€å§‹é€šè¿‡ç´¢å¼•å¾ªç¯éå†ã€‚</li><li>è¿˜å¯ä»¥ä½¿ç”¨åˆ—è¡¨æ¨å¯¼å¼(List Comprehension)è¿›è¡Œå¾ªç¯éå†ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python">mylist = [<span class="hljs-string">&quot;Apple&quot;</span>, <span class="hljs-string">&quot;Grape&quot;</span>, <span class="hljs-string">&quot;Peach&quot;</span>]<br><br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> mylist:                           <span class="hljs-comment"># forå¾ªç¯éå†</span><br>    <span class="hljs-built_in">print</span>(x)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-----&quot;</span>)<br><br><span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(mylist)):<br>    <span class="hljs-built_in">print</span>(mylist[y])                       <span class="hljs-comment"># ç´¢å¼•å·éå†</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-----&quot;</span>)<br><br>z = <span class="hljs-number">0</span><br><span class="hljs-keyword">while</span> z &lt; <span class="hljs-built_in">len</span>(mylist):                     <span class="hljs-comment"># whileå¾ªç¯éå†</span><br>    <span class="hljs-built_in">print</span>(mylist[z])<br>    z = z + <span class="hljs-number">1</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-----&quot;</span>)<br><br>[<span class="hljs-built_in">print</span>(i) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> mylist]                 <span class="hljs-comment"># åˆ—è¡¨æ¨å¯¼å¼å¾ªç¯éå†</span><br></code></pre></td></tr></table></figure><h3 id="6-åˆ—è¡¨æ¨å¯¼"><a href="#6-åˆ—è¡¨æ¨å¯¼" class="headerlink" title="(6) åˆ—è¡¨æ¨å¯¼"></a>(6) åˆ—è¡¨æ¨å¯¼</h3><ul><li>è¯­æ³•ï¼š<code>newlist = [expression for item in iterable if condition == True]</code>ã€‚</li><li>è¿”å›å€¼æ˜¯ä¸€ä¸ªæ–°åˆ—è¡¨ï¼Œä¿æŒæ—§åˆ—è¡¨ä¸å˜ã€‚</li><li><code>condition</code>ï¼šæ¡ä»¶æ˜¯è¿‡æ»¤å™¨ï¼Œåªæ¥å—æ¡ä»¶ä¸ºTrueçš„é¡¹ï¼Œå¯é€‰é¡¹ï¼Œå¯çœç•¥ã€‚</li><li><code>iterable</code>ï¼šè¿­ä»£å¯¹è±¡å¯ä»¥æ˜¯ä»»ä½•å¯è¿­ä»£å¯¹è±¡ï¼Œä¾‹å¦‚åˆ—è¡¨ã€å…ƒç»„æˆ–é›†åˆç­‰ã€‚</li><li><code>expression</code>ï¼šè¡¨è¾¾å¼æ˜¯è¿­ä»£ä¸­çš„å½“å‰é¡¹ï¼Œä½†ä¹Ÿæ˜¯ç»“æœï¼Œå¯ä½œä¸ºæ“çºµç»“æœçš„æ–¹å¼åŒ…å«æ¡ä»¶ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs Python">fruits = [<span class="hljs-string">&quot;Apple&quot;</span>, <span class="hljs-string">&quot;Grape&quot;</span>, <span class="hljs-string">&quot;Peach&quot;</span>]<br><br>mylist = [x <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> fruits <span class="hljs-keyword">if</span> x != <span class="hljs-string">&quot;Apple&quot;</span>]<br><span class="hljs-built_in">print</span>(mylist)                              <span class="hljs-comment"># åªæ¥å—æ¡ä»¶ä¸æ˜¯Appleçš„ç‰©å“</span><br><br>mylist = [x <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> fruits]               <span class="hljs-comment"># æ¡ä»¶å¯é€‰</span><br><span class="hljs-built_in">print</span>(mylist)<br><br>mylist = [x <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">9</span>)]             <span class="hljs-comment"># range()å‡½æ•°åˆ›å»ºä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡</span><br><span class="hljs-built_in">print</span>(mylist)<br><br>mylist = [x <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">20</span>) <span class="hljs-keyword">if</span> x &lt; <span class="hljs-number">9</span>]   <span class="hljs-comment"># åŠ äº†â€œåªæ¥å—å°äº9â€çš„åˆ¤æ–­æ¡ä»¶</span><br><span class="hljs-built_in">print</span>(mylist)<br><br>mylist = [x.upper() <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> fruits]       <span class="hljs-comment"># å°†æ–°åˆ—è¡¨ä¸­çš„å€¼è®¾ç½®ä¸ºå¤§å†™</span><br><span class="hljs-built_in">print</span>(mylist)<br><br>mylist = [x <span class="hljs-keyword">if</span> x != <span class="hljs-string">&quot;Grape&quot;</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&quot;Lemon&quot;</span> <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> fruits]<br><span class="hljs-built_in">print</span>(mylist)                              <span class="hljs-comment"># å°†Grapeæ›¿æ¢ä¸ºLemon</span><br></code></pre></td></tr></table></figure><h3 id="7-è¡¨å€¼æ’åº"><a href="#7-è¡¨å€¼æ’åº" class="headerlink" title="(7) è¡¨å€¼æ’åº"></a>(7) è¡¨å€¼æ’åº</h3><ul><li><code>sort()</code><ul><li>æŒ‰å­—æ¯æ•°å­—é¡ºåºå¯¹åˆ—è¡¨è¿›è¡Œæ’åºï¼Œé»˜è®¤æƒ…å†µä¸‹å‡åºã€‚</li><li>å¦‚æœæ˜¯é™åºæ’åºï¼Œä½¿ç”¨å…³é”®å­—å‚æ•°<code>reverse = True</code>ã€‚</li><li>è¿˜å¯ä»¥ä½¿ç”¨å…³é”®å­—å‚æ•°<code>key = function</code>è‡ªå®šä¹‰å‡½æ•°ã€‚</li><li>é»˜è®¤æƒ…å†µä¸‹è¯¥æ–¹æ³•åŒºåˆ†å¤§å°å†™ï¼Œæ‰€æœ‰å¤§å†™å­—æ¯æ’åœ¨å°å†™å­—æ¯ä¹‹å‰ã€‚</li><li>å¦‚æœæƒ³è¦ä¸€ä¸ªä¸åŒºåˆ†å¤§å°å†™çš„æ’åºï¼Œä½¿ç”¨<code>str.lower</code>ä½œä¸ºé”®å‡½æ•°ã€‚</li></ul></li><li><code>reverse()</code>ï¼šåè½¬å…ƒç´ çš„å½“å‰æ’åºé¡ºåºã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs Python">mylist = [<span class="hljs-string">&quot;Lemon&quot;</span>, <span class="hljs-string">&quot;Mango&quot;</span>, <span class="hljs-string">&quot;Apple&quot;</span>, <span class="hljs-string">&quot;Olive&quot;</span>, <span class="hljs-string">&quot;Grape&quot;</span>]<br>mylist.sort()                              <span class="hljs-comment"># å‡åºï¼Œä»å°åˆ°å¤§</span><br><span class="hljs-built_in">print</span>(mylist)<br>mylist.sort(reverse=<span class="hljs-literal">True</span>)                  <span class="hljs-comment"># é™åºï¼Œä»å¤§åˆ°å°</span><br><span class="hljs-built_in">print</span>(mylist)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">func</span>(<span class="hljs-params">n</span>):<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">abs</span>(n - <span class="hljs-number">50</span>)                     <span class="hljs-comment"># æ ¹æ®æ•°å­—ä¸50çš„æ¥è¿‘ç¨‹åº¦å¯¹åˆ—è¡¨è¿›è¡Œæ’åº</span><br><br><br>mylist = [<span class="hljs-number">100</span>, <span class="hljs-number">50</span>, <span class="hljs-number">65</span>, <span class="hljs-number">82</span>, <span class="hljs-number">23</span>, <span class="hljs-number">56</span>, <span class="hljs-number">73</span>, <span class="hljs-number">14</span>, <span class="hljs-number">1</span>]<br>mylist.sort(key=func)                      <span class="hljs-comment"># è¿”å›ä¸€ä¸ªç”¨äºå¯¹åˆ—è¡¨è¿›è¡Œå‡åºæ’åºçš„æ•°å­—</span><br><span class="hljs-built_in">print</span>(mylist)<br><br>mylist = [<span class="hljs-string">&quot;lemon&quot;</span>, <span class="hljs-string">&quot;apple&quot;</span>, <span class="hljs-string">&quot;olive&quot;</span>, <span class="hljs-string">&quot;grape&quot;</span>]<br>mylist.sort()                              <span class="hljs-comment"># åŒºåˆ†å¤§å°å†™ï¼Œå¤§å†™åœ¨å‰ï¼Œå°å†™åœ¨å</span><br><span class="hljs-built_in">print</span>(mylist)<br>mylist.sort(key=<span class="hljs-built_in">str</span>.lower)                 <span class="hljs-comment"># ä¸åŒºåˆ†å¤§å°å†™çš„æ’åº</span><br><span class="hljs-built_in">print</span>(mylist)<br><br>mylist = [<span class="hljs-string">&quot;lemon&quot;</span>, <span class="hljs-string">&quot;apple&quot;</span>, <span class="hljs-string">&quot;olive&quot;</span>, <span class="hljs-string">&quot;grape&quot;</span>]<br>mylist.reverse()                           <span class="hljs-comment"># é¢ å€’åˆ—è¡¨é¡¹çš„é¡ºåº</span><br><span class="hljs-built_in">print</span>(mylist)<br></code></pre></td></tr></table></figure><h3 id="8-å…¶ä»–æ“ä½œ"><a href="#8-å…¶ä»–æ“ä½œ" class="headerlink" title="(8) å…¶ä»–æ“ä½œ"></a>(8) å…¶ä»–æ“ä½œ</h3><ul><li>åˆ—è¡¨å¤åˆ¶ï¼š<code>copy()</code>åˆ¶ä½œåˆ—è¡¨å‰¯æœ¬ï¼Œ<code>list()</code>åˆ¶ä½œåˆ—è¡¨å‰¯æœ¬çš„å¦ä¸€ç§æ–¹æ³•ã€‚</li><li>åˆ—è¡¨æ·»åŠ <ul><li>å¯ä»¥ä½¿ç”¨<code>+</code>è¿ç®—ç¬¦å¯ä»¥è¿æ¥ä¸¤ä¸ªæˆ–å¤šä¸ªåˆ—è¡¨ã€‚</li><li>å°†å¦ä¸€åˆ—è¡¨ä¸­çš„æ‰€æœ‰é¡¹ç›®é€ä¸ªé™„åŠ åˆ°ä¸€åˆ—è¡¨ä¸­ã€‚</li><li>é€šè¿‡<code>extend()</code>æ–¹æ³•å°†ä¸€ä¸ªåˆ—è¡¨ä¸­çš„å…ƒç´ æ·»åŠ åˆ°å¦ä¸€ä¸ªåˆ—è¡¨ä¸­ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs Python">mylist = [<span class="hljs-string">&quot;Apple&quot;</span>, <span class="hljs-string">&quot;Grape&quot;</span>, <span class="hljs-string">&quot;Peach&quot;</span>]<br>cplist1 = mylist.copy()                    <span class="hljs-comment"># ä½¿ç”¨copy()æ–¹æ³•å¤åˆ¶</span><br><span class="hljs-built_in">print</span>(cplist1)<br>cplist2 = <span class="hljs-built_in">list</span>(mylist)                     <span class="hljs-comment"># ä½¿ç”¨list()æ–¹æ³•å¤åˆ¶</span><br><span class="hljs-built_in">print</span>(cplist2)<br><br>list1 = [<span class="hljs-string">&quot;a&quot;</span>, <span class="hljs-string">&quot;b&quot;</span>, <span class="hljs-string">&quot;c&quot;</span>]<br>list2 = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]<br>list3 = list1 + list2                      <span class="hljs-comment"># +è¿ç®—ç¬¦</span><br><span class="hljs-built_in">print</span>(list3)<br><br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> list2:<br>    list1.append(x)                        <span class="hljs-comment"># é€ä¸ªç¬¦åŠ åˆ°list1åˆ—è¡¨ä¸­</span><br><span class="hljs-built_in">print</span>(list1)<br><br>list1 = [<span class="hljs-string">&quot;a&quot;</span>, <span class="hljs-string">&quot;b&quot;</span>, <span class="hljs-string">&quot;c&quot;</span>]<br>list2 = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]<br>list1.extend(list2)                        <span class="hljs-comment"># extend()æ–¹æ³•åœ¨list1åˆ—è¡¨æœ«å°¾æ·»åŠ list2å…ƒç´ </span><br><span class="hljs-built_in">print</span>(list1)<br></code></pre></td></tr></table></figure><h3 id="9-å†…ç½®æ–¹æ³•"><a href="#9-å†…ç½®æ–¹æ³•" class="headerlink" title="(9) å†…ç½®æ–¹æ³•"></a>(9) å†…ç½®æ–¹æ³•</h3><ul><li><code>count()</code>ï¼šç»Ÿè®¡åˆ—è¡¨å…ƒç´ å‡ºç°çš„æ¬¡æ•°ã€‚</li><li><code>index()</code>ï¼šè¿”å›æŒ‡å®šå€¼é¦–æ¬¡å‡ºç°çš„ä½ç½®ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs Python">mylist = [<span class="hljs-string">&quot;Apple&quot;</span>, <span class="hljs-string">&quot;Grape&quot;</span>, <span class="hljs-string">&quot;Peach&quot;</span>, <span class="hljs-string">&quot;Apple&quot;</span>, <span class="hljs-string">&quot;Apple&quot;</span>]<br><br><span class="hljs-built_in">print</span>(mylist.count(<span class="hljs-string">&quot;Apple&quot;</span>))                <span class="hljs-comment"># ç»Ÿè®¡Appleå‡ºç°çš„æ¬¡æ•°</span><br><span class="hljs-built_in">print</span>(mylist.index(<span class="hljs-string">&quot;Peach&quot;</span>))                <span class="hljs-comment"># è¿”å›Peaché¦–æ¬¡å‡ºç°çš„ä½ç½®</span><br></code></pre></td></tr></table></figure><h2 id="4-5-å…ƒç»„"><a href="#4-5-å…ƒç»„" class="headerlink" title="4-5 å…ƒç»„"></a>4-5 å…ƒç»„</h2><ul><li>å…ƒç»„<ul><li>ç”¨åœ¨å•ä¸ªå˜é‡ä¸­å­˜å‚¨å¤šä¸ªé¡¹ç›®ï¼Œç”¨åœ†æ‹¬å·<code>()</code>ä¹¦å†™ã€‚</li><li>å…ƒç»„é¡¹æ˜¯æœ‰åºä¸å¯æ›´æ”¹çš„ï¼Œå¹¶ä¸”å…è®¸é‡å¤å€¼ï¼Œè¢«ç´¢å¼•æ—¶ç¬¬ä¸€é¡¹ç´¢å¼•ä¸º<code>[0]</code>ã€‚</li><li><code>len()</code>å‡½æ•°ç¡®å®šå…ƒç»„é•¿åº¦ï¼Œåˆ›å»ºä¸€ä¸ªåªæœ‰ä¸€é¡¹çš„å…ƒç»„ï¼Œé¡»åœ¨é¡¹ç›®åæ·»åŠ ä¸€ä¸ªé€—å·ã€‚</li><li>å…ƒç»„é¡¹å¯ä»¥æ˜¯ä»»ä½•æ•°æ®ç±»å‹ï¼Œä¾‹å¦‚å­—ç¬¦ä¸²ã€æ•´æ•°æˆ–å¸ƒå°”ç±»å‹ç­‰ï¼Œå¯ä»¥åŒ…å«ä¸åŒç±»å‹ã€‚</li><li>å…ƒç»„çš„æ•°æ®ç±»å‹ä¸º<code>&lt;class &#39;tuple&#39;&gt;</code>ï¼Œå¯ä½¿ç”¨<code>tuple()</code>æ„é€ å‡½æ•°åˆ›å»ºä¸€ä¸ªæ–°çš„å…ƒç»„ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Python">mytuple = (<span class="hljs-string">&quot;Apple&quot;</span>, <span class="hljs-string">&quot;Grape&quot;</span>, <span class="hljs-string">&quot;Peach&quot;</span>, <span class="hljs-string">&quot;Apple&quot;</span>, <span class="hljs-string">&quot;Mango&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">len</span>(mytuple))                        <span class="hljs-comment"># æ‰“å°å…ƒç»„ä¸­çš„é¡¹ç›®æ•°</span><br><br>mytuple = (<span class="hljs-string">&quot;Apple&quot;</span>, )                      <span class="hljs-comment"># ä¸€é¡¹å…ƒç»„ï¼Œå¿…é¡»åœ¨é¡¹ç›®åæ·»åŠ ä¸€ä¸ªé€—å·</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(mytuple))                       <span class="hljs-comment"># &lt;class &#x27;tuple&#x27;&gt;</span><br><br>mytuple = (<span class="hljs-string">&quot;Apple&quot;</span>, <span class="hljs-string">&quot;Grape&quot;</span>)               <span class="hljs-comment"># åœ†æ‹¬å·ä¹¦å†™</span><br><span class="hljs-built_in">print</span>(mytuple)<br><br>mytuple = (<span class="hljs-string">&quot;Apple&quot;</span>, <span class="hljs-string">&quot;Apple&quot;</span>)               <span class="hljs-comment"># å…è®¸é‡å¤å€¼</span><br><span class="hljs-built_in">print</span>(mytuple)<br><br>tuple1 = (<span class="hljs-string">&quot;a&quot;</span>, <span class="hljs-string">&quot;b&quot;</span>, <span class="hljs-string">&quot;c&quot;</span>)                   <span class="hljs-comment"># å­—ç¬¦ä¸²ç±»å‹</span><br>tuple2 = (<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>)                   <span class="hljs-comment"># æ•´æ•°ç±»å‹</span><br>tuple3 = (<span class="hljs-literal">True</span>, <span class="hljs-number">24</span>, <span class="hljs-string">&quot;s&quot;</span>)                   <span class="hljs-comment"># åŒ…å«ä¸åŒç±»å‹</span><br><br>mytuple = <span class="hljs-built_in">tuple</span>((<span class="hljs-string">&quot;Apple&quot;</span>, <span class="hljs-string">&quot;Grape&quot;</span>))        <span class="hljs-comment"># tuple()å‡½æ•°åˆ›å»ºæ–°å…ƒç»„</span><br><span class="hljs-built_in">print</span>(mytuple)<br></code></pre></td></tr></table></figure><h3 id="1-è®¿é—®ç»„å€¼"><a href="#1-è®¿é—®ç»„å€¼" class="headerlink" title="(1) è®¿é—®ç»„å€¼"></a>(1) è®¿é—®ç»„å€¼</h3><ul><li>é€šè¿‡å¼•ç”¨æ–¹æ‹¬å·å†…çš„ç´¢å¼•å·æ¥è®¿é—®å…ƒç»„é¡¹ï¼Œç¬¬ä¸€é¡¹çš„ç´¢å¼•ä¸º0ã€‚</li><li>è´Ÿç´¢å¼•ä»æœ«å°¾å¼€å§‹ï¼Œæœ€åä¸€é¡¹æ˜¯-1ï¼Œå€’æ•°ç¬¬äºŒé¡¹æ˜¯-2ï¼Œä»¥æ­¤ç±»æ¨ã€‚</li><li>æŒ‡å®šå¼€å§‹å’Œç»“æŸä½ç½®æ¥æŒ‡å®šç´¢å¼•èŒƒå›´ï¼Œè¿”å›å€¼å°†æ˜¯å…·æœ‰æŒ‡å®šé¡¹ç›®çš„æ–°å…ƒç»„ã€‚</li><li>çœç•¥èµ·å§‹å€¼ï¼ŒèŒƒå›´å°†ä»ç¬¬ä¸€é¡¹å¼€å§‹ï¼Œçœç•¥ç»“æŸå€¼ï¼ŒèŒƒå›´å°†ç»§ç»­åˆ°åˆ—è¡¨æœ«å°¾ã€‚</li><li>ä»å…ƒç»„æœ«å°¾å¼€å§‹ç´¢å¼•éœ€æŒ‡å®šè´Ÿç´¢å¼•ï¼Œä½¿ç”¨<code>in</code>å…³é”®å­—ç¡®å®šå…ƒç»„ä¸­æ˜¯å¦å­˜åœ¨æŒ‡å®šé¡¹ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python">mytuple = (<span class="hljs-string">&quot;Apple&quot;</span>, <span class="hljs-string">&quot;Grape&quot;</span>, <span class="hljs-string">&quot;Peach&quot;</span>)<br><span class="hljs-built_in">print</span>(mytuple[<span class="hljs-number">1</span>])                          <span class="hljs-comment"># Grape</span><br><span class="hljs-built_in">print</span>(mytuple[-<span class="hljs-number">1</span>])                         <span class="hljs-comment"># æ‰“å°å…ƒç»„çš„æœ€åä¸€é¡¹Peach</span><br><br>mytuple = (<span class="hljs-string">&quot;Apple&quot;</span>, <span class="hljs-string">&quot;Grape&quot;</span>, <span class="hljs-string">&quot;Peach&quot;</span>, <span class="hljs-string">&quot;Mango&quot;</span>, <span class="hljs-string">&quot;Lemon&quot;</span>, <span class="hljs-string">&quot;Melon&quot;</span>, <span class="hljs-string">&quot;Olive&quot;</span>)<br><span class="hljs-built_in">print</span>(mytuple[<span class="hljs-number">2</span>: <span class="hljs-number">5</span>])                       <span class="hljs-comment"># è¿”å›ç¬¬3ã€4ã€5é¡¹</span><br><span class="hljs-built_in">print</span>(mytuple[: <span class="hljs-number">3</span>])                        <span class="hljs-comment"># çœç•¥èµ·å§‹å€¼ï¼ŒèŒƒå›´ä»0åˆ°3ï¼Œä¸åŒ…æ‹¬3</span><br><span class="hljs-built_in">print</span>(mytuple[<span class="hljs-number">4</span>:])                         <span class="hljs-comment"># çœç•¥ç»“æŸå€¼ï¼ŒèŒƒå›´ä»4åˆ°æœ«å°¾ç»“æŸä½ç½®</span><br><span class="hljs-built_in">print</span>(mytuple[-<span class="hljs-number">4</span>:-<span class="hljs-number">1</span>])                      <span class="hljs-comment"># è¿”å›ä»ç´¢å¼•-4åˆ°ç´¢å¼•-1ï¼Œä¸åŒ…æ‹¬-4çš„é¡¹ç›®</span><br><br><span class="hljs-keyword">if</span> <span class="hljs-string">&quot;Apple&quot;</span> <span class="hljs-keyword">in</span> mytuple:                     <span class="hljs-comment"># ç¡®å®šmytupleå…ƒç»„ä¸­æ˜¯å¦å­˜åœ¨æŒ‡å®šé¡¹Apple</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Yes, &#x27;Apple&#x27; is in the fruits tuple.&quot;</span>)<br></code></pre></td></tr></table></figure><h3 id="2-æ›´æ–°ç»„å€¼"><a href="#2-æ›´æ–°ç»„å€¼" class="headerlink" title="(2) æ›´æ–°ç»„å€¼"></a>(2) æ›´æ–°ç»„å€¼</h3><ul><li>å…ƒç»„ä¸€æ—¦åˆ›å»ºå°±ä¸å¯æ›´æ”¹ï¼Œå¯å°†å…¶è½¬æ¢ä¸ºåˆ—è¡¨ï¼Œæ›´æ”¹åˆ—è¡¨å†è½¬æ¢å›å…ƒç»„ã€‚</li><li>è‹¥è¦æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªé¡¹ç›®ï¼Œä½¿ç”¨è¿™äº›é¡¹ç›®åˆ›å»ºä¸€ä¸ªæ–°å…ƒç»„ï¼Œå¹¶å°†å…¶æ·»åŠ åˆ°ç°æœ‰å…ƒç»„ä¸­ã€‚</li><li>åˆ é™¤å…ƒç»„ä¸­çš„é¡¹ç›®åŒæ ·éœ€è¦å…ˆè½¬æ¢ä¸ºåˆ—è¡¨è¿›è¡Œæ“ä½œï¼Œ<code>del</code>å…³é”®å­—åˆ™å¯ä»¥å®Œå…¨åˆ é™¤å…ƒç»„ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python">mytuple = (<span class="hljs-string">&quot;Apple&quot;</span>, <span class="hljs-string">&quot;Grape&quot;</span>, <span class="hljs-string">&quot;Peach&quot;</span>)<br>mylists = <span class="hljs-built_in">list</span>(mytuple)                    <span class="hljs-comment"># å°†å…ƒç»„è½¬æ¢ä¸ºåˆ—è¡¨</span><br>mylists[<span class="hljs-number">1</span>] = <span class="hljs-string">&quot;Mango&quot;</span>                       <span class="hljs-comment"># æ›´æ”¹åˆ—è¡¨</span><br>mytuple = <span class="hljs-built_in">tuple</span>(mylists)                   <span class="hljs-comment"># å†å°†åˆ—è¡¨è½¬æ¢å›å…ƒç»„</span><br><span class="hljs-built_in">print</span>(mytuple)<br><br>newtuple = (<span class="hljs-string">&quot;Lemon&quot;</span>, )                     <span class="hljs-comment"># åˆ›å»ºæ–°å…ƒç»„</span><br>mytuple += newtuple                        <span class="hljs-comment"># æ·»åŠ è¯¥å…ƒç»„</span><br><span class="hljs-built_in">print</span>(mytuple)<br><br>mylists = <span class="hljs-built_in">list</span>(mytuple)                    <span class="hljs-comment"># è½¬æ¢ä¸ºåˆ—è¡¨</span><br>mylists.remove(<span class="hljs-string">&quot;Apple&quot;</span>)                    <span class="hljs-comment"># åˆ é™¤åˆ—è¡¨é¡¹</span><br>mytuple = <span class="hljs-built_in">tuple</span>(mylists)                   <span class="hljs-comment"># è½¬æ¢å›å…ƒç»„</span><br><span class="hljs-built_in">print</span>(mytuple)<br><br><span class="hljs-keyword">del</span> mytuple                                <span class="hljs-comment"># å®Œå…¨åˆ é™¤å…ƒç»„</span><br><span class="hljs-comment"># print(mytuple)                           # NameError: name &#x27;mytuple&#x27; is not defined.</span><br></code></pre></td></tr></table></figure><h3 id="3-å…ƒç»„æ‹†åŒ…"><a href="#3-å…ƒç»„æ‹†åŒ…" class="headerlink" title="(3) å…ƒç»„æ‹†åŒ…"></a>(3) å…ƒç»„æ‹†åŒ…</h3><ul><li>åˆ›å»ºå…ƒç»„å¹¶èµ‹å€¼ç§°ä¸ºå…ƒç»„æ‰“åŒ…ï¼Œå°†å€¼æå–å›å˜é‡ä¸­åˆ™ç§°ä¸ºå…ƒç»„æ‹†åŒ…ã€‚</li><li>æ‹†åŒ…æ—¶å˜é‡æ•°é¡»ä¸å…ƒç»„å€¼çš„æ•°é‡åŒ¹é…ï¼Œå¦åˆ™ä½¿ç”¨æ˜Ÿå·<code>*</code>å°†å‰©ä½™å€¼æ”¶é›†ä¸ºåˆ—è¡¨ã€‚</li><li>è‹¥æ˜Ÿå·è¢«æ·»åŠ åˆ°å¦ä¸€å˜é‡è€Œéæœ€åä¸€ä¸ªï¼ŒPythonå°†ä¸ºå˜é‡åˆ†é…å€¼ï¼Œç›´è‡³å‰©ä½™å€¼æ•°é‡ä¸å‰©ä½™å˜é‡æ•°åŒ¹é…ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs Python">mytuple = (<span class="hljs-string">&quot;Apple&quot;</span>, <span class="hljs-string">&quot;Grape&quot;</span>, <span class="hljs-string">&quot;Peach&quot;</span>)<br>(green, yellow, red) = mytuple             <span class="hljs-comment"># å…ƒç»„æ‹†åŒ…</span><br><span class="hljs-built_in">print</span>(green)<br><br>mytuple = (<span class="hljs-string">&quot;Apple&quot;</span>, <span class="hljs-string">&quot;Grape&quot;</span>, <span class="hljs-string">&quot;Peach&quot;</span>, <span class="hljs-string">&quot;Mango&quot;</span>, <span class="hljs-string">&quot;Lemon&quot;</span>)<br>(green, yellow, *red) = mytuple            <span class="hljs-comment"># ä½¿ç”¨æ˜Ÿå·*å°†å‰©ä½™å€¼æ”¶é›†ä¸ºåˆ—è¡¨</span><br><span class="hljs-built_in">print</span>(red)<br><br>(green, *tropic, red) = mytuple            <span class="hljs-comment"># æ·»åŠ tropicå˜é‡å€¼åˆ—è¡¨</span><br><span class="hljs-built_in">print</span>(tropic)<br></code></pre></td></tr></table></figure><h3 id="4-å…ƒç»„å¾ªç¯"><a href="#4-å…ƒç»„å¾ªç¯" class="headerlink" title="(4) å…ƒç»„å¾ªç¯"></a>(4) å…ƒç»„å¾ªç¯</h3><ul><li>ä½¿ç”¨forå¾ªç¯å¯ä»¥éå†å…ƒç»„é¡¹ã€‚</li><li>è¿˜å¯ä»¥é€šè¿‡å¼•ç”¨ç´¢å¼•å·éå†å…ƒç»„é¡¹ï¼Œä½¿ç”¨<code>range()</code>å’Œ<code>len()</code>å‡½æ•°åˆ›å»ºåˆé€‚çš„è¿­ä»£å™¨ã€‚</li><li>ä½¿ç”¨whileå¾ªç¯éå†å…ƒç»„é¡¹ï¼Œ<code>len()</code>å‡½æ•°ç¡®å®šå…ƒç»„çš„é•¿åº¦ï¼Œä»0å¼€å§‹é€šè¿‡ç´¢å¼•å¾ªç¯éå†ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Python">mytuple = (<span class="hljs-string">&quot;Apple&quot;</span>, <span class="hljs-string">&quot;Grape&quot;</span>, <span class="hljs-string">&quot;Peach&quot;</span>)<br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> mytuple:                          <span class="hljs-comment"># forå¾ªç¯éå†</span><br>    <span class="hljs-built_in">print</span>(x)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-----&quot;</span>)<br><br><span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(mytuple)):<br>    <span class="hljs-built_in">print</span>(mytuple[y])                      <span class="hljs-comment"># ç´¢å¼•å·éå†</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-----&quot;</span>)<br><br>z = <span class="hljs-number">0</span><br><span class="hljs-keyword">while</span> z &lt; <span class="hljs-built_in">len</span>(mytuple):                    <span class="hljs-comment"># whileå¾ªç¯éå†</span><br>    <span class="hljs-built_in">print</span>(mytuple[z])<br>    z = z + <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><h3 id="5-æ·»åŠ å…ƒç»„"><a href="#5-æ·»åŠ å…ƒç»„" class="headerlink" title="(5) æ·»åŠ å…ƒç»„"></a>(5) æ·»åŠ å…ƒç»„</h3><ul><li>ä½¿ç”¨<code>+</code>è¿ç®—ç¬¦å¯ä»¥è¿æ¥ä¸¤ä¸ªæˆ–å¤šä¸ªå…ƒç»„ã€‚</li><li>ä½¿ç”¨<code>*</code>è¿ç®—ç¬¦å°†å…ƒç»„å†…å®¹ä¹˜ä»¥ç»™å®šæ¬¡æ•°ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python">tuple1 = (<span class="hljs-string">&quot;a&quot;</span>, <span class="hljs-string">&quot;b&quot;</span>, <span class="hljs-string">&quot;c&quot;</span>)<br>tuple2 = (<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>)<br>tuple3 = tuple1 + tuple2<br><span class="hljs-built_in">print</span>(tuple3)                               <span class="hljs-comment"># +è¿ç®—ç¬¦</span><br><br>fruits = (<span class="hljs-string">&quot;Apple&quot;</span>, <span class="hljs-string">&quot;Grape&quot;</span>)<br>mytuple = fruits * <span class="hljs-number">2</span>                        <span class="hljs-comment"># *è¿ç®—ç¬¦</span><br><span class="hljs-built_in">print</span>(mytuple)<br></code></pre></td></tr></table></figure><h3 id="6-å†…ç½®æ–¹æ³•"><a href="#6-å†…ç½®æ–¹æ³•" class="headerlink" title="(6) å†…ç½®æ–¹æ³•"></a>(6) å†…ç½®æ–¹æ³•</h3><ul><li><code>count()</code>ï¼šç»Ÿè®¡å…ƒç»„ä¸­å…ƒç´ å‡ºç°çš„æ¬¡æ•°ã€‚</li><li><code>index()</code>ï¼šè¿”å›æŒ‡å®šå€¼é¦–æ¬¡å‡ºç°çš„ä½ç½®ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs Python">mytuple = (<span class="hljs-string">&quot;Apple&quot;</span>, <span class="hljs-string">&quot;Grape&quot;</span>, <span class="hljs-string">&quot;Peach&quot;</span>, <span class="hljs-string">&quot;Apple&quot;</span>)<br><br><span class="hljs-built_in">print</span>(mytuple.count(<span class="hljs-string">&quot;Apple&quot;</span>))               <span class="hljs-comment"># ç»Ÿè®¡Appleå‡ºç°çš„æ¬¡æ•°</span><br><span class="hljs-built_in">print</span>(mytuple.index(<span class="hljs-string">&quot;Grape&quot;</span>))               <span class="hljs-comment"># è¿”å›Grapeé¦–æ¬¡å‡ºç°çš„ä½ç½®</span><br></code></pre></td></tr></table></figure><h2 id="4-6-é›†åˆ"><a href="#4-6-é›†åˆ" class="headerlink" title="4-6 é›†åˆ"></a>4-6 é›†åˆ</h2><ul><li>é›†åˆ<ul><li>ç”¨äºå°†å¤šä¸ªé¡¹ç›®å­˜å‚¨åœ¨å•ä¸ªå˜é‡ä¸­ï¼Œç”¨å¤§æ‹¬å·<code>&#123;&#125;</code>ä¹¦å†™ã€‚</li><li>é›†åˆé¡¹æ˜¯æ— åºä¸å¯æ›´æ”¹çš„ï¼Œä¸”æ— ç´¢å¼•ï¼Œä¹Ÿä¸å…è®¸é‡å¤å€¼ã€‚</li><li><code>len()</code>å‡½æ•°ç¡®å®šé›†åˆé•¿åº¦ï¼Œé›†åˆé¡¹å¯ä»¥æ˜¯ä»»ä½•æ•°æ®ç±»å‹ã€‚</li><li>ä¾‹å¦‚å­—ç¬¦ä¸²ã€æ•´æ•°æˆ–å¸ƒå°”ç±»å‹ç­‰ï¼Œå¯ä»¥åŒ…å«ä¸åŒæ•°æ®ç±»å‹ã€‚</li><li>é›†åˆçš„æ•°æ®ç±»å‹ä¸º<code>&lt;class &#39;set&#39;&gt;</code>ï¼Œä½¿ç”¨<code>set()</code>æ„é€ å‡½æ•°åˆ›å»ºä¸€ä¸ªæ–°é›†åˆï¼Œforå¾ªç¯éå†é›†åˆé¡¹ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python">myset = &#123;<span class="hljs-string">&quot;Apple&quot;</span>, <span class="hljs-string">&quot;Grape&quot;</span>&#125;<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">len</span>(myset))                          <span class="hljs-comment"># è·å–é›†åˆä¸­çš„é¡¹ç›®æ•°</span><br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> myset:                            <span class="hljs-comment"># forå¾ªç¯éå†</span><br>    <span class="hljs-built_in">print</span>(x)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(myset))                         <span class="hljs-comment"># &lt;class &#x27;set&#x27;&gt;</span><br><span class="hljs-built_in">print</span>(myset)                               <span class="hljs-comment"># å¤§æ‹¬å·ä¹¦å†™</span><br><br>myset = &#123;<span class="hljs-string">&quot;Apple&quot;</span>, <span class="hljs-string">&quot;Grape&quot;</span>, <span class="hljs-string">&quot;Apple&quot;</span>&#125;<br><span class="hljs-built_in">print</span>(myset)                               <span class="hljs-comment"># ä¸å…è®¸é‡å¤å€¼</span><br><br>set1 = &#123;<span class="hljs-string">&quot;a&quot;</span>, <span class="hljs-string">&quot;b&quot;</span>, <span class="hljs-string">&quot;c&quot;</span>&#125;                     <span class="hljs-comment"># å­—ç¬¦ä¸²ç±»å‹</span><br>set2 = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>&#125;                     <span class="hljs-comment"># æ•´æ•°ç±»å‹</span><br>set3 = &#123;<span class="hljs-literal">True</span>, <span class="hljs-number">26</span>, <span class="hljs-string">&quot;s&quot;</span>&#125;                     <span class="hljs-comment"># åŒ…å«ä¸åŒç±»å‹</span><br><br>myset = <span class="hljs-built_in">set</span>((<span class="hljs-string">&quot;Apple&quot;</span>, <span class="hljs-string">&quot;Grape&quot;</span>))<br><span class="hljs-built_in">print</span>(myset)                               <span class="hljs-comment"># set()å‡½æ•°åˆ›å»ºæ–°é›†åˆ</span><br></code></pre></td></tr></table></figure><h3 id="1-è®¿é—®é›†åˆé¡¹"><a href="#1-è®¿é—®é›†åˆé¡¹" class="headerlink" title="(1) è®¿é—®é›†åˆé¡¹"></a>(1) è®¿é—®é›†åˆé¡¹</h3><ul><li>ä¸èƒ½é€šè¿‡ç´¢å¼•è®¿é—®é›†åˆé¡¹ï¼Œä½¿ç”¨<code>for</code>å¾ªç¯éå†ï¼Œæˆ–ä½¿ç”¨<code>in</code>å…³é”®å­—ç¡®å®šé›†åˆä¸­æ˜¯å¦å­˜åœ¨æŒ‡å®šå€¼ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs Python">myset = &#123;<span class="hljs-string">&quot;Apple&quot;</span>, <span class="hljs-string">&quot;Grape&quot;</span>, <span class="hljs-string">&quot;Peach&quot;</span>&#125;<br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> myset:                             <span class="hljs-comment"># forå¾ªç¯éå†</span><br>    <span class="hljs-built_in">print</span>(x)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-----&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Banana&quot;</span> <span class="hljs-keyword">in</span> myset)                    <span class="hljs-comment"># inå…³é”®å­—ç¡®å®š</span><br></code></pre></td></tr></table></figure><h3 id="2-æ·»åŠ é›†åˆé¡¹"><a href="#2-æ·»åŠ é›†åˆé¡¹" class="headerlink" title="(2) æ·»åŠ é›†åˆé¡¹"></a>(2) æ·»åŠ é›†åˆé¡¹</h3><ul><li>åˆ›å»ºé›†åˆåæ— æ³•æ›´æ”¹é›†åˆé¡¹ï¼Œä½†<code>add()</code>æ–¹æ³•å¯æ·»åŠ æ–°é¡¹ç›®ã€‚</li><li>ä½¿ç”¨<code>update()</code>æ–¹æ³•å¯ä»¥å°†å¦ä¸€ä¸ªé›†åˆé¡¹æ·»åŠ åˆ°å½“å‰é›†åˆä¸­ã€‚</li><li><code>update()</code>æ–¹æ³•ä¸­çš„å¯¹è±¡ï¼Œå¯ä»¥æ˜¯ä»»ä½•å¯è¿­ä»£çš„å¯¹è±¡ï¼Œä¾‹å¦‚å…ƒç»„ã€åˆ—è¡¨æˆ–å­—å…¸ç­‰ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs Python">myset = &#123;<span class="hljs-string">&quot;Apple&quot;</span>, &#125;<br>myset.add(<span class="hljs-string">&quot;Grape&quot;</span>)                         <span class="hljs-comment"># add()æ–¹æ³•æ·»åŠ é›†åˆé¡¹</span><br><span class="hljs-built_in">print</span>(myset)<br><br>tropical = &#123;<span class="hljs-string">&quot;Mango&quot;</span>, &#125;<br>myset.update(tropical)                     <span class="hljs-comment"># æ·»åŠ tropicalé›†åˆé¡¹åˆ°myset</span><br><span class="hljs-built_in">print</span>(myset)<br><br>mylist = [<span class="hljs-string">&quot;Peach&quot;</span>, ]<br>myset.update(mylist)                       <span class="hljs-comment"># æ·»åŠ åˆ—è¡¨å…ƒç´ åˆ°myseté›†åˆä¸­</span><br><span class="hljs-built_in">print</span>(myset)<br></code></pre></td></tr></table></figure><h3 id="3-åˆ é™¤é›†åˆé¡¹"><a href="#3-åˆ é™¤é›†åˆé¡¹" class="headerlink" title="(3) åˆ é™¤é›†åˆé¡¹"></a>(3) åˆ é™¤é›†åˆé¡¹</h3><ul><li>ä½¿ç”¨<code>remove()</code>æˆ–<code>discard()</code>æ–¹æ³•åˆ é™¤é›†åˆä¸­çš„é¡¹ç›®ã€‚<ul><li>å¦‚æœè¦åˆ é™¤çš„é›†åˆé¡¹ä¸å­˜åœ¨ï¼Œä½¿ç”¨<code>remove()</code>å°†ä¼šæŠ¥é”™ã€‚</li><li>å¦‚æœè¦åˆ é™¤çš„é›†åˆé¡¹ä¸å­˜åœ¨ï¼Œä½¿ç”¨<code>discard()</code>ä¸ä¼šæŠ¥é”™ã€‚</li></ul></li><li><code>pop()</code>æ–¹æ³•åˆ é™¤æœ€åä¸€é¡¹ï¼Œé›†åˆæ— åºï¼Œä¸ç¡®å®šåˆ é™¤çš„å…·ä½“é¡¹ã€‚</li><li><code>clear()</code>æ–¹æ³•æ¸…ç©ºé›†åˆï¼Œé›†åˆä»åœ¨ï¼Œ<code>del</code>å…³é”®å­—å®Œå…¨åˆ é™¤é›†åˆã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Python">myset = &#123;<span class="hljs-string">&quot;Apple&quot;</span>, <span class="hljs-string">&quot;Grape&quot;</span>, <span class="hljs-string">&quot;Peach&quot;</span>&#125;<br>myset.remove(<span class="hljs-string">&quot;Grape&quot;</span>)                      <span class="hljs-comment"># remove()æ–¹æ³•åˆ é™¤Grape</span><br><span class="hljs-built_in">print</span>(myset)<br><br><span class="hljs-comment"># myset.remove(&quot;Grape&quot;)                    # ä¸å­˜åœ¨é›†åˆé¡¹ï¼ŒæŠ¥é”™KeyError: &#x27;Grape&#x27;.</span><br>myset.discard(<span class="hljs-string">&quot;Grape&quot;</span>)                     <span class="hljs-comment"># ä¸å­˜åœ¨é›†åˆé¡¹ï¼Œä½¿ç”¨discard()æ–¹æ³•ä¸ä¼šæŠ¥é”™</span><br><span class="hljs-built_in">print</span>(myset)<br><br>thisset = myset.pop()                      <span class="hljs-comment"># åˆ é™¤æœ€åä¸€é¡¹</span><br><span class="hljs-built_in">print</span>(myset)<br><span class="hljs-built_in">print</span>(thisset)<br><br>myset = &#123;<span class="hljs-string">&quot;Apple&quot;</span>, <span class="hljs-string">&quot;Grape&quot;</span>, <span class="hljs-string">&quot;Peach&quot;</span>&#125;<br>myset.clear()                              <span class="hljs-comment"># æ¸…ç©ºé›†åˆ</span><br><span class="hljs-built_in">print</span>(myset)<br><br><span class="hljs-keyword">del</span> myset                                  <span class="hljs-comment"># å®Œå…¨åˆ é™¤é›†åˆ</span><br><span class="hljs-comment"># print(myset)                             # NameError: name &#x27;myset&#x27; is not defined.</span><br></code></pre></td></tr></table></figure><h3 id="4-é›†åˆè¿ç®—"><a href="#4-é›†åˆè¿ç®—" class="headerlink" title="(4) é›†åˆè¿ç®—"></a>(4) é›†åˆè¿ç®—</h3><ul><li><code>union()</code>ï¼šè¿”å›ä¸€ä¸ªåŒ…å«ä¸¤ä¸ªé›†åˆä¸­æ‰€æœ‰é¡¹ç›®çš„æ–°é›†åˆï¼Œä¼šæ’é™¤é‡å¤é¡¹ã€‚</li><li><code>update()</code>ï¼šå°†ä¸€ä¸ªé›†åˆçš„æ‰€æœ‰é¡¹ç›®æ’å…¥åˆ°å¦ä¸€ä¸ªé›†åˆä¸­ï¼Œä¼šæ’é™¤é‡å¤é¡¹ã€‚</li><li><code>intersection()</code>ï¼šä»…åŒ…å«å­˜åœ¨äºä¸¤ä¸ªé›†åˆä¸­çš„ç›¸åŒé¡¹ã€‚</li><li><code>intersection_update()</code>ï¼šä»…ä¿ç•™ä¸¤ä¸ªé›†åˆä¸­å­˜åœ¨çš„ç›¸åŒé¡¹ã€‚</li><li><code>symmetric_difference()</code>ï¼šä»…åŒ…å«å­˜åœ¨äºä¸¤ä¸ªé›†åˆä¸­çš„ä¸åŒé¡¹ã€‚</li><li><code>symmetric_difference_update()</code>ï¼šä»…ä¿ç•™ä¸¤ä¸ªé›†åˆä¸­å­˜åœ¨çš„ä¸åŒé¡¹ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs Python">set1 = &#123;<span class="hljs-string">&quot;a&quot;</span>, <span class="hljs-string">&quot;b&quot;</span>&#125;<br>set2 = &#123;<span class="hljs-number">1</span>, <span class="hljs-string">&quot;b&quot;</span>&#125;<br>set3 = set1.union(set2)                    <span class="hljs-comment"># è¿”å›ä¸€ä¸ªæ–°é›†åˆset3</span><br><span class="hljs-built_in">print</span>(set3)<br>set1.update(set2)                          <span class="hljs-comment"># å°†set2ä¸­çš„æ‰€æœ‰é¡¹ç›®æ’å…¥åˆ°set1ä¸­</span><br><span class="hljs-built_in">print</span>(set1)<br><br>set1 = &#123;<span class="hljs-string">&quot;a&quot;</span>, <span class="hljs-string">&quot;b&quot;</span>, <span class="hljs-number">1</span>&#125;<br>set2 = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-string">&quot;a&quot;</span>, <span class="hljs-string">&quot;b&quot;</span>, <span class="hljs-string">&quot;c&quot;</span>&#125;<br>set3 = set1.intersection(set2)             <span class="hljs-comment"># ä»…åŒ…å«å­˜åœ¨äºset1å’Œset2ä¸­çš„ç›¸åŒé¡¹</span><br><span class="hljs-built_in">print</span>(set3)<br>set1.intersection_update(set2)             <span class="hljs-comment"># ä»…ä¿ç•™set1å’Œset2ä¸­å­˜åœ¨çš„ç›¸åŒé¡¹</span><br><span class="hljs-built_in">print</span>(set1)<br><br>set1 = &#123;<span class="hljs-string">&quot;a&quot;</span>, <span class="hljs-string">&quot;b&quot;</span>, <span class="hljs-string">&quot;c&quot;</span>&#125;<br>set2 = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-string">&quot;b&quot;</span>, <span class="hljs-string">&quot;c&quot;</span>&#125;<br>set3 = set1.symmetric_difference(set2)     <span class="hljs-comment"># ä»…åŒ…å«å­˜åœ¨äºset1å’Œset2ä¸­çš„ä¸åŒé¡¹</span><br><span class="hljs-built_in">print</span>(set3)<br>set1.symmetric_difference_update(set2)     <span class="hljs-comment"># ä»…ä¿ç•™set1å’Œset2ä¸­å­˜åœ¨çš„ä¸åŒé¡¹</span><br><span class="hljs-built_in">print</span>(set1)<br></code></pre></td></tr></table></figure><h3 id="5-å†…ç½®æ–¹æ³•"><a href="#5-å†…ç½®æ–¹æ³•" class="headerlink" title="(5) å†…ç½®æ–¹æ³•"></a>(5) å†…ç½®æ–¹æ³•</h3><ul><li><code>copy()</code>ï¼šå¤åˆ¶ä¸€ä¸ªé›†åˆã€‚</li><li><code>difference()</code>ï¼šè¿”å›é›†åˆçš„å·®é›†ã€‚</li><li><code>difference_update()</code>ï¼šç§»é™¤æŒ‡å®šé›†åˆä¸­åŒ…å«ä¸å¦ä¸€ä¸ªé›†åˆç›¸åŒé¡¹çš„å…ƒç´ ã€‚</li><li><code>isdisjoint()</code>ï¼šåˆ¤æ–­ä¸¤ä¸ªé›†åˆæ˜¯å¦ç›¸äº¤ï¼Œä¸ç›¸äº¤è¿”å›Trueï¼Œå¦åˆ™è¿”å›Falseã€‚</li><li><code>issubset()</code>ï¼šåˆ¤æ–­é›†åˆæ˜¯å¦è¢«å…¶ä»–é›†åˆåŒ…å«ï¼Œæ˜¯åˆ™è¿”å›Trueï¼Œå¦åˆ™è¿”å›Falseã€‚</li><li><code>issuperset()</code>ï¼šåˆ¤æ–­é›†åˆæ˜¯å¦åŒ…å«å…¶ä»–é›†åˆï¼Œæ˜¯åˆ™è¿”å›Trueï¼Œå¦åˆ™è¿”å›Falseã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Python">set1 = &#123;<span class="hljs-string">&quot;a&quot;</span>, <span class="hljs-string">&quot;f&quot;</span>&#125;<br>set2 = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-string">&quot;b&quot;</span>, <span class="hljs-string">&quot;c&quot;</span>&#125;<br>set3 = set1.copy()                         <span class="hljs-comment"># å¤åˆ¶set1</span><br><span class="hljs-built_in">print</span>(set3)<br>set3 = set1.difference(set2)               <span class="hljs-comment"># å·®é›†</span><br><span class="hljs-built_in">print</span>(set3)<br>set1.difference_update(set2)               <span class="hljs-comment"># ç§»é™¤set1ä¸­ä¸set2ç›¸åŒçš„å…ƒç´ ï¼Œè¿”å›set1ä¸­å‰©ä½™çš„å…ƒç´ </span><br><span class="hljs-built_in">print</span>(set1)<br><br>set1 = &#123;<span class="hljs-string">&quot;a&quot;</span>, <span class="hljs-string">&quot;b&quot;</span>, <span class="hljs-string">&quot;f&quot;</span>&#125;<br>set2 = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-string">&quot;b&quot;</span>, <span class="hljs-string">&quot;c&quot;</span>&#125;<br>set3 = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-string">&quot;a&quot;</span>, <span class="hljs-string">&quot;b&quot;</span>, <span class="hljs-string">&quot;c&quot;</span>&#125;<br>result = set1.isdisjoint(set2)             <span class="hljs-comment"># åˆ¤æ–­æ˜¯å¦ç›¸äº¤ï¼Œä¸ç›¸äº¤ä¸ºTrue</span><br><span class="hljs-built_in">print</span>(result)<br>result = set1.issubset(set3)               <span class="hljs-comment"># åˆ¤æ–­set1æ˜¯å¦è¢«set3åŒ…å«</span><br><span class="hljs-built_in">print</span>(result)<br>result = set1.issuperset(set2)             <span class="hljs-comment"># åˆ¤æ–­set1æ˜¯å¦åŒ…å«set2</span><br><span class="hljs-built_in">print</span>(result)<br></code></pre></td></tr></table></figure><h2 id="4-7-å­—å…¸"><a href="#4-7-å­—å…¸" class="headerlink" title="4-7 å­—å…¸"></a>4-7 å­—å…¸</h2><ul><li>å­—å…¸<ul><li>ç”¨äºå°†æ•°æ®å€¼å­˜å‚¨åœ¨é”®å€¼å¯¹ä¸­ï¼Œä½¿ç”¨å¤§æ‹¬å·<code>&#123;&#125;</code>è¿›è¡Œä¹¦å†™ï¼Œå¸¦æœ‰é”®å’Œå€¼ã€‚</li><li>å­—å…¸é¡¹ç›®æ˜¯æœ‰åºå¯æ›´æ”¹ä¸”ä¸å…è®¸é‡å¤çš„ï¼Œé”®å€¼å¯¹å½¢å¼å‘ˆç°ï¼Œç”¨é”®åå¼•ç”¨ã€‚</li><li>å¯ä½¿ç”¨<code>len()</code>å‡½æ•°è·å–å­—å…¸é•¿åº¦ï¼Œå­—å…¸çš„æ•°æ®ç±»å‹ä¸º<code>&lt;class &#39;dict&#39;&gt;</code>ã€‚</li><li>å­—å…¸çš„å€¼å¯ä»¥æ˜¯ä»»ä½•æ•°æ®ç±»å‹ï¼Œä¾‹å¦‚ï¼šå­—ç¬¦ä¸²ã€æ•´æ•°ã€å¸ƒå°”å€¼æˆ–åˆ—è¡¨ç­‰ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python">mydict = &#123;<br>    <span class="hljs-string">&quot;brand&quot;</span>: <span class="hljs-string">&quot;Ford&quot;</span>,<br>    <span class="hljs-string">&quot;model&quot;</span>: <span class="hljs-string">&quot;Mustang&quot;</span>,                    <span class="hljs-comment"># å­—ç¬¦ä¸²</span><br>    <span class="hljs-string">&quot;year&quot;</span>: <span class="hljs-number">1964</span>,                          <span class="hljs-comment"># æ•´æ•°</span><br>    <span class="hljs-string">&quot;colors&quot;</span>: [<span class="hljs-string">&quot;red&quot;</span>, <span class="hljs-string">&quot;blue&quot;</span>, <span class="hljs-string">&quot;white&quot;</span>],    <span class="hljs-comment"># åˆ—è¡¨</span><br>    <span class="hljs-string">&quot;colors&quot;</span>: [<span class="hljs-string">&quot;red&quot;</span>, <span class="hljs-string">&quot;blue&quot;</span>]<br>&#125;<br><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">len</span>(mydict))                         <span class="hljs-comment"># æ‰“å°å­—å…¸ä¸­çš„é¡¹ç›®æ•°</span><br><span class="hljs-built_in">print</span>(mydict[<span class="hljs-string">&quot;brand&quot;</span>])                     <span class="hljs-comment"># ä½¿ç”¨é”®åå¼•ç”¨</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(mydict))                        <span class="hljs-comment"># &lt;class &#x27;dict&#x27;&gt;</span><br><span class="hljs-built_in">print</span>(mydict)                              <span class="hljs-comment"># ä¸å…è®¸é‡å¤ï¼Œé‡å¤å€¼å°†è¦†ç›–ç°æœ‰å€¼</span><br></code></pre></td></tr></table></figure><h3 id="1-è®¿é—®å­—å…¸é¡¹"><a href="#1-è®¿é—®å­—å…¸é¡¹" class="headerlink" title="(1) è®¿é—®å­—å…¸é¡¹"></a>(1) è®¿é—®å­—å…¸é¡¹</h3><ul><li>é€šè¿‡å¼•ç”¨æ–¹æ‹¬å·å†…çš„é”®åæ¥è®¿é—®å­—å…¸çš„é¡¹ç›®ï¼Œè¿˜å¯ä»¥ä½¿ç”¨<code>get()</code>æ–¹æ³•è·å–ã€‚</li><li>ä¿®æ”¹åŸå­—å…¸å¯¹è±¡ï¼Œè§†å›¾å¯¹è±¡çš„å€¼ä¹Ÿä¼šå‘ç”Ÿæ”¹å˜ï¼Œè§†å›¾å¯¹è±¡åŒ…æ‹¬ä»¥ä¸‹ä¸‰ä¸ªæ–¹æ³•ã€‚<ul><li><code>keys()</code>æ–¹æ³•è¿”å›å­—å…¸ä¸­æ‰€æœ‰çš„é”®åˆ—è¡¨ã€‚</li><li><code>values()</code>æ–¹æ³•è¿”å›å­—å…¸ä¸­æ‰€æœ‰çš„å€¼åˆ—è¡¨ã€‚</li><li><code>items()</code>æ–¹æ³•ä»¥åˆ—è¡¨è¿”å›å¯éå†çš„å…ƒç»„æ•°ç»„ã€‚</li></ul></li><li>ä½¿ç”¨<code>in</code>å…³é”®å­—å¯ä»¥ç¡®å®šå­—å…¸ä¸­æ˜¯å¦å­˜åœ¨æŒ‡å®šçš„é”®ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs Python">mydict = &#123;<br>    <span class="hljs-string">&quot;brand&quot;</span>: <span class="hljs-string">&quot;Ford&quot;</span>,<br>    <span class="hljs-string">&quot;model&quot;</span>: <span class="hljs-string">&quot;Mustang&quot;</span>,<br>    <span class="hljs-string">&quot;year&quot;</span>: <span class="hljs-number">1964</span><br>&#125;<br><br><span class="hljs-built_in">print</span>(mydict[<span class="hljs-string">&quot;model&quot;</span>])                     <span class="hljs-comment"># å¼•ç”¨é”®åè®¿é—®</span><br><span class="hljs-built_in">print</span>(mydict.get(<span class="hljs-string">&quot;model&quot;</span>))                 <span class="hljs-comment"># get()æ–¹æ³•è·å–</span><br><span class="hljs-built_in">print</span>(mydict.keys())                       <span class="hljs-comment"># è·å–é”®åˆ—è¡¨</span><br>mydict[<span class="hljs-string">&quot;colors&quot;</span>] = <span class="hljs-string">&quot;white&quot;</span>                 <span class="hljs-comment"># ä¿®æ”¹åŸå­—å…¸mydictçš„colorså¯¹è±¡</span><br><span class="hljs-built_in">print</span>(mydict.keys())                       <span class="hljs-comment"># è·å–çš„é”®åˆ—è¡¨ä¹Ÿå¾—åˆ°æ›´æ–°</span><br><span class="hljs-built_in">print</span>(mydict.values())                     <span class="hljs-comment"># è·å–å€¼åˆ—è¡¨</span><br>mydict[<span class="hljs-string">&quot;year&quot;</span>] = <span class="hljs-number">2022</span>                      <span class="hljs-comment"># ä¿®æ”¹åŸå­—å…¸mydictçš„yearå¯¹è±¡</span><br><span class="hljs-built_in">print</span>(mydict.values())                     <span class="hljs-comment"># è·å–çš„å€¼åˆ—è¡¨ä¹Ÿå¾—åˆ°æ›´æ–°</span><br><span class="hljs-built_in">print</span>(mydict.items())                      <span class="hljs-comment"># è¿”å›å­—å…¸ä¸­çš„æ¯ä¸ªé¡¹ç›®ä½œä¸ºåˆ—è¡¨çš„å…ƒç»„</span><br>mydict[<span class="hljs-string">&quot;year&quot;</span>] = <span class="hljs-number">2020</span>                      <span class="hljs-comment"># ä¿®æ”¹åŸå­—å…¸mydictçš„yearå¯¹è±¡</span><br><span class="hljs-built_in">print</span>(mydict.items())                      <span class="hljs-comment"># è·å–çš„å…ƒç»„æ•°ç»„ä¹Ÿå¾—åˆ°æ›´æ–°</span><br><br><span class="hljs-keyword">if</span> <span class="hljs-string">&quot;model&quot;</span> <span class="hljs-keyword">in</span> mydict:                      <span class="hljs-comment"># æ£€æŸ¥mydictå­—å…¸ä¸­æ˜¯å¦å­˜åœ¨modelå¯¹è±¡</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Yes, &#x27;model&#x27; is one of the keys in mydict dictionary.&quot;</span>)<br></code></pre></td></tr></table></figure><h3 id="2-æ›´æ”¹å­—å…¸é¡¹"><a href="#2-æ›´æ”¹å­—å…¸é¡¹" class="headerlink" title="(2) æ›´æ”¹å­—å…¸é¡¹"></a>(2) æ›´æ”¹å­—å…¸é¡¹</h3><ul><li>é€šè¿‡å¼•ç”¨é”®åæ¥æ›´æ”¹ç‰¹å®šå­—å…¸é¡¹çš„å€¼ã€‚</li><li><code>update()</code>æ–¹æ³•ä½¿ç”¨ç»™å®šå‚æ•°ä¸­çš„å­—å…¸é¡¹æ›´æ–°å­—å…¸ï¼Œå‚æ•°å¿…é¡»æ˜¯å­—å…¸æˆ–å…·æœ‰é”®å€¼å¯¹çš„å¯è¿­ä»£å¯¹è±¡ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs Python">mydict = &#123;<br>    <span class="hljs-string">&quot;brand&quot;</span>: <span class="hljs-string">&quot;Ford&quot;</span>,<br>    <span class="hljs-string">&quot;model&quot;</span>: <span class="hljs-string">&quot;Mustang&quot;</span>,<br>    <span class="hljs-string">&quot;year&quot;</span>: <span class="hljs-number">1964</span><br>&#125;<br><br>mydict[<span class="hljs-string">&quot;year&quot;</span>] = <span class="hljs-number">2019</span>                      <span class="hljs-comment"># å¼•ç”¨é”®åæ›´æ”¹</span><br><span class="hljs-built_in">print</span>(mydict)<br>mydict.update(&#123;<span class="hljs-string">&quot;year&quot;</span>: <span class="hljs-number">2021</span>&#125;)              <span class="hljs-comment"># update()æ–¹æ³•æ›´æ–°</span><br><span class="hljs-built_in">print</span>(mydict)<br></code></pre></td></tr></table></figure><h3 id="3-æ·»åŠ å­—å…¸é¡¹"><a href="#3-æ·»åŠ å­—å…¸é¡¹" class="headerlink" title="(3) æ·»åŠ å­—å…¸é¡¹"></a>(3) æ·»åŠ å­—å…¸é¡¹</h3><ul><li>é€šè¿‡ä½¿ç”¨æ–°çš„ç´¢å¼•é”®å¹¶ä¸ºå…¶åˆ†é…å€¼æ¥å®Œæˆå‘å­—å…¸æ·»åŠ é¡¹ç›®ã€‚</li><li><code>update()</code>æ–¹æ³•ä½¿ç”¨ç»™å®šå‚æ•°ä¸­çš„å­—å…¸é¡¹æ›´æ–°å­—å…¸ï¼Œå‚æ•°å¿…é¡»æ˜¯å­—å…¸æˆ–å…·æœ‰é”®å€¼å¯¹çš„å¯è¿­ä»£å¯¹è±¡ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs Python">mydict = &#123;<br>    <span class="hljs-string">&quot;brand&quot;</span>: <span class="hljs-string">&quot;Ford&quot;</span>,<br>    <span class="hljs-string">&quot;model&quot;</span>: <span class="hljs-string">&quot;Mustang&quot;</span>,<br>    <span class="hljs-string">&quot;year&quot;</span>: <span class="hljs-number">1964</span><br>&#125;<br><br>mydict[<span class="hljs-string">&quot;color&quot;</span>] = <span class="hljs-string">&quot;red&quot;</span>                    <span class="hljs-comment"># ä½¿ç”¨æ–°çš„ç´¢å¼•é”®å¹¶ä¸ºå…¶åˆ†é…å€¼</span><br><span class="hljs-built_in">print</span>(mydict)<br>mydict.update(&#123;<span class="hljs-string">&quot;price&quot;</span>: <span class="hljs-number">2000000</span>&#125;)          <span class="hljs-comment"># update()æ–¹æ³•å°†priceæ·»åŠ åˆ°å­—å…¸ä¸­</span><br><span class="hljs-built_in">print</span>(mydict)<br></code></pre></td></tr></table></figure><h3 id="4-åˆ é™¤å­—å…¸é¡¹"><a href="#4-åˆ é™¤å­—å…¸é¡¹" class="headerlink" title="(4) åˆ é™¤å­—å…¸é¡¹"></a>(4) åˆ é™¤å­—å…¸é¡¹</h3><ul><li><code>pop()</code>ï¼šåˆ é™¤å…·æœ‰æŒ‡å®šé”®åçš„é¡¹ç›®ã€‚</li><li><code>popitem()</code>ï¼šåˆ é™¤æœ€åæ’å…¥çš„é¡¹ç›®ï¼Œ3.7ä¹‹å‰çš„ç‰ˆæœ¬ä¼šåˆ é™¤éšæœºé¡¹ç›®ã€‚</li><li>ä½¿ç”¨<code>del</code>å…³é”®å­—åˆ é™¤å…·æœ‰æŒ‡å®šé”®åçš„é¡¹ç›®ï¼Œä¹Ÿå¯ä»¥å®Œå…¨åˆ é™¤æ•´ä¸ªå­—å…¸ã€‚</li><li><code>clear()</code>ï¼šæ¸…ç©ºå­—å…¸ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Python">mydict = &#123;<br>    <span class="hljs-string">&quot;brand&quot;</span>: <span class="hljs-string">&quot;Ford&quot;</span>,<br>    <span class="hljs-string">&quot;model&quot;</span>: <span class="hljs-string">&quot;Mustang&quot;</span>,<br>    <span class="hljs-string">&quot;year&quot;</span>: <span class="hljs-number">1964</span>,<br>    <span class="hljs-string">&quot;colors&quot;</span>: <span class="hljs-string">&quot;red&quot;</span>,<br>    <span class="hljs-string">&quot;price&quot;</span>: <span class="hljs-number">20000000</span><br>&#125;<br><br>mydict.pop(<span class="hljs-string">&quot;model&quot;</span>)                        <span class="hljs-comment"># åˆ é™¤æŒ‡å®šé”®åçš„é¡¹ç›®</span><br><span class="hljs-built_in">print</span>(mydict)  <br>mydict.popitem()                           <span class="hljs-comment"># åˆ é™¤æœ€åæ’å…¥çš„é¡¹ç›®</span><br><span class="hljs-built_in">print</span>(mydict)     <br><span class="hljs-keyword">del</span> mydict[<span class="hljs-string">&quot;brand&quot;</span>]                        <span class="hljs-comment"># åˆ é™¤æŒ‡å®šé”®åçš„é¡¹ç›®</span><br><span class="hljs-built_in">print</span>(mydict)<br>mydict.clear()                             <span class="hljs-comment"># æ¸…ç©ºå­—å…¸</span><br><span class="hljs-built_in">print</span>(mydict)       <br><span class="hljs-keyword">del</span> mydict                                 <span class="hljs-comment"># å®Œå…¨åˆ é™¤æ•´ä¸ªå­—å…¸</span><br><span class="hljs-comment"># print(mydict)                            # NameError: name &#x27;mydict&#x27; is not defined.</span><br></code></pre></td></tr></table></figure><h3 id="5-éå†å­—å…¸é¡¹"><a href="#5-éå†å­—å…¸é¡¹" class="headerlink" title="(5) éå†å­—å…¸é¡¹"></a>(5) éå†å­—å…¸é¡¹</h3><ul><li>forå¾ªç¯å¯ä»¥éå†å­—å…¸é¡¹ï¼Œè¿”å›å€¼å¯ä»¥æ˜¯å­—å…¸çš„é”®ï¼Œä¹Ÿå¯ä»¥æ˜¯å­—å…¸çš„å€¼ã€‚</li><li>å¯ä»¥ä½¿ç”¨forå¾ªç¯é…åˆ<code>keys()</code>å’Œ<code>values()</code>æ–¹æ³•åˆ†åˆ«è¿”å›å­—å…¸çš„é”®å’Œå€¼ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs Python">mydict = &#123;<br>    <span class="hljs-string">&quot;A&quot;</span>: <span class="hljs-string">&quot;Apple&quot;</span>,<br>    <span class="hljs-string">&quot;G&quot;</span>: <span class="hljs-string">&quot;Grape&quot;</span>,<br>    <span class="hljs-string">&quot;P&quot;</span>: <span class="hljs-string">&quot;Peach&quot;</span><br>&#125;<br><br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> mydict:<br>    <span class="hljs-built_in">print</span>(x)                               <span class="hljs-comment"># æ‰“å°å­—å…¸ä¸­çš„æ‰€æœ‰é”®</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-----&quot;</span>)<br><span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> mydict:<br>    <span class="hljs-built_in">print</span>(mydict[y])                       <span class="hljs-comment"># æ‰“å°å­—å…¸ä¸­çš„æ‰€æœ‰å€¼</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-----&quot;</span>)<br><span class="hljs-keyword">for</span> a <span class="hljs-keyword">in</span> mydict.keys():<br>    <span class="hljs-built_in">print</span>(a)                               <span class="hljs-comment"># keys()æ–¹æ³•è¿”å›é”®</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-----&quot;</span>)<br><span class="hljs-keyword">for</span> b <span class="hljs-keyword">in</span> mydict.values():<br>    <span class="hljs-built_in">print</span>(b)                               <span class="hljs-comment"># values()æ–¹æ³•è¿”å›å€¼</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-----&quot;</span>)<br><span class="hljs-keyword">for</span> x, y <span class="hljs-keyword">in</span> mydict.items():<br>    <span class="hljs-built_in">print</span>(x, y)                            <span class="hljs-comment"># items()æ–¹æ³•éå†keyså’Œvalues</span><br></code></pre></td></tr></table></figure><h3 id="6-å­—å…¸å¤åˆ¶"><a href="#6-å­—å…¸å¤åˆ¶" class="headerlink" title="(6) å­—å…¸å¤åˆ¶"></a>(6) å­—å…¸å¤åˆ¶</h3><ul><li><code>copy()</code>æ–¹æ³•å¯ä»¥å¤åˆ¶å‰¯æœ¬ï¼Œ<code>dict()</code>æ–¹æ³•åˆ™å¯ä»¥åˆ¶ä½œå‰¯æœ¬ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs Python">mydict = &#123;<br>    <span class="hljs-string">&quot;A&quot;</span>: <span class="hljs-string">&quot;Apple&quot;</span>,<br>    <span class="hljs-string">&quot;G&quot;</span>: <span class="hljs-string">&quot;Grape&quot;</span>,<br>    <span class="hljs-string">&quot;P&quot;</span>: <span class="hljs-string">&quot;Peach&quot;</span><br>&#125;<br><br>dict1 = mydict.copy()                      <span class="hljs-comment"># å¤åˆ¶å‰¯æœ¬</span><br><span class="hljs-built_in">print</span>(dict1)<br>dict2 = <span class="hljs-built_in">dict</span>(mydict)                       <span class="hljs-comment"># åˆ¶ä½œå‰¯æœ¬</span><br><span class="hljs-built_in">print</span>(dict2)<br></code></pre></td></tr></table></figure><h3 id="7-å­—å…¸åµŒå¥—"><a href="#7-å­—å…¸åµŒå¥—" class="headerlink" title="(7) å­—å…¸åµŒå¥—"></a>(7) å­—å…¸åµŒå¥—</h3><ul><li>å­—å…¸åµŒå¥—æŒ‡å­—å…¸å¯ä»¥åŒ…å«å­—å…¸ï¼Œå¯ä»¥å°†å…¶ä»–å­—å…¸æ·»åŠ åˆ°ä¸€ä¸ªæ–°å­—å…¸ä¸­ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Python">myfamily = &#123;                               <span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªåŒ…å«ä¸¤ä¸ªå­—å…¸çš„å­—å…¸</span><br>    <span class="hljs-string">&quot;child1&quot;</span>: &#123;<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Emil&quot;</span>, <span class="hljs-string">&quot;year&quot;</span>: <span class="hljs-number">2010</span>&#125;,<br>    <span class="hljs-string">&quot;child2&quot;</span>: &#123;<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Tobias&quot;</span>, <span class="hljs-string">&quot;year&quot;</span>: <span class="hljs-number">2020</span>&#125;<br>&#125;<br><span class="hljs-built_in">print</span>(myfamily)<br><br>child1 = &#123;<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Emil&quot;</span>, <span class="hljs-string">&quot;year&quot;</span>: <span class="hljs-number">2010</span>&#125;<br>child2 = &#123;<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Tobias&quot;</span>, <span class="hljs-string">&quot;year&quot;</span>: <span class="hljs-number">2020</span>&#125;<br>myfamily = &#123;                               <span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªåŒ…å«ä¸¤ä¸ªå­—å…¸çš„æ–°å­—å…¸</span><br>    <span class="hljs-string">&quot;child1&quot;</span>: child1,<br>    <span class="hljs-string">&quot;child2&quot;</span>: child2<br>&#125;<br><span class="hljs-built_in">print</span>(myfamily)<br></code></pre></td></tr></table></figure><h3 id="8-å†…ç½®æ–¹æ³•"><a href="#8-å†…ç½®æ–¹æ³•" class="headerlink" title="(8) å†…ç½®æ–¹æ³•"></a>(8) å†…ç½®æ–¹æ³•</h3><ul><li><code>setdefault()</code>ï¼šä¸<code>get()</code>æ–¹æ³•ç±»ä¼¼ï¼Œå¦‚æœé”®ä¸å­˜åœ¨äºå­—å…¸ä¸­ï¼Œå°±ä¼šæ·»åŠ é”®å¹¶å°†å€¼è®¾ä¸ºé»˜è®¤å€¼ã€‚</li><li><code>fromkeys()</code>ï¼šåˆ›å»ºæ–°å­—å…¸ï¼Œä»¥åºåˆ—ä¸­çš„å…ƒç´ ä½œä¸ºå­—å…¸çš„é”®ï¼Œvalueä¸ºå­—å…¸æ‰€æœ‰é”®å¯¹åº”çš„åˆå§‹å€¼ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python">mydict = &#123;<span class="hljs-string">&quot;A&quot;</span>: <span class="hljs-string">&quot;Hi~&quot;</span>, <span class="hljs-string">&quot;G&quot;</span>: <span class="hljs-string">&quot;Grape&quot;</span>&#125;<br><span class="hljs-built_in">print</span>(mydict.setdefault(<span class="hljs-string">&quot;A&quot;</span>))              <span class="hljs-comment"># ä¸get()æ–¹æ³•ç±»ä¼¼</span><br><span class="hljs-built_in">print</span>(mydict.setdefault(<span class="hljs-string">&quot;A&quot;</span>, <span class="hljs-literal">None</span>))<br><span class="hljs-built_in">print</span>(mydict.setdefault(<span class="hljs-string">&quot;P&quot;</span>))              <span class="hljs-comment"># æ·»åŠ é”®å¹¶å°†å€¼è®¾ä¸ºé»˜è®¤å€¼Noneï¼Œé»˜è®¤ä¸ºNoneåå†è®¾ç½®åˆ™æ— æ•ˆ</span><br><span class="hljs-comment"># print(mydict.setdefault(&quot;P&quot;, &quot;Peach&quot;))</span><br><span class="hljs-built_in">print</span>(mydict)<br><br>seq = (<span class="hljs-string">&quot;Apple&quot;</span>, <span class="hljs-string">&quot;Grape&quot;</span>, <span class="hljs-string">&quot;Peach&quot;</span>)<br>mydict = <span class="hljs-built_in">dict</span>.fromkeys(seq)                <span class="hljs-comment"># ä¸æŒ‡å®šé»˜è®¤çš„é”®å€¼ï¼Œé»˜è®¤ä¸ºNone</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">str</span>(mydict))                         <span class="hljs-comment"># &#123;&#x27;Apple&#x27;: None, &#x27;Grape&#x27;: None, &#x27;Peach&#x27;: None&#125;</span><br>mydict = <span class="hljs-built_in">dict</span>.fromkeys(seq, <span class="hljs-number">1000</span>)          <span class="hljs-comment"># æŒ‡å®šé»˜è®¤çš„é”®å€¼ä¸º1000</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">str</span>(mydict))                         <span class="hljs-comment"># &#123;&#x27;Apple&#x27;: 1000, &#x27;Grape&#x27;: 1000, &#x27;Peach&#x27;: 1000&#125;</span><br></code></pre></td></tr></table></figure><h1 id="5-æ•°ç»„"><a href="#5-æ•°ç»„" class="headerlink" title="5 æ•°ç»„"></a>5 æ•°ç»„</h1><ul><li>æ•°ç»„<ul><li>Pythonæ²¡æœ‰æ•°ç»„ç±»å‹ï¼Œåªæœ‰åˆ—è¡¨ç±»å‹ï¼Œæ•°ç»„å¯ä»¥ç”¨åˆ—è¡¨æ¥æ›¿ä»£ã€‚</li><li>æ•°ç»„ç”¨äºåœ¨ä¸€ä¸ªå˜é‡ä¸­å­˜å‚¨å¤šä¸ªå€¼ï¼Œé€šè¿‡ç´¢å¼•å·æ¥è®¿é—®è¿™äº›å€¼ã€‚</li><li>Pythonæ²¡æœ‰å¯¹æ•°ç»„çš„å†…ç½®æ”¯æŒï¼Œåˆ—è¡¨ä»£æ›¿æ—¶å†…ç½®æ–¹æ³•ä¸ä¹‹ç›¸é€šã€‚<ul><li><code>append()</code>ã€<code>clear()</code>ã€<code>copy()</code>ã€<code>count()</code>ã€<code>extend()</code>ã€‚</li><li><code>index()</code>ã€<code>insert()</code>ã€<code>pop()</code>ã€<code>remove()</code>ã€<code>reverse()</code>ã€<code>sort()</code>ã€‚</li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python">fruits = [<span class="hljs-string">&quot;Apple&quot;</span>, <span class="hljs-string">&quot;Grape&quot;</span>, <span class="hljs-string">&quot;Peach&quot;</span>]<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">len</span>(fruits))            <span class="hljs-comment"># è¿”å›è¯¥æ•°ç»„çš„é•¿åº¦ï¼Œé•¿åº¦æ€»æ¯”æœ€é«˜æ•°ç»„ç´¢å¼•æ•°å¤§1</span><br><span class="hljs-built_in">print</span>(fruits[<span class="hljs-number">0</span>])              <span class="hljs-comment"># è·å–ç¬¬ä¸€ä¸ªæ•°ç»„é¡¹çš„å€¼</span><br>fruits[<span class="hljs-number">0</span>] = <span class="hljs-string">&quot;Lemon&quot;</span>           <span class="hljs-comment"># ä¿®æ”¹ç¬¬ä¸€ä¸ªæ•°ç»„é¡¹çš„å€¼</span><br><br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> fruits:              <span class="hljs-comment"># ä½¿ç”¨forå¾ªç¯éå†æ•°ç»„çš„æ‰€æœ‰å…ƒç´ </span><br>    <span class="hljs-built_in">print</span>(x)<br><br>fruits.remove(<span class="hljs-string">&quot;Peach&quot;</span>)        <span class="hljs-comment"># remove()æ–¹æ³•ä»æ•°ç»„åˆ é™¤Peachå…ƒç´ ï¼Œåªåˆ é™¤ç¬¬ä¸€æ¬¡å‡ºç°çš„æŒ‡å®šå€¼</span><br><span class="hljs-built_in">print</span>(fruits)<br><br>fruits = [<span class="hljs-string">&quot;Apple&quot;</span>, <span class="hljs-string">&quot;Grape&quot;</span>, <span class="hljs-string">&quot;Peach&quot;</span>]<br>fruits.pop(<span class="hljs-number">1</span>)                 <span class="hljs-comment"># pop()æ–¹æ³•ä»æ•°ç»„åˆ é™¤ç¬¬äºŒä¸ªå…ƒç´ </span><br><span class="hljs-built_in">print</span>(fruits)<br><br>fruits.append(<span class="hljs-string">&quot;Mango&quot;</span>)        <span class="hljs-comment"># append()æ–¹æ³•æ·»åŠ å…ƒç´ </span><br><span class="hljs-built_in">print</span>(fruits)<br></code></pre></td></tr></table></figure><h2 id="5-1-numpyåº“"><a href="#5-1-numpyåº“" class="headerlink" title="5-1 numpyåº“"></a>5-1 numpyåº“</h2><ul><li>numpyåº“<ul><li>æ•°ç»„åœ¨numpyåº“ä¸­å®šä¹‰ï¼Œè‹¥è¦ä½¿ç”¨ï¼Œéœ€äº‹å…ˆå¯¼å…¥åº“ï¼Œæ•°ç»„ç±»å‹ä¸º<code>&lt;class &#39;numpy.ndarray&#39;&gt;</code>ã€‚</li><li>numpyä¸­çš„æ•°ç»„å¯¹è±¡ç§°ä¸ºndarrayï¼Œé€šè¿‡ä½¿ç”¨<code>array()</code>å‡½æ•°å¯ä»¥åˆ›å»ºä¸€ä¸ªnumpyçš„ndarrayå¯¹è±¡ã€‚</li><li>å°†åˆ—è¡¨ã€å…ƒç»„æˆ–ä»»ä½•ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ä¼ é€’ç»™<code>array()</code>æ–¹æ³•ï¼Œ<code>array()</code>æ–¹æ³•å°†å…¶è½¬æ¢ä¸ºndarrayã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>myArray = np.array([[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>], [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>]])<br><span class="hljs-built_in">print</span>(myArray)                <span class="hljs-comment"># åˆ—è¡¨åˆ›å»ºæ•°ç»„</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(myArray))          <span class="hljs-comment"># &lt;class &#x27;numpy.ndarray&#x27;&gt;</span><br><br>myArray = np.array((<br>    (<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>),<br>    (<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>)<br>))<br><span class="hljs-built_in">print</span>(myArray)                <span class="hljs-comment"># å…ƒç»„åˆ›å»ºæ•°ç»„</span><br></code></pre></td></tr></table></figure><h2 id="5-2-æ•°ç»„ç»´åº¦"><a href="#5-2-æ•°ç»„ç»´åº¦" class="headerlink" title="5-2 æ•°ç»„ç»´åº¦"></a>5-2 æ•°ç»„ç»´åº¦</h2><ul><li>æ•°ç»„ç»´åº¦<ul><li>æ•°ç»„ç»´åº¦æ˜¯åµŒå¥—æ•°ç»„çš„ä¸€ä¸ªçº§åˆ«ï¼ŒåµŒå¥—æ•°ç»„å³æ•°ç»„ä¸­æœ‰æ•°ç»„ã€‚</li><li>é›¶ç»´æ•°ç»„ï¼Œä¹Ÿå«æ ‡é‡ï¼Œæ•°ç»„å€¼åªæœ‰ä¸€ä¸ªã€‚</li><li>ä¸€ç»´æ•°ç»„ï¼ŒæŒ‡ç”±å¤šä¸ªå…ƒç´ å€¼æ„æˆçš„æ•°ç»„ã€‚</li><li>äºŒç»´æ•°ç»„<ul><li>æ˜¯ä¸€ç»´æ•°ç»„çš„æ•°ç»„ï¼Œé€šå¸¸ç”¨äºè¡¨ç¤ºçŸ©é˜µï¼Œæˆ–è€…æ˜¯äºŒé˜¶å¼ é‡ã€‚</li><li>numpyåº“ä¸­æœ‰ä¸“é—¨ç”¨äºçŸ©é˜µè¿ç®—çš„å®Œæ•´å­æ¨¡å—<code>numpy.mat</code>ã€‚</li></ul></li><li>ä¸‰ç»´æ•°ç»„ï¼Œæ˜¯äºŒç»´æ•°ç»„çš„æ•°ç»„ã€‚</li><li>æ•°ç»„å¯ä»¥æ‹¥æœ‰ä»»æ„æ•°é‡çš„ç»´åº¦ï¼Œåˆ›å»ºæ•°ç»„æ—¶ä½¿ç”¨ndminå‚æ•°å®šä¹‰ç»´æ•°ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>a = <span class="hljs-number">1</span><br>arr0 = np.array(a)            <span class="hljs-comment"># é›¶ç»´æ•°ç»„</span><br><span class="hljs-built_in">print</span>(arr0)<br><span class="hljs-built_in">print</span>(arr0.ndim)              <span class="hljs-comment"># ndimå±æ€§è¿”å›ä¸€ä¸ªæ•´æ•°ï¼Œæ£€æŸ¥æ•°ç»„ç»´åº¦</span><br><span class="hljs-built_in">print</span>(arr0.shape)             <span class="hljs-comment"># è¿”å›å…ƒç»„ï¼Œè·å–æ•°ç»„å„ä¸ªç»´åº¦çš„ç»´æ•°</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-----&quot;</span>)<br><br>b = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<br>arr1 = np.array(b)            <span class="hljs-comment"># ä¸€ç»´æ•°ç»„</span><br><span class="hljs-built_in">print</span>(arr1.ndim)<br><span class="hljs-built_in">print</span>(arr1.shape)<br><span class="hljs-built_in">print</span>(arr1)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-----&quot;</span>)<br><br>c = [[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>], [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>]]<br>arr2 = np.array(c)            <span class="hljs-comment"># äºŒç»´æ•°ç»„</span><br><span class="hljs-built_in">print</span>(arr2.ndim)<br><span class="hljs-built_in">print</span>(arr2.shape)<br><span class="hljs-built_in">print</span>(arr2)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-----&quot;</span>)<br><br>d = [[<span class="hljs-number">7</span>, <span class="hljs-number">8</span>], [<span class="hljs-number">10</span>, <span class="hljs-number">11</span>]]<br>arr3 = np.array([c, d])       <span class="hljs-comment"># ä¸‰ç»´æ•°ç»„</span><br><span class="hljs-built_in">print</span>(arr3)<br><span class="hljs-built_in">print</span>(arr3.shape)<br><span class="hljs-built_in">print</span>(arr3.ndim)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-----&quot;</span>)<br><br>arr5 = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>], ndmin=<span class="hljs-number">5</span>)<br><span class="hljs-built_in">print</span>(arr5.ndim)              <span class="hljs-comment"># äº”ç»´æ•°ç»„</span><br><span class="hljs-built_in">print</span>(arr5.shape)<br><span class="hljs-built_in">print</span>(arr5)<br></code></pre></td></tr></table></figure><h2 id="5-3-æ•°ç»„è£åˆ‡"><a href="#5-3-æ•°ç»„è£åˆ‡" class="headerlink" title="5-3 æ•°ç»„è£åˆ‡"></a>5-3 æ•°ç»„è£åˆ‡</h2><ul><li>æ•°ç»„è£åˆ‡<ul><li>æ•°ç»„è£åˆ‡ç±»ä¼¼åˆ—è¡¨å’Œå…ƒç»„çš„åˆ‡ç‰‡ï¼Œæ ¼å¼ï¼š<code>[start: end]</code>æˆ–<code>[start: end: step]</code>ã€‚</li><li>å°†å…ƒç´ ä»ä¸€ä¸ªç»™å®šçš„ç´¢å¼•åˆ‡åˆ°å¦ä¸€ä¸ªç»™å®šçš„ç´¢å¼•ï¼ŒåŒ…å«å¼€å§‹ç´¢å¼•ï¼Œä¸åŒ…å«ç»“æŸç´¢å¼•ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>arr1 = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>])<br><span class="hljs-built_in">print</span>(arr1.ndim)              <span class="hljs-comment"># ä¸€ç»´æ•°ç»„</span><br><span class="hljs-built_in">print</span>(arr1[<span class="hljs-number">1</span>: <span class="hljs-number">3</span>])             <span class="hljs-comment"># è£åˆ‡ç´¢å¼•1åˆ°3çš„å…ƒç´ </span><br><span class="hljs-built_in">print</span>(arr1[<span class="hljs-number">1</span>: <span class="hljs-number">5</span>: <span class="hljs-number">2</span>])          <span class="hljs-comment"># è®¾ç½®è£åˆ‡æ­¥é•¿ä¸º2</span><br><span class="hljs-built_in">print</span>(arr1[:: <span class="hljs-number">4</span>])             <span class="hljs-comment"># è¿”å›æ•°ç»„ä¸­ç›¸éš”çš„å…ƒç´ </span><br><span class="hljs-built_in">print</span>(arr1[-<span class="hljs-number">3</span>: -<span class="hljs-number">1</span>])           <span class="hljs-comment"># è´Ÿè£åˆ‡ï¼Œç´¢å¼•ä»-1å¼€å§‹</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-----&quot;</span>)<br><br>arr2 = np.array([[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>], [<span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>]])<br><span class="hljs-built_in">print</span>(arr2.ndim)              <span class="hljs-comment"># äºŒç»´æ•°ç»„</span><br><span class="hljs-built_in">print</span>(arr2[<span class="hljs-number">1</span>, <span class="hljs-number">1</span>: <span class="hljs-number">3</span>])          <span class="hljs-comment"># ç¬¬äºŒä¸ªå…ƒç´ [6, 7, 8, 9, 10]ï¼Œç´¢å¼•å·ä»1åˆ°3çš„å…ƒç´ </span><br><span class="hljs-built_in">print</span>(arr2[<span class="hljs-number">0</span>: <span class="hljs-number">2</span>, <span class="hljs-number">2</span>])          <span class="hljs-comment"># ç¬¬ä¸€ä¸ªå…ƒç´ å’Œç¬¬äºŒä¸ªå…ƒç´ ï¼Œå„è‡ªç´¢å¼•å·ä¸º2çš„å…ƒç´ </span><br><span class="hljs-built_in">print</span>(arr2[<span class="hljs-number">0</span>: <span class="hljs-number">2</span>, <span class="hljs-number">1</span>: <span class="hljs-number">3</span>])       <span class="hljs-comment"># ç¬¬ä¸€ä¸ªå…ƒç´ å’Œç¬¬äºŒä¸ªå…ƒç´ ï¼Œå„è‡ªç´¢å¼•å·ä»1åˆ°3çš„å…ƒç´ ï¼Œè¿”å›æ•°ç»„</span><br></code></pre></td></tr></table></figure><h1 id="6-ifè¯­å¥"><a href="#6-ifè¯­å¥" class="headerlink" title="6 ifè¯­å¥"></a>6 ifè¯­å¥</h1><ul><li>ifè¯­å¥<ul><li>ä½¿ç”¨<code>if</code>å…³é”®å­—ç¼–å†™ã€‚</li><li>æ”¯æŒ<code>if...</code>ã€<code>if...elif...</code>ã€<code>if...elif...else...</code>å’Œ<code>if...else...</code>å››ç§æ ¼å¼ã€‚</li><li><code>if...</code>æ ¼å¼ï¼Œå¦‚æœåªæœ‰ä¸€æ¡è¯­å¥è¦æ‰§è¡Œï¼Œå¯ä»¥å°†è¯¥æ¡æ‰§è¡Œè¯­å¥ä¸ifè¯­å¥æ”¾åœ¨åŒä¸€è¡Œä¸Šã€‚</li><li><code>if...else...</code>æ ¼å¼ï¼Œå¦‚æœåªæœ‰ä¸€æ¡è¯­å¥è¦æ‰§è¡Œï¼Œå¯ä»¥å°†æ‰§è¡Œè¯­å¥ä¸ifè¯­å¥æ”¾åœ¨åŒä¸€è¡Œã€‚</li><li>å¦‚æœifè¯­å¥æ²¡æœ‰å†…å®¹è¾“å‡ºï¼Œä½¿ç”¨<code>pass</code>å…³é”®å­—å¯ä»¥é¿å…è¯­å¥æŠ¥é”™ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs Python">a = <span class="hljs-number">10</span><br>b = <span class="hljs-number">20</span><br><span class="hljs-keyword">if</span> b &gt; a:                             <span class="hljs-comment"># æ³¨æ„ç¼©è¿›ï¼Œè‹¥æ²¡æœ‰ç¼©è¿›ï¼Œä¼šæŠ¥é”™</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;a &lt; b&quot;</span>)<br><span class="hljs-keyword">elif</span> a == b:                          <span class="hljs-comment"># å¦‚æœifæ¡ä»¶ä¸æˆç«‹ï¼Œåˆ™æ‰§è¡Œelif</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;a = b&quot;</span>)<br><span class="hljs-keyword">else</span>:                                 <span class="hljs-comment"># elseå…³é”®å­—æ•è·ä»»ä½•æœªè¢«ä¸Šè¿°æ¡ä»¶æ•è·çš„å†…å®¹</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;a &gt; b&quot;</span>)<br><br><span class="hljs-keyword">if</span> a &lt; b: <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;a &lt; b&quot;</span>)              <span class="hljs-comment"># åªæœ‰ä¸€æ¡è¯­å¥è¦æ‰§è¡Œï¼Œå°†æ‰§è¡Œè¯­å¥ä¸ifè¯­å¥æ”¾åœ¨åŒä¸€è¡Œ</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;B&quot;</span>) <span class="hljs-keyword">if</span> a &lt; b <span class="hljs-keyword">else</span> <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;A&quot;</span>)   <span class="hljs-comment"># åˆå«ä¸‰å…ƒè¿ç®—ç¬¦æˆ–æ¡ä»¶è¡¨è¾¾å¼ï¼Œè¿˜å¯åŒä¸€è¡Œä¸Šå¤šä¸ªelseè¯­å¥</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;A&quot;</span>) <span class="hljs-keyword">if</span> a &gt; b <span class="hljs-keyword">else</span> <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;=&quot;</span>) <span class="hljs-keyword">if</span> a == b <span class="hljs-keyword">else</span> <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;B&quot;</span>)<br><br>x = <span class="hljs-number">23</span><br><span class="hljs-keyword">if</span> x &gt; <span class="hljs-number">10</span>:                            <span class="hljs-comment"># ifåµŒå¥—</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;x &gt; 10&quot;</span>)<br>    <span class="hljs-keyword">if</span> x &gt; <span class="hljs-number">20</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;x &gt; 20&quot;</span>)<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;x &lt; 20&quot;</span>)<br><br><span class="hljs-keyword">if</span> a == b:<br>    <span class="hljs-keyword">pass</span>                              <span class="hljs-comment"># passå…³é”®å­—é¿å…å‡ºé”™</span><br></code></pre></td></tr></table></figure><h1 id="7-forå¾ªç¯"><a href="#7-forå¾ªç¯" class="headerlink" title="7 forå¾ªç¯"></a>7 forå¾ªç¯</h1><ul><li>forå¾ªç¯<ul><li>ç”¨äºè¿­ä»£åºåˆ—ï¼Œä¾‹å¦‚åˆ—è¡¨ã€å…ƒç»„ã€é›†åˆæˆ–å­—ç¬¦ä¸²ç­‰ï¼Œä¸éœ€è¦é¢„å…ˆè®¾ç½®ç´¢å¼•å˜é‡ã€‚</li><li>ä½¿ç”¨<code>break</code>å…³é”®å­—ï¼Œå¯ä»¥åœ¨å¾ªç¯éå†æ‰€æœ‰é¡¹ç›®ä¹‹å‰åœæ­¢å¾ªç¯ã€‚</li><li><code>continue</code>å…³é”®å­—ï¼Œåœæ­¢å¾ªç¯çš„å½“å‰è¿­ä»£ï¼Œå¹¶ç»§ç»­ä¸‹ä¸€ä¸ªå¾ªç¯ã€‚</li><li>è‹¥forå¾ªç¯è¯­å¥æ²¡å†…å®¹è¾“å‡ºï¼Œä½¿ç”¨<code>pass</code>å…³é”®å­—å¯é¿å…è¯­å¥æŠ¥é”™ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs Python">fruits = [<span class="hljs-string">&quot;Apple&quot;</span>, <span class="hljs-string">&quot;Grape&quot;</span>, <span class="hljs-string">&quot;Peach&quot;</span>]<br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> fruits:<br>    <span class="hljs-built_in">print</span>(x)                          <span class="hljs-comment"># éå†åˆ—è¡¨</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-----&quot;</span>)<br><br><span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> <span class="hljs-string">&quot;Grape&quot;</span>:<br>    <span class="hljs-built_in">print</span>(y)                          <span class="hljs-comment"># éå†å­—ç¬¦ä¸²</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-----&quot;</span>)<br><br><span class="hljs-keyword">for</span> z <span class="hljs-keyword">in</span> fruits:<br>    <span class="hljs-built_in">print</span>(z)                          <span class="hljs-comment"># Apple, Grape</span><br>    <span class="hljs-keyword">if</span> z == <span class="hljs-string">&quot;Grape&quot;</span>:<br>        <span class="hljs-keyword">break</span>                         <span class="hljs-comment"># éå†åˆ°Grapeæ—¶breakåœæ­¢ï¼Œè·³å‡ºå¾ªç¯</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-----&quot;</span>)<br><br><span class="hljs-keyword">for</span> a <span class="hljs-keyword">in</span> fruits:<br>    <span class="hljs-keyword">if</span> a == <span class="hljs-string">&quot;Grape&quot;</span>:<br>        <span class="hljs-keyword">break</span><br>    <span class="hljs-built_in">print</span>(a)                          <span class="hljs-comment"># Apple</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-----&quot;</span>)<br><br><span class="hljs-keyword">for</span> b <span class="hljs-keyword">in</span> fruits:<br>    <span class="hljs-keyword">if</span> b == <span class="hljs-string">&quot;Grape&quot;</span>:<br>        <span class="hljs-keyword">continue</span>                      <span class="hljs-comment"># éå†åˆ°Grapeæ—¶continueè·³è¿‡ï¼Œç»§ç»­ä¸‹ä¸€ä¸ªå¾ªç¯</span><br>    <span class="hljs-built_in">print</span>(b)                          <span class="hljs-comment"># Apple, Peach</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-----&quot;</span>)<br><br>obj = [<span class="hljs-string">&quot;red&quot;</span>, <span class="hljs-string">&quot;big&quot;</span>, <span class="hljs-string">&quot;delicious&quot;</span>]<br><span class="hljs-keyword">for</span> a <span class="hljs-keyword">in</span> obj:                         <span class="hljs-comment"># forå¾ªç¯åµŒå¥—</span><br>    <span class="hljs-keyword">for</span> b <span class="hljs-keyword">in</span> fruits:<br>        <span class="hljs-built_in">print</span>(a, b)<br><br><span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]:<br>    <span class="hljs-keyword">pass</span>                              <span class="hljs-comment"># passå…³é”®å­—é¿å…å‡ºé”™</span><br></code></pre></td></tr></table></figure><h2 id="7-1-range-å‡½æ•°"><a href="#7-1-range-å‡½æ•°" class="headerlink" title="7-1 range()å‡½æ•°"></a>7-1 range()å‡½æ•°</h2><ul><li>range()å‡½æ•°<ul><li>å¾ªç¯ä¸€ç»„ä»£ç æŒ‡å®šçš„æ¬¡æ•°ï¼Œå¯ä»¥ä½¿ç”¨<code>range()</code>å‡½æ•°ã€‚</li><li>è¿”å›ä¸€ä¸ªæ•°å­—åºåˆ—ï¼Œé»˜è®¤ä»0å¼€å§‹é€’å¢1ï¼Œå¹¶ä»¥æŒ‡å®šçš„æ•°å­—ç»“æŸã€‚</li><li><code>range()</code>å‡½æ•°é»˜è®¤æ˜¯ä»¥0ä½œä¸ºèµ·å§‹å€¼çš„ï¼Œé€šè¿‡æ·»åŠ å‚æ•°æ¥æŒ‡å®šã€‚</li><li><code>range()</code>å‡½æ•°é»˜è®¤åºåˆ—é€’å¢1ï¼Œå¯ä»¥é€šè¿‡æ·»åŠ ç¬¬3ä¸ªå‚æ•°æ¥æŒ‡å®šã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">for</span> a <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">3</span>):<br>    <span class="hljs-built_in">print</span>(a)                          <span class="hljs-comment"># æ‰“å°0åˆ°2çš„å€¼ï¼Œåºåˆ—é€’å¢1</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-&quot;</span>)<br><br><span class="hljs-keyword">for</span> b <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">3</span>, <span class="hljs-number">6</span>):<br>    <span class="hljs-built_in">print</span>(b)                          <span class="hljs-comment"># æ‰“å°3åˆ°5çš„å€¼ï¼Œåºåˆ—é€’å¢1</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-&quot;</span>)<br><br><span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">3</span>, <span class="hljs-number">10</span>, <span class="hljs-number">3</span>):<br>    <span class="hljs-built_in">print</span>(c)                          <span class="hljs-comment"># æ‰“å°3åˆ°9çš„å€¼ï¼Œåºåˆ—é€’å¢3</span><br></code></pre></td></tr></table></figure><h2 id="7-2-elseå…³é”®å­—"><a href="#7-2-elseå…³é”®å­—" class="headerlink" title="7-2 elseå…³é”®å­—"></a>7-2 elseå…³é”®å­—</h2><ul><li>elseå…³é”®å­—<ul><li>forå¾ªç¯ä¸­çš„<code>else</code>å…³é”®å­—ç”¨æ¥æŒ‡å®šå¾ªç¯ç»“æŸæ—¶è¦æ‰§è¡Œçš„ä»£ç å—ã€‚</li><li>å¦‚æœå¾ªç¯è¯­å¥è¢«<code>break</code>åœæ­¢ï¼Œåˆ™elseè¯­å¥çš„ä»£ç å—ä¸ä¼šè¢«æ‰§è¡Œã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">3</span>):<br>    <span class="hljs-built_in">print</span>(x)                          <span class="hljs-comment"># æ‰“å°ä»0åˆ°3çš„æ‰€æœ‰æ•°å­—ï¼Œå¹¶åœ¨å¾ªç¯ç»“æŸæ—¶æ‰“å°ä¸€æ¡ä¿¡æ¯</span><br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-&quot;</span>)<br><br><span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">6</span>):<br>    <span class="hljs-keyword">if</span> y == <span class="hljs-number">1</span>: <span class="hljs-keyword">break</span>                  <span class="hljs-comment"># å½“å¾ªç¯åˆ°yä¸º3æ—¶ï¼Œbreakåœæ­¢å¹¶è·³å‡ºå¾ªç¯ï¼Œelseè¯­å¥ä¸æ‰§è¡Œ</span><br>    <span class="hljs-built_in">print</span>(y)<br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Finally finished!&quot;</span>)<br></code></pre></td></tr></table></figure><h1 id="8-whileå¾ªç¯"><a href="#8-whileå¾ªç¯" class="headerlink" title="8 whileå¾ªç¯"></a>8 whileå¾ªç¯</h1><ul><li>whileå¾ªç¯<ul><li>åªè¦æ¡ä»¶ä¸ºçœŸï¼Œå°±å¯ä»¥æ‰§è¡Œä¸€ç»„è¯­å¥ã€‚</li><li>ä½¿ç”¨<code>break</code>å…³é”®å­—ï¼Œå³ä½¿whileæ¡ä»¶ä¸ºçœŸï¼Œä¹Ÿå¯ä»¥åœæ­¢å¾ªç¯ã€‚</li><li>ä½¿ç”¨<code>continue</code>å…³é”®å­—ï¼Œåœæ­¢å½“å‰è¿­ä»£ï¼Œå¹¶ç»§ç»­ä¸‹ä¸€ä¸ªå¾ªç¯ã€‚</li><li>å½“æ¡ä»¶ä¸å†ä¸ºçœŸæ—¶è¿è¡Œä¸€æ®µä»£ç ï¼Œå¯ä»¥ä½¿ç”¨elseè¯­å¥ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs Python">a = <span class="hljs-number">1</span><br><span class="hljs-keyword">while</span> a &lt; <span class="hljs-number">3</span>:<br>    <span class="hljs-built_in">print</span>(a)                          <span class="hljs-comment"># æ‰“å°å°äº3çš„æ•°</span><br>    a += <span class="hljs-number">1</span>                            <span class="hljs-comment"># æ³¨æ„é€’å¢ï¼Œå¦åˆ™å¾ªç¯æ°¸è¿œç»§ç»­</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-&quot;</span>)<br><br>b = <span class="hljs-number">1</span><br><span class="hljs-keyword">while</span> b &lt; <span class="hljs-number">5</span>:<br>    <span class="hljs-built_in">print</span>(b)<br>    <span class="hljs-keyword">if</span> b == <span class="hljs-number">3</span>:<br>        <span class="hljs-keyword">break</span>                         <span class="hljs-comment"># å½“bä¸º3æ—¶breakåœæ­¢ï¼Œè·³å‡ºå¾ªç¯</span><br>    b += <span class="hljs-number">1</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-&quot;</span>)<br><br>c = <span class="hljs-number">0</span><br><span class="hljs-keyword">while</span> c &lt; <span class="hljs-number">5</span>:<br>    c += <span class="hljs-number">1</span><br>    <span class="hljs-keyword">if</span> c == <span class="hljs-number">3</span>:<br>        <span class="hljs-keyword">continue</span>                      <span class="hljs-comment"># å½“cä¸º3æ—¶ï¼Œç»§ç»­ä¸‹ä¸€æ¬¡è¿­ä»£</span><br>    <span class="hljs-built_in">print</span>(c)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-&quot;</span>)<br><br>x = <span class="hljs-number">1</span><br><span class="hljs-keyword">while</span> x &lt; <span class="hljs-number">6</span>:<br>    <span class="hljs-built_in">print</span>(x)<br>    x += <span class="hljs-number">1</span><br><span class="hljs-keyword">else</span>:                                 <span class="hljs-comment"># æ¡ä»¶ä¸å†ä¸ºçœŸæ—¶è¿è¡Œ</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;x &gt;= 6&quot;</span>)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŸºç¡€è¯­æ³•</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
