

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/logo.png">
  <link rel="icon" href="/img/logo.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Dr.626">
  <meta name="keywords" content="">
  
    <meta name="description" content="ğŸ¦ æœºå™¨å­¦ä¹ æ˜¯ä¸€ç§åˆ†ææ•°æ®å¹¶å­¦ä¹ é¢„æµ‹ç»“æœçš„ç¨‹åºï¼Œæ˜¯è®©è®¡ç®—æœºä»ç ”ç©¶å’Œç»Ÿè®¡æ•°æ®ä¸­å­¦ä¹ ï¼Œæ˜¯è¿ˆå‘äººå·¥æ™ºèƒ½æ–¹å‘çš„ä¸€æ­¥ã€‚">
<meta property="og:type" content="article">
<meta property="og:title" content="Python æœºå™¨å­¦ä¹ ">
<meta property="og:url" content="https://stitch-top.github.io/2021/09/04/python/python10-python-ji-qi-xue-xi/index.html">
<meta property="og:site_name" content="Dr.626">
<meta property="og:description" content="ğŸ¦ æœºå™¨å­¦ä¹ æ˜¯ä¸€ç§åˆ†ææ•°æ®å¹¶å­¦ä¹ é¢„æµ‹ç»“æœçš„ç¨‹åºï¼Œæ˜¯è®©è®¡ç®—æœºä»ç ”ç©¶å’Œç»Ÿè®¡æ•°æ®ä¸­å­¦ä¹ ï¼Œæ˜¯è¿ˆå‘äººå·¥æ™ºèƒ½æ–¹å‘çš„ä¸€æ­¥ã€‚">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://stitch-top.github.io/img/ThemeMap/2215166355.jpg">
<meta property="article:published_time" content="2021-09-04T14:56:36.000Z">
<meta property="article:modified_time" content="2024-05-15T01:33:05.102Z">
<meta property="article:author" content="Dr.626">
<meta property="article:tag" content="æœºå™¨å­¦ä¹ ">
<meta property="article:tag" content="äººå·¥æ™ºèƒ½">
<meta property="article:tag" content="æ¨¡å‹è®­ç»ƒ">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://stitch-top.github.io/img/ThemeMap/2215166355.jpg">
  
  
  
  <title>Python æœºå™¨å­¦ä¹  - Dr.626</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- ä¸»é¢˜ä¾èµ–çš„å›¾æ ‡åº“ï¼Œä¸è¦è‡ªè¡Œä¿®æ”¹ -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  



  
<link rel="stylesheet" href="/css/my.css">



  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"stitch-top.github.io","root":"/","version":"1.9.0","typing":{"enable":true,"typeSpeed":70,"cursorChar":"|","loop":true,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":"âœ"},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"left","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":1},"lazyload":{"enable":true,"loading_img":"/img/load.gif","onlypost":true,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":false,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":"Jg3BjUa3RtnEFSREy3wsmUR5-MdYXbMMI","app_key":"DwsEb5BeMxwdz0CEJ6MUBdu3","server_url":null,"path":"window.location.pathname","ignore_local":true}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>

  
  
<meta name="generator" content="Hexo 6.2.0"></head>


<body>
  
  

  <header>
    

<div class="header-inner" style="height: 100vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Dr.626</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                é¦–é¡µ
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                å½’æ¡£
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                åˆ†ç±»
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                æ ‡ç­¾
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                å…³äº
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/">
                <i class="iconfont icon-link-fill"></i>
                å‹é“¾
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" target="_self" href="javascript:;" role="button"
                 data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="iconfont icon-code"></i>
                å®éªŒå®¤
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                
                  
                  
                  
                  <a class="dropdown-item" href="/tagsnet">
                    <i class="iconfont icon-bookmark"></i>
                    æ–‡ç« å…³ç³»ç½‘
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="/laboratory/plugin">
                    <i class="iconfont icon-bug"></i>
                    Hexoå°ç»„ä»¶
                  </a>
                
              </div>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/back-1.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="Python æœºå™¨å­¦ä¹ "></span>
          
        </div>

        
          
  <div class="mt-3">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-author" aria-hidden="true"></i>
        Dr.626
      </span>
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2021-09-04 22:56" pubdate>
          2021å¹´9æœˆ4æ—¥ 22:56:36
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          37k å­—
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          306 åˆ†é’Ÿ
        
      </span>
    

    
    
      
        <span id="leancloud-page-views-container" class="post-meta" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="leancloud-page-views"></span> æ¬¡
        </span>
        
      
    
  </div>


        
      </div>

      
        <div class="scroll-down-bar">
          <i class="iconfont icon-arrowdown"></i>
        </div>
      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
  
  <!-- åŠ¨æ€çº¿æ¡èƒŒæ™¯
  <script type="text/javascript"
  color="0 0 255" opacity='1' zIndex="-2" count="200" src="../js/canvas-nest.js">
  </script> -->
  
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="padding-left: 2rem; margin-right: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;ç›®å½•</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">Python æœºå™¨å­¦ä¹ </h1>
            
            <div class="markdown-body">
              
              <p>ğŸ¦ æœºå™¨å­¦ä¹ æ˜¯ä¸€ç§åˆ†ææ•°æ®å¹¶å­¦ä¹ é¢„æµ‹ç»“æœçš„ç¨‹åºï¼Œæ˜¯è®©è®¡ç®—æœºä»ç ”ç©¶å’Œç»Ÿè®¡æ•°æ®ä¸­å­¦ä¹ ï¼Œæ˜¯è¿ˆå‘äººå·¥æ™ºèƒ½æ–¹å‘çš„ä¸€æ­¥ã€‚</p>
<span id="more"></span>



<h1 id="1-æœºå™¨å­¦ä¹ "><a href="#1-æœºå™¨å­¦ä¹ " class="headerlink" title="1 æœºå™¨å­¦ä¹ "></a>1 æœºå™¨å­¦ä¹ </h1><ul>
<li>æœºå™¨å­¦ä¹ <ul>
<li>æ•°æ®ç±»å‹ä¸‰å¤§ç±»ï¼šæ•°å€¼çš„ã€ç»å¯¹çš„ã€åºæ•°ã€‚<ul>
<li>æ•°å€¼æ•°æ®æ˜¯æ•°å­—ï¼Œä¸¤ä¸ªç±»åˆ«ï¼šç¦»æ•£æ•°æ®(ä»…é™äºæ•´æ•°)ã€è¿ç»­æ•°æ®(å…·æœ‰æ— é™ä»·å€¼)ã€‚</li>
<li>åˆ†ç±»æ•°æ®æ˜¯æ— æ³•ç›¸äº’æ¯”è¾ƒçš„å€¼ï¼Œè€Œåºæ•°æ•°æ®ç±»ä¼¼äºåˆ†ç±»æ•°æ®ï¼Œä½†æ˜¯å¯ä»¥ç›¸äº’æ¯”è¾ƒã€‚</li>
</ul>
</li>
<li>å¹³å‡æ•°<code>mean</code>ã€ä¸­ä½æ•°<code>median</code>ã€ä¼—æ•°<code>mode</code>ã€æ ‡å‡†å·®<code>std</code>ã€‚</li>
<li>æ–¹å·®<code>var</code>ã€æ–¹å·®çš„å¹³æ–¹æ ¹&#x3D;æ ‡å‡†å·®ã€ç™¾åˆ†ä½æ•°<code>percentile()</code>ã€‚</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy<br><span class="hljs-keyword">from</span> scipy <span class="hljs-keyword">import</span> stats<br><span class="hljs-keyword">from</span> warnings <span class="hljs-keyword">import</span> simplefilter                            <span class="hljs-comment"># å¿½ç•¥è­¦å‘Šä¿¡æ¯</span><br>simplefilter(action=<span class="hljs-string">&quot;ignore&quot;</span>, category=FutureWarning)<br><br>speed = [<span class="hljs-number">99</span>, <span class="hljs-number">86</span>, <span class="hljs-number">87</span>, <span class="hljs-number">88</span>, <span class="hljs-number">111</span>, <span class="hljs-number">86</span>, <span class="hljs-number">103</span>, <span class="hljs-number">87</span>, <span class="hljs-number">94</span>, <span class="hljs-number">78</span>, <span class="hljs-number">77</span>, <span class="hljs-number">85</span>, <span class="hljs-number">86</span>]<br><br>a = numpy.percentile(speed, <span class="hljs-number">80</span>)                              <span class="hljs-comment"># æŸ¥æ‰¾ç™¾åˆ†ä½æ•°</span><br>b = numpy.median(speed)                                      <span class="hljs-comment"># ä¸­ä½æ•°</span><br>c = numpy.mean(speed)                                        <span class="hljs-comment"># å¹³å‡æ•°</span><br>d = numpy.std(speed)                                         <span class="hljs-comment"># æ ‡å‡†å·®ï¼Œæ–¹å·®çš„å¹³æ–¹æ ¹ï¼Œé€šå¸¸ç”¨ç¬¦å·Sigmaè¡¨ç¤ºÏƒ</span><br>e = numpy.var(speed)                                         <span class="hljs-comment"># æ–¹å·®ï¼ŒSigma SquaredæŒ‡Ïƒ2</span><br>f = stats.mode(speed)                                        <span class="hljs-comment"># ä¼—æ•°</span><br><br><span class="hljs-built_in">print</span>(a)<br><span class="hljs-built_in">print</span>(b)<br><span class="hljs-built_in">print</span>(c)<br><span class="hljs-built_in">print</span>(d)<br><span class="hljs-built_in">print</span>(e)                                                     <span class="hljs-comment"># æ–¹å·®ï¼Œæ¯ä¸ªå€¼ä¸å¹³å‡æ•°çš„å·®å€¼çš„å¹³æ–¹å€¼çš„å’Œçš„å¹³å‡æ•°</span><br><span class="hljs-built_in">print</span>(f)<br></code></pre></td></tr></table></figure>



<h2 id="1-1-æ•°æ®åˆ†å¸ƒ"><a href="#1-1-æ•°æ®åˆ†å¸ƒ" class="headerlink" title="1-1 æ•°æ®åˆ†å¸ƒ"></a>1-1 æ•°æ®åˆ†å¸ƒ</h2><ul>
<li>æ•°æ®åˆ†å¸ƒ<ul>
<li>æ­£æ€æ•°æ®åˆ†å¸ƒï¼šé«˜æ–¯æ•°æ®åˆ†å¸ƒï¼Œæ­£æ€åˆ†å¸ƒå›¾ä¹Ÿè¢«å«åšé’Ÿå½¢æ›²çº¿ï¼Œå…·æœ‰é’Ÿå½¢ç‰¹å¾ã€‚</li>
<li>éšæœºæ•°æ®åˆ†å¸ƒï¼šæµ‹è¯•ç®—æ³•æ—¶å¯èƒ½æ²¡æœ‰çœŸå®ä¸–ç•Œçš„æ•°æ®ï¼Œæ­¤æ—¶éœ€ç”¨éšæœºç”Ÿæˆçš„å€¼ã€‚</li>
</ul>
</li>
</ul>
<h3 id="1-ç›´æ–¹å›¾"><a href="#1-ç›´æ–¹å›¾" class="headerlink" title="(1) ç›´æ–¹å›¾"></a>(1) ç›´æ–¹å›¾</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>x = numpy.random.uniform(<span class="hljs-number">0.0</span>, <span class="hljs-number">5.0</span>, <span class="hljs-number">250</span>)                       <span class="hljs-comment"># 250ä¸ªä»‹äº0å’Œ5ä¹‹é—´çš„éšæœºæµ®ç‚¹æ•°æ•°ç»„</span><br><br><span class="hljs-built_in">print</span>(x)<br>plt.hist(x, <span class="hljs-number">5</span>)                                                <span class="hljs-comment"># ç»˜åˆ¶ç›´æ–¹å›¾</span><br>plt.show()<br></code></pre></td></tr></table></figure>



<h3 id="2-æ­£æ€åˆ†å¸ƒ"><a href="#2-æ­£æ€åˆ†å¸ƒ" class="headerlink" title="(2) æ­£æ€åˆ†å¸ƒ"></a>(2) æ­£æ€åˆ†å¸ƒ</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>x = numpy.random.normal(<span class="hljs-number">5.0</span>, <span class="hljs-number">1.0</span>, <span class="hljs-number">100000</span>)                     <span class="hljs-comment"># 100000ä¸ªå¹³å‡æ•°ä¸º5.0ï¼Œæ ‡å‡†å·®ä¸º1.0çš„æ•°ç»„</span><br><br><span class="hljs-built_in">print</span>(x)<br>plt.hist(x, <span class="hljs-number">100</span>)                                              <span class="hljs-comment"># æ­£æ€æ•°æ®åˆ†å¸ƒï¼Œç»˜åˆ¶åŒ…å«100ä¸ªæŸ±çš„ç›´æ–¹å›¾</span><br>plt.show()<br></code></pre></td></tr></table></figure>



<h3 id="3-æ•£ç‚¹å›¾"><a href="#3-æ•£ç‚¹å›¾" class="headerlink" title="(3) æ•£ç‚¹å›¾"></a>(3) æ•£ç‚¹å›¾</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt                               <span class="hljs-comment"># Matplotlibæœ‰ç»˜åˆ¶æ•£ç‚¹å›¾çš„æ–¹æ³•ï¼Œéœ€ä¸¤ä¸ªç›¸åŒé•¿åº¦çš„æ•°ç»„</span><br><br>x = [<span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">7</span>, <span class="hljs-number">2</span>, <span class="hljs-number">17</span>, <span class="hljs-number">2</span>, <span class="hljs-number">9</span>, <span class="hljs-number">4</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">9</span>, <span class="hljs-number">6</span>]                <span class="hljs-comment"># xæ•°ç»„ä»£è¡¨æ¯è¾†æ±½è½¦çš„å¹´é¾„ï¼Œyæ•°ç»„ä»£è¡¨æ¯è¾†è½¦çš„é€Ÿåº¦</span><br>y = [<span class="hljs-number">99</span>, <span class="hljs-number">86</span>, <span class="hljs-number">87</span>, <span class="hljs-number">88</span>, <span class="hljs-number">111</span>, <span class="hljs-number">86</span>, <span class="hljs-number">103</span>, <span class="hljs-number">87</span>, <span class="hljs-number">94</span>, <span class="hljs-number">78</span>, <span class="hljs-number">77</span>, <span class="hljs-number">85</span>, <span class="hljs-number">86</span>]<br><br>plt.scatter(x, y)                                             <span class="hljs-comment"># ç»˜åˆ¶æ•£ç‚¹å›¾</span><br>plt.show()                                                    <span class="hljs-comment"># è¶Šæ–°çš„è½¦è¶Šå¿«ï¼Œä¹Ÿå¯èƒ½æ˜¯å·§åˆï¼Œæ•°æ®é‡å°‘</span><br></code></pre></td></tr></table></figure>



<h3 id="4-éšæœºåˆ†å¸ƒ"><a href="#4-éšæœºåˆ†å¸ƒ" class="headerlink" title="(4) éšæœºåˆ†å¸ƒ"></a>(4) éšæœºåˆ†å¸ƒ</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>x = numpy.random.normal(<span class="hljs-number">5.0</span>, <span class="hljs-number">1.0</span>, <span class="hljs-number">1000</span>)                       <span class="hljs-comment"># 1000ä¸ªæ•°ç»„ï¼Œå¹³å‡å€¼ä¸º5.0ï¼Œæ ‡å‡†å·®ä¸º1.0çš„éšæœºæ•°</span><br>y = numpy.random.normal(<span class="hljs-number">10.0</span>, <span class="hljs-number">2.0</span>, <span class="hljs-number">1000</span>)                      <span class="hljs-comment"># 1000ä¸ªæ•°ç»„ï¼Œå¹³å‡å€¼ä¸º10.0ï¼Œæ ‡å‡†å·®ä¸º2.0çš„éšæœºæ•°</span><br><br>plt.scatter(x, y)                                             <span class="hljs-comment"># éšæœºæ•°æ®åˆ†å¸ƒï¼Œå…·æœ‰1000ä¸ªç‚¹çš„æ•£ç‚¹å›¾</span><br>plt.show()<br></code></pre></td></tr></table></figure>



<h2 id="1-2-çº¿æ€§å›å½’"><a href="#1-2-çº¿æ€§å›å½’" class="headerlink" title="1-2 çº¿æ€§å›å½’"></a>1-2 çº¿æ€§å›å½’</h2><ul>
<li>çº¿æ€§å›å½’<ul>
<li>çŸ¥é“xå’Œyè½´çš„å€¼ä¹‹é—´çš„å…³ç³»ï¼Œæ²¡æœ‰å…³ç³»åˆ™çº¿æ€§å›å½’ä¸èƒ½ç”¨äºé¢„æµ‹ç»“æœã€‚</li>
<li>Rå…³ç³»çš„å–å€¼èŒƒå›´ä¸º-1åˆ°1ï¼Œ0è¡¨ç¤ºæ²¡æœ‰å…³ç³»ï¼Œ1å’Œ-1åˆ™è¡¨ç¤º100%ç›¸å…³ã€‚</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> scipy <span class="hljs-keyword">import</span> stats<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt                              <span class="hljs-comment"># 13è¾†æ±½è½¦ç»è¿‡æ”¶è´¹ç«™æ—¶çš„è½¦é¾„å’Œé€Ÿåº¦</span><br><br>x = [<span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">7</span>, <span class="hljs-number">2</span>, <span class="hljs-number">17</span>, <span class="hljs-number">2</span>, <span class="hljs-number">9</span>, <span class="hljs-number">4</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">9</span>, <span class="hljs-number">6</span>]<br>y = [<span class="hljs-number">99</span>, <span class="hljs-number">86</span>, <span class="hljs-number">87</span>, <span class="hljs-number">88</span>, <span class="hljs-number">111</span>, <span class="hljs-number">86</span>, <span class="hljs-number">103</span>, <span class="hljs-number">87</span>, <span class="hljs-number">94</span>, <span class="hljs-number">78</span>, <span class="hljs-number">77</span>, <span class="hljs-number">85</span>, <span class="hljs-number">86</span>]<br>slope, intercept, r, p, std_err = stats.linregress(x, y)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">func</span>(<span class="hljs-params">x</span>):                                                 <span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªä½¿ç”¨slopeå’Œinterceptå€¼è¿”å›æ–°å€¼çš„å‡½æ•°</span><br>    <span class="hljs-keyword">return</span> slope * x + intercept                             <span class="hljs-comment"># è¿™ä¸ªæ–°å€¼è¡¨ç¤ºå¯¹åº”çš„xå€¼åœ¨yè½´ä¸Šçš„ä½ç½®</span><br><br><br>model = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">map</span>(func, x))                                   <span class="hljs-comment"># è¿è¡Œxæ•°ç»„çš„æ¯ä¸ªå€¼ï¼Œç”Ÿæˆä¸€ä¸ªæ–°æ•°ç»„ï¼ŒåŒ…å«yè½´çš„æ–°å€¼</span><br>plt.scatter(x, y)                                            <span class="hljs-comment"># ç»˜åˆ¶åŸå§‹æ•£ç‚¹å›¾</span><br>plt.plot(x, model)                                           <span class="hljs-comment"># ç»˜åˆ¶çº¿æ€§å›å½’çº¿</span><br>plt.show()                                                   <span class="hljs-comment"># æ˜¾ç¤ºå›¾è¡¨</span><br></code></pre></td></tr></table></figure>



<h3 id="1-Rå…³ç³»"><a href="#1-Rå…³ç³»" class="headerlink" title="(1) Rå…³ç³»"></a>(1) Rå…³ç³»</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> scipy <span class="hljs-keyword">import</span> stats<br><br>x = [<span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">7</span>, <span class="hljs-number">2</span>, <span class="hljs-number">17</span>, <span class="hljs-number">2</span>, <span class="hljs-number">9</span>, <span class="hljs-number">4</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">9</span>, <span class="hljs-number">6</span>]                <span class="hljs-comment"># æ•°æ®åœ¨çº¿æ€§å›å½’ä¸­çš„æ‹Ÿåˆç¨‹åº¦</span><br>y = [<span class="hljs-number">99</span>, <span class="hljs-number">86</span>, <span class="hljs-number">87</span>, <span class="hljs-number">88</span>, <span class="hljs-number">111</span>, <span class="hljs-number">86</span>, <span class="hljs-number">103</span>, <span class="hljs-number">87</span>, <span class="hljs-number">94</span>, <span class="hljs-number">78</span>, <span class="hljs-number">77</span>, <span class="hljs-number">85</span>, <span class="hljs-number">86</span>]<br><br>slope, intercept, r, p, std_err = stats.linregress(x, y)<br><span class="hljs-built_in">print</span>(r)                                                      <span class="hljs-comment"># -0.76è¡¨æ˜å­˜åœ¨å…³ç³»ï¼Œä½†å¹¶ä¸å®Œç¾</span><br></code></pre></td></tr></table></figure>



<h3 id="2-é¢„æµ‹æœªæ¥ä»·å€¼"><a href="#2-é¢„æµ‹æœªæ¥ä»·å€¼" class="headerlink" title="(2) é¢„æµ‹æœªæ¥ä»·å€¼"></a>(2) é¢„æµ‹æœªæ¥ä»·å€¼</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> scipy <span class="hljs-keyword">import</span> stats<br><br>x = [<span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">7</span>, <span class="hljs-number">2</span>, <span class="hljs-number">17</span>, <span class="hljs-number">2</span>, <span class="hljs-number">9</span>, <span class="hljs-number">4</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">9</span>, <span class="hljs-number">6</span>]<br>y = [<span class="hljs-number">99</span>, <span class="hljs-number">86</span>, <span class="hljs-number">87</span>, <span class="hljs-number">88</span>, <span class="hljs-number">111</span>, <span class="hljs-number">86</span>, <span class="hljs-number">103</span>, <span class="hljs-number">87</span>, <span class="hljs-number">94</span>, <span class="hljs-number">78</span>, <span class="hljs-number">77</span>, <span class="hljs-number">85</span>, <span class="hljs-number">86</span>]<br><br>slope, intercept, r, p, std_err = stats.linregress(x, y)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">func</span>(<span class="hljs-params">x</span>):<br>    <span class="hljs-keyword">return</span> slope * x + intercept<br><br><br>speed = func(<span class="hljs-number">10</span>)                                             <span class="hljs-comment"># é¢„æµ‹ä¸€è¾†10å¹´è½¦é¾„çš„æ±½è½¦é€Ÿåº¦</span><br><span class="hljs-built_in">print</span>(speed)                                                 <span class="hljs-comment"># 85.6ï¼Œä¹Ÿå¯ä»¥ä»å›¾è¡¨ä¸­è¯»å–</span><br></code></pre></td></tr></table></figure>



<h3 id="3-éé¢„æµ‹æœ€ä½³æ³•"><a href="#3-éé¢„æµ‹æœ€ä½³æ³•" class="headerlink" title="(3) éé¢„æµ‹æœ€ä½³æ³•"></a>(3) éé¢„æµ‹æœ€ä½³æ³•</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> scipy <span class="hljs-keyword">import</span> stats                                      <span class="hljs-comment"># çº¿æ€§å›å½’ä¸æ˜¯é¢„æµ‹æœªæ¥å€¼çš„æœ€ä½³æ–¹æ³•</span><br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>x = [<span class="hljs-number">89</span>, <span class="hljs-number">43</span>, <span class="hljs-number">36</span>, <span class="hljs-number">36</span>, <span class="hljs-number">95</span>, <span class="hljs-number">10</span>, <span class="hljs-number">66</span>, <span class="hljs-number">34</span>, <span class="hljs-number">38</span>, <span class="hljs-number">20</span>, <span class="hljs-number">26</span>, <span class="hljs-number">29</span>, <span class="hljs-number">48</span>, <span class="hljs-number">64</span>, <span class="hljs-number">6</span>, <span class="hljs-number">5</span>, <span class="hljs-number">36</span>, <span class="hljs-number">66</span>, <span class="hljs-number">72</span>, <span class="hljs-number">40</span>]<br>y = [<span class="hljs-number">21</span>, <span class="hljs-number">46</span>, <span class="hljs-number">3</span>, <span class="hljs-number">35</span>, <span class="hljs-number">67</span>, <span class="hljs-number">95</span>, <span class="hljs-number">53</span>, <span class="hljs-number">72</span>, <span class="hljs-number">58</span>, <span class="hljs-number">10</span>, <span class="hljs-number">26</span>, <span class="hljs-number">34</span>, <span class="hljs-number">90</span>, <span class="hljs-number">33</span>, <span class="hljs-number">38</span>, <span class="hljs-number">20</span>, <span class="hljs-number">56</span>, <span class="hljs-number">2</span>, <span class="hljs-number">47</span>, <span class="hljs-number">15</span>]<br>slope, intercept, r, p, std_err = stats.linregress(x, y)<br><span class="hljs-built_in">print</span>(r)                                                     <span class="hljs-comment"># 0.013ï¼Œå¾—åˆ°çš„Rå€¼å°ï¼Œè¡¨æ˜å…³ç³»å¾ˆå·®ï¼Œä¸é€‚åˆåšçº¿æ€§å›å½’</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">func</span>(<span class="hljs-params">x</span>):<br>    <span class="hljs-keyword">return</span> slope * x + intercept<br><br><br>model = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">map</span>(func, x))<br>plt.scatter(x, y)<br>plt.plot(x, model)<br>plt.show()                                                   <span class="hljs-comment"># xè½´å’Œyè½´çš„å€¼å¯¼è‡´çº¿æ€§å›å½’çš„æ‹Ÿåˆéå¸¸å·®</span><br></code></pre></td></tr></table></figure>



<h2 id="1-3-å¤šé¡¹å¼å›å½’"><a href="#1-3-å¤šé¡¹å¼å›å½’" class="headerlink" title="1-3 å¤šé¡¹å¼å›å½’"></a>1-3 å¤šé¡¹å¼å›å½’</h2><ul>
<li>å¤šé¡¹å¼å›å½’<ul>
<li>è‹¥xå’Œyè½´çš„å€¼ä¹‹é—´æ²¡æœ‰å…³ç³»ï¼Œåˆ™å¤šé¡¹å¼å›å½’ä¸èƒ½ç”¨äºé¢„æµ‹ç»“æœã€‚</li>
<li>Rå¹³æ–¹å€¼çš„å–å€¼èŒƒå›´ä¸º0åˆ°1ï¼Œ0è¡¨ç¤ºæ²¡æœ‰å…³ç³»ï¼Œ1è¡¨ç¤º100%ç›¸å…³ã€‚</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt                              <span class="hljs-comment"># æ”¶é›†äº†é€šè¿‡æŸæ”¶è´¹ç«™çš„18è¾†æ±½è½¦è¶…è½¦å‘ç”Ÿæ—¶é—´å’Œæ±½è½¦é€Ÿåº¦</span><br><br>x = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">12</span>, <span class="hljs-number">13</span>, <span class="hljs-number">14</span>, <span class="hljs-number">15</span>, <span class="hljs-number">16</span>, <span class="hljs-number">18</span>, <span class="hljs-number">19</span>, <span class="hljs-number">21</span>, <span class="hljs-number">22</span>]<br>y = [<span class="hljs-number">100</span>, <span class="hljs-number">90</span>, <span class="hljs-number">80</span>, <span class="hljs-number">60</span>, <span class="hljs-number">60</span>, <span class="hljs-number">55</span>, <span class="hljs-number">60</span>, <span class="hljs-number">65</span>, <span class="hljs-number">70</span>, <span class="hljs-number">70</span>, <span class="hljs-number">75</span>, <span class="hljs-number">76</span>, <span class="hljs-number">78</span>, <span class="hljs-number">79</span>, <span class="hljs-number">90</span>, <span class="hljs-number">99</span>, <span class="hljs-number">99</span>, <span class="hljs-number">100</span>]<br><br>model = numpy.poly1d(numpy.polyfit(x, y, <span class="hljs-number">3</span>))                 <span class="hljs-comment"># æ³¨æ„poly1dæ˜¯1dä¸æ˜¯ldï¼Œå»ºç«‹å¤šé¡¹å¼æ¨¡å‹</span><br>lines = numpy.linspace(<span class="hljs-number">1</span>, <span class="hljs-number">22</span>, <span class="hljs-number">100</span>)                           <span class="hljs-comment"># æŒ‡å®šè¯¥è¡Œå°†å¦‚ä½•æ˜¾ç¤ºï¼Œä»ä½ç½®1å¼€å§‹ï¼Œåˆ°ä½ç½®22ç»“æŸ</span><br><br>plt.scatter(x, y)                                            <span class="hljs-comment"># ç»˜åˆ¶åŸå§‹æ•£ç‚¹å›¾</span><br>plt.plot(lines, model(lines))                                <span class="hljs-comment"># ç»˜åˆ¶å¤šé¡¹å¼å›å½’çº¿</span><br>plt.show()                                                   <span class="hljs-comment"># æ˜¾ç¤ºå›¾è¡¨</span><br></code></pre></td></tr></table></figure>



<h3 id="1-Rå¹³æ–¹"><a href="#1-Rå¹³æ–¹" class="headerlink" title="(1) Rå¹³æ–¹"></a>(1) Rå¹³æ–¹</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy<br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> r2_score<br><br>x = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">12</span>, <span class="hljs-number">13</span>, <span class="hljs-number">14</span>, <span class="hljs-number">15</span>, <span class="hljs-number">16</span>, <span class="hljs-number">18</span>, <span class="hljs-number">19</span>, <span class="hljs-number">21</span>, <span class="hljs-number">22</span>]<br>y = [<span class="hljs-number">100</span>, <span class="hljs-number">90</span>, <span class="hljs-number">80</span>, <span class="hljs-number">60</span>, <span class="hljs-number">60</span>, <span class="hljs-number">55</span>, <span class="hljs-number">60</span>, <span class="hljs-number">65</span>, <span class="hljs-number">70</span>, <span class="hljs-number">70</span>, <span class="hljs-number">75</span>, <span class="hljs-number">76</span>, <span class="hljs-number">78</span>, <span class="hljs-number">79</span>, <span class="hljs-number">90</span>, <span class="hljs-number">99</span>, <span class="hljs-number">99</span>, <span class="hljs-number">100</span>]<br><br>model = numpy.poly1d(numpy.polyfit(x, y, <span class="hljs-number">3</span>))                  <span class="hljs-comment"># æ³¨æ„poly1dæ˜¯1dä¸æ˜¯ldï¼Œå»ºç«‹å¤šé¡¹å¼æ¨¡å‹</span><br><span class="hljs-built_in">print</span>(r2_score(y, model(x)))                                  <span class="hljs-comment"># æ•°æ®åœ¨å¤šé¡¹å¼å›å½’ä¸­çš„æ‹Ÿåˆç¨‹åº¦ï¼Œ0.94è¡¨æ˜å…³ç³»éå¸¸å¥½</span><br></code></pre></td></tr></table></figure>



<h3 id="2-é¢„æµ‹æœªæ¥ä»·å€¼-1"><a href="#2-é¢„æµ‹æœªæ¥ä»·å€¼-1" class="headerlink" title="(2) é¢„æµ‹æœªæ¥ä»·å€¼"></a>(2) é¢„æµ‹æœªæ¥ä»·å€¼</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy<br><br>x = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">12</span>, <span class="hljs-number">13</span>, <span class="hljs-number">14</span>, <span class="hljs-number">15</span>, <span class="hljs-number">16</span>, <span class="hljs-number">18</span>, <span class="hljs-number">19</span>, <span class="hljs-number">21</span>, <span class="hljs-number">22</span>]<br>y = [<span class="hljs-number">100</span>, <span class="hljs-number">90</span>, <span class="hljs-number">80</span>, <span class="hljs-number">60</span>, <span class="hljs-number">60</span>, <span class="hljs-number">55</span>, <span class="hljs-number">60</span>, <span class="hljs-number">65</span>, <span class="hljs-number">70</span>, <span class="hljs-number">70</span>, <span class="hljs-number">75</span>, <span class="hljs-number">76</span>, <span class="hljs-number">78</span>, <span class="hljs-number">79</span>, <span class="hljs-number">90</span>, <span class="hljs-number">99</span>, <span class="hljs-number">99</span>, <span class="hljs-number">100</span>]<br><br>model = numpy.poly1d(numpy.polyfit(x, y, <span class="hljs-number">3</span>))                  <span class="hljs-comment"># æ³¨æ„poly1dæ˜¯1dä¸æ˜¯ldï¼Œå»ºç«‹å¤šé¡¹å¼æ¨¡å‹</span><br>speed = model(<span class="hljs-number">17</span>)                                             <span class="hljs-comment"># é¢„æµ‹17:00å·¦å³é€šè¿‡æŸæ”¶è´¹ç«™çš„æ±½è½¦é€Ÿåº¦</span><br><span class="hljs-built_in">print</span>(speed)                                                  <span class="hljs-comment"># 88.87ï¼Œä¹Ÿå¯ä»¥ä»å›¾ä¸­è¯»å–è¯¥å€¼</span><br></code></pre></td></tr></table></figure>



<h3 id="3-éé¢„æµ‹æœ€ä½³æ³•-1"><a href="#3-éé¢„æµ‹æœ€ä½³æ³•-1" class="headerlink" title="(3) éé¢„æµ‹æœ€ä½³æ³•"></a>(3) éé¢„æµ‹æœ€ä½³æ³•</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> r2_score                         <span class="hljs-comment"># å¤šé¡¹å¼å›å½’ä¸æ˜¯é¢„æµ‹æœªæ¥å€¼çš„æœ€ä½³æ–¹æ³•</span><br><br>x = [<span class="hljs-number">89</span>, <span class="hljs-number">43</span>, <span class="hljs-number">36</span>, <span class="hljs-number">36</span>, <span class="hljs-number">95</span>, <span class="hljs-number">10</span>, <span class="hljs-number">66</span>, <span class="hljs-number">34</span>, <span class="hljs-number">38</span>, <span class="hljs-number">20</span>, <span class="hljs-number">26</span>, <span class="hljs-number">29</span>, <span class="hljs-number">48</span>, <span class="hljs-number">64</span>, <span class="hljs-number">6</span>, <span class="hljs-number">5</span>, <span class="hljs-number">36</span>, <span class="hljs-number">66</span>, <span class="hljs-number">72</span>, <span class="hljs-number">40</span>]<br>y = [<span class="hljs-number">21</span>, <span class="hljs-number">46</span>, <span class="hljs-number">3</span>, <span class="hljs-number">35</span>, <span class="hljs-number">67</span>, <span class="hljs-number">95</span>, <span class="hljs-number">53</span>, <span class="hljs-number">72</span>, <span class="hljs-number">58</span>, <span class="hljs-number">10</span>, <span class="hljs-number">26</span>, <span class="hljs-number">34</span>, <span class="hljs-number">90</span>, <span class="hljs-number">33</span>, <span class="hljs-number">38</span>, <span class="hljs-number">20</span>, <span class="hljs-number">56</span>, <span class="hljs-number">2</span>, <span class="hljs-number">47</span>, <span class="hljs-number">15</span>]<br><br>model = numpy.poly1d(numpy.polyfit(x, y, <span class="hljs-number">3</span>))                 <span class="hljs-comment"># æ³¨æ„poly1dæ˜¯1dä¸æ˜¯ldï¼Œå»ºç«‹å¤šé¡¹å¼æ¨¡å‹</span><br>lines = numpy.linspace(<span class="hljs-number">2</span>, <span class="hljs-number">95</span>, <span class="hljs-number">100</span>)<br><span class="hljs-built_in">print</span>(r2_score(y, model(x)))                                 <span class="hljs-comment"># 0.00995è¡¨æ˜å…³ç³»å¾ˆå·®ï¼Œè¯¥æ•°æ®é›†ä¸é€‚åˆåšå¤šé¡¹å¼å›å½’</span><br><br>plt.scatter(x, y)<br>plt.plot(lines, model(lines))<br>plt.show()                                                   <span class="hljs-comment"># xè½´å’Œyè½´çš„å€¼å¯¼è‡´å¤šé¡¹å¼å›å½’çš„æ‹Ÿåˆéå¸¸å·®</span><br></code></pre></td></tr></table></figure>



<h2 id="1-4-å¤šå…ƒçº¿æ€§å›å½’"><a href="#1-4-å¤šå…ƒçº¿æ€§å›å½’" class="headerlink" title="1-4 å¤šå…ƒçº¿æ€§å›å½’"></a>1-4 å¤šå…ƒçº¿æ€§å›å½’</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pandas<br><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> linear_model                             <span class="hljs-comment"># data.csvæ”¹åä¸ºvehicle_info.csv</span><br><br>df = pandas.read_csv(<span class="hljs-string">&quot;data/vehicle_info.csv&quot;</span>)                <span class="hljs-comment"># https://www.w3schools.com/python/data.csv</span><br><br>X = df[[<span class="hljs-string">&quot;Weight&quot;</span>, <span class="hljs-string">&quot;Volume&quot;</span>]]                                 <span class="hljs-comment"># åˆ—å‡ºç‹¬ç«‹å€¼å¹¶è°ƒç”¨Xå˜é‡</span><br>y = df[<span class="hljs-string">&quot;CO2&quot;</span>]                                                <span class="hljs-comment"># å°†ä¾èµ–å€¼æ”¾åœ¨ä¸€ä¸ªåä¸ºyçš„å˜é‡ä¸­</span><br><br>regr = linear_model.LinearRegression()                       <span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªçº¿æ€§å›å½’å¯¹è±¡ï¼Œå°†ç‹¬ç«‹å€¼å’Œç›¸å…³å€¼ä½œä¸ºå‚æ•°</span><br>regr.fit(X.values, y.values)                                 <span class="hljs-comment"># å¹¶ç”¨æè¿°å…³ç³»çš„æ•°æ®å¡«å……å›å½’å¯¹è±¡</span><br><br><span class="hljs-comment"># æ ¹æ®æ±½è½¦çš„é‡é‡å’Œä½“ç§¯é¢„æµ‹CO2å€¼ï¼Œé¢„æµ‹ä¸€è¾†é…å¤‡1.3å‡å‘åŠ¨æœºã€é‡é‡ä¸º2300kgçš„æ±½è½¦æ¯è¡Œé©¶ä¸€å…¬é‡Œé‡Šæ”¾107å…‹CO2</span><br>predictedCO2 = regr.predict([[<span class="hljs-number">2300</span>, <span class="hljs-number">1300</span>]])<br><span class="hljs-built_in">print</span>(predictedCO2)<br></code></pre></td></tr></table></figure>



<h3 id="1-ç³»æ•°"><a href="#1-ç³»æ•°" class="headerlink" title="(1) ç³»æ•°"></a>(1) ç³»æ•°</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pandas                                                <span class="hljs-comment"># ç³»æ•°æ˜¯æè¿°ä¸æœªçŸ¥å˜é‡ä¹‹é—´å…³ç³»çš„å› å­</span><br><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> linear_model                             <span class="hljs-comment"># data.csvæ”¹åä¸ºvehicle_info.csv</span><br><br>df = pandas.read_csv(<span class="hljs-string">&quot;data/vehicle_info.csv&quot;</span>)                <span class="hljs-comment"># https://www.w3schools.com/python/data.csv</span><br><br>X = df[[<span class="hljs-string">&quot;Weight&quot;</span>, <span class="hljs-string">&quot;Volume&quot;</span>]]                                 <span class="hljs-comment"># åˆ—å‡ºç‹¬ç«‹å€¼å¹¶è°ƒç”¨Xå˜é‡</span><br>y = df[<span class="hljs-string">&quot;CO2&quot;</span>]                                                <span class="hljs-comment"># å°†ä¾èµ–å€¼æ”¾åœ¨ä¸€ä¸ªåä¸ºyçš„å˜é‡ä¸­</span><br><br>regr = linear_model.LinearRegression()                       <span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªçº¿æ€§å›å½’å¯¹è±¡ï¼Œå°†ç‹¬ç«‹å€¼å’Œç›¸å…³å€¼ä½œä¸ºå‚æ•°</span><br>regr.fit(X.values, y.values)                                 <span class="hljs-comment"># å¹¶ç”¨æè¿°å…³ç³»çš„æ•°æ®å¡«å……å›å½’å¯¹è±¡</span><br><br><span class="hljs-comment"># ä½“é‡å¢åŠ 1kgï¼ŒCO2æ’æ”¾é‡å°±ä¼šå¢åŠ 0.00755095gï¼Œå‘åŠ¨æœºå°ºå¯¸å¢åŠ 1cm3ï¼ŒCO2æ’æ”¾é‡å¢åŠ 0.00780526g</span><br><span class="hljs-built_in">print</span>(regr.coef_)                                            <span class="hljs-comment"># å›å½’å¯¹è±¡çš„ç³»æ•°å€¼[é‡é‡0.00755095 ä½“ç§¯0.00780526]</span><br></code></pre></td></tr></table></figure>



<h3 id="2-é¢„æµ‹æœªæ¥ä»·å€¼-2"><a href="#2-é¢„æµ‹æœªæ¥ä»·å€¼-2" class="headerlink" title="(2) é¢„æµ‹æœªæ¥ä»·å€¼"></a>(2) é¢„æµ‹æœªæ¥ä»·å€¼</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pandas<br><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> linear_model                             <span class="hljs-comment"># data.csvæ”¹åä¸ºvehicle_info.csv</span><br><br>df = pandas.read_csv(<span class="hljs-string">&quot;data/vehicle_info.csv&quot;</span>)                <span class="hljs-comment"># https://www.w3schools.com/python/data.csv</span><br><br>X = df[[<span class="hljs-string">&quot;Weight&quot;</span>, <span class="hljs-string">&quot;Volume&quot;</span>]]                                 <span class="hljs-comment"># åˆ—å‡ºç‹¬ç«‹å€¼å¹¶è°ƒç”¨Xå˜é‡</span><br>y = df[<span class="hljs-string">&quot;CO2&quot;</span>]                                                <span class="hljs-comment"># å°†ä¾èµ–å€¼æ”¾åœ¨ä¸€ä¸ªåä¸ºyçš„å˜é‡ä¸­</span><br><br>regr = linear_model.LinearRegression()                       <span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªçº¿æ€§å›å½’å¯¹è±¡ï¼Œå°†ç‹¬ç«‹å€¼å’Œç›¸å…³å€¼ä½œä¸ºå‚æ•°</span><br>regr.fit(X.values, y.values)                                 <span class="hljs-comment"># å¹¶ç”¨æè¿°å…³ç³»çš„æ•°æ®å¡«å……å›å½’å¯¹è±¡</span><br><br><span class="hljs-comment"># å°†æƒé‡ä»2300æ›´æ”¹ä¸º3300ï¼Œä¸€è¾†é…å¤‡1.3å‡å‘åŠ¨æœºã€é‡é‡ä¸º3300kgçš„æ±½è½¦æ¯è¡Œé©¶ä¸€å…¬é‡Œå°†é‡Šæ”¾115å…‹CO2</span><br>predictedCO2 = regr.predict([[<span class="hljs-number">3300</span>, <span class="hljs-number">1300</span>]])<br><span class="hljs-built_in">print</span>(predictedCO2)<br></code></pre></td></tr></table></figure>



<h2 id="1-5-æ¯”ä¾‹ç‰¹å¾æ–¹æ³•"><a href="#1-5-æ¯”ä¾‹ç‰¹å¾æ–¹æ³•" class="headerlink" title="1-5 æ¯”ä¾‹ç‰¹å¾æ–¹æ³•"></a>1-5 æ¯”ä¾‹ç‰¹å¾æ–¹æ³•</h2><ul>
<li>æ¯”ä¾‹ç‰¹å¾æ–¹æ³•<ul>
<li>å½“æ•°æ®å…·æœ‰ä¸åŒçš„å€¼ï¼Œç”šè‡³ä¸åŒçš„æµ‹é‡å•ä½æ—¶ï¼Œå¾ˆéš¾æ¯”è¾ƒï¼Œå¯å°†æ•°æ®ç¼©æ”¾ä¸ºå®¹æ˜“æ¯”è¾ƒçš„æ–°å€¼ã€‚</li>
<li>æ ‡å‡†åŒ–æ–¹æ³•ä½¿ç”¨çš„å…¬å¼ï¼š<code>z = (x - u) / s</code>ï¼Œzæ˜¯æ–°å€¼ï¼Œxæ˜¯åŸå§‹å€¼ï¼Œuæ˜¯å¹³å‡å€¼ï¼Œsæ˜¯æ ‡å‡†å·®ã€‚</li>
</ul>
</li>
</ul>
<h3 id="1-æ¯”ä¾‹ç‰¹å¾ç¼©æ”¾"><a href="#1-æ¯”ä¾‹ç‰¹å¾ç¼©æ”¾" class="headerlink" title="(1) æ¯”ä¾‹ç‰¹å¾ç¼©æ”¾"></a>(1) æ¯”ä¾‹ç‰¹å¾ç¼©æ”¾</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pandas<br><span class="hljs-keyword">from</span> sklearn.preprocessing <span class="hljs-keyword">import</span> StandardScaler<br>scale = StandardScaler()                                      <span class="hljs-comment"># data.csvæ”¹åä¸ºvehicle_info.csv</span><br><br>df = pandas.read_csv(<span class="hljs-string">&quot;data/vehicle_info.csv&quot;</span>)                 <span class="hljs-comment"># https://www.w3schools.com/python/data.csv</span><br>X = df[[<span class="hljs-string">&quot;Weight&quot;</span>, <span class="hljs-string">&quot;Volume&quot;</span>]]                                  <span class="hljs-comment"># åˆ—å‡ºç‹¬ç«‹å€¼å¹¶è°ƒç”¨Xå˜é‡</span><br>scaledX = scale.fit_transform(X)                              <span class="hljs-comment"># ç¼©æ”¾é‡é‡å’Œä½“ç§¯åˆ—ä¸­çš„æ‰€æœ‰å€¼</span><br><br><span class="hljs-built_in">print</span>(scaledX)<br></code></pre></td></tr></table></figure>



<h3 id="2-é¢„æµ‹CO2çš„å€¼"><a href="#2-é¢„æµ‹CO2çš„å€¼" class="headerlink" title="(2) é¢„æµ‹CO2çš„å€¼"></a>(2) é¢„æµ‹CO2çš„å€¼</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pandas<br><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> linear_model<br><span class="hljs-keyword">from</span> sklearn.preprocessing <span class="hljs-keyword">import</span> StandardScaler<br>scale = StandardScaler()                                     <span class="hljs-comment"># data.csvæ”¹åä¸ºvehicle_info.csv</span><br><br>df = pandas.read_csv(<span class="hljs-string">&quot;data/vehicle_info.csv&quot;</span>)                <span class="hljs-comment"># https://www.w3schools.com/python/data.csv</span><br><br>X = df[[<span class="hljs-string">&quot;Weight&quot;</span>, <span class="hljs-string">&quot;Volume&quot;</span>]]                                 <span class="hljs-comment"># åˆ—å‡ºç‹¬ç«‹å€¼å¹¶è°ƒç”¨Xå˜é‡</span><br>y = df[<span class="hljs-string">&quot;CO2&quot;</span>]<br><br>scaledX = scale.fit_transform(X.values)                      <span class="hljs-comment"># ç¼©æ”¾é‡é‡å’Œä½“ç§¯åˆ—ä¸­çš„æ‰€æœ‰å€¼</span><br><br>regr = linear_model.LinearRegression()<br>regr.fit(scaledX, y.values)<br><br>scaled = scale.transform([[<span class="hljs-number">2300</span>, <span class="hljs-number">1.3</span>]])                      <span class="hljs-comment"># é¢„æµ‹ä¸€è¾†é‡2300å…¬æ–¤çš„1.3å‡æ±½è½¦çš„äºŒæ°§åŒ–ç¢³æ’æ”¾é‡</span><br><br>predictedCO2 = regr.predict([scaled[<span class="hljs-number">0</span>]])<br><span class="hljs-built_in">print</span>(predictedCO2)<br></code></pre></td></tr></table></figure>



<h1 id="2-è®­ç»ƒ-æµ‹è¯•"><a href="#2-è®­ç»ƒ-æµ‹è¯•" class="headerlink" title="2 è®­ç»ƒ(æµ‹è¯•)"></a>2 è®­ç»ƒ(æµ‹è¯•)</h1><ul>
<li>è®­ç»ƒ(æµ‹è¯•)<ul>
<li>ä¸€ç§è¡¡é‡æ¨¡å‹å‡†ç¡®æ€§çš„æ–¹æ³•ï¼Œå°†æ•°æ®é›†åˆ†æˆäº†ä¸¤ä¸ªç»„ï¼šè®­ç»ƒé›†(è®­ç»ƒæ¨¡å‹)ã€æµ‹è¯•é›†(æµ‹è¯•æ¨¡å‹)ã€‚</li>
<li>80%ç”¨äºè®­ç»ƒ(è®­ç»ƒæ¨¡å‹æ„å‘³ç€åˆ›å»ºæ¨¡å‹)ï¼Œ20%ç”¨äºæµ‹è¯•(æµ‹è¯•æ¨¡å‹æ„å‘³ç€æµ‹è¯•æ¨¡å‹çš„å‡†ç¡®æ€§)ã€‚</li>
</ul>
</li>
</ul>
<h2 id="2-1-æ•°æ®é›†"><a href="#2-1-æ•°æ®é›†" class="headerlink" title="2-1 æ•°æ®é›†"></a>2-1 æ•°æ®é›†</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt                               <span class="hljs-comment"># å±•ç¤ºäº†ä¸€å®¶å•†åº—ä¸­çš„100ä½é¡¾å®¢ï¼Œä»¥åŠä»–ä»¬çš„è´­ç‰©ä¹ æƒ¯</span><br><br>numpy.random.seed(<span class="hljs-number">2</span>)<br>x = numpy.random.normal(<span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">100</span>)                            <span class="hljs-comment"># xè½´è¡¨ç¤ºè´­ä¹°å‰çš„åˆ†é’Ÿæ•°</span><br>y = numpy.random.normal(<span class="hljs-number">150</span>, <span class="hljs-number">40</span>, <span class="hljs-number">100</span>) / x                     <span class="hljs-comment"># yè½´è¡¨ç¤ºè´­ä¹°æ—¶èŠ±è´¹çš„é‡‘é¢</span><br><br>plt.scatter(x, y)<br>plt.show()<br></code></pre></td></tr></table></figure>



<h2 id="2-2-æ˜¾ç¤ºè®­ç»ƒé›†"><a href="#2-2-æ˜¾ç¤ºè®­ç»ƒé›†" class="headerlink" title="2-2 æ˜¾ç¤ºè®­ç»ƒé›†"></a>2-2 æ˜¾ç¤ºè®­ç»ƒé›†</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>numpy.random.seed(<span class="hljs-number">2</span>)<br>x = numpy.random.normal(<span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">100</span>)<br>y = numpy.random.normal(<span class="hljs-number">150</span>, <span class="hljs-number">40</span>, <span class="hljs-number">100</span>) / x<br><br>train_x = x[:<span class="hljs-number">80</span>]                                             <span class="hljs-comment"># æ‹†åˆ†æˆè®­ç»ƒé›†ï¼Œéšæœºé€‰æ‹©80%çš„åŸå§‹æ•°æ®</span><br>train_y = y[:<span class="hljs-number">80</span>]<br><br>test_x = x[<span class="hljs-number">80</span>:]                                              <span class="hljs-comment"># æ‹†åˆ†æˆæµ‹è¯•é›†ï¼Œå‰©ä¸‹çš„20%</span><br>test_y = y[<span class="hljs-number">80</span>:]<br><br>plt.scatter(train_x, train_y)                                <span class="hljs-comment"># æ˜¾ç¤ºè®­ç»ƒé›†ï¼Œçœ‹èµ·æ¥åƒåŸå§‹æ•°æ®é›†</span><br>plt.show()<br><br><span class="hljs-comment"># plt.scatter(test_x, test_y)                                # æ˜¾ç¤ºæµ‹è¯•é›†ï¼Œçœ‹èµ·æ¥åƒåŸå§‹æ•°æ®é›†</span><br><span class="hljs-comment"># plt.show()</span><br></code></pre></td></tr></table></figure>



<h2 id="2-3-æ‹Ÿåˆæ•°æ®é›†"><a href="#2-3-æ‹Ÿåˆæ•°æ®é›†" class="headerlink" title="2-3 æ‹Ÿåˆæ•°æ®é›†"></a>2-3 æ‹Ÿåˆæ•°æ®é›†</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>numpy.random.seed(<span class="hljs-number">2</span>)<br>x = numpy.random.normal(<span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">100</span>)<br>y = numpy.random.normal(<span class="hljs-number">150</span>, <span class="hljs-number">40</span>, <span class="hljs-number">100</span>) / x<br><br>train_x = x[:<span class="hljs-number">80</span>]                                             <span class="hljs-comment"># æ‹†åˆ†æˆè®­ç»ƒé›†ï¼Œéšæœºé€‰æ‹©80%çš„åŸå§‹æ•°æ®</span><br>train_y = y[:<span class="hljs-number">80</span>]<br><br>test_x = x[<span class="hljs-number">80</span>:]                                              <span class="hljs-comment"># æ‹†åˆ†æˆæµ‹è¯•é›†ï¼Œå‰©ä¸‹çš„20%</span><br>test_y = y[<span class="hljs-number">80</span>:]<br><br>model = numpy.poly1d(numpy.polyfit(train_x, train_y, <span class="hljs-number">4</span>))<br>lines = numpy.linspace(<span class="hljs-number">0</span>, <span class="hljs-number">6</span>, <span class="hljs-number">100</span>)                            <span class="hljs-comment"># é€šè¿‡æ•°æ®ç‚¹ç”»ä¸€æ¡çº¿</span><br><br>plt.scatter(train_x, train_y)                                <span class="hljs-comment"># æ˜¾ç¤ºè®­ç»ƒé›†</span><br>plt.plot(lines, model(lines))                                <span class="hljs-comment"># è¿™æ¡çº¿æŒ‡é¡¾å®¢åœ¨åº—é‡ŒèŠ±6åˆ†é’Ÿå¯èƒ½è´­ä¹°ä»·å€¼200çš„å•†å“</span><br>plt.show()                                                   <span class="hljs-comment"># æœ‰è¿‡åº¦æ‹Ÿåˆçš„è¿¹è±¡</span><br></code></pre></td></tr></table></figure>



<h2 id="2-4-Rå¹³æ–¹åˆ†æ•°"><a href="#2-4-Rå¹³æ–¹åˆ†æ•°" class="headerlink" title="2-4 Rå¹³æ–¹åˆ†æ•°"></a>2-4 Rå¹³æ–¹åˆ†æ•°</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy<br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> r2_score<br><br>numpy.random.seed(<span class="hljs-number">2</span>)<br>x = numpy.random.normal(<span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">100</span>)<br>y = numpy.random.normal(<span class="hljs-number">150</span>, <span class="hljs-number">40</span>, <span class="hljs-number">100</span>) / x<br><br>train_x = x[:<span class="hljs-number">80</span>]                                             <span class="hljs-comment"># æ‹†åˆ†æˆè®­ç»ƒé›†</span><br>train_y = y[:<span class="hljs-number">80</span>]<br><br>test_x = x[<span class="hljs-number">80</span>:]                                              <span class="hljs-comment"># æ‹†åˆ†æˆæµ‹è¯•é›†</span><br>test_y = y[<span class="hljs-number">80</span>:]<br><br>model = numpy.poly1d(numpy.polyfit(train_x, train_y, <span class="hljs-number">4</span>))<br>r2 = r2_score(train_y, model(train_x))                       <span class="hljs-comment"># è®­ç»ƒæ•°æ®åœ¨å¤šé¡¹å¼å›å½’ä¸­çš„æ‹Ÿåˆç¨‹åº¦</span><br><span class="hljs-built_in">print</span>(r2)                                                    <span class="hljs-comment"># ç»“æœ0.799è¯´æ˜å­˜åœ¨å…³ç³»</span><br></code></pre></td></tr></table></figure>



<h2 id="2-5-å¼•å…¥æµ‹è¯•é›†"><a href="#2-5-å¼•å…¥æµ‹è¯•é›†" class="headerlink" title="2-5 å¼•å…¥æµ‹è¯•é›†"></a>2-5 å¼•å…¥æµ‹è¯•é›†</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy<br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> r2_score<br><br>numpy.random.seed(<span class="hljs-number">2</span>)<br>x = numpy.random.normal(<span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">100</span>)<br>y = numpy.random.normal(<span class="hljs-number">150</span>, <span class="hljs-number">40</span>, <span class="hljs-number">100</span>) / x<br><br>train_x = x[:<span class="hljs-number">80</span>]                                             <span class="hljs-comment"># æ‹†åˆ†æˆè®­ç»ƒé›†</span><br>train_y = y[:<span class="hljs-number">80</span>]<br><br>test_x = x[<span class="hljs-number">80</span>:]                                              <span class="hljs-comment"># æ‹†åˆ†æˆæµ‹è¯•é›†</span><br>test_y = y[<span class="hljs-number">80</span>:]<br><br>model = numpy.poly1d(numpy.polyfit(train_x, train_y, <span class="hljs-number">4</span>))<br>r2 = r2_score(test_y, model(test_x))<br><span class="hljs-built_in">print</span>(r2)                                                    <span class="hljs-comment"># ç»“æœ0.809è¯´æ˜è¯¥æ¨¡å‹é€‚åˆæµ‹è¯•é›†</span><br></code></pre></td></tr></table></figure>



<h2 id="2-6-é¢„æµ‹æœªæ¥ä»·å€¼"><a href="#2-6-é¢„æµ‹æœªæ¥ä»·å€¼" class="headerlink" title="2-6 é¢„æµ‹æœªæ¥ä»·å€¼"></a>2-6 é¢„æµ‹æœªæ¥ä»·å€¼</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy<br><br>numpy.random.seed(<span class="hljs-number">2</span>)<br>x = numpy.random.normal(<span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">100</span>)<br>y = numpy.random.normal(<span class="hljs-number">150</span>, <span class="hljs-number">40</span>, <span class="hljs-number">100</span>) / x<br><br>train_x = x[:<span class="hljs-number">80</span>]                                             <span class="hljs-comment"># æ‹†åˆ†æˆè®­ç»ƒé›†</span><br>train_y = y[:<span class="hljs-number">80</span>]<br><br>test_x = x[<span class="hljs-number">80</span>:]                                              <span class="hljs-comment"># æ‹†åˆ†æˆæµ‹è¯•é›†</span><br>test_y = y[<span class="hljs-number">80</span>:]<br><br>model = numpy.poly1d(numpy.polyfit(train_x, train_y, <span class="hljs-number">4</span>))<br><span class="hljs-built_in">print</span>(model(<span class="hljs-number">5</span>))                                              <span class="hljs-comment"># å¦‚æœä¸€ä½è´­ç‰©é¡¾å®¢åœ¨åº—é‡Œåœç•™5åˆ†é’Ÿï¼Œé¢„æµ‹èŠ±è´¹22.88ç¾å…ƒ</span><br></code></pre></td></tr></table></figure>



<h1 id="3-å¸¸è§åˆ†ç±»ç®—æ³•"><a href="#3-å¸¸è§åˆ†ç±»ç®—æ³•" class="headerlink" title="3 å¸¸è§åˆ†ç±»ç®—æ³•"></a>3 å¸¸è§åˆ†ç±»ç®—æ³•</h1><ul>
<li>å¸¸è§åˆ†ç±»ç®—æ³•<ul>
<li>ç›‘ç£å­¦ä¹ ç®—æ³•ï¼ŒSupervised Algorithmsã€‚<ul>
<li>åœ¨ç›‘ç£å­¦ä¹ è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œå¯ä»¥ç”±è®­ç»ƒæ•°æ®é›†å­¦åˆ°æˆ–å»ºç«‹ä¸€ä¸ªæ¨¡å¼(å‡½æ•°&#x2F;Learning model)ï¼Œå¹¶ä¾æ­¤æ¨¡å¼æ¨æµ‹æ–°çš„å®ä¾‹ã€‚</li>
<li>è¦æ±‚ç‰¹å®šçš„è¾“å…¥&#x2F;è¾“å‡ºï¼Œé¦–å…ˆéœ€è¦å†³å®šä½¿ç”¨å“ªç§æ•°æ®ä½œä¸ºèŒƒä¾‹ï¼ŒåŒ…æ‹¬ç¥ç»ç½‘ç»œã€æ”¯æŒå‘é‡æœºã€æœ€è¿‘é‚»å±…æ³•ã€å†³ç­–æ ‘ç­‰ã€‚</li>
</ul>
</li>
<li>æ— ç›‘ç£å­¦ä¹ ç®—æ³•ï¼ŒUnsupervised Algorithmsï¼šæ²¡æœ‰ç‰¹å®šçš„ç›®æ ‡è¾“å‡ºï¼Œç®—æ³•å°†æ•°æ®é›†åˆ†ä¸ºä¸åŒçš„ç»„ã€‚</li>
<li>å¼ºåŒ–å­¦ä¹ ç®—æ³•ï¼ŒReinforcement Algorithmsã€‚<ul>
<li>ä¸»è¦åŸºäºå†³ç­–è¿›è¡Œè®­ç»ƒï¼Œæ ¹æ®è¾“å‡ºç»“æœçš„æˆåŠŸæˆ–é”™è¯¯è®­ç»ƒï¼Œé€šè¿‡å¤§é‡ç»éªŒè®­ç»ƒä¼˜åŒ–åçš„ç®—æ³•å°†èƒ½å¤Ÿç»™å‡ºè¾ƒå¥½çš„é¢„æµ‹ã€‚</li>
<li>åœ¨è¿ç­¹å­¦å’Œæ§åˆ¶è®ºçš„è¯­å¢ƒä¸‹ï¼Œå¼ºåŒ–å­¦ä¹ è¢«ç§°ä½œâ€œè¿‘ä¼¼åŠ¨æ€è§„åˆ’â€ï¼Œå³Approximate Dynamic Programmingï¼Œç®€ç§°ADPã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="3-1-å†³ç­–æ ‘"><a href="#3-1-å†³ç­–æ ‘" class="headerlink" title="3-1 å†³ç­–æ ‘"></a>3-1 å†³ç­–æ ‘</h2><ul>
<li>å†³ç­–æ ‘<ul>
<li>ä¸€ä¸ªæµç¨‹å›¾ï¼Œå¯æ ¹æ®ä»¥å‰çš„ç»éªŒåšå‡ºå†³ç­–ï¼Œå†³ç­–æ ‘éœ€æ»¡è¶³æ‰€æœ‰æ•°æ®éƒ½æ˜¯æ•°å­—ã€‚</li>
<li>è¿è¡Œå†³ç­–æ ‘çš„æ¬¡æ•°è¶³å¤Ÿå¤šæ—¶ï¼Œä¼šçœ‹åˆ°å®ƒç»™å‡ºä¸åŒç»“æœï¼Œå³ä¾¿æä¾›äº†ç›¸åŒçš„æ•°æ®ã€‚</li>
<li>å†³ç­–æ ‘å¹¶æœªç»™å®š100%ç¡®å®šçš„ç­”æ¡ˆï¼Œåªæ˜¯åŸºäºç»“æœçš„æ¦‚ç‡ï¼Œå› è€Œç»“æœä¼šæœ‰æ‰€ä¸åŒã€‚</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pandas<br><br><span class="hljs-string">&quot;&quot;&quot; data/actor_info.csv</span><br><span class="hljs-string">Age	Experience	Rank	Nationality	Go</span><br><span class="hljs-string">36  10          9	    UK          NO</span><br><span class="hljs-string">42  12          4	    USA         NO</span><br><span class="hljs-string">23  4           6	    N           NO</span><br><span class="hljs-string">52  4           4	    USA         NO</span><br><span class="hljs-string">43  21          8	    USA         YES</span><br><span class="hljs-string">44  14          5	    UK          NO</span><br><span class="hljs-string">66  3           7	    N           YES</span><br><span class="hljs-string">35  14          9	    UK          YES</span><br><span class="hljs-string">52  13          7	    N           YES</span><br><span class="hljs-string">35  5           9	    N           YES</span><br><span class="hljs-string">24  3           5	    USA         NO</span><br><span class="hljs-string">18  3           7	    UK          YES</span><br><span class="hljs-string">45  9           9	    UK          YES</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br>df = pandas.read_csv(<span class="hljs-string">&quot;data/actor_info.csv&quot;</span>)                  <span class="hljs-comment"># å–œå‰§æ¼”å‘˜çš„ä¿¡æ¯ï¼Œæ˜¯å¦å†³å®šçœ‹èŠ‚ç›®</span><br><span class="hljs-built_in">print</span>(df)                                                    <span class="hljs-comment"># è¯»å–å¹¶æ‰“å°æ•°æ®é›†</span><br></code></pre></td></tr></table></figure>



<h3 id="1-æ•°å€¼è½¬æ¢"><a href="#1-æ•°å€¼è½¬æ¢" class="headerlink" title="(1) æ•°å€¼è½¬æ¢"></a>(1) æ•°å€¼è½¬æ¢</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pandas<br><br>df = pandas.read_csv(<span class="hljs-string">&quot;data/actor_info.csv&quot;</span>)<br>ds = &#123;<span class="hljs-string">&quot;UK&quot;</span>: <span class="hljs-number">0</span>, <span class="hljs-string">&quot;USA&quot;</span>: <span class="hljs-number">1</span>, <span class="hljs-string">&quot;N&quot;</span>: <span class="hljs-number">2</span>&#125;                              <span class="hljs-comment"># å°†éæ•°å­—åˆ—è½¬æ¢ä¸ºæ•°å­—åˆ—</span><br>df[<span class="hljs-string">&quot;Nationality&quot;</span>] = df[<span class="hljs-string">&quot;Nationality&quot;</span>].<span class="hljs-built_in">map</span>(ds)<br>ds = &#123;<span class="hljs-string">&quot;YES&quot;</span>: <span class="hljs-number">1</span>, <span class="hljs-string">&quot;NO&quot;</span>: <span class="hljs-number">0</span>&#125;<br>df[<span class="hljs-string">&quot;Go&quot;</span>] = df[<span class="hljs-string">&quot;Go&quot;</span>].<span class="hljs-built_in">map</span>(ds)<br><br><span class="hljs-built_in">print</span>(df)                                                     <span class="hljs-comment"># è¯»å–å¹¶æ‰“å°æ•°æ®é›†</span><br></code></pre></td></tr></table></figure>



<h3 id="2-åˆ›å»ºå†³ç­–æ ‘"><a href="#2-åˆ›å»ºå†³ç­–æ ‘" class="headerlink" title="(2) åˆ›å»ºå†³ç­–æ ‘"></a>(2) åˆ›å»ºå†³ç­–æ ‘</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pandas<br><span class="hljs-keyword">import</span> graphviz                                              <span class="hljs-comment"># éœ€è¦å®‰è£…graphvizåº“å’ŒPlantUMLæ’ä»¶</span><br><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> tree<br><span class="hljs-keyword">from</span> sklearn.tree <span class="hljs-keyword">import</span> DecisionTreeClassifier<br><br>df = pandas.read_csv(<span class="hljs-string">&quot;data/actor_info.csv&quot;</span>)<br>ds = &#123;<span class="hljs-string">&quot;UK&quot;</span>: <span class="hljs-number">0</span>, <span class="hljs-string">&quot;USA&quot;</span>: <span class="hljs-number">1</span>, <span class="hljs-string">&quot;N&quot;</span>: <span class="hljs-number">2</span>&#125;                             <span class="hljs-comment"># å°†éæ•°å­—åˆ—è½¬æ¢ä¸ºæ•°å­—åˆ—</span><br>df[<span class="hljs-string">&quot;Nationality&quot;</span>] = df[<span class="hljs-string">&quot;Nationality&quot;</span>].<span class="hljs-built_in">map</span>(ds)<br>ds = &#123;<span class="hljs-string">&quot;YES&quot;</span>: <span class="hljs-number">1</span>, <span class="hljs-string">&quot;NO&quot;</span>: <span class="hljs-number">0</span>&#125;<br>df[<span class="hljs-string">&quot;Go&quot;</span>] = df[<span class="hljs-string">&quot;Go&quot;</span>].<span class="hljs-built_in">map</span>(ds)<br><br>features = [<span class="hljs-string">&quot;Age&quot;</span>, <span class="hljs-string">&quot;Experience&quot;</span>, <span class="hljs-string">&quot;Rank&quot;</span>, <span class="hljs-string">&quot;Nationality&quot;</span>]<br>X = df[features]                                             <span class="hljs-comment"># ç‰¹å¾åˆ—ï¼Œå°è¯•ä»ä¸­é¢„æµ‹çš„åˆ—</span><br>y = df[<span class="hljs-string">&quot;Go&quot;</span>]                                                 <span class="hljs-comment"># ç›®æ ‡åˆ—ï¼Œå°è¯•é¢„æµ‹å€¼çš„åˆ—</span><br><br><span class="hljs-built_in">print</span>(X)<br><span class="hljs-built_in">print</span>(y)<br><br>dtree = DecisionTreeClassifier()                             <span class="hljs-comment"># åˆ†å‰²æ ·æœ¬çš„GINIæ–¹æ³•ï¼šGini=1-(x/n)2+(y/n)2</span><br>dtree = dtree.fit(X, y)<br><span class="hljs-comment"># tree.plot_tree(dtree, feature_names=features)</span><br><span class="hljs-comment"># plt.savefig(sys.stdout.buffer)                             # è¿èƒŒäº†å¯è§†åŒ–çš„åˆè¡·ï¼Œç®€å•ç²—æš´ï¼Œä¸å»ºè®®ä½¿ç”¨</span><br><span class="hljs-comment"># sys.stdout.flush()</span><br><br>dot_data = tree.export_graphviz(dtree, feature_names=features)<br>graph = graphviz.Source(dot_data)<br>graph.render(<span class="hljs-string">&quot;data/decision_tree&quot;</span>)                           <span class="hljs-comment"># ç”Ÿæˆdecision_tree.pdfå¯è§†åŒ–å†³ç­–æ ‘</span><br></code></pre></td></tr></table></figure>



<h3 id="3-é¢„æµ‹æœªæ¥ä»·å€¼"><a href="#3-é¢„æµ‹æœªæ¥ä»·å€¼" class="headerlink" title="(3) é¢„æµ‹æœªæ¥ä»·å€¼"></a>(3) é¢„æµ‹æœªæ¥ä»·å€¼</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pandas<br><span class="hljs-keyword">from</span> sklearn.tree <span class="hljs-keyword">import</span> DecisionTreeClassifier<br><br>df = pandas.read_csv(<span class="hljs-string">&quot;data/actor_info.csv&quot;</span>)<br>ds = &#123;<span class="hljs-string">&quot;UK&quot;</span>: <span class="hljs-number">0</span>, <span class="hljs-string">&quot;USA&quot;</span>: <span class="hljs-number">1</span>, <span class="hljs-string">&quot;N&quot;</span>: <span class="hljs-number">2</span>&#125;                             <span class="hljs-comment"># å°†éæ•°å­—åˆ—è½¬æ¢ä¸ºæ•°å€¼</span><br>df[<span class="hljs-string">&quot;Nationality&quot;</span>] = df[<span class="hljs-string">&quot;Nationality&quot;</span>].<span class="hljs-built_in">map</span>(ds)<br>ds = &#123;<span class="hljs-string">&quot;YES&quot;</span>: <span class="hljs-number">1</span>, <span class="hljs-string">&quot;NO&quot;</span>: <span class="hljs-number">0</span>&#125;<br>df[<span class="hljs-string">&quot;Go&quot;</span>] = df[<span class="hljs-string">&quot;Go&quot;</span>].<span class="hljs-built_in">map</span>(ds)<br><br>features = [<span class="hljs-string">&quot;Age&quot;</span>, <span class="hljs-string">&quot;Experience&quot;</span>, <span class="hljs-string">&quot;Rank&quot;</span>, <span class="hljs-string">&quot;Nationality&quot;</span>]<br>X = df[features]                                             <span class="hljs-comment"># ç‰¹å¾åˆ—ï¼Œå°è¯•ä»ä¸­é¢„æµ‹çš„åˆ—</span><br>y = df[<span class="hljs-string">&quot;Go&quot;</span>]                                                 <span class="hljs-comment"># ç›®æ ‡åˆ—ï¼Œå°è¯•é¢„æµ‹å€¼çš„åˆ—</span><br><br>dtree = DecisionTreeClassifier()<br>dtree = dtree.fit(X.values, y.values)<br><span class="hljs-built_in">print</span>(dtree.predict([[<span class="hljs-number">40</span>, <span class="hljs-number">10</span>, <span class="hljs-number">6</span>, <span class="hljs-number">1</span>]]))                       <span class="hljs-comment"># æ˜¯å¦è¯¥çœ‹40å²10å¹´ç»éªŒå–œå‰§æ’åä¸º7çš„æ¼”å‘˜ä¸»æ¼”çš„èŠ‚ç›®</span><br></code></pre></td></tr></table></figure>



<h2 id="3-2-K-å‡å€¼"><a href="#3-2-K-å‡å€¼" class="headerlink" title="3-2 K-å‡å€¼"></a>3-2 K-å‡å€¼</h2><ul>
<li>K-å‡å€¼<ul>
<li>ä¸€ç§ç”¨äºèšç±»æ•°æ®ç‚¹çš„æ— ç›‘ç£å­¦ä¹ æ–¹æ³•ï¼Œè¯¥ç®—æ³•é€šè¿‡æœ€å°åŒ–æ¯ä¸ªç°‡ä¸­çš„æ–¹å·®å°†æ•°æ®ç‚¹è¿­ä»£åˆ’åˆ†ä¸ºKä¸ªç°‡ã€‚<ul>
<li>é¦–å…ˆï¼Œæ¯ä¸ªæ•°æ®ç‚¹è¢«éšæœºåˆ†é…åˆ°Kä¸ªé›†ç¾¤ä¸­çš„ä»»æ„ä¸€ä¸ªï¼Œç„¶åï¼Œè®¡ç®—æ¯ä¸ªé›†ç¾¤çš„è´¨å¿ƒï¼Œå³åŠŸèƒ½ä¸Šçš„ä¸­å¿ƒã€‚</li>
<li>å¹¶å°†æ¯ä¸ªæ•°æ®ç‚¹é‡æ–°åˆ†é…ç»™å…·æœ‰æœ€æ¥è¿‘è´¨å¿ƒçš„é›†ç¾¤ï¼Œé‡å¤è¯¥è¿‡ç¨‹ï¼Œç›´åˆ°æ¯ä¸ªæ•°æ®ç‚¹çš„é›†ç¾¤åˆ†é…ä¸å†å˜åŒ–ã€‚</li>
</ul>
</li>
<li>K-å‡å€¼èšç±»è¦æ±‚é€‰æ‹©Kï¼Œå³è¦å°†æ•°æ®åˆ†ç»„åˆ°çš„èšç±»æ•°ã€‚eblowæ–¹æ³•ç»˜åˆ¶æƒ¯æ€§(åŸºäºè·ç¦»çš„åº¦é‡)ã€‚</li>
<li>å¹¶å¯è§†åŒ–æƒ¯æ€§å¼€å§‹çº¿æ€§ä¸‹é™çš„ç‚¹ï¼Œè¯¥ç‚¹è¢«ç§°ä¸ºeblowï¼Œæ˜¯æ ¹æ®æ•°æ®å¯¹Kæœ€ä½³å€¼çš„ä¸€ä¸ªå¾ˆå¥½ä¼°è®¡ã€‚</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>x = [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">10</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">11</span>, <span class="hljs-number">14</span>, <span class="hljs-number">6</span>, <span class="hljs-number">10</span>, <span class="hljs-number">12</span>]<br>y = [<span class="hljs-number">21</span>, <span class="hljs-number">19</span>, <span class="hljs-number">24</span>, <span class="hljs-number">17</span>, <span class="hljs-number">16</span>, <span class="hljs-number">25</span>, <span class="hljs-number">24</span>, <span class="hljs-number">22</span>, <span class="hljs-number">21</span>, <span class="hljs-number">21</span>]<br><br>plt.scatter(x, y)<br>plt.show()                                                    <span class="hljs-comment"># å¯è§†åŒ–ä¸€äº›æ•°æ®ç‚¹</span><br></code></pre></td></tr></table></figure>



<h3 id="1-eblowæ³•"><a href="#1-eblowæ³•" class="headerlink" title="(1) eblowæ³•"></a>(1) eblowæ³•</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> warnings<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">from</span> sklearn.cluster <span class="hljs-keyword">import</span> KMeans<br><br>x = [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">10</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">11</span>, <span class="hljs-number">14</span>, <span class="hljs-number">6</span>, <span class="hljs-number">10</span>, <span class="hljs-number">12</span>]<br>y = [<span class="hljs-number">21</span>, <span class="hljs-number">19</span>, <span class="hljs-number">24</span>, <span class="hljs-number">17</span>, <span class="hljs-number">16</span>, <span class="hljs-number">25</span>, <span class="hljs-number">24</span>, <span class="hljs-number">22</span>, <span class="hljs-number">21</span>, <span class="hljs-number">21</span>]<br><br>data = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">zip</span>(x, y))                                       <span class="hljs-comment"># å°†æ•°æ®è½¬æ¢ä¸ºä¸€ç»„ç‚¹</span><br><br>inertias = []                                                <span class="hljs-comment"># æ‰¾åˆ°Kçš„æœ€ä½³å€¼ï¼Œéœ€å¯¹æ•°æ®è¿è¡ŒKå‡å€¼ä»¥è·å¾—ä¸€ç³»åˆ—å¯èƒ½å€¼</span><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-number">11</span>):                                       <span class="hljs-comment"># åªæœ‰10ä¸ªæ•°æ®ç‚¹ï¼Œå› æ­¤æœ€å¤§ç°‡æ•°ä¸º10</span><br>    kmeans = KMeans(n_clusters=i)<br>    <span class="hljs-keyword">with</span> warnings.catch_warnings():<br>        warnings.simplefilter(<span class="hljs-string">&quot;ignore&quot;</span>)<br>        kmeans.fit(data)<br>    inertias.append(kmeans.inertia_)<br><br>plt.plot(<span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-number">11</span>), inertias, marker=<span class="hljs-string">&quot;o&quot;</span>)<br>plt.title(<span class="hljs-string">&quot;Elbow method&quot;</span>)<br>plt.xlabel(<span class="hljs-string">&quot;Number of clusters&quot;</span>)<br>plt.ylabel(<span class="hljs-string">&quot;Inertia&quot;</span>)                                        <span class="hljs-comment"># åˆ©ç”¨eblowæ³•å¯è§†åŒ–ä¸åŒKå€¼çš„æƒ¯é‡</span><br>plt.show()                                                   <span class="hljs-comment"># å›¾ä¸­å€¼2æ˜¯Kçš„ä¸€ä¸ªå¾ˆå¥½çš„å€¼</span><br></code></pre></td></tr></table></figure>



<h3 id="2-é‡æ–°è®­ç»ƒ"><a href="#2-é‡æ–°è®­ç»ƒ" class="headerlink" title="(2) é‡æ–°è®­ç»ƒ"></a>(2) é‡æ–°è®­ç»ƒ</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> warnings<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">from</span> sklearn.cluster <span class="hljs-keyword">import</span> KMeans<br><br>x = [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">10</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">11</span>, <span class="hljs-number">14</span>, <span class="hljs-number">6</span>, <span class="hljs-number">10</span>, <span class="hljs-number">12</span>]<br>y = [<span class="hljs-number">21</span>, <span class="hljs-number">19</span>, <span class="hljs-number">24</span>, <span class="hljs-number">17</span>, <span class="hljs-number">16</span>, <span class="hljs-number">25</span>, <span class="hljs-number">24</span>, <span class="hljs-number">22</span>, <span class="hljs-number">21</span>, <span class="hljs-number">21</span>]<br><br>data = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">zip</span>(x, y))                                       <span class="hljs-comment"># å°†æ•°æ®è½¬æ¢ä¸ºä¸€ç»„ç‚¹</span><br><br>kmeans = KMeans(n_clusters=<span class="hljs-number">2</span>)<br><span class="hljs-keyword">with</span> warnings.catch_warnings():<br>    warnings.simplefilter(<span class="hljs-string">&quot;ignore&quot;</span>)<br>    kmeans.fit(data)<br><br>plt.scatter(x, y, c=kmeans.labels_)<br>plt.show()                                                   <span class="hljs-comment"># å¯è§†åŒ–æ•°æ®ç‚¹</span><br></code></pre></td></tr></table></figure>



<h2 id="3-3-æ··æ·†çŸ©é˜µ"><a href="#3-3-æ··æ·†çŸ©é˜µ" class="headerlink" title="3-3 æ··æ·†çŸ©é˜µ"></a>3-3 æ··æ·†çŸ©é˜µ</h2><ul>
<li>æ··æ·†çŸ©é˜µ<ul>
<li>ä¸€ä¸ªç”¨äºåˆ†ç±»é—®é¢˜çš„è¡¨æ ¼ï¼Œç”¨äºè¯„ä¼°æ¨¡å‹ä¸­å‡ºç°é”™è¯¯çš„ä½ç½®ï¼Œè¡Œä»£è¡¨ç»“æœåº”è¯¥å±äºçš„å®é™…ç±»åˆ«ï¼Œåˆ—ä»£è¡¨æ‰€åšçš„é¢„æµ‹ã€‚</li>
<li>åˆ›å»ºçš„æ··æ·†çŸ©é˜µæœ‰4ä¸ªè±¡é™ï¼šçœŸé˜´æ€§ã€å‡é˜³æ€§ã€å‡é˜´æ€§ã€çœŸé˜³æ€§ï¼ŒTrueè¡¨å‡†ç¡®é¢„æµ‹å€¼ï¼ŒFalseè¡¨å­˜åœ¨é”™è¯¯æˆ–é”™è¯¯é¢„æµ‹ã€‚</li>
<li>è¯¥çŸ©é˜µæä¾›äº†è®¸å¤šæŒ‡æ ‡ï¼Œå¯è¯„ä¼°åˆ†ç±»æ¨¡å‹ï¼Œä¸åŒçš„è¡¡é‡æ ‡å‡†åŒ…æ‹¬ï¼šå‡†ç¡®åº¦ã€ç²¾ç¡®åº¦ã€çµæ•åº¦(å¬å›ç‡)ã€ç‰¹å¼‚æ€§å’ŒF-scoreã€‚<ul>
<li>å‡†ç¡®åº¦ï¼šè¡¡é‡æ¨¡å‹æ­£ç¡®çš„é¢‘ç‡ï¼Œè®¡ç®—æ–¹æ³•ä¸º(çœŸé˜³æ€§+çœŸé˜´æ€§)&#x2F;æ€»é¢„æµ‹ã€‚</li>
<li>ç²¾ç¡®åº¦ï¼šåœ¨é¢„æµ‹çš„ç§¯æå› ç´ ä¸­ï¼ŒçœŸæ­£ç§¯æçš„ç™¾åˆ†æ¯”ï¼Œè®¡ç®—æ–¹æ³•ä¸ºçœŸé˜³æ€§&#x2F;(çœŸé˜³æ€§+å‡é˜³æ€§)ã€‚</li>
<li>çµæ•åº¦ï¼šåœ¨æ‰€æœ‰çš„é˜³æ€§ç—…ä¾‹ä¸­ï¼Œé¢„æµ‹é˜³æ€§çš„ç™¾åˆ†æ¯”ï¼Œè®¡ç®—æ–¹æ³•ä¸ºçœŸé˜³æ€§&#x2F;(çœŸé˜³æ€§+å‡é˜´æ€§)ã€‚</li>
<li>ç‰¹å¼‚æ€§ï¼šç±»ä¼¼äºçµæ•åº¦ï¼Œä½†ä»é˜´æ€§ç»“æœçš„è§’åº¦æ¥çœ‹ï¼Œè®¡ç®—æ–¹æ³•ä¸ºçœŸé˜´æ€§&#x2F;(çœŸé˜´æ€§+å‡é˜³æ€§)ã€‚</li>
<li>F-scoreï¼šå³ç²¾åº¦å’Œçµæ•åº¦çš„è°ƒå’Œå¹³å‡å€¼ï¼Œè®¡ç®—æ–¹æ³•ä¸º2*((ç²¾åº¦*çµæ•åº¦)&#x2F;(ç²¾åº¦+çµæ•åº¦))ã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy                                                 <span class="hljs-comment"># é€šè¿‡é€»è¾‘å›å½’çš„é¢„æµ‹æ¥åˆ›å»ºæ··æ·†çŸ©é˜µ</span><br><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> metrics<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>actual = numpy.random.binomial(<span class="hljs-number">1</span>, <span class="hljs-number">0.9</span>, size=<span class="hljs-number">1000</span>)            <span class="hljs-comment"># ç”Ÿæˆå®é™…å€¼</span><br>predic = numpy.random.binomial(<span class="hljs-number">1</span>, <span class="hljs-number">0.9</span>, size=<span class="hljs-number">1000</span>)            <span class="hljs-comment"># ç”Ÿæˆé¢„æµ‹å€¼</span><br><br>confusion_matrix = metrics.confusion_matrix(actual, predic)  <span class="hljs-comment"># å¯¹å®é™…å€¼å’Œé¢„æµ‹å€¼ä½¿ç”¨æ··æ·†çŸ©é˜µå‡½æ•°</span><br>cm_display = metrics.ConfusionMatrixDisplay(                 <span class="hljs-comment"># å°†è¡¨æ ¼è½¬æ¢ä¸ºæ··æ·†çŸ©é˜µæ˜¾ç¤º</span><br>    confusion_matrix=confusion_matrix,<br>    display_labels=[<span class="hljs-literal">False</span>, <span class="hljs-literal">True</span>]<br>)<br><br>cm_display.plot()                                            <span class="hljs-comment"># æ˜¾ç¤ºç»˜å›¾</span><br>plt.show()<br></code></pre></td></tr></table></figure>



<h3 id="1-å‡†ç¡®åº¦"><a href="#1-å‡†ç¡®åº¦" class="headerlink" title="(1) å‡†ç¡®åº¦"></a>(1) å‡†ç¡®åº¦</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy<br><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> metrics<br><br>actual = numpy.random.binomial(<span class="hljs-number">1</span>, <span class="hljs-number">0.9</span>, size=<span class="hljs-number">1000</span>)             <span class="hljs-comment"># ç”Ÿæˆå®é™…å€¼</span><br>predic = numpy.random.binomial(<span class="hljs-number">1</span>, <span class="hljs-number">0.9</span>, size=<span class="hljs-number">1000</span>)             <span class="hljs-comment"># ç”Ÿæˆé¢„æµ‹å€¼</span><br><br>Accuracy = metrics.accuracy_score(actual, predic)             <span class="hljs-comment"># å‡†ç¡®åº¦ï¼Œè¡¡é‡æ¨¡å‹æ­£ç¡®çš„é¢‘ç‡</span><br><span class="hljs-built_in">print</span>(Accuracy)<br></code></pre></td></tr></table></figure>



<h3 id="2-ç²¾ç¡®åº¦"><a href="#2-ç²¾ç¡®åº¦" class="headerlink" title="(2) ç²¾ç¡®åº¦"></a>(2) ç²¾ç¡®åº¦</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy<br><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> metrics<br><br>actual = numpy.random.binomial(<span class="hljs-number">1</span>, <span class="hljs-number">0.9</span>, size=<span class="hljs-number">1000</span>)             <span class="hljs-comment"># ç”Ÿæˆå®é™…å€¼</span><br>predic = numpy.random.binomial(<span class="hljs-number">1</span>, <span class="hljs-number">0.9</span>, size=<span class="hljs-number">1000</span>)             <span class="hljs-comment"># ç”Ÿæˆé¢„æµ‹å€¼</span><br><br>Precision = metrics.precision_score(actual, predic)           <span class="hljs-comment"># ç²¾ç¡®åº¦ï¼Œä¸è¯„ä¼°æ­£ç¡®é¢„æµ‹çš„è´Ÿé¢æ¡ˆä¾‹</span><br><span class="hljs-built_in">print</span>(Precision)<br></code></pre></td></tr></table></figure>



<h3 id="3-çµæ•åº¦"><a href="#3-çµæ•åº¦" class="headerlink" title="(3) çµæ•åº¦"></a>(3) çµæ•åº¦</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy<br><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> metrics<br><br>actual = numpy.random.binomial(<span class="hljs-number">1</span>, <span class="hljs-number">0.9</span>, size=<span class="hljs-number">1000</span>)             <span class="hljs-comment"># ç”Ÿæˆå®é™…å€¼</span><br>predic = numpy.random.binomial(<span class="hljs-number">1</span>, <span class="hljs-number">0.9</span>, size=<span class="hljs-number">1000</span>)             <span class="hljs-comment"># ç”Ÿæˆé¢„æµ‹å€¼</span><br><br>Sensitivity_recall = metrics.recall_score(actual, predic)     <span class="hljs-comment"># çµæ•åº¦ï¼Œè¡¡é‡æ¨¡å‹é¢„æµ‹é˜³æ€§çš„å¥½åç¨‹åº¦</span><br><span class="hljs-built_in">print</span>(Sensitivity_recall)<br></code></pre></td></tr></table></figure>



<h3 id="4-ç‰¹å¼‚æ€§"><a href="#4-ç‰¹å¼‚æ€§" class="headerlink" title="(4) ç‰¹å¼‚æ€§"></a>(4) ç‰¹å¼‚æ€§</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy<br><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> metrics<br><br>actual = numpy.random.binomial(<span class="hljs-number">1</span>, <span class="hljs-number">0.9</span>, size=<span class="hljs-number">1000</span>)             <span class="hljs-comment"># ç”Ÿæˆå®é™…å€¼</span><br>predic = numpy.random.binomial(<span class="hljs-number">1</span>, <span class="hljs-number">0.9</span>, size=<span class="hljs-number">1000</span>)             <span class="hljs-comment"># ç”Ÿæˆé¢„æµ‹å€¼</span><br><br>Specificity = metrics.recall_score(actual, predic, pos_label=<span class="hljs-number">0</span>)<br><span class="hljs-built_in">print</span>(Specificity)                                            <span class="hljs-comment"># ç‰¹å¼‚æ€§ï¼Œç±»ä¼¼æ•æ„Ÿæ€§ï¼Œä»é˜´æ€§ç»“æœè§’åº¦çœ‹</span><br></code></pre></td></tr></table></figure>



<h3 id="5-F-score"><a href="#5-F-score" class="headerlink" title="(5) F-score"></a>(5) F-score</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy<br><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> metrics<br><br>actual = numpy.random.binomial(<span class="hljs-number">1</span>, <span class="hljs-number">0.9</span>, size=<span class="hljs-number">1000</span>)             <span class="hljs-comment"># ç”Ÿæˆå®é™…å€¼</span><br>predic = numpy.random.binomial(<span class="hljs-number">1</span>, <span class="hljs-number">0.9</span>, size=<span class="hljs-number">1000</span>)             <span class="hljs-comment"># ç”Ÿæˆé¢„æµ‹å€¼</span><br><br>F1_score = metrics.f1_score(actual, predic)                   <span class="hljs-comment"># åŒæ—¶è€ƒè™‘å‡é˜³æ€§å’Œå‡é˜´æ€§</span><br><span class="hljs-built_in">print</span>(F1_score)                                               <span class="hljs-comment"># é€‚ç”¨äºä¸å¹³è¡¡çš„æ•°æ®é›†ï¼ŒF-score</span><br></code></pre></td></tr></table></figure>



<h2 id="3-4-å±‚æ¬¡èšç±»"><a href="#3-4-å±‚æ¬¡èšç±»" class="headerlink" title="3-4 å±‚æ¬¡èšç±»"></a>3-4 å±‚æ¬¡èšç±»</h2><ul>
<li>å±‚æ¬¡èšç±»<ul>
<li>æ˜¯ä¸€ç§ç”¨äºèšç±»æ•°æ®ç‚¹çš„æ— ç›‘ç£å­¦ä¹ æ–¹æ³•ï¼Œè¯¥ç®—æ³•é€šè¿‡æµ‹é‡æ•°æ®ä¹‹é—´çš„å·®å¼‚æ¥æ„å»ºé›†ç¾¤ã€‚</li>
<li>æ— ç›‘ç£å­¦ä¹ æ„å‘³ç€æ¨¡å‹ä¸éœ€è¦è®­ç»ƒï¼Œå¯ç”¨äºä»»ä½•æ•°æ®ï¼Œä»¥å¯è§†åŒ–å’Œè§£é‡Šå„ä¸ªæ•°æ®ç‚¹ä¹‹é—´çš„å…³ç³»ã€‚<ul>
<li>é¦–å…ˆå°†æ¯ä¸ªæ•°æ®ç‚¹è§†ä¸ºå…¶è‡ªå·±çš„é›†ç¾¤ï¼Œç„¶åå°†å®ƒä»¬ä¹‹é—´è·ç¦»æœ€çŸ­çš„é›†ç¾¤è¿æ¥åœ¨ä¸€èµ·ï¼Œä»¥åˆ›å»ºæ›´å¤§çš„é›†ç¾¤ã€‚</li>
<li>é‡å¤æ­¤æ­¥éª¤ï¼Œç›´åˆ°å½¢æˆä¸€ä¸ªåŒ…å«æ‰€æœ‰æ•°æ®ç‚¹çš„å¤§é›†ç¾¤ï¼Œå‡èšèšç±»(å³ä¸€ç§éµå¾ªè‡ªä¸‹è€Œä¸Šæ–¹æ³•çš„å±‚æ¬¡èšç±»)ã€‚</li>
</ul>
</li>
<li>åœ¨è¿™é‡Œå°†ä½¿ç”¨å±‚æ¬¡èšç±»å¯¹æ•°æ®ç‚¹è¿›è¡Œåˆ†ç»„ï¼Œå¹¶ä½¿ç”¨æ ‘çŠ¶å›¾å’Œæ•£ç‚¹å›¾å¯è§†åŒ–èšç±»ã€‚</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>x = [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">10</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">11</span>, <span class="hljs-number">14</span> , <span class="hljs-number">6</span>, <span class="hljs-number">10</span>, <span class="hljs-number">12</span>]<br>y = [<span class="hljs-number">21</span>, <span class="hljs-number">19</span>, <span class="hljs-number">24</span>, <span class="hljs-number">17</span>, <span class="hljs-number">16</span>, <span class="hljs-number">25</span>, <span class="hljs-number">24</span>, <span class="hljs-number">22</span>, <span class="hljs-number">21</span>, <span class="hljs-number">21</span>]<br><br>plt.scatter(x, y)                                             <span class="hljs-comment"># å¯è§†åŒ–ä¸€äº›æ•°æ®ç‚¹</span><br>plt.show()<br></code></pre></td></tr></table></figure>



<h3 id="1-æ ‘çŠ¶å›¾å¯è§†åŒ–"><a href="#1-æ ‘çŠ¶å›¾å¯è§†åŒ–" class="headerlink" title="(1) æ ‘çŠ¶å›¾å¯è§†åŒ–"></a>(1) æ ‘çŠ¶å›¾å¯è§†åŒ–</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">from</span> scipy.cluster.hierarchy <span class="hljs-keyword">import</span> dendrogram, linkage<br><br>x = [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">10</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">11</span>, <span class="hljs-number">14</span>, <span class="hljs-number">6</span>, <span class="hljs-number">10</span>, <span class="hljs-number">12</span>]<br>y = [<span class="hljs-number">21</span>, <span class="hljs-number">19</span>, <span class="hljs-number">24</span>, <span class="hljs-number">17</span>, <span class="hljs-number">16</span>, <span class="hljs-number">25</span>, <span class="hljs-number">24</span>, <span class="hljs-number">22</span>, <span class="hljs-number">21</span>, <span class="hljs-number">21</span>]<br><br>data = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">zip</span>(x, y))<br><br>linkage_data = linkage(data, method=<span class="hljs-string">&quot;ward&quot;</span>, metric=<span class="hljs-string">&quot;euclidean&quot;</span>)<br>dendrogram(linkage_data)                                     <span class="hljs-comment"># ä½¿ç”¨æ¬§å‡ é‡Œå¾—è·ç¦»åº¦é‡ï¼Œå¹¶ä½¿ç”¨æ ‘çŠ¶å›¾å°†å…¶å¯è§†åŒ–</span><br><br>plt.show()<br></code></pre></td></tr></table></figure>



<h3 id="2-æ•£ç‚¹å›¾å¯è§†åŒ–"><a href="#2-æ•£ç‚¹å›¾å¯è§†åŒ–" class="headerlink" title="(2) æ•£ç‚¹å›¾å¯è§†åŒ–"></a>(2) æ•£ç‚¹å›¾å¯è§†åŒ–</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">from</span> sklearn.cluster <span class="hljs-keyword">import</span> AgglomerativeClustering<br><br>x = [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">10</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">11</span>, <span class="hljs-number">14</span>, <span class="hljs-number">6</span>, <span class="hljs-number">10</span>, <span class="hljs-number">12</span>]<br>y = [<span class="hljs-number">21</span>, <span class="hljs-number">19</span>, <span class="hljs-number">24</span>, <span class="hljs-number">17</span>, <span class="hljs-number">16</span>, <span class="hljs-number">25</span>, <span class="hljs-number">24</span>, <span class="hljs-number">22</span>, <span class="hljs-number">21</span>, <span class="hljs-number">21</span>]<br><br>data = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">zip</span>(x, y))<br><br>hierarchical_cluster = AgglomerativeClustering(n_clusters=<span class="hljs-number">2</span>, affinity=<span class="hljs-string">&quot;euclidean&quot;</span>, linkage=<span class="hljs-string">&quot;ward&quot;</span>)<br>labels = hierarchical_cluster.fit_predict(data)              <span class="hljs-comment"># AgglomerativeClustering()ä½¿ç”¨äº†scikit-learnåº“</span><br><br>plt.scatter(x, y, c=labels)<br>plt.show()<br></code></pre></td></tr></table></figure>



<h2 id="3-5-é€»è¾‘å›å½’"><a href="#3-5-é€»è¾‘å›å½’" class="headerlink" title="3-5 é€»è¾‘å›å½’"></a>3-5 é€»è¾‘å›å½’</h2><ul>
<li>é€»è¾‘å›å½’<ul>
<li>æ—¨åœ¨è§£å†³åˆ†ç±»é—®é¢˜ï¼Œé€šè¿‡é¢„æµ‹åˆ†ç±»ç»“æœæ¥åšåˆ°è¿™ä¸€ç‚¹ï¼Œä¸é¢„æµ‹è¿ç»­ç»“æœçš„çº¿æ€§å›å½’ä¸åŒã€‚<ul>
<li>æœ€ç®€å•çš„æƒ…å†µæœ‰ä¸¤ä¸ªç»“æœï¼Œç§°ä¸ºäºŒé¡¹å¼ï¼Œä¾‹å¦‚ï¼šé¢„æµ‹è‚¿ç˜¤æ˜¯æ¶æ€§è‚¿ç˜¤è¿˜æ˜¯è‰¯æ€§è‚¿ç˜¤ã€‚</li>
<li>ä¸¤ä¸ªä»¥ä¸Šç»“æœçš„åˆ†ç±»æƒ…å†µï¼Œç§°ä¸ºå¤šé¡¹å¼ï¼Œä¾‹å¦‚ï¼šé¢„æµ‹3ç§ä¸åŒç‰©ç§ä¹‹é—´çš„é¸¢å°¾èŠ±ç±»åˆ«ã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy<br><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> linear_model                             <span class="hljs-comment"># å°†è‡ªå˜é‡å­˜å‚¨åœ¨Xä¸­ï¼Œå°†å› å˜é‡å­˜å‚¨åœ¨yä¸­</span><br><br>X = numpy.array([<span class="hljs-number">3.78</span>, <span class="hljs-number">2.44</span>, <span class="hljs-number">2.09</span>, <span class="hljs-number">0.14</span>, <span class="hljs-number">1.72</span>, <span class="hljs-number">1.65</span>, <span class="hljs-number">4.92</span>, <span class="hljs-number">4.37</span>, <span class="hljs-number">4.96</span>, <span class="hljs-number">4.52</span>, <span class="hljs-number">3.69</span>, <span class="hljs-number">5.88</span>]).reshape(-<span class="hljs-number">1</span>, <span class="hljs-number">1</span>)<br>y = numpy.array([<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>])<br><br>logr = linear_model.LogisticRegression()                     <span class="hljs-comment"># åˆ›å»ºé€»è¾‘å›å½’å¯¹è±¡ï¼Œå°†ç‹¬ç«‹å€¼å’Œç›¸å…³å€¼ä½œä¸ºå‚æ•°</span><br>logr.fit(X, y)                                               <span class="hljs-comment"># å¹¶ç”¨æè¿°å…³ç³»çš„æ•°æ®å¡«å……å›å½’å¯¹è±¡</span><br><br>predicted = logr.predict(numpy.array([<span class="hljs-number">3.46</span>]).reshape(-<span class="hljs-number">1</span>, <span class="hljs-number">1</span>))<br><span class="hljs-built_in">print</span>(predicted)                                             <span class="hljs-comment"># ç»“æœä¸º[0]ï¼Œé¢„æµ‹3.46mmçš„è‚¿ç˜¤ä¸ä¼šç™Œå˜</span><br></code></pre></td></tr></table></figure>



<h3 id="1-ç³»æ•°-1"><a href="#1-ç³»æ•°-1" class="headerlink" title="(1) ç³»æ•°"></a>(1) ç³»æ•°</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy<br><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> linear_model<br><br>X = numpy.array([<span class="hljs-number">3.78</span>, <span class="hljs-number">2.44</span>, <span class="hljs-number">2.09</span>, <span class="hljs-number">0.14</span>, <span class="hljs-number">1.72</span>, <span class="hljs-number">1.65</span>, <span class="hljs-number">4.92</span>, <span class="hljs-number">4.37</span>, <span class="hljs-number">4.96</span>, <span class="hljs-number">4.52</span>, <span class="hljs-number">3.69</span>, <span class="hljs-number">5.88</span>]).reshape(-<span class="hljs-number">1</span>, <span class="hljs-number">1</span>)<br>y = numpy.array([<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>])<br><br>logr = linear_model.LogisticRegression()                     <span class="hljs-comment"># åˆ›å»ºé€»è¾‘å›å½’å¯¹è±¡ï¼Œå°†ç‹¬ç«‹å€¼å’Œç›¸å…³å€¼ä½œä¸ºå‚æ•°</span><br>logr.fit(X, y)                                               <span class="hljs-comment"># å¹¶ç”¨æè¿°å…³ç³»çš„æ•°æ®å¡«å……å›å½’å¯¹è±¡</span><br><br>log_odds = logr.coef_                                        <span class="hljs-comment"># ç³»æ•°æ˜¯Xä¸­æ¯å•ä½å˜åŒ–çš„ç»“æœçš„å¯¹æ•°å‡ ç‡çš„é¢„æœŸå˜åŒ–</span><br>odds = numpy.exp(log_odds)                                   <span class="hljs-comment"># èµ”ç‡ï¼Œéšç€è‚¿ç˜¤å¤§å°å¢åŠ 1æ¯«ç±³ï¼Œæˆä¸ºè‚¿ç˜¤çš„å‡ ç‡å¢åŠ 4å€</span><br><br><span class="hljs-built_in">print</span>(odds)<br></code></pre></td></tr></table></figure>



<h3 id="2-æ¦‚ç‡"><a href="#2-æ¦‚ç‡" class="headerlink" title="(2) æ¦‚ç‡"></a>(2) æ¦‚ç‡</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy<br><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> linear_model<br><br>X = numpy.array([<span class="hljs-number">3.78</span>, <span class="hljs-number">2.44</span>, <span class="hljs-number">2.09</span>, <span class="hljs-number">0.14</span>, <span class="hljs-number">1.72</span>, <span class="hljs-number">1.65</span>, <span class="hljs-number">4.92</span>, <span class="hljs-number">4.37</span>, <span class="hljs-number">4.96</span>, <span class="hljs-number">4.52</span>, <span class="hljs-number">3.69</span>, <span class="hljs-number">5.88</span>]).reshape(-<span class="hljs-number">1</span>, <span class="hljs-number">1</span>)<br>y = numpy.array([<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>])<br><br>logr = linear_model.LogisticRegression()                     <span class="hljs-comment"># åˆ›å»ºé€»è¾‘å›å½’å¯¹è±¡ï¼Œå°†ç‹¬ç«‹å€¼å’Œç›¸å…³å€¼ä½œä¸ºå‚æ•°</span><br>logr.fit(X, y)                                               <span class="hljs-comment"># å¹¶ç”¨æè¿°å…³ç³»çš„æ•°æ®å¡«å……å›å½’å¯¹è±¡</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">logit2prob</span>(<span class="hljs-params">logr, X</span>):<br>    log_odds = logr.coef_ * X + logr.intercept_              <span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªçœ‹èµ·æ¥ç±»ä¼¼äºçº¿æ€§å›å½’çš„å…¬å¼ï¼Œæå–ç³»æ•°å’Œæˆªè·</span><br>    odds = numpy.exp(log_odds)                               <span class="hljs-comment"># ä¸ºäº†å°†å¯¹æ•°èµ”ç‡è½¬æ¢ä¸ºèµ”ç‡ï¼Œå¿…é¡»å¯¹å¯¹æ•°èµ”ç‡å–å¹‚</span><br>    probability = odds / (<span class="hljs-number">1</span> + odds)                          <span class="hljs-comment"># æœ‰äº†èµ”ç‡ï¼Œå¯ä»¥å°†å…¶é™¤ä»¥1åŠ ä¸Šèµ”ç‡ï¼Œå°†å…¶è½¬æ¢ä¸ºæ¦‚ç‡</span><br>    <span class="hljs-keyword">return</span> probability<br><br><br><span class="hljs-built_in">print</span>(logit2prob(logr, X))                                   <span class="hljs-comment"># æ‰¾å‡ºæ¯ä¸ªè‚¿ç˜¤ç™Œå˜çš„æ¦‚ç‡ï¼Œ3.78cmè‚¿ç˜¤ç™Œå˜çš„æ¦‚ç‡ä¸º61%</span><br></code></pre></td></tr></table></figure>



<h2 id="3-6-ç½‘æ ¼æœç´¢"><a href="#3-6-ç½‘æ ¼æœç´¢" class="headerlink" title="3-6 ç½‘æ ¼æœç´¢"></a>3-6 ç½‘æ ¼æœç´¢</h2><ul>
<li>ç½‘æ ¼æœç´¢<ul>
<li>ç©·ä¸¾æœç´¢ï¼šåœ¨æ‰€æœ‰å€™é€‰å‚æ•°çš„é€‰æ‹©ä¸­ï¼Œé€šè¿‡å¾ªç¯éå†å°è¯•æ¯ä¸€ç§å¯èƒ½æ€§ï¼Œè¡¨ç°æœ€å¥½çš„å‚æ•°å°±æ˜¯æœ€ç»ˆçš„ç»“æœã€‚</li>
<li>å¤§å¤šæ•°æœºå™¨å­¦ä¹ æ¨¡å‹éƒ½åŒ…å«å¯ä»¥è°ƒæ•´ä»¥æ”¹å˜æ¨¡å‹å­¦ä¹ æ–¹å¼çš„å‚æ•°ï¼Œä¾‹å¦‚ï¼šé€»è¾‘å›å½’æ¨¡å‹ã€‚<ul>
<li>Cç”¨äºæ§åˆ¶æ­£åˆ™åŒ–å‚æ•°ï¼Œå½±å“æ¨¡å‹çš„å¤æ‚æ€§ï¼Œé€‰æ‹©æœ€ä½³å€¼Cåˆ™å–å†³äºè®­ç»ƒæ¨¡å‹çš„æ•°æ®ã€‚</li>
<li>ä¸€ç§æ–¹æ³•æ˜¯å°è¯•ä¸åŒçš„å€¼ï¼Œç„¶åé€‰æ‹©ç»™å‡ºæœ€ä½³åˆ†æ•°çš„å€¼ï¼Œè¿™ç§æŠ€æœ¯ç§°ä¹‹ä¸ºç½‘æ ¼æœç´¢ã€‚</li>
<li>å¦‚æœå¿…é¡»ä¸ºä¸¤ä¸ªåŠä¸¤ä¸ªä»¥ä¸Šå‚æ•°é€‰æ‹©å€¼ï¼Œå°†è¯„ä¼°å€¼é›†çš„æ‰€æœ‰ç»„åˆï¼Œä»è€Œå½¢æˆå€¼ç½‘æ ¼ã€‚</li>
</ul>
</li>
<li>ä½¿ç”¨è®­ç»ƒæ•°æ®å¯¹é€»è¾‘å›å½’æ¨¡å‹è¿›è¡Œè¯„åˆ†<ul>
<li>è‹¥æ¨¡å‹ä¸æ•°æ®è¿‡äºæ¥è¿‘ï¼Œå¯èƒ½æ— æ³•å¾ˆå¥½åœ°é¢„æµ‹æœªçŸ¥æ•°æ®ï¼Œè¿™ç§ç»Ÿè®¡è¯¯å·®è¢«ç§°ä¸ºè¿‡åº¦æ‹Ÿåˆã€‚</li>
<li>ä¸ºäº†é¿å…è¢«è®­ç»ƒçš„æ•°æ®è¿‡åº¦æ‹Ÿåˆå¯¼è‡´çš„è¯¯å·®ï¼Œå¯ä»¥ä¿ç•™ä¸€éƒ¨åˆ†æ•°æ®ï¼Œä¸“é—¨ç”¨äºæµ‹è¯•æ¨¡å‹ã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="1-é»˜è®¤å‚æ•°"><a href="#1-é»˜è®¤å‚æ•°" class="headerlink" title="(1) é»˜è®¤å‚æ•°"></a>(1) é»˜è®¤å‚æ•°</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> datasets                                 <span class="hljs-comment"># å°†åŠ è½½ç”¨äºå¯¹é¸¢å°¾èŠ±è¿›è¡Œåˆ†ç±»çš„é€»è¾‘æ¨¡å‹</span><br><span class="hljs-keyword">from</span> sklearn.linear_model <span class="hljs-keyword">import</span> LogisticRegression<br><br>iris = datasets.load_iris()                                  <span class="hljs-comment"># åŠ è½½å°†ä½¿ç”¨çš„æ•°æ®é›†</span><br><br>X = iris[<span class="hljs-string">&quot;data&quot;</span>]                                             <span class="hljs-comment"># åˆ›å»ºä¸€ç»„è‡ªå˜é‡Xå’Œä¸€ä¸ªå› å˜é‡y</span><br>y = iris[<span class="hljs-string">&quot;target&quot;</span>]<br><br>logit = LogisticRegression(max_iter=<span class="hljs-number">10000</span>)                   <span class="hljs-comment"># æŸ¥çœ‹irisæ•°æ®é›†å¹¶å°è¯•åœ¨é€»è¾‘å›å½’ä¸­è®­ç»ƒä¸åŒå€¼çš„æ¨¡å‹</span><br><br><span class="hljs-built_in">print</span>(logit.fit(X, y))                                       <span class="hljs-comment"># ä½¿æ¨¡å‹é€‚åˆæ•°æ®</span><br><span class="hljs-built_in">print</span>(logit.score(X, y))                                     <span class="hljs-comment"># è¿è¡Œè¯„åˆ†æ–¹æ³•ï¼Œé»˜è®¤è®¾ç½®Cä¸º1ï¼Œå¾—åˆ†ä¸º0.973</span><br></code></pre></td></tr></table></figure>



<h3 id="2-è®¾ç½®èŒƒå›´"><a href="#2-è®¾ç½®èŒƒå›´" class="headerlink" title="(2) è®¾ç½®èŒƒå›´"></a>(2) è®¾ç½®èŒƒå›´</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> datasets                                 <span class="hljs-comment"># å°†åŠ è½½ç”¨äºå¯¹é¸¢å°¾èŠ±è¿›è¡Œåˆ†ç±»çš„é€»è¾‘æ¨¡å‹</span><br><span class="hljs-keyword">from</span> sklearn.linear_model <span class="hljs-keyword">import</span> LogisticRegression<br><br>iris = datasets.load_iris()                                  <span class="hljs-comment"># åŠ è½½å°†ä½¿ç”¨çš„æ•°æ®é›†</span><br><br>X = iris[<span class="hljs-string">&quot;data&quot;</span>]                                             <span class="hljs-comment"># åˆ›å»ºä¸€ç»„è‡ªå˜é‡Xå’Œä¸€ä¸ªå› å˜é‡y</span><br>y = iris[<span class="hljs-string">&quot;target&quot;</span>]<br><br>logit = LogisticRegression(max_iter=<span class="hljs-number">10000</span>)                   <span class="hljs-comment"># æŸ¥çœ‹irisæ•°æ®é›†å¹¶å°è¯•åœ¨é€»è¾‘å›å½’ä¸­è®­ç»ƒä¸åŒå€¼çš„æ¨¡å‹</span><br><br>C = [<span class="hljs-number">0.25</span>, <span class="hljs-number">0.5</span>, <span class="hljs-number">0.75</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1.25</span>, <span class="hljs-number">1.5</span>, <span class="hljs-number">1.75</span>, <span class="hljs-number">2</span>]                 <span class="hljs-comment"># å°†Cè®¾ç½®ä¸ºä¸€ç³»åˆ—å€¼</span><br>scores = []                                                  <span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªç©ºåˆ—è¡¨æ¥å­˜å‚¨åˆ†æ•°</span><br><br><span class="hljs-keyword">for</span> choice <span class="hljs-keyword">in</span> C:                                             <span class="hljs-comment"># forå¾ªç¯æ›´æ”¹æ¨¡å‹çš„Cå€¼å¹¶åœ¨æ¯æ¬¡æ›´æ”¹æ—¶è¯„ä¼°æ¨¡å‹</span><br>    logit.set_params(C=choice)<br>    logit.fit(X, y)<br>    scores.append(logit.score(X, y))<br><br><span class="hljs-built_in">print</span>(scores)                                                <span class="hljs-comment"># é€šè¿‡å­˜å‚¨åœ¨åˆ—è¡¨ä¸­çš„åˆ†æ•°ï¼Œè¯„ä¼°æœ€ä½³Cå€¼1.75å·¦å³</span><br></code></pre></td></tr></table></figure>



<h2 id="3-7-åˆ†ç±»æ•°æ®"><a href="#3-7-åˆ†ç±»æ•°æ®" class="headerlink" title="3-7 åˆ†ç±»æ•°æ®"></a>3-7 åˆ†ç±»æ•°æ®</h2><ul>
<li>åˆ†ç±»æ•°æ®<ul>
<li>å½“æ•°æ®ç”±å­—ç¬¦ä¸²è¡¨ç¤ºç±»åˆ«æ—¶ï¼Œå¾ˆéš¾ä½¿ç”¨å®ƒä»¬æ¥è®­ç»ƒåªæ¥å—æ•°å­—æ•°æ®çš„æœºå™¨å­¦ä¹ æ¨¡å‹ã€‚</li>
<li>æ­¤æ—¶å¯ä»¥è½¬æ¢æ•°æ®ï¼Œä»¥ä¾¿åœ¨æ¨¡å‹ä¸­ä½¿ç”¨ï¼Œè€Œä¸æ˜¯å¿½ç•¥åˆ†ç±»æ•°æ®å¹¶ä»æ¨¡å‹ä¸­æ’é™¤ä¿¡æ¯ã€‚</li>
<li>çƒ­ç¼–ç ï¼šç”¨ä¸€åˆ—ä»£è¡¨ç±»åˆ«ä¸­çš„æ¯ä¸ªç»„ï¼Œå¯¹äºæ¯ä¸€åˆ—ï¼Œå€¼å°†ä¸º1æˆ–0ï¼Œ1è¡¨ç¤ºåŒ…å«ç»„ï¼Œ0è¡¨ç¤ºæ’é™¤ç»„ã€‚</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd                                           <span class="hljs-comment"># data.csvæ”¹åä¸ºvehicle_info.csv</span><br><br>cars = pd.read_csv(<span class="hljs-string">&quot;data/vehicle_info.csv&quot;</span>)                   <span class="hljs-comment"># åœ¨&quot;å¤šå…ƒçº¿æ€§å›å½’&quot;ä¸­é¢„æµ‹CO2çš„æ’æ”¾é‡</span><br><span class="hljs-built_in">print</span>(cars.to_string())                                       <span class="hljs-comment"># æ’é™¤äº†æ±½è½¦å“ç‰Œå’Œå‹å·</span><br></code></pre></td></tr></table></figure>



<h3 id="1-çƒ­ç¼–ç "><a href="#1-çƒ­ç¼–ç " class="headerlink" title="(1) çƒ­ç¼–ç "></a>(1) çƒ­ç¼–ç </h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd                                           <span class="hljs-comment"># data.csvæ”¹åä¸ºvehicle_info.csv</span><br><br>cars = pd.read_csv(<span class="hljs-string">&quot;data/vehicle_info.csv&quot;</span>)<br>ohe_cars = pd.get_dummies(cars[[<span class="hljs-string">&quot;Car&quot;</span>]])                      <span class="hljs-comment"># æ‰§è¡Œä¸€æ¬¡çƒ­ç¼–ç </span><br><br><span class="hljs-built_in">print</span>(ohe_cars.to_string())                                   <span class="hljs-comment"># ä¸ºCaråˆ—ä¸­çš„æ¯ä¸ªæ±½è½¦å“ç‰Œåˆ›å»ºäº†ä¸€ä¸ªåˆ—</span><br></code></pre></td></tr></table></figure>



<h3 id="2-é¢„æµ‹CO2"><a href="#2-é¢„æµ‹CO2" class="headerlink" title="(2) é¢„æµ‹CO2"></a>(2) é¢„æµ‹CO2</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd                                          <span class="hljs-comment"># data.csvæ”¹åä¸ºvehicle_info.csv</span><br><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> linear_model                             <span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªçº¿æ€§æ¨¡å‹</span><br><br>cars = pd.read_csv(<span class="hljs-string">&quot;data/vehicle_info.csv&quot;</span>)<br>ohe_cars = pd.get_dummies(cars[[<span class="hljs-string">&quot;Car&quot;</span>]])                     <span class="hljs-comment"># æ‰§è¡Œä¸€æ¬¡çƒ­ç¼–ç ï¼Œåˆ›å»ºè™šæ‹Ÿå˜é‡</span><br><br>X = pd.concat([cars[[<span class="hljs-string">&quot;Volume&quot;</span>, <span class="hljs-string">&quot;Weight&quot;</span>]], ohe_cars], axis=<span class="hljs-number">1</span>)<br>y = cars[<span class="hljs-string">&quot;CO2&quot;</span>]                                              <span class="hljs-comment"># é€‰æ‹©è‡ªå˜é‡Xå¹¶æŒ‰åˆ—æ·»åŠ è™šæ‹Ÿå˜é‡ï¼Œå°†å› å˜é‡å­˜å‚¨åœ¨yä¸­</span><br><br>regr = linear_model.LinearRegression()                       <span class="hljs-comment"># å°†æ•°æ®æ‹Ÿåˆä¸ºçº¿æ€§å›å½’</span><br>regr.fit(X.values, y.values)<br><br>predictedCO2 = regr.predict([[<span class="hljs-number">2300</span>, <span class="hljs-number">1300</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>]])<br><span class="hljs-built_in">print</span>(predictedCO2)                                          <span class="hljs-comment"># æ ¹æ®æ±½è½¦çš„é‡é‡ã€ä½“ç§¯å’Œåˆ¶é€ å•†æ¥é¢„æµ‹CO2æ’æ”¾é‡</span><br></code></pre></td></tr></table></figure>



<h3 id="3-Dummifying"><a href="#3-Dummifying" class="headerlink" title="(3) Dummifying"></a>(3) Dummifying</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br>colors1 = pd.DataFrame(&#123;<span class="hljs-string">&quot;color&quot;</span>: [<span class="hljs-string">&quot;blue&quot;</span>, <span class="hljs-string">&quot;pink&quot;</span>]&#125;)<br><span class="hljs-built_in">print</span>(colors1)                                               <span class="hljs-comment"># æœ‰ä¸€ä¸ªè¡¨ç¤ºé¢œè‰²çš„åˆ—ï¼Œ2ä¸ªç»„</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;--------------------------------&quot;</span>)<br><br>dummies = pd.get_dummies(colors1, drop_first=<span class="hljs-literal">True</span>)<br><span class="hljs-built_in">print</span>(dummies)                                               <span class="hljs-comment"># ä½¿ç”¨ç”¨äºä¸€æ¬¡çƒ­ç¼–ç çš„å‡½æ•°ï¼Œç„¶ååˆ é™¤å…¶ä¸­ä¸€åˆ—</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;--------------------------------&quot;</span>)<br><br>colors2 = pd.DataFrame(&#123;<span class="hljs-string">&quot;color&quot;</span>: [<span class="hljs-string">&quot;blue&quot;</span>, <span class="hljs-string">&quot;pink&quot;</span>, <span class="hljs-string">&quot;grey&quot;</span>]&#125;)<br><span class="hljs-built_in">print</span>(colors2)                                               <span class="hljs-comment"># æœ‰ä¸€ä¸ªè¡¨ç¤ºé¢œè‰²çš„åˆ—ï¼Œ3ä¸ªç»„</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;--------------------------------&quot;</span>)<br><br>dummies = pd.get_dummies(colors2, drop_first=<span class="hljs-literal">True</span>)<br>dummies[<span class="hljs-string">&quot;color2&quot;</span>] = colors2[<span class="hljs-string">&quot;color&quot;</span>]<br><span class="hljs-built_in">print</span>(dummies)                                               <span class="hljs-comment"># ä½¿ç”¨ç”¨äºä¸€æ¬¡çƒ­ç¼–ç çš„å‡½æ•°ï¼Œç„¶ååˆ é™¤å…¶ä¸­ä¸€åˆ—</span><br></code></pre></td></tr></table></figure>



<h2 id="3-8-K-æœ€è¿‘é‚»"><a href="#3-8-K-æœ€è¿‘é‚»" class="headerlink" title="3-8 K-æœ€è¿‘é‚»"></a>3-8 K-æœ€è¿‘é‚»</h2><ul>
<li>K-æœ€è¿‘é‚»<ul>
<li>K-Nearest Neighborï¼ŒKNNï¼Œå³ä¸€ç§åˆ†ç±»(Classification)ç®—æ³•ï¼Œè¾“å…¥åŸºäºå®ä¾‹çš„å­¦ä¹ ï¼Œå±äºæ‡’æƒ°å­¦ä¹ ã€‚</li>
<li>å³æ²¡æœ‰è®­ç»ƒé˜¶æ®µï¼Œæ•°æ®é›†äº‹å…ˆå·²æœ‰äº†åˆ†ç±»å’Œç‰¹å¾å€¼ï¼Œå¾…æ”¶åˆ°æ–°æ ·æœ¬åç›´æ¥è¿›è¡Œå¤„ç†ï¼Œä¸æ€¥åˆ‡å­¦ä¹ ç›¸å¯¹åº”ã€‚</li>
<li>æ€æƒ³ï¼šè‹¥ä¸€æ ·æœ¬åœ¨ç‰¹å¾ç©ºé—´ä¸­çš„kä¸ªæœ€é‚»è¿‘çš„æ ·æœ¬ä¸­çš„å¤§å¤šæ•°å±äºæŸä¸€ä¸ªç±»åˆ«ï¼Œåˆ™è¯¥æ ·æœ¬ä¹Ÿåˆ’åˆ†ä¸ºè¯¥ç±»åˆ«ã€‚</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>x = [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">10</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">11</span>, <span class="hljs-number">14</span>, <span class="hljs-number">8</span>, <span class="hljs-number">10</span>, <span class="hljs-number">12</span>]                       <span class="hljs-comment"># ä¸¤ä¸ªè¾“å…¥ç‰¹å¾xå’Œy</span><br>y = [<span class="hljs-number">21</span>, <span class="hljs-number">19</span>, <span class="hljs-number">24</span>, <span class="hljs-number">17</span>, <span class="hljs-number">16</span>, <span class="hljs-number">25</span>, <span class="hljs-number">24</span>, <span class="hljs-number">22</span>, <span class="hljs-number">21</span>, <span class="hljs-number">21</span>]<br>classes = [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>]                      <span class="hljs-comment"># ä¸€ä¸ªç›®æ ‡ç±»classes</span><br><br>plt.scatter(x, y, c=classes)<br>plt.show()                                                    <span class="hljs-comment"># å¯è§†åŒ–ä¸€äº›æ•°æ®ç‚¹</span><br></code></pre></td></tr></table></figure>



<h3 id="1-K-x3D-1æ‹ŸåˆKNN"><a href="#1-K-x3D-1æ‹ŸåˆKNN" class="headerlink" title="(1) K&#x3D;1æ‹ŸåˆKNN"></a>(1) K&#x3D;1æ‹ŸåˆKNN</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># Three lines to make our compiler able to draw</span><br><span class="hljs-comment"># import sys</span><br><span class="hljs-comment"># import matplotlib</span><br><span class="hljs-comment"># matplotlib.use(&quot;Agg&quot;)</span><br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">from</span> warnings <span class="hljs-keyword">import</span> simplefilter                            <span class="hljs-comment"># å¿½è§†æ‰€æœ‰çš„è­¦å‘Šæ¶ˆæ¯</span><br><span class="hljs-keyword">from</span> sklearn.neighbors <span class="hljs-keyword">import</span> KNeighborsClassifier<br>simplefilter(action=<span class="hljs-string">&quot;ignore&quot;</span>, category=FutureWarning)<br><br>x = [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">10</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">11</span>, <span class="hljs-number">14</span>, <span class="hljs-number">8</span>, <span class="hljs-number">10</span>, <span class="hljs-number">12</span>]                      <span class="hljs-comment"># ä¸¤ä¸ªè¾“å…¥ç‰¹å¾xå’Œy</span><br>y = [<span class="hljs-number">21</span>, <span class="hljs-number">19</span>, <span class="hljs-number">24</span>, <span class="hljs-number">17</span>, <span class="hljs-number">16</span>, <span class="hljs-number">25</span>, <span class="hljs-number">24</span>, <span class="hljs-number">22</span>, <span class="hljs-number">21</span>, <span class="hljs-number">21</span>]<br>classes = [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>]                     <span class="hljs-comment"># ä¸€ä¸ªç›®æ ‡ç±»classes</span><br><br>data = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">zip</span>(x, y))                                       <span class="hljs-comment"># å°†è¾“å…¥ç‰¹å¾è½¬æ¢ä¸ºä¸€ç»„ç‚¹</span><br>knn = KNeighborsClassifier(n_neighbors=<span class="hljs-number">1</span>)                    <span class="hljs-comment"># K=1æ‹ŸåˆKNNç®—æ³•</span><br><br>knn.fit(data, classes)<br><br>new_x = <span class="hljs-number">8</span>                                                    <span class="hljs-comment"># åˆ›å»ºæ–°çš„xå’Œyç‰¹å¾</span><br>new_y = <span class="hljs-number">21</span><br>new_point = [(new_x, new_y)]<br><br>prediction = knn.predict(new_point)                          <span class="hljs-comment"># è°ƒç”¨knn.predict()åˆ†ç±»ä¸€ä¸ªæ–°çš„æ•°æ®ç‚¹</span><br><br>plt.scatter(x + [new_x], y + [new_y], c=classes + [prediction[<span class="hljs-number">0</span>]])<br>plt.text(x=new_x - <span class="hljs-number">1.7</span>, y=new_y - <span class="hljs-number">0.7</span>, s=<span class="hljs-string">f&quot;new point, class: <span class="hljs-subst">&#123;prediction[<span class="hljs-number">0</span>]&#125;</span>&quot;</span>)<br>plt.show()                                                   <span class="hljs-comment"># å¯è§†åŒ–ä¸€äº›æ•°æ®ç‚¹ï¼Œtext()çªå‡ºæ–°ç‚¹çš„ä½ç½®</span><br><br><span class="hljs-comment"># Two lines to make our compiler able to draw</span><br><span class="hljs-comment"># plt.savefig(sys.stdout.buffer)</span><br><span class="hljs-comment"># sys.stdout.flush()</span><br></code></pre></td></tr></table></figure>



<h3 id="2-K-x3D-5æ‹ŸåˆKNN"><a href="#2-K-x3D-5æ‹ŸåˆKNN" class="headerlink" title="(2) K&#x3D;5æ‹ŸåˆKNN"></a>(2) K&#x3D;5æ‹ŸåˆKNN</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># Three lines to make our compiler able to draw</span><br><span class="hljs-comment"># import sys</span><br><span class="hljs-comment"># import matplotlib</span><br><span class="hljs-comment"># matplotlib.use(&quot;Agg&quot;)</span><br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">from</span> warnings <span class="hljs-keyword">import</span> simplefilter                            <span class="hljs-comment"># å¿½è§†æ‰€æœ‰çš„è­¦å‘Šæ¶ˆæ¯</span><br><span class="hljs-keyword">from</span> sklearn.neighbors <span class="hljs-keyword">import</span> KNeighborsClassifier<br>simplefilter(action=<span class="hljs-string">&quot;ignore&quot;</span>, category=FutureWarning)<br><br>x = [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">10</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">11</span>, <span class="hljs-number">14</span>, <span class="hljs-number">8</span>, <span class="hljs-number">10</span>, <span class="hljs-number">12</span>]                      <span class="hljs-comment"># ä¸¤ä¸ªè¾“å…¥ç‰¹å¾xå’Œy</span><br>y = [<span class="hljs-number">21</span>, <span class="hljs-number">19</span>, <span class="hljs-number">24</span>, <span class="hljs-number">17</span>, <span class="hljs-number">16</span>, <span class="hljs-number">25</span>, <span class="hljs-number">24</span>, <span class="hljs-number">22</span>, <span class="hljs-number">21</span>, <span class="hljs-number">21</span>]<br>classes = [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>]                     <span class="hljs-comment"># ä¸€ä¸ªç›®æ ‡ç±»classes</span><br><br>data = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">zip</span>(x, y))                                       <span class="hljs-comment"># å°†è¾“å…¥ç‰¹å¾è½¬æ¢ä¸ºä¸€ç»„ç‚¹</span><br>knn = KNeighborsClassifier(n_neighbors=<span class="hljs-number">5</span>)                    <span class="hljs-comment"># K=5æ‹ŸåˆKNNç®—æ³•ï¼Œæ›´é«˜çš„Kå€¼æ¥æ”¹å˜é¢„æµ‹</span><br><br>knn.fit(data, classes)<br><br>new_x = <span class="hljs-number">8</span>                                                    <span class="hljs-comment"># åˆ›å»ºæ–°çš„xå’Œyç‰¹å¾</span><br>new_y = <span class="hljs-number">21</span><br>new_point = [(new_x, new_y)]<br><br>prediction = knn.predict(new_point)                          <span class="hljs-comment"># è°ƒç”¨knn.predict()åˆ†ç±»ä¸€ä¸ªæ–°çš„æ•°æ®ç‚¹</span><br><br>plt.scatter(x + [new_x], y + [new_y], c=classes + [prediction[<span class="hljs-number">0</span>]])<br>plt.text(x=new_x - <span class="hljs-number">1.7</span>, y=new_y - <span class="hljs-number">0.7</span>, s=<span class="hljs-string">f&quot;new point, class: <span class="hljs-subst">&#123;prediction[<span class="hljs-number">0</span>]&#125;</span>&quot;</span>)<br>plt.show()                                                   <span class="hljs-comment"># å¯è§†åŒ–ä¸€äº›æ•°æ®ç‚¹ï¼Œtext()çªå‡ºæ–°ç‚¹çš„ä½ç½®</span><br><br><span class="hljs-comment"># Two lines to make our compiler able to draw</span><br><span class="hljs-comment"># plt.savefig(sys.stdout.buffer)</span><br><span class="hljs-comment"># sys.stdout.flush()</span><br></code></pre></td></tr></table></figure>



<h1 id="4-Bootstrapèšåˆ"><a href="#4-Bootstrapèšåˆ" class="headerlink" title="4 Bootstrapèšåˆ"></a>4 Bootstrapèšåˆ</h1><ul>
<li>Bootstrapèšåˆ<ul>
<li>ä¹Ÿå«Baggingç®—æ³•æˆ–å¼•å¯¼èšé›†ç®—æ³•ï¼Œåˆç§°è£…è¢‹ç®—æ³•ï¼Œè¯•å›¾è§£å†³åˆ†ç±»æˆ–å›å½’çš„è¿‡åº¦æ‹Ÿåˆé—®é¢˜ã€‚<ul>
<li>ä¸»è¦æƒ³æ³•æ˜¯åˆ†åˆ«è®­ç»ƒå‡ ä¸ªä¸åŒçš„æ¨¡å‹ï¼Œç„¶åè®©æ‰€æœ‰çš„æ¨¡å‹è¡¨å†³æµ‹è¯•æ ·ä¾‹çš„è¾“å‡ºã€‚</li>
<li>æ˜¯æœºå™¨å­¦ä¹ ä¸­å¸¸è§„ç­–ç•¥çš„ä¸€ä¸ªä¾‹å­ï¼Œè¢«ç§°ä¸ºæ¨¡å‹å¹³å‡ï¼Œè¯¥æŠ€æœ¯è¢«ç§°ä¸ºé›†æˆæ–¹æ³•ã€‚</li>
</ul>
</li>
<li>äº†è§£è£…è¢‹æé«˜æ¨¡å‹æ€§èƒ½çš„æ–¹æ³•ï¼Œå¿…é¡»å…ˆè¯„ä¼°åˆ†ç±»å™¨åœ¨æ•°æ®é›†ä¸Šçš„è¡¨ç°ï¼Œè£…è¢‹æ˜¯å†³ç­–æ ‘æ¦‚å¿µçš„å»¶ç»­ã€‚</li>
</ul>
</li>
</ul>
<h2 id="4-1-åˆ†ç±»å™¨è¯„ä¼°"><a href="#4-1-åˆ†ç±»å™¨è¯„ä¼°" class="headerlink" title="4-1 åˆ†ç±»å™¨è¯„ä¼°"></a>4-1 åˆ†ç±»å™¨è¯„ä¼°</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> datasets                                 <span class="hljs-comment"># é€šè¿‡Sklearnçš„è‘¡è„é…’æ•°æ®é›†å‘ç°ä¸åŒç±»åˆ«çš„è‘¡è„é…’</span><br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> accuracy_score<br><span class="hljs-keyword">from</span> sklearn.tree <span class="hljs-keyword">import</span> DecisionTreeClassifier<br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> train_test_split<br><br>data = datasets.load_wine(as_frame=<span class="hljs-literal">True</span>)                     <span class="hljs-comment"># as_frameè®¾ä¸ºTrueï¼Œåœ¨åŠ è½½æ•°æ®æ—¶ä¸ä¼šä¸¢å¤±ç‰¹å¾åç§°</span><br><br>X = data.data                                                <span class="hljs-comment"># å°†å…¶å­˜å‚¨åˆ°X(è¾“å…¥ç‰¹å¾)å’Œy(ç›®æ ‡)ä¸­</span><br>y = data.target<br><br>X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=<span class="hljs-number">0.25</span>, random_state=<span class="hljs-number">22</span>)<br><br>dtree = DecisionTreeClassifier(random_state=<span class="hljs-number">22</span>)<br>dtree.fit(X_train, y_train)                                  <span class="hljs-comment"># å®ä¾‹åŒ–ä¸€ä¸ªåŸºç¡€åˆ†ç±»å™¨å¹¶å°†å…¶æ‹Ÿåˆåˆ°è®­ç»ƒæ•°æ®ä¸­</span><br><br>y_pred = dtree.predict(X_test)                               <span class="hljs-comment"># é¢„æµ‹æœªè§è¿‡æµ‹è¯•é›†çš„è‘¡è„é…’ç±»åˆ«å¹¶è¯„ä¼°æ¨¡å‹æ€§èƒ½</span><br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Train data accuracy:&quot;</span>, accuracy_score(y_true=y_train, y_pred=dtree.predict(X_train)))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Test data accuracy:&quot;</span>, accuracy_score(y_true=y_test, y_pred=y_pred))<br></code></pre></td></tr></table></figure>



<h2 id="4-2-è£…è¢‹åˆ†ç±»å™¨"><a href="#4-2-è£…è¢‹åˆ†ç±»å™¨" class="headerlink" title="4-2 è£…è¢‹åˆ†ç±»å™¨"></a>4-2 è£…è¢‹åˆ†ç±»å™¨</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> datasets<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> accuracy_score<br><span class="hljs-keyword">from</span> sklearn.ensemble <span class="hljs-keyword">import</span> BaggingClassifier<br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> train_test_split<br><br>data = datasets.load_wine(as_frame=<span class="hljs-literal">True</span>)<br><br>X = data.data<br>y = data.target<br><br>X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=<span class="hljs-number">0.25</span>, random_state=<span class="hljs-number">22</span>)<br><br>estimator_range = [<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>, <span class="hljs-number">10</span>, <span class="hljs-number">12</span>, <span class="hljs-number">14</span>, <span class="hljs-number">16</span>]               <span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªå€¼èŒƒå›´ä»£è¡¨æƒ³è¦åœ¨æ¯ä¸ªé›†æˆä¸­ä½¿ç”¨çš„ä¼°è®¡æ•°é‡</span><br><br>models = []<br>scores = []<br><br><span class="hljs-keyword">for</span> n_estimators <span class="hljs-keyword">in</span> estimator_range:                         <span class="hljs-comment"># forå¾ªç¯å°†æ¨¡å‹å’Œåˆ†æ•°å­˜å‚¨åœ¨å•ç‹¬çš„åˆ—è¡¨ä¸­ä¾›åç»­å¯è§†åŒ–</span><br>    <span class="hljs-comment"># Create bagging classifier</span><br>    clf = BaggingClassifier(n_estimators=n_estimators, random_state=<span class="hljs-number">22</span>)<br>    <span class="hljs-comment"># Fit the model</span><br>    clf.fit(X_train, y_train)<br><br>    <span class="hljs-comment"># Append the model and score to their respective list</span><br>    models.append(clf)<br>    scores.append(accuracy_score(y_true=y_test, y_pred=clf.predict(X_test)))<br><br><span class="hljs-comment"># Generate the plot of scores against number of estimators</span><br>plt.figure(figsize=(<span class="hljs-number">9</span>, <span class="hljs-number">6</span>))<br>plt.plot(estimator_range, scores)<br><br><span class="hljs-comment"># Adjust labels and font (to make visable)</span><br>plt.xlabel(<span class="hljs-string">&quot;n_estimators&quot;</span>, fontsize=<span class="hljs-number">18</span>)                      <span class="hljs-comment"># é€šè¿‡è¿­ä»£ä¼°è®¡å™¨æ•°é‡çš„ä¸åŒå€¼</span><br>plt.ylabel(<span class="hljs-string">&quot;score&quot;</span>, fontsize=<span class="hljs-number">18</span>)                             <span class="hljs-comment"># å¯çœ‹åˆ°æ¨¡å‹æ€§èƒ½ä»82.2%æé«˜åˆ°95.5%</span><br>plt.tick_params(labelsize=<span class="hljs-number">16</span>)                                <span class="hljs-comment"># 14åç²¾åº¦å¼€å§‹ä¸‹é™</span><br><br><span class="hljs-comment"># Visualize plot                                             # å¦‚æœè®¾ç½®ä¸åŒçš„random_stateå€¼ï¼Œç»“æœä¹Ÿä¼šä¸åŒ</span><br>plt.show()<br></code></pre></td></tr></table></figure>



<h2 id="4-3-å¦ä¸€ç§å½¢å¼"><a href="#4-3-å¦ä¸€ç§å½¢å¼" class="headerlink" title="4-3 å¦ä¸€ç§å½¢å¼"></a>4-3 å¦ä¸€ç§å½¢å¼</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> datasets<br><span class="hljs-keyword">from</span> sklearn.ensemble <span class="hljs-keyword">import</span> BaggingClassifier<br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> train_test_split<br><br>data = datasets.load_wine(as_frame=<span class="hljs-literal">True</span>)<br><br>X = data.data                                                <span class="hljs-comment"># è¢‹å¤–ä¼°è®¡å¯èƒ½ä¼šé«˜ä¼°äºŒå…ƒåˆ†ç±»é—®é¢˜ä¸­çš„é”™è¯¯</span><br>y = data.target                                              <span class="hljs-comment"># å› æ­¤åªèƒ½ç”¨ä½œå¯¹å…¶ä»–æŒ‡æ ‡çš„è¡¥å……</span><br><br>X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=<span class="hljs-number">0.25</span>, random_state=<span class="hljs-number">22</span>)<br><br>oob_model = BaggingClassifier(n_estimators=<span class="hljs-number">12</span>, oob_score=<span class="hljs-literal">True</span>, random_state=<span class="hljs-number">22</span>)<br>oob_model.fit(X_train, y_train)                              <span class="hljs-comment"># ä½¿ç”¨è¢‹å¤–æŒ‡æ ‡åˆ›å»ºæ¨¡å‹ï¼Œç±»ä¼¼äºæµ‹è¯•é›†</span><br><br><span class="hljs-comment"># OOBå’Œæµ‹è¯•é›†ä½¿ç”¨çš„æ ·æœ¬ä¸åŒï¼Œå¹¶ä¸”æ•°æ®é›†æ¯”è¾ƒå°ï¼Œæ‰€ä»¥åœ¨å‡†ç¡®ç‡ä¸Šå­˜åœ¨å·®å¼‚</span><br><span class="hljs-built_in">print</span>(oob_model.oob_score_)<br></code></pre></td></tr></table></figure>



<h2 id="4-4-ç”Ÿæˆå†³ç­–æ ‘"><a href="#4-4-ç”Ÿæˆå†³ç­–æ ‘" class="headerlink" title="4-4 ç”Ÿæˆå†³ç­–æ ‘"></a>4-4 ç”Ÿæˆå†³ç­–æ ‘</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># import sys</span><br><span class="hljs-keyword">import</span> graphviz<br><span class="hljs-comment"># import matplotlib</span><br><span class="hljs-comment"># matplotlib.use(&quot;Agg&quot;)</span><br><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> tree<br><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> datasets<br><span class="hljs-comment"># from sklearn.tree import plot_tree</span><br><span class="hljs-keyword">from</span> matplotlib <span class="hljs-keyword">import</span> pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">from</span> sklearn.ensemble <span class="hljs-keyword">import</span> BaggingClassifier<br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> train_test_split<br><br>data = datasets.load_wine(as_frame=<span class="hljs-literal">True</span>)<br><br>X = data.data<br>y = data.target<br><br>X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=<span class="hljs-number">0.25</span>, random_state=<span class="hljs-number">22</span>)<br><br>oob_model = BaggingClassifier(n_estimators=<span class="hljs-number">12</span>, oob_score=<span class="hljs-literal">True</span>, random_state=<span class="hljs-number">22</span>)<br>oob_model.fit(X_train, y_train)<br><br>clf = BaggingClassifier(n_estimators=<span class="hljs-number">12</span>, oob_score=<span class="hljs-literal">True</span>, random_state=<span class="hljs-number">22</span>)<br>clf.fit(X_train, y_train)<br><br>plt.figure(figsize=(<span class="hljs-number">30</span>, <span class="hljs-number">20</span>))<br>dtree = clf.estimators_[<span class="hljs-number">0</span>]                                   <span class="hljs-comment"># clf.estimators_æ˜¯3ä¸ªæ‹Ÿåˆå†³ç­–æ ‘çš„åˆ—è¡¨</span><br><span class="hljs-built_in">print</span>(dtree)                                                 <span class="hljs-comment"># å¯ä»¥éå†åˆ—è¡¨è®¿é—®æ¯ä¸ªæ ‘ï¼Œè¿™é‡Œå–ç¬¬ä¸€ä¸ª</span><br><br><span class="hljs-comment"># plot_tree(clf.estimators_[0], feature_names = X.columns)</span><br><span class="hljs-comment"># plt.savefig(sys.stdout.buffer)</span><br><span class="hljs-comment"># sys.stdout.flush()</span><br><br>dot_data = tree.export_graphviz(dtree, filled=<span class="hljs-literal">True</span>, rounded=<span class="hljs-literal">True</span>, special_characters=<span class="hljs-literal">True</span>)<br>graph = graphviz.Source(dot_data)<br>graph.render(<span class="hljs-string">&quot;data/visual_dtree&quot;</span>)                            <span class="hljs-comment"># ç”Ÿæˆvisual_dtree.pdfå¯è§†åŒ–å†³ç­–æ ‘</span><br></code></pre></td></tr></table></figure>



<h1 id="5-äº¤å‰éªŒè¯-å»ºæ¨¡"><a href="#5-äº¤å‰éªŒè¯-å»ºæ¨¡" class="headerlink" title="5 äº¤å‰éªŒè¯(å»ºæ¨¡)"></a>5 äº¤å‰éªŒè¯(å»ºæ¨¡)</h1><ul>
<li>äº¤å‰éªŒè¯(å»ºæ¨¡)<ul>
<li>åœ¨æœºå™¨å­¦ä¹ å»ºç«‹æ¨¡å‹å’ŒéªŒè¯æ¨¡å‹å‚æ•°æ—¶å¸¸ç”¨çš„åŠæ³•ï¼Œä¸€èˆ¬è¢«ç”¨äºè¯„ä¼°ä¸€ä¸ªæœºå™¨å­¦ä¹ æ¨¡å‹çš„è¡¨ç°ã€‚</li>
<li>é‡å¤ä½¿ç”¨æ•°æ®ï¼Œåˆ‡åˆ†å¾—åˆ°çš„æ ·æœ¬ï¼Œç»„åˆä¸ºä¸åŒçš„è®­ç»ƒé›†å’Œæµ‹è¯•é›†ï¼Œè®­ç»ƒåŠè¯„ä¼°æ¨¡å‹é¢„æµ‹çš„å¥½åã€‚</li>
<li>ä¼˜åŒ–æµ‹è¯•é›†çš„å‚æ•°å¯èƒ½ä¼šå¯¼è‡´ä¿¡æ¯æ³„æ¼ï¼Œå¯¼è‡´æ¨¡å‹åœ¨çœ‹ä¸è§çš„æ•°æ®ä¸Šè¡¨ç°æ›´å·®ï¼Œä¸ºçº æ­£è¯¥é—®é¢˜ï¼Œæ‰§è¡Œäº¤å‰éªŒè¯ã€‚</li>
<li>K-Fold<ul>
<li>é¦–å…ˆï¼Œæ¨¡å‹ä¸­ä½¿ç”¨çš„è®­ç»ƒæ•°æ®è¢«åˆ†æˆäº†kä¸ªè¾ƒå°çš„é›†åˆï¼Œç”¨äºéªŒè¯æ¨¡å‹ã€‚</li>
<li>ç„¶åï¼Œåœ¨k-1å€çš„è®­ç»ƒé›†ä¸Šè®­ç»ƒæ¨¡å‹ï¼Œå‰©ä½™çš„é›†åˆç”¨ä½œéªŒè¯é›†è¯„ä¼°æ¨¡å‹ã€‚</li>
</ul>
</li>
<li>åˆ†å±‚K-Fold<ul>
<li>åœ¨ç±»åˆ«ä¸å¹³è¡¡çš„æƒ…å†µä¸‹ï¼Œéœ€è¦ä¸€ç§æ–¹æ³•æ¥è§£é‡Šè®­ç»ƒé›†å’ŒéªŒè¯é›†çš„ä¸å¹³è¡¡ã€‚</li>
<li>å¯¹ç›®æ ‡ç±»åˆ«è¿›è¡Œåˆ†å±‚ï¼Œæ„å‘³ç€è¿™ä¸¤ä¸ªé›†åˆåœ¨æ‰€æœ‰ç±»åˆ«ä¸­æ‰€å çš„æ¯”ä¾‹ç›¸ç­‰ã€‚</li>
</ul>
</li>
<li>ç•™ä¸€æ³•ï¼ŒLeave-One-Outï¼Œç®€ç§°LOOã€‚<ul>
<li>ä½¿kç­‰äºæ•°æ®é›†ä¸­æ•°æ®çš„ä¸ªæ•°ï¼Œæ¯æ¬¡åªä½¿ç”¨ä¸€ä¸ªä½œä¸ºæµ‹è¯•é›†ï¼Œå‰©ä¸‹çš„å…¨ä½œä¸ºè®­ç»ƒé›†ã€‚</li>
<li>è¿™ç§æ–¹æ³•å¾—å‡ºçš„ç»“æœï¼Œä¸è®­ç»ƒæ•´ä¸ªæµ‹è¯•é›†çš„æœŸæœ›å€¼æœ€ä¸ºæ¥è¿‘ï¼Œä½†æ˜¯æˆæœ¬ä¹Ÿååˆ†åºå¤§ã€‚</li>
</ul>
</li>
<li>ç•™Pæ³•ï¼ŒLeave-P-Outï¼Œç®€ç§°LPOã€‚<ul>
<li>ä½¿ç”¨æ ·æœ¬ä¸­çš„æŸå‡ é¡¹å½“åšæµ‹è¯•é›†ï¼Œå†ä»æ ·æœ¬ä¸­é€‰å–æŸå‡ é¡¹çš„å¯èƒ½ç§ç±»ç§°ä¸ºPå€¼ã€‚</li>
<li>Leave-P-Outå¯è¿…é€Ÿæé«˜æ¨¡å‹çš„ç²¾ç¡®åº¦ï¼Œå‡†ç¡®çš„ææ‘¹å¤§æ ·æœ¬æ•°æ®é›†çš„ç‰¹å¾ä¿¡æ¯ã€‚</li>
</ul>
</li>
<li>è’™ç‰¹å¡ç½—äº¤å‰éªŒè¯ï¼Œä¹Ÿç§°ä¸ºShuffle Splitäº¤å‰éªŒè¯ã€‚<ul>
<li>ä¸€ç§éå¸¸çµæ´»çš„äº¤å‰éªŒè¯ç­–ç•¥ï¼Œåœ¨è¿™ç§æŠ€æœ¯ä¸­ï¼Œæ•°æ®é›†è¢«éšæœºåˆ’åˆ†ä¸ºè®­ç»ƒé›†å’ŒéªŒè¯é›†ã€‚</li>
<li>å‡è®¾100ä¸ªæ ·æœ¬ï¼Œ60%çš„æ ·æœ¬ç”¨ä½œè®­ç»ƒé›†ï¼Œ20%ç”¨ä½œæµ‹è¯•é›†ï¼Œå‰©ä¸‹çš„20%å°†ä¸è¢«ä½¿ç”¨ã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="5-1-K-Fold"><a href="#5-1-K-Fold" class="headerlink" title="5-1 K-Fold"></a>5-1 K-Fold</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> datasets<br><span class="hljs-keyword">from</span> sklearn.tree <span class="hljs-keyword">import</span> DecisionTreeClassifier              <span class="hljs-comment"># å°è¯•å¯¹ä¸åŒç§ç±»çš„é¸¢å°¾èŠ±è¿›è¡Œåˆ†ç±»</span><br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> KFold, cross_val_score<br><br>X, y = datasets.load_iris(return_X_y=<span class="hljs-literal">True</span>)                   <span class="hljs-comment"># åŠ è½½æ•°æ®</span><br><br>clf = DecisionTreeClassifier(random_state=<span class="hljs-number">42</span>)                <span class="hljs-comment"># åˆ›å»ºå¹¶æ‹Ÿåˆæ¨¡å‹ä»¥è¿›è¡Œè¯„ä¼°</span><br><br>k_folds = KFold(n_splits=<span class="hljs-number">5</span>)                                  <span class="hljs-comment"># è¯„ä¼°æ¨¡å‹ï¼Œçœ‹åœ¨æ¯ä¸ªk-foldä¸Šçš„è¡¨ç°</span><br><br>scores = cross_val_score(clf, X, y, cv=k_folds)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Cross Validation Scores: &quot;</span>, scores)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Average CV Score: &quot;</span>, scores.mean())<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Number of CV Scores used in Average: &quot;</span>, <span class="hljs-built_in">len</span>(scores))<br></code></pre></td></tr></table></figure>



<h2 id="5-2-åˆ†å±‚K-Fold"><a href="#5-2-åˆ†å±‚K-Fold" class="headerlink" title="5-2 åˆ†å±‚K-Fold"></a>5-2 åˆ†å±‚K-Fold</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> datasets<br><span class="hljs-keyword">from</span> sklearn.tree <span class="hljs-keyword">import</span> DecisionTreeClassifier              <span class="hljs-comment"># å°è¯•å¯¹ä¸åŒç§ç±»çš„é¸¢å°¾èŠ±è¿›è¡Œåˆ†ç±»</span><br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> StratifiedKFold, cross_val_score<br><br>X, y = datasets.load_iris(return_X_y=<span class="hljs-literal">True</span>)                   <span class="hljs-comment"># åŠ è½½æ•°æ®</span><br><br>clf = DecisionTreeClassifier(random_state=<span class="hljs-number">42</span>)<br><br>sk_folds = StratifiedKFold(n_splits=<span class="hljs-number">5</span>)                       <span class="hljs-comment"># æŠ˜å æ•°ä¿æŒç›¸åŒ</span><br><br>scores = cross_val_score(clf, X, y, cv=sk_folds)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Cross Validation Scores: &quot;</span>, scores)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Average CV Score: &quot;</span>, scores.mean())                   <span class="hljs-comment"># åœ¨ç¡®ä¿å­˜åœ¨åˆ†å±‚ç±»åˆ«æ—¶ï¼Œå¹³å‡CVä»åŸºæœ¬kå€å¢åŠ </span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Number of CV Scores used in Average: &quot;</span>, <span class="hljs-built_in">len</span>(scores))<br></code></pre></td></tr></table></figure>



<h2 id="5-3-ç•™ä¸€æ³•-LOO"><a href="#5-3-ç•™ä¸€æ³•-LOO" class="headerlink" title="5-3 ç•™ä¸€æ³•(LOO)"></a>5-3 ç•™ä¸€æ³•(LOO)</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> datasets<br><span class="hljs-keyword">from</span> sklearn.tree <span class="hljs-keyword">import</span> DecisionTreeClassifier              <span class="hljs-comment"># å°è¯•å¯¹ä¸åŒç§ç±»çš„é¸¢å°¾èŠ±è¿›è¡Œåˆ†ç±»</span><br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> LeaveOneOut, cross_val_score<br><br>X, y = datasets.load_iris(return_X_y=<span class="hljs-literal">True</span>)                   <span class="hljs-comment"># åŠ è½½æ•°æ®</span><br><br>clf = DecisionTreeClassifier(random_state=<span class="hljs-number">42</span>)                <span class="hljs-comment"># åˆ›å»ºå¹¶æ‹Ÿåˆæ¨¡å‹ä»¥è¿›è¡Œè¯„ä¼°</span><br><br>loo = LeaveOneOut()<br><br>scores = cross_val_score(clf, X, y, cv=loo)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Cross Validation Scores: &quot;</span>, scores)                   <span class="hljs-comment"># æ‰§è¡Œäº¤å‰éªŒè¯åˆ†æ•°çš„æ•°é‡ç­‰äºæ•°æ®é›†ä¸­è§‚å¯Ÿçš„æ•°é‡</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Average CV Score: &quot;</span>, scores.mean())                   <span class="hljs-comment"># é¸¢å°¾èŠ±æ•°æ®é›†ä¸­æœ‰150ä¸ªè§‚æµ‹å€¼ï¼Œå¹³å‡CVå¾—åˆ†ä¸º94%</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Number of CV Scores used in Average: &quot;</span>, <span class="hljs-built_in">len</span>(scores))<br></code></pre></td></tr></table></figure>



<h2 id="5-4-ç•™PéªŒè¯-LPO"><a href="#5-4-ç•™PéªŒè¯-LPO" class="headerlink" title="5-4 ç•™PéªŒè¯(LPO)"></a>5-4 ç•™PéªŒè¯(LPO)</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> datasets<br><span class="hljs-keyword">from</span> sklearn.tree <span class="hljs-keyword">import</span> DecisionTreeClassifier              <span class="hljs-comment"># å°è¯•å¯¹ä¸åŒç§ç±»çš„é¸¢å°¾èŠ±è¿›è¡Œåˆ†ç±»</span><br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> LeavePOut, cross_val_score<br><br>X, y = datasets.load_iris(return_X_y=<span class="hljs-literal">True</span>)                   <span class="hljs-comment"># åŠ è½½æ•°æ®</span><br><br>clf = DecisionTreeClassifier(random_state=<span class="hljs-number">42</span>)                <span class="hljs-comment"># åˆ›å»ºå¹¶æ‹Ÿåˆæ¨¡å‹ä»¥è¿›è¡Œè¯„ä¼°</span><br><br>lpo = LeavePOut(p=<span class="hljs-number">2</span>)<br><br>scores = cross_val_score(clf, X, y, cv=lpo)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Cross Validation Scores: &quot;</span>, scores)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Average CV Score: &quot;</span>, scores.mean())                   <span class="hljs-comment"># è§‚æµ‹å€¼æ•°é‡è¶³å¤Ÿå¤šï¼Œå®ç°äº†å¤§è‡´ç›¸åŒçš„å¹³å‡CVåˆ†æ•°</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Number of CV Scores used in Average: &quot;</span>, <span class="hljs-built_in">len</span>(scores))<br></code></pre></td></tr></table></figure>



<h2 id="5-5-è’™ç‰¹å¡ç½—éªŒè¯"><a href="#5-5-è’™ç‰¹å¡ç½—éªŒè¯" class="headerlink" title="5-5 è’™ç‰¹å¡ç½—éªŒè¯"></a>5-5 è’™ç‰¹å¡ç½—éªŒè¯</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> datasets<br><span class="hljs-keyword">from</span> sklearn.tree <span class="hljs-keyword">import</span> DecisionTreeClassifier              <span class="hljs-comment"># å°è¯•å¯¹ä¸åŒç§ç±»çš„é¸¢å°¾èŠ±è¿›è¡Œåˆ†ç±»</span><br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> ShuffleSplit, cross_val_score<br><br>X, y = datasets.load_iris(return_X_y=<span class="hljs-literal">True</span>)                   <span class="hljs-comment"># åŠ è½½æ•°æ®</span><br><br>clf = DecisionTreeClassifier(random_state=<span class="hljs-number">42</span>)                <span class="hljs-comment"># åˆ›å»ºå¹¶æ‹Ÿåˆæ¨¡å‹ä»¥è¿›è¡Œè¯„ä¼°</span><br><br>ss = ShuffleSplit(train_size=<span class="hljs-number">0.6</span>, test_size=<span class="hljs-number">0.3</span>, n_splits=<span class="hljs-number">5</span>)<br><br>scores = cross_val_score(clf, X, y, cv=ss)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Cross Validation Scores: &quot;</span>, scores)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Average CV Score: &quot;</span>, scores.mean())<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Number of CV Scores used in Average: &quot;</span>, <span class="hljs-built_in">len</span>(scores))<br></code></pre></td></tr></table></figure>



<h1 id="6-AUC-ROCæ›²çº¿"><a href="#6-AUC-ROCæ›²çº¿" class="headerlink" title="6 AUC-ROCæ›²çº¿"></a>6 AUC-ROCæ›²çº¿</h1><ul>
<li>AUC-ROCæ›²çº¿<ul>
<li>åœ¨ä¸åŒé˜ˆå€¼è®¾ç½®çš„æ¡ä»¶ä¸‹ï¼Œåˆ†ç±»é—®é¢˜çš„æ€§èƒ½åº¦é‡ï¼ŒROCæŒ‡æ¦‚ç‡æ›²çº¿ï¼ŒAUCæŒ‡æ­£è´Ÿç±»å¯æ­£ç¡®åˆ†ç±»çš„ç¨‹åº¦ã€‚<ul>
<li>å‘Šè¯‰æ¨¡å‹èƒ½å¤Ÿåœ¨å¤šå¤§ç¨‹åº¦ä¸ŠåŒºåˆ†ç±»ï¼ŒAUCè¶Šé«˜ï¼Œæ¨¡å‹è¶Šèƒ½é¢„æµ‹0ä¸º0å’Œ1ä¸º1ã€‚</li>
<li>ç±»æ¯”ç–¾ç—…è¯Šæ–­æ¨¡å‹ï¼Œè‹¥AUCè¶Šé«˜ï¼Œæ¨¡å‹å¯¹æœ‰ç–¾ç—…å’Œæ— ç–¾ç—…çš„åŒºåˆ†å°±ä¼šè¶Šå¥½ã€‚</li>
</ul>
</li>
<li>æœ¯è¯­å®šä¹‰ï¼šçœŸé˜³æ€§(TP)ã€å‡é˜³æ€§(FP)ã€‚<ul>
<li>ç‰¹å¼‚åº¦(Specificity)&#x3D;TN&#x2F;(TN+FP)</li>
<li>å‡é˜³ç‡(FPR)&#x3D;1-Specificity&#x3D;FP&#x2F;(TN+FP)</li>
<li>çœŸé˜³ç‡(TPR)&#x2F;å¬å›ç‡(Recall)&#x2F;æ•æ„Ÿåº¦(Sensitivity)&#x3D;TP&#x2F;(TP+FN)</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="6-1-ä¸å¹³è¡¡æ•°æ®"><a href="#6-1-ä¸å¹³è¡¡æ•°æ®" class="headerlink" title="6-1 ä¸å¹³è¡¡æ•°æ®"></a>6-1 ä¸å¹³è¡¡æ•°æ®</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> accuracy_score, confusion_matrix<br><br>n = <span class="hljs-number">10000</span>                                                    <span class="hljs-comment"># å‡è®¾æœ‰ä¸€ä¸ªä¸å¹³è¡¡çš„æ•°æ®é›†</span><br>ratio = <span class="hljs-number">.95</span>                                                  <span class="hljs-comment"># å…¶ä¸­å¤§éƒ¨åˆ†æ•°æ®éƒ½æ˜¯ä¸€ä¸ªå€¼</span><br>n_0 = <span class="hljs-built_in">int</span>((<span class="hljs-number">1</span>-ratio) * n)                                     <span class="hljs-comment"># å¯é€šè¿‡é¢„æµ‹å¤šæ•°ç±»æ¥è·å¾—æ¨¡å‹çš„é«˜ç²¾åº¦</span><br>n_1 = <span class="hljs-built_in">int</span>(ratio * n)<br><br>y = np.array([<span class="hljs-number">0</span>] * n_0 + [<span class="hljs-number">1</span>] * n_1)<br>y_proba = np.array([<span class="hljs-number">1</span>]*n)<br>y_pred = y_proba &gt; <span class="hljs-number">.5</span><br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;accuracy score: <span class="hljs-subst">&#123;accuracy_score(y, y_pred)&#125;</span>&quot;</span>)<br>cf_mat = confusion_matrix(y, y_pred)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Confusion matrix&quot;</span>)<br><span class="hljs-built_in">print</span>(cf_mat)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;class 0 accuracy: <span class="hljs-subst">&#123;cf_mat[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>]/n_0&#125;</span>&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;class 1 accuracy: <span class="hljs-subst">&#123;cf_mat[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>]/n_1&#125;</span>&quot;</span>)<br></code></pre></td></tr></table></figure>



<h2 id="6-2-å‡†ç¡®æ€§è¯„ä¼°"><a href="#6-2-å‡†ç¡®æ€§è¯„ä¼°" class="headerlink" title="6-2 å‡†ç¡®æ€§è¯„ä¼°"></a>6-2 å‡†ç¡®æ€§è¯„ä¼°</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> accuracy_score, confusion_matrix<br><br>n = <span class="hljs-number">10000</span>                                                    <span class="hljs-comment"># å‡è®¾æœ‰ä¸€ä¸ªä¸å¹³è¡¡çš„æ•°æ®é›†</span><br>ratio = <span class="hljs-number">.95</span>                                                  <span class="hljs-comment"># å…¶ä¸­å¤§éƒ¨åˆ†æ•°æ®éƒ½æ˜¯ä¸€ä¸ªå€¼</span><br>n_0 = <span class="hljs-built_in">int</span>((<span class="hljs-number">1</span>-ratio) * n)                                     <span class="hljs-comment"># å¯é€šè¿‡é¢„æµ‹å¤šæ•°ç±»æ¥è·å¾—æ¨¡å‹çš„é«˜ç²¾åº¦</span><br>n_1 = <span class="hljs-built_in">int</span>(ratio * n)<br><br>y = np.array([<span class="hljs-number">0</span>] * n_0 + [<span class="hljs-number">1</span>] * n_1)<br>y_proba_1 = np.array([<span class="hljs-number">1</span>]*n)<br>y_pred_1 = y_proba_1 &gt; <span class="hljs-number">.5</span><br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;accuracy score: <span class="hljs-subst">&#123;accuracy_score(y, y_pred_1)&#125;</span>&quot;</span>)<br>cf_mat = confusion_matrix(y, y_pred_1)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Confusion matrix&quot;</span>)                                    <span class="hljs-comment"># è™½è·å¾—äº†é«˜å‡†ç¡®æ€§ï¼Œä½†è¯¥æ¨¡å‹æ²¡æœ‰æä¾›æœ‰å…³æ•°æ®çš„ä¿¡æ¯</span><br><span class="hljs-built_in">print</span>(cf_mat)                                                <span class="hljs-comment"># åœ¨100%çš„æ—¶é—´å†…å‡†ç¡®åœ°é¢„æµ‹äº†1ç±»</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;class 0 accuracy: <span class="hljs-subst">&#123;cf_mat[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>]/n_0&#125;</span>&quot;</span>)               <span class="hljs-comment"># åœ¨0%çš„æ—¶é—´å†…å¹¶æœªå‡†ç¡®åœ°é¢„æµ‹åˆ°ç±»</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;class 1 accuracy: <span class="hljs-subst">&#123;cf_mat[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>]/n_1&#125;</span>&quot;</span>)               <span class="hljs-comment"># ä»¥ç‰ºç‰²å‡†ç¡®æ€§ä¸ºä»£ä»·</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;----------------------&quot;</span>)                              <span class="hljs-comment"># æ‹¥æœ‰ä¸€ä¸ªå¯åœ¨æŸç¨‹åº¦ä¸ŠåŒºåˆ†è¿™ä¸¤ç±»çš„æ¨¡å‹å¯èƒ½æ›´å¥½</span><br><br><span class="hljs-comment"># below are the probabilities obtained from a hypothetical model that doesn&quot;t always predict the mode</span><br>y_proba_2 = np.array(np.random.uniform(<span class="hljs-number">0</span>, <span class="hljs-number">.7</span>, n_0).tolist() + np.random.uniform(<span class="hljs-number">.3</span>, <span class="hljs-number">1</span>, n_1).tolist())<br>y_pred_2 = y_proba_2 &gt; <span class="hljs-number">.5</span><br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;accuracy score: <span class="hljs-subst">&#123;accuracy_score(y, y_pred_2)&#125;</span>&quot;</span>)<br>cf_mat = confusion_matrix(y, y_pred_2)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Confusion matrix&quot;</span>)                                    <span class="hljs-comment"># ç¬¬äºŒç»„é¢„æµ‹å‡†ç¡®åº¦åˆ†æ•°æ²¡æœ‰ç¬¬ä¸€ç»„é«˜</span><br><span class="hljs-built_in">print</span>(cf_mat)                                                <span class="hljs-comment"># ä½†æ¯ä¸ªç±»åˆ«çš„å‡†ç¡®åº¦æ›´åŠ å¹³è¡¡</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;class 0 accuracy: <span class="hljs-subst">&#123;cf_mat[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>]/n_0&#125;</span>&quot;</span>)               <span class="hljs-comment"># å‡†ç¡®æ€§ä½œä¸ºè¯„ä¼°æŒ‡æ ‡ä¼šä½¿ç¬¬ä¸€ä¸ªæ¨¡å‹è¯„åˆ†é«˜äºç¬¬äºŒä¸ªæ¨¡å‹</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;class 1 accuracy: <span class="hljs-subst">&#123;cf_mat[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>]/n_1&#125;</span>&quot;</span>)               <span class="hljs-comment"># åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæœ€å¥½ä½¿ç”¨å…¶ä»–è¯„ä¼°æŒ‡æ ‡ï¼Œä¾‹å¦‚AUC</span><br></code></pre></td></tr></table></figure>



<h3 id="1-ç¬¬ä¸€ä¸ªæ¨¡å‹"><a href="#1-ç¬¬ä¸€ä¸ªæ¨¡å‹" class="headerlink" title="(1) ç¬¬ä¸€ä¸ªæ¨¡å‹"></a>(1) ç¬¬ä¸€ä¸ªæ¨¡å‹</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># Three lines to make our compiler able to draw</span><br><span class="hljs-comment"># import sys</span><br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-comment"># import matplotlib</span><br><span class="hljs-comment"># matplotlib.use(&quot;Agg&quot;)</span><br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> roc_auc_score, roc_curve<br><br>n = <span class="hljs-number">10000</span>                                                    <span class="hljs-comment"># å‡è®¾æœ‰ä¸€ä¸ªä¸å¹³è¡¡çš„æ•°æ®é›†</span><br>ratio = <span class="hljs-number">.95</span>                                                  <span class="hljs-comment"># å…¶ä¸­å¤§éƒ¨åˆ†æ•°æ®éƒ½æ˜¯ä¸€ä¸ªå€¼</span><br>n_0 = <span class="hljs-built_in">int</span>((<span class="hljs-number">1</span>-ratio) * n)                                     <span class="hljs-comment"># å¯é€šè¿‡é¢„æµ‹å¤šæ•°ç±»æ¥è·å¾—æ¨¡å‹çš„é«˜ç²¾åº¦</span><br>n_1 = <span class="hljs-built_in">int</span>(ratio * n)<br><br>y = np.array([<span class="hljs-number">0</span>] * n_0 + [<span class="hljs-number">1</span>] * n_1)<br>y_proba_1 = np.array([<span class="hljs-number">1</span>] * n)<br>y_pred_1 = y_proba_1 &gt; <span class="hljs-number">.5</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">plot_roc_curve</span>(<span class="hljs-params">true_y, y_prob</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    plots the roc curve based of the probabilities</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    fpr, tpr, thresholds = roc_curve(true_y, y_prob)<br>    plt.plot(fpr, tpr)<br>    plt.xlabel(<span class="hljs-string">&quot;False Positive Rate&quot;</span>)<br>    plt.ylabel(<span class="hljs-string">&quot;True Positive Rate&quot;</span>)<br>    plt.show()                                               <span class="hljs-comment"># AUCåˆ†æ•°çº¦ä¸º0.5ï¼Œæ„å‘³ç€è¯¥æ¨¡å‹æ— æ³•åŒºåˆ†ä¸¤ä¸ªç±»åˆ«</span><br><br><br>plot_roc_curve(y, y_proba_1)                                 <span class="hljs-comment"># æ›²çº¿çœ‹èµ·æ¥åƒä¸€æ¡æ–œç‡ä¸º1çš„çº¿</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;model 1 AUC score: <span class="hljs-subst">&#123;roc_auc_score(y, y_proba_1)&#125;</span>&quot;</span>)<br><br><span class="hljs-comment"># Two lines to make our compiler able to draw</span><br><span class="hljs-comment"># plt.savefig(sys.stdout.buffer)</span><br><span class="hljs-comment"># sys.stdout.flush()</span><br></code></pre></td></tr></table></figure>



<h3 id="2-ç¬¬äºŒä¸ªæ¨¡å‹"><a href="#2-ç¬¬äºŒä¸ªæ¨¡å‹" class="headerlink" title="(2) ç¬¬äºŒä¸ªæ¨¡å‹"></a>(2) ç¬¬äºŒä¸ªæ¨¡å‹</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># Three lines to make our compiler able to draw</span><br><span class="hljs-comment"># import sys</span><br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-comment"># import matplotlib</span><br><span class="hljs-comment"># matplotlib.use(&quot;Agg&quot;)</span><br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> roc_auc_score, roc_curve<br><br>n = <span class="hljs-number">10000</span>                                                    <span class="hljs-comment"># å‡è®¾æœ‰ä¸€ä¸ªä¸å¹³è¡¡çš„æ•°æ®é›†</span><br>ratio = <span class="hljs-number">.95</span>                                                  <span class="hljs-comment"># å…¶ä¸­å¤§éƒ¨åˆ†æ•°æ®éƒ½æ˜¯ä¸€ä¸ªå€¼</span><br>n_0 = <span class="hljs-built_in">int</span>((<span class="hljs-number">1</span>-ratio) * n)                                     <span class="hljs-comment"># å¯é€šè¿‡é¢„æµ‹å¤šæ•°ç±»æ¥è·å¾—æ¨¡å‹çš„é«˜ç²¾åº¦</span><br>n_1 = <span class="hljs-built_in">int</span>(ratio * n)<br><br>y = np.array([<span class="hljs-number">0</span>] * n_0 + [<span class="hljs-number">1</span>] * n_1)<br><br><span class="hljs-comment"># below are the probabilities obtained from a hypothetical model that doesn&quot;t always predict the mode</span><br>y_proba_2 = np.array(np.random.uniform(<span class="hljs-number">0</span>, <span class="hljs-number">.7</span>, n_0).tolist() + np.random.uniform(<span class="hljs-number">.3</span>, <span class="hljs-number">1</span>, n_1).tolist())<br>y_pred_2 = y_proba_2 &gt; <span class="hljs-number">.5</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">plot_roc_curve</span>(<span class="hljs-params">true_y, y_prob</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    plots the roc curve based of the probabilities</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    fpr, tpr, thresholds = roc_curve(true_y, y_prob)<br>    plt.plot(fpr, tpr)<br>    plt.xlabel(<span class="hljs-string">&quot;False Positive Rate&quot;</span>)<br>    plt.ylabel(<span class="hljs-string">&quot;True Positive Rate&quot;</span>)<br>    plt.show()                                               <span class="hljs-comment"># AUCåˆ†æ•°æ¥è¿‘1ï¼Œæ„å‘³ç€è¯¥æ¨¡å‹æœ‰èƒ½åŠ›å°†ä¸¤ä¸ªç±»åˆ†å¼€</span><br><br><br>plot_roc_curve(y, y_proba_2)                                 <span class="hljs-comment"># æ›²çº¿å°†æ›´é è¿‘å›¾è¡¨çš„å·¦ä¸Šè§’</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;model 2 AUC score: <span class="hljs-subst">&#123;roc_auc_score(y, y_proba_2)&#125;</span>&quot;</span>)<br><br><span class="hljs-comment"># Two lines to make our compiler able to draw</span><br><span class="hljs-comment"># plt.savefig(sys.stdout.buffer)</span><br><span class="hljs-comment"># sys.stdout.flush()</span><br></code></pre></td></tr></table></figure>



<h2 id="6-3-ç±»åˆ«é¢„æµ‹æ¦‚ç‡"><a href="#6-3-ç±»åˆ«é¢„æµ‹æ¦‚ç‡" class="headerlink" title="6-3 ç±»åˆ«é¢„æµ‹æ¦‚ç‡"></a>6-3 ç±»åˆ«é¢„æµ‹æ¦‚ç‡</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> accuracy_score, roc_auc_score<br><br>n = <span class="hljs-number">10000</span><br>y = np.array([<span class="hljs-number">0</span>] * n + [<span class="hljs-number">1</span>] * n)<br><br>y_prob_1 = np.array(                                         <span class="hljs-comment"># æœ‰ä¸¤ç»„æ¥è‡ªå‡è®¾æ¨¡å‹çš„æ¦‚ç‡</span><br>    np.random.uniform(<span class="hljs-number">.25</span>, <span class="hljs-number">.5</span>, n//<span class="hljs-number">2</span>).tolist()                <span class="hljs-comment"># ç¬¬ä¸€ä¸ªåœ¨é¢„æµ‹ä¸¤ä¸ªç±»åˆ«æ—¶ï¼Œæ¦‚ç‡æ¥è¿‘.5</span><br>    + np.random.uniform(<span class="hljs-number">.3</span>, <span class="hljs-number">.7</span>, n).tolist()                  <span class="hljs-comment"># ç¬¬äºŒä¸ªåœ¨é¢„æµ‹ä¸¤ä¸ªç±»åˆ«æ—¶ï¼Œæ¦‚ç‡æ¥è¿‘0æˆ–1çš„æç«¯å€¼</span><br>    + np.random.uniform(<span class="hljs-number">.5</span>, <span class="hljs-number">.75</span>, n//<span class="hljs-number">2</span>).tolist()<br>)<br>y_prob_2 = np.array(<br>    np.random.uniform(<span class="hljs-number">0</span>, <span class="hljs-number">.4</span>, n//<span class="hljs-number">2</span>).tolist() +<br>    np.random.uniform(<span class="hljs-number">.3</span>, <span class="hljs-number">.7</span>, n).tolist() +<br>    np.random.uniform(<span class="hljs-number">.6</span>, <span class="hljs-number">1</span>, n//<span class="hljs-number">2</span>).tolist()<br>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;model 1 accuracy score: <span class="hljs-subst">&#123;accuracy_score(y, y_prob_1&gt;<span class="hljs-number">.5</span>)&#125;</span>&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;model 2 accuracy score: <span class="hljs-subst">&#123;accuracy_score(y, y_prob_2&gt;<span class="hljs-number">.5</span>)&#125;</span>&quot;</span>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;model 1 AUC score: <span class="hljs-subst">&#123;roc_auc_score(y, y_prob_1)&#125;</span>&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;model 2 AUC score: <span class="hljs-subst">&#123;roc_auc_score(y, y_prob_2)&#125;</span>&quot;</span>)<br></code></pre></td></tr></table></figure>



<h3 id="1-ç¬¬ä¸€ä¸ªæ¨¡å‹-1"><a href="#1-ç¬¬ä¸€ä¸ªæ¨¡å‹-1" class="headerlink" title="(1) ç¬¬ä¸€ä¸ªæ¨¡å‹"></a>(1) ç¬¬ä¸€ä¸ªæ¨¡å‹</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># import sys</span><br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-comment"># import matplotlib</span><br><span class="hljs-comment"># matplotlib.use(&quot;Agg&quot;)</span><br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> roc_curve<br><br>n = <span class="hljs-number">10000</span><br>y = np.array([<span class="hljs-number">0</span>] * n + [<span class="hljs-number">1</span>] * n)<br><br>y_prob_1 = np.array(                                         <span class="hljs-comment"># æœ‰ä¸¤ç»„æ¥è‡ªå‡è®¾æ¨¡å‹çš„æ¦‚ç‡</span><br>    np.random.uniform(<span class="hljs-number">.25</span>, <span class="hljs-number">.5</span>, n//<span class="hljs-number">2</span>).tolist()                <span class="hljs-comment"># ç¬¬ä¸€ä¸ªåœ¨é¢„æµ‹ä¸¤ä¸ªç±»åˆ«æ—¶ï¼Œæ¦‚ç‡æ¥è¿‘.5</span><br>    + np.random.uniform(<span class="hljs-number">.3</span>, <span class="hljs-number">.7</span>, n).tolist()                  <span class="hljs-comment"># ç¬¬äºŒä¸ªåœ¨é¢„æµ‹ä¸¤ä¸ªç±»åˆ«æ—¶ï¼Œæ¦‚ç‡æ¥è¿‘0æˆ–1çš„æç«¯å€¼</span><br>    + np.random.uniform(<span class="hljs-number">.5</span>, <span class="hljs-number">.75</span>, n//<span class="hljs-number">2</span>).tolist()<br>)<br>y_prob_2 = np.array(<br>    np.random.uniform(<span class="hljs-number">0</span>, <span class="hljs-number">.4</span>, n // <span class="hljs-number">2</span>).tolist() +<br>    np.random.uniform(<span class="hljs-number">.3</span>, <span class="hljs-number">.7</span>, n).tolist() +<br>    np.random.uniform(<span class="hljs-number">.6</span>, <span class="hljs-number">1</span>, n // <span class="hljs-number">2</span>).tolist()<br>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">plot_roc_curve</span>(<span class="hljs-params">true_y, y_prob</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    plots the roc curve based of the probabilities</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    fpr, tpr, thresholds = roc_curve(true_y, y_prob)<br>    plt.plot(fpr, tpr)<br>    plt.xlabel(<span class="hljs-string">&quot;False Positive Rate&quot;</span>)<br>    plt.ylabel(<span class="hljs-string">&quot;True Positive Rate&quot;</span>)<br>    plt.show()<br><br><br>plot_roc_curve(y, y_prob_1)<br><br><span class="hljs-comment"># Two lines to make our compiler able to draw</span><br><span class="hljs-comment"># plt.savefig(sys.stdout.buffer)</span><br><span class="hljs-comment"># sys.stdout.flush()</span><br></code></pre></td></tr></table></figure>



<h3 id="2-ç¬¬äºŒä¸ªæ¨¡å‹-1"><a href="#2-ç¬¬äºŒä¸ªæ¨¡å‹-1" class="headerlink" title="(2) ç¬¬äºŒä¸ªæ¨¡å‹"></a>(2) ç¬¬äºŒä¸ªæ¨¡å‹</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># import sys</span><br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-comment"># import matplotlib</span><br><span class="hljs-comment"># matplotlib.use(&quot;Agg&quot;)</span><br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> roc_curve<br><br>n = <span class="hljs-number">10000</span><br>y = np.array([<span class="hljs-number">0</span>] * n + [<span class="hljs-number">1</span>] * n)<br><br>y_prob_1 = np.array(                                         <span class="hljs-comment"># æœ‰ä¸¤ç»„æ¥è‡ªå‡è®¾æ¨¡å‹çš„æ¦‚ç‡</span><br>    np.random.uniform(<span class="hljs-number">.25</span>, <span class="hljs-number">.5</span>, n//<span class="hljs-number">2</span>).tolist()                <span class="hljs-comment"># ç¬¬ä¸€ä¸ªåœ¨é¢„æµ‹ä¸¤ä¸ªç±»åˆ«æ—¶ï¼Œæ¦‚ç‡æ¥è¿‘.5</span><br>    + np.random.uniform(<span class="hljs-number">.3</span>, <span class="hljs-number">.7</span>, n).tolist()                  <span class="hljs-comment"># ç¬¬äºŒä¸ªåœ¨é¢„æµ‹ä¸¤ä¸ªç±»åˆ«æ—¶ï¼Œæ¦‚ç‡æ¥è¿‘0æˆ–1çš„æç«¯å€¼</span><br>    + np.random.uniform(<span class="hljs-number">.5</span>, <span class="hljs-number">.75</span>, n//<span class="hljs-number">2</span>).tolist()<br>)<br>y_prob_2 = np.array(<br>    np.random.uniform(<span class="hljs-number">0</span>, <span class="hljs-number">.4</span>, n // <span class="hljs-number">2</span>).tolist() +<br>    np.random.uniform(<span class="hljs-number">.3</span>, <span class="hljs-number">.7</span>, n).tolist() +<br>    np.random.uniform(<span class="hljs-number">.6</span>, <span class="hljs-number">1</span>, n // <span class="hljs-number">2</span>).tolist()<br>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">plot_roc_curve</span>(<span class="hljs-params">true_y, y_prob</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    plots the roc curve based of the probabilities</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    fpr, tpr, thresholds = roc_curve(true_y, y_prob)<br>    plt.plot(fpr, tpr)<br>    <span class="hljs-comment"># plt.xlabel(&quot;False Positive Rate&quot;)</span><br>    <span class="hljs-comment"># plt.ylabel(&quot;True Positive Rate&quot;)</span><br><br><br>fpr, tpr, thresholds = roc_curve(y, y_prob_2)<br>plt.plot(fpr, tpr)<br>plt.xlabel(<span class="hljs-string">&quot;False Positive Rate&quot;</span>)                            <span class="hljs-comment"># å°½ç®¡ä¸¤æ¨¡å‹çš„å‡†ç¡®åº¦ç›¸ä¼¼ï¼Œä½†AUCåˆ†æ•°é«˜çš„æ¨¡å‹æ›´å¯é </span><br>plt.ylabel(<span class="hljs-string">&quot;True Positive Rate&quot;</span>)                             <span class="hljs-comment"># è€ƒè™‘äº†é¢„æµ‹æ¦‚ç‡ï¼Œé¢„æµ‹æœªæ¥æ•°æ®æ—¶æ›´å¯èƒ½æä¾›é«˜å‡†ç¡®æ€§</span><br>plt.show()<br><br><span class="hljs-comment"># Two lines to make our compiler able to draw</span><br><span class="hljs-comment"># plt.savefig(sys.stdout.buffer)</span><br><span class="hljs-comment"># sys.stdout.flush()</span><br></code></pre></td></tr></table></figure>



              
            </div>
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/Python/" class="category-chain-item">Python</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/">#æœºå™¨å­¦ä¹ </a>
      
        <a href="/tags/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/">#äººå·¥æ™ºèƒ½</a>
      
        <a href="/tags/%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83/">#æ¨¡å‹è®­ç»ƒ</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>Python æœºå™¨å­¦ä¹ </div>
      <div>https://stitch-top.github.io/2021/09/04/python/python10-python-ji-qi-xue-xi/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>ä½œè€…</div>
          <div>Dr.626</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>å‘å¸ƒäº</div>
          <div>2021å¹´9æœˆ4æ—¥ 22:56:36</div>
        </div>
      
      
      <div class="license-meta-item">
        <div>è®¸å¯åè®®</div>
        <div>
          
            
            
              <a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">
              <span class="hint--top hint--rounded" aria-label="BY - ç½²å">
                <i class="iconfont icon-by"></i>
              </span>
              </a>
            
              <a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">
              <span class="hint--top hint--rounded" aria-label="NC - éå•†ä¸šæ€§ä½¿ç”¨">
                <i class="iconfont icon-nc"></i>
              </span>
              </a>
            
              <a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">
              <span class="hint--top hint--rounded" aria-label="SA - ç›¸åŒæ–¹å¼å…±äº«">
                <i class="iconfont icon-sa"></i>
              </span>
              </a>
            
          
        </div>
      </div>
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2021/10/07/python/python11-python-mysql/" title="Python MySQL">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Python MySQL</span>
                        <span class="visible-mobile">ä¸Šä¸€ç¯‡</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2021/08/02/python/python09-python-matplotlib/" title="Python Matplotlib">
                        <span class="hidden-mobile">Python Matplotlib</span>
                        <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  <article id="comments">
    
  <div id="valine"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#valine', function() {
      Fluid.utils.createScript('https://cdn.staticfile.org/valine/1.5.1/Valine.min.js', function() {
        var options = Object.assign(
          {"appId":"PDfaLoft9OAolB0AmON5AqUb-gzGzoHsz","appKey":"xq13nodBzh8hOliBusHUKDwj","path":"window.location.pathname","placeholder":"èµ äººç«ç‘°ï¼Œæ‰‹ç•™ä½™é¦™(ï½oï¿£3ï¿£)ï½","avatar":"monsterid","meta":["nick","mail","link"],"requiredFields":["nick","mail"],"pageSize":13,"lang":"zh-CN","highlight":"ture","recordIP":"ture","serverURLs":"","emojiCDN":null,"emojiMaps":null,"enableQQ":"ture"},
          {
            el: "#valine",
            path: window.location.pathname
          }
        )
        new Valine(options);
        Fluid.utils.waitElementVisible('#valine .vcontent', () => {
          var imgSelector = '#valine .vcontent img:not(.vemoji)';
          Fluid.plugins.imageCaption(imgSelector);
          Fluid.plugins.fancyBox(imgSelector);
        })
      });
    });

    // Qmsgè¯„è®ºæ¨é€æœåŠ¡ï¼šQQ2338638343 + é‚®ä»¶zero_021@aliyun.com
    var title2="msg=Stitch's Blogåˆæœ‰æ–°è¯„è®ºå•¦ï¼\n"
    var SCKEY_Qmsg="https://qmsg.zendee.cn/send/ad06ce297bd5d64b5aa08ea55560f7a2"
    var ValineButton=document.getElementsByClassName("vsubmit vbtn")[0];
    function send_valine_Qmsg(){
      var pagename=document.title;
      var wz=pagename.indexOf('|');
      var res=pagename.substring(0, wz);
      var pageurl=document.URL;
      var ptime=new Date();
      var vnick=document.getElementsByClassName("vnick vinput")[0].value;
      var vmail=document.getElementsByClassName("vmail vinput")[0].value;
      var vlink=document.getElementsByClassName("vlink vinput")[0].value;
      var veditor=document.getElementsByClassName("veditor vinput")[0].value;
      // var data="æ˜µç§°ï¼š"+vnick+"\né‚®ç®±ï¼š"+vmail+"\nç½‘ç«™åœ°å€ï¼š"+vlink+"\nå½“å‰é¡µé¢ï¼š"+pagename+"\nè¯„è®ºå†…å®¹ï¼š"+veditor+"\nè·³è½¬é“¾æ¥ï¼š"+pageurl+"\nè¯„è®ºæ—¶é—´"+ptime.toLocaleString();
      var data="è¯„è®ºæ˜µç§°ï¼š"+vnick+"\nå½“å‰é¡µé¢ï¼š"+pagename+"\nè¯„è®ºå†…å®¹ï¼š"+veditor+"\nè¯„è®ºæ—¶é—´ï¼š"+ptime.toLocaleString();
      var httpRequest = new XMLHttpRequest();       // ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºéœ€è¦çš„å¯¹è±¡
      httpRequest.open('POST', SCKEY_Qmsg, true);   // ç¬¬äºŒæ­¥ï¼šæ‰“å¼€è¿æ¥
      httpRequest.setRequestHeader("Content-type","application/x-www-form-urlencoded"); // è®¾ç½®è¯·æ±‚å¤´ æ³¨ï¼špostæ–¹å¼å¿…é¡»è®¾ç½®è¯·æ±‚å¤´ï¼ˆåœ¨å»ºç«‹è¿æ¥åè®¾ç½®è¯·æ±‚å¤´ï¼‰
      httpRequest.send(title2 + data);              // å‘é€è¯·æ±‚ 
    };
    
    document.body.addEventListener('click', function(e) {
      if(e.target.className.indexOf('vsubmit') === -1) {
        return;
      }
      send_valine_Qmsg();
    })

  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


  </article>


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar category-bar" style="margin-left: -1rem">
    





<div class="category-list">
  
  
    
    
    
    <div class="category row nomargin-x">
      <a class="category-item 
          list-group-item category-item-action col-10 col-md-11 col-xm-11" title="Python"
        id="heading-a7f5f35426b927411fc9231b56382173" role="tab" data-toggle="collapse" href="#collapse-a7f5f35426b927411fc9231b56382173"
        aria-expanded="true"
      >
        Python
        <span class="list-group-count">(17)</span>
        <i class="iconfont icon-arrowright"></i>
      </a>
      
      <div class="category-collapse collapse show" id="collapse-a7f5f35426b927411fc9231b56382173"
           role="tabpanel" aria-labelledby="heading-a7f5f35426b927411fc9231b56382173">
        
        
          
  <div class="category-post-list">
    
    
      
      
        <a href="/2021/01/01/python/python01-python-ji-chu-yi/" title="Python åŸºç¡€(ä¸€)"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Python åŸºç¡€(ä¸€)</span>
        </a>
      
    
      
      
        <a href="/2021/01/15/python/python02-python-ji-chu-er/" title="Python åŸºç¡€(äºŒ)"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Python åŸºç¡€(äºŒ)</span>
        </a>
      
    
      
      
        <a href="/2021/02/03/python/python03-python-wen-jian-chu-li/" title="Python æ–‡ä»¶å¤„ç†"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Python æ–‡ä»¶å¤„ç†</span>
        </a>
      
    
      
      
        <a href="/2021/03/01/python/python04-python-numpy-ji-chu/" title="Python NumPy åŸºç¡€"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Python NumPy åŸºç¡€</span>
        </a>
      
    
      
      
        <a href="/2021/04/06/python/python05-python-numpy-sui-ji/" title="Python NumPy éšæœº"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Python NumPy éšæœº</span>
        </a>
      
    
      
      
        <a href="/2021/05/05/python/python06-python-numpy-han-shu/" title="Python NumPy å‡½æ•°"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Python NumPy å‡½æ•°</span>
        </a>
      
    
      
      
        <a href="/2021/06/08/python/python07-python-pandas/" title="Python Pandas"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Python Pandas</span>
        </a>
      
    
      
      
        <a href="/2021/07/09/python/python08-python-scipy/" title="Python SciPy"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Python SciPy</span>
        </a>
      
    
      
      
        <a href="/2021/08/02/python/python09-python-matplotlib/" title="Python Matplotlib"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Python Matplotlib</span>
        </a>
      
    
      
      
        <a href="/2021/09/04/python/python10-python-ji-qi-xue-xi/" title="Python æœºå™¨å­¦ä¹ "
           class="list-group-item list-group-item-action
           active">
          <span class="category-post">Python æœºå™¨å­¦ä¹ </span>
        </a>
      
    
      
      
        <a href="/2021/10/07/python/python11-python-mysql/" title="Python MySQL"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Python MySQL</span>
        </a>
      
    
      
      
        <a href="/2021/11/03/python/python12-python-mongodb/" title="Python MongoDB"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Python MongoDB</span>
        </a>
      
    
      
      
        <a href="/2021/12/10/python/python13-python-flask/" title="Python Flask"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Python Flask</span>
        </a>
      
    
      
      
        <a href="/2025/01/31/python/python14-python-tkinter-yi/" title="Python Tkinter(ä¸€)"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Python Tkinter(ä¸€)</span>
        </a>
      
    
      
      
        <a href="/2025/02/07/python/python15-python-tkinter-er/" title="Python Tkinter(äºŒ)"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Python Tkinter(äºŒ)</span>
        </a>
      
    
      
      
        <a href="/2025/02/13/python/python16-python-tkinter-san/" title="Python Tkinter(ä¸‰)"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Python Tkinter(ä¸‰)</span>
        </a>
      
    
      
      
        <a href="/2025/03/03/python/python17-python-streamlit/" title="Python Streamlit"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Python Streamlit</span>
        </a>
      
    
  </div>

        
      </div>
    </div>
  
</div>


  </aside>


    </div>
  </div>
</div>





  



  



  



  



  






    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">å…³é”®è¯</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a><span>Copyright Â© 2021 - 2025</span></a> <i class="iconfont icon-love"></i> <a href="https://stitch-top.github.io" target="_blank" rel="nofollow noopener"><span>Dr.626</span></a> 
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="leancloud-site-pv-container" style="display: none">
        ğŸ“ˆ æ€»è®¿é—®é‡ 
        <span id="leancloud-site-pv"></span>
         æ¬¡
      </span>
    
    
      <span id="leancloud-site-uv-container" style="display: none">
        ğŸ“Š æ€»è®¿å®¢æ•° 
        <span id="leancloud-site-uv"></span>
         äºº
      </span>
    
    

  
</div>

  
  
  
  
  <!-- æ·»åŠ ç½‘ç«™è¿è¡Œæ—¶é—´ -->
  <div class="footer-content">
    <div>
      <span id="timeDate">è½½å…¥å¤©æ•°...</span>
      <span id="times">è½½å…¥æ—¶åˆ†ç§’...</span>
      <script>
      var now = new Date();
      function createtime(){
          var grt= new Date("01/01/2021 00:00:00");   //æ­¤å¤„ä¿®æ”¹ä½ çš„å»ºç«™æ—¶é—´æˆ–è€…ç½‘ç«™ä¸Šçº¿æ—¶é—´
          now.setTime(now.getTime()+250);
          days = (now - grt ) / 1000 / 60 / 60 / 24;
          dnum = Math.floor(days);
          hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum);
          hnum = Math.floor(hours);
          if(String(hnum).length ==1 ){
              hnum = "0" + hnum;
          }
          minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);
          mnum = Math.floor(minutes);
          if(String(mnum).length ==1 ){
                    mnum = "0" + mnum;
          }
          seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
          snum = Math.round(seconds);
          if(String(snum).length ==1 ){
                    snum = "0" + snum;
          }
          document.getElementById("timeDate").innerHTML = "æœ¬ç«™å·²å®‰å…¨è¿è¡Œ&nbsp"+dnum+"&nbspå¤©";
          document.getElementById("times").innerHTML = hnum + "&nbspå°æ—¶&nbsp" + mnum + "&nbspåˆ†&nbsp" + snum + "&nbspç§’";
      }
      setInterval("createtime()", 250);
      </script>
    </div>
  </div>
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://cdn.staticfile.org/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.staticfile.org/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.staticfile.org/jquery/3.7.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  

  

  

  

  

  

  
    
  




  
    
      <script  src="/js/img-lazyload.js" ></script>
    
  




  
<script>
  Fluid.utils.createScript('https://cdn.staticfile.org/tocbot/4.21.0/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      headingSelector : CONFIG.toc.headingSelector || 'h1,h2,h3,h4,h5,h6',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      collapseDepth   : CONFIG.toc.collapseDepth || 0,
      scrollSmooth    : true,
      headingsOffset  : -boardTop
    });
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }
  });
</script>


  <script>
  (function() {
    var enableLang = CONFIG.code_language.enable && CONFIG.code_language.default;
    var enableCopy = CONFIG.copy_btn;
    if (!enableLang && !enableCopy) {
      return;
    }

    function getBgClass(ele) {
      return Fluid.utils.getBackgroundLightness(ele) >= 0 ? 'code-widget-light' : 'code-widget-dark';
    }

    var copyTmpl = '';
    copyTmpl += '<div class="code-widget">';
    copyTmpl += 'LANG';
    copyTmpl += '</div>';
    jQuery('.markdown-body pre').each(function() {
      var $pre = jQuery(this);
      if ($pre.find('code.mermaid').length > 0) {
        return;
      }
      if ($pre.find('span.line').length > 0) {
        return;
      }

      var lang = '';

      if (enableLang) {
        lang = CONFIG.code_language.default;
        if ($pre[0].children.length > 0 && $pre[0].children[0].classList.length >= 2 && $pre.children().hasClass('hljs')) {
          lang = $pre[0].children[0].classList[1];
        } else if ($pre[0].getAttribute('data-language')) {
          lang = $pre[0].getAttribute('data-language');
        } else if ($pre.parent().hasClass('sourceCode') && $pre[0].children.length > 0 && $pre[0].children[0].classList.length >= 2) {
          lang = $pre[0].children[0].classList[1];
          $pre.parent().addClass('code-wrapper');
        } else if ($pre.parent().hasClass('markdown-body') && $pre[0].classList.length === 0) {
          $pre.wrap('<div class="code-wrapper"></div>');
        }
        lang = lang.toUpperCase().replace('NONE', CONFIG.code_language.default);
      }
      $pre.append(copyTmpl.replace('LANG', lang).replace('code-widget">',
        getBgClass($pre[0]) + (enableCopy ? ' code-widget copy-btn" data-clipboard-snippet><i class="iconfont icon-copy"></i>' : ' code-widget">')));

      if (enableCopy) {
        Fluid.utils.createScript('https://cdn.staticfile.org/clipboard.js/2.0.11/clipboard.min.js', function() {
          var clipboard = new window.ClipboardJS('.copy-btn', {
            target: function(trigger) {
              var nodes = trigger.parentNode.childNodes;
              for (var i = 0; i < nodes.length; i++) {
                if (nodes[i].tagName === 'CODE') {
                  return nodes[i];
                }
              }
            }
          });
          clipboard.on('success', function(e) {
            e.clearSelection();
            e.trigger.innerHTML = e.trigger.innerHTML.replace('icon-copy', 'icon-success');
            setTimeout(function() {
              e.trigger.innerHTML = e.trigger.innerHTML.replace('icon-success', 'icon-copy');
            }, 2000);
          });
        });
      }
    });
  })();
</script>


  
<script>
  Fluid.utils.createScript('https://cdn.staticfile.org/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));
  });
</script>


  
<script>
  Fluid.utils.createScript('https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="/js/leancloud.js" ></script>





<!-- ä¸»é¢˜çš„å¯åŠ¨é¡¹ï¼Œå°†å®ƒä¿æŒåœ¨æœ€åº•éƒ¨ -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">åšå®¢åœ¨å…è®¸ JavaScript è¿è¡Œçš„ç¯å¢ƒä¸‹æµè§ˆæ•ˆæœæ›´ä½³</div>
  </noscript>
</body>
</html>
